var uT=Object.defineProperty;var o0=e=>{throw TypeError(e)};var cT=(e,t,n)=>t in e?uT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var hc=(e,t,n)=>cT(e,typeof t!="symbol"?t+"":t,n),vh=(e,t,n)=>t.has(e)||o0("Cannot "+n);var H=(e,t,n)=>(vh(e,t,"read from private field"),n?n.call(e):t.get(e)),Ke=(e,t,n)=>t.has(e)?o0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ne=(e,t,n,r)=>(vh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),st=(e,t,n)=>(vh(e,t,"access private method"),n);var pc=(e,t,n,r)=>({set _(i){Ne(e,t,i,n)},get _(){return H(e,t,r)}});function dT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var G_={exports:{}},tf={},Q_={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),hT=Symbol.for("react.portal"),pT=Symbol.for("react.fragment"),mT=Symbol.for("react.strict_mode"),gT=Symbol.for("react.profiler"),yT=Symbol.for("react.provider"),vT=Symbol.for("react.context"),wT=Symbol.for("react.forward_ref"),bT=Symbol.for("react.suspense"),_T=Symbol.for("react.memo"),xT=Symbol.for("react.lazy"),a0=Symbol.iterator;function ST(e){return e===null||typeof e!="object"?null:(e=a0&&e[a0]||e["@@iterator"],typeof e=="function"?e:null)}var Y_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J_=Object.assign,Z_={};function Ra(e,t,n){this.props=e,this.context=t,this.refs=Z_,this.updater=n||Y_}Ra.prototype.isReactComponent={};Ra.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ra.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function X_(){}X_.prototype=Ra.prototype;function kg(e,t,n){this.props=e,this.context=t,this.refs=Z_,this.updater=n||Y_}var Eg=kg.prototype=new X_;Eg.constructor=kg;J_(Eg,Ra.prototype);Eg.isPureReactComponent=!0;var l0=Array.isArray,ex=Object.prototype.hasOwnProperty,Cg={current:null},tx={key:!0,ref:!0,__self:!0,__source:!0};function nx(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)ex.call(t,r)&&!tx.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xu,type:e,key:s,ref:o,props:i,_owner:Cg.current}}function kT(e,t){return{$$typeof:xu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tg(e){return typeof e=="object"&&e!==null&&e.$$typeof===xu}function ET(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var u0=/\/+/g;function wh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ET(""+e.key):t.toString(36)}function Wc(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xu:case hT:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+wh(o,0):r,l0(i)?(n="",e!=null&&(n=e.replace(u0,"$&/")+"/"),Wc(i,t,n,"",function(u){return u})):i!=null&&(Tg(i)&&(i=kT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(u0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",l0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+wh(s,a);o+=Wc(s,t,n,l,i)}else if(l=ST(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+wh(s,a++),o+=Wc(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function mc(e,t,n){if(e==null)return e;var r=[],i=0;return Wc(e,r,"","",function(s){return t.call(n,s,i++)}),r}function CT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bn={current:null},Hc={transition:null},TT={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:Cg};function rx(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:mc,forEach:function(e,t,n){mc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mc(e,function(){t++}),t},toArray:function(e){return mc(e,function(t){return t})||[]},only:function(e){if(!Tg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=Ra;rt.Fragment=pT;rt.Profiler=gT;rt.PureComponent=kg;rt.StrictMode=mT;rt.Suspense=bT;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT;rt.act=rx;rt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=J_({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Cg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ex.call(t,l)&&!tx.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xu,type:e.type,key:i,ref:s,props:r,_owner:o}};rt.createContext=function(e){return e={$$typeof:vT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yT,_context:e},e.Consumer=e};rt.createElement=nx;rt.createFactory=function(e){var t=nx.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:wT,render:e}};rt.isValidElement=Tg;rt.lazy=function(e){return{$$typeof:xT,_payload:{_status:-1,_result:e},_init:CT}};rt.memo=function(e,t){return{$$typeof:_T,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=Hc.transition;Hc.transition={};try{e()}finally{Hc.transition=t}};rt.unstable_act=rx;rt.useCallback=function(e,t){return bn.current.useCallback(e,t)};rt.useContext=function(e){return bn.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return bn.current.useDeferredValue(e)};rt.useEffect=function(e,t){return bn.current.useEffect(e,t)};rt.useId=function(){return bn.current.useId()};rt.useImperativeHandle=function(e,t,n){return bn.current.useImperativeHandle(e,t,n)};rt.useInsertionEffect=function(e,t){return bn.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return bn.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return bn.current.useMemo(e,t)};rt.useReducer=function(e,t,n){return bn.current.useReducer(e,t,n)};rt.useRef=function(e){return bn.current.useRef(e)};rt.useState=function(e){return bn.current.useState(e)};rt.useSyncExternalStore=function(e,t,n){return bn.current.useSyncExternalStore(e,t,n)};rt.useTransition=function(){return bn.current.useTransition()};rt.version="18.3.1";Q_.exports=rt;var k=Q_.exports;const We=ef(k),c0=dT({__proto__:null,default:We},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT=k,AT=Symbol.for("react.element"),jT=Symbol.for("react.fragment"),OT=Object.prototype.hasOwnProperty,RT=PT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IT={key:!0,ref:!0,__self:!0,__source:!0};function ix(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)OT.call(t,r)&&!IT.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:AT,type:e,key:s,ref:o,props:i,_owner:RT.current}}tf.Fragment=jT;tf.jsx=ix;tf.jsxs=ix;G_.exports=tf;var E=G_.exports,kp={},sx={exports:{}},Hn={},ox={exports:{}},ax={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,Y){var ce=X.length;X.push(Y);e:for(;0<ce;){var G=ce-1>>>1,Q=X[G];if(0<i(Q,Y))X[G]=Y,X[ce]=Q,ce=G;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var Y=X[0],ce=X.pop();if(ce!==Y){X[0]=ce;e:for(var G=0,Q=X.length,oe=Q>>>1;G<oe;){var pe=2*(G+1)-1,me=X[pe],Me=pe+1,Ve=X[Me];if(0>i(me,ce))Me<Q&&0>i(Ve,me)?(X[G]=Ve,X[Me]=ce,G=Me):(X[G]=me,X[pe]=ce,G=pe);else if(Me<Q&&0>i(Ve,ce))X[G]=Ve,X[Me]=ce,G=Me;else break e}}return Y}function i(X,Y){var ce=X.sortIndex-Y.sortIndex;return ce!==0?ce:X.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,m=!1,w=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(X){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=X)r(u),Y.sortIndex=Y.expirationTime,t(l,Y);else break;Y=n(u)}}function T(X){if(y=!1,_(X),!w)if(n(l)!==null)w=!0,Oe(O);else{var Y=n(u);Y!==null&&M(T,Y.startTime-X)}}function O(X,Y){w=!1,y&&(y=!1,g($),$=-1),m=!0;var ce=h;try{for(_(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||X&&!we());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var Q=G(f.expirationTime<=Y);Y=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),_(Y)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var pe=n(u);pe!==null&&M(T,pe.startTime-Y),oe=!1}return oe}finally{f=null,h=ce,m=!1}}var I=!1,R=null,$=-1,U=5,V=-1;function we(){return!(e.unstable_now()-V<U)}function F(){if(R!==null){var X=e.unstable_now();V=X;var Y=!0;try{Y=R(!0,X)}finally{Y?ee():(I=!1,R=null)}}else I=!1}var ee;if(typeof v=="function")ee=function(){v(F)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,ue=A.port2;A.port1.onmessage=F,ee=function(){ue.postMessage(null)}}else ee=function(){x(F,0)};function Oe(X){R=X,I||(I=!0,ee())}function M(X,Y){$=x(function(){X(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,Oe(O))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(X){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var ce=h;h=Y;try{return X()}finally{h=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,Y){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ce=h;h=X;try{return Y()}finally{h=ce}},e.unstable_scheduleCallback=function(X,Y,ce){var G=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?G+ce:G):ce=G,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ce+Q,X={id:c++,callback:Y,priorityLevel:X,startTime:ce,expirationTime:Q,sortIndex:-1},ce>G?(X.sortIndex=ce,t(u,X),n(l)===null&&X===n(u)&&(y?(g($),$=-1):y=!0,M(T,ce-G))):(X.sortIndex=Q,t(l,X),w||m||(w=!0,Oe(O))),X},e.unstable_shouldYield=we,e.unstable_wrapCallback=function(X){var Y=h;return function(){var ce=h;h=Y;try{return X.apply(this,arguments)}finally{h=ce}}}})(ax);ox.exports=ax;var DT=ox.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT=k,Kn=DT;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lx=new Set,Vl={};function mo(e,t){xa(e,t),xa(e+"Capture",t)}function xa(e,t){for(Vl[e]=t,e=0;e<t.length;e++)lx.add(t[e])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ep=Object.prototype.hasOwnProperty,LT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d0={},f0={};function $T(e){return Ep.call(f0,e)?!0:Ep.call(d0,e)?!1:LT.test(e)?f0[e]=!0:(d0[e]=!0,!1)}function MT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FT(e,t,n,r){if(t===null||typeof t>"u"||MT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _n(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){en[e]=new _n(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];en[t]=new _n(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){en[e]=new _n(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){en[e]=new _n(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){en[e]=new _n(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){en[e]=new _n(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){en[e]=new _n(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){en[e]=new _n(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){en[e]=new _n(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pg=/[\-:]([a-z])/g;function Ag(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pg,Ag);en[t]=new _n(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pg,Ag);en[t]=new _n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pg,Ag);en[t]=new _n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){en[e]=new _n(e,1,!1,e.toLowerCase(),null,!1,!1)});en.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){en[e]=new _n(e,1,!1,e.toLowerCase(),null,!0,!0)});function jg(e,t,n,r){var i=en.hasOwnProperty(t)?en[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FT(t,n,i,r)&&(n=null),r||i===null?$T(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _i=NT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gc=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),ux=Symbol.for("react.provider"),cx=Symbol.for("react.context"),Rg=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Pp=Symbol.for("react.suspense_list"),Ig=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),dx=Symbol.for("react.offscreen"),h0=Symbol.iterator;function Xa(e){return e===null||typeof e!="object"?null:(e=h0&&e[h0]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,bh;function hl(e){if(bh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bh=t&&t[1]||""}return`
`+bh+e}var _h=!1;function xh(e,t){if(!e||_h)return"";_h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{_h=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hl(e):""}function BT(e){switch(e.tag){case 5:return hl(e.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return e=xh(e.type,!1),e;case 11:return e=xh(e.type.render,!1),e;case 1:return e=xh(e.type,!0),e;default:return""}}function Ap(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bo:return"Fragment";case Fo:return"Portal";case Cp:return"Profiler";case Og:return"StrictMode";case Tp:return"Suspense";case Pp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cx:return(e.displayName||"Context")+".Consumer";case ux:return(e._context.displayName||"Context")+".Provider";case Rg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ig:return t=e.displayName||null,t!==null?t:Ap(e.type)||"Memo";case $i:t=e._payload,e=e._init;try{return Ap(e(t))}catch{}}return null}function UT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ap(t);case 8:return t===Og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zT(e){var t=fx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yc(e){e._valueTracker||(e._valueTracker=zT(e))}function hx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jp(e,t){var n=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function p0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function px(e,t){t=t.checked,t!=null&&jg(e,"checked",t,!1)}function Op(e,t){px(e,t);var n=fs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Rp(e,t.type,fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function m0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Rp(e,t,n){(t!=="number"||fd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pl=Array.isArray;function na(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ip(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function g0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Se(92));if(pl(n)){if(1<n.length)throw Error(Se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fs(n)}}function mx(e,t){var n=fs(t.value),r=fs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function y0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vc,yx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vc=vc||document.createElement("div"),vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VT=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(e){VT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sl[t]=Sl[e]})});function vx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sl.hasOwnProperty(e)&&Sl[e]?(""+t).trim():t+"px"}function wx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var KT=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Np(e,t){if(t){if(KT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function Lp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=null;function Dg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mp=null,ra=null,ia=null;function v0(e){if(e=Eu(e)){if(typeof Mp!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=af(t),Mp(e.stateNode,e.type,t))}}function bx(e){ra?ia?ia.push(e):ia=[e]:ra=e}function _x(){if(ra){var e=ra,t=ia;if(ia=ra=null,v0(e),t)for(e=0;e<t.length;e++)v0(t[e])}}function xx(e,t){return e(t)}function Sx(){}var Sh=!1;function kx(e,t,n){if(Sh)return e(t,n);Sh=!0;try{return xx(e,t,n)}finally{Sh=!1,(ra!==null||ia!==null)&&(Sx(),_x())}}function Wl(e,t){var n=e.stateNode;if(n===null)return null;var r=af(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Se(231,t,typeof n));return n}var Fp=!1;if(fi)try{var el={};Object.defineProperty(el,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Fp=!1}function WT(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var kl=!1,hd=null,pd=!1,Bp=null,HT={onError:function(e){kl=!0,hd=e}};function qT(e,t,n,r,i,s,o,a,l){kl=!1,hd=null,WT.apply(HT,arguments)}function GT(e,t,n,r,i,s,o,a,l){if(qT.apply(this,arguments),kl){if(kl){var u=hd;kl=!1,hd=null}else throw Error(Se(198));pd||(pd=!0,Bp=u)}}function go(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ex(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w0(e){if(go(e)!==e)throw Error(Se(188))}function QT(e){var t=e.alternate;if(!t){if(t=go(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return w0(i),e;if(s===r)return w0(i),t;s=s.sibling}throw Error(Se(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Se(189))}}if(n.alternate!==r)throw Error(Se(190))}if(n.tag!==3)throw Error(Se(188));return n.stateNode.current===n?e:t}function Cx(e){return e=QT(e),e!==null?Tx(e):null}function Tx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tx(e);if(t!==null)return t;e=e.sibling}return null}var Px=Kn.unstable_scheduleCallback,b0=Kn.unstable_cancelCallback,YT=Kn.unstable_shouldYield,JT=Kn.unstable_requestPaint,Dt=Kn.unstable_now,ZT=Kn.unstable_getCurrentPriorityLevel,Ng=Kn.unstable_ImmediatePriority,Ax=Kn.unstable_UserBlockingPriority,md=Kn.unstable_NormalPriority,XT=Kn.unstable_LowPriority,jx=Kn.unstable_IdlePriority,nf=null,Kr=null;function eP(e){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(nf,e,void 0,(e.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:rP,tP=Math.log,nP=Math.LN2;function rP(e){return e>>>=0,e===0?32:31-(tP(e)/nP|0)|0}var wc=64,bc=4194304;function ml(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ml(a):(s&=o,s!==0&&(r=ml(s)))}else o=n&~i,o!==0?r=ml(o):s!==0&&(r=ml(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Er(t),i=1<<n,r|=e[n],t&=~i;return r}function iP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Er(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=iP(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Up(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ox(){var e=wc;return wc<<=1,!(wc&4194240)&&(wc=64),e}function kh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Su(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Er(t),e[t]=n}function oP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Er(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Lg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Er(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var dt=0;function Rx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ix,$g,Dx,Nx,Lx,zp=!1,_c=[],ns=null,rs=null,is=null,Hl=new Map,ql=new Map,Fi=[],aP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _0(e,t){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(t.pointerId)}}function tl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Eu(t),t!==null&&$g(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lP(e,t,n,r,i){switch(t){case"focusin":return ns=tl(ns,e,t,n,r,i),!0;case"dragenter":return rs=tl(rs,e,t,n,r,i),!0;case"mouseover":return is=tl(is,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hl.set(s,tl(Hl.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ql.set(s,tl(ql.get(s)||null,e,t,n,r,i)),!0}return!1}function $x(e){var t=Bs(e.target);if(t!==null){var n=go(t);if(n!==null){if(t=n.tag,t===13){if(t=Ex(n),t!==null){e.blockedOn=t,Lx(e.priority,function(){Dx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$p=r,n.target.dispatchEvent(r),$p=null}else return t=Eu(n),t!==null&&$g(t),e.blockedOn=n,!1;t.shift()}return!0}function x0(e,t,n){qc(e)&&n.delete(t)}function uP(){zp=!1,ns!==null&&qc(ns)&&(ns=null),rs!==null&&qc(rs)&&(rs=null),is!==null&&qc(is)&&(is=null),Hl.forEach(x0),ql.forEach(x0)}function nl(e,t){e.blockedOn===t&&(e.blockedOn=null,zp||(zp=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,uP)))}function Gl(e){function t(i){return nl(i,e)}if(0<_c.length){nl(_c[0],e);for(var n=1;n<_c.length;n++){var r=_c[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ns!==null&&nl(ns,e),rs!==null&&nl(rs,e),is!==null&&nl(is,e),Hl.forEach(t),ql.forEach(t),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)$x(n),n.blockedOn===null&&Fi.shift()}var sa=_i.ReactCurrentBatchConfig,yd=!0;function cP(e,t,n,r){var i=dt,s=sa.transition;sa.transition=null;try{dt=1,Mg(e,t,n,r)}finally{dt=i,sa.transition=s}}function dP(e,t,n,r){var i=dt,s=sa.transition;sa.transition=null;try{dt=4,Mg(e,t,n,r)}finally{dt=i,sa.transition=s}}function Mg(e,t,n,r){if(yd){var i=Vp(e,t,n,r);if(i===null)Dh(e,t,r,vd,n),_0(e,r);else if(lP(i,e,t,n,r))r.stopPropagation();else if(_0(e,r),t&4&&-1<aP.indexOf(e)){for(;i!==null;){var s=Eu(i);if(s!==null&&Ix(s),s=Vp(e,t,n,r),s===null&&Dh(e,t,r,vd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dh(e,t,r,null,n)}}var vd=null;function Vp(e,t,n,r){if(vd=null,e=Dg(r),e=Bs(e),e!==null)if(t=go(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ex(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vd=e,null}function Mx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZT()){case Ng:return 1;case Ax:return 4;case md:case XT:return 16;case jx:return 536870912;default:return 16}default:return 16}}var Zi=null,Fg=null,Gc=null;function Fx(){if(Gc)return Gc;var e,t=Fg,n=t.length,r,i="value"in Zi?Zi.value:Zi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Gc=i.slice(e,1<r?1-r:void 0)}function Qc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xc(){return!0}function S0(){return!1}function qn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xc:S0,this.isPropagationStopped=S0,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),t}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bg=qn(Ia),ku=Ct({},Ia,{view:0,detail:0}),fP=qn(ku),Eh,Ch,rl,rf=Ct({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rl&&(rl&&e.type==="mousemove"?(Eh=e.screenX-rl.screenX,Ch=e.screenY-rl.screenY):Ch=Eh=0,rl=e),Eh)},movementY:function(e){return"movementY"in e?e.movementY:Ch}}),k0=qn(rf),hP=Ct({},rf,{dataTransfer:0}),pP=qn(hP),mP=Ct({},ku,{relatedTarget:0}),Th=qn(mP),gP=Ct({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),yP=qn(gP),vP=Ct({},Ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wP=qn(vP),bP=Ct({},Ia,{data:0}),E0=qn(bP),_P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SP[e])?!!t[e]:!1}function Ug(){return kP}var EP=Ct({},ku,{key:function(e){if(e.key){var t=_P[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(e){return e.type==="keypress"?Qc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CP=qn(EP),TP=Ct({},rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C0=qn(TP),PP=Ct({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),AP=qn(PP),jP=Ct({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),OP=qn(jP),RP=Ct({},rf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IP=qn(RP),DP=[9,13,27,32],zg=fi&&"CompositionEvent"in window,El=null;fi&&"documentMode"in document&&(El=document.documentMode);var NP=fi&&"TextEvent"in window&&!El,Bx=fi&&(!zg||El&&8<El&&11>=El),T0=" ",P0=!1;function Ux(e,t){switch(e){case"keyup":return DP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uo=!1;function LP(e,t){switch(e){case"compositionend":return zx(t);case"keypress":return t.which!==32?null:(P0=!0,T0);case"textInput":return e=t.data,e===T0&&P0?null:e;default:return null}}function $P(e,t){if(Uo)return e==="compositionend"||!zg&&Ux(e,t)?(e=Fx(),Gc=Fg=Zi=null,Uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bx&&t.locale!=="ko"?null:t.data;default:return null}}var MP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MP[e.type]:t==="textarea"}function Vx(e,t,n,r){bx(r),t=wd(t,"onChange"),0<t.length&&(n=new Bg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Cl=null,Ql=null;function FP(e){e1(e,0)}function sf(e){var t=Ko(e);if(hx(t))return e}function BP(e,t){if(e==="change")return t}var Kx=!1;if(fi){var Ph;if(fi){var Ah="oninput"in document;if(!Ah){var j0=document.createElement("div");j0.setAttribute("oninput","return;"),Ah=typeof j0.oninput=="function"}Ph=Ah}else Ph=!1;Kx=Ph&&(!document.documentMode||9<document.documentMode)}function O0(){Cl&&(Cl.detachEvent("onpropertychange",Wx),Ql=Cl=null)}function Wx(e){if(e.propertyName==="value"&&sf(Ql)){var t=[];Vx(t,Ql,e,Dg(e)),kx(FP,t)}}function UP(e,t,n){e==="focusin"?(O0(),Cl=t,Ql=n,Cl.attachEvent("onpropertychange",Wx)):e==="focusout"&&O0()}function zP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sf(Ql)}function VP(e,t){if(e==="click")return sf(t)}function KP(e,t){if(e==="input"||e==="change")return sf(t)}function WP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tr=typeof Object.is=="function"?Object.is:WP;function Yl(e,t){if(Tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ep.call(t,i)||!Tr(e[i],t[i]))return!1}return!0}function R0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function I0(e,t){var n=R0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R0(n)}}function Hx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qx(){for(var e=window,t=fd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fd(e.document)}return t}function Vg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HP(e){var t=qx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hx(n.ownerDocument.documentElement,n)){if(r!==null&&Vg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=I0(n,s);var o=I0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qP=fi&&"documentMode"in document&&11>=document.documentMode,zo=null,Kp=null,Tl=null,Wp=!1;function D0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wp||zo==null||zo!==fd(r)||(r=zo,"selectionStart"in r&&Vg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tl&&Yl(Tl,r)||(Tl=r,r=wd(Kp,"onSelect"),0<r.length&&(t=new Bg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zo)))}function Sc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vo={animationend:Sc("Animation","AnimationEnd"),animationiteration:Sc("Animation","AnimationIteration"),animationstart:Sc("Animation","AnimationStart"),transitionend:Sc("Transition","TransitionEnd")},jh={},Gx={};fi&&(Gx=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function of(e){if(jh[e])return jh[e];if(!Vo[e])return e;var t=Vo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gx)return jh[e]=t[n];return e}var Qx=of("animationend"),Yx=of("animationiteration"),Jx=of("animationstart"),Zx=of("transitionend"),Xx=new Map,N0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(e,t){Xx.set(e,t),mo(t,[e])}for(var Oh=0;Oh<N0.length;Oh++){var Rh=N0[Oh],GP=Rh.toLowerCase(),QP=Rh[0].toUpperCase()+Rh.slice(1);gs(GP,"on"+QP)}gs(Qx,"onAnimationEnd");gs(Yx,"onAnimationIteration");gs(Jx,"onAnimationStart");gs("dblclick","onDoubleClick");gs("focusin","onFocus");gs("focusout","onBlur");gs(Zx,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YP=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function L0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,GT(r,t,void 0,e),e.currentTarget=null}function e1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;L0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;L0(i,a,u),s=l}}}if(pd)throw e=Bp,pd=!1,Bp=null,e}function gt(e,t){var n=t[Yp];n===void 0&&(n=t[Yp]=new Set);var r=e+"__bubble";n.has(r)||(t1(t,e,2,!1),n.add(r))}function Ih(e,t,n){var r=0;t&&(r|=4),t1(n,e,r,t)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Jl(e){if(!e[kc]){e[kc]=!0,lx.forEach(function(n){n!=="selectionchange"&&(YP.has(n)||Ih(n,!1,e),Ih(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kc]||(t[kc]=!0,Ih("selectionchange",!1,t))}}function t1(e,t,n,r){switch(Mx(t)){case 1:var i=cP;break;case 4:i=dP;break;default:i=Mg}n=i.bind(null,t,n,e),i=void 0,!Fp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kx(function(){var u=s,c=Dg(n),f=[];e:{var h=Xx.get(e);if(h!==void 0){var m=Bg,w=e;switch(e){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":m=CP;break;case"focusin":w="focus",m=Th;break;case"focusout":w="blur",m=Th;break;case"beforeblur":case"afterblur":m=Th;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=k0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=AP;break;case Qx:case Yx:case Jx:m=yP;break;case Zx:m=OP;break;case"scroll":m=fP;break;case"wheel":m=IP;break;case"copy":case"cut":case"paste":m=wP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=C0}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,_;v!==null;){_=v;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,g!==null&&(T=Wl(v,g),T!=null&&y.push(Zl(v,T,_)))),x)break;v=v.return}0<y.length&&(h=new m(h,w,null,n,c),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==$p&&(w=n.relatedTarget||n.fromElement)&&(Bs(w)||w[hi]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Bs(w):null,w!==null&&(x=go(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(y=k0,T="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=C0,T="onPointerLeave",g="onPointerEnter",v="pointer"),x=m==null?h:Ko(m),_=w==null?h:Ko(w),h=new y(T,v+"leave",m,n,c),h.target=x,h.relatedTarget=_,T=null,Bs(c)===u&&(y=new y(g,v+"enter",w,n,c),y.target=_,y.relatedTarget=x,T=y),x=T,m&&w)t:{for(y=m,g=w,v=0,_=y;_;_=Ao(_))v++;for(_=0,T=g;T;T=Ao(T))_++;for(;0<v-_;)y=Ao(y),v--;for(;0<_-v;)g=Ao(g),_--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Ao(y),g=Ao(g)}y=null}else y=null;m!==null&&$0(f,h,m,y,!1),w!==null&&x!==null&&$0(f,x,w,y,!0)}}e:{if(h=u?Ko(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var O=BP;else if(A0(h))if(Kx)O=KP;else{O=zP;var I=UP}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=VP);if(O&&(O=O(e,u))){Vx(f,O,n,c);break e}I&&I(e,h,u),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Rp(h,"number",h.value)}switch(I=u?Ko(u):window,e){case"focusin":(A0(I)||I.contentEditable==="true")&&(zo=I,Kp=u,Tl=null);break;case"focusout":Tl=Kp=zo=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,D0(f,n,c);break;case"selectionchange":if(qP)break;case"keydown":case"keyup":D0(f,n,c)}var R;if(zg)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Uo?Ux(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Bx&&n.locale!=="ko"&&(Uo||$!=="onCompositionStart"?$==="onCompositionEnd"&&Uo&&(R=Fx()):(Zi=c,Fg="value"in Zi?Zi.value:Zi.textContent,Uo=!0)),I=wd(u,$),0<I.length&&($=new E0($,e,null,n,c),f.push({event:$,listeners:I}),R?$.data=R:(R=zx(n),R!==null&&($.data=R)))),(R=NP?LP(e,n):$P(e,n))&&(u=wd(u,"onBeforeInput"),0<u.length&&(c=new E0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=R))}e1(f,t)})}function Zl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wl(e,n),s!=null&&r.unshift(Zl(e,s,i)),s=Wl(e,t),s!=null&&r.push(Zl(e,s,i))),e=e.return}return r}function Ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $0(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Wl(n,s),l!=null&&o.unshift(Zl(n,l,a))):i||(l=Wl(n,s),l!=null&&o.push(Zl(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var JP=/\r\n?/g,ZP=/\u0000|\uFFFD/g;function M0(e){return(typeof e=="string"?e:""+e).replace(JP,`
`).replace(ZP,"")}function Ec(e,t,n){if(t=M0(t),M0(e)!==t&&n)throw Error(Se(425))}function bd(){}var Hp=null,qp=null;function Gp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qp=typeof setTimeout=="function"?setTimeout:void 0,XP=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(e){return F0.resolve(null).then(e).catch(t2)}:Qp;function t2(e){setTimeout(function(){throw e})}function Nh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Gl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gl(t)}function ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function B0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Da=Math.random().toString(36).slice(2),zr="__reactFiber$"+Da,Xl="__reactProps$"+Da,hi="__reactContainer$"+Da,Yp="__reactEvents$"+Da,n2="__reactListeners$"+Da,r2="__reactHandles$"+Da;function Bs(e){var t=e[zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[zr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=B0(e);e!==null;){if(n=e[zr])return n;e=B0(e)}return t}e=n,n=e.parentNode}return null}function Eu(e){return e=e[zr]||e[hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function af(e){return e[Xl]||null}var Jp=[],Wo=-1;function ys(e){return{current:e}}function yt(e){0>Wo||(e.current=Jp[Wo],Jp[Wo]=null,Wo--)}function mt(e,t){Wo++,Jp[Wo]=e.current,e.current=t}var hs={},dn=ys(hs),Rn=ys(!1),ao=hs;function Sa(e,t){var n=e.type.contextTypes;if(!n)return hs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function In(e){return e=e.childContextTypes,e!=null}function _d(){yt(Rn),yt(dn)}function U0(e,t,n){if(dn.current!==hs)throw Error(Se(168));mt(dn,t),mt(Rn,n)}function n1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Se(108,UT(e)||"Unknown",i));return Ct({},n,r)}function xd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,ao=dn.current,mt(dn,e),mt(Rn,Rn.current),!0}function z0(e,t,n){var r=e.stateNode;if(!r)throw Error(Se(169));n?(e=n1(e,t,ao),r.__reactInternalMemoizedMergedChildContext=e,yt(Rn),yt(dn),mt(dn,e)):yt(Rn),mt(Rn,n)}var ri=null,lf=!1,Lh=!1;function r1(e){ri===null?ri=[e]:ri.push(e)}function i2(e){lf=!0,r1(e)}function vs(){if(!Lh&&ri!==null){Lh=!0;var e=0,t=dt;try{var n=ri;for(dt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ri=null,lf=!1}catch(i){throw ri!==null&&(ri=ri.slice(e+1)),Px(Ng,vs),i}finally{dt=t,Lh=!1}}return null}var Ho=[],qo=0,Sd=null,kd=0,nr=[],rr=0,lo=null,ai=1,li="";function Rs(e,t){Ho[qo++]=kd,Ho[qo++]=Sd,Sd=e,kd=t}function i1(e,t,n){nr[rr++]=ai,nr[rr++]=li,nr[rr++]=lo,lo=e;var r=ai;e=li;var i=32-Er(r)-1;r&=~(1<<i),n+=1;var s=32-Er(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ai=1<<32-Er(t)+i|n<<i|r,li=s+e}else ai=1<<s|n<<i|r,li=e}function Kg(e){e.return!==null&&(Rs(e,1),i1(e,1,0))}function Wg(e){for(;e===Sd;)Sd=Ho[--qo],Ho[qo]=null,kd=Ho[--qo],Ho[qo]=null;for(;e===lo;)lo=nr[--rr],nr[rr]=null,li=nr[--rr],nr[rr]=null,ai=nr[--rr],nr[rr]=null}var Vn=null,zn=null,wt=!1,Sr=null;function s1(e,t){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function V0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vn=e,zn=ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vn=e,zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lo!==null?{id:ai,overflow:li}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vn=e,zn=null,!0):!1;default:return!1}}function Zp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xp(e){if(wt){var t=zn;if(t){var n=t;if(!V0(e,t)){if(Zp(e))throw Error(Se(418));t=ss(n.nextSibling);var r=Vn;t&&V0(e,t)?s1(r,n):(e.flags=e.flags&-4097|2,wt=!1,Vn=e)}}else{if(Zp(e))throw Error(Se(418));e.flags=e.flags&-4097|2,wt=!1,Vn=e}}}function K0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vn=e}function Cc(e){if(e!==Vn)return!1;if(!wt)return K0(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gp(e.type,e.memoizedProps)),t&&(t=zn)){if(Zp(e))throw o1(),Error(Se(418));for(;t;)s1(e,t),t=ss(t.nextSibling)}if(K0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){zn=ss(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}zn=null}}else zn=Vn?ss(e.stateNode.nextSibling):null;return!0}function o1(){for(var e=zn;e;)e=ss(e.nextSibling)}function ka(){zn=Vn=null,wt=!1}function Hg(e){Sr===null?Sr=[e]:Sr.push(e)}var s2=_i.ReactCurrentBatchConfig;function il(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Se(309));var r=n.stateNode}if(!r)throw Error(Se(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Se(284));if(!n._owner)throw Error(Se(290,e))}return e}function Tc(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function W0(e){var t=e._init;return t(e._payload)}function a1(e){function t(g,v){if(e){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=us(g,v),g.index=0,g.sibling=null,g}function s(g,v,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,T){return v===null||v.tag!==6?(v=Vh(_,g.mode,T),v.return=g,v):(v=i(v,_),v.return=g,v)}function l(g,v,_,T){var O=_.type;return O===Bo?c(g,v,_.props.children,T,_.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$i&&W0(O)===v.type)?(T=i(v,_.props),T.ref=il(g,v,_),T.return=g,T):(T=nd(_.type,_.key,_.props,null,g.mode,T),T.ref=il(g,v,_),T.return=g,T)}function u(g,v,_,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Kh(_,g.mode,T),v.return=g,v):(v=i(v,_.children||[]),v.return=g,v)}function c(g,v,_,T,O){return v===null||v.tag!==7?(v=io(_,g.mode,T,O),v.return=g,v):(v=i(v,_),v.return=g,v)}function f(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Vh(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gc:return _=nd(v.type,v.key,v.props,null,g.mode,_),_.ref=il(g,null,v),_.return=g,_;case Fo:return v=Kh(v,g.mode,_),v.return=g,v;case $i:var T=v._init;return f(g,T(v._payload),_)}if(pl(v)||Xa(v))return v=io(v,g.mode,_,null),v.return=g,v;Tc(g,v)}return null}function h(g,v,_,T){var O=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(g,v,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gc:return _.key===O?l(g,v,_,T):null;case Fo:return _.key===O?u(g,v,_,T):null;case $i:return O=_._init,h(g,v,O(_._payload),T)}if(pl(_)||Xa(_))return O!==null?null:c(g,v,_,T,null);Tc(g,_)}return null}function m(g,v,_,T,O){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(_)||null,a(v,g,""+T,O);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case gc:return g=g.get(T.key===null?_:T.key)||null,l(v,g,T,O);case Fo:return g=g.get(T.key===null?_:T.key)||null,u(v,g,T,O);case $i:var I=T._init;return m(g,v,_,I(T._payload),O)}if(pl(T)||Xa(T))return g=g.get(_)||null,c(v,g,T,O,null);Tc(v,T)}return null}function w(g,v,_,T){for(var O=null,I=null,R=v,$=v=0,U=null;R!==null&&$<_.length;$++){R.index>$?(U=R,R=null):U=R.sibling;var V=h(g,R,_[$],T);if(V===null){R===null&&(R=U);break}e&&R&&V.alternate===null&&t(g,R),v=s(V,v,$),I===null?O=V:I.sibling=V,I=V,R=U}if($===_.length)return n(g,R),wt&&Rs(g,$),O;if(R===null){for(;$<_.length;$++)R=f(g,_[$],T),R!==null&&(v=s(R,v,$),I===null?O=R:I.sibling=R,I=R);return wt&&Rs(g,$),O}for(R=r(g,R);$<_.length;$++)U=m(R,g,$,_[$],T),U!==null&&(e&&U.alternate!==null&&R.delete(U.key===null?$:U.key),v=s(U,v,$),I===null?O=U:I.sibling=U,I=U);return e&&R.forEach(function(we){return t(g,we)}),wt&&Rs(g,$),O}function y(g,v,_,T){var O=Xa(_);if(typeof O!="function")throw Error(Se(150));if(_=O.call(_),_==null)throw Error(Se(151));for(var I=O=null,R=v,$=v=0,U=null,V=_.next();R!==null&&!V.done;$++,V=_.next()){R.index>$?(U=R,R=null):U=R.sibling;var we=h(g,R,V.value,T);if(we===null){R===null&&(R=U);break}e&&R&&we.alternate===null&&t(g,R),v=s(we,v,$),I===null?O=we:I.sibling=we,I=we,R=U}if(V.done)return n(g,R),wt&&Rs(g,$),O;if(R===null){for(;!V.done;$++,V=_.next())V=f(g,V.value,T),V!==null&&(v=s(V,v,$),I===null?O=V:I.sibling=V,I=V);return wt&&Rs(g,$),O}for(R=r(g,R);!V.done;$++,V=_.next())V=m(R,g,$,V.value,T),V!==null&&(e&&V.alternate!==null&&R.delete(V.key===null?$:V.key),v=s(V,v,$),I===null?O=V:I.sibling=V,I=V);return e&&R.forEach(function(F){return t(g,F)}),wt&&Rs(g,$),O}function x(g,v,_,T){if(typeof _=="object"&&_!==null&&_.type===Bo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case gc:e:{for(var O=_.key,I=v;I!==null;){if(I.key===O){if(O=_.type,O===Bo){if(I.tag===7){n(g,I.sibling),v=i(I,_.props.children),v.return=g,g=v;break e}}else if(I.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$i&&W0(O)===I.type){n(g,I.sibling),v=i(I,_.props),v.ref=il(g,I,_),v.return=g,g=v;break e}n(g,I);break}else t(g,I);I=I.sibling}_.type===Bo?(v=io(_.props.children,g.mode,T,_.key),v.return=g,g=v):(T=nd(_.type,_.key,_.props,null,g.mode,T),T.ref=il(g,v,_),T.return=g,g=T)}return o(g);case Fo:e:{for(I=_.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(g,v.sibling),v=i(v,_.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=Kh(_,g.mode,T),v.return=g,g=v}return o(g);case $i:return I=_._init,x(g,v,I(_._payload),T)}if(pl(_))return w(g,v,_,T);if(Xa(_))return y(g,v,_,T);Tc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,_),v.return=g,g=v):(n(g,v),v=Vh(_,g.mode,T),v.return=g,g=v),o(g)):n(g,v)}return x}var Ea=a1(!0),l1=a1(!1),Ed=ys(null),Cd=null,Go=null,qg=null;function Gg(){qg=Go=Cd=null}function Qg(e){var t=Ed.current;yt(Ed),e._currentValue=t}function em(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oa(e,t){Cd=e,qg=Go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jn=!0),e.firstContext=null)}function ur(e){var t=e._currentValue;if(qg!==e)if(e={context:e,memoizedValue:t,next:null},Go===null){if(Cd===null)throw Error(Se(308));Go=e,Cd.dependencies={lanes:0,firstContext:e}}else Go=Go.next=e;return t}var Us=null;function Yg(e){Us===null?Us=[e]:Us.push(e)}function u1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Yg(t)):(n.next=i.next,i.next=n),t.interleaved=n,pi(e,r)}function pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mi=!1;function Jg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function os(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pi(e,n)}return i=r.interleaved,i===null?(t.next=t,Yg(r)):(t.next=i.next,i.next=t),r.interleaved=t,pi(e,n)}function Yc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lg(e,n)}}function H0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Td(e,t,n,r){var i=e.updateQueue;Mi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(h=t,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(m,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(m,f,h):w,h==null)break e;f=Ct({},f,h);break e;case 2:Mi=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);co|=o,e.lanes=o,e.memoizedState=f}}function q0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Se(191,i));i.call(r)}}}var Cu={},Wr=ys(Cu),eu=ys(Cu),tu=ys(Cu);function zs(e){if(e===Cu)throw Error(Se(174));return e}function Zg(e,t){switch(mt(tu,t),mt(eu,e),mt(Wr,Cu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dp(t,e)}yt(Wr),mt(Wr,t)}function Ca(){yt(Wr),yt(eu),yt(tu)}function d1(e){zs(tu.current);var t=zs(Wr.current),n=Dp(t,e.type);t!==n&&(mt(eu,e),mt(Wr,n))}function Xg(e){eu.current===e&&(yt(Wr),yt(eu))}var xt=ys(0);function Pd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $h=[];function ey(){for(var e=0;e<$h.length;e++)$h[e]._workInProgressVersionPrimary=null;$h.length=0}var Jc=_i.ReactCurrentDispatcher,Mh=_i.ReactCurrentBatchConfig,uo=0,Et=null,Ut=null,qt=null,Ad=!1,Pl=!1,nu=0,o2=0;function sn(){throw Error(Se(321))}function ty(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tr(e[n],t[n]))return!1;return!0}function ny(e,t,n,r,i,s){if(uo=s,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jc.current=e===null||e.memoizedState===null?c2:d2,e=n(r,i),Pl){s=0;do{if(Pl=!1,nu=0,25<=s)throw Error(Se(301));s+=1,qt=Ut=null,t.updateQueue=null,Jc.current=f2,e=n(r,i)}while(Pl)}if(Jc.current=jd,t=Ut!==null&&Ut.next!==null,uo=0,qt=Ut=Et=null,Ad=!1,t)throw Error(Se(300));return e}function ry(){var e=nu!==0;return nu=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Et.memoizedState=qt=e:qt=qt.next=e,qt}function cr(){if(Ut===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var t=qt===null?Et.memoizedState:qt.next;if(t!==null)qt=t,Ut=e;else{if(e===null)throw Error(Se(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},qt===null?Et.memoizedState=qt=e:qt=qt.next=e}return qt}function ru(e,t){return typeof t=="function"?t(e):t}function Fh(e){var t=cr(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var r=Ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((uo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Et.lanes|=c,co|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Tr(r,t.memoizedState)||(jn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Et.lanes|=s,co|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bh(e){var t=cr(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Tr(s,t.memoizedState)||(jn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function f1(){}function h1(e,t){var n=Et,r=cr(),i=t(),s=!Tr(r.memoizedState,i);if(s&&(r.memoizedState=i,jn=!0),r=r.queue,iy(g1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,iu(9,m1.bind(null,n,r,i,t),void 0,null),Qt===null)throw Error(Se(349));uo&30||p1(n,t,i)}return i}function p1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function m1(e,t,n,r){t.value=n,t.getSnapshot=r,y1(t)&&v1(e)}function g1(e,t,n){return n(function(){y1(t)&&v1(e)})}function y1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tr(e,n)}catch{return!0}}function v1(e){var t=pi(e,1);t!==null&&Cr(t,e,1,-1)}function G0(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:e},t.queue=e,e=e.dispatch=u2.bind(null,Et,e),[t.memoizedState,e]}function iu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function w1(){return cr().memoizedState}function Zc(e,t,n,r){var i=$r();Et.flags|=e,i.memoizedState=iu(1|t,n,void 0,r===void 0?null:r)}function uf(e,t,n,r){var i=cr();r=r===void 0?null:r;var s=void 0;if(Ut!==null){var o=Ut.memoizedState;if(s=o.destroy,r!==null&&ty(r,o.deps)){i.memoizedState=iu(t,n,s,r);return}}Et.flags|=e,i.memoizedState=iu(1|t,n,s,r)}function Q0(e,t){return Zc(8390656,8,e,t)}function iy(e,t){return uf(2048,8,e,t)}function b1(e,t){return uf(4,2,e,t)}function _1(e,t){return uf(4,4,e,t)}function x1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function S1(e,t,n){return n=n!=null?n.concat([e]):null,uf(4,4,x1.bind(null,t,e),n)}function sy(){}function k1(e,t){var n=cr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ty(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function E1(e,t){var n=cr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ty(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function C1(e,t,n){return uo&21?(Tr(n,t)||(n=Ox(),Et.lanes|=n,co|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jn=!0),e.memoizedState=n)}function a2(e,t){var n=dt;dt=n!==0&&4>n?n:4,e(!0);var r=Mh.transition;Mh.transition={};try{e(!1),t()}finally{dt=n,Mh.transition=r}}function T1(){return cr().memoizedState}function l2(e,t,n){var r=ls(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P1(e))A1(t,n);else if(n=u1(e,t,n,r),n!==null){var i=wn();Cr(n,e,r,i),j1(n,t,r)}}function u2(e,t,n){var r=ls(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P1(e))A1(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Tr(a,o)){var l=t.interleaved;l===null?(i.next=i,Yg(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=u1(e,t,i,r),n!==null&&(i=wn(),Cr(n,e,r,i),j1(n,t,r))}}function P1(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function A1(e,t){Pl=Ad=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function j1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lg(e,n)}}var jd={readContext:ur,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},c2={readContext:ur,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:ur,useEffect:Q0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zc(4194308,4,x1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zc(4,2,e,t)},useMemo:function(e,t){var n=$r();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$r();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=l2.bind(null,Et,e),[r.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:G0,useDebugValue:sy,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=G0(!1),t=e[0];return e=a2.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Et,i=$r();if(wt){if(n===void 0)throw Error(Se(407));n=n()}else{if(n=t(),Qt===null)throw Error(Se(349));uo&30||p1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Q0(g1.bind(null,r,s,e),[e]),r.flags|=2048,iu(9,m1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=$r(),t=Qt.identifierPrefix;if(wt){var n=li,r=ai;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=nu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=o2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d2={readContext:ur,useCallback:k1,useContext:ur,useEffect:iy,useImperativeHandle:S1,useInsertionEffect:b1,useLayoutEffect:_1,useMemo:E1,useReducer:Fh,useRef:w1,useState:function(){return Fh(ru)},useDebugValue:sy,useDeferredValue:function(e){var t=cr();return C1(t,Ut.memoizedState,e)},useTransition:function(){var e=Fh(ru)[0],t=cr().memoizedState;return[e,t]},useMutableSource:f1,useSyncExternalStore:h1,useId:T1,unstable_isNewReconciler:!1},f2={readContext:ur,useCallback:k1,useContext:ur,useEffect:iy,useImperativeHandle:S1,useInsertionEffect:b1,useLayoutEffect:_1,useMemo:E1,useReducer:Bh,useRef:w1,useState:function(){return Bh(ru)},useDebugValue:sy,useDeferredValue:function(e){var t=cr();return Ut===null?t.memoizedState=e:C1(t,Ut.memoizedState,e)},useTransition:function(){var e=Bh(ru)[0],t=cr().memoizedState;return[e,t]},useMutableSource:f1,useSyncExternalStore:h1,useId:T1,unstable_isNewReconciler:!1};function vr(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function tm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cf={isMounted:function(e){return(e=e._reactInternals)?go(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wn(),i=ls(e),s=ui(r,i);s.payload=t,n!=null&&(s.callback=n),t=os(e,s,i),t!==null&&(Cr(t,e,i,r),Yc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wn(),i=ls(e),s=ui(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=os(e,s,i),t!==null&&(Cr(t,e,i,r),Yc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wn(),r=ls(e),i=ui(n,r);i.tag=2,t!=null&&(i.callback=t),t=os(e,i,r),t!==null&&(Cr(t,e,r,n),Yc(t,e,r))}};function Y0(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Yl(n,r)||!Yl(i,s):!0}function O1(e,t,n){var r=!1,i=hs,s=t.contextType;return typeof s=="object"&&s!==null?s=ur(s):(i=In(t)?ao:dn.current,r=t.contextTypes,s=(r=r!=null)?Sa(e,i):hs),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function J0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cf.enqueueReplaceState(t,t.state,null)}function nm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Jg(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ur(s):(s=In(t)?ao:dn.current,i.context=Sa(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(tm(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cf.enqueueReplaceState(i,i.state,null),Td(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ta(e,t){try{var n="",r=t;do n+=BT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Uh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var h2=typeof WeakMap=="function"?WeakMap:Map;function R1(e,t,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rd||(Rd=!0,hm=r),rm(e,t)},n}function I1(e,t,n){n=ui(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rm(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rm(e,t),typeof r!="function"&&(as===null?as=new Set([this]):as.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Z0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new h2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=T2.bind(null,e,t,n),t.then(e,e))}function X0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ew(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ui(-1,1),t.tag=2,os(n,t,1))),n.lanes|=1),e)}var p2=_i.ReactCurrentOwner,jn=!1;function yn(e,t,n,r){t.child=e===null?l1(t,null,n,r):Ea(t,e.child,n,r)}function tw(e,t,n,r,i){n=n.render;var s=t.ref;return oa(t,i),r=ny(e,t,n,r,s,i),n=ry(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(wt&&n&&Kg(t),t.flags|=1,yn(e,t,r,i),t.child)}function nw(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!hy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,D1(e,t,s,r,i)):(e=nd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Yl,n(o,r)&&e.ref===t.ref)return mi(e,t,i)}return t.flags|=1,e=us(s,r),e.ref=t.ref,e.return=t,t.child=e}function D1(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Yl(s,r)&&e.ref===t.ref)if(jn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(jn=!0);else return t.lanes=e.lanes,mi(e,t,i)}return im(e,t,n,r,i)}function N1(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Yo,Bn),Bn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mt(Yo,Bn),Bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,mt(Yo,Bn),Bn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,mt(Yo,Bn),Bn|=r;return yn(e,t,i,n),t.child}function L1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function im(e,t,n,r,i){var s=In(n)?ao:dn.current;return s=Sa(t,s),oa(t,i),n=ny(e,t,n,r,s,i),r=ry(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(wt&&r&&Kg(t),t.flags|=1,yn(e,t,n,i),t.child)}function rw(e,t,n,r,i){if(In(n)){var s=!0;xd(t)}else s=!1;if(oa(t,i),t.stateNode===null)Xc(e,t),O1(t,n,r),nm(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ur(u):(u=In(n)?ao:dn.current,u=Sa(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&J0(t,o,r,u),Mi=!1;var h=t.memoizedState;o.state=h,Td(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Rn.current||Mi?(typeof c=="function"&&(tm(t,n,c,r),l=t.memoizedState),(a=Mi||Y0(t,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,c1(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:vr(t.type,a),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=In(n)?ao:dn.current,l=Sa(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&J0(t,o,r,l),Mi=!1,h=t.memoizedState,o.state=h,Td(t,r,o,i);var w=t.memoizedState;a!==f||h!==w||Rn.current||Mi?(typeof m=="function"&&(tm(t,n,m,r),w=t.memoizedState),(u=Mi||Y0(t,n,u,r,h,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return sm(e,t,n,r,s,i)}function sm(e,t,n,r,i,s){L1(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&z0(t,n,!1),mi(e,t,s);r=t.stateNode,p2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ea(t,e.child,null,s),t.child=Ea(t,null,a,s)):yn(e,t,a,s),t.memoizedState=r.state,i&&z0(t,n,!0),t.child}function $1(e){var t=e.stateNode;t.pendingContext?U0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&U0(e,t.context,!1),Zg(e,t.containerInfo)}function iw(e,t,n,r,i){return ka(),Hg(i),t.flags|=256,yn(e,t,n,r),t.child}var om={dehydrated:null,treeContext:null,retryLane:0};function am(e){return{baseLanes:e,cachePool:null,transitions:null}}function M1(e,t,n){var r=t.pendingProps,i=xt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),mt(xt,i&1),e===null)return Xp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hf(o,r,0,null),e=io(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=am(n),t.memoizedState=om,e):oy(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return m2(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=us(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=us(a,s):(s=io(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?am(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=om,r}return s=e.child,e=s.sibling,r=us(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function oy(e,t){return t=hf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pc(e,t,n,r){return r!==null&&Hg(r),Ea(t,e.child,null,n),e=oy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m2(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Uh(Error(Se(422))),Pc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=hf({mode:"visible",children:r.children},i,0,null),s=io(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ea(t,e.child,null,o),t.child.memoizedState=am(o),t.memoizedState=om,s);if(!(t.mode&1))return Pc(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Se(419)),r=Uh(s,r,void 0),Pc(e,t,o,r)}if(a=(o&e.childLanes)!==0,jn||a){if(r=Qt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pi(e,i),Cr(r,e,i,-1))}return fy(),r=Uh(Error(Se(421))),Pc(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=P2.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,zn=ss(i.nextSibling),Vn=t,wt=!0,Sr=null,e!==null&&(nr[rr++]=ai,nr[rr++]=li,nr[rr++]=lo,ai=e.id,li=e.overflow,lo=t),t=oy(t,r.children),t.flags|=4096,t)}function sw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),em(e.return,t,n)}function zh(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function F1(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(yn(e,t,r.children,n),r=xt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sw(e,n,t);else if(e.tag===19)sw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mt(xt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Pd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zh(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Pd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zh(t,!0,n,null,s);break;case"together":zh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),co|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,n=us(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=us(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function g2(e,t,n){switch(t.tag){case 3:$1(t),ka();break;case 5:d1(t);break;case 1:In(t.type)&&xd(t);break;case 4:Zg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;mt(Ed,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mt(xt,xt.current&1),t.flags|=128,null):n&t.child.childLanes?M1(e,t,n):(mt(xt,xt.current&1),e=mi(e,t,n),e!==null?e.sibling:null);mt(xt,xt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return F1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mt(xt,xt.current),r)break;return null;case 22:case 23:return t.lanes=0,N1(e,t,n)}return mi(e,t,n)}var B1,lm,U1,z1;B1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lm=function(){};U1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,zs(Wr.current);var s=null;switch(n){case"input":i=jp(e,i),r=jp(e,r),s=[];break;case"select":i=Ct({},i,{value:void 0}),r=Ct({},r,{value:void 0}),s=[];break;case"textarea":i=Ip(e,i),r=Ip(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bd)}Np(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};z1=function(e,t,n,r){n!==r&&(t.flags|=4)};function sl(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function on(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function y2(e,t,n){var r=t.pendingProps;switch(Wg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(t),null;case 1:return In(t.type)&&_d(),on(t),null;case 3:return r=t.stateNode,Ca(),yt(Rn),yt(dn),ey(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sr!==null&&(gm(Sr),Sr=null))),lm(e,t),on(t),null;case 5:Xg(t);var i=zs(tu.current);if(n=t.type,e!==null&&t.stateNode!=null)U1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Se(166));return on(t),null}if(e=zs(Wr.current),Cc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[zr]=t,r[Xl]=s,e=(t.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<gl.length;i++)gt(gl[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":p0(r,s),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gt("invalid",r);break;case"textarea":g0(r,s),gt("invalid",r)}Np(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,e),i=["children",""+a]):Vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gt("scroll",r)}switch(n){case"input":yc(r),m0(r,s,!0);break;case"textarea":yc(r),y0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[zr]=t,e[Xl]=r,B1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lp(n,r),n){case"dialog":gt("cancel",e),gt("close",e),i=r;break;case"iframe":case"object":case"embed":gt("load",e),i=r;break;case"video":case"audio":for(i=0;i<gl.length;i++)gt(gl[i],e);i=r;break;case"source":gt("error",e),i=r;break;case"img":case"image":case"link":gt("error",e),gt("load",e),i=r;break;case"details":gt("toggle",e),i=r;break;case"input":p0(e,r),i=jp(e,r),gt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ct({},r,{value:void 0}),gt("invalid",e);break;case"textarea":g0(e,r),i=Ip(e,r),gt("invalid",e);break;default:i=r}Np(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?wx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yx(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kl(e,l):typeof l=="number"&&Kl(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gt("scroll",e):l!=null&&jg(e,s,l,o))}switch(n){case"input":yc(e),m0(e,r,!1);break;case"textarea":yc(e),y0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fs(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?na(e,!!r.multiple,s,!1):r.defaultValue!=null&&na(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return on(t),null;case 6:if(e&&t.stateNode!=null)z1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Se(166));if(n=zs(tu.current),zs(Wr.current),Cc(t)){if(r=t.stateNode,n=t.memoizedProps,r[zr]=t,(s=r.nodeValue!==n)&&(e=Vn,e!==null))switch(e.tag){case 3:Ec(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ec(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=t,t.stateNode=r}return on(t),null;case 13:if(yt(xt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&zn!==null&&t.mode&1&&!(t.flags&128))o1(),ka(),t.flags|=98560,s=!1;else if(s=Cc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Se(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Se(317));s[zr]=t}else ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;on(t),s=!1}else Sr!==null&&(gm(Sr),Sr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xt.current&1?Vt===0&&(Vt=3):fy())),t.updateQueue!==null&&(t.flags|=4),on(t),null);case 4:return Ca(),lm(e,t),e===null&&Jl(t.stateNode.containerInfo),on(t),null;case 10:return Qg(t.type._context),on(t),null;case 17:return In(t.type)&&_d(),on(t),null;case 19:if(yt(xt),s=t.memoizedState,s===null)return on(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)sl(s,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Pd(e),o!==null){for(t.flags|=128,sl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mt(xt,xt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Dt()>Pa&&(t.flags|=128,r=!0,sl(s,!1),t.lanes=4194304)}else{if(!r)if(e=Pd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wt)return on(t),null}else 2*Dt()-s.renderingStartTime>Pa&&n!==1073741824&&(t.flags|=128,r=!0,sl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Dt(),t.sibling=null,n=xt.current,mt(xt,r?n&1|2:n&1),t):(on(t),null);case 22:case 23:return dy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Bn&1073741824&&(on(t),t.subtreeFlags&6&&(t.flags|=8192)):on(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function v2(e,t){switch(Wg(t),t.tag){case 1:return In(t.type)&&_d(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ca(),yt(Rn),yt(dn),ey(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xg(t),null;case 13:if(yt(xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yt(xt),null;case 4:return Ca(),null;case 10:return Qg(t.type._context),null;case 22:case 23:return dy(),null;case 24:return null;default:return null}}var Ac=!1,an=!1,w2=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Qo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(e,t,r)}else n.current=null}function um(e,t,n){try{n()}catch(r){At(e,t,r)}}var ow=!1;function b2(e,t){if(Hp=yd,e=qx(),Vg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qp={focusedElem:e,selectionRange:n},yd=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,x=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:vr(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(T){At(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return w=ow,ow=!1,w}function Al(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&um(t,n,s)}i=i.next}while(i!==r)}}function df(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function V1(e){var t=e.alternate;t!==null&&(e.alternate=null,V1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zr],delete t[Xl],delete t[Yp],delete t[n2],delete t[r2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function K1(e){return e.tag===5||e.tag===3||e.tag===4}function aw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||K1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bd));else if(r!==4&&(e=e.child,e!==null))for(dm(e,t,n),e=e.sibling;e!==null;)dm(e,t,n),e=e.sibling}function fm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fm(e,t,n),e=e.sibling;e!==null;)fm(e,t,n),e=e.sibling}var Yt=null,_r=!1;function ji(e,t,n){for(n=n.child;n!==null;)W1(e,t,n),n=n.sibling}function W1(e,t,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(nf,n)}catch{}switch(n.tag){case 5:an||Qo(n,t);case 6:var r=Yt,i=_r;Yt=null,ji(e,t,n),Yt=r,_r=i,Yt!==null&&(_r?(e=Yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(_r?(e=Yt,n=n.stateNode,e.nodeType===8?Nh(e.parentNode,n):e.nodeType===1&&Nh(e,n),Gl(e)):Nh(Yt,n.stateNode));break;case 4:r=Yt,i=_r,Yt=n.stateNode.containerInfo,_r=!0,ji(e,t,n),Yt=r,_r=i;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&um(n,t,o),i=i.next}while(i!==r)}ji(e,t,n);break;case 1:if(!an&&(Qo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,t,a)}ji(e,t,n);break;case 21:ji(e,t,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,ji(e,t,n),an=r):ji(e,t,n);break;default:ji(e,t,n)}}function lw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w2),t.forEach(function(r){var i=A2.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,_r=!1;break e;case 3:Yt=a.stateNode.containerInfo,_r=!0;break e;case 4:Yt=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if(Yt===null)throw Error(Se(160));W1(s,o,i),Yt=null,_r=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){At(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)H1(t,e),t=t.sibling}function H1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pr(t,e),Nr(e),r&4){try{Al(3,e,e.return),df(3,e)}catch(y){At(e,e.return,y)}try{Al(5,e,e.return)}catch(y){At(e,e.return,y)}}break;case 1:pr(t,e),Nr(e),r&512&&n!==null&&Qo(n,n.return);break;case 5:if(pr(t,e),Nr(e),r&512&&n!==null&&Qo(n,n.return),e.flags&32){var i=e.stateNode;try{Kl(i,"")}catch(y){At(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&px(i,s),Lp(a,o);var u=Lp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?wx(i,f):c==="dangerouslySetInnerHTML"?yx(i,f):c==="children"?Kl(i,f):jg(i,c,f,u)}switch(a){case"input":Op(i,s);break;case"textarea":mx(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?na(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?na(i,!!s.multiple,s.defaultValue,!0):na(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xl]=s}catch(y){At(e,e.return,y)}}break;case 6:if(pr(t,e),Nr(e),r&4){if(e.stateNode===null)throw Error(Se(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){At(e,e.return,y)}}break;case 3:if(pr(t,e),Nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gl(t.containerInfo)}catch(y){At(e,e.return,y)}break;case 4:pr(t,e),Nr(e);break;case 13:pr(t,e),Nr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uy=Dt())),r&4&&lw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(an=(u=an)||c,pr(t,e),an=u):pr(t,e),Nr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for($e=e,c=e.child;c!==null;){for(f=$e=c;$e!==null;){switch(h=$e,m=h.child,h.tag){case 0:case 11:case 14:case 15:Al(4,h,h.return);break;case 1:Qo(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){At(r,n,y)}}break;case 5:Qo(h,h.return);break;case 22:if(h.memoizedState!==null){cw(f);continue}}m!==null?(m.return=h,$e=m):cw(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vx("display",o))}catch(y){At(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){At(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pr(t,e),Nr(e),r&4&&lw(e);break;case 21:break;default:pr(t,e),Nr(e)}}function Nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(K1(n)){var r=n;break e}n=n.return}throw Error(Se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kl(i,""),r.flags&=-33);var s=aw(e);fm(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=aw(e);dm(e,a,o);break;default:throw Error(Se(161))}}catch(l){At(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _2(e,t,n){$e=e,q1(e)}function q1(e,t,n){for(var r=(e.mode&1)!==0;$e!==null;){var i=$e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ac;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||an;a=Ac;var u=an;if(Ac=o,(an=l)&&!u)for($e=i;$e!==null;)o=$e,l=o.child,o.tag===22&&o.memoizedState!==null?dw(i):l!==null?(l.return=o,$e=l):dw(i);for(;s!==null;)$e=s,q1(s),s=s.sibling;$e=i,Ac=a,an=u}uw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$e=s):uw(e)}}function uw(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||df(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!an)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&q0(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}q0(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Gl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}an||t.flags&512&&cm(t)}catch(h){At(t,t.return,h)}}if(t===e){$e=null;break}if(n=t.sibling,n!==null){n.return=t.return,$e=n;break}$e=t.return}}function cw(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$e=n;break}$e=t.return}}function dw(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{df(4,t)}catch(l){At(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){At(t,i,l)}}var s=t.return;try{cm(t)}catch(l){At(t,s,l)}break;case 5:var o=t.return;try{cm(t)}catch(l){At(t,o,l)}}}catch(l){At(t,t.return,l)}if(t===e){$e=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$e=a;break}$e=t.return}}var x2=Math.ceil,Od=_i.ReactCurrentDispatcher,ay=_i.ReactCurrentOwner,ar=_i.ReactCurrentBatchConfig,at=0,Qt=null,Mt=null,Xt=0,Bn=0,Yo=ys(0),Vt=0,su=null,co=0,ff=0,ly=0,jl=null,Pn=null,uy=0,Pa=1/0,ti=null,Rd=!1,hm=null,as=null,jc=!1,Xi=null,Id=0,Ol=0,pm=null,ed=-1,td=0;function wn(){return at&6?Dt():ed!==-1?ed:ed=Dt()}function ls(e){return e.mode&1?at&2&&Xt!==0?Xt&-Xt:s2.transition!==null?(td===0&&(td=Ox()),td):(e=dt,e!==0||(e=window.event,e=e===void 0?16:Mx(e.type)),e):1}function Cr(e,t,n,r){if(50<Ol)throw Ol=0,pm=null,Error(Se(185));Su(e,n,r),(!(at&2)||e!==Qt)&&(e===Qt&&(!(at&2)&&(ff|=n),Vt===4&&Bi(e,Xt)),Dn(e,r),n===1&&at===0&&!(t.mode&1)&&(Pa=Dt()+500,lf&&vs()))}function Dn(e,t){var n=e.callbackNode;sP(e,t);var r=gd(e,e===Qt?Xt:0);if(r===0)n!==null&&b0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&b0(n),t===1)e.tag===0?i2(fw.bind(null,e)):r1(fw.bind(null,e)),e2(function(){!(at&6)&&vs()}),n=null;else{switch(Rx(r)){case 1:n=Ng;break;case 4:n=Ax;break;case 16:n=md;break;case 536870912:n=jx;break;default:n=md}n=tS(n,G1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function G1(e,t){if(ed=-1,td=0,at&6)throw Error(Se(327));var n=e.callbackNode;if(aa()&&e.callbackNode!==n)return null;var r=gd(e,e===Qt?Xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dd(e,r);else{t=r;var i=at;at|=2;var s=Y1();(Qt!==e||Xt!==t)&&(ti=null,Pa=Dt()+500,ro(e,t));do try{E2();break}catch(a){Q1(e,a)}while(!0);Gg(),Od.current=s,at=i,Mt!==null?t=0:(Qt=null,Xt=0,t=Vt)}if(t!==0){if(t===2&&(i=Up(e),i!==0&&(r=i,t=mm(e,i))),t===1)throw n=su,ro(e,0),Bi(e,r),Dn(e,Dt()),n;if(t===6)Bi(e,r);else{if(i=e.current.alternate,!(r&30)&&!S2(i)&&(t=Dd(e,r),t===2&&(s=Up(e),s!==0&&(r=s,t=mm(e,s))),t===1))throw n=su,ro(e,0),Bi(e,r),Dn(e,Dt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Se(345));case 2:Is(e,Pn,ti);break;case 3:if(Bi(e,r),(r&130023424)===r&&(t=uy+500-Dt(),10<t)){if(gd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){wn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qp(Is.bind(null,e,Pn,ti),t);break}Is(e,Pn,ti);break;case 4:if(Bi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Er(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*x2(r/1960))-r,10<r){e.timeoutHandle=Qp(Is.bind(null,e,Pn,ti),r);break}Is(e,Pn,ti);break;case 5:Is(e,Pn,ti);break;default:throw Error(Se(329))}}}return Dn(e,Dt()),e.callbackNode===n?G1.bind(null,e):null}function mm(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(ro(e,t).flags|=256),e=Dd(e,t),e!==2&&(t=Pn,Pn=n,t!==null&&gm(t)),e}function gm(e){Pn===null?Pn=e:Pn.push.apply(Pn,e)}function S2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bi(e,t){for(t&=~ly,t&=~ff,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Er(t),r=1<<n;e[n]=-1,t&=~r}}function fw(e){if(at&6)throw Error(Se(327));aa();var t=gd(e,0);if(!(t&1))return Dn(e,Dt()),null;var n=Dd(e,t);if(e.tag!==0&&n===2){var r=Up(e);r!==0&&(t=r,n=mm(e,r))}if(n===1)throw n=su,ro(e,0),Bi(e,t),Dn(e,Dt()),n;if(n===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Is(e,Pn,ti),Dn(e,Dt()),null}function cy(e,t){var n=at;at|=1;try{return e(t)}finally{at=n,at===0&&(Pa=Dt()+500,lf&&vs())}}function fo(e){Xi!==null&&Xi.tag===0&&!(at&6)&&aa();var t=at;at|=1;var n=ar.transition,r=dt;try{if(ar.transition=null,dt=1,e)return e()}finally{dt=r,ar.transition=n,at=t,!(at&6)&&vs()}}function dy(){Bn=Yo.current,yt(Yo)}function ro(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,XP(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(Wg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_d();break;case 3:Ca(),yt(Rn),yt(dn),ey();break;case 5:Xg(r);break;case 4:Ca();break;case 13:yt(xt);break;case 19:yt(xt);break;case 10:Qg(r.type._context);break;case 22:case 23:dy()}n=n.return}if(Qt=e,Mt=e=us(e.current,null),Xt=Bn=t,Vt=0,su=null,ly=ff=co=0,Pn=jl=null,Us!==null){for(t=0;t<Us.length;t++)if(n=Us[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Us=null}return e}function Q1(e,t){do{var n=Mt;try{if(Gg(),Jc.current=jd,Ad){for(var r=Et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ad=!1}if(uo=0,qt=Ut=Et=null,Pl=!1,nu=0,ay.current=null,n===null||n.return===null){Vt=1,su=t,Mt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=X0(o);if(m!==null){m.flags&=-257,ew(m,o,a,s,t),m.mode&1&&Z0(s,u,t),t=m,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){Z0(s,u,t),fy();break e}l=Error(Se(426))}}else if(wt&&a.mode&1){var x=X0(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ew(x,o,a,s,t),Hg(Ta(l,a));break e}}s=l=Ta(l,a),Vt!==4&&(Vt=2),jl===null?jl=[s]:jl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=R1(s,l,t);H0(s,g);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(as===null||!as.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=I1(s,a,t);H0(s,T);break e}}s=s.return}while(s!==null)}Z1(n)}catch(O){t=O,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function Y1(){var e=Od.current;return Od.current=jd,e===null?jd:e}function fy(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Qt===null||!(co&268435455)&&!(ff&268435455)||Bi(Qt,Xt)}function Dd(e,t){var n=at;at|=2;var r=Y1();(Qt!==e||Xt!==t)&&(ti=null,ro(e,t));do try{k2();break}catch(i){Q1(e,i)}while(!0);if(Gg(),at=n,Od.current=r,Mt!==null)throw Error(Se(261));return Qt=null,Xt=0,Vt}function k2(){for(;Mt!==null;)J1(Mt)}function E2(){for(;Mt!==null&&!YT();)J1(Mt)}function J1(e){var t=eS(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,t===null?Z1(e):Mt=t,ay.current=null}function Z1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=v2(n,t),n!==null){n.flags&=32767,Mt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Mt=null;return}}else if(n=y2(n,t,Bn),n!==null){Mt=n;return}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=e}while(t!==null);Vt===0&&(Vt=5)}function Is(e,t,n){var r=dt,i=ar.transition;try{ar.transition=null,dt=1,C2(e,t,n,r)}finally{ar.transition=i,dt=r}return null}function C2(e,t,n,r){do aa();while(Xi!==null);if(at&6)throw Error(Se(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(oP(e,s),e===Qt&&(Mt=Qt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jc||(jc=!0,tS(md,function(){return aa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ar.transition,ar.transition=null;var o=dt;dt=1;var a=at;at|=4,ay.current=null,b2(e,n),H1(n,e),HP(qp),yd=!!Hp,qp=Hp=null,e.current=n,_2(n),JT(),at=a,dt=o,ar.transition=s}else e.current=n;if(jc&&(jc=!1,Xi=e,Id=i),s=e.pendingLanes,s===0&&(as=null),eP(n.stateNode),Dn(e,Dt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rd)throw Rd=!1,e=hm,hm=null,e;return Id&1&&e.tag!==0&&aa(),s=e.pendingLanes,s&1?e===pm?Ol++:(Ol=0,pm=e):Ol=0,vs(),null}function aa(){if(Xi!==null){var e=Rx(Id),t=ar.transition,n=dt;try{if(ar.transition=null,dt=16>e?16:e,Xi===null)var r=!1;else{if(e=Xi,Xi=null,Id=0,at&6)throw Error(Se(331));var i=at;for(at|=4,$e=e.current;$e!==null;){var s=$e,o=s.child;if($e.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($e=u;$e!==null;){var c=$e;switch(c.tag){case 0:case 11:case 15:Al(8,c,s)}var f=c.child;if(f!==null)f.return=c,$e=f;else for(;$e!==null;){c=$e;var h=c.sibling,m=c.return;if(V1(c),c===u){$e=null;break}if(h!==null){h.return=m,$e=h;break}$e=m}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}$e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$e=o;else e:for(;$e!==null;){if(s=$e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Al(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,$e=g;break e}$e=s.return}}var v=e.current;for($e=v;$e!==null;){o=$e;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,$e=_;else e:for(o=v;$e!==null;){if(a=$e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:df(9,a)}}catch(O){At(a,a.return,O)}if(a===o){$e=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,$e=T;break e}$e=a.return}}if(at=i,vs(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(nf,e)}catch{}r=!0}return r}finally{dt=n,ar.transition=t}}return!1}function hw(e,t,n){t=Ta(n,t),t=R1(e,t,1),e=os(e,t,1),t=wn(),e!==null&&(Su(e,1,t),Dn(e,t))}function At(e,t,n){if(e.tag===3)hw(e,e,n);else for(;t!==null;){if(t.tag===3){hw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(as===null||!as.has(r))){e=Ta(n,e),e=I1(t,e,1),t=os(t,e,1),e=wn(),t!==null&&(Su(t,1,e),Dn(t,e));break}}t=t.return}}function T2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wn(),e.pingedLanes|=e.suspendedLanes&n,Qt===e&&(Xt&n)===n&&(Vt===4||Vt===3&&(Xt&130023424)===Xt&&500>Dt()-uy?ro(e,0):ly|=n),Dn(e,t)}function X1(e,t){t===0&&(e.mode&1?(t=bc,bc<<=1,!(bc&130023424)&&(bc=4194304)):t=1);var n=wn();e=pi(e,t),e!==null&&(Su(e,t,n),Dn(e,n))}function P2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),X1(e,n)}function A2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Se(314))}r!==null&&r.delete(t),X1(e,n)}var eS;eS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rn.current)jn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jn=!1,g2(e,t,n);jn=!!(e.flags&131072)}else jn=!1,wt&&t.flags&1048576&&i1(t,kd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xc(e,t),e=t.pendingProps;var i=Sa(t,dn.current);oa(t,n),i=ny(null,t,r,e,i,n);var s=ry();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(r)?(s=!0,xd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jg(t),i.updater=cf,t.stateNode=i,i._reactInternals=t,nm(t,r,e,n),t=sm(null,t,r,!0,s,n)):(t.tag=0,wt&&s&&Kg(t),yn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=O2(r),e=vr(r,e),i){case 0:t=im(null,t,r,e,n);break e;case 1:t=rw(null,t,r,e,n);break e;case 11:t=tw(null,t,r,e,n);break e;case 14:t=nw(null,t,r,vr(r.type,e),n);break e}throw Error(Se(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vr(r,i),im(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vr(r,i),rw(e,t,r,i,n);case 3:e:{if($1(t),e===null)throw Error(Se(387));r=t.pendingProps,s=t.memoizedState,i=s.element,c1(e,t),Td(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ta(Error(Se(423)),t),t=iw(e,t,r,n,i);break e}else if(r!==i){i=Ta(Error(Se(424)),t),t=iw(e,t,r,n,i);break e}else for(zn=ss(t.stateNode.containerInfo.firstChild),Vn=t,wt=!0,Sr=null,n=l1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ka(),r===i){t=mi(e,t,n);break e}yn(e,t,r,n)}t=t.child}return t;case 5:return d1(t),e===null&&Xp(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Gp(r,i)?o=null:s!==null&&Gp(r,s)&&(t.flags|=32),L1(e,t),yn(e,t,o,n),t.child;case 6:return e===null&&Xp(t),null;case 13:return M1(e,t,n);case 4:return Zg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ea(t,null,r,n):yn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vr(r,i),tw(e,t,r,i,n);case 7:return yn(e,t,t.pendingProps,n),t.child;case 8:return yn(e,t,t.pendingProps.children,n),t.child;case 12:return yn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,mt(Ed,r._currentValue),r._currentValue=o,s!==null)if(Tr(s.value,o)){if(s.children===i.children&&!Rn.current){t=mi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ui(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),em(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Se(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),em(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,oa(t,n),i=ur(i),r=r(i),t.flags|=1,yn(e,t,r,n),t.child;case 14:return r=t.type,i=vr(r,t.pendingProps),i=vr(r.type,i),nw(e,t,r,i,n);case 15:return D1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vr(r,i),Xc(e,t),t.tag=1,In(r)?(e=!0,xd(t)):e=!1,oa(t,n),O1(t,r,i),nm(t,r,i,n),sm(null,t,r,!0,e,n);case 19:return F1(e,t,n);case 22:return N1(e,t,n)}throw Error(Se(156,t.tag))};function tS(e,t){return Px(e,t)}function j2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(e,t,n,r){return new j2(e,t,n,r)}function hy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O2(e){if(typeof e=="function")return hy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rg)return 11;if(e===Ig)return 14}return 2}function us(e,t){var n=e.alternate;return n===null?(n=sr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nd(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")hy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Bo:return io(n.children,i,s,t);case Og:o=8,i|=8;break;case Cp:return e=sr(12,n,t,i|2),e.elementType=Cp,e.lanes=s,e;case Tp:return e=sr(13,n,t,i),e.elementType=Tp,e.lanes=s,e;case Pp:return e=sr(19,n,t,i),e.elementType=Pp,e.lanes=s,e;case dx:return hf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ux:o=10;break e;case cx:o=9;break e;case Rg:o=11;break e;case Ig:o=14;break e;case $i:o=16,r=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=sr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function io(e,t,n,r){return e=sr(7,e,r,t),e.lanes=n,e}function hf(e,t,n,r){return e=sr(22,e,r,t),e.elementType=dx,e.lanes=n,e.stateNode={isHidden:!1},e}function Vh(e,t,n){return e=sr(6,e,null,t),e.lanes=n,e}function Kh(e,t,n){return t=sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R2(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kh(0),this.expirationTimes=kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function py(e,t,n,r,i,s,o,a,l){return e=new R2(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=sr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(s),e}function I2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nS(e){if(!e)return hs;e=e._reactInternals;e:{if(go(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var n=e.type;if(In(n))return n1(e,n,t)}return t}function rS(e,t,n,r,i,s,o,a,l){return e=py(n,r,!0,e,i,s,o,a,l),e.context=nS(null),n=e.current,r=wn(),i=ls(n),s=ui(r,i),s.callback=t??null,os(n,s,i),e.current.lanes=i,Su(e,i,r),Dn(e,r),e}function pf(e,t,n,r){var i=t.current,s=wn(),o=ls(i);return n=nS(n),t.context===null?t.context=n:t.pendingContext=n,t=ui(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=os(i,t,o),e!==null&&(Cr(e,i,o,s),Yc(e,i,o)),o}function Nd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function my(e,t){pw(e,t),(e=e.alternate)&&pw(e,t)}function D2(){return null}var iS=typeof reportError=="function"?reportError:function(e){console.error(e)};function gy(e){this._internalRoot=e}mf.prototype.render=gy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));pf(e,t,null,null)};mf.prototype.unmount=gy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fo(function(){pf(null,e,null,null)}),t[hi]=null}};function mf(e){this._internalRoot=e}mf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fi.length&&t!==0&&t<Fi[n].priority;n++);Fi.splice(n,0,e),n===0&&$x(e)}};function yy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mw(){}function N2(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Nd(o);s.call(u)}}var o=rS(t,r,e,0,null,!1,!1,"",mw);return e._reactRootContainer=o,e[hi]=o.current,Jl(e.nodeType===8?e.parentNode:e),fo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Nd(l);a.call(u)}}var l=py(e,0,!1,null,null,!1,!1,"",mw);return e._reactRootContainer=l,e[hi]=l.current,Jl(e.nodeType===8?e.parentNode:e),fo(function(){pf(t,l,n,r)}),l}function yf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Nd(o);a.call(l)}}pf(t,o,e,i)}else o=N2(n,t,e,i,r);return Nd(o)}Ix=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ml(t.pendingLanes);n!==0&&(Lg(t,n|1),Dn(t,Dt()),!(at&6)&&(Pa=Dt()+500,vs()))}break;case 13:fo(function(){var r=pi(e,1);if(r!==null){var i=wn();Cr(r,e,1,i)}}),my(e,1)}};$g=function(e){if(e.tag===13){var t=pi(e,134217728);if(t!==null){var n=wn();Cr(t,e,134217728,n)}my(e,134217728)}};Dx=function(e){if(e.tag===13){var t=ls(e),n=pi(e,t);if(n!==null){var r=wn();Cr(n,e,t,r)}my(e,t)}};Nx=function(){return dt};Lx=function(e,t){var n=dt;try{return dt=e,t()}finally{dt=n}};Mp=function(e,t,n){switch(t){case"input":if(Op(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=af(r);if(!i)throw Error(Se(90));hx(r),Op(r,i)}}}break;case"textarea":mx(e,n);break;case"select":t=n.value,t!=null&&na(e,!!n.multiple,t,!1)}};xx=cy;Sx=fo;var L2={usingClientEntryPoint:!1,Events:[Eu,Ko,af,bx,_x,cy]},ol={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$2={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cx(e),e===null?null:e.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||D2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{nf=Oc.inject($2),Kr=Oc}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L2;Hn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yy(t))throw Error(Se(200));return I2(e,t,null,n)};Hn.createRoot=function(e,t){if(!yy(e))throw Error(Se(299));var n=!1,r="",i=iS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=py(e,1,!1,null,null,n,!1,r,i),e[hi]=t.current,Jl(e.nodeType===8?e.parentNode:e),new gy(t)};Hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=Cx(t),e=e===null?null:e.stateNode,e};Hn.flushSync=function(e){return fo(e)};Hn.hydrate=function(e,t,n){if(!gf(t))throw Error(Se(200));return yf(null,e,t,!0,n)};Hn.hydrateRoot=function(e,t,n){if(!yy(e))throw Error(Se(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=iS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=rS(t,null,e,1,n??null,i,!1,s,o),e[hi]=t.current,Jl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new mf(t)};Hn.render=function(e,t,n){if(!gf(t))throw Error(Se(200));return yf(null,e,t,!1,n)};Hn.unmountComponentAtNode=function(e){if(!gf(e))throw Error(Se(40));return e._reactRootContainer?(fo(function(){yf(null,null,e,!1,function(){e._reactRootContainer=null,e[hi]=null})}),!0):!1};Hn.unstable_batchedUpdates=cy;Hn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gf(n))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return yf(e,t,n,!1,r)};Hn.version="18.3.1-next-f1338f8080-20240426";function sS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sS)}catch(e){console.error(e)}}sS(),sx.exports=Hn;var vy=sx.exports;const M2=ef(vy);var gw=vy;kp.createRoot=gw.createRoot,kp.hydrateRoot=gw.hydrateRoot;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yw="popstate";function F2(e={}){function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=yo(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ym("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:ou(s))}function r(i,s){Wn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return U2(t,n,r,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B2(){return Math.random().toString(36).substring(2,10)}function vw(e,t){return{usr:e.state,key:e.key,idx:t}}function ym(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yo(t):t,state:n,key:t&&t.key||r||B2()}}function ou({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function U2(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function f(){a="POP";let x=c(),g=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:g})}function h(x,g){a="PUSH";let v=ym(y.location,x,g);n&&n(v,x),u=c()+1;let _=vw(v,u),T=y.createHref(v);try{o.pushState(_,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(T)}s&&l&&l({action:a,location:y.location,delta:1})}function m(x,g){a="REPLACE";let v=ym(y.location,x,g);n&&n(v,x),u=c();let _=vw(v,u),T=y.createHref(v);o.replaceState(_,"",T),s&&l&&l({action:a,location:y.location,delta:0})}function w(x){return z2(x)}let y={get action(){return a},get location(){return e(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yw,f),l=x,()=>{i.removeEventListener(yw,f),l=null}},createHref(x){return t(i,x)},createURL:w,encodeLocation(x){let g=w(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(x){return o.go(x)}};return y}function z2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ou(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function oS(e,t,n="/"){return V2(e,t,n,!1)}function V2(e,t,n,r){let i=typeof t=="string"?yo(t):t,s=gi(i.pathname||"/",n);if(s==null)return null;let o=aS(e);K2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=tA(s);a=X2(o[l],u,r)}return a}function aS(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;_t(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let f=ci([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(_t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),aS(o.children,t,h,f,l)),!(o.path==null&&!o.index)&&t.push({path:f,score:J2(f,o.index),routesMeta:h})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of lS(o.path))s(o,a,!0,u)}),t}function lS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function K2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Z2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var W2=/^:[\w-]+$/,H2=3,q2=2,G2=1,Q2=10,Y2=-2,ww=e=>e==="*";function J2(e,t){let n=e.split("/"),r=n.length;return n.some(ww)&&(r+=Y2),t&&(r+=q2),n.filter(i=>!ww(i)).reduce((i,s)=>i+(W2.test(s)?H2:s===""?G2:Q2),r)}function Z2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function X2(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",f=Ld({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Ld({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ci([s,f.pathname]),pathnameBase:sA(ci([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=ci([s,f.pathnameBase]))}return o}function Ld(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=eA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},h)=>{if(c==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[h];return f&&!m?u[c]=void 0:u[c]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function eA(e,t=!1,n=!0){Wn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function tA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function nA(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?yo(e):e;return{pathname:n?n.startsWith("/")?n:rA(n,t):t,search:oA(r),hash:aA(i)}}function rA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wh(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wy(e){let t=iA(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function by(e,t,n,r=!1){let i;typeof e=="string"?i=yo(e):(i={...e},_t(!i.pathname||!i.pathname.includes("?"),Wh("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Wh("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Wh("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=nA(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var ci=e=>e.join("/").replace(/\/\/+/g,"/"),sA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var uS=["POST","PUT","PATCH","DELETE"];new Set(uS);var uA=["GET",...uS];new Set(uA);var Na=k.createContext(null);Na.displayName="DataRouter";var vf=k.createContext(null);vf.displayName="DataRouterState";k.createContext(!1);var cS=k.createContext({isTransitioning:!1});cS.displayName="ViewTransition";var cA=k.createContext(new Map);cA.displayName="Fetchers";var dA=k.createContext(null);dA.displayName="Await";var Pr=k.createContext(null);Pr.displayName="Navigation";var Tu=k.createContext(null);Tu.displayName="Location";var Ar=k.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var _y=k.createContext(null);_y.displayName="RouteError";function fA(e,{relative:t}={}){_t(La(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Pr),{hash:i,pathname:s,search:o}=Au(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:ci([n,s])),r.createHref({pathname:a,search:o,hash:i})}function La(){return k.useContext(Tu)!=null}function dr(){return _t(La(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Tu).location}var dS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fS(e){k.useContext(Pr).static||k.useLayoutEffect(e)}function jr(){let{isDataRoute:e}=k.useContext(Ar);return e?EA():hA()}function hA(){_t(La(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Na),{basename:t,navigator:n}=k.useContext(Pr),{matches:r}=k.useContext(Ar),{pathname:i}=dr(),s=JSON.stringify(wy(r)),o=k.useRef(!1);return fS(()=>{o.current=!0}),k.useCallback((l,u={})=>{if(Wn(o.current,dS),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=by(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ci([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}k.createContext(null);function Pu(){let{matches:e}=k.useContext(Ar),t=e[e.length-1];return t?t.params:{}}function Au(e,{relative:t}={}){let{matches:n}=k.useContext(Ar),{pathname:r}=dr(),i=JSON.stringify(wy(n));return k.useMemo(()=>by(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function pA(e,t){return hS(e,t)}function hS(e,t,n,r,i){var v;_t(La(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(Pr),{matches:o}=k.useContext(Ar),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",f=a&&a.route;{let _=f&&f.path||"";pS(u,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let h=dr(),m;if(t){let _=typeof t=="string"?yo(t):t;_t(c==="/"||((v=_.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=h;let w=m.pathname||"/",y=w;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=oS(e,{pathname:y});Wn(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Wn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=wA(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:ci([c,s.encodeLocation?s.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:ci([c,s.encodeLocation?s.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,n,r,i);return t&&g?k.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function mA(){let e=kA(),t=lA(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:i},n):null,o)}var gA=k.createElement(mA,null),yA=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Ar.Provider,{value:this.props.routeContext},k.createElement(_y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vA({routeContext:e,match:t,children:n}){let r=k.useContext(Na);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Ar.Provider,{value:e},n)}function wA(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);_t(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let c=s[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:f,errors:h}=n,m=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,c,f)=>{let h,m=!1,w=null,y=null;n&&(h=o&&c.route.id?o[c.route.id]:void 0,w=c.route.errorElement||gA,a&&(l<0&&f===0?(pS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,y=null):l===f&&(m=!0,y=c.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,f+1)),g=()=>{let v;return h?v=w:m?v=y:c.route.Component?v=k.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=u,k.createElement(vA,{match:c,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?k.createElement(yA,{location:n.location,revalidation:n.revalidation,component:w,error:h,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:r}):g()},null)}function xy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bA(e){let t=k.useContext(Na);return _t(t,xy(e)),t}function _A(e){let t=k.useContext(vf);return _t(t,xy(e)),t}function xA(e){let t=k.useContext(Ar);return _t(t,xy(e)),t}function Sy(e){let t=xA(e),n=t.matches[t.matches.length-1];return _t(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function SA(){return Sy("useRouteId")}function kA(){var r;let e=k.useContext(_y),t=_A("useRouteError"),n=Sy("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function EA(){let{router:e}=bA("useNavigate"),t=Sy("useNavigate"),n=k.useRef(!1);return fS(()=>{n.current=!0}),k.useCallback(async(i,s={})=>{Wn(n.current,dS),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var bw={};function pS(e,t,n){!t&&!bw[e]&&(bw[e]=!0,Wn(!1,n))}k.memo(CA);function CA({routes:e,future:t,state:n,unstable_onError:r}){return hS(e,void 0,n,r,t)}function mS({to:e,replace:t,state:n,relative:r}){_t(La(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(Pr);Wn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=k.useContext(Ar),{pathname:o}=dr(),a=jr(),l=by(e,wy(s),o,r==="path"),u=JSON.stringify(l);return k.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function kn(e){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TA({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){_t(!La(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=k.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=yo(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:h="default"}=n,m=k.useMemo(()=>{let w=gi(l,o);return w==null?null:{location:{pathname:w,search:u,hash:c,state:f,key:h},navigationType:r}},[o,l,u,c,f,h,r]);return Wn(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:k.createElement(Pr.Provider,{value:a},k.createElement(Tu.Provider,{children:t,value:m}))}function PA({children:e,location:t}){return pA(vm(e),t)}function vm(e,t=[]){let n=[];return k.Children.forEach(e,(r,i)=>{if(!k.isValidElement(r))return;let s=[...t,i];if(r.type===k.Fragment){n.push.apply(n,vm(r.props.children,s));return}_t(r.type===kn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vm(r.props.children,s)),n.push(o)}),n}var rd="get",id="application/x-www-form-urlencoded";function wf(e){return e!=null&&typeof e.tagName=="string"}function AA(e){return wf(e)&&e.tagName.toLowerCase()==="button"}function jA(e){return wf(e)&&e.tagName.toLowerCase()==="form"}function OA(e){return wf(e)&&e.tagName.toLowerCase()==="input"}function RA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IA(e,t){return e.button===0&&(!t||t==="_self")&&!RA(e)}function wm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function DA(e,t){let n=wm(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Rc=null;function NA(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var LA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hh(e){return e!=null&&!LA.has(e)?(Wn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${id}"`),null):e}function $A(e,t){let n,r,i,s,o;if(jA(e)){let a=e.getAttribute("action");r=a?gi(a,t):null,n=e.getAttribute("method")||rd,i=Hh(e.getAttribute("enctype"))||id,s=new FormData(e)}else if(AA(e)||OA(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?gi(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||rd,i=Hh(e.getAttribute("formenctype"))||Hh(a.getAttribute("enctype"))||id,s=new FormData(a,e),!NA()){let{name:u,type:c,value:f}=e;if(c==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,f)}}else{if(wf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rd,r=null,i=id,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ky(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function MA(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&gi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function FA(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function UA(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await FA(s,n);return o.links?o.links():[]}return[]}));return WA(r.flat(1).filter(BA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _w(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function zA(e,t,{includeHydrateFallback:n}={}){return VA(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function VA(e){return[...new Set(e)]}function KA(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function WA(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(KA(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function gS(){let e=k.useContext(Na);return ky(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function HA(){let e=k.useContext(vf);return ky(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ey=k.createContext(void 0);Ey.displayName="FrameworkContext";function yS(){let e=k.useContext(Ey);return ky(e,"You must render this element inside a <HydratedRouter> element"),e}function qA(e,t){let n=k.useContext(Ey),[r,i]=k.useState(!1),[s,o]=k.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,h=k.useRef(null);k.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=g=>{g.forEach(v=>{o(v.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[e]),k.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let m=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,h,{}]:[s,h,{onFocus:al(a,m),onBlur:al(l,w),onMouseEnter:al(u,m),onMouseLeave:al(c,w),onTouchStart:al(f,m)}]:[!1,h,{}]}function al(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function GA({page:e,...t}){let{router:n}=gS(),r=k.useMemo(()=>oS(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?k.createElement(YA,{page:e,matches:r,...t}):null}function QA(e){let{manifest:t,routeModules:n}=yS(),[r,i]=k.useState([]);return k.useEffect(()=>{let s=!1;return UA(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function YA({page:e,matches:t,...n}){let r=dr(),{manifest:i,routeModules:s}=yS(),{basename:o}=gS(),{loaderData:a,matches:l}=HA(),u=k.useMemo(()=>_w(e,t,l,i,r,"data"),[e,t,l,i,r]),c=k.useMemo(()=>_w(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=k.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,y=!1;if(t.forEach(g=>{var _;let v=i.routes[g.route.id];!v||!v.hasLoader||(!u.some(T=>T.route.id===g.route.id)&&g.route.id in a&&((_=s[g.route.id])!=null&&_.shouldRevalidate)||v.hasClientLoader?y=!0:w.add(g.route.id))}),w.size===0)return[];let x=MA(e,o,"data");return y&&w.size>0&&x.searchParams.set("_routes",t.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[x.pathname+x.search]},[o,a,r,i,u,t,e,s]),h=k.useMemo(()=>zA(c,i),[c,i]),m=QA(c);return k.createElement(k.Fragment,null,f.map(w=>k.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),h.map(w=>k.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),m.map(({key:w,link:y})=>k.createElement("link",{key:w,nonce:n.nonce,...y})))}function JA(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var vS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vS&&(window.__reactRouterVersion="7.9.3")}catch{}function ZA({basename:e,children:t,window:n}){let r=k.useRef();r.current==null&&(r.current=F2({window:n,v5Compat:!0}));let i=r.current,[s,o]=k.useState({action:i.action,location:i.location}),a=k.useCallback(l=>{k.startTransition(()=>o(l))},[o]);return k.useLayoutEffect(()=>i.listen(a),[i,a]),k.createElement(TA,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var wS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Un=k.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f,...h},m){let{basename:w}=k.useContext(Pr),y=typeof u=="string"&&wS.test(u),x,g=!1;if(typeof u=="string"&&y&&(x=u,vS))try{let U=new URL(window.location.href),V=u.startsWith("//")?new URL(U.protocol+u):new URL(u),we=gi(V.pathname,w);V.origin===U.origin&&we!=null?u=we+V.search+V.hash:g=!0}catch{Wn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=fA(u,{relative:i}),[_,T,O]=qA(r,h),I=nj(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function R(U){t&&t(U),U.defaultPrevented||I(U)}let $=k.createElement("a",{...h,...O,href:x||v,onClick:g||s?t:R,ref:JA(m,T),target:l,"data-discover":!y&&n==="render"?"true":void 0});return _&&!y?k.createElement(k.Fragment,null,$,k.createElement(GA,{page:v})):$});Un.displayName="Link";var XA=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let f=Au(o,{relative:u.relative}),h=dr(),m=k.useContext(vf),{navigator:w,basename:y}=k.useContext(Pr),x=m!=null&&lj(f)&&a===!0,g=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,v=h.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(v=v.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase()),_&&y&&(_=gi(_,y)||_);const T=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let O=v===g||!i&&v.startsWith(g)&&v.charAt(T)==="/",I=_!=null&&(_===g||!i&&_.startsWith(g)&&_.charAt(g.length)==="/"),R={isActive:O,isPending:I,isTransitioning:x},$=O?t:void 0,U;typeof r=="function"?U=r(R):U=[r,O?"active":null,I?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(R):s;return k.createElement(Un,{...u,"aria-current":$,className:U,ref:c,style:V,to:o,viewTransition:a},typeof l=="function"?l(R):l)});XA.displayName="NavLink";var ej=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=rd,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...h},m)=>{let w=oj(),y=aj(a,{relative:u}),x=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&wS.test(a),v=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let T=_.nativeEvent.submitter,O=(T==null?void 0:T.getAttribute("formmethod"))||o;w(T||_.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:f})};return k.createElement("form",{ref:m,method:x,action:y,onSubmit:r?l:v,...h,"data-discover":!g&&e==="render"?"true":void 0})});ej.displayName="Form";function tj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(e){let t=k.useContext(Na);return _t(t,tj(e)),t}function nj(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=jr(),l=dr(),u=Au(e,{relative:s});return k.useCallback(c=>{if(IA(c,t)){c.preventDefault();let f=n!==void 0?n:ou(l)===ou(u);a(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}function rj(e){Wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(wm(e)),n=k.useRef(!1),r=dr(),i=k.useMemo(()=>DA(r.search,n.current?null:t.current),[r.search]),s=jr(),o=k.useCallback((a,l)=>{const u=wm(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var ij=0,sj=()=>`__${String(++ij)}__`;function oj(){let{router:e}=bS("useSubmit"),{basename:t}=k.useContext(Pr),n=SA();return k.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=$A(r,t);if(i.navigate===!1){let c=i.fetcherKey||sj();await e.fetch(c,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function aj(e,{relative:t}={}){let{basename:n}=k.useContext(Pr),r=k.useContext(Ar);_t(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Au(e||".",{relative:t})},o=dr();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let c=a.toString();s.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ci([n,s.pathname])),ou(s)}function lj(e,{relative:t}={}){let n=k.useContext(cS);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bS("useViewTransitionState"),i=Au(e,{relative:t});if(!n.isTransitioning)return!1;let s=gi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=gi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ld(i.pathname,o)!=null||Ld(i.pathname,s)!=null}const vo="https://script.google.com/macros/s/AKfycbynZahbOOktMAZDYAUSCvG775_NwreTVV31OzQBkefIZ1-OAUrOsnhg4Uxi1TUKihhPMw/exec",_S="radtpoqypgqetijvopho",uj="modulepreload",cj=function(e){return"/new-sankeertan/"+e},xw={},$a=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=cj(l),l in xw)return;xw[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":uj,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},dj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ma);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Cy extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Sw extends Cy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kw extends Cy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ew extends Cy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bm||(bm={}));var fj=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class hj{constructor(t,{headers:n={},customFetch:r,region:i=bm.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=dj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return fj(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:o,body:a,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const f=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,f.searchParams.set("forceFunctionRegion",c));let h;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(u["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(u["Content-Type"]="application/json",h=JSON.stringify(a)));const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new Sw(g)}),w=m.headers.get("x-relay-error");if(w&&w==="true")throw new kw(m);if(!m.ok)throw new Ew(m);let y=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield m.json():y==="application/octet-stream"?x=yield m.blob():y==="text/event-stream"?x=m:y==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Sw(s)}:{data:null,error:s,response:s instanceof Ew||s instanceof kw?s.context:void 0}}})}}var An={},Ty={},bf={},ju={},_f={},xf={},pj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Aa=pj();const mj=Aa.fetch,xS=Aa.fetch.bind(Aa),SS=Aa.Headers,gj=Aa.Request,yj=Aa.Response,Ma=Object.freeze(Object.defineProperty({__proto__:null,Headers:SS,Request:gj,Response:yj,default:xS,fetch:mj},Symbol.toStringTag,{value:"Module"})),vj=fT(Ma);var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});let wj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Sf.default=wj;var kS=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xf,"__esModule",{value:!0});const bj=kS(vj),_j=kS(Sf);let xj=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=bj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l,u;let c=null,f=null,h=null,m=s.status,w=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const x=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const x=await s.text();try{c=JSON.parse(x),Array.isArray(c)&&s.status===404&&(f=[],c=null,m=200,w="OK")}catch{s.status===404&&x===""?(m=204,w="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,m=200,w="OK"),c&&this.shouldThrowOnError)throw new _j.default(c)}return{error:c,data:f,count:h,status:m,statusText:w}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};xf.default=xj;var Sj=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_f,"__esModule",{value:!0});const kj=Sj(xf);let Ej=class extends kj.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};_f.default=Ej;var Cj=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ju,"__esModule",{value:!0});const Tj=Cj(_f);let Pj=class extends Tj.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ju.default=Pj;var Aj=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bf,"__esModule",{value:!0});const ll=Aj(ju);let jj=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){const{head:r=!1,count:i}=n??{},s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new ll.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const s="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ll.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ll.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ll.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ll.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};bf.default=jj;var ES=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ty,"__esModule",{value:!0});const Oj=ES(bf),Rj=ES(ju);let Ij=class CS{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Oj.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new CS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(a="POST",u=n);const c=new Headers(this.headers);return s&&c.set("Prefer",`count=${s}`),new Rj.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Ty.default=Ij;var Fa=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(An,"__esModule",{value:!0});An.PostgrestError=An.PostgrestBuilder=An.PostgrestTransformBuilder=An.PostgrestFilterBuilder=An.PostgrestQueryBuilder=An.PostgrestClient=void 0;const TS=Fa(Ty);An.PostgrestClient=TS.default;const PS=Fa(bf);An.PostgrestQueryBuilder=PS.default;const AS=Fa(ju);An.PostgrestFilterBuilder=AS.default;const jS=Fa(_f);An.PostgrestTransformBuilder=jS.default;const OS=Fa(xf);An.PostgrestBuilder=OS.default;const RS=Fa(Sf);An.PostgrestError=RS.default;var Dj=An.default={PostgrestClient:TS.default,PostgrestQueryBuilder:PS.default,PostgrestFilterBuilder:AS.default,PostgrestTransformBuilder:jS.default,PostgrestBuilder:OS.default,PostgrestError:RS.default};const{PostgrestClient:Nj,PostgrestQueryBuilder:gB,PostgrestFilterBuilder:yB,PostgrestTransformBuilder:vB,PostgrestBuilder:wB,PostgrestError:bB}=Dj;class Lj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $j="2.74.0",Mj=`realtime-js/${$j}`,Fj="1.0.0",_m=1e4,Bj=1e3,Uj=100;var Rl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rl||(Rl={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var xr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xr||(xr={}));var xm;(function(e){e.websocket="websocket"})(xm||(xm={}));var $s;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($s||($s={}));class zj{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class IS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pt||(pt={}));const Cw=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=Vj(o,e,t,i),s),{}):{}},Vj=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?DS(s,o):Sm(o)},DS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return qj(t,n)}switch(e){case pt.bool:return Kj(t);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return Wj(t);case pt.json:case pt.jsonb:return Hj(t);case pt.timestamp:return Gj(t);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return Sm(t);default:return Sm(t)}},Sm=e=>e,Kj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Wj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Hj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},qj=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>DS(t,a))}return e},Gj=e=>typeof e=="string"?e.replace(" ","T"):e,NS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class qh{constructor(t,n,r={},i=_m){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Tw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Tw||(Tw={}));class Il{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Il.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Il.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Il.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=s[u];if(f){const h=c.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),w=c.filter(x=>m.indexOf(x.presence_ref)<0),y=f.filter(x=>h.indexOf(x.presence_ref)<0);w.length>0&&(a[u]=w),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(m=>m.presence_ref),h=c.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Pw||(Pw={}));var Dl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dl||(Dl={}));var ni;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ni||(ni={}));class Py{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qh(this,xr.join,this.params,this.timeout),this.rejoinTimer=new IS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Il(this),this.broadcastEndpointURL=NS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Dl.PRESENCE]&&this.bindings[Dl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ni.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ni.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket.setAuth(),m===void 0){t==null||t(ni.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,g=[];for(let v=0;v<x;v++){const _=y[v],{filter:{event:T,schema:O,table:I,filter:R}}=_,$=m&&m[v];if($&&$.event===T&&$.schema===O&&$.table===I&&$.filter===R)g.push(Object.assign(Object.assign({},_),{id:$.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(ni.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ni.SUBSCRIBED);return}}).receive("error",m=>{this.state=Bt.errored,t==null||t(ni.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ni.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Bt.joined&&t===Dl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new qh(this,xr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qh(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Uj){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=xr;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var w,y,x;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(y=m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var w,y,x,g,v,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const T=m.id,O=(w=m.filter)===null||w===void 0?void 0:w.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const T=(v=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return T==="*"||T===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:y,table:x,commit_timestamp:g,type:v,errors:_}=w;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:g,eventType:v,new:{},old:{},errors:_}),this._getPayloadRecords(w))}m.callback(h,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Py.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xr.close,{},t)}_onError(t){this._on(xr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Cw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Cw(t.columns,t.old_record)),n}}const Gh=()=>{},Ic={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qj=[1e3,2e3,5e3,1e4],Yj=1e4,Jj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zj{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_m,this.transport=null,this.heartbeatIntervalMs=Ic.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gh,this.ref=0,this.reconnectTimer=null,this.logger=Gh,this.conn=null,this.sendBuffer=[],this.serializer=new zj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>$a(async()=>{const{default:a}=await Promise.resolve().then(()=>Ma);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${xm.websocket}`,this.httpEndpoint=NS(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Lj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fj}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rl.connecting:return $s.Connecting;case Rl.open:return $s.Open;case Rl.closing:return $s.Closing;default:return $s.Closed}}isConnected(){return this.connectionState()===$s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Py(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Bj,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ic.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(xr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Jj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Mj};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(xr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new IS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ic.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,a,l,u,c;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:_m,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ic.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Gh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>Qj[f-1]||Yj,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ay extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Xj extends Ay{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class km extends Ay{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var eO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const LS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ma);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},tO=()=>eO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $a(()=>Promise.resolve().then(()=>Ma),void 0)).Response:Response}),Em=e=>{if(Array.isArray(e))return e.map(n=>Em(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Em(r)}),t},nO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var wo=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Qh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rO=(e,t,n)=>wo(void 0,void 0,void 0,function*(){const r=yield tO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new Xj(Qh(i),s,o))}).catch(i=>{t(new km(Qh(i),i))}):t(new km(Qh(e),e))}),iO=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(nO(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ou(e,t,n,r,i,s){return wo(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,iO(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>rO(l,a,r))})})}function $d(e,t,n,r){return wo(this,void 0,void 0,function*(){return Ou(e,"GET",t,n,r)})}function Mr(e,t,n,r,i){return wo(this,void 0,void 0,function*(){return Ou(e,"POST",t,r,i,n)})}function Cm(e,t,n,r,i){return wo(this,void 0,void 0,function*(){return Ou(e,"PUT",t,r,i,n)})}function sO(e,t,n,r){return wo(this,void 0,void 0,function*(){return Ou(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function $S(e,t,n,r,i){return wo(this,void 0,void 0,function*(){return Ou(e,"DELETE",t,r,i,n)})}var oO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class aO{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return oO(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}}var lO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class uO{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new aO(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return lO(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}}var Sn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const cO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Aw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dO{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=LS(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Sn(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Aw),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(t=="PUT"?Cm:Mr)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Sn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Aw.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Cm(this.fetch,a.toString(),l,{headers:c});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Sn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Mr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Ay("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Sn(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Sn(this,void 0,void 0,function*(){try{return{data:{path:(yield Mr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Sn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Mr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Sn(this,void 0,void 0,function*(){try{const i=yield Mr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(t),l=()=>$d(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new uO(l,this.shouldThrowOnError)}info(t){return Sn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield $d(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Em(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}exists(t){return Sn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield sO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r)&&r instanceof km){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Sn(this,void 0,void 0,function*(){try{return{data:yield $S(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Sn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},cO),n),{prefix:t||""});return{data:yield Mr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Sn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Mr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const fO="2.74.0",hO={"X-Client-Info":`storage-js/${fO}`};var jo=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class pO{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hO),n),this.fetch=LS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return jo(this,void 0,void 0,function*(){try{return{data:yield $d(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}getBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield $d(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}createBucket(t){return jo(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Mr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return jo(this,void 0,void 0,function*(){try{return{data:yield Cm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield $S(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}}class mO extends pO{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new dO(this.url,this.headers,t,this.fetch)}}const gO="2.74.0";let yl="";typeof Deno<"u"?yl="deno":typeof document<"u"?yl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yl="react-native":yl="node";const yO={"X-Client-Info":`supabase-js-${yl}/${gO}`},vO={headers:yO},wO={schema:"public"},bO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_O={};var xO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const SO=e=>{let t;return e?t=e:typeof fetch>"u"?t=xS:t=fetch,(...n)=>t(...n)},kO=()=>typeof Headers>"u"?SS:Headers,EO=(e,t,n)=>{const r=SO(n),i=kO();return(s,o)=>xO(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var CO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function TO(e){return e.endsWith("/")?e:e+"/"}function PO(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>CO(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function AO(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(TO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const MS="2.74.0",$o=30*1e3,Tm=3,Yh=Tm*$o,jO="http://localhost:9999",OO="supabase.auth.token",RO={"X-Client-Info":`gotrue-js/${MS}`},Pm="X-Supabase-Api-Version",FS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DO=10*60*1e3;class au extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class NO extends au{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function LO(e){return ze(e)&&e.name==="AuthApiError"}class Ms extends au{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ws extends au{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Di extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $O(e){return ze(e)&&e.name==="AuthSessionMissingError"}class Oo extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dc extends ws{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nc extends ws{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function MO(e){return ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class jw extends ws{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Am extends ws{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Jh(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class Ow extends ws{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jm extends ws{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Md="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rw=` 	
\r=`.split(""),FO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Rw.length;t+=1)e[Rw[t].charCodeAt(0)]=-2;for(let t=0;t<Md.length;t+=1)e[Md[t].charCodeAt(0)]=t;return e})();function Iw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Md[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Md[r]),t.queuedBits-=6}}function BS(e,t,n){const r=FO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Dw(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{zO(o,r,n)};for(let o=0;o<e.length;o+=1)BS(e.charCodeAt(o),i,s);return t.join("")}function BO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function UO(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}BO(r,t)}}function zO(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function la(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)BS(e.charCodeAt(i),n,r);return new Uint8Array(t)}function VO(e){const t=[];return UO(e,n=>t.push(n)),new Uint8Array(t)}function Vs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Iw(i,n,r)),Iw(null,n,r),t.join("")}function KO(e){return Math.round(Date.now()/1e3)+e}function WO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Fn=()=>typeof window<"u"&&typeof document<"u",As={tested:!1,writable:!1},US=()=>{if(!Fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(As.tested)return As.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),As.tested=!0,As.writable=!0}catch{As.tested=!0,As.writable=!1}return As.writable};function HO(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const zS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ma);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},qO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},js=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oi=async(e,t)=>{await e.removeItem(t)};class kf{constructor(){this.promise=new kf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}kf.promiseConstructor=Promise;function Zh(e){const t=e.split(".");if(t.length!==3)throw new jm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!IO.test(t[r]))throw new jm("JWT not in base64url format");return{header:JSON.parse(Dw(t[0])),payload:JSON.parse(Dw(t[1])),signature:la(t[2]),raw:{header:t[0],payload:t[1]}}}async function GO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function QO(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function YO(e){return("0"+e.toString(16)).substr(-2)}function JO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,YO).join("")}async function ZO(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function XO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ZO(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ro(e,t,n=!1){const r=JO();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Mo(e,`${t}-code-verifier`,i);const s=await XO(r);return[s,r===s?"plain":"s256"]}const eR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tR(e){const t=e.headers.get(Pm);if(!t||!t.match(eR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Io(e){if(!iR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nw(e){return JSON.parse(JSON.stringify(e))}var sR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ds=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oR=[502,503,504];async function Lw(e){var t;if(!qO(e))throw new Am(Ds(e),0);if(oR.includes(e.status))throw new Am(Ds(e),e.status);let n;try{n=await e.json()}catch(s){throw new Ms(Ds(s),s)}let r;const i=tR(e);if(i&&i.getTime()>=FS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ow(Ds(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Di}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Ow(Ds(n),e.status,n.weak_password.reasons);throw new NO(Ds(n),e.status||500,r)}const aR=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Qe(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Pm]||(s[Pm]=FS["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await lR(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function lR(e,t,n,r,i,s){const o=aR(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Am(Ds(l),0)}if(a.ok||await Lw(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Lw(l)}}function gr(e){var t;let n=null;dR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=KO(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function $w(e){const t=gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ui(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uR(e){return{data:e,error:null}}function cR(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=sR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Mw(e){return e}function dR(e){return e.access_token&&e.refresh_token&&e.expires_in}const ep=["global","local","others"];var fR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class hR{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=zS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ep[0]){if(ep.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ep.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ui})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=fR(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:cR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ui})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Mw});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ze(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Io(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ui})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Io(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ui})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Io(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ui})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Io(t.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Io(t.userId),Io(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Mw});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ze(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}}function Fw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Do={debug:!!(globalThis&&US()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class VS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pR extends VS{}async function mR(e,t,n){Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Do.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Do.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function gR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function KS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function yR(e){return parseInt(e,16)}function vR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function wR(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=KS(e.address),w=c?`${c}://${r}`:r,y=e.statement?`${e.statement}
`:"",x=`${w} wants you to sign in with your Ethereum account:
${m}

${y}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let v=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);v+=`
- ${_}`}g+=v}return`${x}
${g}`}class Nt extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Fd extends Nt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function bR({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Nt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(HS(o)){if(s.rp.id!==o)return new Nt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _R({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Nt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(HS(r)){if(n.rpId!==r)return new Nt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var WS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class xR{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const SR=new xR;function kR(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=WS(e,["challenge","user","excludeCredentials"]),s=la(t).buffer,o=Object.assign(Object.assign({},n),{id:la(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:la(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function ER(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=WS(e,["challenge","allowCredentials"]),i=la(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:la(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function CR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function TR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vs(new Uint8Array(i.authenticatorData)),clientDataJSON:Vs(new Uint8Array(i.clientDataJSON)),signature:Vs(new Uint8Array(i.signature)),userHandle:i.userHandle?Vs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function HS(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Bw(){var e,t;return!!(Fn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function PR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fd("Browser returned unexpected credential type",t)}:{data:null,error:new Fd("Empty credential response",t)}}catch(t){return{data:null,error:bR({error:t,options:e})}}}async function AR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fd("Browser returned unexpected credential type",t)}:{data:null,error:new Fd("Empty credential response",t)}}catch(t){return{data:null,error:_R({error:t,options:e})}}}const jR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},OR={userVerification:"preferred",hints:["security-key"]};function Bd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(t(o)){const a=r[s];t(a)?r[s]=Bd(a,o):r[s]=Bd(o)}else r[s]=o}return r}function RR(e,t){return Bd(jR,e,t||{})}function IR(e,t){return Bd(OR,e,t||{})}class DR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=i??SR.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=RR(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:f}=await PR({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const u=IR(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:f}=await AR(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ms("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new au("rpId is required for WebAuthn authentication")};try{if(!Bw())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ms("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new au("rpId is required for WebAuthn registration")};try{if(!Bw())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ms("Unexpected error in register",o)}}}}gR();const NR={url:jO,storageKey:OO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Uw(e,t,n){return await n()}const No={};class lu{get jwks(){var t,n;return(n=(t=No[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=No[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=lu.nextInstanceID,lu.nextInstanceID+=1,this.instanceID>0&&Fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},NR),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=zS(i.fetch),this.lock=i.lock||Uw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Fn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=mR:this.lock=Uw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new DR(this)},this.persistSession?(i.storage?this.storage=i.storage:US()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Fw(this.memoryStorage)),Fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${MS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=HO(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Fn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),MO(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ze(n)?{error:n}:{error:new Ms("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gr}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ze(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:f,options:h}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Ro(this.storage,this.storageKey)),s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:w},xform:gr})}else if("phone"in t){const{phone:c,password:f,options:h}=t;s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gr})}else throw new Dc("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ze(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$w})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$w})}else throw new Dc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Oo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,o,a,l,u,c,f,h;let m,w;if("message"in t)m=t.message,w=t.signature;else{const{chain:y,wallet:x,statement:g,options:v}=t;let _;if(Fn())if(typeof x=="object")_=x;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")_=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const T=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),O=await _.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=KS(O[0]);let R=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const U=await _.request({method:"eth_chainId"});R=yR(U)}const $={domain:T.host,address:I,statement:g,uri:T.href,version:"1",chainId:R,nonce:(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=wR($),w=await _.request({method:"personal_sign",params:[vR(m),I]})}try{const{data:y,error:x}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:w},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:gr});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Oo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(ze(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var n,r,i,s,o,a,l,u,c,f,h,m;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:x,wallet:g,statement:v,options:_}=t;let T;if(Fn())if(typeof g=="object")T=g;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))T=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=g}const O=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const I=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),v?{statement:v}:null));let R;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")R=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)R=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)w=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),y=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${O.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const I=await T.signMessage(new TextEncoder().encode(w),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=I}}try{const{data:x,error:g}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Vs(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:gr});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Oo}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(ze(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await js(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:gr});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Oo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(ze(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gr}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Oo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ro(this.storage,this.storageKey));const{error:f}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Dc("You must provide either an email or phone number.")}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:gr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ro(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:uR})}catch(s){if(ze(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Di;const{error:i}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Dc("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Yh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await js(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Xh()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ui}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Di}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ui})})}catch(n){if(ze(n))return $O(n)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Di;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ro(this.storage,this.storageKey));const{data:u,error:c}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ui});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Di;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Zh(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Di;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Fn())throw new Nc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new jw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jw("No code detected.");const{data:v,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new Nc("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let h=c+f;l&&(h=parseInt(l));const m=h-c;m*1e3<=$o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const w=h-f;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,c);const{data:y,error:x}=await this._getUser(s);if(x)throw x;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await js(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(LO(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=WO(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ro(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ze(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Fn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ze(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,f=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Oo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await QO(async i=>(i>0&&await GO(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Jh(s)&&Date.now()+o-r<$o})}catch(r){if(this._debug(n,"error",r),ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Fn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await js(this.storage,this.storageKey);if(i&&this.userStorage){let o=await js(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Mo(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Xh()}else if(i&&!i.user&&!i.user){const o=await js(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Oi(this.storage,this.storageKey+"-user"),await Mo(this.storage,this.storageKey,i)):i.user=Xh()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Yh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Yh}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Jh(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Di;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new kf;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Di;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ze(s)){const o={data:null,error:s};return Jh(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Mo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Nw(i);await Mo(this.storage,this.storageKey,s)}else{const i=Nw(n);await Mo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Oi(this.storage,this.storageKey),await Oi(this.storage,this.storageKey+"-code-verifier"),await Oi(this.storage,this.storageKey+"-user"),this.userStorage&&await Oi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$o);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/$o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$o}ms, refresh threshold is ${Tm} ticks`),i<=Tm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof VS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ro(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?CR(t.webauthn.credential_response):TR(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:kR(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ER(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Zh(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+DO>i)return r;const{data:s,error:o}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};r=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Zh(r);n!=null&&n.allowExpired||nR(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const c=rR(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,VO(`${a}.${l}`)))throw new jm("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}lu.nextInstanceID=0;const LR=lu;class $R extends LR{constructor(t){super(t)}}var MR=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class FR{constructor(t,n,r){var i,s,o;this.supabaseUrl=t,this.supabaseKey=n;const a=AO(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:wO,realtime:_O,auth:Object.assign(Object.assign({},bO),{storageKey:l}),global:vO},c=PO(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=EO(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Nj(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new mO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new hj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return MR(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $R({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:a,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Zj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const BR=(e,t,n)=>new FR(e,t,n);function UR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}UR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zR="https://"+_S+".supabase.co",VR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhZHRwb3F5cGdxZXRpanZvcGhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE3ODAwNjAsImV4cCI6MjA1NzM1NjA2MH0.dAIWitCyN4TVv3n4PTvhqJlUXsAGVSjOPm-L2jw818k",KR=zR,WR=VR,cn=BR(KR,WR),jy=k.createContext({session:null,setSession:()=>{},isLoading:!0}),HR=({children:e})=>{const[t,n]=k.useState(null),[r,i]=k.useState(!0);k.useEffect(()=>{cn.auth.getSession().then(({data:{session:o}})=>{n(o),i(!1)}),cn.auth.onAuthStateChange((o,a)=>{n(a)})},[]);const s={session:t,setSession:n,isLoading:r};return E.jsx(jy.Provider,{value:s,children:e})},bs=()=>k.useContext(jy),qR=()=>{const[e,t]=k.useState(""),[n,r]=k.useState(""),[i,s]=k.useState(!1),[o,a]=k.useState(null),l=jr(),{setSession:u}=bs(),c=async f=>{f.preventDefault(),s(!0),a(null);try{const{data:{session:h},error:m}=await cn.auth.signInWithPassword({email:e,password:n});if(m)a(m.message);else if(h){u(h);const w=sessionStorage.getItem("redirect_path");sessionStorage.removeItem("redirect_path"),l(w||"/categories",{replace:!0})}}catch(h){a(h.message||"An unexpected error occurred during login.")}finally{s(!1)}};return E.jsx("div",{className:"min-h-screen bg-gray-100 py-6 flex flex-col justify-center sm:py-12",children:E.jsxs("div",{className:"relative py-3 sm:max-w-xl sm:mx-auto",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-300 to-blue-600 shadow-lg transform -skew-y-6 sm:skew-x-6 sm:rounded-3xl"}),E.jsx("div",{className:"relative bg-white px-4 py-10 shadow-lg sm:rounded-3xl sm:px-20",children:E.jsxs("div",{className:"max-w-md mx-auto",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Login"}),E.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"-------------"})]}),E.jsx("div",{children:o&&E.jsx("p",{className:"text-red-500",children:o})}),E.jsxs("div",{className:"divide-y divide-gray-200",children:[E.jsx("form",{onSubmit:c,children:E.jsxs("div",{className:"py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[E.jsxs("div",{className:"relative",children:[E.jsx("input",{autoComplete:"off",id:"email",name:"email",type:"email",value:e,onChange:f=>t(f.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Email address"}),E.jsx("label",{htmlFor:"email",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Email address"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{autoComplete:"off",id:"password",name:"password",type:"password",value:n,onChange:f=>r(f.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Password"}),E.jsx("label",{htmlFor:"password",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Password"})]}),E.jsx("div",{className:"relative",children:E.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-500 px-4 py-2 font-bold text-white shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2",disabled:i,children:i?"Logging in...":"Login"})})]})}),E.jsxs("p",{children:["Don't have an account? ",E.jsx("button",{type:"button",onClick:()=>l("/signup"),children:"Sign Up"})]}),E.jsxs("p",{children:["Forgot your password? ",E.jsx("button",{type:"button",onClick:()=>l("/change-password"),children:"Change Password"})]})]})]})})]})})},GR=()=>{const[e,t]=k.useState(""),[n,r]=k.useState(""),[i,s]=k.useState(!1),[o,a]=k.useState(null),l=async u=>{u.preventDefault(),s(!0),a(null);try{const{error:c}=await cn.auth.signUp({email:e,password:n});c?a(c.message):alert("Signup successful! Please check your email to confirm your account.")}catch(c){a(c.message||"An unexpected error occurred")}finally{s(!1)}};return E.jsxs("div",{children:[E.jsx("h2",{children:"Sign Up"}),o&&E.jsx("p",{style:{color:"red"},children:o}),E.jsxs("form",{onSubmit:l,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",children:"Email:"}),E.jsx("input",{type:"email",id:"email",value:e,onChange:u=>t(u.target.value),required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",children:"Password:"}),E.jsx("input",{type:"password",id:"password",value:n,onChange:u=>r(u.target.value),required:!0})]}),E.jsx("button",{type:"submit",disabled:i,children:i?"Signing up...":"Sign Up"})]})]})},QR=()=>{const[e,t]=k.useState(""),[n,r]=k.useState(!1),[i,s]=k.useState(null),[o,a]=k.useState(null),l=async u=>{u.preventDefault(),r(!0),s(null),a(null);try{const{error:c}=await cn.auth.updateUser({password:e});c?s(c.message):(a("Password updated successfully!"),t(""))}catch(c){s(c.message||"An unexpected error occurred")}finally{r(!1)}};return E.jsxs("div",{children:[E.jsx("h2",{children:"Change Password"}),i&&E.jsx("p",{style:{color:"red"},children:i}),o&&E.jsx("p",{style:{color:"green"},children:o}),E.jsxs("form",{onSubmit:l,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"newPassword",children:"New Password:"}),E.jsx("input",{type:"password",id:"newPassword",value:e,onChange:u=>t(u.target.value),required:!0})]}),E.jsx("button",{type:"submit",disabled:n,children:n?"Updating password...":"Update Password"})]})]})},YR="auth_redirect_sankeertan",JR=()=>{const e=jr(),[t]=rj(),[n,r]=k.useState(!0),[i,s]=k.useState(null),{setSession:o}=k.useContext(jy);return k.useEffect(()=>{const a=t.get("token"),l=t.get("type"),u=t.get("email"),c=async(f,h,m)=>{r(!0),s(null);try{let w;if(h==="invite"||h==="signup"||h==="email_change"||h==="magiclink"){const y=m;if(!y){s("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}w=await cn.auth.verifyOtp({token:f,type:h,email:y})}else if(h==="recover"){e(`/reset-password?token=${f}`,{replace:!0});return}else if(h==="sms"){const y=m;if(!y){s("Phone number is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}w=await cn.auth.verifyOtp({token:f,type:"sms",phone:y})}else{s(`Unsupported authentication type: ${h}`),r(!1),e("/login",{replace:!0});return}if(w!=null&&w.error)s(w.error.message);else{const{data:{session:y}}=await cn.auth.getSession();y&&o(y),localStorage.setItem(YR,"true"),e("/",{replace:!0})}}catch(w){s(w.message||"An unexpected error occurred during authentication.")}finally{r(!1)}};a&&l?l==="recover"?c(a,l,""):l==="invite"||l==="signup"||l==="email_change"||l==="magiclink"?u?c(a,l,u):(s("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0})):c(a,l,""):(s("Invalid authentication link."),r(!1),e("/login",{replace:!0}))},[e,t,o]),n?E.jsx("div",{children:"Verifying your account..."}):i?E.jsxs("div",{children:["Error verifying account: ",i]}):null};var Ru=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ZR={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ki,Sg,M_,XR=(M_=class{constructor(){Ke(this,Ki,ZR);Ke(this,Sg,!1)}setTimeoutProvider(e){Ne(this,Ki,e)}setTimeout(e,t){return H(this,Ki).setTimeout(e,t)}clearTimeout(e){H(this,Ki).clearTimeout(e)}setInterval(e,t){return H(this,Ki).setInterval(e,t)}clearInterval(e){H(this,Ki).clearInterval(e)}},Ki=new WeakMap,Sg=new WeakMap,M_),Ks=new XR;function eI(e){setTimeout(e,0)}var ho=typeof window>"u"||"Deno"in globalThis;function Tn(){}function tI(e,t){return typeof e=="function"?e(t):e}function Om(e){return typeof e=="number"&&e>=0&&e!==1/0}function qS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function cs(e,t){return typeof e=="function"?e(t):e}function tr(e,t){return typeof e=="function"?e(t):e}function zw(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Oy(o,t.options))return!1}else if(!cu(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function Vw(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(uu(t.options.mutationKey)!==uu(s))return!1}else if(!cu(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Oy(e,t){return((t==null?void 0:t.queryKeyHashFn)||uu)(e)}function uu(e){return JSON.stringify(e,(t,n)=>Im(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function cu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>cu(e[n],t[n])):!1}var nI=Object.prototype.hasOwnProperty;function GS(e,t){if(e===t)return e;const n=Kw(e)&&Kw(t);if(!n&&!(Im(e)&&Im(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),o=s.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=n?u:s[u],f=e[c],h=t[c];if(f===h){a[c]=f,(n?u<i:nI.call(e,c))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){a[c]=h;continue}const m=GS(f,h);a[c]=m,m===f&&l++}return i===o&&l===i?e:a}function Rm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Kw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Im(e){if(!Ww(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ww(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ww(e){return Object.prototype.toString.call(e)==="[object Object]"}function rI(e){return new Promise(t=>{Ks.setTimeout(t,e)})}function Dm(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?GS(e,t):t}function iI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function sI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ry=Symbol();function QS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ry?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function oI(e,t){return typeof e=="function"?e(...t):!!e}var Gs,Wi,ca,F_,aI=(F_=class extends Ru{constructor(){super();Ke(this,Gs);Ke(this,Wi);Ke(this,ca);Ne(this,ca,t=>{if(!ho&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,Wi)||this.setEventListener(H(this,ca))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Wi))==null||t.call(this),Ne(this,Wi,void 0))}setEventListener(t){var n;Ne(this,ca,t),(n=H(this,Wi))==null||n.call(this),Ne(this,Wi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){H(this,Gs)!==t&&(Ne(this,Gs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof H(this,Gs)=="boolean"?H(this,Gs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gs=new WeakMap,Wi=new WeakMap,ca=new WeakMap,F_),Iy=new aI;function Nm(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var lI=eI;function uI(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=lI;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Zt=uI(),da,Hi,fa,B_,cI=(B_=class extends Ru{constructor(){super();Ke(this,da,!0);Ke(this,Hi);Ke(this,fa);Ne(this,fa,t=>{if(!ho&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,Hi)||this.setEventListener(H(this,fa))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Hi))==null||t.call(this),Ne(this,Hi,void 0))}setEventListener(t){var n;Ne(this,fa,t),(n=H(this,Hi))==null||n.call(this),Ne(this,Hi,t(this.setOnline.bind(this)))}setOnline(t){H(this,da)!==t&&(Ne(this,da,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return H(this,da)}},da=new WeakMap,Hi=new WeakMap,fa=new WeakMap,B_),Ud=new cI;function dI(e){return Math.min(1e3*2**e,3e4)}function YS(e){return(e??"online")==="online"?Ud.isOnline():!0}var Lm=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function JS(e){let t=!1,n=0,r;const i=Nm(),s=()=>i.status!=="pending",o=y=>{var x;if(!s()){const g=new Lm(y);h(g),(x=e.onCancel)==null||x.call(e,g)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>Iy.isFocused()&&(e.networkMode==="always"||Ud.isOnline())&&e.canRun(),c=()=>YS(e.networkMode)&&e.canRun(),f=y=>{s()||(r==null||r(),i.resolve(y))},h=y=>{s()||(r==null||r(),i.reject(y))},m=()=>new Promise(y=>{var x;r=g=>{(s()||u())&&y(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var y;r=void 0,s()||(y=e.onContinue)==null||y.call(e)}),w=()=>{if(s())return;let y;const x=n===0?e.initialPromise:void 0;try{y=x??e.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(f).catch(g=>{var I;if(s())return;const v=e.retry??(ho?0:3),_=e.retryDelay??dI,T=typeof _=="function"?_(n,g):_,O=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(t||!O){h(g);return}n++,(I=e.onFail)==null||I.call(e,n,g),rI(T).then(()=>u()?void 0:m()).then(()=>{t?h(g):w()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?w():m().then(w),i)}}var Qs,U_,ZS=(U_=class{constructor(){Ke(this,Qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Om(this.gcTime)&&Ne(this,Qs,Ks.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ho?1/0:5*60*1e3))}clearGcTimeout(){H(this,Qs)&&(Ks.clearTimeout(H(this,Qs)),Ne(this,Qs,void 0))}},Qs=new WeakMap,U_),Ys,ha,er,Js,Ht,yu,Zs,wr,ei,z_,fI=(z_=class extends ZS{constructor(t){super();Ke(this,wr);Ke(this,Ys);Ke(this,ha);Ke(this,er);Ke(this,Js);Ke(this,Ht);Ke(this,yu);Ke(this,Zs);Ne(this,Zs,!1),Ne(this,yu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ne(this,Js,t.client),Ne(this,er,H(this,Js).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ne(this,Ys,Hw(this.options)),this.state=t.state??H(this,Ys),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,Ht))==null?void 0:t.promise}setOptions(t){if(this.options={...H(this,yu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Hw(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Ne(this,Ys,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,er).remove(this)}setData(t,n){const r=Dm(this.state.data,t,this.options);return st(this,wr,ei).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){st(this,wr,ei).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=H(this,Ht))==null?void 0:r.promise;return(i=H(this,Ht))==null||i.cancel(t),n?n.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Ys))}isActive(){return this.observers.some(t=>tr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ry||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>cs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qS(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Ht))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Ht))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,er).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(H(this,Ht)&&(H(this,Zs)?H(this,Ht).cancel({revert:!0}):H(this,Ht).cancelRetry()),this.scheduleGc()),H(this,er).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,wr,ei).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,c,f,h,m,w,y,x,g,v,_;if(this.state.fetchStatus!=="idle"&&((l=H(this,Ht))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(H(this,Ht))return H(this,Ht).continueRetry(),H(this,Ht).promise}if(t&&this.setOptions(t),!this.options.queryFn){const T=this.observers.find(O=>O.options.queryFn);T&&this.setOptions(T.options)}const r=new AbortController,i=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(Ne(this,Zs,!0),r.signal)})},s=()=>{const T=QS(this.options,n),I=(()=>{const R={client:H(this,Js),queryKey:this.queryKey,meta:this.meta};return i(R),R})();return Ne(this,Zs,!1),this.options.persister?this.options.persister(T,I,this):T(I)},a=(()=>{const T={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:H(this,Js),state:this.state,fetchFn:s};return i(T),T})();(u=this.options.behavior)==null||u.onFetch(a,this),Ne(this,ha,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&st(this,wr,ei).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),Ne(this,Ht,JS({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:T=>{T instanceof Lm&&T.revert&&this.setState({...H(this,ha),fetchStatus:"idle"}),r.abort()},onFail:(T,O)=>{st(this,wr,ei).call(this,{type:"failed",failureCount:T,error:O})},onPause:()=>{st(this,wr,ei).call(this,{type:"pause"})},onContinue:()=>{st(this,wr,ei).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const T=await H(this,Ht).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(m=(h=H(this,er).config).onSuccess)==null||m.call(h,T,this),(y=(w=H(this,er).config).onSettled)==null||y.call(w,T,this.state.error,this),T}catch(T){if(T instanceof Lm){if(T.silent)return H(this,Ht).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw st(this,wr,ei).call(this,{type:"error",error:T}),(g=(x=H(this,er).config).onError)==null||g.call(x,T,this),(_=(v=H(this,er).config).onSettled)==null||_.call(v,this.state.data,T,this),T}finally{this.scheduleGc()}}},Ys=new WeakMap,ha=new WeakMap,er=new WeakMap,Js=new WeakMap,Ht=new WeakMap,yu=new WeakMap,Zs=new WeakMap,wr=new WeakSet,ei=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...XS(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ne(this,ha,t.manual?i:void 0),i;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Zt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),H(this,er).notify({query:this,type:"updated",action:t})})},z_);function XS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Hw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var En,ot,vu,mn,Xs,pa,ii,qi,wu,ma,ga,eo,to,Gi,ya,ct,vl,$m,Mm,Fm,Bm,Um,zm,Vm,ek,V_,hI=(V_=class extends Ru{constructor(t,n){super();Ke(this,ct);Ke(this,En);Ke(this,ot);Ke(this,vu);Ke(this,mn);Ke(this,Xs);Ke(this,pa);Ke(this,ii);Ke(this,qi);Ke(this,wu);Ke(this,ma);Ke(this,ga);Ke(this,eo);Ke(this,to);Ke(this,Gi);Ke(this,ya,new Set);this.options=n,Ne(this,En,t),Ne(this,qi,null),Ne(this,ii,Nm()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,ot).addObserver(this),qw(H(this,ot),this.options)?st(this,ct,vl).call(this):this.updateResult(),st(this,ct,Bm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Km(H(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Km(H(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,ct,Um).call(this),st(this,ct,zm).call(this),H(this,ot).removeObserver(this)}setOptions(t){const n=this.options,r=H(this,ot);if(this.options=H(this,En).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof tr(this.options.enabled,H(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,ct,Vm).call(this),H(this,ot).setOptions(this.options),n._defaulted&&!Rm(this.options,n)&&H(this,En).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,ot),observer:this});const i=this.hasListeners();i&&Gw(H(this,ot),r,this.options,n)&&st(this,ct,vl).call(this),this.updateResult(),i&&(H(this,ot)!==r||tr(this.options.enabled,H(this,ot))!==tr(n.enabled,H(this,ot))||cs(this.options.staleTime,H(this,ot))!==cs(n.staleTime,H(this,ot)))&&st(this,ct,$m).call(this);const s=st(this,ct,Mm).call(this);i&&(H(this,ot)!==r||tr(this.options.enabled,H(this,ot))!==tr(n.enabled,H(this,ot))||s!==H(this,Gi))&&st(this,ct,Fm).call(this,s)}getOptimisticResult(t){const n=H(this,En).getQueryCache().build(H(this,En),t),r=this.createResult(n,t);return mI(this,r)&&(Ne(this,mn,r),Ne(this,pa,this.options),Ne(this,Xs,H(this,ot).state)),r}getCurrentResult(){return H(this,mn)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&H(this,ii).status==="pending"&&H(this,ii).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,i))})}trackProp(t){H(this,ya).add(t)}getCurrentQuery(){return H(this,ot)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=H(this,En).defaultQueryOptions(t),r=H(this,En).getQueryCache().build(H(this,En),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return st(this,ct,vl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,mn)))}createResult(t,n){var U;const r=H(this,ot),i=this.options,s=H(this,mn),o=H(this,Xs),a=H(this,pa),u=t!==r?t.state:H(this,vu),{state:c}=t;let f={...c},h=!1,m;if(n._optimisticResults){const V=this.hasListeners(),we=!V&&qw(t,n),F=V&&Gw(t,r,n,i);(we||F)&&(f={...f,...XS(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:x}=f;m=f.data;let g=!1;if(n.placeholderData!==void 0&&m===void 0&&x==="pending"){let V;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(V=s.data,g=!0):V=typeof n.placeholderData=="function"?n.placeholderData((U=H(this,ga))==null?void 0:U.state.data,H(this,ga)):n.placeholderData,V!==void 0&&(x="success",m=Dm(s==null?void 0:s.data,V,n),h=!0)}if(n.select&&m!==void 0&&!g)if(s&&m===(o==null?void 0:o.data)&&n.select===H(this,wu))m=H(this,ma);else try{Ne(this,wu,n.select),m=n.select(m),m=Dm(s==null?void 0:s.data,m,n),Ne(this,ma,m),Ne(this,qi,null)}catch(V){Ne(this,qi,V)}H(this,qi)&&(w=H(this,qi),m=H(this,ma),y=Date.now(),x="error");const v=f.fetchStatus==="fetching",_=x==="pending",T=x==="error",O=_&&v,I=m!==void 0,$={status:x,fetchStatus:f.fetchStatus,isPending:_,isSuccess:x==="success",isError:T,isInitialLoading:O,isLoading:O,data:m,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!_,isLoadingError:T&&!I,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:T&&I,isStale:Dy(t,n),refetch:this.refetch,promise:H(this,ii),isEnabled:tr(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const V=ee=>{$.status==="error"?ee.reject($.error):$.data!==void 0&&ee.resolve($.data)},we=()=>{const ee=Ne(this,ii,$.promise=Nm());V(ee)},F=H(this,ii);switch(F.status){case"pending":t.queryHash===r.queryHash&&V(F);break;case"fulfilled":($.status==="error"||$.data!==F.value)&&we();break;case"rejected":($.status!=="error"||$.error!==F.reason)&&we();break}}return $}updateResult(){const t=H(this,mn),n=this.createResult(H(this,ot),this.options);if(Ne(this,Xs,H(this,ot).state),Ne(this,pa,this.options),H(this,Xs).data!==void 0&&Ne(this,ga,H(this,ot)),Rm(n,t))return;Ne(this,mn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!H(this,ya).size)return!0;const o=new Set(s??H(this,ya));return this.options.throwOnError&&o.add("error"),Object.keys(H(this,mn)).some(a=>{const l=a;return H(this,mn)[l]!==t[l]&&o.has(l)})};st(this,ct,ek).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,ct,Bm).call(this)}},En=new WeakMap,ot=new WeakMap,vu=new WeakMap,mn=new WeakMap,Xs=new WeakMap,pa=new WeakMap,ii=new WeakMap,qi=new WeakMap,wu=new WeakMap,ma=new WeakMap,ga=new WeakMap,eo=new WeakMap,to=new WeakMap,Gi=new WeakMap,ya=new WeakMap,ct=new WeakSet,vl=function(t){st(this,ct,Vm).call(this);let n=H(this,ot).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Tn)),n},$m=function(){st(this,ct,Um).call(this);const t=cs(this.options.staleTime,H(this,ot));if(ho||H(this,mn).isStale||!Om(t))return;const r=qS(H(this,mn).dataUpdatedAt,t)+1;Ne(this,eo,Ks.setTimeout(()=>{H(this,mn).isStale||this.updateResult()},r))},Mm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,ot)):this.options.refetchInterval)??!1},Fm=function(t){st(this,ct,zm).call(this),Ne(this,Gi,t),!(ho||tr(this.options.enabled,H(this,ot))===!1||!Om(H(this,Gi))||H(this,Gi)===0)&&Ne(this,to,Ks.setInterval(()=>{(this.options.refetchIntervalInBackground||Iy.isFocused())&&st(this,ct,vl).call(this)},H(this,Gi)))},Bm=function(){st(this,ct,$m).call(this),st(this,ct,Fm).call(this,st(this,ct,Mm).call(this))},Um=function(){H(this,eo)&&(Ks.clearTimeout(H(this,eo)),Ne(this,eo,void 0))},zm=function(){H(this,to)&&(Ks.clearInterval(H(this,to)),Ne(this,to,void 0))},Vm=function(){const t=H(this,En).getQueryCache().build(H(this,En),this.options);if(t===H(this,ot))return;const n=H(this,ot);Ne(this,ot,t),Ne(this,vu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},ek=function(t){Zt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(H(this,mn))}),H(this,En).getQueryCache().notify({query:H(this,ot),type:"observerResultsUpdated"})})},V_);function pI(e,t){return tr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function qw(e,t){return pI(e,t)||e.state.data!==void 0&&Km(e,t,t.refetchOnMount)}function Km(e,t,n){if(tr(t.enabled,e)!==!1&&cs(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Dy(e,t)}return!1}function Gw(e,t,n,r){return(e!==t||tr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Dy(e,n)}function Dy(e,t){return tr(t.enabled,e)!==!1&&e.isStaleByTime(cs(t.staleTime,e))}function mI(e,t){return!Rm(e.getCurrentResult(),t)}function Qw(e){return{onFetch:(t,n)=>{var c,f,h,m,w;const r=t.options,i=(h=(f=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=QS(t.options,t.fetchOptions),v=async(_,T,O)=>{if(y)return Promise.reject();if(T==null&&_.pages.length)return Promise.resolve(_);const R=(()=>{const we={client:t.client,queryKey:t.queryKey,pageParam:T,direction:O?"backward":"forward",meta:t.options.meta};return x(we),we})(),$=await g(R),{maxPages:U}=t.options,V=O?sI:iI;return{pages:V(_.pages,$,U),pageParams:V(_.pageParams,T,U)}};if(i&&s.length){const _=i==="backward",T=_?gI:Yw,O={pages:s,pageParams:o},I=T(r,O);a=await v(O,I,_)}else{const _=e??s.length;do{const T=l===0?o[0]??r.initialPageParam:Yw(r,a);if(l>0&&T==null)break;a=await v(a,T),l++}while(l<_)}return a};t.options.persister?t.fetchFn=()=>{var y,x;return(x=(y=t.options).persister)==null?void 0:x.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Yw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function gI(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var bu,Fr,gn,no,Br,Ni,K_,yI=(K_=class extends ZS{constructor(t){super();Ke(this,Br);Ke(this,bu);Ke(this,Fr);Ke(this,gn);Ke(this,no);Ne(this,bu,t.client),this.mutationId=t.mutationId,Ne(this,gn,t.mutationCache),Ne(this,Fr,[]),this.state=t.state||vI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,Fr).includes(t)||(H(this,Fr).push(t),this.clearGcTimeout(),H(this,gn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ne(this,Fr,H(this,Fr).filter(n=>n!==t)),this.scheduleGc(),H(this,gn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,Fr).length||(this.state.status==="pending"?this.scheduleGc():H(this,gn).remove(this))}continue(){var t;return((t=H(this,no))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,c,f,h,m,w,y,x,g,v,_,T,O,I,R,$,U;const n=()=>{st(this,Br,Ni).call(this,{type:"continue"})},r={client:H(this,bu),meta:this.options.meta,mutationKey:this.options.mutationKey};Ne(this,no,JS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(V,we)=>{st(this,Br,Ni).call(this,{type:"failed",failureCount:V,error:we})},onPause:()=>{st(this,Br,Ni).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,gn).canRun(this)}));const i=this.state.status==="pending",s=!H(this,no).canStart();try{if(i)n();else{st(this,Br,Ni).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=H(this,gn).config).onMutate)==null?void 0:a.call(o,t,this,r));const we=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));we!==this.state.context&&st(this,Br,Ni).call(this,{type:"pending",context:we,variables:t,isPaused:s})}const V=await H(this,no).start();return await((f=(c=H(this,gn).config).onSuccess)==null?void 0:f.call(c,V,t,this.state.context,this,r)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,V,t,this.state.context,r)),await((y=(w=H(this,gn).config).onSettled)==null?void 0:y.call(w,V,null,this.state.variables,this.state.context,this,r)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,V,null,t,this.state.context,r)),st(this,Br,Ni).call(this,{type:"success",data:V}),V}catch(V){try{throw await((_=(v=H(this,gn).config).onError)==null?void 0:_.call(v,V,t,this.state.context,this,r)),await((O=(T=this.options).onError)==null?void 0:O.call(T,V,t,this.state.context,r)),await((R=(I=H(this,gn).config).onSettled)==null?void 0:R.call(I,void 0,V,this.state.variables,this.state.context,this,r)),await((U=($=this.options).onSettled)==null?void 0:U.call($,void 0,V,t,this.state.context,r)),V}finally{st(this,Br,Ni).call(this,{type:"error",error:V})}}finally{H(this,gn).runNext(this)}}},bu=new WeakMap,Fr=new WeakMap,gn=new WeakMap,no=new WeakMap,Br=new WeakSet,Ni=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Zt.batch(()=>{H(this,Fr).forEach(r=>{r.onMutationUpdate(t)}),H(this,gn).notify({mutation:this,type:"updated",action:t})})},K_);function vI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var si,br,_u,W_,wI=(W_=class extends Ru{constructor(t={}){super();Ke(this,si);Ke(this,br);Ke(this,_u);this.config=t,Ne(this,si,new Set),Ne(this,br,new Map),Ne(this,_u,0)}build(t,n,r){const i=new yI({client:t,mutationCache:this,mutationId:++pc(this,_u)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){H(this,si).add(t);const n=Lc(t);if(typeof n=="string"){const r=H(this,br).get(n);r?r.push(t):H(this,br).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(H(this,si).delete(t)){const n=Lc(t);if(typeof n=="string"){const r=H(this,br).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&H(this,br).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Lc(t);if(typeof n=="string"){const r=H(this,br).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Lc(t);if(typeof n=="string"){const i=(r=H(this,br).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{H(this,si).forEach(t=>{this.notify({type:"removed",mutation:t})}),H(this,si).clear(),H(this,br).clear()})}getAll(){return Array.from(H(this,si))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Vw(n,r))}findAll(t={}){return this.getAll().filter(n=>Vw(t,n))}notify(t){Zt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Tn))))}},si=new WeakMap,br=new WeakMap,_u=new WeakMap,W_);function Lc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ur,H_,bI=(H_=class extends Ru{constructor(t={}){super();Ke(this,Ur);this.config=t,Ne(this,Ur,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??Oy(i,n);let o=this.get(s);return o||(o=new fI({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){H(this,Ur).has(t.queryHash)||(H(this,Ur).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=H(this,Ur).get(t.queryHash);n&&(t.destroy(),n===t&&H(this,Ur).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,Ur).get(t)}getAll(){return[...H(this,Ur).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>zw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>zw(t,r)):n}notify(t){Zt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ur=new WeakMap,H_),Tt,Qi,Yi,va,wa,Ji,ba,_a,q_,_I=(q_=class{constructor(e={}){Ke(this,Tt);Ke(this,Qi);Ke(this,Yi);Ke(this,va);Ke(this,wa);Ke(this,Ji);Ke(this,ba);Ke(this,_a);Ne(this,Tt,e.queryCache||new bI),Ne(this,Qi,e.mutationCache||new wI),Ne(this,Yi,e.defaultOptions||{}),Ne(this,va,new Map),Ne(this,wa,new Map),Ne(this,Ji,0)}mount(){pc(this,Ji)._++,H(this,Ji)===1&&(Ne(this,ba,Iy.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Tt).onFocus())})),Ne(this,_a,Ud.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Tt).onOnline())})))}unmount(){var e,t;pc(this,Ji)._--,H(this,Ji)===0&&((e=H(this,ba))==null||e.call(this),Ne(this,ba,void 0),(t=H(this,_a))==null||t.call(this),Ne(this,_a,void 0))}isFetching(e){return H(this,Tt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,Qi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,Tt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=H(this,Tt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(cs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return H(this,Tt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=H(this,Tt).get(r.queryHash),s=i==null?void 0:i.state.data,o=tI(t,s);if(o!==void 0)return H(this,Tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Zt.batch(()=>H(this,Tt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,Tt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=H(this,Tt);Zt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=H(this,Tt);return Zt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Zt.batch(()=>H(this,Tt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(e,t={}){return Zt.batch(()=>(H(this,Tt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Zt.batch(()=>H(this,Tt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Tn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=H(this,Tt).build(this,t);return n.isStaleByTime(cs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tn).catch(Tn)}fetchInfiniteQuery(e){return e.behavior=Qw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tn).catch(Tn)}ensureInfiniteQueryData(e){return e.behavior=Qw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ud.isOnline()?H(this,Qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,Tt)}getMutationCache(){return H(this,Qi)}getDefaultOptions(){return H(this,Yi)}setDefaultOptions(e){Ne(this,Yi,e)}setQueryDefaults(e,t){H(this,va).set(uu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,va).values()],n={};return t.forEach(r=>{cu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){H(this,wa).set(uu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,wa).values()],n={};return t.forEach(r=>{cu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,Yi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Oy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ry&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,Yi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,Tt).clear(),H(this,Qi).clear()}},Tt=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,va=new WeakMap,wa=new WeakMap,Ji=new WeakMap,ba=new WeakMap,_a=new WeakMap,q_),tk=k.createContext(void 0),Ef=e=>{const t=k.useContext(tk);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},xI=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),E.jsx(tk.Provider,{value:e,children:t})),nk=k.createContext(!1),SI=()=>k.useContext(nk);nk.Provider;function kI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var EI=k.createContext(kI()),CI=()=>k.useContext(EI),TI=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},PI=e=>{k.useEffect(()=>{e.clearReset()},[e])},AI=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||oI(n,[e.error,r])),jI=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},OI=(e,t)=>e.isLoading&&e.isFetching&&!t,RI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Jw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function II(e,t,n){var f,h,m,w,y;const r=SI(),i=CI(),s=Ef(),o=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",jI(o),TI(o,i),PI(i);const a=!s.getQueryCache().get(o.queryHash),[l]=k.useState(()=>new t(s,o)),u=l.getOptimisticResult(o),c=!r&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(x=>{const g=c?l.subscribe(Zt.batchCalls(x)):Tn;return l.updateResult(),g},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),k.useEffect(()=>{l.setOptions(o)},[o,l]),RI(o,u))throw Jw(o,l,i);if(AI({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||w.call(m,o,u),o.experimental_prefetchInRender&&!ho&&OI(u,r)){const x=a?Jw(o,l,i):(y=s.getQueryCache().get(o.queryHash))==null?void 0:y.promise;x==null||x.catch(Tn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Ny(e,t){return II(e,hI)}var rk={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Gt,function(){var n=function(d,p){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(b[C]=S[C])})(d,p)},r=function(){return(r=Object.assign||function(d){for(var p,b=1,S=arguments.length;b<S;b++)for(var C in p=arguments[b])Object.prototype.hasOwnProperty.call(p,C)&&(d[C]=p[C]);return d}).apply(this,arguments)};function i(d,p,b){for(var S,C=0,j=p.length;C<j;C++)!S&&C in p||((S=S||Array.prototype.slice.call(p,0,C))[C]=p[C]);return d.concat(S||Array.prototype.slice.call(p))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Gt,o=Object.keys,a=Array.isArray;function l(d,p){return typeof p!="object"||o(p).forEach(function(b){d[b]=p[b]}),d}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var u=Object.getPrototypeOf,c={}.hasOwnProperty;function f(d,p){return c.call(d,p)}function h(d,p){typeof p=="function"&&(p=p(u(d))),(typeof Reflect>"u"?o:Reflect.ownKeys)(p).forEach(function(b){w(d,b,p[b])})}var m=Object.defineProperty;function w(d,p,b,S){m(d,p,l(b&&f(b,"get")&&typeof b.get=="function"?{get:b.get,set:b.set,configurable:!0}:{value:b,configurable:!0,writable:!0},S))}function y(d){return{from:function(p){return d.prototype=Object.create(p.prototype),w(d.prototype,"constructor",d),{extend:h.bind(null,d.prototype)}}}}var x=Object.getOwnPropertyDescriptor,g=[].slice;function v(d,p,b){return g.call(d,p,b)}function _(d,p){return p(d)}function T(d){if(!d)throw new Error("Assertion Failed")}function O(d){s.setImmediate?setImmediate(d):setTimeout(d,0)}function I(d,p){if(typeof p=="string"&&f(d,p))return d[p];if(!p)return d;if(typeof p!="string"){for(var b=[],S=0,C=p.length;S<C;++S){var j=I(d,p[S]);b.push(j)}return b}var D=p.indexOf(".");if(D!==-1){var B=d[p.substr(0,D)];return B==null?void 0:I(B,p.substr(D+1))}}function R(d,p,b){if(d&&p!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof p!="string"&&"length"in p){T(typeof b!="string"&&"length"in b);for(var S=0,C=p.length;S<C;++S)R(d,p[S],b[S])}else{var j,D,B=p.indexOf(".");B!==-1?(j=p.substr(0,B),(D=p.substr(B+1))===""?b===void 0?a(d)&&!isNaN(parseInt(j))?d.splice(j,1):delete d[j]:d[j]=b:R(B=!(B=d[j])||!f(d,j)?d[j]={}:B,D,b)):b===void 0?a(d)&&!isNaN(parseInt(p))?d.splice(p,1):delete d[p]:d[p]=b}}function $(d){var p,b={};for(p in d)f(d,p)&&(b[p]=d[p]);return b}var U=[].concat;function V(d){return U.apply([],d)}var Fe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(V([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(p){return p+d+"Array"})}))).filter(function(d){return s[d]}),we=new Set(Fe.map(function(d){return s[d]})),F=null;function ee(d){return F=new WeakMap,d=function p(b){if(!b||typeof b!="object")return b;var S=F.get(b);if(S)return S;if(a(b)){S=[],F.set(b,S);for(var C=0,j=b.length;C<j;++C)S.push(p(b[C]))}else if(we.has(b.constructor))S=b;else{var D,B=u(b);for(D in S=B===Object.prototype?{}:Object.create(B),F.set(b,S),b)f(b,D)&&(S[D]=p(b[D]))}return S}(d),F=null,d}var A={}.toString;function ue(d){return A.call(d).slice(8,-1)}var Oe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",M=typeof Oe=="symbol"?function(d){var p;return d!=null&&(p=d[Oe])&&p.apply(d)}:function(){return null};function X(d,p){return p=d.indexOf(p),0<=p&&d.splice(p,1),0<=p}var Y={};function ce(d){var p,b,S,C;if(arguments.length===1){if(a(d))return d.slice();if(this===Y&&typeof d=="string")return[d];if(C=M(d)){for(b=[];!(S=C.next()).done;)b.push(S.value);return b}if(d==null)return[d];if(typeof(p=d.length)!="number")return[d];for(b=new Array(p);p--;)b[p]=d[p];return b}for(p=arguments.length,b=new Array(p);p--;)b[p]=arguments[p];return b}var G=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},xe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Yn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(xe),Q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function oe(d,p){this.name=d,this.message=p}function pe(d,p){return d+". Errors: "+Object.keys(p).map(function(b){return p[b].toString()}).filter(function(b,S,C){return C.indexOf(b)===S}).join(`
`)}function me(d,p,b,S){this.failures=p,this.failedKeys=S,this.successCount=b,this.message=pe(d,p)}function Me(d,p){this.name="BulkError",this.failures=Object.keys(p).map(function(b){return p[b]}),this.failuresByPos=p,this.message=pe(d,this.failures)}y(oe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),y(me).from(oe),y(Me).from(oe);var Ve=Yn.reduce(function(d,p){return d[p]=p+"Error",d},{}),Be=oe,be=Yn.reduce(function(d,p){var b=p+"Error";function S(C,j){this.name=b,C?typeof C=="string"?(this.message="".concat(C).concat(j?`
 `+j:""),this.inner=j||null):typeof C=="object"&&(this.message="".concat(C.name," ").concat(C.message),this.inner=C):(this.message=Q[p]||b,this.inner=null)}return y(S).from(Be),d[p]=S,d},{});be.Syntax=SyntaxError,be.Type=TypeError,be.Range=RangeError;var Ge=xe.reduce(function(d,p){return d[p+"Error"]=be[p],d},{}),ut=Yn.reduce(function(d,p){return["Syntax","Type","Range"].indexOf(p)===-1&&(d[p+"Error"]=be[p]),d},{});function He(){}function Ft(d){return d}function P(d,p){return d==null||d===Ft?p:function(b){return p(d(b))}}function he(d,p){return function(){d.apply(this,arguments),p.apply(this,arguments)}}function de(d,p){return d===He?p:function(){var b=d.apply(this,arguments);b!==void 0&&(arguments[0]=b);var S=this.onsuccess,C=this.onerror;this.onsuccess=null,this.onerror=null;var j=p.apply(this,arguments);return S&&(this.onsuccess=this.onsuccess?he(S,this.onsuccess):S),C&&(this.onerror=this.onerror?he(C,this.onerror):C),j!==void 0?j:b}}function L(d,p){return d===He?p:function(){d.apply(this,arguments);var b=this.onsuccess,S=this.onerror;this.onsuccess=this.onerror=null,p.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?he(b,this.onsuccess):b),S&&(this.onerror=this.onerror?he(S,this.onerror):S)}}function N(d,p){return d===He?p:function(b){var S=d.apply(this,arguments);l(b,S);var C=this.onsuccess,j=this.onerror;return this.onsuccess=null,this.onerror=null,b=p.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?he(C,this.onsuccess):C),j&&(this.onerror=this.onerror?he(j,this.onerror):j),S===void 0?b===void 0?void 0:b:l(S,b)}}function ne(d,p){return d===He?p:function(){return p.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function ge(d,p){return d===He?p:function(){var b=d.apply(this,arguments);if(b&&typeof b.then=="function"){for(var S=this,C=arguments.length,j=new Array(C);C--;)j[C]=arguments[C];return b.then(function(){return p.apply(S,j)})}return p.apply(this,arguments)}}ut.ModifyError=me,ut.DexieError=oe,ut.BulkError=Me;var ye=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ae(d){ye=d}var _e={},Ie=100,Fe=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,u(d),d];var p=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[p,u(p),d]}(),xe=Fe[0],Yn=Fe[1],Fe=Fe[2],Yn=Yn&&Yn.then,nt=xe&&xe.constructor,Ze=!!Fe,jt=function(d,p){Or.push([d,p]),Re&&(queueMicrotask(FC),Re=!1)},Gn=!0,Re=!0,Ue=[],et=[],xn=Ft,hn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:He,pgp:!1,env:{},finalize:He},De=hn,Or=[],Qn=0,Si=[];function Ce(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var p=this._PSD=De;if(typeof d!="function"){if(d!==_e)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&hr(this,this._value))}this._state=null,this._value=null,++p.ref,function b(S,C){try{C(function(j){if(S._state===null){if(j===S)throw new TypeError("A promise cannot be resolved with itself.");var D=S._lib&&_o();j&&typeof j.then=="function"?b(S,function(B,K){j instanceof Ce?j._then(B,K):j.then(B,K)}):(S._state=!0,S._value=j,Pv(S)),D&&xo()}},hr.bind(null,S))}catch(j){hr(S,j)}}(this,d)}var Yr={get:function(){var d=De,p=qu;function b(S,C){var j=this,D=!d.global&&(d!==De||p!==qu),B=D&&!Ei(),K=new Ce(function(W,te){Vf(j,new Rr(jv(S,d,D,B),jv(C,d,D,B),W,te,d))});return this._consoleTask&&(K._consoleTask=this._consoleTask),K}return b.prototype=_e,b},set:function(d){w(this,"then",d&&d.prototype===_e?Yr:{get:function(){return d},set:Yr.set})}};function Rr(d,p,b,S,C){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof p=="function"?p:null,this.resolve=b,this.reject=S,this.psd=C}function hr(d,p){var b,S;et.push(p),d._state===null&&(b=d._lib&&_o(),p=xn(p),d._state=!1,d._value=p,S=d,Ue.some(function(C){return C._value===S._value})||Ue.push(S),Pv(d),b&&xo())}function Pv(d){var p=d._listeners;d._listeners=[];for(var b=0,S=p.length;b<S;++b)Vf(d,p[b]);var C=d._PSD;--C.ref||C.finalize(),Qn===0&&(++Qn,jt(function(){--Qn==0&&Kf()},[]))}function Vf(d,p){if(d._state!==null){var b=d._state?p.onFulfilled:p.onRejected;if(b===null)return(d._state?p.resolve:p.reject)(d._value);++p.psd.ref,++Qn,jt(MC,[b,d,p])}else d._listeners.push(p)}function MC(d,p,b){try{var S,C=p._value;!p._state&&et.length&&(et=[]),S=ye&&p._consoleTask?p._consoleTask.run(function(){return d(C)}):d(C),p._state||et.indexOf(C)!==-1||function(j){for(var D=Ue.length;D;)if(Ue[--D]._value===j._value)return Ue.splice(D,1)}(p),b.resolve(S)}catch(j){b.reject(j)}finally{--Qn==0&&Kf(),--b.psd.ref||b.psd.finalize()}}function FC(){Ss(hn,function(){_o()&&xo()})}function _o(){var d=Gn;return Re=Gn=!1,d}function xo(){var d,p,b;do for(;0<Or.length;)for(d=Or,Or=[],b=d.length,p=0;p<b;++p){var S=d[p];S[0].apply(null,S[1])}while(0<Or.length);Re=Gn=!0}function Kf(){var d=Ue;Ue=[],d.forEach(function(S){S._PSD.onunhandled.call(null,S._value,S)});for(var p=Si.slice(0),b=p.length;b;)p[--b]()}function Ku(d){return new Ce(_e,!1,d)}function vt(d,p){var b=De;return function(){var S=_o(),C=De;try{return Ci(b,!0),d.apply(this,arguments)}catch(j){p&&p(j)}finally{Ci(C,!1),S&&xo()}}}h(Ce.prototype,{then:Yr,_then:function(d,p){Vf(this,new Rr(null,null,d,p,De))},catch:function(d){if(arguments.length===1)return this.then(null,d);var p=d,b=arguments[1];return typeof p=="function"?this.then(null,function(S){return(S instanceof p?b:Ku)(S)}):this.then(null,function(S){return(S&&S.name===p?b:Ku)(S)})},finally:function(d){return this.then(function(p){return Ce.resolve(d()).then(function(){return p})},function(p){return Ce.resolve(d()).then(function(){return Ku(p)})})},timeout:function(d,p){var b=this;return d<1/0?new Ce(function(S,C){var j=setTimeout(function(){return C(new be.Timeout(p))},d);b.then(S,C).finally(clearTimeout.bind(null,j))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(Ce.prototype,Symbol.toStringTag,"Dexie.Promise"),hn.env=Av(),h(Ce,{all:function(){var d=ce.apply(null,arguments).map(Gu);return new Ce(function(p,b){d.length===0&&p([]);var S=d.length;d.forEach(function(C,j){return Ce.resolve(C).then(function(D){d[j]=D,--S||p(d)},b)})})},resolve:function(d){return d instanceof Ce?d:d&&typeof d.then=="function"?new Ce(function(p,b){d.then(p,b)}):new Ce(_e,!0,d)},reject:Ku,race:function(){var d=ce.apply(null,arguments).map(Gu);return new Ce(function(p,b){d.map(function(S){return Ce.resolve(S).then(p,b)})})},PSD:{get:function(){return De},set:function(d){return De=d}},totalEchoes:{get:function(){return qu}},newPSD:ki,usePSD:Ss,scheduler:{get:function(){return jt},set:function(d){jt=d}},rejectionMapper:{get:function(){return xn},set:function(d){xn=d}},follow:function(d,p){return new Ce(function(b,S){return ki(function(C,j){var D=De;D.unhandleds=[],D.onunhandled=j,D.finalize=he(function(){var B,K=this;B=function(){K.unhandleds.length===0?C():j(K.unhandleds[0])},Si.push(function W(){B(),Si.splice(Si.indexOf(W),1)}),++Qn,jt(function(){--Qn==0&&Kf()},[])},D.finalize),d()},p,b,S)})}}),nt&&(nt.allSettled&&w(Ce,"allSettled",function(){var d=ce.apply(null,arguments).map(Gu);return new Ce(function(p){d.length===0&&p([]);var b=d.length,S=new Array(b);d.forEach(function(C,j){return Ce.resolve(C).then(function(D){return S[j]={status:"fulfilled",value:D}},function(D){return S[j]={status:"rejected",reason:D}}).then(function(){return--b||p(S)})})})}),nt.any&&typeof AggregateError<"u"&&w(Ce,"any",function(){var d=ce.apply(null,arguments).map(Gu);return new Ce(function(p,b){d.length===0&&b(new AggregateError([]));var S=d.length,C=new Array(S);d.forEach(function(j,D){return Ce.resolve(j).then(function(B){return p(B)},function(B){C[D]=B,--S||b(new AggregateError(C))})})})}),nt.withResolvers&&(Ce.withResolvers=nt.withResolvers));var Kt={awaits:0,echoes:0,id:0},BC=0,Wu=[],Hu=0,qu=0,UC=0;function ki(d,p,b,S){var C=De,j=Object.create(C);return j.parent=C,j.ref=0,j.global=!1,j.id=++UC,hn.env,j.env=Ze?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject}:{},p&&l(j,p),++C.ref,j.finalize=function(){--this.parent.ref||this.parent.finalize()},S=Ss(j,d,b,S),j.ref===0&&j.finalize(),S}function So(){return Kt.id||(Kt.id=++BC),++Kt.awaits,Kt.echoes+=Ie,Kt.id}function Ei(){return!!Kt.awaits&&(--Kt.awaits==0&&(Kt.id=0),Kt.echoes=Kt.awaits*Ie,!0)}function Gu(d){return Kt.echoes&&d&&d.constructor===nt?(So(),d.then(function(p){return Ei(),p},function(p){return Ei(),Ot(p)})):d}function zC(){var d=Wu[Wu.length-1];Wu.pop(),Ci(d,!1)}function Ci(d,p){var b,S=De;(p?!Kt.echoes||Hu++&&d===De:!Hu||--Hu&&d===De)||queueMicrotask(p?(function(C){++qu,Kt.echoes&&--Kt.echoes!=0||(Kt.echoes=Kt.awaits=Kt.id=0),Wu.push(De),Ci(C,!0)}).bind(null,d):zC),d!==De&&(De=d,S===hn&&(hn.env=Av()),Ze&&(b=hn.env.Promise,p=d.env,(S.global||d.global)&&(Object.defineProperty(s,"Promise",p.PromiseProp),b.all=p.all,b.race=p.race,b.resolve=p.resolve,b.reject=p.reject,p.allSettled&&(b.allSettled=p.allSettled),p.any&&(b.any=p.any))))}function Av(){var d=s.Promise;return Ze?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function Ss(d,p,b,S,C){var j=De;try{return Ci(d,!0),p(b,S,C)}finally{Ci(j,!1)}}function jv(d,p,b,S){return typeof d!="function"?d:function(){var C=De;b&&So(),Ci(p,!0);try{return d.apply(this,arguments)}finally{Ci(C,!1),S&&queueMicrotask(Ei)}}}function Wf(d){Promise===nt&&Kt.echoes===0?Hu===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+Yn).indexOf("[native code]")===-1&&(So=Ei=He);var Ot=Ce.reject,ks="",Jr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ov="String expected.",ko=[],Qu="__dbnames",Hf="readonly",qf="readwrite";function Es(d,p){return d?p?function(){return d.apply(this,arguments)&&p.apply(this,arguments)}:d:p}var Rv={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Yu(d){return typeof d!="string"||/\./.test(d)?function(p){return p}:function(p){return p[d]===void 0&&d in p&&delete(p=ee(p))[d],p}}function Iv(){throw be.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function it(d,p){try{var b=Dv(d),S=Dv(p);if(b!==S)return b==="Array"?1:S==="Array"?-1:b==="binary"?1:S==="binary"?-1:b==="string"?1:S==="string"?-1:b==="Date"?1:S!=="Date"?NaN:-1;switch(b){case"number":case"Date":case"string":return p<d?1:d<p?-1:0;case"binary":return function(C,j){for(var D=C.length,B=j.length,K=D<B?D:B,W=0;W<K;++W)if(C[W]!==j[W])return C[W]<j[W]?-1:1;return D===B?0:D<B?-1:1}(Nv(d),Nv(p));case"Array":return function(C,j){for(var D=C.length,B=j.length,K=D<B?D:B,W=0;W<K;++W){var te=it(C[W],j[W]);if(te!==0)return te}return D===B?0:D<B?-1:1}(d,p)}}catch{}return NaN}function Dv(d){var p=typeof d;return p!="object"?p:ArrayBuffer.isView(d)?"binary":(d=ue(d),d==="ArrayBuffer"?"binary":d)}function Nv(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}function Ju(d,p,b){var S=d.schema.yProps;return S?(p&&0<b.numFailures&&(p=p.filter(function(C,j){return!b.failures[j]})),Promise.all(S.map(function(C){return C=C.updatesTable,p?d.db.table(C).where("k").anyOf(p).delete():d.db.table(C).clear()})).then(function(){return b})):b}var Ka=(Lv.prototype.execute=function(d){var p=this["@@propmod"];if(p.add!==void 0){var b=p.add;if(a(b))return i(i([],a(d)?d:[],!0),b).sort();if(typeof b=="number")return(Number(d)||0)+b;if(typeof b=="bigint")try{return BigInt(d)+b}catch{return BigInt(0)+b}throw new TypeError("Invalid term ".concat(b))}if(p.remove!==void 0){var S=p.remove;if(a(S))return a(d)?d.filter(function(C){return!S.includes(C)}).sort():[];if(typeof S=="number")return Number(d)-S;if(typeof S=="bigint")try{return BigInt(d)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return b=(b=p.replacePrefix)===null||b===void 0?void 0:b[0],b&&typeof d=="string"&&d.startsWith(b)?p.replacePrefix[1]+d.substring(b.length):d},Lv);function Lv(d){this["@@propmod"]=d}function $v(d,p){for(var b=o(p),S=b.length,C=!1,j=0;j<S;++j){var D=b[j],B=p[D],K=I(d,D);B instanceof Ka?(R(d,D,B.execute(K)),C=!0):K!==B&&(R(d,D,B),C=!0)}return C}var Mv=(ht.prototype._trans=function(d,p,b){var S=this._tx||De.trans,C=this.name,j=ye&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function D(W,te,z){if(!z.schema[C])throw new be.NotFound("Table "+C+" not part of transaction");return p(z.idbtrans,z)}var B=_o();try{var K=S&&S.db._novip===this.db._novip?S===De.trans?S._promise(d,D,b):ki(function(){return S._promise(d,D,b)},{trans:S,transless:De.transless||De}):function W(te,z,ie,q){if(te.idbdb&&(te._state.openComplete||De.letThrough||te._vip)){var J=te._createTransaction(z,ie,te._dbSchema);try{J.create(),te._state.PR1398_maxLoop=3}catch(Z){return Z.name===Ve.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return W(te,z,ie,q)})):Ot(Z)}return J._promise(z,function(Z,re){return ki(function(){return De.trans=J,q(Z,re,J)})}).then(function(Z){if(z==="readwrite")try{J.idbtrans.commit()}catch{}return z==="readonly"?Z:J._completion.then(function(){return Z})})}if(te._state.openComplete)return Ot(new be.DatabaseClosed(te._state.dbOpenError));if(!te._state.isBeingOpened){if(!te._state.autoOpen)return Ot(new be.DatabaseClosed);te.open().catch(He)}return te._state.dbReadyPromise.then(function(){return W(te,z,ie,q)})}(this.db,d,[this.name],D);return j&&(K._consoleTask=j,K=K.catch(function(W){return console.trace(W),Ot(W)})),K}finally{B&&xo()}},ht.prototype.get=function(d,p){var b=this;return d&&d.constructor===Object?this.where(d).first(p):d==null?Ot(new be.Type("Invalid argument to Table.get()")):this._trans("readonly",function(S){return b.core.get({trans:S,key:d}).then(function(C){return b.hook.reading.fire(C)})}).then(p)},ht.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(a(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var p=o(d);if(p.length===1)return this.where(p[0]).equals(d[p[0]]);var b=this.schema.indexes.concat(this.schema.primKey).filter(function(B){if(B.compound&&p.every(function(W){return 0<=B.keyPath.indexOf(W)})){for(var K=0;K<p.length;++K)if(p.indexOf(B.keyPath[K])===-1)return!1;return!0}return!1}).sort(function(B,K){return B.keyPath.length-K.keyPath.length})[0];if(b&&this.db._maxKey!==ks){var j=b.keyPath.slice(0,p.length);return this.where(j).equals(j.map(function(K){return d[K]}))}!b&&ye&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(p.join("+"),"]"));var S=this.schema.idxByName;function C(B,K){return it(B,K)===0}var D=p.reduce(function(z,K){var W=z[0],te=z[1],z=S[K],ie=d[K];return[W||z,W||!z?Es(te,z&&z.multi?function(q){return q=I(q,K),a(q)&&q.some(function(J){return C(ie,J)})}:function(q){return C(ie,I(q,K))}):te]},[null,null]),j=D[0],D=D[1];return j?this.where(j.name).equals(d[j.keyPath]).filter(D):b?this.filter(D):this.where(p).equals("")},ht.prototype.filter=function(d){return this.toCollection().and(d)},ht.prototype.count=function(d){return this.toCollection().count(d)},ht.prototype.offset=function(d){return this.toCollection().offset(d)},ht.prototype.limit=function(d){return this.toCollection().limit(d)},ht.prototype.each=function(d){return this.toCollection().each(d)},ht.prototype.toArray=function(d){return this.toCollection().toArray(d)},ht.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ht.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,a(d)?"[".concat(d.join("+"),"]"):d))},ht.prototype.reverse=function(){return this.toCollection().reverse()},ht.prototype.mapToClass=function(d){var p,b=this.db,S=this.name;function C(){return p!==null&&p.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof Iv&&(function(K,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function te(){this.constructor=K}n(K,W),K.prototype=W===null?Object.create(W):(te.prototype=W.prototype,new te)}(C,p=d),Object.defineProperty(C.prototype,"db",{get:function(){return b},enumerable:!1,configurable:!0}),C.prototype.table=function(){return S},d=C);for(var j=new Set,D=d.prototype;D;D=u(D))Object.getOwnPropertyNames(D).forEach(function(K){return j.add(K)});function B(K){if(!K)return K;var W,te=Object.create(d.prototype);for(W in K)if(!j.has(W))try{te[W]=K[W]}catch{}return te}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=B,this.hook("reading",B),d},ht.prototype.defineClass=function(){return this.mapToClass(function(d){l(this,d)})},ht.prototype.add=function(d,p){var b=this,S=this.schema.primKey,C=S.auto,j=S.keyPath,D=d;return j&&C&&(D=Yu(j)(d)),this._trans("readwrite",function(B){return b.core.mutate({trans:B,type:"add",keys:p!=null?[p]:null,values:[D]})}).then(function(B){return B.numFailures?Ce.reject(B.failures[0]):B.lastResult}).then(function(B){if(j)try{R(d,j,B)}catch{}return B})},ht.prototype.upsert=function(d,p){var b=this,S=this.schema.primKey.keyPath;return this._trans("readwrite",function(C){return b.core.get({trans:C,key:d}).then(function(j){var D=j??{};return $v(D,p),S&&R(D,S,d),b.core.mutate({trans:C,type:"put",values:[D],keys:[d],upsert:!0,updates:{keys:[d],changeSpecs:[p]}}).then(function(B){return B.numFailures?Ce.reject(B.failures[0]):!!j})})})},ht.prototype.update=function(d,p){return typeof d!="object"||a(d)?this.where(":id").equals(d).modify(p):(d=I(d,this.schema.primKey.keyPath),d===void 0?Ot(new be.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(p))},ht.prototype.put=function(d,p){var b=this,S=this.schema.primKey,C=S.auto,j=S.keyPath,D=d;return j&&C&&(D=Yu(j)(d)),this._trans("readwrite",function(B){return b.core.mutate({trans:B,type:"put",values:[D],keys:p!=null?[p]:null})}).then(function(B){return B.numFailures?Ce.reject(B.failures[0]):B.lastResult}).then(function(B){if(j)try{R(d,j,B)}catch{}return B})},ht.prototype.delete=function(d){var p=this;return this._trans("readwrite",function(b){return p.core.mutate({trans:b,type:"delete",keys:[d]}).then(function(S){return Ju(p,[d],S)}).then(function(S){return S.numFailures?Ce.reject(S.failures[0]):void 0})})},ht.prototype.clear=function(){var d=this;return this._trans("readwrite",function(p){return d.core.mutate({trans:p,type:"deleteRange",range:Rv}).then(function(b){return Ju(d,null,b)})}).then(function(p){return p.numFailures?Ce.reject(p.failures[0]):void 0})},ht.prototype.bulkGet=function(d){var p=this;return this._trans("readonly",function(b){return p.core.getMany({keys:d,trans:b}).then(function(S){return S.map(function(C){return p.hook.reading.fire(C)})})})},ht.prototype.bulkAdd=function(d,p,b){var S=this,C=Array.isArray(p)?p:void 0,j=(b=b||(C?void 0:p))?b.allKeys:void 0;return this._trans("readwrite",function(D){var W=S.schema.primKey,B=W.auto,W=W.keyPath;if(W&&C)throw new be.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(C&&C.length!==d.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var K=d.length,W=W&&B?d.map(Yu(W)):d;return S.core.mutate({trans:D,type:"add",keys:C,values:W,wantResults:j}).then(function(J){var z=J.numFailures,ie=J.results,q=J.lastResult,J=J.failures;if(z===0)return j?ie:q;throw new Me("".concat(S.name,".bulkAdd(): ").concat(z," of ").concat(K," operations failed"),J)})})},ht.prototype.bulkPut=function(d,p,b){var S=this,C=Array.isArray(p)?p:void 0,j=(b=b||(C?void 0:p))?b.allKeys:void 0;return this._trans("readwrite",function(D){var W=S.schema.primKey,B=W.auto,W=W.keyPath;if(W&&C)throw new be.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(C&&C.length!==d.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var K=d.length,W=W&&B?d.map(Yu(W)):d;return S.core.mutate({trans:D,type:"put",keys:C,values:W,wantResults:j}).then(function(J){var z=J.numFailures,ie=J.results,q=J.lastResult,J=J.failures;if(z===0)return j?ie:q;throw new Me("".concat(S.name,".bulkPut(): ").concat(z," of ").concat(K," operations failed"),J)})})},ht.prototype.bulkUpdate=function(d){var p=this,b=this.core,S=d.map(function(D){return D.key}),C=d.map(function(D){return D.changes}),j=[];return this._trans("readwrite",function(D){return b.getMany({trans:D,keys:S,cache:"clone"}).then(function(B){var K=[],W=[];d.forEach(function(z,ie){var q=z.key,J=z.changes,Z=B[ie];if(Z){for(var re=0,se=Object.keys(J);re<se.length;re++){var le=se[re],fe=J[le];if(le===p.schema.primKey.keyPath){if(it(fe,q)!==0)throw new be.Constraint("Cannot update primary key in bulkUpdate()")}else R(Z,le,fe)}j.push(ie),K.push(q),W.push(Z)}});var te=K.length;return b.mutate({trans:D,type:"put",keys:K,values:W,updates:{keys:S,changeSpecs:C}}).then(function(z){var ie=z.numFailures,q=z.failures;if(ie===0)return te;for(var J=0,Z=Object.keys(q);J<Z.length;J++){var re,se=Z[J],le=j[Number(se)];le!=null&&(re=q[se],delete q[se],q[le]=re)}throw new Me("".concat(p.name,".bulkUpdate(): ").concat(ie," of ").concat(te," operations failed"),q)})})})},ht.prototype.bulkDelete=function(d){var p=this,b=d.length;return this._trans("readwrite",function(S){return p.core.mutate({trans:S,type:"delete",keys:d}).then(function(C){return Ju(p,d,C)})}).then(function(D){var C=D.numFailures,j=D.lastResult,D=D.failures;if(C===0)return j;throw new Me("".concat(p.name,".bulkDelete(): ").concat(C," of ").concat(b," operations failed"),D)})},ht);function ht(){}function Wa(d){function p(D,B){if(B){for(var K=arguments.length,W=new Array(K-1);--K;)W[K-1]=arguments[K];return b[D].subscribe.apply(null,W),d}if(typeof D=="string")return b[D]}var b={};p.addEventType=j;for(var S=1,C=arguments.length;S<C;++S)j(arguments[S]);return p;function j(D,B,K){if(typeof D!="object"){var W;B=B||ne;var te={subscribers:[],fire:K=K||He,subscribe:function(z){te.subscribers.indexOf(z)===-1&&(te.subscribers.push(z),te.fire=B(te.fire,z))},unsubscribe:function(z){te.subscribers=te.subscribers.filter(function(ie){return ie!==z}),te.fire=te.subscribers.reduce(B,K)}};return b[D]=p[D]=te}o(W=D).forEach(function(z){var ie=W[z];if(a(ie))j(z,W[z][0],W[z][1]);else{if(ie!=="asap")throw new be.InvalidArgument("Invalid event config");var q=j(z,Ft,function(){for(var J=arguments.length,Z=new Array(J);J--;)Z[J]=arguments[J];q.subscribers.forEach(function(re){O(function(){re.apply(null,Z)})})})}})}}function Ha(d,p){return y(p).from({prototype:d}),p}function Eo(d,p){return!(d.filter||d.algorithm||d.or)&&(p?d.justLimit:!d.replayFilter)}function Gf(d,p){d.filter=Es(d.filter,p)}function Qf(d,p,b){var S=d.replayFilter;d.replayFilter=S?function(){return Es(S(),p())}:p,d.justLimit=b&&!S}function Zu(d,p){if(d.isPrimKey)return p.primaryKey;var b=p.getIndexByKeyPath(d.index);if(!b)throw new be.Schema("KeyPath "+d.index+" on object store "+p.name+" is not indexed");return b}function Fv(d,p,b){var S=Zu(d,p.schema);return p.openCursor({trans:b,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:S,range:d.range}})}function Xu(d,p,b,S){var C=d.replayFilter?Es(d.filter,d.replayFilter()):d.filter;if(d.or){var j={},D=function(B,K,W){var te,z;C&&!C(K,W,function(ie){return K.stop(ie)},function(ie){return K.fail(ie)})||((z=""+(te=K.primaryKey))=="[object ArrayBuffer]"&&(z=""+new Uint8Array(te)),f(j,z)||(j[z]=!0,p(B,K,W)))};return Promise.all([d.or._iterate(D,b),Bv(Fv(d,S,b),d.algorithm,D,!d.keysOnly&&d.valueMapper)])}return Bv(Fv(d,S,b),Es(d.algorithm,C),p,!d.keysOnly&&d.valueMapper)}function Bv(d,p,b,S){var C=vt(S?function(j,D,B){return b(S(j),D,B)}:b);return d.then(function(j){if(j)return j.start(function(){var D=function(){return j.continue()};p&&!p(j,function(B){return D=B},function(B){j.stop(B),D=He},function(B){j.fail(B),D=He})||C(j.value,j,function(B){return D=B}),D()})})}var VC=(lt.prototype._read=function(d,p){var b=this._ctx;return b.error?b.table._trans(null,Ot.bind(null,b.error)):b.table._trans("readonly",d).then(p)},lt.prototype._write=function(d){var p=this._ctx;return p.error?p.table._trans(null,Ot.bind(null,p.error)):p.table._trans("readwrite",d,"locked")},lt.prototype._addAlgorithm=function(d){var p=this._ctx;p.algorithm=Es(p.algorithm,d)},lt.prototype._iterate=function(d,p){return Xu(this._ctx,d,p,this._ctx.table.core)},lt.prototype.clone=function(d){var p=Object.create(this.constructor.prototype),b=Object.create(this._ctx);return d&&l(b,d),p._ctx=b,p},lt.prototype.raw=function(){return this._ctx.valueMapper=null,this},lt.prototype.each=function(d){var p=this._ctx;return this._read(function(b){return Xu(p,d,b,p.table.core)})},lt.prototype.count=function(d){var p=this;return this._read(function(b){var S=p._ctx,C=S.table.core;if(Eo(S,!0))return C.count({trans:b,query:{index:Zu(S,C.schema),range:S.range}}).then(function(D){return Math.min(D,S.limit)});var j=0;return Xu(S,function(){return++j,!1},b,C).then(function(){return j})}).then(d)},lt.prototype.sortBy=function(d,p){var b=d.split(".").reverse(),S=b[0],C=b.length-1;function j(K,W){return W?j(K[b[W]],W-1):K[S]}var D=this._ctx.dir==="next"?1:-1;function B(K,W){return it(j(K,C),j(W,C))*D}return this.toArray(function(K){return K.sort(B)}).then(p)},lt.prototype.toArray=function(d){var p=this;return this._read(function(b){var S=p._ctx;if(S.dir==="next"&&Eo(S,!0)&&0<S.limit){var C=S.valueMapper,j=Zu(S,S.table.core.schema);return S.table.core.query({trans:b,limit:S.limit,values:!0,query:{index:j,range:S.range}}).then(function(B){return B=B.result,C?B.map(C):B})}var D=[];return Xu(S,function(B){return D.push(B)},b,S.table.core).then(function(){return D})},d)},lt.prototype.offset=function(d){var p=this._ctx;return d<=0||(p.offset+=d,Eo(p)?Qf(p,function(){var b=d;return function(S,C){return b===0||(b===1?--b:C(function(){S.advance(b),b=0}),!1)}}):Qf(p,function(){var b=d;return function(){return--b<0}})),this},lt.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),Qf(this._ctx,function(){var p=d;return function(b,S,C){return--p<=0&&S(C),0<=p}},!0),this},lt.prototype.until=function(d,p){return Gf(this._ctx,function(b,S,C){return!d(b.value)||(S(C),p)}),this},lt.prototype.first=function(d){return this.limit(1).toArray(function(p){return p[0]}).then(d)},lt.prototype.last=function(d){return this.reverse().first(d)},lt.prototype.filter=function(d){var p;return Gf(this._ctx,function(b){return d(b.value)}),(p=this._ctx).isMatch=Es(p.isMatch,d),this},lt.prototype.and=function(d){return this.filter(d)},lt.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},lt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},lt.prototype.desc=function(){return this.reverse()},lt.prototype.eachKey=function(d){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(b,S){d(S.key,S)})},lt.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},lt.prototype.eachPrimaryKey=function(d){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(b,S){d(S.primaryKey,S)})},lt.prototype.keys=function(d){var p=this._ctx;p.keysOnly=!p.isMatch;var b=[];return this.each(function(S,C){b.push(C.key)}).then(function(){return b}).then(d)},lt.prototype.primaryKeys=function(d){var p=this._ctx;if(p.dir==="next"&&Eo(p,!0)&&0<p.limit)return this._read(function(S){var C=Zu(p,p.table.core.schema);return p.table.core.query({trans:S,values:!1,limit:p.limit,query:{index:C,range:p.range}})}).then(function(S){return S.result}).then(d);p.keysOnly=!p.isMatch;var b=[];return this.each(function(S,C){b.push(C.primaryKey)}).then(function(){return b}).then(d)},lt.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},lt.prototype.firstKey=function(d){return this.limit(1).keys(function(p){return p[0]}).then(d)},lt.prototype.lastKey=function(d){return this.reverse().firstKey(d)},lt.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var p={};return Gf(this._ctx,function(C){var S=C.primaryKey.toString(),C=f(p,S);return p[S]=!0,!C}),this},lt.prototype.modify=function(d){var p=this,b=this._ctx;return this._write(function(S){var C=typeof d=="function"?d:function(Z){return $v(Z,d)},j=b.table.core,W=j.schema.primaryKey,D=W.outbound,B=W.extractKey,K=200,W=p.db._options.modifyChunkSize;W&&(K=typeof W=="object"?W[j.name]||W["*"]||200:W);function te(Z,le){var se=le.failures,le=le.numFailures;ie+=Z-le;for(var fe=0,ve=o(se);fe<ve.length;fe++){var Ee=ve[fe];z.push(se[Ee])}}var z=[],ie=0,q=[],J=d===Uv;return p.clone().primaryKeys().then(function(Z){function re(le){var fe=Math.min(K,Z.length-le),ve=Z.slice(le,le+fe);return(J?Promise.resolve([]):j.getMany({trans:S,keys:ve,cache:"immutable"})).then(function(Ee){var Ae=[],ke=[],Te=D?[]:null,je=J?ve:[];if(!J)for(var Pe=0;Pe<fe;++Pe){var Le=Ee[Pe],Je={value:ee(Le),primKey:Z[le+Pe]};C.call(Je,Je.value,Je)!==!1&&(Je.value==null?je.push(Z[le+Pe]):D||it(B(Le),B(Je.value))===0?(ke.push(Je.value),D&&Te.push(Z[le+Pe])):(je.push(Z[le+Pe]),Ae.push(Je.value)))}return Promise.resolve(0<Ae.length&&j.mutate({trans:S,type:"add",values:Ae}).then(function(Xe){for(var tt in Xe.failures)je.splice(parseInt(tt),1);te(Ae.length,Xe)})).then(function(){return(0<ke.length||se&&typeof d=="object")&&j.mutate({trans:S,type:"put",keys:Te,values:ke,criteria:se,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<le}).then(function(Xe){return te(ke.length,Xe)})}).then(function(){return(0<je.length||se&&J)&&j.mutate({trans:S,type:"delete",keys:je,criteria:se,isAdditionalChunk:0<le}).then(function(Xe){return Ju(b.table,je,Xe)}).then(function(Xe){return te(je.length,Xe)})}).then(function(){return Z.length>le+fe&&re(le+K)})})}var se=Eo(b)&&b.limit===1/0&&(typeof d!="function"||J)&&{index:b.index,range:b.range};return re(0).then(function(){if(0<z.length)throw new me("Error modifying one or more objects",z,ie,q);return Z.length})})})},lt.prototype.delete=function(){var d=this._ctx,p=d.range;return!Eo(d)||d.table.schema.yProps||!d.isPrimKey&&p.type!==3?this.modify(Uv):this._write(function(b){var S=d.table.core.schema.primaryKey,C=p;return d.table.core.count({trans:b,query:{index:S,range:C}}).then(function(j){return d.table.core.mutate({trans:b,type:"deleteRange",range:C}).then(function(K){var B=K.failures,K=K.numFailures;if(K)throw new me("Could not delete some values",Object.keys(B).map(function(W){return B[W]}),j-K);return j-K})})})},lt);function lt(){}var Uv=function(d,p){return p.value=null};function KC(d,p){return d<p?-1:d===p?0:1}function WC(d,p){return p<d?-1:d===p?0:1}function $n(d,p,b){return d=d instanceof Vv?new d.Collection(d):d,d._ctx.error=new(b||TypeError)(p),d}function Co(d){return new d.Collection(d,function(){return zv("")}).limit(0)}function ec(d,p,b,S){var C,j,D,B,K,W,te,z=b.length;if(!b.every(function(J){return typeof J=="string"}))return $n(d,Ov);function ie(J){C=J==="next"?function(re){return re.toUpperCase()}:function(re){return re.toLowerCase()},j=J==="next"?function(re){return re.toLowerCase()}:function(re){return re.toUpperCase()},D=J==="next"?KC:WC;var Z=b.map(function(re){return{lower:j(re),upper:C(re)}}).sort(function(re,se){return D(re.lower,se.lower)});B=Z.map(function(re){return re.upper}),K=Z.map(function(re){return re.lower}),te=(W=J)==="next"?"":S}ie("next"),d=new d.Collection(d,function(){return Ti(B[0],K[z-1]+S)}),d._ondirectionchange=function(J){ie(J)};var q=0;return d._addAlgorithm(function(J,Z,re){var se=J.key;if(typeof se!="string")return!1;var le=j(se);if(p(le,K,q))return!0;for(var fe=null,ve=q;ve<z;++ve){var Ee=function(Ae,ke,Te,je,Pe,Le){for(var Je=Math.min(Ae.length,je.length),Xe=-1,tt=0;tt<Je;++tt){var Mn=ke[tt];if(Mn!==je[tt])return Pe(Ae[tt],Te[tt])<0?Ae.substr(0,tt)+Te[tt]+Te.substr(tt+1):Pe(Ae[tt],je[tt])<0?Ae.substr(0,tt)+je[tt]+Te.substr(tt+1):0<=Xe?Ae.substr(0,Xe)+ke[Xe]+Te.substr(Xe+1):null;Pe(Ae[tt],Mn)<0&&(Xe=tt)}return Je<je.length&&Le==="next"?Ae+Te.substr(Ae.length):Je<Ae.length&&Le==="prev"?Ae.substr(0,Te.length):Xe<0?null:Ae.substr(0,Xe)+je[Xe]+Te.substr(Xe+1)}(se,le,B[ve],K[ve],D,W);Ee===null&&fe===null?q=ve+1:(fe===null||0<D(fe,Ee))&&(fe=Ee)}return Z(fe!==null?function(){J.continue(fe+te)}:re),!1}),d}function Ti(d,p,b,S){return{type:2,lower:d,upper:p,lowerOpen:b,upperOpen:S}}function zv(d){return{type:1,lower:d,upper:d}}var Vv=(Object.defineProperty(Wt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Wt.prototype.between=function(d,p,b,S){b=b!==!1,S=S===!0;try{return 0<this._cmp(d,p)||this._cmp(d,p)===0&&(b||S)&&(!b||!S)?Co(this):new this.Collection(this,function(){return Ti(d,p,!b,!S)})}catch{return $n(this,Jr)}},Wt.prototype.equals=function(d){return d==null?$n(this,Jr):new this.Collection(this,function(){return zv(d)})},Wt.prototype.above=function(d){return d==null?$n(this,Jr):new this.Collection(this,function(){return Ti(d,void 0,!0)})},Wt.prototype.aboveOrEqual=function(d){return d==null?$n(this,Jr):new this.Collection(this,function(){return Ti(d,void 0,!1)})},Wt.prototype.below=function(d){return d==null?$n(this,Jr):new this.Collection(this,function(){return Ti(void 0,d,!1,!0)})},Wt.prototype.belowOrEqual=function(d){return d==null?$n(this,Jr):new this.Collection(this,function(){return Ti(void 0,d)})},Wt.prototype.startsWith=function(d){return typeof d!="string"?$n(this,Ov):this.between(d,d+ks,!0,!0)},Wt.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):ec(this,function(p,b){return p.indexOf(b[0])===0},[d],ks)},Wt.prototype.equalsIgnoreCase=function(d){return ec(this,function(p,b){return p===b[0]},[d],"")},Wt.prototype.anyOfIgnoreCase=function(){var d=ce.apply(Y,arguments);return d.length===0?Co(this):ec(this,function(p,b){return b.indexOf(p)!==-1},d,"")},Wt.prototype.startsWithAnyOfIgnoreCase=function(){var d=ce.apply(Y,arguments);return d.length===0?Co(this):ec(this,function(p,b){return b.some(function(S){return p.indexOf(S)===0})},d,ks)},Wt.prototype.anyOf=function(){var d=this,p=ce.apply(Y,arguments),b=this._cmp;try{p.sort(b)}catch{return $n(this,Jr)}if(p.length===0)return Co(this);var S=new this.Collection(this,function(){return Ti(p[0],p[p.length-1])});S._ondirectionchange=function(j){b=j==="next"?d._ascending:d._descending,p.sort(b)};var C=0;return S._addAlgorithm(function(j,D,B){for(var K=j.key;0<b(K,p[C]);)if(++C===p.length)return D(B),!1;return b(K,p[C])===0||(D(function(){j.continue(p[C])}),!1)}),S},Wt.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Wt.prototype.noneOf=function(){var d=ce.apply(Y,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return $n(this,Jr)}var p=d.reduce(function(b,S){return b?b.concat([[b[b.length-1][1],S]]):[[-1/0,S]]},null);return p.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(p,{includeLowers:!1,includeUppers:!1})},Wt.prototype.inAnyRange=function(se,p){var b=this,S=this._cmp,C=this._ascending,j=this._descending,D=this._min,B=this._max;if(se.length===0)return Co(this);if(!se.every(function(le){return le[0]!==void 0&&le[1]!==void 0&&C(le[0],le[1])<=0}))return $n(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",be.InvalidArgument);var K=!p||p.includeLowers!==!1,W=p&&p.includeUppers===!0,te,z=C;function ie(le,fe){return z(le[0],fe[0])}try{(te=se.reduce(function(le,fe){for(var ve=0,Ee=le.length;ve<Ee;++ve){var Ae=le[ve];if(S(fe[0],Ae[1])<0&&0<S(fe[1],Ae[0])){Ae[0]=D(Ae[0],fe[0]),Ae[1]=B(Ae[1],fe[1]);break}}return ve===Ee&&le.push(fe),le},[])).sort(ie)}catch{return $n(this,Jr)}var q=0,J=W?function(le){return 0<C(le,te[q][1])}:function(le){return 0<=C(le,te[q][1])},Z=K?function(le){return 0<j(le,te[q][0])}:function(le){return 0<=j(le,te[q][0])},re=J,se=new this.Collection(this,function(){return Ti(te[0][0],te[te.length-1][1],!K,!W)});return se._ondirectionchange=function(le){z=le==="next"?(re=J,C):(re=Z,j),te.sort(ie)},se._addAlgorithm(function(le,fe,ve){for(var Ee,Ae=le.key;re(Ae);)if(++q===te.length)return fe(ve),!1;return!J(Ee=Ae)&&!Z(Ee)||(b._cmp(Ae,te[q][1])===0||b._cmp(Ae,te[q][0])===0||fe(function(){z===C?le.continue(te[q][0]):le.continue(te[q][1])}),!1)}),se},Wt.prototype.startsWithAnyOf=function(){var d=ce.apply(Y,arguments);return d.every(function(p){return typeof p=="string"})?d.length===0?Co(this):this.inAnyRange(d.map(function(p){return[p,p+ks]})):$n(this,"startsWithAnyOf() only works with strings")},Wt);function Wt(){}function Ir(d){return vt(function(p){return qa(p),d(p.target.error),!1})}function qa(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var Ga="storagemutated",Yf="x-storagemutated-1",Pi=Wa(null,Ga),HC=(Dr.prototype._lock=function(){return T(!De.global),++this._reculock,this._reculock!==1||De.global||(De.lockOwnerFor=this),this},Dr.prototype._unlock=function(){if(T(!De.global),--this._reculock==0)for(De.global||(De.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{Ss(d[1],d[0])}catch{}}return this},Dr.prototype._locked=function(){return this._reculock&&De.lockOwnerFor!==this},Dr.prototype.create=function(d){var p=this;if(!this.mode)return this;var b=this.db.idbdb,S=this.db._state.dbOpenError;if(T(!this.idbtrans),!d&&!b)switch(S&&S.name){case"DatabaseClosedError":throw new be.DatabaseClosed(S);case"MissingAPIError":throw new be.MissingAPI(S.message,S);default:throw new be.OpenFailed(S)}if(!this.active)throw new be.TransactionInactive;return T(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||b).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=vt(function(C){qa(C),p._reject(d.error)}),d.onabort=vt(function(C){qa(C),p.active&&p._reject(new be.Abort(d.error)),p.active=!1,p.on("abort").fire(C)}),d.oncomplete=vt(function(){p.active=!1,p._resolve(),"mutatedParts"in d&&Pi.storagemutated.fire(d.mutatedParts)}),this},Dr.prototype._promise=function(d,p,b){var S=this;if(d==="readwrite"&&this.mode!=="readwrite")return Ot(new be.ReadOnly("Transaction is readonly"));if(!this.active)return Ot(new be.TransactionInactive);if(this._locked())return new Ce(function(j,D){S._blockedFuncs.push([function(){S._promise(d,p,b).then(j,D)},De])});if(b)return ki(function(){var j=new Ce(function(D,B){S._lock();var K=p(D,B,S);K&&K.then&&K.then(D,B)});return j.finally(function(){return S._unlock()}),j._lib=!0,j});var C=new Ce(function(j,D){var B=p(j,D,S);B&&B.then&&B.then(j,D)});return C._lib=!0,C},Dr.prototype._root=function(){return this.parent?this.parent._root():this},Dr.prototype.waitFor=function(d){var p,b=this._root(),S=Ce.resolve(d);b._waitingFor?b._waitingFor=b._waitingFor.then(function(){return S}):(b._waitingFor=S,b._waitingQueue=[],p=b.idbtrans.objectStore(b.storeNames[0]),function j(){for(++b._spinCount;b._waitingQueue.length;)b._waitingQueue.shift()();b._waitingFor&&(p.get(-1/0).onsuccess=j)}());var C=b._waitingFor;return new Ce(function(j,D){S.then(function(B){return b._waitingQueue.push(vt(j.bind(null,B)))},function(B){return b._waitingQueue.push(vt(D.bind(null,B)))}).finally(function(){b._waitingFor===C&&(b._waitingFor=null)})})},Dr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new be.Abort))},Dr.prototype.table=function(d){var p=this._memoizedTables||(this._memoizedTables={});if(f(p,d))return p[d];var b=this.schema[d];if(!b)throw new be.NotFound("Table "+d+" not part of transaction");return b=new this.db.Table(d,b,this),b.core=this.db.core.table(d),p[d]=b},Dr);function Dr(){}function Jf(d,p,b,S,C,j,D,B){return{name:d,keyPath:p,unique:b,multi:S,auto:C,compound:j,src:(b&&!D?"&":"")+(S?"*":"")+(C?"++":"")+Kv(p),type:B}}function Kv(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function Zf(d,p,b){return{name:d,primKey:p,indexes:b,mappedClass:null,idxByName:(S=function(C){return[C.name,C]},b.reduce(function(C,j,D){return D=S(j,D),D&&(C[D[0]]=D[1]),C},{}))};var S}var Qa=function(d){try{return d.only([[]]),Qa=function(){return[[]]},[[]]}catch{return Qa=function(){return ks},ks}};function Xf(d){return d==null?function(){}:typeof d=="string"?(p=d).split(".").length===1?function(b){return b[p]}:function(b){return I(b,p)}:function(b){return I(b,d)};var p}function Wv(d){return[].slice.call(d)}var qC=0;function Ya(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function GC(d,p,K){function S(re){if(re.type===3)return null;if(re.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var q=re.lower,J=re.upper,Z=re.lowerOpen,re=re.upperOpen;return q===void 0?J===void 0?null:p.upperBound(J,!!re):J===void 0?p.lowerBound(q,!!Z):p.bound(q,J,!!Z,!!re)}function C(ie){var q,J=ie.name;return{name:J,schema:ie,mutate:function(Z){var re=Z.trans,se=Z.type,le=Z.keys,fe=Z.values,ve=Z.range;return new Promise(function(Ee,Ae){Ee=vt(Ee);var ke=re.objectStore(J),Te=ke.keyPath==null,je=se==="put"||se==="add";if(!je&&se!=="delete"&&se!=="deleteRange")throw new Error("Invalid operation type: "+se);var Pe,Le=(le||fe||{length:1}).length;if(le&&fe&&le.length!==fe.length)throw new Error("Given keys array must have same length as given values array.");if(Le===0)return Ee({numFailures:0,failures:{},results:[],lastResult:void 0});function Je(pn){++Mn,qa(pn)}var Xe=[],tt=[],Mn=0;if(se==="deleteRange"){if(ve.type===4)return Ee({numFailures:Mn,failures:tt,results:[],lastResult:void 0});ve.type===3?Xe.push(Pe=ke.clear()):Xe.push(Pe=ke.delete(S(ve)))}else{var Te=je?Te?[fe,le]:[fe,null]:[le,null],Ye=Te[0],nn=Te[1];if(je)for(var rn=0;rn<Le;++rn)Xe.push(Pe=nn&&nn[rn]!==void 0?ke[se](Ye[rn],nn[rn]):ke[se](Ye[rn])),Pe.onerror=Je;else for(rn=0;rn<Le;++rn)Xe.push(Pe=ke[se](Ye[rn])),Pe.onerror=Je}function fc(pn){pn=pn.target.result,Xe.forEach(function(Ps,yh){return Ps.error!=null&&(tt[yh]=Ps.error)}),Ee({numFailures:Mn,failures:tt,results:se==="delete"?le:Xe.map(function(Ps){return Ps.result}),lastResult:pn})}Pe.onerror=function(pn){Je(pn),fc(pn)},Pe.onsuccess=fc})},getMany:function(Z){var re=Z.trans,se=Z.keys;return new Promise(function(le,fe){le=vt(le);for(var ve,Ee=re.objectStore(J),Ae=se.length,ke=new Array(Ae),Te=0,je=0,Pe=function(Xe){Xe=Xe.target,ke[Xe._pos]=Xe.result,++je===Te&&le(ke)},Le=Ir(fe),Je=0;Je<Ae;++Je)se[Je]!=null&&((ve=Ee.get(se[Je]))._pos=Je,ve.onsuccess=Pe,ve.onerror=Le,++Te);Te===0&&le(ke)})},get:function(Z){var re=Z.trans,se=Z.key;return new Promise(function(le,fe){le=vt(le);var ve=re.objectStore(J).get(se);ve.onsuccess=function(Ee){return le(Ee.target.result)},ve.onerror=Ir(fe)})},query:(q=W,function(Z){return new Promise(function(re,se){re=vt(re);var le,fe,ve,Te=Z.trans,Ee=Z.values,Ae=Z.limit,Pe=Z.query,ke=Ae===1/0?void 0:Ae,je=Pe.index,Pe=Pe.range,Te=Te.objectStore(J),je=je.isPrimaryKey?Te:Te.index(je.name),Pe=S(Pe);if(Ae===0)return re({result:[]});q?((ke=Ee?je.getAll(Pe,ke):je.getAllKeys(Pe,ke)).onsuccess=function(Le){return re({result:Le.target.result})},ke.onerror=Ir(se)):(le=0,fe=!Ee&&"openKeyCursor"in je?je.openKeyCursor(Pe):je.openCursor(Pe),ve=[],fe.onsuccess=function(Le){var Je=fe.result;return Je?(ve.push(Ee?Je.value:Je.primaryKey),++le===Ae?re({result:ve}):void Je.continue()):re({result:ve})},fe.onerror=Ir(se))})}),openCursor:function(Z){var re=Z.trans,se=Z.values,le=Z.query,fe=Z.reverse,ve=Z.unique;return new Promise(function(Ee,Ae){Ee=vt(Ee);var je=le.index,ke=le.range,Te=re.objectStore(J),Te=je.isPrimaryKey?Te:Te.index(je.name),je=fe?ve?"prevunique":"prev":ve?"nextunique":"next",Pe=!se&&"openKeyCursor"in Te?Te.openKeyCursor(S(ke),je):Te.openCursor(S(ke),je);Pe.onerror=Ir(Ae),Pe.onsuccess=vt(function(Le){var Je,Xe,tt,Mn,Ye=Pe.result;Ye?(Ye.___id=++qC,Ye.done=!1,Je=Ye.continue.bind(Ye),Xe=(Xe=Ye.continuePrimaryKey)&&Xe.bind(Ye),tt=Ye.advance.bind(Ye),Mn=function(){throw new Error("Cursor not stopped")},Ye.trans=re,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=vt(Ae),Ye.next=function(){var nn=this,rn=1;return this.start(function(){return rn--?nn.continue():nn.stop()}).then(function(){return nn})},Ye.start=function(nn){function rn(){if(Pe.result)try{nn()}catch(pn){Ye.fail(pn)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var fc=new Promise(function(pn,Ps){pn=vt(pn),Pe.onerror=Ir(Ps),Ye.fail=Ps,Ye.stop=function(yh){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=Mn,pn(yh)}});return Pe.onsuccess=vt(function(pn){Pe.onsuccess=rn,rn()}),Ye.continue=Je,Ye.continuePrimaryKey=Xe,Ye.advance=tt,rn(),fc},Ee(Ye)):Ee(null)},Ae)})},count:function(Z){var re=Z.query,se=Z.trans,le=re.index,fe=re.range;return new Promise(function(ve,Ee){var Ae=se.objectStore(J),ke=le.isPrimaryKey?Ae:Ae.index(le.name),Ae=S(fe),ke=Ae?ke.count(Ae):ke.count();ke.onsuccess=vt(function(Te){return ve(Te.target.result)}),ke.onerror=Ir(Ee)})}}}var j,D,B,te=(D=K,B=Wv((j=d).objectStoreNames),{schema:{name:j.name,tables:B.map(function(ie){return D.objectStore(ie)}).map(function(ie){var q=ie.keyPath,re=ie.autoIncrement,J=a(q),Z={},re={name:ie.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:q==null,compound:J,keyPath:q,autoIncrement:re,unique:!0,extractKey:Xf(q)},indexes:Wv(ie.indexNames).map(function(se){return ie.index(se)}).map(function(ve){var le=ve.name,fe=ve.unique,Ee=ve.multiEntry,ve=ve.keyPath,Ee={name:le,compound:a(ve),keyPath:ve,unique:fe,multiEntry:Ee,extractKey:Xf(ve)};return Z[Ya(ve)]=Ee}),getIndexByKeyPath:function(se){return Z[Ya(se)]}};return Z[":id"]=re.primaryKey,q!=null&&(Z[Ya(q)]=re.primaryKey),re})},hasGetAll:0<B.length&&"getAll"in D.objectStore(B[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),K=te.schema,W=te.hasGetAll,te=K.tables.map(C),z={};return te.forEach(function(ie){return z[ie.name]=ie}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(ie){if(!z[ie])throw new Error("Table '".concat(ie,"' not found"));return z[ie]},MIN_KEY:-1/0,MAX_KEY:Qa(p),schema:K}}function QC(d,p,b,S){var C=b.IDBKeyRange;return b.indexedDB,{dbcore:(S=GC(p,C,S),d.dbcore.reduce(function(j,D){return D=D.create,r(r({},j),D(j))},S))}}function tc(d,S){var b=S.db,S=QC(d._middlewares,b,d._deps,S);d.core=S.dbcore,d.tables.forEach(function(C){var j=C.name;d.core.schema.tables.some(function(D){return D.name===j})&&(C.core=d.core.table(j),d[j]instanceof d.Table&&(d[j].core=C.core))})}function nc(d,p,b,S){b.forEach(function(C){var j=S[C];p.forEach(function(D){var B=function K(W,te){return x(W,te)||(W=u(W))&&K(W,te)}(D,C);(!B||"value"in B&&B.value===void 0)&&(D===d.Transaction.prototype||D instanceof d.Transaction?w(D,C,{get:function(){return this.table(C)},set:function(K){m(this,C,{value:K,writable:!0,configurable:!0,enumerable:!0})}}):D[C]=new d.Table(C,j))})})}function eh(d,p){p.forEach(function(b){for(var S in b)b[S]instanceof d.Table&&delete b[S]})}function YC(d,p){return d._cfg.version-p._cfg.version}function JC(d,p,b,S){var C=d._dbSchema;b.objectStoreNames.contains("$meta")&&!C.$meta&&(C.$meta=Zf("$meta",qv("")[0],[]),d._storeNames.push("$meta"));var j=d._createTransaction("readwrite",d._storeNames,C);j.create(b),j._completion.catch(S);var D=j._reject.bind(j),B=De.transless||De;ki(function(){return De.trans=j,De.transless=B,p!==0?(tc(d,b),W=p,((K=j).storeNames.includes("$meta")?K.table("$meta").get("version").then(function(te){return te??W}):Ce.resolve(W)).then(function(te){return ie=te,q=j,J=b,Z=[],te=(z=d)._versions,re=z._dbSchema=ic(0,z.idbdb,J),(te=te.filter(function(se){return se._cfg.version>=ie})).length!==0?(te.forEach(function(se){Z.push(function(){var le=re,fe=se._cfg.dbschema;sc(z,le,J),sc(z,fe,J),re=z._dbSchema=fe;var ve=th(le,fe);ve.add.forEach(function(je){nh(J,je[0],je[1].primKey,je[1].indexes)}),ve.change.forEach(function(je){if(je.recreate)throw new be.Upgrade("Not yet support for changing primary key");var Pe=J.objectStore(je.name);je.add.forEach(function(Le){return rc(Pe,Le)}),je.change.forEach(function(Le){Pe.deleteIndex(Le.name),rc(Pe,Le)}),je.del.forEach(function(Le){return Pe.deleteIndex(Le)})});var Ee=se._cfg.contentUpgrade;if(Ee&&se._cfg.version>ie){tc(z,J),q._memoizedTables={};var Ae=$(fe);ve.del.forEach(function(je){Ae[je]=le[je]}),eh(z,[z.Transaction.prototype]),nc(z,[z.Transaction.prototype],o(Ae),Ae),q.schema=Ae;var ke,Te=G(Ee);return Te&&So(),ve=Ce.follow(function(){var je;(ke=Ee(q))&&Te&&(je=Ei.bind(null,null),ke.then(je,je))}),ke&&typeof ke.then=="function"?Ce.resolve(ke):ve.then(function(){return ke})}}),Z.push(function(le){var fe,ve,Ee=se._cfg.dbschema;fe=Ee,ve=le,[].slice.call(ve.db.objectStoreNames).forEach(function(Ae){return fe[Ae]==null&&ve.db.deleteObjectStore(Ae)}),eh(z,[z.Transaction.prototype]),nc(z,[z.Transaction.prototype],z._storeNames,z._dbSchema),q.schema=z._dbSchema}),Z.push(function(le){z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(z.idbdb.version/10)===se._cfg.version?(z.idbdb.deleteObjectStore("$meta"),delete z._dbSchema.$meta,z._storeNames=z._storeNames.filter(function(fe){return fe!=="$meta"})):le.objectStore("$meta").put(se._cfg.version,"version"))})}),function se(){return Z.length?Ce.resolve(Z.shift()(q.idbtrans)).then(se):Ce.resolve()}().then(function(){Hv(re,J)})):Ce.resolve();var z,ie,q,J,Z,re}).catch(D)):(o(C).forEach(function(te){nh(b,te,C[te].primKey,C[te].indexes)}),tc(d,b),void Ce.follow(function(){return d.on.populate.fire(j)}).catch(D));var K,W})}function ZC(d,p){Hv(d._dbSchema,p),p.db.version%10!=0||p.objectStoreNames.contains("$meta")||p.db.createObjectStore("$meta").add(Math.ceil(p.db.version/10-1),"version");var b=ic(0,d.idbdb,p);sc(d,d._dbSchema,p);for(var S=0,C=th(b,d._dbSchema).change;S<C.length;S++){var j=function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var B=p.objectStore(D.name);D.add.forEach(function(K){ye&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(K.src)),rc(B,K)})}(C[S]);if(typeof j=="object")return j.value}}function th(d,p){var b,S={del:[],add:[],change:[]};for(b in d)p[b]||S.del.push(b);for(b in p){var C=d[b],j=p[b];if(C){var D={name:b,def:j,recreate:!1,del:[],add:[],change:[]};if(""+(C.primKey.keyPath||"")!=""+(j.primKey.keyPath||"")||C.primKey.auto!==j.primKey.auto)D.recreate=!0,S.change.push(D);else{var B=C.idxByName,K=j.idxByName,W=void 0;for(W in B)K[W]||D.del.push(W);for(W in K){var te=B[W],z=K[W];te?te.src!==z.src&&D.change.push(z):D.add.push(z)}(0<D.del.length||0<D.add.length||0<D.change.length)&&S.change.push(D)}}else S.add.push([b,j])}return S}function nh(d,p,b,S){var C=d.db.createObjectStore(p,b.keyPath?{keyPath:b.keyPath,autoIncrement:b.auto}:{autoIncrement:b.auto});return S.forEach(function(j){return rc(C,j)}),C}function Hv(d,p){o(d).forEach(function(b){p.db.objectStoreNames.contains(b)||(ye&&console.debug("Dexie: Creating missing table",b),nh(p,b,d[b].primKey,d[b].indexes))})}function rc(d,p){d.createIndex(p.name,p.keyPath,{unique:p.unique,multiEntry:p.multi})}function ic(d,p,b){var S={};return v(p.objectStoreNames,0).forEach(function(C){for(var j=b.objectStore(C),D=Jf(Kv(W=j.keyPath),W||"",!0,!1,!!j.autoIncrement,W&&typeof W!="string",!0),B=[],K=0;K<j.indexNames.length;++K){var te=j.index(j.indexNames[K]),W=te.keyPath,te=Jf(te.name,W,!!te.unique,!!te.multiEntry,!1,W&&typeof W!="string",!1);B.push(te)}S[C]=Zf(C,D,B)}),S}function sc(d,p,b){for(var S=b.db.objectStoreNames,C=0;C<S.length;++C){var j=S[C],D=b.objectStore(j);d._hasGetAll="getAll"in D;for(var B=0;B<D.indexNames.length;++B){var K=D.indexNames[B],W=D.index(K).keyPath,te=typeof W=="string"?W:"["+v(W).join("+")+"]";!p[j]||(W=p[j].idxByName[te])&&(W.name=K,delete p[j].idxByName[te],p[j].idxByName[K]=W)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function qv(d){return d.split(",").map(function(p,b){var j=p.split(":"),S=(C=j[1])===null||C===void 0?void 0:C.trim(),C=(p=j[0].trim()).replace(/([&*]|\+\+)/g,""),j=/^\[/.test(C)?C.match(/^\[(.*)\]$/)[1].split("+"):C;return Jf(C,j||null,/\&/.test(p),/\*/.test(p),/\+\+/.test(p),a(j),b===0,S)})}var XC=(To.prototype._createTableSchema=Zf,To.prototype._parseIndexSyntax=qv,To.prototype._parseStoresSpec=function(d,p){var b=this;o(d).forEach(function(S){if(d[S]!==null){var C=b._parseIndexSyntax(d[S]),j=C.shift();if(!j)throw new be.Schema("Invalid schema for table "+S+": "+d[S]);if(j.unique=!0,j.multi)throw new be.Schema("Primary key cannot be multiEntry*");C.forEach(function(D){if(D.auto)throw new be.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new be.Schema("Index must have a name and cannot be an empty string")}),C=b._createTableSchema(S,j,C),p[S]=C}})},To.prototype.stores=function(b){var p=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,b):b;var b=p._versions,S={},C={};return b.forEach(function(j){l(S,j._cfg.storesSource),C=j._cfg.dbschema={},j._parseStoresSpec(S,C)}),p._dbSchema=C,eh(p,[p._allTables,p,p.Transaction.prototype]),nc(p,[p._allTables,p,p.Transaction.prototype,this._cfg.tables],o(C),C),p._storeNames=o(C),this},To.prototype.upgrade=function(d){return this._cfg.contentUpgrade=ge(this._cfg.contentUpgrade||He,d),this},To);function To(){}function rh(d,p){var b=d._dbNamesDB;return b||(b=d._dbNamesDB=new Zr(Qu,{addons:[],indexedDB:d,IDBKeyRange:p})).version(1).stores({dbnames:"name"}),b.table("dbnames")}function ih(d){return d&&typeof d.databases=="function"}function sh(d){return ki(function(){return De.letThrough=!0,d()})}function oh(d){return!("from"in d)}var tn=function(d,p){if(!this){var b=new tn;return d&&"d"in d&&l(b,d),b}l(this,arguments.length?{d:1,from:d,to:1<arguments.length?p:d}:{d:0})};function Ja(d,p,b){var S=it(p,b);if(!isNaN(S)){if(0<S)throw RangeError();if(oh(d))return l(d,{from:p,to:b,d:1});var C=d.l,S=d.r;if(it(b,d.from)<0)return C?Ja(C,p,b):d.l={from:p,to:b,d:1,l:null,r:null},Qv(d);if(0<it(p,d.to))return S?Ja(S,p,b):d.r={from:p,to:b,d:1,l:null,r:null},Qv(d);it(p,d.from)<0&&(d.from=p,d.l=null,d.d=S?S.d+1:1),0<it(b,d.to)&&(d.to=b,d.r=null,d.d=d.l?d.l.d+1:1),b=!d.r,C&&!d.l&&Za(d,C),S&&b&&Za(d,S)}}function Za(d,p){oh(p)||function b(S,K){var j=K.from,D=K.to,B=K.l,K=K.r;Ja(S,j,D),B&&b(S,B),K&&b(S,K)}(d,p)}function Gv(d,p){var b=oc(p),S=b.next();if(S.done)return!1;for(var C=S.value,j=oc(d),D=j.next(C.from),B=D.value;!S.done&&!D.done;){if(it(B.from,C.to)<=0&&0<=it(B.to,C.from))return!0;it(C.from,B.from)<0?C=(S=b.next(B.from)).value:B=(D=j.next(C.from)).value}return!1}function oc(d){var p=oh(d)?null:{s:0,n:d};return{next:function(b){for(var S=0<arguments.length;p;)switch(p.s){case 0:if(p.s=1,S)for(;p.n.l&&it(b,p.n.from)<0;)p={up:p,n:p.n.l,s:1};else for(;p.n.l;)p={up:p,n:p.n.l,s:1};case 1:if(p.s=2,!S||it(b,p.n.to)<=0)return{value:p.n,done:!1};case 2:if(p.n.r){p.s=3,p={up:p,n:p.n.r,s:0};continue}case 3:p=p.up}return{done:!0}}}}function Qv(d){var p,b,S=(((p=d.r)===null||p===void 0?void 0:p.d)||0)-(((b=d.l)===null||b===void 0?void 0:b.d)||0),C=1<S?"r":S<-1?"l":"";C&&(p=C=="r"?"l":"r",b=r({},d),S=d[C],d.from=S.from,d.to=S.to,d[C]=S[C],b[C]=S[p],(d[p]=b).d=Yv(b)),d.d=Yv(d)}function Yv(b){var p=b.r,b=b.l;return(p?b?Math.max(p.d,b.d):p.d:b?b.d:0)+1}function ac(d,p){return o(p).forEach(function(b){d[b]?Za(d[b],p[b]):d[b]=function S(C){var j,D,B={};for(j in C)f(C,j)&&(D=C[j],B[j]=!D||typeof D!="object"||we.has(D.constructor)?D:S(D));return B}(p[b])}),d}function ah(d,p){return d.all||p.all||Object.keys(d).some(function(b){return p[b]&&Gv(p[b],d[b])})}h(tn.prototype,((Yn={add:function(d){return Za(this,d),this},addKey:function(d){return Ja(this,d,d),this},addKeys:function(d){var p=this;return d.forEach(function(b){return Ja(p,b,b)}),this},hasKey:function(d){var p=oc(this).next(d).value;return p&&it(p.from,d)<=0&&0<=it(p.to,d)}})[Oe]=function(){return oc(this)},Yn));var Cs={},lh={},uh=!1;function lc(d){ac(lh,d),uh||(uh=!0,setTimeout(function(){uh=!1,ch(lh,!(lh={}))},0))}function ch(d,p){p===void 0&&(p=!1);var b=new Set;if(d.all)for(var S=0,C=Object.values(Cs);S<C.length;S++)Jv(D=C[S],d,b,p);else for(var j in d){var D,B=/^idb\:\/\/(.*)\/(.*)\//.exec(j);B&&(j=B[1],B=B[2],(D=Cs["idb://".concat(j,"/").concat(B)])&&Jv(D,d,b,p))}b.forEach(function(K){return K()})}function Jv(d,p,b,S){for(var C=[],j=0,D=Object.entries(d.queries.query);j<D.length;j++){for(var B=D[j],K=B[0],W=[],te=0,z=B[1];te<z.length;te++){var ie=z[te];ah(p,ie.obsSet)?ie.subscribers.forEach(function(re){return b.add(re)}):S&&W.push(ie)}S&&C.push([K,W])}if(S)for(var q=0,J=C;q<J.length;q++){var Z=J[q],K=Z[0],W=Z[1];d.queries.query[K]=W}}function eT(d){var p=d._state,b=d._deps.indexedDB;if(p.isBeingOpened||d.idbdb)return p.dbReadyPromise.then(function(){return p.dbOpenError?Ot(p.dbOpenError):d});p.isBeingOpened=!0,p.dbOpenError=null,p.openComplete=!1;var S=p.openCanceller,C=Math.round(10*d.verno),j=!1;function D(){if(p.openCanceller!==S)throw new be.DatabaseClosed("db.open() was cancelled")}function B(){return new Ce(function(ie,q){if(D(),!b)throw new be.MissingAPI;var J=d.name,Z=p.autoSchema||!C?b.open(J):b.open(J,C);if(!Z)throw new be.MissingAPI;Z.onerror=Ir(q),Z.onblocked=vt(d._fireOnBlocked),Z.onupgradeneeded=vt(function(re){var se;te=Z.transaction,p.autoSchema&&!d._options.allowEmptyDB?(Z.onerror=qa,te.abort(),Z.result.close(),(se=b.deleteDatabase(J)).onsuccess=se.onerror=vt(function(){q(new be.NoSuchDatabase("Database ".concat(J," doesnt exist")))})):(te.onerror=Ir(q),re=re.oldVersion>Math.pow(2,62)?0:re.oldVersion,z=re<1,d.idbdb=Z.result,j&&ZC(d,te),JC(d,re/10,te,q))},q),Z.onsuccess=vt(function(){te=null;var re,se,le,fe,ve,Ee=d.idbdb=Z.result,Ae=v(Ee.objectStoreNames);if(0<Ae.length)try{var ke=Ee.transaction((fe=Ae).length===1?fe[0]:fe,"readonly");if(p.autoSchema)se=Ee,le=ke,(re=d).verno=se.version/10,le=re._dbSchema=ic(0,se,le),re._storeNames=v(se.objectStoreNames,0),nc(re,[re._allTables],o(le),le);else if(sc(d,d._dbSchema,ke),((ve=th(ic(0,(ve=d).idbdb,ke),ve._dbSchema)).add.length||ve.change.some(function(Te){return Te.add.length||Te.change.length}))&&!j)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ee.close(),C=Ee.version+1,j=!0,ie(B());tc(d,ke)}catch{}ko.push(d),Ee.onversionchange=vt(function(Te){p.vcFired=!0,d.on("versionchange").fire(Te)}),Ee.onclose=vt(function(){d.close({disableAutoOpen:!1})}),z&&(ve=d._deps,ke=J,Ee=ve.indexedDB,ve=ve.IDBKeyRange,ih(Ee)||ke===Qu||rh(Ee,ve).put({name:ke}).catch(He)),ie()},q)}).catch(function(ie){switch(ie==null?void 0:ie.name){case"UnknownError":if(0<p.PR1398_maxLoop)return p.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),B();break;case"VersionError":if(0<C)return C=0,B()}return Ce.reject(ie)})}var K,W=p.dbReadyResolve,te=null,z=!1;return Ce.race([S,(typeof navigator>"u"?Ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ie){function q(){return indexedDB.databases().finally(ie)}K=setInterval(q,100),q()}).finally(function(){return clearInterval(K)}):Promise.resolve()).then(B)]).then(function(){return D(),p.onReadyBeingFired=[],Ce.resolve(sh(function(){return d.on.ready.fire(d.vip)})).then(function ie(){if(0<p.onReadyBeingFired.length){var q=p.onReadyBeingFired.reduce(ge,He);return p.onReadyBeingFired=[],Ce.resolve(sh(function(){return q(d.vip)})).then(ie)}})}).finally(function(){p.openCanceller===S&&(p.onReadyBeingFired=null,p.isBeingOpened=!1)}).catch(function(ie){p.dbOpenError=ie;try{te&&te.abort()}catch{}return S===p.openCanceller&&d._close(),Ot(ie)}).finally(function(){p.openComplete=!0,W()}).then(function(){var ie;return z&&(ie={},d.tables.forEach(function(q){q.schema.indexes.forEach(function(J){J.name&&(ie["idb://".concat(d.name,"/").concat(q.name,"/").concat(J.name)]=new tn(-1/0,[[[]]]))}),ie["idb://".concat(d.name,"/").concat(q.name,"/")]=ie["idb://".concat(d.name,"/").concat(q.name,"/:dels")]=new tn(-1/0,[[[]]])}),Pi(Ga).fire(ie),ch(ie,!0)),d})}function dh(d){function p(j){return d.next(j)}var b=C(p),S=C(function(j){return d.throw(j)});function C(j){return function(K){var B=j(K),K=B.value;return B.done?K:K&&typeof K.then=="function"?K.then(b,S):a(K)?Promise.all(K).then(b,S):b(K)}}return C(p)()}function uc(d,p,b){for(var S=a(d)?d.slice():[d],C=0;C<b;++C)S.push(p);return S}var tT={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return r(r({},d),{table:function(p){var b=d.table(p),S=b.schema,C={},j=[];function D(z,ie,q){var J=Ya(z),Z=C[J]=C[J]||[],re=z==null?0:typeof z=="string"?1:z.length,se=0<ie,se=r(r({},q),{name:se?"".concat(J,"(virtual-from:").concat(q.name,")"):q.name,lowLevelIndex:q,isVirtual:se,keyTail:ie,keyLength:re,extractKey:Xf(z),unique:!se&&q.unique});return Z.push(se),se.isPrimaryKey||j.push(se),1<re&&D(re===2?z[0]:z.slice(0,re-1),ie+1,q),Z.sort(function(le,fe){return le.keyTail-fe.keyTail}),se}p=D(S.primaryKey.keyPath,0,S.primaryKey),C[":id"]=[p];for(var B=0,K=S.indexes;B<K.length;B++){var W=K[B];D(W.keyPath,0,W)}function te(z){var ie,q=z.query.index;return q.isVirtual?r(r({},z),{query:{index:q.lowLevelIndex,range:(ie=z.query.range,q=q.keyTail,{type:ie.type===1?2:ie.type,lower:uc(ie.lower,ie.lowerOpen?d.MAX_KEY:d.MIN_KEY,q),lowerOpen:!0,upper:uc(ie.upper,ie.upperOpen?d.MIN_KEY:d.MAX_KEY,q),upperOpen:!0})}}):z}return r(r({},b),{schema:r(r({},S),{primaryKey:p,indexes:j,getIndexByKeyPath:function(z){return(z=C[Ya(z)])&&z[0]}}),count:function(z){return b.count(te(z))},query:function(z){return b.query(te(z))},openCursor:function(z){var ie=z.query.index,q=ie.keyTail,J=ie.isVirtual,Z=ie.keyLength;return J?b.openCursor(te(z)).then(function(se){return se&&re(se)}):b.openCursor(z);function re(se){return Object.create(se,{continue:{value:function(le){le!=null?se.continue(uc(le,z.reverse?d.MAX_KEY:d.MIN_KEY,q)):z.unique?se.continue(se.key.slice(0,Z).concat(z.reverse?d.MIN_KEY:d.MAX_KEY,q)):se.continue()}},continuePrimaryKey:{value:function(le,fe){se.continuePrimaryKey(uc(le,d.MAX_KEY,q),fe)}},primaryKey:{get:function(){return se.primaryKey}},key:{get:function(){var le=se.key;return Z===1?le[0]:le.slice(0,Z)}},value:{get:function(){return se.value}}})}}})}})}};function fh(d,p,b,S){return b=b||{},S=S||"",o(d).forEach(function(C){var j,D,B;f(p,C)?(j=d[C],D=p[C],typeof j=="object"&&typeof D=="object"&&j&&D?(B=ue(j))!==ue(D)?b[S+C]=p[C]:B==="Object"?fh(j,D,b,S+C+"."):j!==D&&(b[S+C]=p[C]):j!==D&&(b[S+C]=p[C])):b[S+C]=void 0}),o(p).forEach(function(C){f(d,C)||(b[S+C]=p[C])}),b}function hh(d,p){return p.type==="delete"?p.keys:p.keys||p.values.map(d.extractKey)}var nT={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return r(r({},d),{table:function(p){var b=d.table(p),S=b.schema.primaryKey;return r(r({},b),{mutate:function(C){var j=De.trans,D=j.table(p).hook,B=D.deleting,K=D.creating,W=D.updating;switch(C.type){case"add":if(K.fire===He)break;return j._promise("readwrite",function(){return te(C)},!0);case"put":if(K.fire===He&&W.fire===He)break;return j._promise("readwrite",function(){return te(C)},!0);case"delete":if(B.fire===He)break;return j._promise("readwrite",function(){return te(C)},!0);case"deleteRange":if(B.fire===He)break;return j._promise("readwrite",function(){return function z(ie,q,J){return b.query({trans:ie,values:!1,query:{index:S,range:q},limit:J}).then(function(Z){var re=Z.result;return te({type:"delete",keys:re,trans:ie}).then(function(se){return 0<se.numFailures?Promise.reject(se.failures[0]):re.length<J?{failures:[],numFailures:0,lastResult:void 0}:z(ie,r(r({},q),{lower:re[re.length-1],lowerOpen:!0}),J)})})}(C.trans,C.range,1e4)},!0)}return b.mutate(C);function te(z){var ie,q,J,Z=De.trans,re=z.keys||hh(S,z);if(!re)throw new Error("Keys missing");return(z=z.type==="add"||z.type==="put"?r(r({},z),{keys:re}):r({},z)).type!=="delete"&&(z.values=i([],z.values)),z.keys&&(z.keys=i([],z.keys)),ie=b,J=re,((q=z).type==="add"?Promise.resolve([]):ie.getMany({trans:q.trans,keys:J,cache:"immutable"})).then(function(se){var le=re.map(function(fe,ve){var Ee,Ae,ke,Te=se[ve],je={onerror:null,onsuccess:null};return z.type==="delete"?B.fire.call(je,fe,Te,Z):z.type==="add"||Te===void 0?(Ee=K.fire.call(je,fe,z.values[ve],Z),fe==null&&Ee!=null&&(z.keys[ve]=fe=Ee,S.outbound||R(z.values[ve],S.keyPath,fe))):(Ee=fh(Te,z.values[ve]),(Ae=W.fire.call(je,Ee,fe,Te,Z))&&(ke=z.values[ve],Object.keys(Ae).forEach(function(Pe){f(ke,Pe)?ke[Pe]=Ae[Pe]:R(ke,Pe,Ae[Pe])}))),je});return b.mutate(z).then(function(fe){for(var ve=fe.failures,Ee=fe.results,Ae=fe.numFailures,fe=fe.lastResult,ke=0;ke<re.length;++ke){var Te=(Ee||re)[ke],je=le[ke];Te==null?je.onerror&&je.onerror(ve[ke]):je.onsuccess&&je.onsuccess(z.type==="put"&&se[ke]?z.values[ke]:Te)}return{failures:ve,results:Ee,numFailures:Ae,lastResult:fe}}).catch(function(fe){return le.forEach(function(ve){return ve.onerror&&ve.onerror(fe)}),Promise.reject(fe)})})}}})}})}};function Zv(d,p,b){try{if(!p||p.keys.length<d.length)return null;for(var S=[],C=0,j=0;C<p.keys.length&&j<d.length;++C)it(p.keys[C],d[j])===0&&(S.push(b?ee(p.values[C]):p.values[C]),++j);return S.length===d.length?S:null}catch{return null}}var rT={stack:"dbcore",level:-1,create:function(d){return{table:function(p){var b=d.table(p);return r(r({},b),{getMany:function(S){if(!S.cache)return b.getMany(S);var C=Zv(S.keys,S.trans._cache,S.cache==="clone");return C?Ce.resolve(C):b.getMany(S).then(function(j){return S.trans._cache={keys:S.keys,values:S.cache==="clone"?ee(j):j},j})},mutate:function(S){return S.type!=="add"&&(S.trans._cache=null),b.mutate(S)}})}}}};function Xv(d,p){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!p.schema.primaryKey.outbound}function e0(d,p){switch(d){case"query":return p.values&&!p.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var iT={stack:"dbcore",level:0,name:"Observability",create:function(d){var p=d.schema.name,b=new tn(d.MIN_KEY,d.MAX_KEY);return r(r({},d),{transaction:function(S,C,j){if(De.subscr&&C!=="readonly")throw new be.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(De.querier));return d.transaction(S,C,j)},table:function(S){var C=d.table(S),j=C.schema,D=j.primaryKey,z=j.indexes,B=D.extractKey,K=D.outbound,W=D.autoIncrement&&z.filter(function(q){return q.compound&&q.keyPath.includes(D.keyPath)}),te=r(r({},C),{mutate:function(q){function J(Pe){return Pe="idb://".concat(p,"/").concat(S,"/").concat(Pe),fe[Pe]||(fe[Pe]=new tn)}var Z,re,se,le=q.trans,fe=q.mutatedParts||(q.mutatedParts={}),ve=J(""),Ee=J(":dels"),Ae=q.type,je=q.type==="deleteRange"?[q.range]:q.type==="delete"?[q.keys]:q.values.length<50?[hh(D,q).filter(function(Pe){return Pe}),q.values]:[],ke=je[0],Te=je[1],je=q.trans._cache;return a(ke)?(ve.addKeys(ke),(je=Ae==="delete"||ke.length===Te.length?Zv(ke,je):null)||Ee.addKeys(ke),(je||Te)&&(Z=J,re=je,se=Te,j.indexes.forEach(function(Pe){var Le=Z(Pe.name||"");function Je(tt){return tt!=null?Pe.extractKey(tt):null}function Xe(tt){return Pe.multiEntry&&a(tt)?tt.forEach(function(Mn){return Le.addKey(Mn)}):Le.addKey(tt)}(re||se).forEach(function(tt,nn){var Ye=re&&Je(re[nn]),nn=se&&Je(se[nn]);it(Ye,nn)!==0&&(Ye!=null&&Xe(Ye),nn!=null&&Xe(nn))})}))):ke?(Te={from:(Te=ke.lower)!==null&&Te!==void 0?Te:d.MIN_KEY,to:(Te=ke.upper)!==null&&Te!==void 0?Te:d.MAX_KEY},Ee.add(Te),ve.add(Te)):(ve.add(b),Ee.add(b),j.indexes.forEach(function(Pe){return J(Pe.name).add(b)})),C.mutate(q).then(function(Pe){return!ke||q.type!=="add"&&q.type!=="put"||(ve.addKeys(Pe.results),W&&W.forEach(function(Le){for(var Je=q.values.map(function(Ye){return Le.extractKey(Ye)}),Xe=Le.keyPath.findIndex(function(Ye){return Ye===D.keyPath}),tt=0,Mn=Pe.results.length;tt<Mn;++tt)Je[tt][Xe]=Pe.results[tt];J(Le.name).addKeys(Je)})),le.mutatedParts=ac(le.mutatedParts||{},fe),Pe})}}),z=function(J){var Z=J.query,J=Z.index,Z=Z.range;return[J,new tn((J=Z.lower)!==null&&J!==void 0?J:d.MIN_KEY,(Z=Z.upper)!==null&&Z!==void 0?Z:d.MAX_KEY)]},ie={get:function(q){return[D,new tn(q.key)]},getMany:function(q){return[D,new tn().addKeys(q.keys)]},count:z,query:z,openCursor:z};return o(ie).forEach(function(q){te[q]=function(J){var Z=De.subscr,re=!!Z,se=Xv(De,C)&&e0(q,J)?J.obsSet={}:Z;if(re){var le=function(Te){return Te="idb://".concat(p,"/").concat(S,"/").concat(Te),se[Te]||(se[Te]=new tn)},fe=le(""),ve=le(":dels"),Z=ie[q](J),re=Z[0],Z=Z[1];if((q==="query"&&re.isPrimaryKey&&!J.values?ve:le(re.name||"")).add(Z),!re.isPrimaryKey){if(q!=="count"){var Ee=q==="query"&&K&&J.values&&C.query(r(r({},J),{values:!1}));return C[q].apply(this,arguments).then(function(Te){if(q==="query"){if(K&&J.values)return Ee.then(function(Je){return Je=Je.result,fe.addKeys(Je),Te});var je=J.values?Te.result.map(B):Te.result;(J.values?fe:ve).addKeys(je)}else if(q==="openCursor"){var Pe=Te,Le=J.values;return Pe&&Object.create(Pe,{key:{get:function(){return ve.addKey(Pe.primaryKey),Pe.key}},primaryKey:{get:function(){var Je=Pe.primaryKey;return ve.addKey(Je),Je}},value:{get:function(){return Le&&fe.addKey(Pe.primaryKey),Pe.value}}})}return Te})}ve.add(b)}}return C[q].apply(this,arguments)}}),te}})}};function t0(d,p,b){if(b.numFailures===0)return p;if(p.type==="deleteRange")return null;var S=p.keys?p.keys.length:"values"in p&&p.values?p.values.length:1;return b.numFailures===S?null:(p=r({},p),a(p.keys)&&(p.keys=p.keys.filter(function(C,j){return!(j in b.failures)})),"values"in p&&a(p.values)&&(p.values=p.values.filter(function(C,j){return!(j in b.failures)})),p)}function ph(d,p){return b=d,((S=p).lower===void 0||(S.lowerOpen?0<it(b,S.lower):0<=it(b,S.lower)))&&(d=d,(p=p).upper===void 0||(p.upperOpen?it(d,p.upper)<0:it(d,p.upper)<=0));var b,S}function n0(d,p,ie,S,C,j){if(!ie||ie.length===0)return d;var D=p.query.index,B=D.multiEntry,K=p.query.range,W=S.schema.primaryKey.extractKey,te=D.extractKey,z=(D.lowLevelIndex||D).extractKey,ie=ie.reduce(function(q,J){var Z=q,re=[];if(J.type==="add"||J.type==="put")for(var se=new tn,le=J.values.length-1;0<=le;--le){var fe,ve=J.values[le],Ee=W(ve);se.hasKey(Ee)||(fe=te(ve),(B&&a(fe)?fe.some(function(Pe){return ph(Pe,K)}):ph(fe,K))&&(se.addKey(Ee),re.push(ve)))}switch(J.type){case"add":var Ae=new tn().addKeys(p.values?q.map(function(Le){return W(Le)}):q),Z=q.concat(p.values?re.filter(function(Le){return Le=W(Le),!Ae.hasKey(Le)&&(Ae.addKey(Le),!0)}):re.map(function(Le){return W(Le)}).filter(function(Le){return!Ae.hasKey(Le)&&(Ae.addKey(Le),!0)}));break;case"put":var ke=new tn().addKeys(J.values.map(function(Le){return W(Le)}));Z=q.filter(function(Le){return!ke.hasKey(p.values?W(Le):Le)}).concat(p.values?re:re.map(function(Le){return W(Le)}));break;case"delete":var Te=new tn().addKeys(J.keys);Z=q.filter(function(Le){return!Te.hasKey(p.values?W(Le):Le)});break;case"deleteRange":var je=J.range;Z=q.filter(function(Le){return!ph(W(Le),je)})}return Z},d);return ie===d?d:(ie.sort(function(q,J){return it(z(q),z(J))||it(W(q),W(J))}),p.limit&&p.limit<1/0&&(ie.length>p.limit?ie.length=p.limit:d.length===p.limit&&ie.length<p.limit&&(C.dirty=!0)),j?Object.freeze(ie):ie)}function r0(d,p){return it(d.lower,p.lower)===0&&it(d.upper,p.upper)===0&&!!d.lowerOpen==!!p.lowerOpen&&!!d.upperOpen==!!p.upperOpen}function sT(d,p){return function(b,S,C,j){if(b===void 0)return S!==void 0?-1:0;if(S===void 0)return 1;if((S=it(b,S))===0){if(C&&j)return 0;if(C)return 1;if(j)return-1}return S}(d.lower,p.lower,d.lowerOpen,p.lowerOpen)<=0&&0<=function(b,S,C,j){if(b===void 0)return S!==void 0?1:0;if(S===void 0)return-1;if((S=it(b,S))===0){if(C&&j)return 0;if(C)return-1;if(j)return 1}return S}(d.upper,p.upper,d.upperOpen,p.upperOpen)}function oT(d,p,b,S){d.subscribers.add(b),S.addEventListener("abort",function(){var C,j;d.subscribers.delete(b),d.subscribers.size===0&&(C=d,j=p,setTimeout(function(){C.subscribers.size===0&&X(j,C)},3e3))})}var aT={stack:"dbcore",level:0,name:"Cache",create:function(d){var p=d.schema.name;return r(r({},d),{transaction:function(b,S,C){var j,D,B=d.transaction(b,S,C);return S==="readwrite"&&(D=(j=new AbortController).signal,C=function(K){return function(){if(j.abort(),S==="readwrite"){for(var W=new Set,te=0,z=b;te<z.length;te++){var ie=z[te],q=Cs["idb://".concat(p,"/").concat(ie)];if(q){var J=d.table(ie),Z=q.optimisticOps.filter(function(Le){return Le.trans===B});if(B._explicit&&K&&B.mutatedParts)for(var re=0,se=Object.values(q.queries.query);re<se.length;re++)for(var le=0,fe=(Ae=se[re]).slice();le<fe.length;le++)ah((ke=fe[le]).obsSet,B.mutatedParts)&&(X(Ae,ke),ke.subscribers.forEach(function(Le){return W.add(Le)}));else if(0<Z.length){q.optimisticOps=q.optimisticOps.filter(function(Le){return Le.trans!==B});for(var ve=0,Ee=Object.values(q.queries.query);ve<Ee.length;ve++)for(var Ae,ke,Te,je=0,Pe=(Ae=Ee[ve]).slice();je<Pe.length;je++)(ke=Pe[je]).res!=null&&B.mutatedParts&&(K&&!ke.dirty?(Te=Object.isFrozen(ke.res),Te=n0(ke.res,ke.req,Z,J,ke,Te),ke.dirty?(X(Ae,ke),ke.subscribers.forEach(function(Le){return W.add(Le)})):Te!==ke.res&&(ke.res=Te,ke.promise=Ce.resolve({result:Te}))):(ke.dirty&&X(Ae,ke),ke.subscribers.forEach(function(Le){return W.add(Le)})))}}}W.forEach(function(Le){return Le()})}}},B.addEventListener("abort",C(!1),{signal:D}),B.addEventListener("error",C(!1),{signal:D}),B.addEventListener("complete",C(!0),{signal:D})),B},table:function(b){var S=d.table(b),C=S.schema.primaryKey;return r(r({},S),{mutate:function(j){var D=De.trans;if(C.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return S.mutate(j);var B=Cs["idb://".concat(p,"/").concat(b)];return B?(D=S.mutate(j),j.type!=="add"&&j.type!=="put"||!(50<=j.values.length||hh(C,j).some(function(K){return K==null}))?(B.optimisticOps.push(j),j.mutatedParts&&lc(j.mutatedParts),D.then(function(K){0<K.numFailures&&(X(B.optimisticOps,j),(K=t0(0,j,K))&&B.optimisticOps.push(K),j.mutatedParts&&lc(j.mutatedParts))}),D.catch(function(){X(B.optimisticOps,j),j.mutatedParts&&lc(j.mutatedParts)})):D.then(function(K){var W=t0(0,r(r({},j),{values:j.values.map(function(te,z){var ie;return K.failures[z]?te:(te=(ie=C.keyPath)!==null&&ie!==void 0&&ie.includes(".")?ee(te):r({},te),R(te,C.keyPath,K.results[z]),te)})}),K);B.optimisticOps.push(W),queueMicrotask(function(){return j.mutatedParts&&lc(j.mutatedParts)})}),D):S.mutate(j)},query:function(j){if(!Xv(De,S)||!e0("query",j))return S.query(j);var D=((W=De.trans)===null||W===void 0?void 0:W.db._options.cache)==="immutable",z=De,B=z.requery,K=z.signal,W=function(J,Z,re,se){var le=Cs["idb://".concat(J,"/").concat(Z)];if(!le)return[];if(!(Z=le.queries[re]))return[null,!1,le,null];var fe=Z[(se.query?se.query.index.name:null)||""];if(!fe)return[null,!1,le,null];switch(re){case"query":var ve=fe.find(function(Ee){return Ee.req.limit===se.limit&&Ee.req.values===se.values&&r0(Ee.req.query.range,se.query.range)});return ve?[ve,!0,le,fe]:[fe.find(function(Ee){return("limit"in Ee.req?Ee.req.limit:1/0)>=se.limit&&(!se.values||Ee.req.values)&&sT(Ee.req.query.range,se.query.range)}),!1,le,fe];case"count":return ve=fe.find(function(Ee){return r0(Ee.req.query.range,se.query.range)}),[ve,!!ve,le,fe]}}(p,b,"query",j),te=W[0],z=W[1],ie=W[2],q=W[3];return te&&z?te.obsSet=j.obsSet:(z=S.query(j).then(function(J){var Z=J.result;if(te&&(te.res=Z),D){for(var re=0,se=Z.length;re<se;++re)Object.freeze(Z[re]);Object.freeze(Z)}else J.result=ee(Z);return J}).catch(function(J){return q&&te&&X(q,te),Promise.reject(J)}),te={obsSet:j.obsSet,promise:z,subscribers:new Set,type:"query",req:j,dirty:!1},q?q.push(te):(q=[te],(ie=ie||(Cs["idb://".concat(p,"/").concat(b)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[j.query.index.name||""]=q)),oT(te,q,B,K),te.promise.then(function(J){return{result:n0(J.result,j,ie==null?void 0:ie.optimisticOps,S,te,D)}})}})}})}};function cc(d,p){return new Proxy(d,{get:function(b,S,C){return S==="db"?p:Reflect.get(b,S,C)}})}var Zr=(Rt.prototype.version=function(d){if(isNaN(d)||d<.1)throw new be.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new be.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var p=this._versions,b=p.filter(function(S){return S._cfg.version===d})[0];return b||(b=new this.Version(d),p.push(b),p.sort(YC),b.stores({}),this._state.autoSchema=!1,b)},Rt.prototype._whenReady=function(d){var p=this;return this.idbdb&&(this._state.openComplete||De.letThrough||this._vip)?d():new Ce(function(b,S){if(p._state.openComplete)return S(new be.DatabaseClosed(p._state.dbOpenError));if(!p._state.isBeingOpened){if(!p._state.autoOpen)return void S(new be.DatabaseClosed);p.open().catch(He)}p._state.dbReadyPromise.then(b,S)}).then(d)},Rt.prototype.use=function(d){var p=d.stack,b=d.create,S=d.level,C=d.name;return C&&this.unuse({stack:p,name:C}),d=this._middlewares[p]||(this._middlewares[p]=[]),d.push({stack:p,create:b,level:S??10,name:C}),d.sort(function(j,D){return j.level-D.level}),this},Rt.prototype.unuse=function(d){var p=d.stack,b=d.name,S=d.create;return p&&this._middlewares[p]&&(this._middlewares[p]=this._middlewares[p].filter(function(C){return S?C.create!==S:!!b&&C.name!==b})),this},Rt.prototype.open=function(){var d=this;return Ss(hn,function(){return eT(d)})},Rt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var d=this._state,p=ko.indexOf(this);if(0<=p&&ko.splice(p,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new Ce(function(b){d.dbReadyResolve=b}),d.openCanceller=new Ce(function(b,S){d.cancelOpen=S}))},Rt.prototype.close=function(b){var p=(b===void 0?{disableAutoOpen:!0}:b).disableAutoOpen,b=this._state;p?(b.isBeingOpened&&b.cancelOpen(new be.DatabaseClosed),this._close(),b.autoOpen=!1,b.dbOpenError=new be.DatabaseClosed):(this._close(),b.autoOpen=this._options.autoOpen||b.isBeingOpened,b.openComplete=!1,b.dbOpenError=null)},Rt.prototype.delete=function(d){var p=this;d===void 0&&(d={disableAutoOpen:!0});var b=0<arguments.length&&typeof arguments[0]!="object",S=this._state;return new Ce(function(C,j){function D(){p.close(d);var B=p._deps.indexedDB.deleteDatabase(p.name);B.onsuccess=vt(function(){var K,W,te;K=p._deps,W=p.name,te=K.indexedDB,K=K.IDBKeyRange,ih(te)||W===Qu||rh(te,K).delete(W).catch(He),C()}),B.onerror=Ir(j),B.onblocked=p._fireOnBlocked}if(b)throw new be.InvalidArgument("Invalid closeOptions argument to db.delete()");S.isBeingOpened?S.dbReadyPromise.then(D):D()})},Rt.prototype.backendDB=function(){return this.idbdb},Rt.prototype.isOpen=function(){return this.idbdb!==null},Rt.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},Rt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Rt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Rt.prototype,"tables",{get:function(){var d=this;return o(this._allTables).map(function(p){return d._allTables[p]})},enumerable:!1,configurable:!0}),Rt.prototype.transaction=function(){var d=(function(p,b,S){var C=arguments.length;if(C<2)throw new be.InvalidArgument("Too few arguments");for(var j=new Array(C-1);--C;)j[C-1]=arguments[C];return S=j.pop(),[p,V(j),S]}).apply(this,arguments);return this._transaction.apply(this,d)},Rt.prototype._transaction=function(d,p,b){var S=this,C=De.trans;C&&C.db===this&&d.indexOf("!")===-1||(C=null);var j,D,B=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(D=p.map(function(W){if(W=W instanceof S.Table?W.name:W,typeof W!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return W}),d=="r"||d===Hf)j=Hf;else{if(d!="rw"&&d!=qf)throw new be.InvalidArgument("Invalid transaction mode: "+d);j=qf}if(C){if(C.mode===Hf&&j===qf){if(!B)throw new be.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C=null}C&&D.forEach(function(W){if(C&&C.storeNames.indexOf(W)===-1){if(!B)throw new be.SubTransaction("Table "+W+" not included in parent transaction.");C=null}}),B&&C&&!C.active&&(C=null)}}catch(W){return C?C._promise(null,function(te,z){z(W)}):Ot(W)}var K=(function W(te,z,ie,q,J){return Ce.resolve().then(function(){var Z=De.transless||De,re=te._createTransaction(z,ie,te._dbSchema,q);if(re.explicit=!0,Z={trans:re,transless:Z},q)re.idbtrans=q.idbtrans;else try{re.create(),re.idbtrans._explicit=!0,te._state.PR1398_maxLoop=3}catch(fe){return fe.name===Ve.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return W(te,z,ie,null,J)})):Ot(fe)}var se,le=G(J);return le&&So(),Z=Ce.follow(function(){var fe;(se=J.call(re,re))&&(le?(fe=Ei.bind(null,null),se.then(fe,fe)):typeof se.next=="function"&&typeof se.throw=="function"&&(se=dh(se)))},Z),(se&&typeof se.then=="function"?Ce.resolve(se).then(function(fe){return re.active?fe:Ot(new be.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Z.then(function(){return se})).then(function(fe){return q&&re._resolve(),re._completion.then(function(){return fe})}).catch(function(fe){return re._reject(fe),Ot(fe)})})}).bind(null,this,j,D,C,b);return C?C._promise(j,K,"lock"):De.trans?Ss(De.transless,function(){return S._whenReady(K)}):this._whenReady(K)},Rt.prototype.table=function(d){if(!f(this._allTables,d))throw new be.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},Rt);function Rt(d,p){var b=this;this._middlewares={},this.verno=0;var S=Rt.dependencies;this._options=p=r({addons:Rt.addons,autoOpen:!0,indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange,cache:"cloned"},p),this._deps={indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},S=p.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var C,j,D,B,K,W={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:He,dbReadyPromise:null,cancelOpen:He,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:p.autoOpen};W.dbReadyPromise=new Ce(function(z){W.dbReadyResolve=z}),W.openCanceller=new Ce(function(z,ie){W.cancelOpen=ie}),this._state=W,this.name=d,this.on=Wa(this,"populate","blocked","versionchange","close",{ready:[ge,He]}),this.once=function(z,ie){var q=function(){for(var J=[],Z=0;Z<arguments.length;Z++)J[Z]=arguments[Z];b.on(z).unsubscribe(q),ie.apply(b,J)};return b.on(z,q)},this.on.ready.subscribe=_(this.on.ready.subscribe,function(z){return function(ie,q){Rt.vip(function(){var J,Z=b._state;Z.openComplete?(Z.dbOpenError||Ce.resolve().then(ie),q&&z(ie)):Z.onReadyBeingFired?(Z.onReadyBeingFired.push(ie),q&&z(ie)):(z(ie),J=b,q||z(function re(){J.on.ready.unsubscribe(ie),J.on.ready.unsubscribe(re)}))})}}),this.Collection=(C=this,Ha(VC.prototype,function(se,re){this.db=C;var q=Rv,J=null;if(re)try{q=re()}catch(le){J=le}var Z=se._ctx,re=Z.table,se=re.hook.reading.fire;this._ctx={table:re,index:Z.index,isPrimKey:!Z.index||re.schema.primKey.keyPath&&Z.index===re.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:J,or:Z.or,valueMapper:se!==Ft?se:null}})),this.Table=(j=this,Ha(Mv.prototype,function(z,ie,q){this.db=j,this._tx=q,this.name=z,this.schema=ie,this.hook=j._allTables[z]?j._allTables[z].hook:Wa(null,{creating:[de,He],reading:[P,Ft],updating:[N,He],deleting:[L,He]})})),this.Transaction=(D=this,Ha(HC.prototype,function(z,ie,q,J,Z){var re=this;z!=="readonly"&&ie.forEach(function(se){se=(se=q[se])===null||se===void 0?void 0:se.yProps,se&&(ie=ie.concat(se.map(function(le){return le.updatesTable})))}),this.db=D,this.mode=z,this.storeNames=ie,this.schema=q,this.chromeTransactionDurability=J,this.idbtrans=null,this.on=Wa(this,"complete","error","abort"),this.parent=Z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce(function(se,le){re._resolve=se,re._reject=le}),this._completion.then(function(){re.active=!1,re.on.complete.fire()},function(se){var le=re.active;return re.active=!1,re.on.error.fire(se),re.parent?re.parent._reject(se):le&&re.idbtrans&&re.idbtrans.abort(),Ot(se)})})),this.Version=(B=this,Ha(XC.prototype,function(z){this.db=B,this._cfg={version:z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(K=this,Ha(Vv.prototype,function(z,ie,q){if(this.db=K,this._ctx={table:z,index:ie===":id"?null:ie,or:q},this._cmp=this._ascending=it,this._descending=function(J,Z){return it(Z,J)},this._max=function(J,Z){return 0<it(J,Z)?J:Z},this._min=function(J,Z){return it(J,Z)<0?J:Z},this._IDBKeyRange=K._deps.IDBKeyRange,!this._IDBKeyRange)throw new be.MissingAPI})),this.on("versionchange",function(z){0<z.newVersion?console.warn("Another connection wants to upgrade database '".concat(b.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(b.name,"'. Closing db now to resume the delete request.")),b.close({disableAutoOpen:!1})}),this.on("blocked",function(z){!z.newVersion||z.newVersion<z.oldVersion?console.warn("Dexie.delete('".concat(b.name,"') was blocked")):console.warn("Upgrade '".concat(b.name,"' blocked by other connection holding version ").concat(z.oldVersion/10))}),this._maxKey=Qa(p.IDBKeyRange),this._createTransaction=function(z,ie,q,J){return new b.Transaction(z,ie,q,b._options.chromeTransactionDurability,J)},this._fireOnBlocked=function(z){b.on("blocked").fire(z),ko.filter(function(ie){return ie.name===b.name&&ie!==b&&!ie._state.vcFired}).map(function(ie){return ie.on("versionchange").fire(z)})},this.use(rT),this.use(aT),this.use(iT),this.use(tT),this.use(nT);var te=new Proxy(this,{get:function(z,ie,q){if(ie==="_vip")return!0;if(ie==="table")return function(Z){return cc(b.table(Z),te)};var J=Reflect.get(z,ie,q);return J instanceof Mv?cc(J,te):ie==="tables"?J.map(function(Z){return cc(Z,te)}):ie==="_createTransaction"?function(){return cc(J.apply(this,arguments),te)}:J}});this.vip=te,S.forEach(function(z){return z(b)})}var dc,Yn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",lT=(mh.prototype.subscribe=function(d,p,b){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:p,complete:b})},mh.prototype[Yn]=function(){return this},mh);function mh(d){this._subscribe=d}try{dc={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{dc={indexedDB:null,IDBKeyRange:null}}function i0(d){var p,b=!1,S=new lT(function(C){var j=G(d),D,B=!1,K={},W={},te={get closed(){return B},unsubscribe:function(){B||(B=!0,D&&D.abort(),z&&Pi.storagemutated.unsubscribe(q))}};C.start&&C.start(te);var z=!1,ie=function(){return Wf(J)},q=function(Z){ac(K,Z),ah(W,K)&&ie()},J=function(){var Z,re,se;!B&&dc.indexedDB&&(K={},Z={},D&&D.abort(),D=new AbortController,se=function(le){var fe=_o();try{j&&So();var ve=ki(d,le);return ve=j?ve.finally(Ei):ve}finally{fe&&xo()}}(re={subscr:Z,signal:D.signal,requery:ie,querier:d,trans:null}),Promise.resolve(se).then(function(le){b=!0,p=le,B||re.signal.aborted||(K={},function(fe){for(var ve in fe)if(f(fe,ve))return;return 1}(W=Z)||z||(Pi(Ga,q),z=!0),Wf(function(){return!B&&C.next&&C.next(le)}))},function(le){b=!1,["DatabaseClosedError","AbortError"].includes(le==null?void 0:le.name)||B||Wf(function(){B||C.error&&C.error(le)})}))};return setTimeout(ie,0),te});return S.hasValue=function(){return b},S.getValue=function(){return p},S}var Ts=Zr;function gh(d){var p=Ai;try{Ai=!0,Pi.storagemutated.fire(d),ch(d,!0)}finally{Ai=p}}h(Ts,r(r({},ut),{delete:function(d){return new Ts(d,{addons:[]}).delete()},exists:function(d){return new Ts(d,{addons:[]}).open().then(function(p){return p.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return p=Ts.dependencies,b=p.indexedDB,p=p.IDBKeyRange,(ih(b)?Promise.resolve(b.databases()).then(function(S){return S.map(function(C){return C.name}).filter(function(C){return C!==Qu})}):rh(b,p).toCollection().primaryKeys()).then(d)}catch{return Ot(new be.MissingAPI)}var p,b},defineClass:function(){return function(d){l(this,d)}},ignoreTransaction:function(d){return De.trans?Ss(De.transless,d):d()},vip:sh,async:function(d){return function(){try{var p=dh(d.apply(this,arguments));return p&&typeof p.then=="function"?p:Ce.resolve(p)}catch(b){return Ot(b)}}},spawn:function(d,p,b){try{var S=dh(d.apply(b,p||[]));return S&&typeof S.then=="function"?S:Ce.resolve(S)}catch(C){return Ot(C)}},currentTransaction:{get:function(){return De.trans||null}},waitFor:function(d,p){return p=Ce.resolve(typeof d=="function"?Ts.ignoreTransaction(d):d).timeout(p||6e4),De.trans?De.trans.waitFor(p):p},Promise:Ce,debug:{get:function(){return ye},set:function(d){ae(d)}},derive:y,extend:l,props:h,override:_,Events:Wa,on:Pi,liveQuery:i0,extendObservabilitySet:ac,getByKeyPath:I,setByKeyPath:R,delByKeyPath:function(d,p){typeof p=="string"?R(d,p,void 0):"length"in p&&[].map.call(p,function(b){R(d,b,void 0)})},shallowClone:$,deepClone:ee,getObjectDiff:fh,cmp:it,asap:O,minKey:-1/0,addons:[],connections:ko,errnames:Ve,dependencies:dc,cache:Cs,semVer:"4.2.1",version:"4.2.1".split(".").map(function(d){return parseInt(d)}).reduce(function(d,p,b){return d+p/Math.pow(10,2*b)})})),Ts.maxKey=Qa(Ts.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Pi(Ga,function(d){Ai||(d=new CustomEvent(Yf,{detail:d}),Ai=!0,dispatchEvent(d),Ai=!1)}),addEventListener(Yf,function(d){d=d.detail,Ai||gh(d)}));var Po,Ai=!1,s0=function(){};return typeof BroadcastChannel<"u"&&((s0=function(){(Po=new BroadcastChannel(Yf)).onmessage=function(d){return d.data&&gh(d.data)}})(),typeof Po.unref=="function"&&Po.unref(),Pi(Ga,function(d){Ai||Po.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!Zr.disableBfCache&&d.persisted){ye&&console.debug("Dexie: handling persisted pagehide"),Po!=null&&Po.close();for(var p=0,b=ko;p<b.length;p++)b[p].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!Zr.disableBfCache&&d.persisted&&(ye&&console.debug("Dexie: handling persisted pageshow"),s0(),gh({all:new tn(-1/0,[[]])}))})),Ce.rejectionMapper=function(d,p){return!d||d instanceof oe||d instanceof TypeError||d instanceof SyntaxError||!d.name||!Ge[d.name]?d:(p=new Ge[d.name](p||d.message,d),"stack"in d&&w(p,"stack",{get:function(){return this.inner.stack}}),p)},ae(ye),r(Zr,Object.freeze({__proto__:null,Dexie:Zr,liveQuery:i0,Entity:Iv,cmp:it,PropModification:Ka,replacePrefix:function(d,p){return new Ka({replacePrefix:[d,p]})},add:function(d){return new Ka({add:d})},remove:function(d){return new Ka({remove:d})},default:Zr,RangeSet:tn,mergeRanges:Za,rangesOverlap:Gv}),{default:Zr}),Zr})})(rk);var DI=rk.exports;const Wm=ef(DI),Zw=Symbol.for("Dexie"),zd=globalThis[Zw]||(globalThis[Zw]=Wm);if(Wm.semVer!==zd.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Wm.semVer} and ${zd.semVer}`);const{liveQuery:_B,mergeRanges:xB,rangesOverlap:SB,RangeSet:kB,cmp:EB,Entity:CB,PropModification:TB,replacePrefix:PB,add:AB,remove:jB,DexieYProvider:OB}=zd;class NI extends zd{constructor(){super("SankeertanDB");hc(this,"categories");hc(this,"songIndices");hc(this,"songDetails");this.version(1).stores({categories:"++id",songIndices:"++insertionId, [bookId+songTitle], bookId",songDetails:"[bookId+songTitle], bookId"})}}const fn=new NI,tp=new Map;async function LI(){try{const e=await fn.categories.toArray();return e.length>0?e:void 0}catch(e){console.error("Error retrieving categories from DB:",e);return}}async function $I(e){try{await fn.categories.clear(),await fn.categories.bulkAdd(e)}catch(t){console.error("Error saving categories to DB:",t)}}const Cf=async e=>{try{return await fn.songIndices.where("bookId").equals(e).count()>0}catch(t){return console.error(`Error checking song indices cache status for book ${e} from DB:`,t),!1}};async function MI(e){try{const t=await fn.songIndices.where("bookId").equals(e).delete();console.log(`Successfully deleted ${t} song index records for book: ${e}`)}catch(t){console.error(`Error deleting song indices for book ${e} from DB:`,t)}}async function FI(e){try{return await fn.songDetails.where("bookId").equals(e).count()}catch(t){return console.error(`Error counting downloaded songs for book ${e} from DB:`,t),0}}async function BI(e){const t=e.map(async i=>{const s=i.bookId,o=i.songCount||0,[a,l]=await Promise.all([Cf(s),FI(s)]),u=o>0?l:0;return{bookId:s,status:{totalSongs:o,downloadedSongs:u,downloadingSongs:{},isIndexDownloaded:a}}}),n=await Promise.all(t),r={};return n.forEach(i=>{r[i.bookId]=i.status}),r}async function UI(e){try{const t=await fn.songDetails.where("bookId").equals(e).delete(),n=await fn.songIndices.where("bookId").equals(e).delete();console.log(`Successfully deleted cached book data for ${e}. 
                 Details removed: ${t}, Indices removed: ${n}`)}catch(t){console.error(`Error deleting all book data for book ${e} from DB:`,t)}}async function ik(e){try{const t=await fn.songIndices.where("bookId").equals(e).sortBy("insertionId");return t.length>0?t:void 0}catch(t){console.error(`Error retrieving song indices for book ${e} from DB:`,t);return}}async function sk(e,t){try{await fn.songIndices.where("bookId").equals(e).delete();const n=t.map(r=>({...r,bookId:e,tags:r.tags||[]}));await fn.songIndices.bulkAdd(n)}catch(n){console.error(`Error saving song indices for book ${e} to DB:`,n)}}async function Ly(e,t){try{const n=[e,t];return await fn.songDetails.where("[bookId+songTitle]").equals(n).count()>0}catch(n){return console.error(`Error checking download status for ${t} in ${e}:`,n),!1}}async function zI(e,t){try{const n=[e,t];return await fn.songDetails.where("[bookId+songTitle]").equals(n).first()}catch(n){console.error(`Error retrieving song detail for ${t} in ${e} from DB:`,n);return}}const ok=(e,t)=>`${e}-${encodeURIComponent(t)}`;async function ak(e){const t=ok(e.bookId,e.songTitle);try{const n={cacheId:t,...e};await fn.songDetails.put(n)}catch(n){throw console.error(`Error saving song detail for ${t} to DB:`,n),n}}async function VI(e,t){try{const n=[e,t];await fn.songDetails.delete(n)}catch(n){console.error(`Error deleting song detail for ${t} in ${e} from DB:`,n)}}async function KI(e,t,n,r){const{sourceRow:i,songTitle:s}=t,o=ok(e,s);if(await Ly(e,s))return;const l=tp.get(o);if(l)return l;const u=String(i),c=Number(i),f=(async()=>{if(!e||!s||isNaN(c)||c<0)throw new Error(`Missing or invalid critical song parameters for fetching: Book ID: ${e}, Title: ${s}, Row: ${i}, User: ${n}`);try{const h=await r({bookId:e,sourceRow:c,songTitle:s,sessionuser:n});if(h.length<3)throw new Error("API response is incomplete. Expected [songData, metadata, sourceLanguage].");const[m,w,y]=h;await ak({bookId:e,songTitle:s,sourceRow:u,songData:m,metadata:w,sourceLanguage:y})}catch(h){throw console.error(`Failed to download and cache song ${s} in book ${e}:`,h),h}})();tp.set(o,f);try{await f}finally{tp.delete(o)}}const lk=k.createContext({categories:[],isLoading:!1,isFetching:!1,error:null}),WI=async e=>{const t=new URL(`${vo}`);t.searchParams.append("mode","api"),t.searchParams.append("apiname","getcategoriesandbooks"),t.searchParams.append("sessionuser",e??"dummyfornow");const n=await fetch(t.toString());if(!n.ok){const s=await n.json().catch(()=>({message:"No detailed error message"}));throw new Error(`Failed to fetch categories and books: ${n.status} - ${JSON.stringify(s)}`)}const r=await n.json();return Object.keys(r).filter(s=>s!=="books").map(s=>({name:s,bookCount:Array.isArray(r[s])?r[s].length:0,books:Array.isArray(r[s])?r[s].map(o=>({bookId:o["Book Id"],bookName:o["Book Name"],songCount:o["Song Count"],verseCount:o["Verse Count"],isBookSourceSupabase:o.isBookSourceSupabase==="true"||o.isBookSourceSupabase===!0})):[],id:s.toLowerCase().replace(/ /g,"-"),image:`https://placehold.co/800/orange/black?text=${encodeURIComponent(s)}&font=lora`}))},HI=({children:e})=>{var h;const{session:t}=bs(),n=(h=t==null?void 0:t.user)==null?void 0:h.email,[r,i]=k.useState(void 0),[s,o]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const w=await LI();w&&i(w)}catch(w){console.error("Error retrieving categories data from IndexedDB:",w)}finally{o(!1)}})()},[]);const{isLoading:a,isFetching:l,error:u,data:c}=Ny({queryKey:["categories",n],queryFn:()=>WI(n??null),staleTime:1/0,initialData:r,refetchOnMount:!1,enabled:!!n&&!s});k.useEffect(()=>{c&&!l&&$I(c).catch(m=>{console.error("Error saving categories data to IndexedDB:",m)})},[c,l]);const f=s||a;return E.jsx(lk.Provider,{value:{categories:c??r??[],isLoading:f,isFetching:l,error:u},children:e})},$y=()=>k.useContext(lk),Xw=e=>{const[t,n]=k.useState(!1);return k.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;const r=window.matchMedia(e),i=s=>n(s.matches);return n(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),t};function qI(){var m;const{categories:e,isLoading:t,isFetching:n,error:r}=$y(),i=jr(),[s,o]=k.useState([]);Xw("(max-width: 600px) and (orientation: portrait)"),Xw("(max-width: 900px) and (orientation: landscape)");const{session:a}=bs(),l=(m=a==null?void 0:a.user)==null?void 0:m.email,u=Ef();if(k.useEffect(()=>{o((y=>{const x=[],g=360/y;for(let v=0;v<y;v++){const _=v*g;x.push(`hsl(${_}, 70%, 60%)`)}return x})(e.length))},[e.length]),t||n)return E.jsx("div",{children:"Loading categories..."});if(r instanceof Error)return E.jsxs("div",{children:["Error loading categories: ",r.message]});const c=async()=>{await fn.categories.delete("1"),console.log("Categories & Books -> IndexedDB cache cleared. Data will be reloaded from the server."),u.invalidateQueries({queryKey:["categories",l]})},f=(w,y)=>{w.stopPropagation(),i(`/books/${y}`)},h={container:{maxWidth:"1000px",margin:"0 auto",padding:"20px",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",backgroundColor:"#f5f7fa",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)"},heading:{textAlign:"center",color:"#2c3e50",marginBottom:"25px",fontSize:"32px",fontWeight:"700",paddingBottom:"15px",borderBottom:"2px solid #eaeaea"},categoryGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},categoryItem:{borderRadius:"12px",padding:"20px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)",border:"1px solid #eaeaea",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},categoryIcon:{marginRight:"15px",width:"50px",height:"50px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"white",flexShrink:"0",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},categoryName:{fontWeight:"600",color:"#2c3e50",fontSize:"18px"}};return{...h.categoryGridBase},E.jsxs("div",{style:h.container,children:[E.jsxs("h2",{style:h.heading,children:["Book Categories",E.jsx("button",{onClick:c,style:{marginRight:"10px"},title:"Reload",children:""})]}),E.jsx("div",{style:h.categoryGrid,children:e==null?void 0:e.map((w,y)=>E.jsxs("div",{onClick:x=>f(x,w.id),style:{...h.categoryItem,backgroundColor:y%2===0?"#f8f9fa":"#ffffff"},className:"category-item",children:[E.jsx("div",{style:{...h.categoryIcon,backgroundColor:s[y]||"#3498db"},children:""}),E.jsx("span",{style:h.categoryName,children:w.name})]},w.id))}),E.jsx("style",{children:`
          .category-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: #3498db;
          }
        `})]})}const uk=k.createContext({isOfflineMode:!1,setIsOfflineMode:()=>{},isEffectivelyOffline:!1}),GI=({children:e})=>{const[t,n]=k.useState(!1),r=t||!navigator.onLine;return k.useEffect(()=>{const i=()=>{},s=()=>{t||n(!0)};return window.addEventListener("online",i),window.addEventListener("offline",s),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",s)}},[t,n]),E.jsx(uk.Provider,{value:{isOfflineMode:t,setIsOfflineMode:n,isEffectivelyOffline:r},children:e})},My=()=>k.useContext(uk),np={},ck=k.createContext(void 0),QI=({children:e,books:t})=>{const[n,r]=k.useState(np),i=k.useMemo(()=>t.map(f=>f.bookId).join(","),[t]);k.useEffect(()=>{if(!t||t.length===0){r(np);return}(async()=>{try{const h=await BI(t);r(h)}catch(h){console.error("Failed to load initial download status from DB:",h),r(np)}})()},[i,t]);const s=k.useCallback((f,h)=>{r(m=>({...m,[f]:{...m[f],totalSongs:h}}))},[]),o=k.useCallback((f,h)=>{r(m=>({...m,[f]:{...m[f],downloadedSongs:h}}))},[]),a=k.useCallback((f,h)=>{r(m=>({...m,[f]:{...m[f],isIndexDownloaded:h}}))},[]),l=k.useCallback((f,h)=>{r(m=>{var w;return{...m,[f]:{...m[f],downloadingSongs:{...(w=m[f])==null?void 0:w.downloadingSongs,[h]:!0}}}})},[]),u=k.useCallback((f,h)=>{r(m=>{const w=m[f];if(!w)return m;const y={...w.downloadingSongs};return delete y[h],{...m,[f]:{...w,downloadedSongs:(w.downloadedSongs||0)+1,downloadingSongs:y}}})},[]),c={downloadStatus:n,updateDownloadProgress:s,updateDownloadedCount:o,markSongAsDownloading:l,markSongAsDownloaded:u,updateIndexStatus:a};return E.jsx(ck.Provider,{value:c,children:e})},Fy=()=>{const e=k.useContext(ck);if(!e)throw new Error("useDownloadStatus must be used within a DownloadStatusProvider");return e},YI=async({bookId:e,sourceRow:t,songTitle:n,sessionuser:r})=>{if(!e||t===null||t===void 0||!n)throw new Error("Missing parameters to fetch song details");const i=new URL(`${vo}`);i.searchParams.append("mode","api"),i.searchParams.append("apiname","getsongtextforsong"),i.searchParams.append("book",e),i.searchParams.append("sourcerow",t.toString()),i.searchParams.append("songtitle",n),r&&i.searchParams.append("sessionuser",r);const s=await fetch(i.toString());if(!s.ok){const o=await s.json();throw new Error(`Failed to fetch song details for book ${e}, row ${t}, title ${n}: ${s.status} - ${JSON.stringify(o)}`)}return await s.json()},JI=(e,t,n)=>{const[r,i]=k.useState(!1),[s,o]=k.useState(null),{updateDownloadProgress:a,markSongAsDownloading:l,markSongAsDownloaded:u}=Fy(),c=k.useCallback(h=>s===h&&r,[s,r]);k.useCallback(h=>{let m=0;const w=`sankeertan_song_indices-${h}`,y=localStorage.getItem(w);if(y)try{const x=JSON.parse(y);x!=null&&x.data&&Array.isArray(x.data)&&x.data.forEach(g=>{const v=`sankeertan_song_details-${h}-${encodeURIComponent(g.songTitle)}`;localStorage.getItem(v)&&m++})}catch(x){console.error("Error parsing song indices from localStorage:",x)}return m},[]);const f=k.useCallback(async(h,m)=>{if(!h||r&&s===h)return 0;o(h),i(!0);let w=null,y=0;if(await Cf(h))try{const g=await ik(h);g&&Array.isArray(g)?(w=g.map(v=>({sourceRow:v.sourceRow,songTitle:v.songTitle,verseCount:v.verseCount})),y=w.length,a(h,y)):console.warn(`Stored song indices for book ${h} is not a valid array.`)}catch(g){console.error("Error parsing song indices from localStorage:",g)}else try{const g=new URL(vo);g.searchParams.append("mode","api"),g.searchParams.append("apiname","getsongsforbook"),g.searchParams.append("book",h),m&&g.searchParams.append("sessionuser",m),g.searchParams.append("sessionuser",m??"dummyfornow");const v=await fetch(g.toString());if(!v.ok){const T=await v.json();throw new Error(`Failed to fetch song indices for book ${h}: ${v.status} - ${JSON.stringify(T)}`)}const _=await v.json();w=_,y=w.length,a(h,y),await sk(h,_)}catch{return 0}if(w&&w.length>0){let g=0;for(const v of w)await KI(h,v,m,YI),u(h,v.songTitle),g++,a(h,g)}return i(!1),o(null),y},[e,t,n,r,s,a,l,u]);return{isDownloading:r,downloadAllSongsForBook:f,isDownloadingBook:c}},mr={container:{fontFamily:"sans-serif",fontSize:"14px",color:"#555",marginBottom:"20px"},link:{color:"#007bff",textDecoration:"none",transition:"color 0.2s ease-in-out"},separator:{margin:"0 5px",color:"#999"},currentPage:{fontWeight:"bold",color:"#333",cursor:"default",textDecoration:"none"}},By=()=>{const e=dr(),{categoryId:t,bookId:n,songTitle:r}=Pu(),i=r?decodeURIComponent(r):"",[s,o]=We.useState(!1),a={...mr.link,color:s?"#0056b3":"#007bff",textDecoration:s?"underline":"none"},l=E.jsx(Un,{to:"/",style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:"Home"});return e.pathname.startsWith("/books/")?E.jsxs("div",{style:mr.container,children:[l,E.jsx("span",{style:mr.separator,children:">"}),t]}):e.pathname.startsWith("/book/")?E.jsxs("div",{style:mr.container,children:[l,E.jsx("span",{style:mr.separator,children:">"}),E.jsx(Un,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:t}),E.jsx("span",{style:mr.separator,children:">"}),n]}):e.pathname.startsWith("/details/book/")?E.jsxs("div",{style:mr.container,children:[l,E.jsx("span",{style:mr.separator,children:">"}),E.jsx(Un,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:t}),E.jsx("span",{style:mr.separator,children:">"}),E.jsx(Un,{to:`/book/${t}/${n}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:n}),E.jsx("span",{style:mr.separator,children:">"}),E.jsx("span",{style:mr.currentPage,children:i})]}):null},dk=k.createContext({preferredLanguage:"deva",setPreferredLanguage:()=>{}}),fk=({children:e})=>{const t=localStorage.getItem("preferredLanguage"),[n,r]=k.useState(t||"deva");return k.useEffect(()=>{localStorage.setItem("preferredLanguage",n)},[n]),E.jsx(dk.Provider,{value:{preferredLanguage:n,setPreferredLanguage:r},children:e})},Ba=()=>k.useContext(dk);function ZI(e,t){const n=k.useMemo(()=>(e==null?void 0:e.books)??[],[e==null?void 0:e.books]),[r,i]=k.useState(n);return k.useEffect(()=>{if(!t){i(n);return}(async()=>{const l=(await Promise.all(n.map(async u=>({...u,isCached:await Cf(u.bookId)})))).filter(u=>u.isCached);i(l)})()},[n,t]),k.useMemo(()=>t?r:n,[t,n,r])}function XI(){var Q;const{categoryId:e}=Pu(),t=jr(),{categories:n,isLoading:r,isFetching:i,error:s}=$y(),{isEffectivelyOffline:o}=My(),a=k.useMemo(()=>{if(n&&e)return n.find(oe=>oe.id===e)},[n,e]),l=ZI(a,o);k.useEffect(()=>{if(!l||l.length===0){g({});return}(async()=>{const pe=l.map(Ve=>Cf(Ve.bookId)),me=await Promise.all(pe),Me={};l.forEach((Ve,Be)=>{Me[Ve.bookId]=me[Be]}),g(Me)})()},[l]);const{isDownloading:u,downloadAllSongsForBook:c,isDownloadingBook:f}=JI(),[h,m]=k.useState(null),[w,y]=k.useState(!1),[x,g]=k.useState({}),v=Ef(),{preferredLanguage:_}=Ba(),{downloadStatus:T,updateDownloadProgress:O,updateDownloadedCount:I}=Fy(),{session:R}=bs(),$=(Q=R==null?void 0:R.user)==null?void 0:Q.email,U=async(oe,pe)=>{oe==null||oe.stopPropagation(),window.confirm(`Pls confirm for deletion of book index [${pe}]`)&&(await MI(pe),g(Me=>({...Me,[pe]:!1})),O(pe,0),I(pe,0))},V=async(oe,pe)=>{oe==null||oe.stopPropagation(),window.confirm(`WARNING: This will permanently delete the ENTIRE book "${pe}". This action cannot be undone. Please confirm.`)&&(await UI(pe),O(pe,0),I(pe,0))},we=(oe,pe)=>{oe==null||oe.stopPropagation(),t(`/book/${e}/${pe}`)},F=async()=>{var pe;y(!0);const oe=(pe=R==null?void 0:R.user)==null?void 0:pe.email;try{const me=l.map(Me=>v.prefetchQuery({queryKey:["songIndices",Me.bookId,_,oe],queryFn:()=>ee(Me.bookId,oe??null)}));await Promise.all(me),console.log("All song indices downloaded successfully.")}catch(me){console.error("Failed to download all indices:",me)}finally{y(!1)}},ee=async(oe,pe)=>{if(!oe)return[];const me=`sankeertan_song_indices-${oe}`,Me=localStorage.getItem(me);if(Me)try{return JSON.parse(Me)}catch(Ge){console.error("Error parsing song indices from localStorage:",Ge)}const Ve=new URL(vo);Ve.searchParams.append("mode","api"),Ve.searchParams.append("apiname","getsongsforbook"),Ve.searchParams.append("book",oe),Ve.searchParams.append("sessionuser",pe??"dummyfornow");const Be=await fetch(Ve.toString());if(!Be.ok){const Ge=await Be.json();throw new Error(`Failed to fetch song indices for book ${oe}: ${Be.status} - ${JSON.stringify(Ge)}`)}const be=await Be.json();return console.log(`Setting localstorage for ${me}`),localStorage.setItem(me,JSON.stringify(be)),be},A=async(oe,pe)=>{var Me;oe.stopPropagation(),m(pe);const me=(Me=R==null?void 0:R.user)==null?void 0:Me.email;try{await v.prefetchQuery({queryKey:["songIndices",pe,_,me],queryFn:()=>ee(pe,me??null)}),console.log(`Index for Book ${pe} downloaded successfully.`)}catch(Ve){console.error(`Failed to download index for Book ${pe}:`,Ve)}finally{m(null)}},ue=async(oe,pe,me)=>{oe==null||oe.stopPropagation(),await c(pe,$)},Oe=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6zM13 15h-2v3h-2v-3H7l3.5-3.5L14 15h-2z"})]}),M=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h12v16H6V4zM16 13h-3v3h-2v-3H8l4-4 4 4zM14 20h-4v-2h4v2z"})]}),X=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18h14v2H5v-2z"})]}),Y=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})]}),ce=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})]}),G=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 4h7v5h5v11H6V4zm-2 16h16V4h-3V1h-4v3h-3v-3H4v3H1v2h3v12zM12 9l-4 4h3v4h2v-4h3l-4-4z"})]});return r||i?E.jsx("div",{children:"Loading books..."}):s instanceof Error?E.jsxs("div",{children:["Error loading books: ",s.message]}):E.jsxs(E.Fragment,{children:[E.jsx(By,{}),E.jsx("div",{children:l.length>0?E.jsx("ul",{className:"list-none p-0",children:l.map(oe=>{const pe=T[oe.bookId]||{},me=pe.downloadedSongs||0,Me=pe.totalSongs||oe.songCount||0,Ve=Me>0?me/Me*100:0,Be=x[oe.bookId]??!1,be=me===Me&&Me>0;return E.jsx("li",{onClick:Ge=>we(Ge,oe.bookId),className:"relative overflow-hidden cursor-pointer border-b border-gray-300 py-2 px-4",children:E.jsxs("div",{className:"z-20 relative grid grid-cols-[1fr_auto] gap-4 items-center divide-x divide-gray-300",children:[E.jsxs("div",{className:"relative text-lg font-medium pr-4",children:[E.jsx("div",{className:"absolute inset-0 bg-gray-200 z-0 rounded-md",style:{width:"100%"}}),E.jsx("div",{className:"absolute inset-0 bg-green-200 z-10 rounded-md",style:{width:`${Ve}%`}}),E.jsx("span",{className:`relative z-20 ${Ve>25,"text-black-900"}`,children:oe.bookName})]}),E.jsxs("div",{className:"flex items-center space-x-4 divide-x divide-gray-300 pl-4",children:[E.jsx("div",{className:"flex items-center text-sm text-gray-600 pr-4 min-w-[150px]",children:E.jsxs("span",{children:["(",me,"/",Me," downloaded)"]})}),E.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:Be?E.jsxs("span",{className:"flex items-center text-green-500",children:[Y," ",E.jsx("span",{className:"ml-1",children:"Index"})]}):E.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),A(Ge,oe.bookId)},disabled:o||u||f(oe.bookId)||Be,className:"flex items-center text-brown-600",children:h===oe.bookId?"DownloadingI...":E.jsxs(E.Fragment,{children:[Oe," ",E.jsx("span",{className:"ml-1",children:"Download Index"})]})})}),E.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:be?E.jsxs("span",{className:"flex items-center text-green-500",children:[Y," ",E.jsx("span",{className:"ml-1",children:"Book"})]}):E.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),ue(Ge,oe.bookId,oe.songCount??0)},disabled:o||u||f(oe.bookId),className:"flex items-center text-brown-600",children:f(oe.bookId)?"DownloadingB...":E.jsxs(E.Fragment,{children:[X," ",E.jsx("span",{className:"ml-1",children:"Download Book"})]})})}),E.jsxs("div",{className:"flex items-center space-x-2 pl-4",children:[E.jsxs("button",{onClick:Ge=>{Ge.stopPropagation(),U(Ge,oe.bookId)},disabled:!Be,className:"flex items-center text-red-500 border border-red-500 px-2 py-1 rounded-md hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:text-gray-400 disabled:border-gray-400",children:[G," ",E.jsx("span",{className:"ml-1",children:"Index"})]}),E.jsxs("button",{onClick:Ge=>{Ge.stopPropagation(),V(Ge,oe.bookId)},disabled:u||f(oe.bookId)||Ve===0,className:"flex items-center bg-red-500 text-white border border-red-500 px-2 py-1 rounded-md hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-600 disabled:border-gray-400",children:[ce," ",E.jsx("span",{className:"ml-1",children:"Book"})]})]})]})]})},oe.bookId)})}):E.jsx("p",{children:"No books found in this category."})}),E.jsx("div",{className:"mt-4 p-4 border-t border-gray-200",children:E.jsxs("button",{onClick:F,disabled:w,className:`px-4 py-2 rounded-lg text-sm font-semibold text-white transition-colors duration-300 ${w?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:[M,w?"Downloading All...":"Download All Indices"]})})]})}function eD(e){return[{pattern:/([])/g,replacement:"$1",name:"Palatal"},{pattern:/([])/g,replacement:"$1",name:"Retroflex"},{pattern:/([])/g,replacement:"$1",name:"Velar"},{pattern:/([])/g,replacement:"$1",name:"Dental"},{pattern:/([])/g,replacement:"$1",name:"Labial"},{pattern:/$/g,replacement:"",name:"Word-final"},{pattern://g,replacement:"",name:"Chandrabindu  "}].reduce((n,r)=>{const i=n.replace(r.pattern,(s,o)=>r.replacement.replace("$1",o));return i!==n?i:n},e)}function tD(e){const t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};return e.replace(/\u0D30\u0D4D/g,"").replace(/[-]/g,n=>t[n]||n)}function nD(e){const t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};let n=e;for(const r in t){const i=t[r];n=n.replace(new RegExp(r,"g"),i)}return n}function rD(e){return e.replace(/~nja?/g,"~n").replace(/~nca?/g,"~nca").replace(/[]?/g,"n").replace(/jh/g,"c").replace(/bh/g,"p").replace(/gh/g,"k").replace(/dh/g,"t").replace(/([kctp])a(?![aiueo])/g,"$1").replace(//g,"").replace(//g,"i").replace(//g,"").replace(//g,"u").replace(//g,"").replace(/n([ctkp])/g,"$1").replace(//g,"").replace(//g,"r").replace(/aa/g,"A").replace(/ii/g,"I").replace(/uu/g,"U")}const Vd=(e,t,n)=>{let r=e,i=e;return t==="devanagari"?r=eD(r):t==="tamil"&&(r=r.normalize("NFC")),window.Sanscript&&(i=window.Sanscript.t(r,t==="devanagari"?"devanagari":"itrans",n),n==="malayalam"?i=tD(i):n==="itrans"?t==="tamil"&&(i=rD(i)):(n==="tamil"||n==="tamil_superscripted")&&(i=nD(i))),i},iD={color:"green"},sD={color:"black"},oD={backgroundColor:"#e0e0e0",fontWeight:"bold",color:"blue"},aD={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},lD={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 15px",marginBottom:"2px",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.2s ease",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid #e2e8f0"},uD={backgroundColor:"#f0f4f8"},cD=async(e,t)=>{if(!e)return[];const n=new URL(vo);n.searchParams.append("mode","api"),n.searchParams.append("apiname","getsongsforbook"),n.searchParams.append("book",e),n.searchParams.append("sessionuser",t??"dummyfornow");const r=await fetch(n.toString());if(!r.ok){const s=await r.json().catch(()=>({message:"No detailed error message"}));throw new Error(`Failed to fetch song indices for book ${e}: ${r.status} - ${JSON.stringify(s)}`)}const i=await r.json();return i.data||i},dD=(e,t)=>{const[n,r]=k.useState({});return k.useEffect(()=>{if(!e||!t||t.length===0)return;(async()=>{const s=t.map(async l=>{const u=await Ly(e,l.songTitle);return{title:l.songTitle,isDownloaded:u}}),a=(await Promise.all(s)).reduce((l,u)=>(l[u.title]=u.isDownloaded,l),{});r(a)})()},[e,t]),n};function fD(){var F;const{categoryId:e,bookId:t}=Pu(),n=jr(),{isEffectivelyOffline:r}=My(),{session:i}=bs(),s=(F=i==null?void 0:i.user)==null?void 0:F.email,[o,a]=k.useState(null),{preferredLanguage:l}=Ba(),[,u]=k.useState({});k.useEffect(()=>{u({})},[l]);const[c,f]=k.useState(void 0),[h,m]=k.useState(!0);k.useEffect(()=>{(async()=>{if(!t){m(!1);return}try{const A=await ik(t);A&&f(A)}catch(A){console.error("Error retrieving song indices data from IndexedDB:",A)}finally{m(!1)}})()},[t]);const{isLoading:w,error:y,data:x,isFetching:g}=Ny({queryKey:["songIndices",t,s],queryFn:()=>cD(t,s??null),staleTime:1/0,gcTime:0,initialData:c,refetchOnMount:!1,enabled:!!t&&!!s&&!h}),v=x??c,{downloadStatus:_}=Fy(),T=dD(t,v);if(k.useEffect(()=>{t&&x&&!g&&sk(t,x).catch(ee=>{console.error("Error saving song indices data to IndexedDB:",ee)})},[t,x,g]),k.useEffect(()=>{const ee=sessionStorage.getItem("lastClickedSongIndex");ee!==null&&(a(parseInt(ee,10)),sessionStorage.removeItem("lastClickedSongIndex"))},[]),h||w)return E.jsx("div",{style:aD,children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[E.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),E.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),E.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),E.jsx("p",{style:{marginLeft:"10px"},children:"Loading song indices..."})]})});if(y instanceof Error)return E.jsxs("div",{children:["Error loading song indices: ",y.message]});const I=(ee,A,ue,Oe)=>{ee.stopPropagation();const M=A[ue].sourceRow,X=A[ue].songTitle;Oe&&(sessionStorage.setItem("lastClickedSongIndex",ue.toString()),n(`/details/book/${e}/${Oe}/${M}/${encodeURIComponent(X)}`,{state:{filteredSongIndices:A,index:ue}}))},R=ee=>T[ee]===!0,$=(v==null?void 0:v.filter(ee=>r?R(ee.songTitle):!0))??[],U=(ee,A)=>{const ue=R(ee.songTitle);return{...lD,...ue?iD:sD,...A===o&&oD}},V=ee=>{ee.currentTarget.style.backgroundColor=uD.backgroundColor},we=ee=>{ee.currentTarget.style.backgroundColor=""};return E.jsxs(E.Fragment,{children:[E.jsx(By,{}),E.jsxs("div",{children:[E.jsxs("h2",{children:["Song Indices for Book: ",`bookId ... ${$.length}`]}),E.jsx("ul",{children:$==null?void 0:$.map((ee,A)=>{var ue;return E.jsxs("li",{onClick:Oe=>I(Oe,$,A,t),style:U(ee,A),onMouseEnter:V,onMouseLeave:we,children:[E.jsx("span",{style:{flexGrow:1,fontSize:"1.2em"},children:l==="itrans"?ee.songTitle:(()=>{if(window.Sanscript)try{return Vd(ee.songTitle,"itrans",l)}catch(Oe){return console.error("Error during transliteration",Oe),ee.songTitle}return ee.songTitle})()}),E.jsx("span",{style:{marginLeft:"10px",color:"red"},children:t&&((ue=_[t])==null?void 0:ue.downloadingSongs[ee.songTitle])&&"..downloading.."})]},ee.sourceRow)})})]})]})}const hD=({data:e,className:t="",highlightColor:n="bg-amber-50",highlightColumns:r=[],wrapColumns:i=[],striped:s=!0,hoverEffect:o=!0,maxWidth:a="screen",fontSize:l="3xl",preferredLanguage:u,sourceLanguage:c})=>{if(!Array.isArray(e)||e.length<1)return E.jsx("div",{className:"p-2 text-red-500 bg-red-50 rounded",children:"Invalid data: Must be a non-empty array"});const[f,...h]=e,m=y=>{let x=String(y).replace(/  \s*\/?>/gi,"<br/>").replace(/\n/g,"<br/>");if(typeof y=="string"&&u!=="deva"&&window.Sanscript)try{const g=x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");x=Vd(g,c,u).replace(/&lt;br\s*\/&gt;/gi,"<br/>"),x=x.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}catch(g){return console.error("Error during transliteration:",g),{__html:x}}return{__html:x}},w=a==="screen"?"max-w-screen":a==="full"?"w-full":a;return E.jsx("div",{className:`overflow-x-auto rounded-lg border bg-gray-300 ${w} ${t}`,children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200 font-devanagari",children:[E.jsx("thead",{className:"bg-gray-50",children:E.jsx("tr",{children:f.map((y,x)=>E.jsx("th",{className:`
                  px-4 py-4 text-left text-${l} font-medium text-gray-700  {/* Darker text, more padding */}
                  ${r.includes(x)?n:""}
                  sticky top-0 bg-gray-100 {/* Ensure background for sticky header */}
                `,dangerouslySetInnerHTML:m(y)},`th-${x}`))})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map((y,x)=>E.jsx("tr",{id:`trRowAsAnchor-${x}`,className:`
        ${s&&x%2===0?"bg-white":"bg-gray-100"} {/* Slightly more contrast for stripes */}
        ${o?"hover:bg-indigo-50":""} {/* More noticeable hover */}
      `,children:y.map((g,v)=>E.jsx("td",{className:`
            px-4 py-3.5 text-${l} align-top {/* Slightly more vertical padding */}
            ${i.includes(v)?"whitespace-normal break-words max-w-[300px]":"whitespace-nowrap"}
            ${r.includes(v)?n:""}
          `,dangerouslySetInnerHTML:m(g)},`td-${x}-${v}`))},`row-${x}`))})]})})};function pD(e,t,n){return Math.max(t,Math.min(e,n))}const ln={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function eb(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function tb(e,t,n,r=.15){return r===0?pD(e,t,n):e<t?-eb(t-e,n-t,r)+t:e>n?+eb(e-n,n-t,r)+n:e}function mD(e,[t,n],[r,i]){const[[s,o],[a,l]]=e;return[tb(t,s,o,r),tb(n,a,l,i)]}function gD(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yD(e){var t=gD(e,"string");return typeof t=="symbol"?t:String(t)}function Cn(e,t,n){return t=yD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nb(Object(n),!0).forEach(function(r){Cn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const hk={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function rb(e){return e?e[0].toUpperCase()+e.slice(1):""}const vD=["enter","leave"];function wD(e=!1,t){return e&&!vD.includes(t)}function bD(e,t="",n=!1){const r=hk[e],i=r&&r[t]||t;return"on"+rb(e)+rb(i)+(wD(n,i)?"Capture":"")}const _D=["gotpointercapture","lostpointercapture"];function xD(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=_D.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function SD(e,t=""){const n=hk[e],r=n&&n[t]||t;return e+r}function Tf(e){return"touches"in e}function pk(e){return Tf(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function kD(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function ED(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function mk(e){return Tf(e)?ED(e)[0]:e}function CD(e){return kD(e).map(t=>t.identifier)}function rp(e){const t=mk(e);return Tf(e)?t.identifier:t.pointerId}function ib(e){const t=mk(e);return[t.clientX,t.clientY]}function TD(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return t}function Kd(e,...t){return typeof e=="function"?e(...t):e}function PD(){}function AD(...e){return e.length===0?PD:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function sb(e,t){return Object.assign({},t,e||{})}const jD=32;class OD{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:i}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?Kd(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,TD(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const I=n._delta.map(Math.abs);ln.addTo(n._distance,I)}this.axisIntent&&this.axisIntent(t);const[o,a]=n._movement,[l,u]=r.threshold,{_step:c,values:f}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&f[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&f[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[I,R]=f;h[0]=c[0]!==!1?I-c[0]:0,h[1]=c[1]!==!1?R-c[1]:0}else h[0]=c[0]!==!1?o-c[0]:0,h[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(h);const m=n.offset,w=n._active&&!n._blocked||n.active;w&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=Kd(r.bounds,n)),this.setup&&this.setup()),n.movement=h,this.computeOffset()));const[y,x]=n.offset,[[g,v],[_,T]]=n._bounds;n.overflow=[y<g?-1:y>v?1:0,x<_?-1:x>T?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const O=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=mD(n._bounds,n.offset,O),n.delta=ln.sub(n.offset,m),this.computeMovement(),w&&(!n.last||s>jD)){n.delta=ln.sub(n.offset,m);const I=n.delta.map(Math.abs);ln.addTo(n.distance,I),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[I[0]/s,I[1]/s],n.timeDelta=s)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const i=this.handler(kt(kt(kt({},n),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function RD([e,t],n){const r=Math.abs(e),i=Math.abs(t);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class ID extends OD{constructor(...t){super(...t),Cn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ln.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ln.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const i=typeof r.axisThreshold=="object"?r.axisThreshold[pk(t)]:r.axisThreshold;n.axis=RD(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const DD=e=>e,ob=.15,gk={enabled(e=!0){return e},eventOptions(e,t,n){return kt(kt({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[ob,ob];case!1:return[0,0];default:return ln.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return ln.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||DD},threshold(e){return ln.toVector(e,0)}},ND=0,Iu=kt(kt({},gk),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=ND){return e},bounds(e={}){if(typeof e=="function")return s=>Iu.bounds(e(s));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),ab={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class LD extends ID{constructor(...t){super(...t),Cn(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=Iu.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=rp(t),r._pointerActive=!0,this.computeValues(ib(t)),this.computeInitial(),n.preventScrollAxis&&pk(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=rp(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=ib(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=ln.sub(s,n._values),this.computeValues(s)),ln.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=rp(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[u,c]=n._movement,[f,h]=r.swipe.velocity,[m,w]=r.swipe.distance,y=r.swipe.duration;if(n.elapsedTime<y){const x=Math.abs(a/n.timeDelta),g=Math.abs(l/n.timeDelta);x>f&&Math.abs(u)>m&&(n.swipe[0]=Math.sign(a)),g>h&&Math.abs(c)>w&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,$D(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=ab[t.key];if(n){const r=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,ln.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in ab&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function $D(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Du=typeof window<"u"&&window.document&&window.document.createElement;function yk(){return Du&&"ontouchstart"in window}function MD(){return yk()||Du&&window.navigator.maxTouchPoints>1}function FD(){return Du&&"onpointerdown"in window}function BD(){return Du&&"exitPointerLock"in window.document}function UD(){try{return"constructor"in GestureEvent}catch{return!1}}const ir={isBrowser:Du,gesture:UD(),touch:yk(),touchscreen:MD(),pointer:FD(),pointerLock:BD()},zD=250,VD=180,KD=.5,WD=50,HD=250,qD=10,lb={mouse:0,touch:0,pen:8},GD=kt(kt({},Iu),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&ir.pointerLock,ir.touch&&n?"touch":this.pointerLock?"mouse":ir.pointer&&!i?"pointer":ir.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?zD:void 0,!(!ir.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=ln.toVector(e,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:e=KD,distance:t=WD,duration:n=HD}={}){return{velocity:this.transform(ln.toVector(e)),distance:this.transform(ln.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return VD;case!1:return 0;default:return e}},axisThreshold(e){return e?kt(kt({},lb),e):lb},keyboardDisplacement(e=qD){return e}});kt(kt({},gk),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!ir.touch&&ir.gesture)return"gesture";if(ir.touch&&r)return"touch";if(ir.touchscreen){if(ir.pointer)return"pointer";if(ir.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=sb(Kd(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=sb(Kd(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",ln.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});kt(kt({},Iu),{},{mouseOnly:(e=!0)=>e});kt(kt({},Iu),{},{mouseOnly:(e=!0)=>e});const vk=new Map,Hm=new Map;function QD(e){vk.set(e.key,e.engine),Hm.set(e.key,e.resolver)}const YD={key:"drag",engine:LD,resolver:GD};function JD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ZD(e,t){if(e==null)return{};var n=JD(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const XD={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=ir.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},eN=["target","eventOptions","window","enabled","transform"];function sd(e={},t){const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=sd(e[r],i);break;case"boolean":i&&(n[r]=e[r]);break}return n}function tN(e,t,n={}){const r=e,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=ZD(r,eN);if(n.shared=sd({target:i,eventOptions:s,window:o,enabled:a,transform:l},XD),t){const c=Hm.get(t);n[t]=sd(kt({shared:n.shared},u),c)}else for(const c in u){const f=Hm.get(c);f&&(n[c]=sd(kt({shared:n.shared},u[c]),f))}return n}class wk{constructor(t,n){Cn(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,i,s){const o=this._listeners,a=SD(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=kt(kt({},l),s);t.addEventListener(a,i,u);const c=()=>{t.removeEventListener(a,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class nN{constructor(){Cn(this,"_timeouts",new Map)}add(t,n,r=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...i))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class rN{constructor(t){Cn(this,"gestures",new Set),Cn(this,"_targetEventStore",new wk(this)),Cn(this,"gestureEventStores",{}),Cn(this,"gestureTimeoutStores",{}),Cn(this,"handlers",{}),Cn(this,"config",{}),Cn(this,"pointerIds",new Set),Cn(this,"touchIds",new Set),Cn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),iN(this,t)}setEventIds(t){if(Tf(t))return this.touchIds=new Set(CD(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=tN(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=ub(r,a.eventOptions,!!i);if(a.enabled){const u=vk.get(o);new u(this,t,o).bind(l)}}const s=ub(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](kt(kt({},this.state.shared),{},{event:a,args:t})),void 0,!0)}for(const s in r)r[s]=AD(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=xD(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function Lo(e,t){e.gestures.add(t),e.gestureEventStores[t]=new wk(e,t),e.gestureTimeoutStores[t]=new nN}function iN(e,t){t.drag&&Lo(e,"drag"),t.wheel&&Lo(e,"wheel"),t.scroll&&Lo(e,"scroll"),t.move&&Lo(e,"move"),t.pinch&&Lo(e,"pinch"),t.hover&&Lo(e,"hover")}const ub=(e,t,n)=>(r,i,s,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:t.capture,f=(u=o.passive)!==null&&u!==void 0?u:t.passive;let h=a?r:bD(r,i,c);n&&f&&(h+="Passive"),e[h]=e[h]||[],e[h].push(s)};function sN(e,t={},n,r){const i=We.useMemo(()=>new rN(e),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),We.useEffect(i.effect.bind(i)),We.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function oN(e,t){return QD(YD),sN({drag:e},t||{},"drag")}const Uy=k.createContext({});function zy(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const Vy=typeof window<"u",bk=Vy?k.useLayoutEffect:k.useEffect,Pf=k.createContext(null);function Ky(e,t){e.indexOf(t)===-1&&e.push(t)}function Wy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const yi=(e,t,n)=>n>t?t:n<e?e:n;let Hy=()=>{};const vi={},_k=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function xk(e){return typeof e=="object"&&e!==null}const Sk=e=>/^0[^.\s]+$/u.test(e);function qy(e){let t;return()=>(t===void 0&&(t=e()),t)}const lr=e=>e,aN=(e,t)=>n=>t(e(n)),Nu=(...e)=>e.reduce(aN),du=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Gy{constructor(){this.subscriptions=[]}add(t){return Ky(this.subscriptions,t),()=>Wy(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hr=e=>e*1e3,or=e=>e/1e3;function kk(e,t){return t?e*(1e3/t):0}const Ek=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,lN=1e-7,uN=12;function cN(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=Ek(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>lN&&++a<uN);return o}function Lu(e,t,n,r){if(e===t&&n===r)return lr;const i=s=>cN(s,0,1,e,n);return s=>s===0||s===1?s:Ek(i(s),t,r)}const Ck=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Tk=e=>t=>1-e(1-t),Pk=Lu(.33,1.53,.69,.99),Qy=Tk(Pk),Ak=Ck(Qy),jk=e=>(e*=2)<1?.5*Qy(e):.5*(2-Math.pow(2,-10*(e-1))),Yy=e=>1-Math.sin(Math.acos(e)),Ok=Tk(Yy),Rk=Ck(Yy),dN=Lu(.42,0,1,1),fN=Lu(0,0,.58,1),Ik=Lu(.42,0,.58,1),hN=e=>Array.isArray(e)&&typeof e[0]!="number",Dk=e=>Array.isArray(e)&&typeof e[0]=="number",pN={linear:lr,easeIn:dN,easeInOut:Ik,easeOut:fN,circIn:Yy,circInOut:Rk,circOut:Ok,backIn:Qy,backInOut:Ak,backOut:Pk,anticipate:jk},mN=e=>typeof e=="string",cb=e=>{if(Dk(e)){Hy(e.length===4);const[t,n,r,i]=e;return Lu(t,n,r,i)}else if(mN(e))return pN[e];return e},$c=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function gN(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,f=!1,h=!1)=>{const w=h&&i?n:r;return f&&o.add(c),w.has(c)||w.add(c),c},cancel:c=>{r.delete(c),o.delete(c)},process:c=>{if(a=c,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(c))}};return u}const yN=40;function Nk(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=$c.reduce((_,T)=>(_[T]=gN(s),_),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:h,render:m,postRender:w}=o,y=()=>{const _=vi.useManualTiming?i.timestamp:performance.now();n=!1,vi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,yN),1)),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),h.process(i),m.process(i),w.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(y))},x=()=>{n=!0,r=!0,i.isProcessing||e(y)};return{schedule:$c.reduce((_,T)=>{const O=o[T];return _[T]=(I,R=!1,$=!1)=>(n||x(),O.schedule(I,R,$)),_},{}),cancel:_=>{for(let T=0;T<$c.length;T++)o[$c[T]].cancel(_)},state:i,steps:o}}const{schedule:bt,cancel:ps,state:Jt,steps:ip}=Nk(typeof requestAnimationFrame<"u"?requestAnimationFrame:lr,!0);let od;function vN(){od=void 0}const On={now:()=>(od===void 0&&On.set(Jt.isProcessing||vi.useManualTiming?Jt.timestamp:performance.now()),od),set:e=>{od=e,queueMicrotask(vN)}},Lk=e=>t=>typeof t=="string"&&t.startsWith(e),Jy=Lk("--"),wN=Lk("var(--"),Zy=e=>wN(e)?bN.test(e.split("/*")[0].trim()):!1,bN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ua={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fu={...Ua,transform:e=>yi(0,1,e)},Mc={...Ua,default:1},Nl=e=>Math.round(e*1e5)/1e5,Xy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _N(e){return e==null}const xN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ev=(e,t)=>n=>!!(typeof n=="string"&&xN.test(n)&&n.startsWith(e)||t&&!_N(n)&&Object.prototype.hasOwnProperty.call(n,t)),$k=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Xy);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},SN=e=>yi(0,255,e),sp={...Ua,transform:e=>Math.round(SN(e))},Ws={test:ev("rgb","red"),parse:$k("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+sp.transform(e)+", "+sp.transform(t)+", "+sp.transform(n)+", "+Nl(fu.transform(r))+")"};function kN(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const qm={test:ev("#"),parse:kN,transform:Ws.transform},$u=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Li=$u("deg"),qr=$u("%"),qe=$u("px"),EN=$u("vh"),CN=$u("vw"),db={...qr,parse:e=>qr.parse(e)/100,transform:e=>qr.transform(e*100)},Jo={test:ev("hsl","hue"),parse:$k("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+qr.transform(Nl(t))+", "+qr.transform(Nl(n))+", "+Nl(fu.transform(r))+")"},$t={test:e=>Ws.test(e)||qm.test(e)||Jo.test(e),parse:e=>Ws.test(e)?Ws.parse(e):Jo.test(e)?Jo.parse(e):qm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ws.transform(e):Jo.transform(e),getAnimatableNone:e=>{const t=$t.parse(e);return t.alpha=0,$t.transform(t)}},TN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PN(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Xy))==null?void 0:t.length)||0)+(((n=e.match(TN))==null?void 0:n.length)||0)>0}const Mk="number",Fk="color",AN="var",jN="var(",fb="${}",ON=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(ON,l=>($t.test(l)?(r.color.push(s),i.push(Fk),n.push($t.parse(l))):l.startsWith(jN)?(r.var.push(s),i.push(AN),n.push(l)):(r.number.push(s),i.push(Mk),n.push(parseFloat(l))),++s,fb)).split(fb);return{values:n,split:a,indexes:r,types:i}}function Bk(e){return hu(e).values}function Uk(e){const{split:t,types:n}=hu(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===Mk?s+=Nl(i[o]):a===Fk?s+=$t.transform(i[o]):s+=i[o]}return s}}const RN=e=>typeof e=="number"?0:$t.test(e)?$t.getAnimatableNone(e):e;function IN(e){const t=Bk(e);return Uk(e)(t.map(RN))}const ms={test:PN,parse:Bk,createTransformer:Uk,getAnimatableNone:IN};function op(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function DN({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=op(l,a,e+1/3),s=op(l,a,e),o=op(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Wd(e,t){return n=>n>0?t:e}const St=(e,t,n)=>e+(t-e)*n,ap=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},NN=[qm,Ws,Jo],LN=e=>NN.find(t=>t.test(e));function hb(e){const t=LN(e);if(!t)return!1;let n=t.parse(e);return t===Jo&&(n=DN(n)),n}const pb=(e,t)=>{const n=hb(e),r=hb(t);if(!n||!r)return Wd(e,t);const i={...n};return s=>(i.red=ap(n.red,r.red,s),i.green=ap(n.green,r.green,s),i.blue=ap(n.blue,r.blue,s),i.alpha=St(n.alpha,r.alpha,s),Ws.transform(i))},Gm=new Set(["none","hidden"]);function $N(e,t){return Gm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function MN(e,t){return n=>St(e,t,n)}function tv(e){return typeof e=="number"?MN:typeof e=="string"?Zy(e)?Wd:$t.test(e)?pb:UN:Array.isArray(e)?zk:typeof e=="object"?$t.test(e)?pb:FN:Wd}function zk(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>tv(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function FN(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=tv(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function BN(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const UN=(e,t)=>{const n=ms.createTransformer(t),r=hu(e),i=hu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Gm.has(e)&&!i.values.length||Gm.has(t)&&!r.values.length?$N(e,t):Nu(zk(BN(r,i),i.values),n):Wd(e,t)};function Vk(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?St(e,t,n):tv(e)(e,t)}const zN=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>bt.update(t,n),stop:()=>ps(t),now:()=>Jt.isProcessing?Jt.timestamp:On.now()}},Kk=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Hd=2e4;function nv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Hd;)t+=n,r=e.next(t);return t>=Hd?1/0:t}function VN(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(nv(r),Hd);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:or(i)}}const KN=5;function Wk(e,t,n){const r=Math.max(t-KN,0);return kk(n-e(r),t-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lp=.001;function WN({duration:e=Pt.duration,bounce:t=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let i,s,o=1-t;o=yi(Pt.minDamping,Pt.maxDamping,o),e=yi(Pt.minDuration,Pt.maxDuration,or(e)),o<1?(i=u=>{const c=u*o,f=c*e,h=c-n,m=Qm(u,o),w=Math.exp(-f);return lp-h/m*w},s=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-f),y=Qm(Math.pow(u,2),o);return(-i(u)+lp>0?-1:1)*((h-m)*w)/y}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-lp+c*f},s=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=qN(i,s,a);if(e=Hr(e),isNaN(l))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const HN=12;function qN(e,t,n){let r=n;for(let i=1;i<HN;i++)r=r-e(r)/t(r);return r}function Qm(e,t){return e*Math.sqrt(1-t*t)}const GN=["duration","bounce"],QN=["stiffness","damping","mass"];function mb(e,t){return t.some(n=>e[n]!==void 0)}function YN(e){let t={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...e};if(!mb(e,QN)&&mb(e,GN))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*yi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Pt.mass,stiffness:i,damping:s}}else{const n=WN(e);t={...t,...n,mass:Pt.mass},t.isResolvedFromDuration=!0}return t}function qd(e=Pt.visualDuration,t=Pt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:m}=YN({...n,velocity:-or(n.velocity||0)}),w=h||0,y=u/(2*Math.sqrt(l*c)),x=o-s,g=or(Math.sqrt(l/c)),v=Math.abs(x)<5;r||(r=v?Pt.restSpeed.granular:Pt.restSpeed.default),i||(i=v?Pt.restDelta.granular:Pt.restDelta.default);let _;if(y<1){const O=Qm(g,y);_=I=>{const R=Math.exp(-y*g*I);return o-R*((w+y*g*x)/O*Math.sin(O*I)+x*Math.cos(O*I))}}else if(y===1)_=O=>o-Math.exp(-g*O)*(x+(w+g*x)*O);else{const O=g*Math.sqrt(y*y-1);_=I=>{const R=Math.exp(-y*g*I),$=Math.min(O*I,300);return o-R*((w+y*g*x)*Math.sinh($)+O*x*Math.cosh($))/O}}const T={calculatedDuration:m&&f||null,next:O=>{const I=_(O);if(m)a.done=O>=f;else{let R=O===0?w:0;y<1&&(R=O===0?Hr(w):Wk(_,O,I));const $=Math.abs(R)<=r,U=Math.abs(o-I)<=i;a.done=$&&U}return a.value=a.done?o:I,a},toString:()=>{const O=Math.min(nv(T),Hd),I=Kk(R=>T.next(O*R).value,O,30);return O+"ms "+I},toTransition:()=>{}};return T}qd.applyToOptions=e=>{const t=VN(e,100,qd);return e.ease=t.ease,e.duration=Hr(t.duration),e.type="keyframes",e};function Ym({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],h={done:!1,value:f},m=$=>a!==void 0&&$<a||l!==void 0&&$>l,w=$=>a===void 0?l:l===void 0||Math.abs(a-$)<Math.abs(l-$)?a:l;let y=n*t;const x=f+y,g=o===void 0?x:o(x);g!==x&&(y=g-f);const v=$=>-y*Math.exp(-$/r),_=$=>g+v($),T=$=>{const U=v($),V=_($);h.done=Math.abs(U)<=u,h.value=h.done?g:V};let O,I;const R=$=>{m(h.value)&&(O=$,I=qd({keyframes:[h.value,w(h.value)],velocity:Wk(_,$,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:$=>{let U=!1;return!I&&O===void 0&&(U=!0,T($),R($)),O!==void 0&&$>=O?I.next($-O):(!U&&T($),h)}}}function JN(e,t,n){const r=[],i=n||vi.mix||Vk,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||lr:t;a=Nu(l,a)}r.push(a)}return r}function ZN(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Hy(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=JN(t,r,i),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(c<e[f+1]);f++);const h=du(e[f],e[f+1],c);return a[f](h)};return n?c=>u(yi(e[0],e[s-1],c)):u}function XN(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=du(0,t,r);e.push(St(n,1,i))}}function eL(e){const t=[0];return XN(t,e.length-1),t}function tL(e,t){return e.map(n=>n*t)}function nL(e,t){return e.map(()=>t||Ik).splice(0,e.length-1)}function Ll({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=hN(r)?r.map(cb):cb(r),s={done:!1,value:t[0]},o=tL(n&&n.length===t.length?n:eL(t),e),a=ZN(o,t,{ease:Array.isArray(i)?i:nL(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const rL=e=>e!==null;function rv(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(rL),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const iL={decay:Ym,inertia:Ym,tween:Ll,keyframes:Ll,spring:qd};function Hk(e){typeof e.type=="string"&&(e.type=iL[e.type])}class iv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const sL=e=>e/100;class sv extends iv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==On.now()&&this.tick(On.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Hk(t);const{type:n=Ll,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Ll;l!==Ll&&typeof a[0]!="number"&&(this.mixKeyframes=Nu(sL,Vk(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=nv(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:h,repeatDelay:m,type:w,onUpdate:y,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,T=r;if(f){const $=Math.min(this.currentTime,i)/a;let U=Math.floor($),V=$%1;!V&&$>=1&&(V=1),V===1&&U--,U=Math.min(U,f+1),!!(U%2)&&(h==="reverse"?(V=1-V,m&&(V-=m/a)):h==="mirror"&&(T=o)),_=yi(0,1,V)*a}const O=v?{done:!1,value:c[0]}:T.next(_);s&&(O.value=s(O.value));let{done:I}=O;!v&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return R&&w!==Ym&&(O.value=rv(c,this.options,x,this.speed)),y&&y(O.value),R&&this.finish(),O}then(t,n){return this.finished.then(t,n)}get duration(){return or(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+or(t)}get time(){return or(this.currentTime)}set time(t){var n;t=Hr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(On.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=or(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=zN,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(On.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function oL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Hs=e=>e*180/Math.PI,Jm=e=>{const t=Hs(Math.atan2(e[1],e[0]));return Zm(t)},aL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Jm,rotateZ:Jm,skewX:e=>Hs(Math.atan(e[1])),skewY:e=>Hs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Zm=e=>(e=e%360,e<0&&(e+=360),e),gb=Jm,yb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),vb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),lL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yb,scaleY:vb,scale:e=>(yb(e)+vb(e))/2,rotateX:e=>Zm(Hs(Math.atan2(e[6],e[5]))),rotateY:e=>Zm(Hs(Math.atan2(-e[2],e[0]))),rotateZ:gb,rotate:gb,skewX:e=>Hs(Math.atan(e[4])),skewY:e=>Hs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Xm(e){return e.includes("scale")?1:0}function eg(e,t){if(!e||e==="none")return Xm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=lL,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=aL,i=a}if(!i)return Xm(t);const s=r[t],o=i[1].split(",").map(cL);return typeof s=="function"?s(o):o[s]}const uL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return eg(n,t)};function cL(e){return parseFloat(e.trim())}const za=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Va=new Set(za),wb=e=>e===Ua||e===qe,dL=new Set(["x","y","z"]),fL=za.filter(e=>!dL.has(e));function hL(e){const t=[];return fL.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const so={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eg(t,"x"),y:(e,{transform:t})=>eg(t,"y")};so.translateX=so.x;so.translateY=so.y;const oo=new Set;let tg=!1,ng=!1,rg=!1;function qk(){if(ng){const e=Array.from(oo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=hL(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ng=!1,tg=!1,oo.forEach(e=>e.complete(rg)),oo.clear()}function Gk(){oo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ng=!0)})}function pL(){rg=!0,Gk(),qk(),rg=!1}class ov{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(oo.add(this),tg||(tg=!0,bt.read(Gk),bt.resolveKeyframes(qk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}oL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oo.delete(this)}cancel(){this.state==="scheduled"&&(oo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mL=e=>e.startsWith("--");function gL(e,t,n){mL(t)?e.style.setProperty(t,n):e.style[t]=n}const yL=qy(()=>window.ScrollTimeline!==void 0),vL={};function wL(e,t){const n=qy(e);return()=>vL[t]??n()}const Qk=wL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,bb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wl([0,.65,.55,1]),circOut:wl([.55,0,1,.45]),backIn:wl([.31,.01,.66,-.59]),backOut:wl([.33,1.53,.69,.99])};function Yk(e,t){if(e)return typeof e=="function"?Qk()?Kk(e,t):"ease-out":Dk(e)?wl(e):Array.isArray(e)?e.map(n=>Yk(n,t)||bb.easeOut):bb[e]}function bL(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const f=Yk(a,i);Array.isArray(f)&&(c.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(c,h)}function Jk(e){return typeof e=="function"&&"applyToOptions"in e}function _L({type:e,...t}){return Jk(e)&&Qk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class xL extends iv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,Hy(typeof t.type!="string");const u=_L(t);this.animation=bL(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=rv(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):gL(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return or(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+or(t)}get time(){return or(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Hr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&yL()?(this.animation.timeline=t,lr):n(this)}}const Zk={anticipate:jk,backInOut:Ak,circInOut:Rk};function SL(e){return e in Zk}function kL(e){typeof e.ease=="string"&&SL(e.ease)&&(e.ease=Zk[e.ease])}const _b=10;class EL extends xL{constructor(t){kL(t),Hk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new sv({...o,autoplay:!1}),l=Hr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-_b).value,a.sample(l).value,_b),a.stop()}}const xb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ms.test(e)||e==="0")&&!e.startsWith("url("));function CL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function TL(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=xb(i,t),a=xb(s,t);return!o||!a?!1:CL(e)||(n==="spring"||Jk(n))&&r}function ig(e){e.duration=0,e.type="keyframes"}const PL=new Set(["opacity","clipPath","filter","transform"]),AL=qy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jL(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return AL()&&n&&PL.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const OL=40;class RL extends iv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...f}){var w;super(),this.stop=()=>{var y,x;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=On.now();const h={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...f},m=(c==null?void 0:c.KeyframeResolver)||ov;this.keyframeResolver=new m(a,(y,x,g)=>this.onKeyframesResolved(y,x,h,!g),l,u,c),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=On.now(),TL(t,s,o,a)||((vi.instantAnimations||!l)&&(c==null||c(rv(t,r,n))),t[0]=t[t.length-1],ig(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>OL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&jL(h)?new EL({...h,element:h.motionValue.owner.current}):new sv(h);m.finished.then(()=>this.notifyFinished()).catch(lr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),pL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const IL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DL(e){const t=IL.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Xk(e,t,n=1){const[r,i]=DL(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return _k(o)?parseFloat(o):o}return Zy(i)?Xk(i,t,n+1):i}function av(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const eE=new Set(["width","height","top","left","right","bottom",...za]),NL={test:e=>e==="auto",parse:e=>e},tE=e=>t=>t.test(e),nE=[Ua,qe,qr,Li,CN,EN,NL],Sb=e=>nE.find(tE(e));function LL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Sk(e):!0}const $L=new Set(["brightness","contrast","saturate","opacity"]);function ML(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Xy)||[];if(!r)return e;const i=n.replace(r,"");let s=$L.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const FL=/\b([a-z-]*)\(.*?\)/gu,sg={...ms,getAnimatableNone:e=>{const t=e.match(FL);return t?t.map(ML).join(" "):e}},kb={...Ua,transform:Math.round},BL={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Mc,scaleX:Mc,scaleY:Mc,scaleZ:Mc,skew:Li,skewX:Li,skewY:Li,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:fu,originX:db,originY:db,originZ:qe},lv={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe,...BL,zIndex:kb,fillOpacity:fu,strokeOpacity:fu,numOctaves:kb},UL={...lv,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:sg,WebkitFilter:sg},rE=e=>UL[e];function iE(e,t){let n=rE(e);return n!==sg&&(n=ms),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const zL=new Set(["auto","none","0"]);function VL(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!zL.has(s)&&hu(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=iE(n,i)}class KL extends ov{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Zy(u))){const c=Xk(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!eE.has(r)||t.length!==2)return;const[i,s]=t,o=Sb(i),a=Sb(s);if(o!==a)if(wb(o)&&wb(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else so[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||LL(t[i]))&&r.push(i);r.length&&VL(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=so[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=so[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function WL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const sE=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function oE(e){return xk(e)&&"offsetHeight"in e}const Eb=30,HL=e=>!isNaN(parseFloat(e));class qL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=On.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=On.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=HL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Gy);const r=this.events[t].add(n);return t==="change"?()=>{r(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Eb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Eb);return kk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ja(e,t){return new qL(e,t)}const{schedule:uv}=Nk(queueMicrotask,!1),yr={x:!1,y:!1};function aE(){return yr.x||yr.y}function GL(e){return e==="x"||e==="y"?yr[e]?null:(yr[e]=!0,()=>{yr[e]=!1}):yr.x||yr.y?null:(yr.x=yr.y=!0,()=>{yr.x=yr.y=!1})}function lE(e,t){const n=WL(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Cb(e){return!(e.pointerType==="touch"||aE())}function QL(e,t,n={}){const[r,i,s]=lE(e,n),o=a=>{if(!Cb(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const c=f=>{Cb(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const uE=(e,t)=>t?e===t?!0:uE(e,t.parentElement):!1,cv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,YL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JL(e){return YL.has(e.tagName)||e.tabIndex!==-1}const ad=new WeakSet;function Tb(e){return t=>{t.key==="Enter"&&e(t)}}function up(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ZL=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Tb(()=>{if(ad.has(n))return;up(n,"down");const i=Tb(()=>{up(n,"up")}),s=()=>up(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Pb(e){return cv(e)&&!aE()}function XL(e,t,n={}){const[r,i,s]=lE(e,n),o=a=>{const l=a.currentTarget;if(!Pb(a))return;ad.add(l);const u=t(l,a),c=(m,w)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),ad.has(l)&&ad.delete(l),Pb(m)&&typeof u=="function"&&u(m,{success:w})},f=m=>{c(m,l===window||l===document||n.useGlobalTarget||uE(l,m.target))},h=m=>{c(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),oE(a)&&(a.addEventListener("focus",u=>ZL(u,i)),!JL(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function cE(e){return xk(e)&&"ownerSVGElement"in e}function e$(e){return cE(e)&&e.tagName==="svg"}const un=e=>!!(e&&e.getVelocity),t$=[...nE,$t,ms],n$=e=>t$.find(tE(e)),dv=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Ab(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function r$(...e){return t=>{let n=!1;const r=e.map(i=>{const s=Ab(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Ab(e[i],null)}}}}function i$(...e){return k.useCallback(r$(...e),e)}class s$ extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=oE(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function o$({children:e,isPresent:t,anchorX:n,root:r}){const i=k.useId(),s=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=k.useContext(dv),l=i$(s,e==null?void 0:e.ref);return k.useInsertionEffect(()=>{const{width:u,height:c,top:f,left:h,right:m}=o.current;if(t||!s.current||!u||!c)return;const w=n==="left"?`left: ${h}`:`right: ${m}`;s.current.dataset.motionPopId=i;const y=document.createElement("style");a&&(y.nonce=a);const x=r??document.head;return x.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${w}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(y)&&x.removeChild(y)}},[t]),E.jsx(s$,{isPresent:t,childRef:s,sizeRef:o,children:k.cloneElement(e,{ref:l})})}const a$=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=zy(l$),c=k.useId();let f=!0,h=k.useMemo(()=>(f=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const w of u.values())if(!w)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return s&&f&&(h={...h}),k.useMemo(()=>{u.forEach((m,w)=>u.set(w,!1))},[n]),k.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=E.jsx(o$,{isPresent:n,anchorX:a,root:l,children:e})),E.jsx(Pf.Provider,{value:h,children:e})};function l$(){return new Map}function dE(e=!0){const t=k.useContext(Pf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=k.useId();k.useEffect(()=>{if(e)return i(s)},[e]);const o=k.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Fc=e=>e.key||"";function jb(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const u$=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=dE(o),f=k.useMemo(()=>jb(e),[e]),h=o&&!u?[]:f.map(Fc),m=k.useRef(!0),w=k.useRef(f),y=zy(()=>new Map),[x,g]=k.useState(f),[v,_]=k.useState(f);bk(()=>{m.current=!1,w.current=f;for(let I=0;I<v.length;I++){const R=Fc(v[I]);h.includes(R)?y.delete(R):y.get(R)!==!0&&y.set(R,!1)}},[v,h.length,h.join("-")]);const T=[];if(f!==x){let I=[...f];for(let R=0;R<v.length;R++){const $=v[R],U=Fc($);h.includes(U)||(I.splice(R,0,$),T.push($))}return s==="wait"&&T.length&&(I=T),_(jb(I)),g(f),null}const{forceRender:O}=k.useContext(Uy);return E.jsx(E.Fragment,{children:v.map(I=>{const R=Fc(I),$=o&&!u?!1:f===v||h.includes(R),U=()=>{if(y.has(R))y.set(R,!0);else return;let V=!0;y.forEach(we=>{we||(V=!1)}),V&&(O==null||O(),_(w.current),o&&(c==null||c()),r&&r())};return E.jsx(a$,{isPresent:$,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:$?void 0:U,anchorX:a,children:I},R)})})},fE=k.createContext({strict:!1}),Ob={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oa={};for(const e in Ob)Oa[e]={isEnabled:t=>Ob[e].some(n=>!!t[n])};function c$(e){for(const t in e)Oa[t]={...Oa[t],...e[t]}}const d$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||d$.has(e)}let hE=e=>!Gd(e);function f$(e){typeof e=="function"&&(hE=t=>t.startsWith("on")?!Gd(t):e(t))}try{f$(require("@emotion/is-prop-valid").default)}catch{}function h$(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(hE(i)||n===!0&&Gd(i)||!t&&!Gd(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Af=k.createContext({});function jf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function pu(e){return typeof e=="string"||Array.isArray(e)}const fv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hv=["initial",...fv];function Of(e){return jf(e.animate)||hv.some(t=>pu(e[t]))}function pE(e){return!!(Of(e)||e.variants)}function p$(e,t){if(Of(e)){const{initial:n,animate:r}=e;return{initial:n===!1||pu(n)?n:void 0,animate:pu(r)?r:void 0}}return e.inherit!==!1?t:{}}function m$(e){const{initial:t,animate:n}=p$(e,k.useContext(Af));return k.useMemo(()=>({initial:t,animate:n}),[Rb(t),Rb(n)])}function Rb(e){return Array.isArray(e)?e.join(" "):e}const mu={};function g$(e){for(const t in e)mu[t]=e[t],Jy(t)&&(mu[t].isCSSVariable=!0)}function mE(e,{layout:t,layoutId:n}){return Va.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!mu[e]||e==="opacity")}const y$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},v$=za.length;function w$(e,t,n){let r="",i=!0;for(let s=0;s<v$;s++){const o=za[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=sE(a,lv[o]);if(!l){i=!1;const c=y$[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function pv(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Va.has(l)){o=!0;continue}else if(Jy(l)){i[l]=u;continue}else{const c=sE(u,lv[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=w$(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const mv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gE(e,t,n){for(const r in t)!un(t[r])&&!mE(r,n)&&(e[r]=t[r])}function b$({transformTemplate:e},t){return k.useMemo(()=>{const n=mv();return pv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function _$(e,t){const n=e.style||{},r={};return gE(r,n,e),Object.assign(r,b$(e,t)),r}function x$(e,t){const n={},r=_$(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const S$={offset:"stroke-dashoffset",array:"stroke-dasharray"},k$={offset:"strokeDashoffset",array:"strokeDasharray"};function E$(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?S$:k$;e[s.offset]=qe.transform(-r);const o=qe.transform(t),a=qe.transform(n);e[s.array]=`${o} ${a}`}function yE(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(pv(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&E$(f,i,s,o,!1)}const vE=()=>({...mv(),attrs:{}}),wE=e=>typeof e=="string"&&e.toLowerCase()==="svg";function C$(e,t,n,r){const i=k.useMemo(()=>{const s=vE();return yE(s,t,wE(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};gE(s,e.style,e),i.style={...s,...i.style}}return i}const T$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gv(e){return typeof e!="string"||e.includes("-")?!1:!!(T$.indexOf(e)>-1||/[A-Z]/u.test(e))}function P$(e,t,n,{latestValues:r},i,s=!1){const a=(gv(e)?C$:x$)(t,r,i,e),l=h$(t,typeof e=="string",s),u=e!==k.Fragment?{...l,...a,ref:n}:{},{children:c}=t,f=k.useMemo(()=>un(c)?c.get():c,[c]);return k.createElement(e,{...u,children:f})}function Ib(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function yv(e,t,n,r){if(typeof t=="function"){const[i,s]=Ib(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Ib(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function ld(e){return un(e)?e.get():e}function A$({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:j$(n,r,i,e),renderState:t()}}function j$(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=ld(s[h]);let{initial:o,animate:a}=e;const l=Of(e),u=pE(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!jf(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const w=yv(e,h[m]);if(w){const{transitionEnd:y,transition:x,...g}=w;for(const v in g){let _=g[v];if(Array.isArray(_)){const T=c?_.length-1:0;_=_[T]}_!==null&&(i[v]=_)}for(const v in y)i[v]=y[v]}}}return i}const bE=e=>(t,n)=>{const r=k.useContext(Af),i=k.useContext(Pf),s=()=>A$(e,t,r,i);return n?s():zy(s)};function vv(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(un(r[o])||t.style&&un(t.style[o])||mE(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const O$=bE({scrapeMotionValuesFromProps:vv,createRenderState:mv});function _E(e,t,n){const r=vv(e,t,n);for(const i in e)if(un(e[i])||un(t[i])){const s=za.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const R$=bE({scrapeMotionValuesFromProps:_E,createRenderState:vE}),I$=Symbol.for("motionComponentSymbol");function Zo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function D$(e,t,n){return k.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Zo(n)&&(n.current=r))},[t])}const wv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),N$="framerAppearId",xE="data-"+wv(N$),SE=k.createContext({});function L$(e,t,n,r,i){var y,x;const{visualElement:s}=k.useContext(Af),o=k.useContext(fE),a=k.useContext(Pf),l=k.useContext(dv).reducedMotion,u=k.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=k.useContext(SE);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&$$(u.current,n,i,f);const h=k.useRef(!1);k.useInsertionEffect(()=>{c&&h.current&&c.update(n,a)});const m=n[xE],w=k.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return bk(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),w.current&&c.animationState&&c.animationState.animateChanges())}),k.useEffect(()=>{c&&(!w.current&&c.animationState&&c.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),w.current=!1),c.enteringChildren=void 0)}),c}function $$(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:kE(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Zo(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function kE(e){if(e)return e.options.allowProjection!==!1?e.projection:kE(e.parent)}function cp(e,{forwardMotionProps:t=!1}={},n,r){n&&c$(n);const i=gv(e)?R$:O$;function s(a,l){let u;const c={...k.useContext(dv),...a,layoutId:M$(a)},{isStatic:f}=c,h=m$(a),m=i(a,f);if(!f&&Vy){F$();const w=B$(c);u=w.MeasureLayout,h.visualElement=L$(e,m,c,r,w.ProjectionNode)}return E.jsxs(Af.Provider,{value:h,children:[u&&h.visualElement?E.jsx(u,{visualElement:h.visualElement,...c}):null,P$(e,a,D$(m,h.visualElement,l),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=k.forwardRef(s);return o[I$]=e,o}function M$({layoutId:e}){const t=k.useContext(Uy).id;return t&&e!==void 0?t+"-"+e:e}function F$(e,t){k.useContext(fE).strict}function B$(e){const{drag:t,layout:n}=Oa;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function U$(e,t){if(typeof Proxy>"u")return cp;const n=new Map,r=(s,o)=>cp(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,cp(o,void 0,e,t)),n.get(o))})}function EE({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function z$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function V$(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function dp(e){return e===void 0||e===1}function og({scale:e,scaleX:t,scaleY:n}){return!dp(e)||!dp(t)||!dp(n)}function Ns(e){return og(e)||CE(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function CE(e){return Db(e.x)||Db(e.y)}function Db(e){return e&&e!=="0%"}function Qd(e,t,n){const r=e-n,i=t*r;return n+i}function Nb(e,t,n,r,i){return i!==void 0&&(e=Qd(e,i,r)),Qd(e,n,r)+t}function ag(e,t=0,n=1,r,i){e.min=Nb(e.min,t,n,r,i),e.max=Nb(e.max,t,n,r,i)}function TE(e,{x:t,y:n}){ag(e.x,t.translate,t.scale,t.originPoint),ag(e.y,n.translate,n.scale,n.originPoint)}const Lb=.999999999999,$b=1.0000000000001;function K$(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ea(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,TE(e,o)),r&&Ns(s.latestValues)&&ea(e,s.latestValues))}t.x<$b&&t.x>Lb&&(t.x=1),t.y<$b&&t.y>Lb&&(t.y=1)}function Xo(e,t){e.min=e.min+t,e.max=e.max+t}function Mb(e,t,n,r,i=.5){const s=St(e.min,e.max,i);ag(e,t,n,s,r)}function ea(e,t){Mb(e.x,t.x,t.scaleX,t.scale,t.originX),Mb(e.y,t.y,t.scaleY,t.scale,t.originY)}function PE(e,t){return EE(V$(e.getBoundingClientRect(),t))}function W$(e,t,n){const r=PE(e,n),{scroll:i}=t;return i&&(Xo(r.x,i.offset.x),Xo(r.y,i.offset.y)),r}const Fb=()=>({translate:0,scale:1,origin:0,originPoint:0}),ta=()=>({x:Fb(),y:Fb()}),Bb=()=>({min:0,max:0}),It=()=>({x:Bb(),y:Bb()}),lg={current:null},AE={current:!1};function H$(){if(AE.current=!0,!!Vy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lg.current=e.matches;e.addEventListener("change",t),t()}else lg.current=!1}const q$=new WeakMap;function G$(e,t,n){for(const r in t){const i=t[r],s=n[r];if(un(i))e.addValue(r,i);else if(un(s))e.addValue(r,ja(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,ja(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Ub=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Q${scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ov,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=On.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,bt.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Of(n),this.isVariantNode=pE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&un(m)&&m.set(l[h])}}mount(t){var n;this.current=t,q$.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),AE.current||H$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ps(this.notifyUpdate),ps(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Va.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Oa){const n=Oa[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ub.length;r++){const i=Ub[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=G$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ja(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(_k(r)||Sk(r))?r=parseFloat(r):!n$(r)&&ms.test(n)&&(r=iE(t,n)),this.setBaseTarget(t,un(r)?r.get():r)),un(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=yv(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!un(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Gy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){uv.render(this.render)}}class jE extends Q${constructor(){super(...arguments),this.KeyframeResolver=KL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function OE(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function Y$(e){return window.getComputedStyle(e)}class J$ extends jE{constructor(){super(...arguments),this.type="html",this.renderInstance=OE}readValueFromInstance(t,n){var r;if(Va.has(n))return(r=this.projection)!=null&&r.isProjecting?Xm(n):uL(t,n);{const i=Y$(t),s=(Jy(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return PE(t,n)}build(t,n,r){pv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return vv(t,n,r)}}const RE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Z$(e,t,n,r){OE(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(RE.has(i)?i:wv(i),t.attrs[i])}class X$ extends jE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Va.has(n)){const r=rE(n);return r&&r.default||0}return n=RE.has(n)?n:wv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return _E(t,n,r)}build(t,n,r){yE(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){Z$(t,n,r,i)}mount(t){this.isSVGTag=wE(t.tagName),super.mount(t)}}const eM=(e,t)=>gv(e)?new X$(t):new J$(t,{allowProjection:e!==k.Fragment});function ua(e,t,n){const r=e.getProps();return yv(r,t,n!==void 0?n:r.custom,e)}const ug=e=>Array.isArray(e);function tM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ja(n))}function nM(e){return ug(e)?e[e.length-1]||0:e}function rM(e,t){const n=ua(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=nM(s[o]);tM(e,o,a)}}function iM(e){return!!(un(e)&&e.add)}function cg(e,t){const n=e.getValue("willChange");if(iM(n))return n.add(t);if(!n&&vi.WillChange){const r=new vi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function IE(e){return e.props[xE]}const sM=e=>e!==null;function oM(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(sM),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const aM={type:"spring",stiffness:500,damping:25,restSpeed:10},lM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),uM={type:"keyframes",duration:.8},cM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dM=(e,{keyframes:t})=>t.length>2?uM:Va.has(e)?e.startsWith("scale")?lM(t[1]):aM:cM;function fM({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const bv=(e,t,n,r={},i,s)=>o=>{const a=av(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Hr(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};fM(a)||Object.assign(c,dM(e,c)),c.duration&&(c.duration=Hr(c.duration)),c.repeatDelay&&(c.repeatDelay=Hr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(ig(c),c.delay===0&&(f=!0)),(vi.instantAnimations||vi.skipAnimations)&&(f=!0,ig(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,f&&!s&&t.get()!==void 0){const h=oM(c.keyframes,a);if(h!==void 0){bt.update(()=>{c.onUpdate(h),c.onComplete()});return}}return a.isSync?new sv(c):new RL(c)};function hM({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function DE(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const c in a){const f=e.getValue(c,e.latestValues[c]??null),h=a[c];if(h===void 0||u&&hM(u,c))continue;const m={delay:n,...av(s||{},c)},w=f.get();if(w!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===w&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=IE(e);if(g){const v=window.MotionHandoffAnimation(g,c,bt);v!==null&&(m.startTime=v,y=!0)}}cg(e,c),f.start(bv(c,f,h,e.shouldReduceMotion&&eE.has(c)?{type:!1}:m,e,y));const x=f.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{bt.update(()=>{o&&rM(e,o)})}),l}function NE(e,t,n,r=0,i=1){const s=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function dg(e,t,n={}){var l;const r=ua(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(DE(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=i;return pM(e,t,u,c,f,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function pM(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(dg(l,t,{...o,delay:n+(typeof r=="function"?0:r)+NE(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function mM(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>dg(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=dg(e,t,n);else{const i=typeof t=="function"?ua(e,t,n.custom):t;r=Promise.all(DE(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function LE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const gM=hv.length;function $E(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?$E(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<gM;n++){const r=hv[n],i=e.props[r];(pu(i)||i===!1)&&(t[r]=i)}return t}const yM=[...fv].reverse(),vM=fv.length;function wM(e){return t=>Promise.all(t.map(({animation:n,options:r})=>mM(e,n,r)))}function bM(e){let t=wM(e),n=zb(),r=!0;const i=l=>(u,c)=>{var h;const f=ua(e,c,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:w,...y}=f;u={...u,...y,...w}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,c=$E(e.parent)||{},f=[],h=new Set;let m={},w=1/0;for(let x=0;x<vM;x++){const g=yM[x],v=n[g],_=u[g]!==void 0?u[g]:c[g],T=pu(_),O=g===l?v.isActive:null;O===!1&&(w=x);let I=_===c[g]&&_!==u[g]&&T;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),v.protectedKeys={...m},!v.isActive&&O===null||!_&&!v.prevProp||jf(_)||typeof _=="boolean")continue;const R=_M(v.prevProp,_);let $=R||g===l&&v.isActive&&!I&&T||x>w&&T,U=!1;const V=Array.isArray(_)?_:[_];let we=V.reduce(i(g),{});O===!1&&(we={});const{prevResolvedValues:F={}}=v,ee={...F,...we},A=M=>{$=!0,h.has(M)&&(U=!0,h.delete(M)),v.needsAnimating[M]=!0;const X=e.getValue(M);X&&(X.liveStyle=!1)};for(const M in ee){const X=we[M],Y=F[M];if(m.hasOwnProperty(M))continue;let ce=!1;ug(X)&&ug(Y)?ce=!LE(X,Y):ce=X!==Y,ce?X!=null?A(M):h.add(M):X!==void 0&&h.has(M)?A(M):v.protectedKeys[M]=!0}v.prevProp=_,v.prevResolvedValues=we,v.isActive&&(m={...m,...we}),r&&e.blockInitialAnimation&&($=!1);const ue=I&&R;$&&(!ue||U)&&f.push(...V.map(M=>{const X={type:g};if(typeof M=="string"&&r&&!ue&&e.manuallyAnimateOnMount&&e.parent){const{parent:Y}=e,ce=ua(Y,M);if(Y.enteringChildren&&ce){const{delayChildren:G}=ce.transition||{};X.delay=NE(Y.enteringChildren,e,G)}}return{animation:M,options:X}}))}if(h.size){const x={};if(typeof u.initial!="boolean"){const g=ua(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(x.transition=g.transition)}h.forEach(g=>{const v=e.getBaseTarget(g),_=e.getValue(g);_&&(_.liveStyle=!0),x[g]=v??null}),f.push({animation:x})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const h in n)n[h].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=zb(),r=!0}}}function _M(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!LE(t,e):!1}function Os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zb(){return{animate:Os(!0),whileInView:Os(),whileHover:Os(),whileTap:Os(),whileDrag:Os(),whileFocus:Os(),exit:Os()}}class _s{constructor(t){this.isMounted=!1,this.node=t}update(){}}class xM extends _s{constructor(t){super(t),t.animationState||(t.animationState=bM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let SM=0;class kM extends _s{constructor(){super(...arguments),this.id=SM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const EM={animation:{Feature:xM},exit:{Feature:kM}};function gu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Mu(e){return{point:{x:e.pageX,y:e.pageY}}}const CM=e=>t=>cv(t)&&e(t,Mu(t));function $l(e,t,n,r){return gu(e,t,CM(n),r)}const ME=1e-4,TM=1-ME,PM=1+ME,FE=.01,AM=0-FE,jM=0+FE;function vn(e){return e.max-e.min}function OM(e,t,n){return Math.abs(e-t)<=n}function Vb(e,t,n,r=.5){e.origin=r,e.originPoint=St(t.min,t.max,e.origin),e.scale=vn(n)/vn(t),e.translate=St(n.min,n.max,e.origin)-e.originPoint,(e.scale>=TM&&e.scale<=PM||isNaN(e.scale))&&(e.scale=1),(e.translate>=AM&&e.translate<=jM||isNaN(e.translate))&&(e.translate=0)}function Ml(e,t,n,r){Vb(e.x,t.x,n.x,r?r.originX:void 0),Vb(e.y,t.y,n.y,r?r.originY:void 0)}function Kb(e,t,n){e.min=n.min+t.min,e.max=e.min+vn(t)}function RM(e,t,n){Kb(e.x,t.x,n.x),Kb(e.y,t.y,n.y)}function Wb(e,t,n){e.min=t.min-n.min,e.max=e.min+vn(t)}function Fl(e,t,n){Wb(e.x,t.x,n.x),Wb(e.y,t.y,n.y)}function Xn(e){return[e("x"),e("y")]}const BE=({current:e})=>e?e.ownerDocument.defaultView:null,Hb=(e,t)=>Math.abs(e-t);function IM(e,t){const n=Hb(e.x,t.x),r=Hb(e.y,t.y);return Math.sqrt(n**2+r**2)}class UE{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=hp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=IM(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:y}=h,{timestamp:x}=Jt;this.history.push({...y,timestamp:x});const{onStart:g,onMove:v}=this.handlers;m||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=fp(m,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:w,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=hp(h.type==="pointercancel"?this.lastMoveEventInfo:fp(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(h,g),y&&y(h,g)},!cv(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Mu(t),l=fp(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=Jt;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=n;f&&f(t,hp(l,this.history)),this.removeListeners=Nu($l(this.contextWindow,"pointermove",this.handlePointerMove),$l(this.contextWindow,"pointerup",this.handlePointerUp),$l(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ps(this.updatePoint)}}function fp(e,t){return t?{point:t(e.point)}:e}function qb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hp({point:e},t){return{point:e,delta:qb(e,zE(t)),offset:qb(e,DM(t)),velocity:NM(t,.1)}}function DM(e){return e[0]}function zE(e){return e[e.length-1]}function NM(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=zE(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Hr(t)));)n--;if(!r)return{x:0,y:0};const s=or(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function LM(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?St(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?St(n,e,r.max):Math.min(e,n)),e}function Gb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function $M(e,{top:t,left:n,bottom:r,right:i}){return{x:Gb(e.x,n,i),y:Gb(e.y,t,r)}}function Qb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function MM(e,t){return{x:Qb(e.x,t.x),y:Qb(e.y,t.y)}}function FM(e,t){let n=.5;const r=vn(e),i=vn(t);return i>r?n=du(t.min,t.max-r,e.min):r>i&&(n=du(e.min,e.max-i,t.min)),yi(0,1,n)}function BM(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const fg=.35;function UM(e=fg){return e===!1?e=0:e===!0&&(e=fg),{x:Yb(e,"left","right"),y:Yb(e,"top","bottom")}}function Yb(e,t,n){return{min:Jb(e,t),max:Jb(e,n)}}function Jb(e,t){return typeof e=="number"?e:e[t]||0}const zM=new WeakMap;class VM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mu(f).point)},o=(f,h)=>{const{drag:m,dragPropagation:w,onDragStart:y}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GL(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(g=>{let v=this.getAxisMotionValue(g).get()||0;if(qr.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[g];T&&(v=vn(T)*(parseFloat(v)/100))}}this.originPoint[g]=v}),y&&bt.postRender(()=>y(f,h)),cg(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:y,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(w&&this.currentDirection===null){this.currentDirection=KM(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),x&&x(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Xn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new UE(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:BE(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&bt.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Bc(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=LM(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Zo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=$M(r.layoutBox,t):this.constraints=!1,this.elastic=UM(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=BM(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Zo(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=W$(r,i.root,this.visualElement.getTransformPagePoint());let o=MM(i.layout.layoutBox,s);if(n){const a=n(z$(o));this.hasMutatedConstraints=!!a,a&&(o=EE(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Xn(c=>{if(!Bc(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,w={type:"inertia",velocity:r?t[c]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,w)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return cg(this.visualElement,t),r.start(bv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Xn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Xn(n=>{const{drag:r}=this.getProps();if(!Bc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-St(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=FM({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xn(o=>{if(!Bc(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(St(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;zM.set(this.visualElement,this);const t=this.visualElement.current,n=$l(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Zo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),bt.read(r);const o=gu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xn(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=fg,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Bc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function KM(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class WM extends _s{constructor(t){super(t),this.removeGroupControls=lr,this.removeListeners=lr,this.controls=new VM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zb=e=>(t,n)=>{e&&bt.postRender(()=>e(t,n))};class HM extends _s{constructor(){super(...arguments),this.removePointerDownListener=lr}onPointerDown(t){this.session=new UE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Zb(t),onStart:Zb(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&bt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=$l(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ul={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qe.test(e))e=parseFloat(e);else return e;const n=Xb(e,t.target.x),r=Xb(e,t.target.y);return`${n}% ${r}%`}},qM={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ms.parse(e);if(i.length>5)return r;const s=ms.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=St(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let pp=!1;class GM extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;g$(QM),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),pp&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,pp=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||bt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),uv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;pp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VE(e){const[t,n]=dE(),r=k.useContext(Uy);return E.jsx(GM,{...e,layoutGroup:r,switchLayoutGroup:k.useContext(SE),isPresent:t,safeToRemove:n})}const QM={borderRadius:{...ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ul,borderTopRightRadius:ul,borderBottomLeftRadius:ul,borderBottomRightRadius:ul,boxShadow:qM};function YM(e,t,n){const r=un(e)?e:ja(e);return r.start(bv("",r,t,n)),r.animation}const JM=(e,t)=>e.depth-t.depth;class ZM{constructor(){this.children=[],this.isDirty=!1}add(t){Ky(this.children,t),this.isDirty=!0}remove(t){Wy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(JM),this.isDirty=!1,this.children.forEach(t)}}function XM(e,t){const n=On.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(ps(r),e(s-t))};return bt.setup(r,!0),()=>ps(r)}const KE=["TopLeft","TopRight","BottomLeft","BottomRight"],e3=KE.length,e_=e=>typeof e=="string"?parseFloat(e):e,t_=e=>typeof e=="number"||qe.test(e);function t3(e,t,n,r,i,s){i?(e.opacity=St(0,n.opacity??1,n3(r)),e.opacityExit=St(t.opacity??1,0,r3(r))):s&&(e.opacity=St(t.opacity??1,n.opacity??1,r));for(let o=0;o<e3;o++){const a=`border${KE[o]}Radius`;let l=n_(t,a),u=n_(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||t_(l)===t_(u)?(e[a]=Math.max(St(e_(l),e_(u),r),0),(qr.test(u)||qr.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=St(t.rotate||0,n.rotate||0,r))}function n_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const n3=WE(0,.5,Ok),r3=WE(.5,.95,lr);function WE(e,t,n){return r=>r<e?0:r>t?1:n(du(e,t,r))}function r_(e,t){e.min=t.min,e.max=t.max}function Jn(e,t){r_(e.x,t.x),r_(e.y,t.y)}function i_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function s_(e,t,n,r,i){return e-=t,e=Qd(e,1/n,r),i!==void 0&&(e=Qd(e,1/i,r)),e}function i3(e,t=0,n=1,r=.5,i,s=e,o=e){if(qr.test(t)&&(t=parseFloat(t),t=St(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=St(s.min,s.max,r);e===s&&(a-=t),e.min=s_(e.min,t,n,a,i),e.max=s_(e.max,t,n,a,i)}function o_(e,t,[n,r,i],s,o){i3(e,t[n],t[r],t[i],t.scale,s,o)}const s3=["x","scaleX","originX"],o3=["y","scaleY","originY"];function a_(e,t,n,r){o_(e.x,t,s3,n?n.x:void 0,r?r.x:void 0),o_(e.y,t,o3,n?n.y:void 0,r?r.y:void 0)}function l_(e){return e.translate===0&&e.scale===1}function HE(e){return l_(e.x)&&l_(e.y)}function u_(e,t){return e.min===t.min&&e.max===t.max}function a3(e,t){return u_(e.x,t.x)&&u_(e.y,t.y)}function c_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qE(e,t){return c_(e.x,t.x)&&c_(e.y,t.y)}function d_(e){return vn(e.x)/vn(e.y)}function f_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class l3{constructor(){this.members=[]}add(t){Ky(this.members,t),t.scheduleRender()}remove(t){if(Wy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function u3(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:m,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const mp=["","X","Y","Z"],c3=1e3;let d3=0;function gp(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function GE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=IE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&GE(r)}function QE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=d3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(p3),this.nodes.forEach(v3),this.nodes.forEach(w3),this.nodes.forEach(m3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZM)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=cE(o)&&!e$(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,f=0;const h=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,c&&c(),c=XM(h,250),ud.hasAnimatedSinceResize&&(ud.hasAnimatedSinceResize=!1,this.nodes.forEach(m_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||k3,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=u.getProps(),g=!this.targetLayout||!qE(this.targetLayout,m),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...av(w,"layout"),onPlay:y,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(c,v)}else f||m_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ps(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(h_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(p_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(y3),this.nodes.forEach(f3),this.nodes.forEach(h3)):this.nodes.forEach(p_),this.clearAllSnapshots();const a=On.now();Jt.delta=yi(0,1e3/60,a-Jt.timestamp),Jt.timestamp=a,Jt.isProcessing=!0,ip.update.process(Jt),ip.preRender.process(Jt),ip.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(g3),this.sharedNodes.forEach(_3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!HE(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ns(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),E3(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return It();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(C3))){const{scroll:c}=this.root;c&&(Xo(a.x,c.offset.x),Xo(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=It();if(Jn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:h}=c;c!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Jn(a,o),Xo(a.x,f.offset.x),Xo(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=It();Jn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ea(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ns(c.latestValues)&&ea(l,c.latestValues)}return Ns(this.latestValues)&&ea(l,this.latestValues),l}removeTransform(o){const a=It();Jn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ns(u.latestValues))continue;og(u.latestValues)&&u.updateSnapshot();const c=It(),f=u.measurePageBox();Jn(c,f),a_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ns(this.latestValues)&&a_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Fl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),TE(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Fl(this.relativeTargetOrigin,this.target,m.target),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||og(this.parent.latestValues)||CE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Jn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;K$(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=It());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(i_(this.prevProjectionDelta.x,this.projectionDelta.x),i_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ml(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!f_(this.projectionDelta.x,this.prevProjectionDelta.x)||!f_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ta(),this.projectionDelta=ta(),this.projectionDeltaWithTransform=ta()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=ta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=It(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=m!==w,x=this.getStack(),g=!x||x.members.length<=1,v=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(S3));this.animationProgress=0;let _;this.mixTargetDelta=T=>{const O=T/1e3;g_(f.x,o.x,O),g_(f.y,o.y,O),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fl(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x3(this.relativeTarget,this.relativeTargetOrigin,h,O),_&&a3(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=It()),Jn(_,this.relativeTarget)),y&&(this.animationValues=c,t3(c,u,this.latestValues,O,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ps(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{ud.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ja(0)),this.currentAnimation=YM(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&YE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||It();const f=vn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=vn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Jn(a,l),ea(a,c),Ml(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new l3),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&gp("z",o,u,this.animationValues);for(let c=0;c<mp.length;c++)gp(`rotate${mp[c]}`,o,u,this.animationValues),gp(`skew${mp[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ld(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ld(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ns(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=u3(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),o.transform=f;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const w in mu){if(c[w]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:g}=mu[w],v=f==="none"?c[w]:y(c[w],u);if(x){const _=x.length;for(let T=0;T<_;T++)o[x[T]]=v}else g?this.options.visualElement.renderState.vars[w]=v:o[w]=v}this.options.layoutId&&(o.pointerEvents=u===this?ld(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(h_),this.root.sharedNodes.clear()}}}function f3(e){e.updateLayout()}function h3(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Xn(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=vn(h);h.min=r[f].min,h.max=h.min+m}):YE(s,t.layoutBox,r)&&Xn(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=vn(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=ta();Ml(a,r,t.layoutBox);const l=ta();o?Ml(l,e.applyTransform(i,!0),t.measuredBox):Ml(l,r,t.layoutBox);const u=!HE(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const w=It();Fl(w,t.layoutBox,h.layoutBox);const y=It();Fl(y,r,m.layoutBox),qE(w,y)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function p3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function m3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function g3(e){e.clearSnapshot()}function h_(e){e.clearMeasurements()}function p_(e){e.isLayoutDirty=!1}function y3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function m_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function v3(e){e.resolveTargetDelta()}function w3(e){e.calcProjection()}function b3(e){e.resetSkewAndRotation()}function _3(e){e.removeLeadSnapshot()}function g_(e,t,n){e.translate=St(t.translate,0,n),e.scale=St(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function y_(e,t,n,r){e.min=St(t.min,n.min,r),e.max=St(t.max,n.max,r)}function x3(e,t,n,r){y_(e.x,t.x,n.x,r),y_(e.y,t.y,n.y,r)}function S3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const k3={duration:.45,ease:[.4,0,.1,1]},v_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),w_=v_("applewebkit/")&&!v_("chrome/")?Math.round:lr;function b_(e){e.min=w_(e.min),e.max=w_(e.max)}function E3(e){b_(e.x),b_(e.y)}function YE(e,t,n){return e==="position"||e==="preserve-aspect"&&!OM(d_(t),d_(n),.2)}function C3(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const T3=QE({attachResizeListener:(e,t)=>gu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yp={current:void 0},JE=QE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yp.current){const e=new T3({});e.mount(window),e.setOptions({layoutScroll:!0}),yp.current=e}return yp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),P3={pan:{Feature:HM},drag:{Feature:WM,ProjectionNode:JE,MeasureLayout:VE}};function __(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&bt.postRender(()=>s(t,Mu(t)))}class A3 extends _s{mount(){const{current:t}=this.node;t&&(this.unmount=QL(t,(n,r)=>(__(this.node,r,"Start"),i=>__(this.node,i,"End"))))}unmount(){}}class j3 extends _s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nu(gu(this.node.current,"focus",()=>this.onFocus()),gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&bt.postRender(()=>s(t,Mu(t)))}class O3 extends _s{mount(){const{current:t}=this.node;t&&(this.unmount=XL(t,(n,r)=>(x_(this.node,r,"Start"),(i,{success:s})=>x_(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hg=new WeakMap,vp=new WeakMap,R3=e=>{const t=hg.get(e.target);t&&t(e)},I3=e=>{e.forEach(R3)};function D3({root:e,...t}){const n=e||document;vp.has(n)||vp.set(n,{});const r=vp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(I3,{root:e,...t})),r[i]}function N3(e,t,n){const r=D3(t);return hg.set(e,n),r.observe(e),()=>{hg.delete(e),r.unobserve(e)}}const L3={some:0,all:1};class $3 extends _s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:L3[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return N3(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(M3(t,n))&&this.startObserver()}unmount(){}}function M3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const F3={inView:{Feature:$3},tap:{Feature:O3},focus:{Feature:j3},hover:{Feature:A3}},B3={layout:{ProjectionNode:JE,MeasureLayout:VE}},U3={...EM,...F3,...P3,...B3},z3=U$(U3,eM);let V3={data:""},K3=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||V3},W3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,H3=/\/\*[^]*?\*\/|  +/g,S_=/\n+/g,zi=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?zi(o,s):s+"{"+zi(o,s[1]=="k"?"":t)+"}":typeof o=="object"?r+=zi(o,t?t.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=zi.p?zi.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Xr={},ZE=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+ZE(e[n]);return t}return e},q3=(e,t,n,r,i)=>{let s=ZE(e),o=Xr[s]||(Xr[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!Xr[o]){let l=s!==e?e:(u=>{let c,f,h=[{}];for(;c=W3.exec(u.replace(H3,""));)c[4]?h.shift():c[3]?(f=c[3].replace(S_," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace(S_," ").trim();return h[0]})(e);Xr[o]=zi(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Xr.g?Xr.g:null;return n&&(Xr.g=Xr[o]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Xr[o],t,r,a),o},G3=(e,t,n)=>e.reduce((r,i,s)=>{let o=t[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":zi(a,""):a===!1?"":a}return r+i+(o??"")},"");function Rf(e){let t=this||{},n=e.call?e(t.p):e;return q3(n.unshift?n.raw?G3(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,K3(t.target),t.g,t.o,t.k)}let XE,pg,mg;Rf.bind({g:1});let wi=Rf.bind({k:1});function Q3(e,t,n,r){zi.p=t,XE=e,pg=n,mg=r}function xs(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:pg&&pg()},a),n.o=/ *go\d+/.test(l),a.className=Rf.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),mg&&u[0]&&mg(a),XE(u,a)}return i}}var Y3=e=>typeof e=="function",Yd=(e,t)=>Y3(e)?e(t):e,J3=(()=>{let e=0;return()=>(++e).toString()})(),eC=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Z3=20,_v="default",tC=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return tC(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},cd=[],nC={toasts:[],pausedAt:void 0,settings:{toastLimit:Z3}},Vr={},rC=(e,t=_v)=>{Vr[t]=tC(Vr[t]||nC,e),cd.forEach(([n,r])=>{n===t&&r(Vr[t])})},iC=e=>Object.keys(Vr).forEach(t=>rC(e,t)),X3=e=>Object.keys(Vr).find(t=>Vr[t].toasts.some(n=>n.id===e)),If=(e=_v)=>t=>{rC(t,e)},eF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},tF=(e={},t=_v)=>{let[n,r]=k.useState(Vr[t]||nC),i=k.useRef(Vr[t]);k.useEffect(()=>(i.current!==Vr[t]&&r(Vr[t]),cd.push([t,r]),()=>{let o=cd.findIndex(([a])=>a===t);o>-1&&cd.splice(o,1)}),[t]);let s=n.toasts.map(o=>{var a,l,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||eF[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:s}},nF=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||J3()}),Fu=e=>(t,n)=>{let r=nF(t,e,n);return If(r.toasterId||X3(r.id))({type:2,toast:r}),r.id},zt=(e,t)=>Fu("blank")(e,t);zt.error=Fu("error");zt.success=Fu("success");zt.loading=Fu("loading");zt.custom=Fu("custom");zt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?If(t)(n):iC(n)};zt.dismissAll=e=>zt.dismiss(void 0,e);zt.remove=(e,t)=>{let n={type:4,toastId:e};t?If(t)(n):iC(n)};zt.removeAll=e=>zt.remove(void 0,e);zt.promise=(e,t,n)=>{let r=zt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let s=t.success?Yd(t.success,i):void 0;return s?zt.success(s,{id:r,...n,...n==null?void 0:n.success}):zt.dismiss(r),i}).catch(i=>{let s=t.error?Yd(t.error,i):void 0;s?zt.error(s,{id:r,...n,...n==null?void 0:n.error}):zt.dismiss(r)}),e};var rF=1e3,iF=(e,t="default")=>{let{toasts:n,pausedAt:r}=tF(e,t),i=k.useRef(new Map).current,s=k.useCallback((f,h=rF)=>{if(i.has(f))return;let m=setTimeout(()=>{i.delete(f),o({type:4,toastId:f})},h);i.set(f,m)},[]);k.useEffect(()=>{if(r)return;let f=Date.now(),h=n.map(m=>{if(m.duration===1/0)return;let w=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(w<0){m.visible&&zt.dismiss(m.id);return}return setTimeout(()=>zt.dismiss(m.id,t),w)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[n,r,t]);let o=k.useCallback(If(t),[t]),a=k.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=k.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),u=k.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),c=k.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:w=8,defaultPosition:y}=h||{},x=n.filter(_=>(_.position||y)===(f.position||y)&&_.height),g=x.findIndex(_=>_.id===f.id),v=x.filter((_,T)=>T<g&&_.visible).length;return x.filter(_=>_.visible).slice(...m?[v+1]:[0,v]).reduce((_,T)=>_+(T.height||0)+w,0)},[n]);return k.useEffect(()=>{n.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:c}}},sF=wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oF=wi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aF=wi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,lF=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${aF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uF=wi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cF=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${uF} 1s linear infinite;
`,dF=wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,fF=wi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hF=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${fF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,pF=xs("div")`
  position: absolute;
`,mF=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gF=wi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yF=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gF} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,vF=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?k.createElement(yF,null,t):t:n==="blank"?null:k.createElement(mF,null,k.createElement(cF,{...r}),n!=="loading"&&k.createElement(pF,null,n==="error"?k.createElement(lF,{...r}):k.createElement(hF,{...r})))},wF=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,bF=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,_F="0%{opacity:0;} 100%{opacity:1;}",xF="0%{opacity:1;} 100%{opacity:0;}",SF=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kF=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,EF=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=eC()?[_F,xF]:[wF(n),bF(n)];return{animation:t?`${wi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},CF=k.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?EF(e.position||t||"top-center",e.visible):{opacity:0},s=k.createElement(vF,{toast:e}),o=k.createElement(kF,{...e.ariaProps},Yd(e.message,e));return k.createElement(SF,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:s,message:o}):k.createElement(k.Fragment,null,s,o))});Q3(k.createElement);var TF=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let s=k.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return k.createElement("div",{ref:s,className:t,style:n},i)},PF=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:eC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},AF=Rf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Uc=16,jF=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=iF(n,s);return k.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Uc,left:Uc,right:Uc,bottom:Uc,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let f=c.position||t,h=u.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),m=PF(f,h);return k.createElement(TF,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?AF:"",style:m},c.type==="custom"?Yd(c.message,c):i?i(c):k.createElement(CF,{toast:c,position:f}))}))},Ri=zt;const sC=[{code:"devanagari",name:"Devanagari"},{code:"tamil_superscripted",name:"Tamil"},{code:"malayalam",name:"Malayalam"},{code:"telugu",name:"Telugu"},{code:"kannada",name:"Kannada"},{code:"gujarati",name:"Gujarati"},{code:"gurmukhi",name:"Gurmukhi"},{code:"iast",name:"IAST"}];function OF(){const{preferredLanguage:e,setPreferredLanguage:t}=Ba(),[n,r]=k.useState(e);k.useEffect(()=>{localStorage.setItem("preferredLanguage",n),t(n)},[n,t]);const i=s=>{r(s.target.value)};return E.jsxs("div",{children:[E.jsx("h2",{children:"Language Preferences"}),E.jsx("p",{children:"Choose the language for transliteration:"}),E.jsx("select",{value:n,onChange:i,children:sC.map(s=>E.jsx("option",{value:s.code,children:s.name},s.code))})]})}const RF={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},cl={marginRight:"10px"},dl={opacity:.5,cursor:"not-allowed",color:"#888"},IF=async function(e){try{return await cn.from("sankeertan").upsert({id:1,content:e,scroll_position:0}),!0}catch(t){return console.error(t),!1}},DF=async({bookId:e,sourceRow:t,songTitle:n,sessionuser:r})=>{if(!e||!t)throw new Error("bookId or sourceRow is not defined. Cannot fetch songDetails");const i=new URL(vo);i.searchParams.append("mode","api"),i.searchParams.append("apiname","getsongtextforsong"),i.searchParams.append("book",e),i.searchParams.append("sourcerow",t),i.searchParams.append("songtitle",n),r&&i.searchParams.append("sessionuser",r);const s=await fetch(i.toString());if(!s.ok){const o=await s.json();throw new Error(`Failed to fetch song details for book ${e}+row ${t}: ${s.status} - ${JSON.stringify(o)}`)}return await s.json()},NF=async e=>{const t=e.queryKey,n=t[1],r=t[2],i=t[3],s=t[4];if(!n||!r||!s)throw new Error("Missing query parameters for fetching song details.");const o=await zI(n,s);return o&&o.songData&&o.sourceLanguage?(console.log("Using song details from IndexedDB cache."),[o.songData,o.metadata,o.sourceLanguage]):(console.log("Cache miss. Fetching song details from network."),await DF({bookId:n,sourceRow:r,songTitle:s,sessionuser:i}))};function LF(){var Ze,jt,Gn;const{categoryId:e,bookId:t,sourceRow:n,songTitle:r}=Pu(),i=dr(),s=jr(),{session:o}=bs(),a=(Ze=o==null?void 0:o.user)==null?void 0:Ze.email,l=(jt=i.state)==null?void 0:jt.filteredSongIndices,u=(Gn=i.state)==null?void 0:Gn.index,c=Ef(),f=k.useMemo(()=>decodeURIComponent(r||""),[r]),h=["songDetails",t,n,a,f],{preferredLanguage:m,setPreferredLanguage:w}=Ba(),y=k.useMemo(()=>l&&u>0?l[u-1]:null,[l,u]),x=k.useMemo(()=>l&&u<l.length-1?l[u+1]:null,[l,u]),g=k.useCallback(async(Re,Ue)=>{if(!Re||!Re.bookId||!Re.songTitle){Ue(!1);return}const et=await Ly(Re.bookId,Re.songTitle);Ue(et)},[]),[v,_]=k.useState(!1),[T,O]=k.useState(!1);k.useEffect(()=>{g(y,_),g(x,O)},[y,x,g]);const{isLoading:I,isFetching:R,error:$,data:U}=Ny({queryKey:h,queryFn:NF,staleTime:1/0,gcTime:0,refetchOnMount:!1});oN(({swipe:[Re]})=>{Re===1?(console.log("going to prev"),be()):Re===-1&&(console.log("going to next"),Be())},{axis:"x",filterTaps:!0});const[V,we]=k.useState(!1),[F,ee]=k.useState({x:0,y:0}),[A,ue]=k.useState(!1),Oe=k.useRef(null),[M,X]=k.useState(""),[Y,ce]=k.useState(null),G=k.useRef(null),Q=Re=>{Re.preventDefault();const Ue=window.getSelection(),et=(Ue==null?void 0:Ue.toString().trim())??"";Ue&&Ue.rangeCount>0&&!Ue.getRangeAt(0).collapsed?(X(et),ce(Ue.getRangeAt(0)),ue(!0)):(X(""),ce(null),ue(!1)),ee({x:Re.clientX,y:Re.clientY}),ue(!!M),we(!0)};k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[i]),k.useEffect(()=>{const Re=Ue=>{Oe.current&&!Oe.current.contains(Ue.target)&&we(!1)};return V?window.addEventListener("mousedown",Re):window.removeEventListener("mousedown",Re),()=>{window.removeEventListener("mousedown",Re)}},[V]),k.useEffect(()=>{i.state||window.location.pathname.startsWith("/sankeertan")},[i,t]),k.useEffect(()=>{const Re=Ue=>{Oe.current&&!Oe.current.contains(Ue.target)&&we(!1)};return V&&document.addEventListener("mousedown",Re),()=>{document.removeEventListener("mousedown",Re)}},[V]);const oe=()=>{const Re=window.location.href;navigator.clipboard.writeText(Re).then(()=>{console.log("URL copied to clipboard:",Re),Ri.success("URL copied to clipboard!")}).catch(Ue=>{console.error("Failed to copy URL: ",Ue)})},pe=k.useRef(null);function me(Re){const xn=new DOMParser().parseFromString(Re,"text/html").querySelectorAll("tr");let hn="";return xn.forEach(De=>{const Or=De.querySelectorAll("td, th"),Qn=[];Or.forEach(Si=>{var hr;let Ce=Si.innerHTML;Ce=Ce.replace(/<\/p>\s*<p>/gi,`
`),Ce=Ce.replace(/<p>|<\/p>/gi,""),Ce=Ce.replace(/<br\s*\/?>/gi,`
`);const Yr=document.createElement("div");Yr.innerHTML=Ce;const Rr=((hr=Yr.textContent)==null?void 0:hr.trim())||"";Qn.push(Rr)}),hn+=Qn.join(" | ")+`

`}),hn.trim()}const Me=()=>{if(!Y||Y.collapsed){console.warn("No valid selection range to highlight.");return}const Re=document.createElement("span");Re.className="highlighted-text";try{Y.surroundContents(Re),console.log("Text highlighted successfully!")}catch(Ue){console.error("Failed to highlight text:",Ue)}ce(null)},Ve=(Re=!1)=>{if(pe.current){const Ue=pe.current.innerHTML;let et="radhekrishna!!";Re?et=Ue:Ue.includes("<table")?et=me(Ue):et=pe.current.textContent||"radhekrishna!!",navigator.clipboard.writeText(et).then(()=>{console.log("Song content copied to clipboard:"),Ri.success("Song content copied to clipboard!")}).catch(xn=>{console.error("Failed to copy song: ",xn)})}},Be=()=>{if(l&&u!==void 0&&u<l.length-1){const Re=u+1,Ue=l[Re];sessionStorage.setItem("lastClickedSongIndex",Re.toString()),s(`/details/book/${e}/${t}/${Ue.sourceRow}/${encodeURIComponent(Ue.songTitle)}`,{state:{filteredSongIndices:l,index:Re},replace:!0})}},be=()=>{if(l&&u!==void 0&&u>0){const Re=u-1,Ue=l[Re];sessionStorage.setItem("lastClickedSongIndex",Re.toString()),s(`/details/book/${e}/${t}/${Ue.sourceRow}/${encodeURIComponent(Ue.songTitle)}`,{state:{filteredSongIndices:l,index:Re},replace:!0})}},Ge=u===0,ut=u===(l==null?void 0:l.length)-1,He=l&&l.length>0,Ft=async Re=>{if(M){const Ue=await fetch(`${vo}?mode=api&apiname=reportmistakeinsongtext&book=${t}&sourcerow=${n}&songtitle=${r}&text=${M}&sessionuser=${Re}`);if(!Ue.ok){const xn=await Ue.json();throw new Error(`Failed to fetch song details for book ${t}+row ${n}: ${Ue.status} - ${JSON.stringify(xn)}`)}const et=await Ue.json();Ri.success(`Issue/Mistake is reported as ${et[1]}!!`)}else console.log("No text was selected.")},P=async()=>{t&&r?(await VI(t,f),console.log("IndexedDB cache cleared. Data will be reloaded from the server."),c.invalidateQueries({queryKey:h})):console.warn("Cannot reload song: bookId or songTitle is missing.")},he=async Re=>{switch(we(!1),Re){case"broadcast":r&&_e();break;case"copyPageUrl":oe();break;case"CopySongAsHtml":Ve(!0);break;case"CopySongAsText":Ve(!1);break;case"ReportMistake":Ft(a);break;case"Copy":if(M)try{await navigator.clipboard.writeText(M),Ri.success("Text copied!")}catch(Ue){console.error("Failed to copy text: ",Ue),Ri.error("Failed to copy text.")}break;case"Highlight":Me();break}},de=k.useMemo(()=>E.jsx(z3.div,{ref:Oe,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.1},style:{position:"fixed",top:F.y,left:F.x,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)",zIndex:10,minWidth:"150px"},onClick:Re=>Re.stopPropagation(),children:E.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:A?E.jsxs(E.Fragment,{children:[E.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>he("Copy"),children:"Copy Selected"}),E.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>he("ReportMistake"),children:"Report Mistake"})]}):E.jsx(E.Fragment,{children:E.jsxs("div",{style:{borderTop:"1px solid #eee",marginTop:"8px",paddingTop:"8px"},children:[E.jsx("li",{style:{padding:"6px 12px",color:"#666"},children:"**Change Language**"}),sC.map(Re=>E.jsx("li",{style:{padding:"6px 12px",cursor:"pointer",fontWeight:Re.code===m?"bold":"normal",backgroundColor:Re.code===m?"#f0f0f0":"transparent"},onClick:()=>Ie(Re),children:Re.name},Re.code))]})})})},"context-menu"),[A,F,m]),[L,N]=k.useState(!1),[ne,ge]=k.useState(null),[ye,ae]=k.useState(!0),_e=k.useCallback(async()=>{if(L){console.warn("isBroadcasting already");return}if(!ye){Ri.error("Cannot do repeat Broadcast... Pls check if song has changed");return}if(pe.current){N(!0),ge("broadcasting");try{const Re=pe.current.innerHTML,Ue=await IF(Re);N(!1),ge("success"),Ri.success("Broadcast was successful!"),ae(!1),setTimeout(()=>ge(null),2e3)}catch(Re){console.error("Broadcast failed:",Re),Ri.error("Broadcast had errors!"),N(!1),ge("error"),setTimeout(()=>ge(null),3e3)}}else console.warn("broadcastContentRef.current is null. Cannot broadcast content."),ge("failed"),N(!1)},[pe,L,ye]);k.useEffect(()=>{ae(!0)},[U]),k.useEffect(()=>{if(U&&U.length>=3&&t&&f&&n){const Re={bookId:t,songTitle:f,sourceRow:n,songData:U[0],metadata:U[1],sourceLanguage:U[2]};ak(Re).catch(Ue=>{console.error("Error saving song details to IndexedDB:",Ue)}),g(y,_),g(x,O)}},[U,t,f,n,y,x,g]);const Ie=Re=>{w(Re.code),we(!1)},xe={backgroundColor:"green",color:"white"},Fe={backgroundColor:"brown",color:"white"};if(I&&!U)return E.jsx("div",{style:RF,children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[E.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),E.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),E.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),E.jsx("p",{style:{marginLeft:"10px"},children:"Loading song text..."})]})});if($)return E.jsxs("div",{children:["Error loading song details: ",$.message]});if(!U)return E.jsx("div",{children:"No song details available. Please try reloading."});const nt=document.getElementById("context-menu-root");return E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},ref:G,children:[E.jsx(By,{}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[E.jsx("button",{onClick:be,disabled:Ge||!He,style:{...cl,...Ge||!He?dl:{},...v?xe:Fe},children:" Prev"}),E.jsx("button",{onClick:Be,disabled:ut||!He,style:{...cl,...ut||!He?dl:{},...T?xe:Fe,marginRight:0},children:"Next "})]})]}),E.jsxs("div",{className:"song-details-container select-text",style:{paddingBottom:"60px",paddingLeft:"20px",cursor:"pointer",userSelect:"auto"},onContextMenu:Q,children:[E.jsx("div",{ref:pe,children:U&&E.jsx(hD,{data:U[0],className:"my-4",highlightColor:"bg-blue-50",striped:!0,hoverEffect:!1,wrapColumns:[1,2,3],maxWidth:"max-w-6xl",preferredLanguage:m,sourceLanguage:U[2]})}),E.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",backgroundColor:"#fff",borderTop:"1px solid #ccc",padding:"10px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",zIndex:1e3},children:[E.jsxs("div",{children:[E.jsx("button",{onClick:be,disabled:Ge||!He,style:{...cl,...Ge||!He?dl:{},...v?xe:Fe},children:" Prev"}),E.jsx("button",{onClick:Be,disabled:ut||!He,style:{...cl,...ut||!He?dl:{},...T?xe:Fe,marginRight:0},children:"Next "})]}),E.jsxs("div",{children:[E.jsx("button",{onClick:P,style:{marginRight:"10px"},title:"Reload from Server",children:""}),E.jsx("button",{onClick:oe,style:{marginRight:"10px"},title:"Copy URL",children:""}),E.jsx("button",{onClick:()=>Ve(!1),style:{marginRight:"10px"},title:"Copy Content",children:""}),E.jsx("button",{onClick:_e,disabled:!ye,style:{...cl,...ye?{}:dl},title:"Broadcast",children:""})]})]}),E.jsx("style",{children:`
          .highlighted-text {
            background-color: #ffeb3b; /* Yellow background */
            padding: 2px 4px;
            border-radius: 4px;
          }
        `}),V&&nt&&M2.createPortal(E.jsx(u$,{children:de}),nt)]})]})}const $F=({broadcastId:e,session:t,shouldSyncContent:n,shouldSyncScroll:r,onContentUpdated:i,onScrollPositionUpdated:s})=>{const o=k.useRef(null);return k.useEffect(()=>{if(!(t!=null&&t.access_token)||!e){console.log("No access token or broadcast ID, not subscribing to sankeertan updates."),o.current&&(o.current.unsubscribe(),o.current=null);return}return o.current=cn.channel(`broadcast:${e}`),o.current.on("postgres_changes",{event:"UPDATE",schema:"public",table:"sankeertan",filter:`id=eq.${e}`},a=>{a.new&&"content"in a.new&&n&&i(a.new.content),a.new&&"scroll_position"in a.new&&a.new.scroll_position!==null&&r&&s(a.new.scroll_position)}).subscribe(a=>{a==="SUBSCRIBED"?console.log(`Successfully subscribed to sankeertan updates for broadcast: ${e}`):a==="CHANNEL_ERROR"?console.error(`Error subscribing to sankeertan updates for broadcast ${e}:`,a):a==="TIMED_OUT"?console.warn(`Subscription timed out for broadcast ${e}:`,a):a==="CLOSED"&&console.warn(`Subscription closed for broadcast ${e}:`,a)}),()=>{o.current&&(o.current.unsubscribe(),o.current=null)}},[e,t==null?void 0:t.access_token,n,r,i,s]),null},MF=({broadcastId:e})=>{const[t,n]=k.useState(null),[r,i]=k.useState(null),s=k.useRef(null),[o,a]=k.useState(null),[l,u]=k.useState(!0),[c,f]=k.useState(!0),[h,m]=k.useState(!0),[w,y]=k.useState(null),{preferredLanguage:x}=Ba();k.useEffect(()=>{cn.auth.getSession().then(({data:{session:T}})=>{a(T)}),cn.auth.onAuthStateChange((T,O)=>{a(O)})},[]);const g=k.useCallback(async()=>{m(!0),y(null);try{const{data:T,error:O}=await cn.from("sankeertan").select("content, scroll_position").eq("id",e).single();if(O)console.error("Error fetching broadcast data:",O),y(O.message);else if(T){const I=T.content??"";let R=Vd(I,"devanagari",x);n(R)}}finally{m(!1)}},[e,x]);k.useEffect(()=>{o&&e&&g()},[o,e,g]),k.useEffect(()=>{if(r&&s.current){const T=s.current.querySelector(`#trRowAsAnchor-${r}`);T&&T.scrollIntoView({block:"start"}),i(null)}},[r,s]);const v=T=>{T=Vd(T??"","devanagari",x),n(T)},_=T=>{i(`#trRowAsAnchor-${T}`)};return E.jsxs("div",{children:[E.jsx("h2",{children:"Sankeertan Content"}),E.jsx("div",{ref:s,children:t&&E.jsx("div",{dangerouslySetInnerHTML:{__html:t}})}),o&&E.jsx($F,{broadcastId:e,session:o,shouldSyncContent:l,shouldSyncScroll:c,onContentUpdated:v,onScrollPositionUpdated:_})]})},fl=(e,t)=>{const n=new Set;return e.forEach(r=>{const i=r[t];Array.isArray(i)?i.forEach(s=>{typeof s=="string"&&n.add(s)}):typeof i=="string"&&n.add(i)}),Array.from(n).sort()},FF=[{category:["Spiritual","Sampradaya"],book:["Divine Verses","Speech by Swami"],bookId:"book-1",categoryId:"category-1",title:"Gayatri Mantra",author:"Vishwamitra",language:"Sanskrit",type:"Shloka",sourceRow:0,indexPositionForNavigation:0},{category:["Spiritual","Sampradaya"],book:["Divine Verses","Speech by Swami"],bookId:"book-2",categoryId:"category-1",title:"Maha Mrityunjaya Mantra",author:["Markandeya","Vyaasa"],language:"Sanskrit",type:"Shloka",sourceRow:1,indexPositionForNavigation:0},{category:"Folk",book:"Singing Stories",bookId:"book-3",categoryId:"category-2",title:"Oh Carolina",author:"Folklore",language:["English","German"],type:"Audio",sourceRow:0,indexPositionForNavigation:0},{category:"Folk",book:"Singing Stories",bookId:"book-4",categoryId:"category-2",title:"Home is a feeling",author:"Alan Tofson",language:["English","Italian"],type:["Audio","Video"],sourceRow:1,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-5",categoryId:"category-3",title:"Ode to Joy",author:["Ludwig van Beethoven"],language:"German",type:"Audio",sourceRow:0,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-6",categoryId:"category-3",title:"Fr Elise",author:["Ludwig van Beethoven"],language:"German",type:"Audio",sourceRow:1,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-7",categoryId:"category-3",title:"The Four Seasons",author:"Antonio Vivaldi",language:"Italian",type:"Audio",sourceRow:2,indexPositionForNavigation:0},{category:"Spiritual",book:"The Wisdom of Rumi",bookId:"book-8",categoryId:"category-1",title:"The Guest House",author:"Rumi",language:"English",type:"Audio",sourceRow:2,indexPositionForNavigation:0}],BF=()=>{const e=[],t=[];try{const n=localStorage.getItem("sankeertan_categories_data");if(!n)return t.push("No data found for 'sankeertan_categories_data'. Returning empty list."),{localSongs:e,debugInfo:t};t.push("'sankeertan_categories_data' found.");const r=JSON.parse(n);if(!r||!Array.isArray(r.data))return t.push("Error: 'sankeertan_categories_data' is not a valid JSON array."),{localSongs:e,debugInfo:t};r.data.forEach(i=>{const s=i.name,o=i.name;i.books&&Array.isArray(i.books)&&i.books.forEach(a=>{const l=a.bookName,u=a.bookId,c=`sankeertan_song_indices-${u}`,f=localStorage.getItem(c);if(f){t.push(`Found song indices for key: '${c}'.`);try{const h=JSON.parse(f);h&&Array.isArray(h.data)?h.data.forEach(m=>{if(m.songTitle){const w=`sankeertan_song_details-${u}-${encodeURIComponent(m.songTitle)}`,y=!!localStorage.getItem(w);t.push(`Checking availability for '${m.songTitle}': ${y?"Available":"Not Available"}`),e.push({category:s,categoryId:o,book:l,bookId:u,title:m.songTitle,author:"Unknown",language:"Unknown",type:"Unknown",sourceRow:m.sourceRow,indexPositionForNavigation:m.indexPositionForNavigation,isAvailable:y})}}):t.push(`Error parsing indices for key: '${c}'. Invalid format.`)}catch(h){const m=h instanceof Error?h.message:String(h);t.push(`Error parsing data for key: '${c}': ${m}`)}}else t.push(`No song indices found for key: '${c}'.`)})})}catch(n){const r=n instanceof Error?n.message:String(n);return t.push(`General error processing localStorage: ${r}`),{localSongs:e,debugInfo:t}}return t.push(`Total songs loaded from local storage: ${e.length}.`),{localSongs:e,debugInfo:t}},UF=()=>{const[e,t]=k.useState(""),[n,r]=k.useState({}),[i,s]=k.useState([]),[o,a]=k.useState([]),[l,u]=k.useState([]),[c,f]=k.useState("cards"),[h,m]=k.useState(!0),[w,y]=k.useState([]),[x,g]=k.useState(!1),v=jr(),[_,T]=k.useState({category:!0,book:!0,title:!0,author:!0,language:!0,type:!0});k.useEffect(()=>{m(!0);const{localSongs:M,debugInfo:X}=BF();y(X),M.length>0?s(M):s(FF),m(!1)},[]),k.useEffect(()=>{(()=>{let X=i;if(e){const ce=e.toLowerCase();X=X.filter(G=>Object.values(G).filter(oe=>oe!==void 0).map(oe=>Array.isArray(oe)?oe.join(" "):String(oe)).join(" ").toLowerCase().includes(ce))}Object.entries(n).forEach(([ce,G])=>{G&&G.length>0&&(X=X.filter(Q=>{const oe=Q[ce],me=Array.isArray(oe)?oe.map(Me=>String(Me).toLowerCase()):[String(oe).toLowerCase()];return G.every(Me=>{const Ve=Me.value.toLowerCase(),Be=me.includes(Ve);return Me.isNot?!Be:Be})}))}),a(X);const Y=X.map(ce=>({indexPositionForNavigation:ce.indexPositionForNavigation,sourceRow:ce.sourceRow,songTitle:Array.isArray(ce.title)?ce.title.join(", "):ce.title}));u(Y)})()},[e,n,i]);const O=(M,X)=>{r(Y=>{const ce=Y[M]||[],G=ce.find(Q=>Q.value===X);if(G)if(G.isNot){const Q=ce.filter(oe=>oe.value!==X);if(Q.length===0){const oe={...Y};return delete oe[M],oe}return{...Y,[M]:Q}}else return{...Y,[M]:ce.map(Q=>Q.value===X?{...Q,isNot:!0}:Q)};else return{...Y,[M]:[...ce,{value:X,isNot:!1}]}})},I=()=>{r({})},R=(M,X)=>{const Y=Array.isArray(M.title)?M.title.join(", "):M.title;v(`/details/book/${M.category}/${M.bookId}/${M.sourceRow}/${encodeURIComponent(Y)}`,{state:{filteredSongIndices:l,index:X}})},$=M=>{T(X=>({...X,[M]:!X[M]}))},U=fl(o,"author"),V=fl(o,"language"),we=fl(o,"type"),F=fl(o,"book"),ee=fl(o,"category"),A={category:new Set,book:new Set,title:new Set,author:new Set,language:new Set,type:new Set};e.length>0&&i.forEach(M=>{Object.entries(M).forEach(([X,Y])=>{var ce;Array.isArray(Y)?Y.forEach(G=>{var Q;typeof G=="string"&&G.toLowerCase().includes(e.toLowerCase())&&((Q=A[X])==null||Q.add(G))}):typeof Y=="string"&&Y.toLowerCase().includes(e.toLowerCase())&&((ce=A[X])==null||ce.add(Y))})});const ue=(M,X)=>o.filter(Y=>{const ce=Y[M];return Array.isArray(ce)?ce.includes(X):ce===X}).length,Oe=(M,X)=>{var ce;const Y=(ce=n[M])==null?void 0:ce.find(G=>G.value===X);return Y?Y.isNot?"bg-red-500 text-white":"bg-teal-500 text-white":"hover:bg-gray-600"};return E.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4 font-sans flex flex-col items-center",children:E.jsxs("div",{className:"w-full max-w-4xl bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-center mb-2 text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-sky-500",children:"Progressive Search"}),E.jsx("div",{className:"mb-6 text-center",children:E.jsx("button",{onClick:()=>g(!x),className:"px-5 py-2 rounded-full font-semibold bg-gray-700 text-gray-400 hover:bg-gray-600 transition-colors text-sm",children:x?"Hide Debug Panel":"Show Debug Panel"})}),x&&E.jsxs("div",{className:"bg-gray-700 p-4 rounded-xl mb-6",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-2",children:"Debug Log (Local Storage)"}),E.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside",children:w.map((M,X)=>E.jsx("li",{className:"mb-1",children:M},X))})]}),E.jsxs("div",{className:"relative mb-6",children:[E.jsx("input",{type:"text",placeholder:"Search by title, author, book, language...",className:"w-full px-5 py-3 rounded-xl bg-gray-700 text-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-all",value:e,onChange:M=>t(M.target.value)}),e&&Object.values(A).some(M=>M.size>0)&&E.jsx("div",{className:"absolute z-10 w-full mt-2 bg-gray-700 rounded-xl shadow-lg border border-gray-600 max-h-64 overflow-y-auto",children:Object.entries(A).map(([M,X])=>X&&X.size>0&&E.jsxs("div",{className:"p-3",children:[E.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-1",children:M}),Array.from(X).map((Y,ce)=>E.jsx("button",{className:"w-full text-left px-3 py-2 text-sm rounded-lg hover:bg-teal-500 hover:text-white transition-colors",onClick:()=>{t(""),O(M,Y)},children:Y},ce))]},M))})]}),Object.keys(n).some(M=>{const X=n[M];return X&&X.length>0})&&E.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[E.jsx("span",{className:"text-sm text-gray-400 mr-2",children:"Filters:"}),Object.entries(n).map(([M,X])=>X==null?void 0:X.map((Y,ce)=>E.jsxs("span",{className:`${Y.isNot?"bg-red-500":"bg-teal-500"} text-white text-sm px-3 py-1 rounded-full flex items-center gap-1`,children:[E.jsxs("span",{className:"font-semibold",children:[M,":"]})," ",Y.value,E.jsx("button",{onClick:()=>O(M,Y.value),className:"ml-1 text-white hover:text-gray-200 transition-colors",children:""})]},`${M}-${ce}`))),E.jsx("button",{onClick:I,className:"text-sm text-gray-400 hover:text-white transition-colors ml-auto",children:"Clear All Filters"})]}),h?E.jsx("div",{className:"text-center py-8",children:E.jsx("p",{className:"text-gray-400",children:"Loading songs from local storage..."})}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid gap-4 mb-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[E.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[E.jsxs("button",{onClick:()=>$("category"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Category",E.jsx("span",{className:`transform transition-transform duration-300 ${_.category?"":"rotate-180"}`,children:""})]}),E.jsx("div",{className:`overflow-hidden transition-all duration-300 ${_.category?"max-h-0":"max-h-96"}`,children:E.jsx("div",{className:"p-4 pt-0",children:ee.map(M=>E.jsxs("button",{onClick:()=>O("category",M),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("category",M)}`,children:[E.jsx("span",{children:M}),E.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:ue("category",M)})]},M))})})]}),E.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[E.jsxs("button",{onClick:()=>$("book"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Book",E.jsx("span",{className:`transform transition-transform duration-300 ${_.book?"":"rotate-180"}`,children:""})]}),E.jsx("div",{className:`overflow-hidden transition-all duration-300 ${_.book?"max-h-0":"max-h-96"}`,children:E.jsx("div",{className:"p-4 pt-0",children:F.map(M=>E.jsxs("button",{onClick:()=>O("book",M),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("book",M)}`,children:[E.jsx("span",{children:M}),E.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:ue("book",M)})]},M))})})]}),E.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[E.jsxs("button",{onClick:()=>$("author"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Author",E.jsx("span",{className:`transform transition-transform duration-300 ${_.author?"":"rotate-180"}`,children:""})]}),E.jsx("div",{className:`overflow-hidden transition-all duration-300 ${_.author?"max-h-0":"max-h-96"}`,children:E.jsx("div",{className:"p-4 pt-0",children:U.map(M=>E.jsxs("button",{onClick:()=>O("author",M),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("author",M)}`,children:[E.jsx("span",{children:M}),E.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:ue("author",M)})]},M))})})]}),E.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[E.jsxs("button",{onClick:()=>$("language"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Language",E.jsx("span",{className:`transform transition-transform duration-300 ${_.language?"":"rotate-180"}`,children:""})]}),E.jsx("div",{className:`overflow-hidden transition-all duration-300 ${_.language?"max-h-0":"max-h-96"}`,children:E.jsx("div",{className:"p-4 pt-0",children:V.map(M=>E.jsxs("button",{onClick:()=>O("language",M),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("language",M)}`,children:[E.jsx("span",{children:M}),E.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:ue("language",M)})]},M))})})]}),E.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[E.jsxs("button",{onClick:()=>$("type"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Type",E.jsx("span",{className:`transform transition-transform duration-300 ${_.type?"":"rotate-180"}`,children:""})]}),E.jsx("div",{className:`overflow-hidden transition-all duration-300 ${_.type?"max-h-0":"max-h-96"}`,children:E.jsx("div",{className:"p-4 pt-0",children:we.map(M=>E.jsxs("button",{onClick:()=>O("type",M),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("type",M)}`,children:[E.jsx("span",{children:M}),E.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:ue("type",M)})]},M))})})]})]}),E.jsxs("div",{className:"mt-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("h2",{className:"text-xl font-bold",children:["Results (",o.length,")"]}),E.jsxs("div",{className:"flex gap-2 text-sm",children:[E.jsx("button",{onClick:()=>f("cards"),className:`px-3 py-1 rounded-full font-semibold transition-colors ${c==="cards"?"bg-sky-500 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Cards"}),E.jsx("button",{onClick:()=>f("grid"),className:`px-3 py-1 rounded-full font-semibold transition-colors ${c==="grid"?"bg-sky-500 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Table"})]})]}),o.length===0?E.jsx("p",{className:"text-gray-400 text-center py-8",children:"No songs match your search and filter criteria."}):E.jsx(E.Fragment,{children:c==="cards"?E.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:o.map((M,X)=>E.jsxs("div",{onClick:()=>R(M,X),className:`bg-gray-700 p-4 rounded-xl shadow-md transition-transform hover:scale-105 cursor-pointer border-2 ${M.isAvailable?"border-teal-500":"border-red-500"}`,children:[E.jsx("h3",{className:"text-lg font-bold text-teal-400",children:Array.isArray(M.title)?M.title.join(", "):M.title}),E.jsxs("p",{className:"text-sm text-gray-300",children:[E.jsx("span",{className:"font-semibold",children:"Author:"})," ",Array.isArray(M.author)?M.author.join(", "):M.author]}),E.jsxs("p",{className:"text-sm text-gray-300",children:[E.jsx("span",{className:"font-semibold",children:"Book:"})," ",Array.isArray(M.book)?M.book.join(", "):M.book]}),E.jsxs("p",{className:"text-sm text-gray-300",children:[E.jsx("span",{className:"font-semibold",children:"Category:"})," ",Array.isArray(M.category)?M.category.join(", "):M.category]}),E.jsxs("p",{className:"text-sm text-gray-300",children:[E.jsx("span",{className:"font-semibold",children:"Language:"})," ",Array.isArray(M.language)?M.language.join(", "):M.language]}),E.jsxs("p",{className:"text-sm text-gray-300",children:[E.jsx("span",{className:"font-semibold",children:"Type:"})," ",Array.isArray(M.type)?M.type.join(", "):M.type]})]},X))}):E.jsx("div",{className:"overflow-x-auto rounded-xl",children:E.jsxs("div",{className:"min-w-full",children:[E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-2 p-4 text-sm font-semibold text-gray-400 uppercase tracking-wider bg-gray-700 border-b border-gray-600 rounded-t-xl",children:[E.jsx("span",{children:"Title"}),E.jsx("span",{className:"hidden md:block",children:"Author"}),E.jsx("span",{className:"hidden md:block",children:"Book"}),E.jsx("span",{className:"hidden md:block",children:"Category"}),E.jsx("span",{className:"hidden md:block",children:"Language"}),E.jsx("span",{className:"hidden md:block",children:"Type"})]}),E.jsx("div",{className:"bg-gray-700",children:o.map((M,X)=>E.jsxs("div",{onClick:()=>R(M,X),className:`grid grid-cols-2 md:grid-cols-6 gap-2 p-4 text-sm border-b transition-colors cursor-pointer hover:bg-gray-600 ${M.isAvailable?"border-teal-500":"border-gray-500"}`,children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Title:"}),E.jsx("span",{children:Array.isArray(M.title)?M.title.join(", "):M.title})]}),E.jsxs("div",{className:"hidden md:flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Author:"}),E.jsx("span",{children:Array.isArray(M.author)?M.author.join(", "):M.author})]}),E.jsxs("div",{className:"hidden md:flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Book:"}),E.jsx("span",{children:Array.isArray(M.book)?M.book.join(", "):M.book})]}),E.jsxs("div",{className:"hidden md:flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Category:"}),E.jsx("span",{children:Array.isArray(M.category)?M.category.join(", "):M.category})]}),E.jsxs("div",{className:"hidden md:flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Language:"}),E.jsx("span",{children:Array.isArray(M.language)?M.language.join(", "):M.language})]}),E.jsxs("div",{className:"hidden md:flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Type:"}),E.jsx("span",{children:Array.isArray(M.type)?M.type.join(", "):M.type})]})]},X))})]})})})]})]})]})})};function zc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var oC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var f=typeof zc=="function"&&zc;if(!c&&f)return f(u,!0);if(a)return a(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var m=i[u]={exports:{}};r[u][0].call(m.exports,function(w){var y=r[u][1][w];return o(y||w)},m,m.exports,n,r,i,s)}return i[u].exports}for(var a=typeof zc=="function"&&zc,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,f,h,m,w,y,x=[],g=0,v=l.length,_=v,T=s.getTypeOf(l)!=="string";g<l.length;)_=v-g,f=T?(u=l[g++],c=g<v?l[g++]:0,g<v?l[g++]:0):(u=l.charCodeAt(g++),c=g<v?l.charCodeAt(g++):0,g<v?l.charCodeAt(g++):0),h=u>>2,m=(3&u)<<4|c>>4,w=1<_?(15&c)<<2|f>>6:64,y=2<_?63&f:64,x.push(a.charAt(h)+a.charAt(m)+a.charAt(w)+a.charAt(y));return x.join("")},i.decode=function(l){var u,c,f,h,m,w,y=0,x=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&_--,l.charAt(l.length-2)===a.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|_):new Array(0|_);y<l.length;)u=a.indexOf(l.charAt(y++))<<2|(h=a.indexOf(l.charAt(y++)))>>4,c=(15&h)<<4|(m=a.indexOf(l.charAt(y++)))>>2,f=(3&m)<<6|(w=a.indexOf(l.charAt(y++))),v[x++]=u,m!==64&&(v[x++]=c),w!==64&&(v[x++]=f);return v}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,f,h,m,w){this.compressedSize=c,this.uncompressedSize=f,this.crc32=h,this.compression=m,this.compressedContent=w}u.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,h){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,c,f,h){var m=o,w=h+f;u^=-1;for(var y=h;y<w;y++)u=u>>>8^m[255&(u^c[y])];return-1^u}(0|l,a,a.length,0):function(u,c,f,h){var m=o,w=h+f;u^=-1;for(var y=h;y<w;y++)u=u>>>8^m[255&(u^c.charCodeAt(y))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=s?"uint8array":"array";function c(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(m,w){var y,x="";for(y=0;y<w;y++)x+=String.fromCharCode(255&m),m>>>=8;return x}function o(m,w,y,x,g,v){var _,T,O=m.file,I=m.compression,R=v!==u.utf8encode,$=a.transformTo("string",v(O.name)),U=a.transformTo("string",u.utf8encode(O.name)),V=O.comment,we=a.transformTo("string",v(V)),F=a.transformTo("string",u.utf8encode(V)),ee=U.length!==O.name.length,A=F.length!==V.length,ue="",Oe="",M="",X=O.dir,Y=O.date,ce={crc32:0,compressedSize:0,uncompressedSize:0};w&&!y||(ce.crc32=m.crc32,ce.compressedSize=m.compressedSize,ce.uncompressedSize=m.uncompressedSize);var G=0;w&&(G|=8),R||!ee&&!A||(G|=2048);var Q=0,oe=0;X&&(Q|=16),g==="UNIX"?(oe=798,Q|=function(me,Me){var Ve=me;return me||(Ve=Me?16893:33204),(65535&Ve)<<16}(O.unixPermissions,X)):(oe=20,Q|=function(me){return 63&(me||0)}(O.dosPermissions)),_=Y.getUTCHours(),_<<=6,_|=Y.getUTCMinutes(),_<<=5,_|=Y.getUTCSeconds()/2,T=Y.getUTCFullYear()-1980,T<<=4,T|=Y.getUTCMonth()+1,T<<=5,T|=Y.getUTCDate(),ee&&(Oe=s(1,1)+s(c($),4)+U,ue+="up"+s(Oe.length,2)+Oe),A&&(M=s(1,1)+s(c(we),4)+F,ue+="uc"+s(M.length,2)+M);var pe="";return pe+=`
\0`,pe+=s(G,2),pe+=I.magic,pe+=s(_,2),pe+=s(T,2),pe+=s(ce.crc32,4),pe+=s(ce.compressedSize,4),pe+=s(ce.uncompressedSize,4),pe+=s($.length,2),pe+=s(ue.length,2),{fileRecord:f.LOCAL_FILE_HEADER+pe+$+ue,dirRecord:f.CENTRAL_FILE_HEADER+s(oe,2)+pe+s(we.length,2)+"\0\0\0\0"+s(Q,4)+s(x,4)+$+ue+we}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),f=n("../signature");function h(m,w,y,x){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=y,this.encodeFileName=x,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,l),h.prototype.push=function(m){var w=m.meta.percent||0,y=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(w+100*(y-x-1))/y:100}}))},h.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var w=this.streamFiles&&!m.file.dir;if(w){var y=o(m,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(m){this.accumulate=!1;var w=this.streamFiles&&!m.file.dir,y=o(m,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),w)this.push({data:function(x){return f.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var m=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var y=this.bytesWritten-m,x=function(g,v,_,T,O){var I=a.transformTo("string",O(T));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(v,4)+s(_,4)+s(I.length,2)+I}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(m){this._sources.push(m);var w=this;return m.on("data",function(y){w.processChunk(y)}),m.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),m.on("error",function(y){w.error(y)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(m){var w=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var y=0;y<w.length;y++)try{w[y].error(m)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,w=0;w<m.length;w++)m[w].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{a.forEach(function(h,m){f++;var w=function(v,_){var T=v||_,O=s[T];if(!O)throw new Error(T+" is not a valid compression method !");return O}(m.options.compression,l.compression),y=m.options.compressionOptions||l.compressionOptions||{},x=m.dir,g=m.date;m._compressWorker(w,y).withStreamInfo("file",{name:h,dir:x,date:g,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(h){c.error(h)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function f(h){return new o.Promise(function(m,w){var y=h.decompressed.getContentWorker().pipe(new u);y.on("error",function(x){w(x)}).on("end",function(){y.streamInfo.crc32!==h.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(h,m){var w=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,m.optimizedBinaryString,m.base64).then(function(y){var x=new l(m);return x.load(y),x}).then(function(y){var x=[o.Promise.resolve(y)],g=y.files;if(m.checkCRC32)for(var v=0;v<g.length;v++)x.push(f(g[v]));return o.Promise.all(x)}).then(function(y){for(var x=y.shift(),g=x.files,v=0;v<g.length;v++){var _=g[v],T=_.fileNameStr,O=s.resolve(_.fileNameStr);w.file(O,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:m.createFolders}),_.dir||(w.file(O).unsafeOriginalName=T)}return x.zipComment.length&&(w.comment=x.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var c=this;a.on("data",function(f,h){c.push(f)||c._helper.pause(),u&&u(h)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(O,I,R){var $,U=a.getTypeOf(I),V=a.extend(R||{},c);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(O=g(O)),V.createFolders&&($=x(O))&&v.call(this,$,!0);var we=U==="string"&&V.binary===!1&&V.base64===!1;R&&R.binary!==void 0||(V.binary=!we),(I instanceof f&&I.uncompressedSize===0||V.dir||!I||I.length===0)&&(V.base64=!1,V.binary=!0,I="",V.compression="STORE",U="string");var F=null;F=I instanceof f||I instanceof l?I:w.isNode&&w.isStream(I)?new y(O,I):a.prepareContent(O,I,V.binary,V.optimizedBinaryString,V.base64);var ee=new h(O,F,V);this.files[O]=ee}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),m=n("./generate"),w=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),x=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var I=O.lastIndexOf("/");return 0<I?O.substring(0,I):""},g=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},v=function(O,I){return I=I!==void 0?I:c.createFolders,O=g(O),this.files[O]||s.call(this,O,null,{dir:!0,createFolders:I}),this.files[O]};function _(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var I,R,$;for(I in this.files)$=this.files[I],(R=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&O(R,$)},filter:function(O){var I=[];return this.forEach(function(R,$){O(R,$)&&I.push($)}),I},file:function(O,I,R){if(arguments.length!==1)return O=this.root+O,s.call(this,O,I,R),this;if(_(O)){var $=O;return this.filter(function(V,we){return!we.dir&&$.test(V)})}var U=this.files[this.root+O];return U&&!U.dir?U:null},folder:function(O){if(!O)return this;if(_(O))return this.filter(function(U,V){return V.dir&&O.test(U)});var I=this.root+O,R=v.call(this,I),$=this.clone();return $.root=R.name,$},remove:function(O){O=this.root+O;var I=this.files[O];if(I||(O.slice(-1)!=="/"&&(O+="/"),I=this.files[O]),I&&!I.dir)delete this.files[O];else for(var R=this.filter(function(U,V){return V.name.slice(0,O.length)===O}),$=0;$<R.length;$++)delete this.files[R[$].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var I,R={};try{if((R=a.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");a.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var $=R.comment||this.comment||"";I=m.generateWorker(this,R,$)}catch(U){(I=new l("error")).error(U)}return new u(I,R.type||"string",R.mimeType)},generateAsync:function(O,I){return this.generateInternalStream(O).accumulate(I)},generateNodeStream:function(O,I){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(I)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===c&&this.data[h+3]===f)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&c===h[2]&&f===h[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new u(f):o.uint8array?new c(s.transformTo("uint8array",f)):new a(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(w,y){return new c.Promise(function(x,g){var v=[],_=w._internalType,T=w._outputType,O=w._mimeType;w.on("data",function(I,R){v.push(I),y&&y(R)}).on("error",function(I){v=[],g(I)}).on("end",function(){try{var I=function(R,$,U){switch(R){case"blob":return s.newBlob(s.transformTo("arraybuffer",$),U);case"base64":return l.encode($);default:return s.transformTo(R,$)}}(T,function(R,$){var U,V=0,we=null,F=0;for(U=0;U<$.length;U++)F+=$[U].length;switch(R){case"string":return $.join("");case"array":return Array.prototype.concat.apply([],$);case"uint8array":for(we=new Uint8Array(F),U=0;U<$.length;U++)we.set($[U],V),V+=$[U].length;return we;case"nodebuffer":return Buffer.concat($);default:throw new Error("concat : unsupported type '"+R+"'")}}(_,v),O);x(I)}catch(R){g(R)}v=[]}).resume()})}function m(w,y,x){var g=y;switch(y){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=y,this._mimeType=x,s.checkSupport(g),this._worker=w.pipe(new o(g)),w.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}m.prototype={accumulate:function(w){return h(this,w)},on:function(w,y){var x=this;return w==="data"?this._worker.on(w,function(g){y.call(x,g.data,g.meta)}):this._worker.on(w,function(){s.delay(y,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},w)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return o.nodebuffer?a.newBufferFrom(m,"utf-8"):function(w){var y,x,g,v,_,T=w.length,O=0;for(v=0;v<T;v++)(64512&(x=w.charCodeAt(v)))==55296&&v+1<T&&(64512&(g=w.charCodeAt(v+1)))==56320&&(x=65536+(x-55296<<10)+(g-56320),v++),O+=x<128?1:x<2048?2:x<65536?3:4;for(y=o.uint8array?new Uint8Array(O):new Array(O),v=_=0;_<O;v++)(64512&(x=w.charCodeAt(v)))==55296&&v+1<T&&(64512&(g=w.charCodeAt(v+1)))==56320&&(x=65536+(x-55296<<10)+(g-56320),v++),x<128?y[_++]=x:(x<2048?y[_++]=192|x>>>6:(x<65536?y[_++]=224|x>>>12:(y[_++]=240|x>>>18,y[_++]=128|x>>>12&63),y[_++]=128|x>>>6&63),y[_++]=128|63&x);return y}(m)},i.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(w){var y,x,g,v,_=w.length,T=new Array(2*_);for(y=x=0;y<_;)if((g=w[y++])<128)T[x++]=g;else if(4<(v=u[g]))T[x++]=65533,y+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&y<_;)g=g<<6|63&w[y++],v--;1<v?T[x++]=65533:g<65536?T[x++]=g:(g-=65536,T[x++]=55296|g>>10&1023,T[x++]=56320|1023&g)}return T.length!==x&&(T.subarray?T=T.subarray(0,x):T.length=x),s.applyFromCharCode(T)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(f,l),f.prototype.processChunk=function(m){var w=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=w;(w=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),w.set(y,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var x=function(v,_){var T;for((_=_||v.length)>v.length&&(_=v.length),T=_-1;0<=T&&(192&v[T])==128;)T--;return T<0||T===0?_:T+u[v[T]]>_?T:_}(w),g=w;x!==w.length&&(o.uint8array?(g=w.subarray(0,x),this.leftOver=w.subarray(x,w.length)):(g=w.slice(0,x),this.leftOver=w.slice(x,w.length))),this.push({data:i.utf8decode(g),meta:m.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,l),h.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(y){return y}function c(y,x){for(var g=0;g<y.length;++g)x[g]=255&y.charCodeAt(g);return x}n("setimmediate"),i.newBlob=function(y,x){i.checkSupport("blob");try{return new Blob([y],{type:x})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(y),g.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(y,x,g){var v=[],_=0,T=y.length;if(T<=g)return String.fromCharCode.apply(null,y);for(;_<T;)x==="array"||x==="nodebuffer"?v.push(String.fromCharCode.apply(null,y.slice(_,Math.min(_+g,T)))):v.push(String.fromCharCode.apply(null,y.subarray(_,Math.min(_+g,T)))),_+=g;return v.join("")},stringifyByChar:function(y){for(var x="",g=0;g<y.length;g++)x+=String.fromCharCode(y[g]);return x},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(y){var x=65536,g=i.getTypeOf(y),v=!0;if(g==="uint8array"?v=f.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=f.applyCanBeUsed.nodebuffer),v)for(;1<x;)try{return f.stringifyByChunk(y,g,x)}catch{x=Math.floor(x/2)}return f.stringifyByChar(y)}function m(y,x){for(var g=0;g<y.length;g++)x[g]=y[g];return x}i.applyFromCharCode=h;var w={};w.string={string:u,array:function(y){return c(y,new Array(y.length))},arraybuffer:function(y){return w.string.uint8array(y).buffer},uint8array:function(y){return c(y,new Uint8Array(y.length))},nodebuffer:function(y){return c(y,a.allocBuffer(y.length))}},w.array={string:h,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},w.arraybuffer={string:function(y){return h(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},w.uint8array={string:h,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return a.newBufferFrom(y)}},w.nodebuffer={string:h,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return w.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:u},i.transformTo=function(y,x){if(x=x||"",!y)return x;i.checkSupport(y);var g=i.getTypeOf(x);return w[g][y](x)},i.resolve=function(y){for(var x=y.split("/"),g=[],v=0;v<x.length;v++){var _=x[v];_==="."||_===""&&v!==0&&v!==x.length-1||(_===".."?g.pop():g.push(_))}return g.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var x,g,v="";for(g=0;g<(y||"").length;g++)v+="\\x"+((x=y.charCodeAt(g))<16?"0":"")+x.toString(16).toUpperCase();return v},i.delay=function(y,x,g){setImmediate(function(){y.apply(g||null,x||[])})},i.inherits=function(y,x){function g(){}g.prototype=x.prototype,y.prototype=new g},i.extend=function(){var y,x,g={};for(y=0;y<arguments.length;y++)for(x in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],x)&&g[x]===void 0&&(g[x]=arguments[y][x]);return g},i.prepareContent=function(y,x,g,v,_){return l.Promise.resolve(x).then(function(T){return s.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new l.Promise(function(O,I){var R=new FileReader;R.onload=function($){O($.target.result)},R.onerror=function($){I($.target.error)},R.readAsArrayBuffer(T)}):T}).then(function(T){var O=i.getTypeOf(T);return O?(O==="arraybuffer"?T=i.transformTo("uint8array",T):O==="string"&&(_?T=o.decode(T):g&&v!==!0&&(T=function(I){return c(I,s.uint8array?new Uint8Array(I.length):new Array(I.length))}(T))),T):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(f)+")")}},isSignature:function(f,h){var m=this.reader.index;this.reader.setIndex(f);var w=this.reader.readString(4)===h;return this.reader.setIndex(m),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",m=o.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,m,w=this.zip64EndOfCentralSize-44;0<w;)f=this.reader.readInt(2),h=this.reader.readInt(4),m=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var w=h-m;if(0<w)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),f=n("./support");function h(m,w){this.options=m,this.loadOptions=w}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var w,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(x){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===x)return c[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,w,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var w=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(w),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var w,y,x,g=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<g;)w=m.readInt(2),y=m.readInt(2),x=m.readData(y),this.extraFields[w]={id:w,length:y,value:x};m.setIndex(g)},handleUTF8:function(){var m=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var y=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var g=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var w=s(m.value);return w.readInt(1)!==1||l(this.fileName)!==w.readInt(4)?null:u.utf8decode(w.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var w=s(m.value);return w.readInt(1)!==1||l(this.fileComment)!==w.readInt(4)?null:u.utf8decode(w.readData(m.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(w,y,x){this.name=w,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=y,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");s.prototype={internalStream:function(w){var y=null,x="string";try{if(!w)throw new Error("No output type specified.");var g=(x=w.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),y=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(y=y.pipe(new l.Utf8EncodeWorker)),!v&&g&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(_){(y=new c("error")).error(_)}return new o(y,x,"")},async:function(w,y){return this.internalStream(w).accumulate(y)},nodeStream:function(w,y){return this.internalStream(w||"nodebuffer").toNodejsStream(y)},_compressWorker:function(w,y){if(this._data instanceof u&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(x,w,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<f.length;m++)s.prototype[f[m]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(w),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){w(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(w,0)};else{var h=new s.MessageChannel;h.port1.onmessage=w,o=function(){h.port2.postMessage(0)}}var m=[];function w(){var y,x;a=!0;for(var g=m.length;g;){for(x=m,m=[],y=-1;++y<g;)x[y]();g=m.length}a=!1}r.exports=function(y){m.push(y)!==1||a||o()}}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==o&&y(this,g)}function h(g,v,_){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function m(g,v,_){s(function(){var T;try{T=v(_)}catch(O){return a.reject(g,O)}T===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,T)})}function w(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function y(g,v){var _=!1;function T(R){_||(_=!0,a.reject(g,R))}function O(R){_||(_=!0,a.resolve(g,R))}var I=x(function(){v(O,T)});I.status==="error"&&T(I.value)}function x(g,v){var _={};try{_.value=g(v),_.status="success"}catch(T){_.status="error",_.value=T}return _}(r.exports=f).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(_){return v.resolve(g()).then(function(){return _})},function(_){return v.resolve(g()).then(function(){throw _})})},f.prototype.catch=function(g){return this.then(null,g)},f.prototype.then=function(g,v){if(typeof g!="function"&&this.state===u||typeof v!="function"&&this.state===l)return this;var _=new this.constructor(o);return this.state!==c?m(_,this.state===u?g:v,this.outcome):this.queue.push(new h(_,g,v)),_},h.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){m(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){a.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){m(this.promise,this.onRejected,g)},a.resolve=function(g,v){var _=x(w,v);if(_.status==="error")return a.reject(g,_.value);var T=_.value;if(T)y(g,T);else{g.state=u,g.outcome=v;for(var O=-1,I=g.queue.length;++O<I;)g.queue[O].callFulfilled(v)}return g},a.reject=function(g,v){g.state=l,g.outcome=v;for(var _=-1,T=g.queue.length;++_<T;)g.queue[_].callRejected(v);return g},f.resolve=function(g){return g instanceof this?g:a.resolve(new this(o),g)},f.reject=function(g){var v=new this(o);return a.reject(v,g)},f.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,T=!1;if(!_)return this.resolve([]);for(var O=new Array(_),I=0,R=-1,$=new this(o);++R<_;)U(g[R],R);return $;function U(V,we){v.resolve(V).then(function(F){O[we]=F,++I!==_||T||(T=!0,a.resolve($,O))},function(F){T||(T=!0,a.reject($,F))})}},f.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,T=!1;if(!_)return this.resolve([]);for(var O=-1,I=new this(o);++O<_;)R=g[O],v.resolve(R).then(function($){T||(T=!0,a.resolve(I,$))},function($){T||(T=!0,a.reject(I,$))});var R;return I}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,f=0,h=-1,m=0,w=8;function y(g){if(!(this instanceof y))return new y(g);this.options=o.assign({level:h,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=s.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(_!==f)throw new Error(l[_]);if(v.header&&s.deflateSetHeader(this.strm,v.header),v.dictionary){var T;if(T=typeof v.dictionary=="string"?a.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(_=s.deflateSetDictionary(this.strm,T))!==f)throw new Error(l[_]);this._dict_set=!0}}function x(g,v){var _=new y(v);if(_.push(g,!0),_.err)throw _.msg||l[_.err];return _.result}y.prototype.push=function(g,v){var _,T,O=this.strm,I=this.options.chunkSize;if(this.ended)return!1;T=v===~~v?v:v===!0?4:0,typeof g=="string"?O.input=a.string2buf(g):c.call(g)==="[object ArrayBuffer]"?O.input=new Uint8Array(g):O.input=g,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new o.Buf8(I),O.next_out=0,O.avail_out=I),(_=s.deflate(O,T))!==1&&_!==f)return this.onEnd(_),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(O.output,O.next_out))):this.onData(o.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&_!==1);return T===4?(_=s.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===f):T!==2||(this.onEnd(f),!(O.avail_out=0))},y.prototype.onData=function(g){this.chunks.push(g)},y.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=y,i.deflate=x,i.deflateRaw=function(g,v){return(v=v||{}).raw=!0,x(g,v)},i.gzip=function(g,v){return(v=v||{}).gzip=!0,x(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||y&&y.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,x.windowBits);if(g!==l.Z_OK)throw new Error(u[g]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function w(y,x){var g=new m(x);if(g.push(y,!0),g.err)throw g.msg||u[g.err];return g.result}m.prototype.push=function(y,x){var g,v,_,T,O,I,R=this.strm,$=this.options.chunkSize,U=this.options.dictionary,V=!1;if(this.ended)return!1;v=x===~~x?x:x===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?R.input=a.binstring2buf(y):h.call(y)==="[object ArrayBuffer]"?R.input=new Uint8Array(y):R.input=y,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8($),R.next_out=0,R.avail_out=$),(g=s.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&U&&(I=typeof U=="string"?a.string2buf(U):h.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,g=s.inflateSetDictionary(this.strm,I)),g===l.Z_BUF_ERROR&&V===!0&&(g=l.Z_OK,V=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&g!==l.Z_STREAM_END&&(R.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=a.utf8border(R.output,R.next_out),T=R.next_out-_,O=a.buf2string(R.output,_),R.next_out=T,R.avail_out=$-T,T&&o.arraySet(R.output,R.output,_,T,0),this.onData(O)):this.onData(o.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(V=!0)}while((0<R.avail_in||R.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=w,i.inflateRaw=function(y,x){return(x=x||{}).raw=!0,w(y,x)},i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,f,h){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),h);else for(var m=0;m<f;m++)l[h+m]=u[c+m]},flattenChunks:function(l){var u,c,f,h,m,w;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(w=new Uint8Array(f),u=h=0,c=l.length;u<c;u++)m=l[u],w.set(m,h),h+=m.length;return w}},a={arraySet:function(l,u,c,f,h){for(var m=0;m<f;m++)l[h+m]=u[c+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,h){if(h<65537&&(f.subarray&&a||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var m="",w=0;w<h;w++)m+=String.fromCharCode(f[w]);return m}l[254]=l[254]=1,i.string2buf=function(f){var h,m,w,y,x,g=f.length,v=0;for(y=0;y<g;y++)(64512&(m=f.charCodeAt(y)))==55296&&y+1<g&&(64512&(w=f.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(w-56320),y++),v+=m<128?1:m<2048?2:m<65536?3:4;for(h=new s.Buf8(v),y=x=0;x<v;y++)(64512&(m=f.charCodeAt(y)))==55296&&y+1<g&&(64512&(w=f.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(w-56320),y++),m<128?h[x++]=m:(m<2048?h[x++]=192|m>>>6:(m<65536?h[x++]=224|m>>>12:(h[x++]=240|m>>>18,h[x++]=128|m>>>12&63),h[x++]=128|m>>>6&63),h[x++]=128|63&m);return h},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),m=0,w=h.length;m<w;m++)h[m]=f.charCodeAt(m);return h},i.buf2string=function(f,h){var m,w,y,x,g=h||f.length,v=new Array(2*g);for(m=w=0;m<g;)if((y=f[m++])<128)v[w++]=y;else if(4<(x=l[y]))v[w++]=65533,m+=x-1;else{for(y&=x===2?31:x===3?15:7;1<x&&m<g;)y=y<<6|63&f[m++],x--;1<x?v[w++]=65533:y<65536?v[w++]=y:(y-=65536,v[w++]=55296|y>>10&1023,v[w++]=56320|1023&y)}return c(v,w)},i.utf8border=function(f,h){var m;for((h=h||f.length)>f.length&&(h=f.length),m=h-1;0<=m&&(192&f[m])==128;)m--;return m<0||m===0?h:m+l[f[m]]>h?m:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var u=65535&s|0,c=s>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var c=s,f=u+l;o^=-1;for(var h=u;h<f;h++)o=o>>>8^c[255&(o^a[h])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),f=0,h=4,m=0,w=-2,y=-1,x=4,g=2,v=8,_=9,T=286,O=30,I=19,R=2*T+1,$=15,U=3,V=258,we=V+U+1,F=42,ee=113,A=1,ue=2,Oe=3,M=4;function X(P,he){return P.msg=c[he],he}function Y(P){return(P<<1)-(4<P?9:0)}function ce(P){for(var he=P.length;0<=--he;)P[he]=0}function G(P){var he=P.state,de=he.pending;de>P.avail_out&&(de=P.avail_out),de!==0&&(o.arraySet(P.output,he.pending_buf,he.pending_out,de,P.next_out),P.next_out+=de,he.pending_out+=de,P.total_out+=de,P.avail_out-=de,he.pending-=de,he.pending===0&&(he.pending_out=0))}function Q(P,he){a._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,he),P.block_start=P.strstart,G(P.strm)}function oe(P,he){P.pending_buf[P.pending++]=he}function pe(P,he){P.pending_buf[P.pending++]=he>>>8&255,P.pending_buf[P.pending++]=255&he}function me(P,he){var de,L,N=P.max_chain_length,ne=P.strstart,ge=P.prev_length,ye=P.nice_match,ae=P.strstart>P.w_size-we?P.strstart-(P.w_size-we):0,_e=P.window,Ie=P.w_mask,xe=P.prev,Fe=P.strstart+V,nt=_e[ne+ge-1],Ze=_e[ne+ge];P.prev_length>=P.good_match&&(N>>=2),ye>P.lookahead&&(ye=P.lookahead);do if(_e[(de=he)+ge]===Ze&&_e[de+ge-1]===nt&&_e[de]===_e[ne]&&_e[++de]===_e[ne+1]){ne+=2,de++;do;while(_e[++ne]===_e[++de]&&_e[++ne]===_e[++de]&&_e[++ne]===_e[++de]&&_e[++ne]===_e[++de]&&_e[++ne]===_e[++de]&&_e[++ne]===_e[++de]&&_e[++ne]===_e[++de]&&_e[++ne]===_e[++de]&&ne<Fe);if(L=V-(Fe-ne),ne=Fe-V,ge<L){if(P.match_start=he,ye<=(ge=L))break;nt=_e[ne+ge-1],Ze=_e[ne+ge]}}while((he=xe[he&Ie])>ae&&--N!=0);return ge<=P.lookahead?ge:P.lookahead}function Me(P){var he,de,L,N,ne,ge,ye,ae,_e,Ie,xe=P.w_size;do{if(N=P.window_size-P.lookahead-P.strstart,P.strstart>=xe+(xe-we)){for(o.arraySet(P.window,P.window,xe,xe,0),P.match_start-=xe,P.strstart-=xe,P.block_start-=xe,he=de=P.hash_size;L=P.head[--he],P.head[he]=xe<=L?L-xe:0,--de;);for(he=de=xe;L=P.prev[--he],P.prev[he]=xe<=L?L-xe:0,--de;);N+=xe}if(P.strm.avail_in===0)break;if(ge=P.strm,ye=P.window,ae=P.strstart+P.lookahead,_e=N,Ie=void 0,Ie=ge.avail_in,_e<Ie&&(Ie=_e),de=Ie===0?0:(ge.avail_in-=Ie,o.arraySet(ye,ge.input,ge.next_in,Ie,ae),ge.state.wrap===1?ge.adler=l(ge.adler,ye,Ie,ae):ge.state.wrap===2&&(ge.adler=u(ge.adler,ye,Ie,ae)),ge.next_in+=Ie,ge.total_in+=Ie,Ie),P.lookahead+=de,P.lookahead+P.insert>=U)for(ne=P.strstart-P.insert,P.ins_h=P.window[ne],P.ins_h=(P.ins_h<<P.hash_shift^P.window[ne+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[ne+U-1])&P.hash_mask,P.prev[ne&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=ne,ne++,P.insert--,!(P.lookahead+P.insert<U)););}while(P.lookahead<we&&P.strm.avail_in!==0)}function Ve(P,he){for(var de,L;;){if(P.lookahead<we){if(Me(P),P.lookahead<we&&he===f)return A;if(P.lookahead===0)break}if(de=0,P.lookahead>=U&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+U-1])&P.hash_mask,de=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),de!==0&&P.strstart-de<=P.w_size-we&&(P.match_length=me(P,de)),P.match_length>=U)if(L=a._tr_tally(P,P.strstart-P.match_start,P.match_length-U),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=U){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+U-1])&P.hash_mask,de=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else L=a._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(L&&(Q(P,!1),P.strm.avail_out===0))return A}return P.insert=P.strstart<U-1?P.strstart:U-1,he===h?(Q(P,!0),P.strm.avail_out===0?Oe:M):P.last_lit&&(Q(P,!1),P.strm.avail_out===0)?A:ue}function Be(P,he){for(var de,L,N;;){if(P.lookahead<we){if(Me(P),P.lookahead<we&&he===f)return A;if(P.lookahead===0)break}if(de=0,P.lookahead>=U&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+U-1])&P.hash_mask,de=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=U-1,de!==0&&P.prev_length<P.max_lazy_match&&P.strstart-de<=P.w_size-we&&(P.match_length=me(P,de),P.match_length<=5&&(P.strategy===1||P.match_length===U&&4096<P.strstart-P.match_start)&&(P.match_length=U-1)),P.prev_length>=U&&P.match_length<=P.prev_length){for(N=P.strstart+P.lookahead-U,L=a._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-U),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=N&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+U-1])&P.hash_mask,de=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=U-1,P.strstart++,L&&(Q(P,!1),P.strm.avail_out===0))return A}else if(P.match_available){if((L=a._tr_tally(P,0,P.window[P.strstart-1]))&&Q(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return A}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(L=a._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<U-1?P.strstart:U-1,he===h?(Q(P,!0),P.strm.avail_out===0?Oe:M):P.last_lit&&(Q(P,!1),P.strm.avail_out===0)?A:ue}function be(P,he,de,L,N){this.good_length=P,this.max_lazy=he,this.nice_length=de,this.max_chain=L,this.func=N}function Ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*R),this.dyn_dtree=new o.Buf16(2*(2*O+1)),this.bl_tree=new o.Buf16(2*(2*I+1)),ce(this.dyn_ltree),ce(this.dyn_dtree),ce(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16($+1),this.heap=new o.Buf16(2*T+1),ce(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*T+1),ce(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ut(P){var he;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=g,(he=P.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?F:ee,P.adler=he.wrap===2?0:1,he.last_flush=f,a._tr_init(he),m):X(P,w)}function He(P){var he=ut(P);return he===m&&function(de){de.window_size=2*de.w_size,ce(de.head),de.max_lazy_match=s[de.level].max_lazy,de.good_match=s[de.level].good_length,de.nice_match=s[de.level].nice_length,de.max_chain_length=s[de.level].max_chain,de.strstart=0,de.block_start=0,de.lookahead=0,de.insert=0,de.match_length=de.prev_length=U-1,de.match_available=0,de.ins_h=0}(P.state),he}function Ft(P,he,de,L,N,ne){if(!P)return w;var ge=1;if(he===y&&(he=6),L<0?(ge=0,L=-L):15<L&&(ge=2,L-=16),N<1||_<N||de!==v||L<8||15<L||he<0||9<he||ne<0||x<ne)return X(P,w);L===8&&(L=9);var ye=new Ge;return(P.state=ye).strm=P,ye.wrap=ge,ye.gzhead=null,ye.w_bits=L,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=N+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+U-1)/U),ye.window=new o.Buf8(2*ye.w_size),ye.head=new o.Buf16(ye.hash_size),ye.prev=new o.Buf16(ye.w_size),ye.lit_bufsize=1<<N+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new o.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=he,ye.strategy=ne,ye.method=de,He(P)}s=[new be(0,0,0,0,function(P,he){var de=65535;for(de>P.pending_buf_size-5&&(de=P.pending_buf_size-5);;){if(P.lookahead<=1){if(Me(P),P.lookahead===0&&he===f)return A;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var L=P.block_start+de;if((P.strstart===0||P.strstart>=L)&&(P.lookahead=P.strstart-L,P.strstart=L,Q(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-we&&(Q(P,!1),P.strm.avail_out===0))return A}return P.insert=0,he===h?(Q(P,!0),P.strm.avail_out===0?Oe:M):(P.strstart>P.block_start&&(Q(P,!1),P.strm.avail_out),A)}),new be(4,4,8,4,Ve),new be(4,5,16,8,Ve),new be(4,6,32,32,Ve),new be(4,4,16,16,Be),new be(8,16,32,32,Be),new be(8,16,128,128,Be),new be(8,32,128,256,Be),new be(32,128,258,1024,Be),new be(32,258,258,4096,Be)],i.deflateInit=function(P,he){return Ft(P,he,v,15,8,0)},i.deflateInit2=Ft,i.deflateReset=He,i.deflateResetKeep=ut,i.deflateSetHeader=function(P,he){return P&&P.state?P.state.wrap!==2?w:(P.state.gzhead=he,m):w},i.deflate=function(P,he){var de,L,N,ne;if(!P||!P.state||5<he||he<0)return P?X(P,w):w;if(L=P.state,!P.output||!P.input&&P.avail_in!==0||L.status===666&&he!==h)return X(P,P.avail_out===0?-5:w);if(L.strm=P,de=L.last_flush,L.last_flush=he,L.status===F)if(L.wrap===2)P.adler=0,oe(L,31),oe(L,139),oe(L,8),L.gzhead?(oe(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),oe(L,255&L.gzhead.time),oe(L,L.gzhead.time>>8&255),oe(L,L.gzhead.time>>16&255),oe(L,L.gzhead.time>>24&255),oe(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),oe(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&(oe(L,255&L.gzhead.extra.length),oe(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(P.adler=u(P.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):(oe(L,0),oe(L,0),oe(L,0),oe(L,0),oe(L,0),oe(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),oe(L,3),L.status=ee);else{var ge=v+(L.w_bits-8<<4)<<8;ge|=(2<=L.strategy||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(ge|=32),ge+=31-ge%31,L.status=ee,pe(L,ge),L.strstart!==0&&(pe(L,P.adler>>>16),pe(L,65535&P.adler)),P.adler=1}if(L.status===69)if(L.gzhead.extra){for(N=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),G(P),N=L.pending,L.pending!==L.pending_buf_size));)oe(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){N=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),G(P),N=L.pending,L.pending===L.pending_buf_size)){ne=1;break}ne=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,oe(L,ne)}while(ne!==0);L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),ne===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){N=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),G(P),N=L.pending,L.pending===L.pending_buf_size)){ne=1;break}ne=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,oe(L,ne)}while(ne!==0);L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),ne===0&&(L.status=103)}else L.status=103;if(L.status===103&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&G(P),L.pending+2<=L.pending_buf_size&&(oe(L,255&P.adler),oe(L,P.adler>>8&255),P.adler=0,L.status=ee)):L.status=ee),L.pending!==0){if(G(P),P.avail_out===0)return L.last_flush=-1,m}else if(P.avail_in===0&&Y(he)<=Y(de)&&he!==h)return X(P,-5);if(L.status===666&&P.avail_in!==0)return X(P,-5);if(P.avail_in!==0||L.lookahead!==0||he!==f&&L.status!==666){var ye=L.strategy===2?function(ae,_e){for(var Ie;;){if(ae.lookahead===0&&(Me(ae),ae.lookahead===0)){if(_e===f)return A;break}if(ae.match_length=0,Ie=a._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,Ie&&(Q(ae,!1),ae.strm.avail_out===0))return A}return ae.insert=0,_e===h?(Q(ae,!0),ae.strm.avail_out===0?Oe:M):ae.last_lit&&(Q(ae,!1),ae.strm.avail_out===0)?A:ue}(L,he):L.strategy===3?function(ae,_e){for(var Ie,xe,Fe,nt,Ze=ae.window;;){if(ae.lookahead<=V){if(Me(ae),ae.lookahead<=V&&_e===f)return A;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=U&&0<ae.strstart&&(xe=Ze[Fe=ae.strstart-1])===Ze[++Fe]&&xe===Ze[++Fe]&&xe===Ze[++Fe]){nt=ae.strstart+V;do;while(xe===Ze[++Fe]&&xe===Ze[++Fe]&&xe===Ze[++Fe]&&xe===Ze[++Fe]&&xe===Ze[++Fe]&&xe===Ze[++Fe]&&xe===Ze[++Fe]&&xe===Ze[++Fe]&&Fe<nt);ae.match_length=V-(nt-Fe),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=U?(Ie=a._tr_tally(ae,1,ae.match_length-U),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(Ie=a._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),Ie&&(Q(ae,!1),ae.strm.avail_out===0))return A}return ae.insert=0,_e===h?(Q(ae,!0),ae.strm.avail_out===0?Oe:M):ae.last_lit&&(Q(ae,!1),ae.strm.avail_out===0)?A:ue}(L,he):s[L.level].func(L,he);if(ye!==Oe&&ye!==M||(L.status=666),ye===A||ye===Oe)return P.avail_out===0&&(L.last_flush=-1),m;if(ye===ue&&(he===1?a._tr_align(L):he!==5&&(a._tr_stored_block(L,0,0,!1),he===3&&(ce(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),G(P),P.avail_out===0))return L.last_flush=-1,m}return he!==h?m:L.wrap<=0?1:(L.wrap===2?(oe(L,255&P.adler),oe(L,P.adler>>8&255),oe(L,P.adler>>16&255),oe(L,P.adler>>24&255),oe(L,255&P.total_in),oe(L,P.total_in>>8&255),oe(L,P.total_in>>16&255),oe(L,P.total_in>>24&255)):(pe(L,P.adler>>>16),pe(L,65535&P.adler)),G(P),0<L.wrap&&(L.wrap=-L.wrap),L.pending!==0?m:1)},i.deflateEnd=function(P){var he;return P&&P.state?(he=P.state.status)!==F&&he!==69&&he!==73&&he!==91&&he!==103&&he!==ee&&he!==666?X(P,w):(P.state=null,he===ee?X(P,-3):m):w},i.deflateSetDictionary=function(P,he){var de,L,N,ne,ge,ye,ae,_e,Ie=he.length;if(!P||!P.state||(ne=(de=P.state).wrap)===2||ne===1&&de.status!==F||de.lookahead)return w;for(ne===1&&(P.adler=l(P.adler,he,Ie,0)),de.wrap=0,Ie>=de.w_size&&(ne===0&&(ce(de.head),de.strstart=0,de.block_start=0,de.insert=0),_e=new o.Buf8(de.w_size),o.arraySet(_e,he,Ie-de.w_size,de.w_size,0),he=_e,Ie=de.w_size),ge=P.avail_in,ye=P.next_in,ae=P.input,P.avail_in=Ie,P.next_in=0,P.input=he,Me(de);de.lookahead>=U;){for(L=de.strstart,N=de.lookahead-(U-1);de.ins_h=(de.ins_h<<de.hash_shift^de.window[L+U-1])&de.hash_mask,de.prev[L&de.w_mask]=de.head[de.ins_h],de.head[de.ins_h]=L,L++,--N;);de.strstart=L,de.lookahead=U-1,Me(de)}return de.strstart+=de.lookahead,de.block_start=de.strstart,de.insert=de.lookahead,de.lookahead=0,de.match_length=de.prev_length=U-1,de.match_available=0,P.next_in=ye,P.input=ae,P.avail_in=ge,de.wrap=ne,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,u,c,f,h,m,w,y,x,g,v,_,T,O,I,R,$,U,V,we,F,ee,A,ue;a=s.state,l=s.next_in,A=s.input,u=l+(s.avail_in-5),c=s.next_out,ue=s.output,f=c-(o-s.avail_out),h=c+(s.avail_out-257),m=a.dmax,w=a.wsize,y=a.whave,x=a.wnext,g=a.window,v=a.hold,_=a.bits,T=a.lencode,O=a.distcode,I=(1<<a.lenbits)-1,R=(1<<a.distbits)-1;e:do{_<15&&(v+=A[l++]<<_,_+=8,v+=A[l++]<<_,_+=8),$=T[v&I];t:for(;;){if(v>>>=U=$>>>24,_-=U,(U=$>>>16&255)===0)ue[c++]=65535&$;else{if(!(16&U)){if(!(64&U)){$=T[(65535&$)+(v&(1<<U)-1)];continue t}if(32&U){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}V=65535&$,(U&=15)&&(_<U&&(v+=A[l++]<<_,_+=8),V+=v&(1<<U)-1,v>>>=U,_-=U),_<15&&(v+=A[l++]<<_,_+=8,v+=A[l++]<<_,_+=8),$=O[v&R];n:for(;;){if(v>>>=U=$>>>24,_-=U,!(16&(U=$>>>16&255))){if(!(64&U)){$=O[(65535&$)+(v&(1<<U)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(we=65535&$,_<(U&=15)&&(v+=A[l++]<<_,(_+=8)<U&&(v+=A[l++]<<_,_+=8)),m<(we+=v&(1<<U)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=U,_-=U,(U=c-f)<we){if(y<(U=we-U)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(ee=g,(F=0)===x){if(F+=w-U,U<V){for(V-=U;ue[c++]=g[F++],--U;);F=c-we,ee=ue}}else if(x<U){if(F+=w+x-U,(U-=x)<V){for(V-=U;ue[c++]=g[F++],--U;);if(F=0,x<V){for(V-=U=x;ue[c++]=g[F++],--U;);F=c-we,ee=ue}}}else if(F+=x-U,U<V){for(V-=U;ue[c++]=g[F++],--U;);F=c-we,ee=ue}for(;2<V;)ue[c++]=ee[F++],ue[c++]=ee[F++],ue[c++]=ee[F++],V-=3;V&&(ue[c++]=ee[F++],1<V&&(ue[c++]=ee[F++]))}else{for(F=c-we;ue[c++]=ue[F++],ue[c++]=ue[F++],ue[c++]=ue[F++],2<(V-=3););V&&(ue[c++]=ue[F++],1<V&&(ue[c++]=ue[F++]))}break}}break}}while(l<u&&c<h);l-=V=_>>3,v&=(1<<(_-=V<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<h?h-c+257:257-(c-h),a.hold=v,a.bits=_}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,f=2,h=0,m=-2,w=1,y=852,x=592;function g(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(F){var ee;return F&&F.state?(ee=F.state,F.total_in=F.total_out=ee.total=0,F.msg="",ee.wrap&&(F.adler=1&ee.wrap),ee.mode=w,ee.last=0,ee.havedict=0,ee.dmax=32768,ee.head=null,ee.hold=0,ee.bits=0,ee.lencode=ee.lendyn=new s.Buf32(y),ee.distcode=ee.distdyn=new s.Buf32(x),ee.sane=1,ee.back=-1,h):m}function T(F){var ee;return F&&F.state?((ee=F.state).wsize=0,ee.whave=0,ee.wnext=0,_(F)):m}function O(F,ee){var A,ue;return F&&F.state?(ue=F.state,ee<0?(A=0,ee=-ee):(A=1+(ee>>4),ee<48&&(ee&=15)),ee&&(ee<8||15<ee)?m:(ue.window!==null&&ue.wbits!==ee&&(ue.window=null),ue.wrap=A,ue.wbits=ee,T(F))):m}function I(F,ee){var A,ue;return F?(ue=new v,(F.state=ue).window=null,(A=O(F,ee))!==h&&(F.state=null),A):m}var R,$,U=!0;function V(F){if(U){var ee;for(R=new s.Buf32(512),$=new s.Buf32(32),ee=0;ee<144;)F.lens[ee++]=8;for(;ee<256;)F.lens[ee++]=9;for(;ee<280;)F.lens[ee++]=7;for(;ee<288;)F.lens[ee++]=8;for(u(c,F.lens,0,288,R,0,F.work,{bits:9}),ee=0;ee<32;)F.lens[ee++]=5;u(f,F.lens,0,32,$,0,F.work,{bits:5}),U=!1}F.lencode=R,F.lenbits=9,F.distcode=$,F.distbits=5}function we(F,ee,A,ue){var Oe,M=F.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new s.Buf8(M.wsize)),ue>=M.wsize?(s.arraySet(M.window,ee,A-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(ue<(Oe=M.wsize-M.wnext)&&(Oe=ue),s.arraySet(M.window,ee,A-ue,Oe,M.wnext),(ue-=Oe)?(s.arraySet(M.window,ee,A-ue,ue,0),M.wnext=ue,M.whave=M.wsize):(M.wnext+=Oe,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=Oe))),0}i.inflateReset=T,i.inflateReset2=O,i.inflateResetKeep=_,i.inflateInit=function(F){return I(F,15)},i.inflateInit2=I,i.inflate=function(F,ee){var A,ue,Oe,M,X,Y,ce,G,Q,oe,pe,me,Me,Ve,Be,be,Ge,ut,He,Ft,P,he,de,L,N=0,ne=new s.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return m;(A=F.state).mode===12&&(A.mode=13),X=F.next_out,Oe=F.output,ce=F.avail_out,M=F.next_in,ue=F.input,Y=F.avail_in,G=A.hold,Q=A.bits,oe=Y,pe=ce,he=h;e:for(;;)switch(A.mode){case w:if(A.wrap===0){A.mode=13;break}for(;Q<16;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}if(2&A.wrap&&G===35615){ne[A.check=0]=255&G,ne[1]=G>>>8&255,A.check=a(A.check,ne,2,0),Q=G=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&G)<<8)+(G>>8))%31){F.msg="incorrect header check",A.mode=30;break}if((15&G)!=8){F.msg="unknown compression method",A.mode=30;break}if(Q-=4,P=8+(15&(G>>>=4)),A.wbits===0)A.wbits=P;else if(P>A.wbits){F.msg="invalid window size",A.mode=30;break}A.dmax=1<<P,F.adler=A.check=1,A.mode=512&G?10:12,Q=G=0;break;case 2:for(;Q<16;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}if(A.flags=G,(255&A.flags)!=8){F.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){F.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=G>>8&1),512&A.flags&&(ne[0]=255&G,ne[1]=G>>>8&255,A.check=a(A.check,ne,2,0)),Q=G=0,A.mode=3;case 3:for(;Q<32;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}A.head&&(A.head.time=G),512&A.flags&&(ne[0]=255&G,ne[1]=G>>>8&255,ne[2]=G>>>16&255,ne[3]=G>>>24&255,A.check=a(A.check,ne,4,0)),Q=G=0,A.mode=4;case 4:for(;Q<16;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}A.head&&(A.head.xflags=255&G,A.head.os=G>>8),512&A.flags&&(ne[0]=255&G,ne[1]=G>>>8&255,A.check=a(A.check,ne,2,0)),Q=G=0,A.mode=5;case 5:if(1024&A.flags){for(;Q<16;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}A.length=G,A.head&&(A.head.extra_len=G),512&A.flags&&(ne[0]=255&G,ne[1]=G>>>8&255,A.check=a(A.check,ne,2,0)),Q=G=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(Y<(me=A.length)&&(me=Y),me&&(A.head&&(P=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),s.arraySet(A.head.extra,ue,M,me,P)),512&A.flags&&(A.check=a(A.check,ue,me,M)),Y-=me,M+=me,A.length-=me),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(Y===0)break e;for(me=0;P=ue[M+me++],A.head&&P&&A.length<65536&&(A.head.name+=String.fromCharCode(P)),P&&me<Y;);if(512&A.flags&&(A.check=a(A.check,ue,me,M)),Y-=me,M+=me,P)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(Y===0)break e;for(me=0;P=ue[M+me++],A.head&&P&&A.length<65536&&(A.head.comment+=String.fromCharCode(P)),P&&me<Y;);if(512&A.flags&&(A.check=a(A.check,ue,me,M)),Y-=me,M+=me,P)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;Q<16;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}if(G!==(65535&A.check)){F.msg="header crc mismatch",A.mode=30;break}Q=G=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),F.adler=A.check=0,A.mode=12;break;case 10:for(;Q<32;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}F.adler=A.check=g(G),Q=G=0,A.mode=11;case 11:if(A.havedict===0)return F.next_out=X,F.avail_out=ce,F.next_in=M,F.avail_in=Y,A.hold=G,A.bits=Q,2;F.adler=A.check=1,A.mode=12;case 12:if(ee===5||ee===6)break e;case 13:if(A.last){G>>>=7&Q,Q-=7&Q,A.mode=27;break}for(;Q<3;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}switch(A.last=1&G,Q-=1,3&(G>>>=1)){case 0:A.mode=14;break;case 1:if(V(A),A.mode=20,ee!==6)break;G>>>=2,Q-=2;break e;case 2:A.mode=17;break;case 3:F.msg="invalid block type",A.mode=30}G>>>=2,Q-=2;break;case 14:for(G>>>=7&Q,Q-=7&Q;Q<32;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}if((65535&G)!=(G>>>16^65535)){F.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&G,Q=G=0,A.mode=15,ee===6)break e;case 15:A.mode=16;case 16:if(me=A.length){if(Y<me&&(me=Y),ce<me&&(me=ce),me===0)break e;s.arraySet(Oe,ue,M,me,X),Y-=me,M+=me,ce-=me,X+=me,A.length-=me;break}A.mode=12;break;case 17:for(;Q<14;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}if(A.nlen=257+(31&G),G>>>=5,Q-=5,A.ndist=1+(31&G),G>>>=5,Q-=5,A.ncode=4+(15&G),G>>>=4,Q-=4,286<A.nlen||30<A.ndist){F.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;Q<3;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}A.lens[ge[A.have++]]=7&G,G>>>=3,Q-=3}for(;A.have<19;)A.lens[ge[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,de={bits:A.lenbits},he=u(0,A.lens,0,19,A.lencode,0,A.work,de),A.lenbits=de.bits,he){F.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;be=(N=A.lencode[G&(1<<A.lenbits)-1])>>>16&255,Ge=65535&N,!((Be=N>>>24)<=Q);){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}if(Ge<16)G>>>=Be,Q-=Be,A.lens[A.have++]=Ge;else{if(Ge===16){for(L=Be+2;Q<L;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}if(G>>>=Be,Q-=Be,A.have===0){F.msg="invalid bit length repeat",A.mode=30;break}P=A.lens[A.have-1],me=3+(3&G),G>>>=2,Q-=2}else if(Ge===17){for(L=Be+3;Q<L;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}Q-=Be,P=0,me=3+(7&(G>>>=Be)),G>>>=3,Q-=3}else{for(L=Be+7;Q<L;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}Q-=Be,P=0,me=11+(127&(G>>>=Be)),G>>>=7,Q-=7}if(A.have+me>A.nlen+A.ndist){F.msg="invalid bit length repeat",A.mode=30;break}for(;me--;)A.lens[A.have++]=P}}if(A.mode===30)break;if(A.lens[256]===0){F.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,de={bits:A.lenbits},he=u(c,A.lens,0,A.nlen,A.lencode,0,A.work,de),A.lenbits=de.bits,he){F.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,de={bits:A.distbits},he=u(f,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,de),A.distbits=de.bits,he){F.msg="invalid distances set",A.mode=30;break}if(A.mode=20,ee===6)break e;case 20:A.mode=21;case 21:if(6<=Y&&258<=ce){F.next_out=X,F.avail_out=ce,F.next_in=M,F.avail_in=Y,A.hold=G,A.bits=Q,l(F,pe),X=F.next_out,Oe=F.output,ce=F.avail_out,M=F.next_in,ue=F.input,Y=F.avail_in,G=A.hold,Q=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;be=(N=A.lencode[G&(1<<A.lenbits)-1])>>>16&255,Ge=65535&N,!((Be=N>>>24)<=Q);){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}if(be&&!(240&be)){for(ut=Be,He=be,Ft=Ge;be=(N=A.lencode[Ft+((G&(1<<ut+He)-1)>>ut)])>>>16&255,Ge=65535&N,!(ut+(Be=N>>>24)<=Q);){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}G>>>=ut,Q-=ut,A.back+=ut}if(G>>>=Be,Q-=Be,A.back+=Be,A.length=Ge,be===0){A.mode=26;break}if(32&be){A.back=-1,A.mode=12;break}if(64&be){F.msg="invalid literal/length code",A.mode=30;break}A.extra=15&be,A.mode=22;case 22:if(A.extra){for(L=A.extra;Q<L;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}A.length+=G&(1<<A.extra)-1,G>>>=A.extra,Q-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;be=(N=A.distcode[G&(1<<A.distbits)-1])>>>16&255,Ge=65535&N,!((Be=N>>>24)<=Q);){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}if(!(240&be)){for(ut=Be,He=be,Ft=Ge;be=(N=A.distcode[Ft+((G&(1<<ut+He)-1)>>ut)])>>>16&255,Ge=65535&N,!(ut+(Be=N>>>24)<=Q);){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}G>>>=ut,Q-=ut,A.back+=ut}if(G>>>=Be,Q-=Be,A.back+=Be,64&be){F.msg="invalid distance code",A.mode=30;break}A.offset=Ge,A.extra=15&be,A.mode=24;case 24:if(A.extra){for(L=A.extra;Q<L;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}A.offset+=G&(1<<A.extra)-1,G>>>=A.extra,Q-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){F.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(ce===0)break e;if(me=pe-ce,A.offset>me){if((me=A.offset-me)>A.whave&&A.sane){F.msg="invalid distance too far back",A.mode=30;break}Me=me>A.wnext?(me-=A.wnext,A.wsize-me):A.wnext-me,me>A.length&&(me=A.length),Ve=A.window}else Ve=Oe,Me=X-A.offset,me=A.length;for(ce<me&&(me=ce),ce-=me,A.length-=me;Oe[X++]=Ve[Me++],--me;);A.length===0&&(A.mode=21);break;case 26:if(ce===0)break e;Oe[X++]=A.length,ce--,A.mode=21;break;case 27:if(A.wrap){for(;Q<32;){if(Y===0)break e;Y--,G|=ue[M++]<<Q,Q+=8}if(pe-=ce,F.total_out+=pe,A.total+=pe,pe&&(F.adler=A.check=A.flags?a(A.check,Oe,pe,X-pe):o(A.check,Oe,pe,X-pe)),pe=ce,(A.flags?G:g(G))!==A.check){F.msg="incorrect data check",A.mode=30;break}Q=G=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;Q<32;){if(Y===0)break e;Y--,G+=ue[M++]<<Q,Q+=8}if(G!==(4294967295&A.total)){F.msg="incorrect length check",A.mode=30;break}Q=G=0}A.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return m}return F.next_out=X,F.avail_out=ce,F.next_in=M,F.avail_in=Y,A.hold=G,A.bits=Q,(A.wsize||pe!==F.avail_out&&A.mode<30&&(A.mode<27||ee!==4))&&we(F,F.output,F.next_out,pe-F.avail_out)?(A.mode=31,-4):(oe-=F.avail_in,pe-=F.avail_out,F.total_in+=oe,F.total_out+=pe,A.total+=pe,A.wrap&&pe&&(F.adler=A.check=A.flags?a(A.check,Oe,pe,F.next_out-pe):o(A.check,Oe,pe,F.next_out-pe)),F.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(oe==0&&pe===0||ee===4)&&he===h&&(he=-5),he)},i.inflateEnd=function(F){if(!F||!F.state)return m;var ee=F.state;return ee.window&&(ee.window=null),F.state=null,h},i.inflateGetHeader=function(F,ee){var A;return F&&F.state&&2&(A=F.state).wrap?((A.head=ee).done=!1,h):m},i.inflateSetDictionary=function(F,ee){var A,ue=ee.length;return F&&F.state?(A=F.state).wrap!==0&&A.mode!==11?m:A.mode===11&&o(1,ee,ue,0)!==A.check?-3:we(F,ee,ue,ue)?(A.mode=31,-4):(A.havedict=1,h):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,f,h,m,w,y,x,g){var v,_,T,O,I,R,$,U,V,we=g.bits,F=0,ee=0,A=0,ue=0,Oe=0,M=0,X=0,Y=0,ce=0,G=0,Q=null,oe=0,pe=new s.Buf16(16),me=new s.Buf16(16),Me=null,Ve=0;for(F=0;F<=15;F++)pe[F]=0;for(ee=0;ee<m;ee++)pe[f[h+ee]]++;for(Oe=we,ue=15;1<=ue&&pe[ue]===0;ue--);if(ue<Oe&&(Oe=ue),ue===0)return w[y++]=20971520,w[y++]=20971520,g.bits=1,0;for(A=1;A<ue&&pe[A]===0;A++);for(Oe<A&&(Oe=A),F=Y=1;F<=15;F++)if(Y<<=1,(Y-=pe[F])<0)return-1;if(0<Y&&(c===0||ue!==1))return-1;for(me[1]=0,F=1;F<15;F++)me[F+1]=me[F]+pe[F];for(ee=0;ee<m;ee++)f[h+ee]!==0&&(x[me[f[h+ee]]++]=ee);if(R=c===0?(Q=Me=x,19):c===1?(Q=o,oe-=257,Me=a,Ve-=257,256):(Q=l,Me=u,-1),F=A,I=y,X=ee=G=0,T=-1,O=(ce=1<<(M=Oe))-1,c===1&&852<ce||c===2&&592<ce)return 1;for(;;){for($=F-X,V=x[ee]<R?(U=0,x[ee]):x[ee]>R?(U=Me[Ve+x[ee]],Q[oe+x[ee]]):(U=96,0),v=1<<F-X,A=_=1<<M;w[I+(G>>X)+(_-=v)]=$<<24|U<<16|V|0,_!==0;);for(v=1<<F-1;G&v;)v>>=1;if(v!==0?(G&=v-1,G+=v):G=0,ee++,--pe[F]==0){if(F===ue)break;F=f[h+x[ee]]}if(Oe<F&&(G&O)!==T){for(X===0&&(X=Oe),I+=A,Y=1<<(M=F-X);M+X<ue&&!((Y-=pe[M+X])<=0);)M++,Y<<=1;if(ce+=1<<M,c===1&&852<ce||c===2&&592<ce)return 1;w[T=G&O]=Oe<<24|M<<16|I-y|0}}return G!==0&&(w[I+G]=F-X<<24|64<<16|0),g.bits=Oe,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(N){for(var ne=N.length;0<=--ne;)N[ne]=0}var u=0,c=29,f=256,h=f+1+c,m=30,w=19,y=2*h+1,x=15,g=16,v=7,_=256,T=16,O=17,I=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],we=new Array(2*(h+2));l(we);var F=new Array(2*m);l(F);var ee=new Array(512);l(ee);var A=new Array(256);l(A);var ue=new Array(c);l(ue);var Oe,M,X,Y=new Array(m);function ce(N,ne,ge,ye,ae){this.static_tree=N,this.extra_bits=ne,this.extra_base=ge,this.elems=ye,this.max_length=ae,this.has_stree=N&&N.length}function G(N,ne){this.dyn_tree=N,this.max_code=0,this.stat_desc=ne}function Q(N){return N<256?ee[N]:ee[256+(N>>>7)]}function oe(N,ne){N.pending_buf[N.pending++]=255&ne,N.pending_buf[N.pending++]=ne>>>8&255}function pe(N,ne,ge){N.bi_valid>g-ge?(N.bi_buf|=ne<<N.bi_valid&65535,oe(N,N.bi_buf),N.bi_buf=ne>>g-N.bi_valid,N.bi_valid+=ge-g):(N.bi_buf|=ne<<N.bi_valid&65535,N.bi_valid+=ge)}function me(N,ne,ge){pe(N,ge[2*ne],ge[2*ne+1])}function Me(N,ne){for(var ge=0;ge|=1&N,N>>>=1,ge<<=1,0<--ne;);return ge>>>1}function Ve(N,ne,ge){var ye,ae,_e=new Array(x+1),Ie=0;for(ye=1;ye<=x;ye++)_e[ye]=Ie=Ie+ge[ye-1]<<1;for(ae=0;ae<=ne;ae++){var xe=N[2*ae+1];xe!==0&&(N[2*ae]=Me(_e[xe]++,xe))}}function Be(N){var ne;for(ne=0;ne<h;ne++)N.dyn_ltree[2*ne]=0;for(ne=0;ne<m;ne++)N.dyn_dtree[2*ne]=0;for(ne=0;ne<w;ne++)N.bl_tree[2*ne]=0;N.dyn_ltree[2*_]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function be(N){8<N.bi_valid?oe(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function Ge(N,ne,ge,ye){var ae=2*ne,_e=2*ge;return N[ae]<N[_e]||N[ae]===N[_e]&&ye[ne]<=ye[ge]}function ut(N,ne,ge){for(var ye=N.heap[ge],ae=ge<<1;ae<=N.heap_len&&(ae<N.heap_len&&Ge(ne,N.heap[ae+1],N.heap[ae],N.depth)&&ae++,!Ge(ne,ye,N.heap[ae],N.depth));)N.heap[ge]=N.heap[ae],ge=ae,ae<<=1;N.heap[ge]=ye}function He(N,ne,ge){var ye,ae,_e,Ie,xe=0;if(N.last_lit!==0)for(;ye=N.pending_buf[N.d_buf+2*xe]<<8|N.pending_buf[N.d_buf+2*xe+1],ae=N.pending_buf[N.l_buf+xe],xe++,ye===0?me(N,ae,ne):(me(N,(_e=A[ae])+f+1,ne),(Ie=R[_e])!==0&&pe(N,ae-=ue[_e],Ie),me(N,_e=Q(--ye),ge),(Ie=$[_e])!==0&&pe(N,ye-=Y[_e],Ie)),xe<N.last_lit;);me(N,_,ne)}function Ft(N,ne){var ge,ye,ae,_e=ne.dyn_tree,Ie=ne.stat_desc.static_tree,xe=ne.stat_desc.has_stree,Fe=ne.stat_desc.elems,nt=-1;for(N.heap_len=0,N.heap_max=y,ge=0;ge<Fe;ge++)_e[2*ge]!==0?(N.heap[++N.heap_len]=nt=ge,N.depth[ge]=0):_e[2*ge+1]=0;for(;N.heap_len<2;)_e[2*(ae=N.heap[++N.heap_len]=nt<2?++nt:0)]=1,N.depth[ae]=0,N.opt_len--,xe&&(N.static_len-=Ie[2*ae+1]);for(ne.max_code=nt,ge=N.heap_len>>1;1<=ge;ge--)ut(N,_e,ge);for(ae=Fe;ge=N.heap[1],N.heap[1]=N.heap[N.heap_len--],ut(N,_e,1),ye=N.heap[1],N.heap[--N.heap_max]=ge,N.heap[--N.heap_max]=ye,_e[2*ae]=_e[2*ge]+_e[2*ye],N.depth[ae]=(N.depth[ge]>=N.depth[ye]?N.depth[ge]:N.depth[ye])+1,_e[2*ge+1]=_e[2*ye+1]=ae,N.heap[1]=ae++,ut(N,_e,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Ze,jt){var Gn,Re,Ue,et,xn,hn,De=jt.dyn_tree,Or=jt.max_code,Qn=jt.stat_desc.static_tree,Si=jt.stat_desc.has_stree,Ce=jt.stat_desc.extra_bits,Yr=jt.stat_desc.extra_base,Rr=jt.stat_desc.max_length,hr=0;for(et=0;et<=x;et++)Ze.bl_count[et]=0;for(De[2*Ze.heap[Ze.heap_max]+1]=0,Gn=Ze.heap_max+1;Gn<y;Gn++)Rr<(et=De[2*De[2*(Re=Ze.heap[Gn])+1]+1]+1)&&(et=Rr,hr++),De[2*Re+1]=et,Or<Re||(Ze.bl_count[et]++,xn=0,Yr<=Re&&(xn=Ce[Re-Yr]),hn=De[2*Re],Ze.opt_len+=hn*(et+xn),Si&&(Ze.static_len+=hn*(Qn[2*Re+1]+xn)));if(hr!==0){do{for(et=Rr-1;Ze.bl_count[et]===0;)et--;Ze.bl_count[et]--,Ze.bl_count[et+1]+=2,Ze.bl_count[Rr]--,hr-=2}while(0<hr);for(et=Rr;et!==0;et--)for(Re=Ze.bl_count[et];Re!==0;)Or<(Ue=Ze.heap[--Gn])||(De[2*Ue+1]!==et&&(Ze.opt_len+=(et-De[2*Ue+1])*De[2*Ue],De[2*Ue+1]=et),Re--)}}(N,ne),Ve(_e,nt,N.bl_count)}function P(N,ne,ge){var ye,ae,_e=-1,Ie=ne[1],xe=0,Fe=7,nt=4;for(Ie===0&&(Fe=138,nt=3),ne[2*(ge+1)+1]=65535,ye=0;ye<=ge;ye++)ae=Ie,Ie=ne[2*(ye+1)+1],++xe<Fe&&ae===Ie||(xe<nt?N.bl_tree[2*ae]+=xe:ae!==0?(ae!==_e&&N.bl_tree[2*ae]++,N.bl_tree[2*T]++):xe<=10?N.bl_tree[2*O]++:N.bl_tree[2*I]++,_e=ae,nt=(xe=0)===Ie?(Fe=138,3):ae===Ie?(Fe=6,3):(Fe=7,4))}function he(N,ne,ge){var ye,ae,_e=-1,Ie=ne[1],xe=0,Fe=7,nt=4;for(Ie===0&&(Fe=138,nt=3),ye=0;ye<=ge;ye++)if(ae=Ie,Ie=ne[2*(ye+1)+1],!(++xe<Fe&&ae===Ie)){if(xe<nt)for(;me(N,ae,N.bl_tree),--xe!=0;);else ae!==0?(ae!==_e&&(me(N,ae,N.bl_tree),xe--),me(N,T,N.bl_tree),pe(N,xe-3,2)):xe<=10?(me(N,O,N.bl_tree),pe(N,xe-3,3)):(me(N,I,N.bl_tree),pe(N,xe-11,7));_e=ae,nt=(xe=0)===Ie?(Fe=138,3):ae===Ie?(Fe=6,3):(Fe=7,4)}}l(Y);var de=!1;function L(N,ne,ge,ye){pe(N,(u<<1)+(ye?1:0),3),function(ae,_e,Ie,xe){be(ae),oe(ae,Ie),oe(ae,~Ie),s.arraySet(ae.pending_buf,ae.window,_e,Ie,ae.pending),ae.pending+=Ie}(N,ne,ge)}i._tr_init=function(N){de||(function(){var ne,ge,ye,ae,_e,Ie=new Array(x+1);for(ae=ye=0;ae<c-1;ae++)for(ue[ae]=ye,ne=0;ne<1<<R[ae];ne++)A[ye++]=ae;for(A[ye-1]=ae,ae=_e=0;ae<16;ae++)for(Y[ae]=_e,ne=0;ne<1<<$[ae];ne++)ee[_e++]=ae;for(_e>>=7;ae<m;ae++)for(Y[ae]=_e<<7,ne=0;ne<1<<$[ae]-7;ne++)ee[256+_e++]=ae;for(ge=0;ge<=x;ge++)Ie[ge]=0;for(ne=0;ne<=143;)we[2*ne+1]=8,ne++,Ie[8]++;for(;ne<=255;)we[2*ne+1]=9,ne++,Ie[9]++;for(;ne<=279;)we[2*ne+1]=7,ne++,Ie[7]++;for(;ne<=287;)we[2*ne+1]=8,ne++,Ie[8]++;for(Ve(we,h+1,Ie),ne=0;ne<m;ne++)F[2*ne+1]=5,F[2*ne]=Me(ne,5);Oe=new ce(we,R,f+1,h,x),M=new ce(F,$,0,m,x),X=new ce(new Array(0),U,0,w,v)}(),de=!0),N.l_desc=new G(N.dyn_ltree,Oe),N.d_desc=new G(N.dyn_dtree,M),N.bl_desc=new G(N.bl_tree,X),N.bi_buf=0,N.bi_valid=0,Be(N)},i._tr_stored_block=L,i._tr_flush_block=function(N,ne,ge,ye){var ae,_e,Ie=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(xe){var Fe,nt=4093624447;for(Fe=0;Fe<=31;Fe++,nt>>>=1)if(1&nt&&xe.dyn_ltree[2*Fe]!==0)return o;if(xe.dyn_ltree[18]!==0||xe.dyn_ltree[20]!==0||xe.dyn_ltree[26]!==0)return a;for(Fe=32;Fe<f;Fe++)if(xe.dyn_ltree[2*Fe]!==0)return a;return o}(N)),Ft(N,N.l_desc),Ft(N,N.d_desc),Ie=function(xe){var Fe;for(P(xe,xe.dyn_ltree,xe.l_desc.max_code),P(xe,xe.dyn_dtree,xe.d_desc.max_code),Ft(xe,xe.bl_desc),Fe=w-1;3<=Fe&&xe.bl_tree[2*V[Fe]+1]===0;Fe--);return xe.opt_len+=3*(Fe+1)+5+5+4,Fe}(N),ae=N.opt_len+3+7>>>3,(_e=N.static_len+3+7>>>3)<=ae&&(ae=_e)):ae=_e=ge+5,ge+4<=ae&&ne!==-1?L(N,ne,ge,ye):N.strategy===4||_e===ae?(pe(N,2+(ye?1:0),3),He(N,we,F)):(pe(N,4+(ye?1:0),3),function(xe,Fe,nt,Ze){var jt;for(pe(xe,Fe-257,5),pe(xe,nt-1,5),pe(xe,Ze-4,4),jt=0;jt<Ze;jt++)pe(xe,xe.bl_tree[2*V[jt]+1],3);he(xe,xe.dyn_ltree,Fe-1),he(xe,xe.dyn_dtree,nt-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,Ie+1),He(N,N.dyn_ltree,N.dyn_dtree)),Be(N),ye&&be(N)},i._tr_tally=function(N,ne,ge){return N.pending_buf[N.d_buf+2*N.last_lit]=ne>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&ne,N.pending_buf[N.l_buf+N.last_lit]=255&ge,N.last_lit++,ne===0?N.dyn_ltree[2*ge]++:(N.matches++,ne--,N.dyn_ltree[2*(A[ge]+f+1)]++,N.dyn_dtree[2*Q(ne)]++),N.last_lit===N.lit_bufsize-1},i._tr_align=function(N){pe(N,2,3),me(N,_,we),function(ne){ne.bi_valid===16?(oe(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,c,f,h=1,m={},w=!1,y=o.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(o);x=x&&x.setTimeout?x:o,l={}.toString.call(o.process)==="[object process]"?function(T){process.nextTick(function(){v(T)})}:function(){if(o.postMessage&&!o.importScripts){var T=!0,O=o.onmessage;return o.onmessage=function(){T=!1},o.postMessage("","*"),o.onmessage=O,T}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",_,!1):o.attachEvent("onmessage",_),function(T){o.postMessage(f+T,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(T){v(T.data)},function(T){c.port2.postMessage(T)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(T){var O=y.createElement("script");O.onreadystatechange=function(){v(T),O.onreadystatechange=null,u.removeChild(O),O=null},u.appendChild(O)}):function(T){setTimeout(v,0,T)},x.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var O=new Array(arguments.length-1),I=0;I<O.length;I++)O[I]=arguments[I+1];var R={callback:T,args:O};return m[h]=R,l(h),h++},x.clearImmediate=g}function g(T){delete m[T]}function v(T){if(w)setTimeout(v,0,T);else{var O=m[T];if(O){w=!0;try{(function(I){var R=I.callback,$=I.args;switch($.length){case 0:R();break;case 1:R($[0]);break;case 2:R($[0],$[1]);break;case 3:R($[0],$[1],$[2]);break;default:R.apply(a,$)}})(O)}finally{g(T),w=!1}}}}function _(T){T.source===o&&typeof T.data=="string"&&T.data.indexOf(f)===0&&v(+T.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(oC);var zF=oC.exports;const k_=ef(zF),VF=()=>{const[e,t]=k.useState(!1),[n,r]=k.useState([]),i=k.useRef(null),s=k.useCallback(async u=>{if(!u||u.length===0){r(f=>[...f,{success:!1,message:"No files selected."}]);return}t(!0);const c=[];try{for(let f=0;f<u.length;f++){const h=u[f];if(h.type==="application/zip"||h.name.endsWith(".zip"))try{const m=await k_.loadAsync(h),w=Object.values(m.files);for(const y of w)if(!y.dir&&y.name.endsWith(".json"))try{const x=await y.async("string"),g=JSON.parse(x),v=y.name.split("/").pop()||"unknown.json",_=v.replace(/\.json$/,"");localStorage.setItem(_,JSON.stringify(g)),c.push({success:!0,message:`Successfully extracted and stored "${v}" with key "${_}" from ZIP.`})}catch(x){const g=x instanceof Error?x.message:"Unknown error";c.push({success:!1,message:`Error processing file "${y.name}" from ZIP: ${g}`})}else y.dir||c.push({success:!1,message:`Skipped non-JSON file "${y.name}" from ZIP.`})}catch(m){const w=m instanceof Error?m.message:"Invalid ZIP file";c.push({success:!1,message:`Error processing ZIP file "${h.name}": ${w}`})}else if(h.type==="application/json"||h.name.endsWith(".json"))try{const m=new FileReader,w=await new Promise((v,_)=>{m.onload=()=>v(m.result),m.onerror=_,m.readAsText(h)}),y=JSON.parse(w),g=h.name.replace(/\.json$/,"");localStorage.setItem(g,JSON.stringify(y)),c.push({success:!0,message:`Successfully stored "${h.name}" with key "${g}".`})}catch(m){const w=m instanceof Error?m.message:"Unknown error";c.push({success:!1,message:`Error processing file "${h.name}": ${w}`})}else c.push({success:!1,message:`File "${h.name}" is not a JSON or ZIP file. Skipped.`})}}finally{r(f=>[...f,...c]),t(!1)}},[]),o=u=>{s(u.target.files),i.current&&(i.current.value="")},a=()=>{r([])},l=k.useCallback(async()=>{t(!0);try{debugger;const u=new k_;let c=!1,f=null;const h=localStorage.getItem("sankeertan_categories_data");if(h)try{f=JSON.parse(h),u.file("sankeertan_categories_data.json",h),c=!0}catch{console.warn("sankeertan_categories_data.json is not valid JSON, skipping."),f=null}else console.warn("sankeertan_categories_data.json not found in localStorage.");const m={};for(let g=0;g<localStorage.length;g++){debugger;const v=localStorage.key(g);if(console.log(v),v!=="sb-"+_S+"-auth-token"&&v&&v!=="sankeertan_categories_data"){const _=localStorage.getItem(v);if(_)try{JSON.parse(_);let T=u;if(f&&Array.isArray(f.data))for(const O of f.data)for(const I of O.books){const R=I.bookId,$=`sankeertan_song_details-${R.toLowerCase().replace(/ /g,"-")}`,U=`sankeertan_song_indices-${R.toLowerCase().replace(/ /g,"-")}`;if(v.startsWith($)||v.startsWith(U)){if(!m[R]){const V=u.folder(R);V?m[R]=V:m[R]=u}T=m[R]||u;break}}T.file(`${v}.json`,_),c=!0}catch{console.warn(`Skipping key "${v}" as value is not valid JSON`)}}}if(!c){r(g=>[...g,{success:!1,message:"No valid JSON data found in localStorage to export."}]),t(!1);return}const w=await u.generateAsync({type:"blob",mimeType:"application/zip",compression:"DEFLATE"}),y=URL.createObjectURL(w),x=document.createElement("a");x.href=y,x.download="sankeertan_localStorage_backup.zip",document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(y),r(g=>[...g,{success:!0,message:"Successfully exported localStorage to ZIP file with folder structure."}])}catch(u){const c=u instanceof Error?u.message:"Unknown error during export";r(f=>[...f,{success:!1,message:`Error exporting localStorage: ${c}`}])}finally{t(!1)}},[]);return E.jsxs("div",{className:"p-4",children:[E.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Local Storage Sync"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("input",{type:"file",accept:".json,.zip",onChange:o,disabled:e,"aria-label":"Upload JSON or ZIP Files",multiple:!0,ref:i}),E.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload JSON files or a ZIP file containing JSON files.  Filename will be used as the key."})]}),E.jsx("div",{className:"mb-4",children:E.jsx("button",{onClick:l,disabled:e,className:"px-4 py-2 border rounded-md bg-blue-500 text-white",children:e?"Exporting...":"Export to ZIP"})}),e&&E.jsx("div",{className:"mb-4 flex items-center gap-2",children:E.jsx("span",{children:e?"Processing...":"Exporting..."})}),n.length>0&&E.jsxs("div",{className:"mb-4",children:[E.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Upload Results:"}),n.map((u,c)=>E.jsxs("div",{className:`mb-2 p-3 border rounded-md ${u.success?"border-green-500 bg-green-100 text-green-800":"border-red-500 bg-red-100 text-red-800"}`,children:[u.success?E.jsx("span",{style:{color:"green"},children:""}):E.jsx("span",{style:{color:"red"},children:""}),E.jsx("strong",{className:"mr-1",children:u.success?"Success":"Error"}),E.jsx("span",{children:u.message})]},c)),E.jsx("button",{onClick:a,className:"mt-2 px-4 py-2 border rounded-md",children:"Clear Results"})]}),E.jsxs("div",{className:"mt-8 p-4 border rounded-md bg-gray-50",children:[E.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Important Notes:"}),E.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"ZIP File Handling:"}),"  This page now supports uploading a single ZIP file.  The application will extract JSON files from the ZIP and store them in localStorage."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Key Derivation:"})," The filename of each JSON file is used as the key for storing its content in localStorage."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"File Overwriting:"})," If a key already exists in localStorage, it will be overwritten with the new content."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"ZIP Structure:"})," The ZIP file can contain JSON files in subfolders.  The filename of the file within the ZIP will be used as the localStorage key."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Non-JSON Files in ZIP:"})," Any non-JSON files within the ZIP will be skipped."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Error Handling:"})," The application attempts to provide informative error messages for file processing issues, including problems with individual files within a ZIP archive."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Export Feature:"}),`  A new "Export to ZIP" button has been added.  Clicking this will create a ZIP file containing all key-value pairs from your browser's localStorage (where the values are valid JSON), and prompt you to download it.  The keys will be used as the filenames in the ZIP.`]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Exported Data Format:"})," The exported ZIP file will now contain a folder structure."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Book Folders:"}),"  Data is organized into folders based on the book names found in  `sankeertan_categories_data.json`."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Root Folder:"})," Any keys that do not match the book naming convention will be placed in the root of the ZIP file."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"sankeertan_categories_data.json:"}),"  This file is included in the root of the ZIP."]})]})]})]})},Ii=({children:e,session:t})=>{const n=dr();return t?E.jsx(E.Fragment,{children:e}):(sessionStorage.setItem("redirect_path",n.pathname),E.jsx(mS,{to:"/login",replace:!0}))};function KF(){const{session:e}=bs(),{categories:t,isLoading:n}=$y(),r=(t==null?void 0:t.flatMap(i=>i.books))||[];return n?E.jsx("div",{children:"Checking authentication..."}):E.jsx(fk,{children:E.jsx(QI,{books:r,children:E.jsxs(PA,{children:[E.jsx(kn,{path:"/login",element:E.jsx(qR,{})}),E.jsx(kn,{path:"/signup",element:E.jsx(GR,{})}),E.jsx(kn,{path:"/change-password",element:E.jsx(QR,{})}),E.jsx(kn,{path:"/auth/callback",element:E.jsx(JR,{})}),E.jsx(kn,{path:"/settings",element:E.jsx(Ii,{session:e,children:E.jsx(OF,{})})}),E.jsx(kn,{path:"/categories",element:E.jsx(Ii,{session:e,children:E.jsx(qI,{})})}),E.jsx(kn,{path:"/books/:categoryId",element:E.jsx(Ii,{session:e,children:E.jsx(XI,{})})}),E.jsx(kn,{path:"/book/:categoryId/:bookId",element:E.jsx(Ii,{session:e,children:E.jsx(fD,{})})}),E.jsx(kn,{path:"/details/book/:categoryId/:bookId/:sourceRow/:songTitle",element:E.jsx(Ii,{session:e,children:E.jsx(LF,{})})}),E.jsx(kn,{path:"/sankeertan/:broadcastId",element:E.jsx(Ii,{session:e,children:E.jsx(MF,{broadcastId:1})})}),E.jsx(kn,{path:"/localstoragesync",element:E.jsx(Ii,{session:e,children:E.jsx(VF,{})})}),E.jsx(kn,{path:"/search",element:E.jsx(Ii,{session:e,children:E.jsx(UF,{})})}),E.jsx(kn,{path:"/",element:e?E.jsx(mS,{to:"/categories",replace:!0}):E.jsx("div",{children:"Welcome!"})})]})})})}const WF=k.createContext({books:[],categories:[],currentBook:null,loadBook:async()=>{},loading:!1,error:null}),HF=({children:e})=>{const[t,n]=k.useState([{id:"book1",name:"The Great Book A",categoryIds:["cat1","cat2"]},{id:"book2",name:"Another Fine Book B",categoryIds:["cat2","cat3"]},{id:"book3",name:"Wonderful Book C",categoryIds:["cat1"]}]),[r,i]=k.useState([{id:"cat1",name:"Fiction"},{id:"cat2",name:"Mystery"},{id:"cat3",name:"Science Fiction"}]),[s,o]=k.useState(null),[a,l]=k.useState(!1),[u,c]=k.useState(null),{bookId:f}=Pu(),h=k.useCallback(async w=>{l(!0),c(null),o(null),await new Promise(x=>setTimeout(x,500));const y=t.find(x=>x.id===w);o(y||null),l(!1)},[t,l,c,o]);k.useEffect(()=>{f&&h(f)},[f,h]);const m={books:t,categories:r,currentBook:s,loadBook:h,loading:a,error:u};return E.jsx(WF.Provider,{value:m,children:e})},qF=({toggleDropdown:e,isDropdownOpen:t,openLanguageSettings:n})=>{var u;const[r,i]=k.useState(null),s=jr();k.useEffect(()=>{cn.auth.getSession().then(({data:{session:c}})=>{i(c)}),cn.auth.onAuthStateChange((c,f)=>{i(f)})},[]);const o=async()=>{const{error:c}=await cn.auth.signOut();c?(console.error("Error signing out:",c),alert("Error signing out. Please try again.")):s("/login")},{isOfflineMode:a,setIsOfflineMode:l}=My();return E.jsx("div",{className:"relative inline-block text-left",children:r?E.jsxs("div",{children:[E.jsxs("button",{type:"button",className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",onClick:e,"aria-expanded":t,"aria-haspopup":"true",children:[((u=r.user)==null?void 0:u.email)||"User",E.jsx("svg",{className:"-mr-1 h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:E.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),t&&E.jsx("div",{className:"absolute right-0 z-[1000] mt-2 w-40 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:E.jsxs("div",{className:"py-1",children:[E.jsx("div",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitemcheckbox",children:E.jsxs("label",{className:"flex items-center",children:[E.jsx("input",{type:"checkbox",className:"mr-2 form-checkbox h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:a,onChange:c=>l(c.target.checked)}),E.jsx("span",{children:"Offline Mode"})]})}),E.jsx(Un,{to:"/sankeertan/1",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Chanting Together"}),E.jsx(Un,{to:"/categories",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Categories & Books"}),E.jsx(Un,{to:"/search",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Search"}),E.jsx(Un,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Settings (Language)"}),E.jsx(Un,{to:"/localstoragesync",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Local Storage Admin"}),E.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",role:"menuitem",onClick:()=>{e(),n()},children:"Language Settings (Context)"}),E.jsx(Un,{to:"/change-password",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Change Password"}),E.jsx("button",{onClick:o,className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Sign Out"})]})})]}):E.jsx(Un,{to:"/login",className:"text-blue-500 hover:underline px-3 py-2 inline-block",children:"Login"})})};var GF=Object.defineProperty,QF=(e,t,n)=>t in e?GF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wp=(e,t,n)=>(QF(e,typeof t!="symbol"?t+"":t,n),n);let YF=class{constructor(){wp(this,"current",this.detect()),wp(this,"handoffState","pending"),wp(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Gr=new YF;function Bu(e){var t;return Gr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function gg(e){var t,n;return Gr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function aC(e){var t,n;return(n=(t=gg(e))==null?void 0:t.activeElement)!=null?n:null}function JF(e){return aC(e)===e}function Df(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function xi(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Df(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=xi();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Nf(){let[e]=k.useState(xi);return k.useEffect(()=>()=>e.dispose(),[e]),e}let Nn=(e,t)=>{Gr.isServer?k.useEffect(e,t):k.useLayoutEffect(e,t)};function bo(e){let t=k.useRef(e);return Nn(()=>{t.current=e},[e]),t}let ft=function(e){let t=bo(e);return We.useCallback((...n)=>t.current(...n),[t])};function Uu(e){return k.useMemo(()=>e,Object.values(e))}let ZF=k.createContext(void 0);function XF(){return k.useContext(ZF)}function yg(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function bi(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,bi),r}var Jd=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Jd||{}),es=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(es||{});function fr(){let e=t4();return k.useCallback(t=>e4({mergeRefs:e,...t}),[e])}function e4({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??n4;let l=lC(t,e);if(s)return Vc(l,n,r,o,a);let u=i??0;if(u&2){let{static:c=!1,...f}=l;if(c)return Vc(f,n,r,o,a)}if(u&1){let{unmount:c=!0,...f}=l;return bi(c?0:1,{0(){return null},1(){return Vc({...f,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Vc(l,n,r,o,a)}function Vc(e,t={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=bp(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},c=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(t){let h=!1,m=[];for(let[w,y]of Object.entries(t))typeof y=="boolean"&&(h=!0),y===!0&&m.push(w.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(h){f["data-headlessui-state"]=m.join(" ");for(let w of m)f[`data-${w}`]=""}}if(Bl(s)&&(Object.keys(Ls(l)).length>0||Object.keys(Ls(f)).length>0))if(!k.isValidElement(c)||Array.isArray(c)&&c.length>1||i4(c)){if(Object.keys(Ls(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ls(l)).concat(Object.keys(Ls(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=c.props,m=h==null?void 0:h.className,w=typeof m=="function"?(...g)=>yg(m(...g),l.className):yg(m,l.className),y=w?{className:w}:{},x=lC(c.props,Ls(bp(l,["ref"])));for(let g in f)g in x&&delete f[g];return k.cloneElement(c,Object.assign({},x,f,u,{ref:i(r4(c),u.ref)},y))}return k.createElement(s,Object.assign({},bp(l,["ref"]),!Bl(s)&&u,!Bl(s)&&f),c)}function t4(){let e=k.useRef([]),t=k.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function n4(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function lC(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return t}function Ln(e){var t;return Object.assign(k.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ls(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function bp(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function r4(e){return We.version.split(".")[0]>="19"?e.props.ref:e.ref}function Bl(e){return e===k.Fragment||e===Symbol.for("react.fragment")}function i4(e){return Bl(e.type)}let s4="span";var Zd=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Zd||{});function o4(e,t){var n;let{features:r=1,...i}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return fr()({ourProps:s,theirProps:i,slot:{},defaultTag:s4,name:"Hidden"})}let vg=Ln(o4);function a4(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ds(e){return a4(e)&&"tagName"in e}function po(e){return ds(e)&&"accessKey"in e}function ts(e){return ds(e)&&"tabIndex"in e}function l4(e){return ds(e)&&"style"in e}function u4(e){return po(e)&&e.nodeName==="IFRAME"}function c4(e){return po(e)&&e.nodeName==="INPUT"}let uC=Symbol();function d4(e,t=!0){return Object.assign(e,{[uC]:t})}function Qr(...e){let t=k.useRef(e);k.useEffect(()=>{t.current=e},[e]);let n=ft(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[uC]))?void 0:n}let xv=k.createContext(null);xv.displayName="DescriptionContext";function cC(){let e=k.useContext(xv);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,cC),t}return e}function f4(){let[e,t]=k.useState([]);return[e.length>0?e.join(" "):void 0,k.useMemo(()=>function(n){let r=ft(s=>(t(o=>[...o,s]),()=>t(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=k.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return We.createElement(xv.Provider,{value:i},n.children)},[t])]}let h4="p";function p4(e,t){let n=k.useId(),r=XF(),{id:i=`headlessui-description-${n}`,...s}=e,o=cC(),a=Qr(t);Nn(()=>o.register(i),[i,o.register]);let l=Uu({...o.slot,disabled:r||!1}),u={ref:a,...o.props,id:i};return fr()({ourProps:u,theirProps:s,slot:l,defaultTag:h4,name:o.name||"Description"})}let m4=Ln(p4),g4=Object.assign(m4,{});var dC=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(dC||{});let y4=k.createContext(()=>{});function v4({value:e,children:t}){return We.createElement(y4.Provider,{value:e},t)}let fC=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var w4=Object.defineProperty,b4=(e,t,n)=>t in e?w4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_4=(e,t,n)=>(b4(e,t+"",n),n),hC=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Zn=(e,t,n)=>(hC(e,t,"read from private field"),n?n.call(e):t.get(e)),_p=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},E_=(e,t,n,r)=>(hC(e,t,"write to private field"),t.set(e,n),n),Lr,bl,_l;let x4=class{constructor(t){_p(this,Lr,{}),_p(this,bl,new fC(()=>new Set)),_p(this,_l,new Set),_4(this,"disposables",xi()),E_(this,Lr,t),Gr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Zn(this,Lr)}subscribe(t,n){if(Gr.isServer)return()=>{};let r={selector:t,callback:n,current:t(Zn(this,Lr))};return Zn(this,_l).add(r),this.disposables.add(()=>{Zn(this,_l).delete(r)})}on(t,n){return Gr.isServer?()=>{}:(Zn(this,bl).get(t).add(n),this.disposables.add(()=>{Zn(this,bl).get(t).delete(n)}))}send(t){let n=this.reduce(Zn(this,Lr),t);if(n!==Zn(this,Lr)){E_(this,Lr,n);for(let r of Zn(this,_l)){let i=r.selector(Zn(this,Lr));pC(r.current,i)||(r.current=i,r.callback(i))}for(let r of Zn(this,bl).get(t.type))r(Zn(this,Lr),t)}}};Lr=new WeakMap,bl=new WeakMap,_l=new WeakMap;function pC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:xp(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:xp(e.entries(),t.entries()):C_(e)&&C_(t)?xp(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function xp(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function C_(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var S4=Object.defineProperty,k4=(e,t,n)=>t in e?S4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T_=(e,t,n)=>(k4(e,typeof t!="symbol"?t+"":t,n),n),E4=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(E4||{});let C4={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let s=e.stack.slice();return s.splice(i,1),s.push(n),r=s,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}},T4=class mC extends x4{constructor(){super(...arguments),T_(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),T_(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new mC({stack:[]})}reduce(t,n){return bi(n.type,C4,t,n)}};const gC=new fC(()=>T4.new());var yC={exports:{}},vC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=k;function P4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A4=typeof Object.is=="function"?Object.is:P4,j4=zu.useSyncExternalStore,O4=zu.useRef,R4=zu.useEffect,I4=zu.useMemo,D4=zu.useDebugValue;vC.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=O4(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=I4(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var w=o.value;if(i(w,m))return f=w}return f=m}if(w=f,A4(c,m))return w;var y=r(m);return i!==void 0&&i(w,y)?(c=m,w):(c=m,f=y)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=j4(e,s[0],s[1]);return R4(function(){o.hasValue=!0,o.value=a},[a]),D4(a),a};yC.exports=vC;var N4=yC.exports;function wC(e,t,n=pC){return N4.useSyncExternalStoreWithSelector(ft(r=>e.subscribe(L4,r)),ft(()=>e.state),ft(()=>e.state),ft(t),n)}function L4(e){return e}function Vu(e,t){let n=k.useId(),r=gC.get(t),[i,s]=wC(r,k.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Nn(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?s?i:!0:!1}let wg=new Map,Ul=new Map;function P_(e){var t;let n=(t=Ul.get(e))!=null?t:0;return Ul.set(e,n+1),n!==0?()=>A_(e):(wg.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>A_(e))}function A_(e){var t;let n=(t=Ul.get(e))!=null?t:1;if(n===1?Ul.delete(e):Ul.set(e,n-1),n!==1)return;let r=wg.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,wg.delete(e))}function $4(e,{allowed:t,disallowed:n}={}){let r=Vu(e,"inert-others");Nn(()=>{var i,s;if(!r)return;let o=xi();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(P_(l));let a=(s=t==null?void 0:t())!=null?s:[];for(let l of a){if(!l)continue;let u=Bu(l);if(!u)continue;let c=l.parentElement;for(;c&&c!==u.body;){for(let f of c.children)a.some(h=>f.contains(h))||o.add(P_(f));c=c.parentElement}}return o.dispose},[r,t,n])}function M4(e,t,n){let r=bo(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});k.useEffect(()=>{if(!e)return;let i=t===null?null:po(t)?t:t.current;if(!i)return;let s=xi();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[t,r,e])}let Xd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),F4=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var oi=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(oi||{}),bg=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(bg||{}),B4=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(B4||{});function U4(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Xd)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function z4(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(F4)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var bC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(bC||{});function V4(e,t=0){var n;return e===((n=Bu(e))==null?void 0:n.body)?!1:bi(t,{0(){return e.matches(Xd)},1(){let r=e;for(;r!==null;){if(r.matches(Xd))return!0;r=r.parentElement}return!1}})}var K4=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(K4||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function di(e){e==null||e.focus({preventScroll:!0})}let W4=["textarea","input"].join(",");function H4(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,W4))!=null?n:!1}function q4(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function zl(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?gg(e[0]):document:gg(e),o=Array.isArray(e)?n?q4(e):e:t&64?z4(e):U4(e);i.length>0&&o.length>1&&(o=o.filter(m=>!i.some(w=>w!=null&&"current"in w?(w==null?void 0:w.current)===m:w===m))),r=r??(s==null?void 0:s.activeElement);let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,f=o.length,h;do{if(c>=f||c+f<=0)return 0;let m=l+c;if(t&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}h=o[m],h==null||h.focus(u),c+=a}while(h!==aC(h));return t&6&&H4(h)&&h.select(),2}function _C(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function G4(){return/Android/gi.test(window.navigator.userAgent)}function j_(){return _C()||G4()}function Kc(e,t,n,r){let i=bo(n);k.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return document.addEventListener(t,s,r),()=>document.removeEventListener(t,s,r)},[e,t,r])}function xC(e,t,n,r){let i=bo(n);k.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return window.addEventListener(t,s,r),()=>window.removeEventListener(t,s,r)},[e,t,r])}const O_=30;function Q4(e,t,n){let r=bo(n),i=k.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let c=function f(h){return typeof h=="function"?f(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let f of c)if(f!==null&&(f.contains(u)||a.composed&&a.composedPath().includes(f)))return;return!V4(u,bC.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,t]),s=k.useRef(null);Kc(e,"pointerdown",a=>{var l,u;j_()||(s.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),Kc(e,"pointerup",a=>{if(j_()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=k.useRef({x:0,y:0});Kc(e,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),Kc(e,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=O_||Math.abs(l.y-o.current.y)>=O_))return i(a,()=>ts(a.target)?a.target:null)},!0),xC(e,"blur",a=>i(a,()=>u4(window.document.activeElement)?window.document.activeElement:null),!0)}function Sv(...e){return k.useMemo(()=>Bu(...e),[...e])}function SC(e,t,n,r){let i=bo(n);k.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function Y4(e){return k.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function J4(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=t[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function Z4(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,e-i);n.style(r,"paddingRight",`${s}px`)}}}function X4(){return _C()?{before({doc:e,d:t,meta:n}){function r(i){for(let s of n().containers)for(let o of s())if(o.contains(i))return!0;return!1}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=xi();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",a=>{if(ts(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);ts(c)&&!r(c)&&(o=c)}catch{}},!0),t.group(a=>{t.addEventListener(e,"touchstart",l=>{if(a.dispose(),ts(l.target)&&l4(l.target))if(r(l.target)){let u=l.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;a.style(u,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",a=>{if(ts(a.target)){if(c4(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function e5(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function R_(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let qs=J4(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:xi(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=R_(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=R_(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[X4(),Z4(),e5()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});qs.subscribe(()=>{let e=qs.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&qs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&qs.dispatch("TEARDOWN",n)}});function t5(e,t,n=()=>({containers:[]})){let r=Y4(qs),i=t?r.get(t):void 0,s=i?i.count>0:!1;return Nn(()=>{if(!(!t||!e))return qs.dispatch("PUSH",t,n),()=>qs.dispatch("POP",t,n)},[e,t]),s}function n5(e,t,n=()=>[document.body]){let r=Vu(e,"scroll-lock");t5(r,t,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function r5(e=0){let[t,n]=k.useState(e),r=k.useCallback(l=>n(l),[]),i=k.useCallback(l=>n(u=>u|l),[]),s=k.useCallback(l=>(t&l)===l,[t]),o=k.useCallback(l=>n(u=>u&~l),[]),a=k.useCallback(l=>n(u=>u^l),[]);return{flags:t,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var i5={},I_,D_;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((I_=process==null?void 0:i5)==null?void 0:I_.NODE_ENV)==="test"&&typeof((D_=Element==null?void 0:Element.prototype)==null?void 0:D_.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var s5=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(s5||{});function o5(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function a5(e,t,n,r){let[i,s]=k.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=r5(e&&i?3:0),u=k.useRef(!1),c=k.useRef(!1),f=Nf();return Nn(()=>{var h;if(e){if(n&&s(!0),!t){n&&a(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),l5(t,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){c.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var m;c.current&&d5(t)||(u.current=!1,l(7),n||s(!1),(m=r==null?void 0:r.end)==null||m.call(r,n))}})}},[e,n,t,f]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function l5(e,{prepare:t,run:n,done:r,inFlight:i}){let s=xi();return c5(e,{prepare:t,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(u5(e,r))})}),s.dispose}function u5(e,t){var n,r;let i=xi();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||t()}),i.dispose)}function c5(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function d5(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function kv(e,t){let n=k.useRef([]),r=ft(e);k.useEffect(()=>{let i=[...n.current];for(let[s,o]of t.entries())if(n.current[s]!==o){let a=r(t,i);return n.current=t,a}},[r,...t])}let Lf=k.createContext(null);Lf.displayName="OpenClosedContext";var kr=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(kr||{});function $f(){return k.useContext(Lf)}function f5({value:e,children:t}){return We.createElement(Lf.Provider,{value:e},t)}function h5({children:e}){return We.createElement(Lf.Provider,{value:null},e)}function p5(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Vi=[];p5(()=>{function e(t){if(!ts(t.target)||t.target===document.body||Vi[0]===t.target)return;let n=t.target;n=n.closest(Xd),Vi.unshift(n??t.target),Vi=Vi.filter(r=>r!=null&&r.isConnected),Vi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function kC(e){let t=ft(e),n=k.useRef(!1);k.useEffect(()=>(n.current=!1,()=>{n.current=!0,Df(()=>{n.current&&t()})}),[t])}let EC=k.createContext(!1);function m5(){return k.useContext(EC)}function N_(e){return We.createElement(EC.Provider,{value:e.force},e.children)}function g5(e){let t=m5(),n=k.useContext(TC),[r,i]=k.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(Gr.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return k.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),k.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let CC=k.Fragment,y5=Ln(function(e,t){let{ownerDocument:n=null,...r}=e,i=k.useRef(null),s=Qr(d4(h=>{i.current=h}),t),o=Sv(i.current),a=n??o,l=g5(a),u=k.useContext(_g),c=Nf(),f=fr();return kC(()=>{var h;l&&l.childNodes.length<=0&&((h=l.parentElement)==null||h.removeChild(l))}),l?vy.createPortal(We.createElement("div",{"data-headlessui-portal":"",ref:h=>{c.dispose(),u&&h&&c.add(u.register(h))}},f({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:CC,name:"Portal"})),l):null});function v5(e,t){let n=Qr(t),{enabled:r=!0,ownerDocument:i,...s}=e,o=fr();return r?We.createElement(y5,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:CC,name:"Portal"})}let w5=k.Fragment,TC=k.createContext(null);function b5(e,t){let{target:n,...r}=e,i={ref:Qr(t)},s=fr();return We.createElement(TC.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:w5,name:"Popover.Group"}))}let _g=k.createContext(null);function _5(){let e=k.useContext(_g),t=k.useRef([]),n=ft(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=ft(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),i=k.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,k.useMemo(()=>function({children:s}){return We.createElement(_g.Provider,{value:i},s)},[i])]}let x5=Ln(v5),PC=Ln(b5),S5=Object.assign(x5,{Group:PC});function k5(e,t=typeof document<"u"?document.defaultView:null,n){let r=Vu(e,"escape");SC(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===dC.Escape&&n(i))})}function E5(){var e;let[t]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=k.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Nn(()=>{if(!t)return;function i(s){r(s.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function C5({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=ft(()=>{var i,s;let o=Bu(n),a=[];for(let l of e)l!==null&&(ds(l)?a.push(l):"current"in l&&ds(l.current)&&a.push(l.current));if(t!=null&&t.current)for(let l of t.current)a.push(l);for(let l of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&ds(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:r,contains:ft(i=>r().some(s=>s.contains(i)))}}let AC=k.createContext(null);function L_({children:e,node:t}){let[n,r]=k.useState(null),i=jC(t??n);return We.createElement(AC.Provider,{value:i},e,i===null&&We.createElement(vg,{features:Zd.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=Bu(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&ds(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function jC(e=null){var t;return(t=k.useContext(AC))!=null?t:e}function T5(){let e=typeof document>"u";return"useSyncExternalStore"in c0?(t=>t.useSyncExternalStore)(c0)(()=>()=>{},()=>!1,()=>!e):!1}function Mf(){let e=T5(),[t,n]=k.useState(Gr.isHandoffComplete);return t&&Gr.isHandoffComplete===!1&&n(!1),k.useEffect(()=>{t!==!0&&n(!0)},[t]),k.useEffect(()=>Gr.handoff(),[]),e?!1:t}function Ev(){let e=k.useRef(!1);return Nn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var xl=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(xl||{});function P5(){let e=k.useRef(0);return xC(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function OC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)ds(n.current)&&t.add(n.current);return t}let A5="div";var Fs=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Fs||{});function j5(e,t){let n=k.useRef(null),r=Qr(n,t),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=e;Mf()||(a=0);let u=Sv(n.current);D5(a,{ownerDocument:u});let c=N5(a,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:s});L5(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:c});let f=P5(),h=ft(v=>{if(!po(n.current))return;let _=n.current;(T=>T())(()=>{bi(f.current,{[xl.Forwards]:()=>{zl(_,oi.First,{skipElements:[v.relatedTarget,s]})},[xl.Backwards]:()=>{zl(_,oi.Last,{skipElements:[v.relatedTarget,s]})}})})}),m=Vu(!!(a&2),"focus-trap#tab-lock"),w=Nf(),y=k.useRef(!1),x={ref:r,onKeyDown(v){v.key=="Tab"&&(y.current=!0,w.requestAnimationFrame(()=>{y.current=!1}))},onBlur(v){if(!(a&4))return;let _=OC(o);po(n.current)&&_.add(n.current);let T=v.relatedTarget;ts(T)&&T.dataset.headlessuiFocusGuard!=="true"&&(RC(_,T)||(y.current?zl(n.current,bi(f.current,{[xl.Forwards]:()=>oi.Next,[xl.Backwards]:()=>oi.Previous})|oi.WrapAround,{relativeTo:v.target}):ts(v.target)&&di(v.target)))}},g=fr();return We.createElement(We.Fragment,null,m&&We.createElement(vg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Zd.Focusable}),g({ourProps:x,theirProps:l,defaultTag:A5,name:"FocusTrap"}),m&&We.createElement(vg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Zd.Focusable}))}let O5=Ln(j5),R5=Object.assign(O5,{features:Fs});function I5(e=!0){let t=k.useRef(Vi.slice());return kv(([n],[r])=>{r===!0&&n===!1&&Df(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Vi.slice())},[e,Vi,t]),ft(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function D5(e,{ownerDocument:t}){let n=!!(e&8),r=I5(n);kv(()=>{n||JF(t==null?void 0:t.body)&&di(r())},[n]),kC(()=>{n&&di(r())})}function N5(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let s=k.useRef(null),o=Vu(!!(e&1),"focus-trap#initial-focus"),a=Ev();return kv(()=>{if(e===0)return;if(!o){i!=null&&i.current&&di(i.current);return}let l=n.current;l&&Df(()=>{if(!a.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){s.current=u;return}}else if(l.contains(u)){s.current=u;return}if(r!=null&&r.current)di(r.current);else{if(e&16){if(zl(l,oi.First|oi.AutoFocus)!==bg.Error)return}else if(zl(l,oi.First)!==bg.Error)return;if(i!=null&&i.current&&(di(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t==null?void 0:t.activeElement})},[i,o,e]),s}function L5(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let s=Ev(),o=!!(e&4);SC(t==null?void 0:t.defaultView,"focus",a=>{if(!o||!s.current)return;let l=OC(r);po(n.current)&&l.add(n.current);let u=i.current;if(!u)return;let c=a.target;po(c)?RC(l,c)?(i.current=c,di(c)):(a.preventDefault(),a.stopPropagation(),di(u)):di(i.current)},!0)}function RC(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function IC(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Bl((t=e.as)!=null?t:NC)||We.Children.count(e.children)===1}let Ff=k.createContext(null);Ff.displayName="TransitionContext";var $5=(e=>(e.Visible="visible",e.Hidden="hidden",e))($5||{});function M5(){let e=k.useContext(Ff);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function F5(){let e=k.useContext(Bf);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Bf=k.createContext(null);Bf.displayName="NestingContext";function Uf(e){return"children"in e?Uf(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function DC(e,t){let n=bo(e),r=k.useRef([]),i=Ev(),s=Nf(),o=ft((m,w=es.Hidden)=>{let y=r.current.findIndex(({el:x})=>x===m);y!==-1&&(bi(w,{[es.Unmount](){r.current.splice(y,1)},[es.Hidden](){r.current[y].state="hidden"}}),s.microTask(()=>{var x;!Uf(r)&&i.current&&((x=n.current)==null||x.call(n))}))}),a=ft(m=>{let w=r.current.find(({el:y})=>y===m);return w?w.state!=="visible"&&(w.state="visible"):r.current.push({el:m,state:"visible"}),()=>o(m,es.Unmount)}),l=k.useRef([]),u=k.useRef(Promise.resolve()),c=k.useRef({enter:[],leave:[]}),f=ft((m,w,y)=>{l.current.splice(0),t&&(t.chains.current[w]=t.chains.current[w].filter(([x])=>x!==m)),t==null||t.chains.current[w].push([m,new Promise(x=>{l.current.push(x)})]),t==null||t.chains.current[w].push([m,new Promise(x=>{Promise.all(c.current[w].map(([g,v])=>v)).then(()=>x())})]),w==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>y(w)):y(w)}),h=ft((m,w,y)=>{Promise.all(c.current[w].splice(0).map(([x,g])=>g)).then(()=>{var x;(x=l.current.shift())==null||x()}).then(()=>y(w))});return k.useMemo(()=>({children:r,register:a,unregister:o,onStart:f,onStop:h,wait:u,chains:c}),[a,o,r,f,h,c,u])}let NC=k.Fragment,LC=Jd.RenderStrategy;function B5(e,t){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:c,enterTo:f,entered:h,leave:m,leaveFrom:w,leaveTo:y,...x}=e,[g,v]=k.useState(null),_=k.useRef(null),T=IC(e),O=Qr(...T?[_,t,v]:t===null?[]:[t]),I=(n=x.unmount)==null||n?es.Unmount:es.Hidden,{show:R,appear:$,initial:U}=M5(),[V,we]=k.useState(R?"visible":"hidden"),F=F5(),{register:ee,unregister:A}=F;Nn(()=>ee(_),[ee,_]),Nn(()=>{if(I===es.Hidden&&_.current){if(R&&V!=="visible"){we("visible");return}return bi(V,{hidden:()=>A(_),visible:()=>ee(_)})}},[V,_,ee,A,R,I]);let ue=Mf();Nn(()=>{if(T&&ue&&V==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,V,ue,T]);let Oe=U&&!$,M=$&&R&&U,X=k.useRef(!1),Y=DC(()=>{X.current||(we("hidden"),A(_))},F),ce=ft(Ve=>{X.current=!0;let Be=Ve?"enter":"leave";Y.onStart(_,Be,be=>{be==="enter"?s==null||s():be==="leave"&&(a==null||a())})}),G=ft(Ve=>{let Be=Ve?"enter":"leave";X.current=!1,Y.onStop(_,Be,be=>{be==="enter"?o==null||o():be==="leave"&&(l==null||l())}),Be==="leave"&&!Uf(Y)&&(we("hidden"),A(_))});k.useEffect(()=>{T&&i||(ce(R),G(R))},[R,T,i]);let Q=!(!i||!T||!ue||Oe),[,oe]=a5(Q,g,R,{start:ce,end:G}),pe=Ls({ref:O,className:((r=yg(x.className,M&&u,M&&c,oe.enter&&u,oe.enter&&oe.closed&&c,oe.enter&&!oe.closed&&f,oe.leave&&m,oe.leave&&!oe.closed&&w,oe.leave&&oe.closed&&y,!oe.transition&&R&&h))==null?void 0:r.trim())||void 0,...o5(oe)}),me=0;V==="visible"&&(me|=kr.Open),V==="hidden"&&(me|=kr.Closed),R&&V==="hidden"&&(me|=kr.Opening),!R&&V==="visible"&&(me|=kr.Closing);let Me=fr();return We.createElement(Bf.Provider,{value:Y},We.createElement(f5,{value:me},Me({ourProps:pe,theirProps:x,defaultTag:NC,features:LC,visible:V==="visible",name:"Transition.Child"})))}function U5(e,t){let{show:n,appear:r=!1,unmount:i=!0,...s}=e,o=k.useRef(null),a=IC(e),l=Qr(...a?[o,t]:t===null?[]:[t]);Mf();let u=$f();if(n===void 0&&u!==null&&(n=(u&kr.Open)===kr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,f]=k.useState(n?"visible":"hidden"),h=DC(()=>{n||f("hidden")}),[m,w]=k.useState(!0),y=k.useRef([n]);Nn(()=>{m!==!1&&y.current[y.current.length-1]!==n&&(y.current.push(n),w(!1))},[y,n]);let x=k.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);Nn(()=>{n?f("visible"):!Uf(h)&&o.current!==null&&f("hidden")},[n,h]);let g={unmount:i},v=ft(()=>{var O;m&&w(!1),(O=e.beforeEnter)==null||O.call(e)}),_=ft(()=>{var O;m&&w(!1),(O=e.beforeLeave)==null||O.call(e)}),T=fr();return We.createElement(Bf.Provider,{value:h},We.createElement(Ff.Provider,{value:x},T({ourProps:{...g,as:k.Fragment,children:We.createElement($C,{ref:l,...g,...s,beforeEnter:v,beforeLeave:_})},theirProps:{},defaultTag:k.Fragment,features:LC,visible:c==="visible",name:"Transition"})))}function z5(e,t){let n=k.useContext(Ff)!==null,r=$f()!==null;return We.createElement(We.Fragment,null,!n&&r?We.createElement(xg,{ref:t,...e}):We.createElement($C,{ref:t,...e}))}let xg=Ln(U5),$C=Ln(B5),Cv=Ln(z5),dd=Object.assign(xg,{Child:Cv,Root:xg});var V5=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(V5||{}),K5=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(K5||{});let W5={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Tv=k.createContext(null);Tv.displayName="DialogContext";function zf(e){let t=k.useContext(Tv);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,zf),n}return t}function H5(e,t){return bi(t.type,W5,e,t)}let $_=Ln(function(e,t){let n=k.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:c=!1,...f}=e,h=k.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=$f();i===void 0&&m!==null&&(i=(m&kr.Open)===kr.Open);let w=k.useRef(null),y=Qr(w,t),x=Sv(w.current),g=i?0:1,[v,_]=k.useReducer(H5,{titleId:null,descriptionId:null,panelRef:k.createRef()}),T=ft(()=>s(!1)),O=ft(oe=>_({type:0,id:oe})),I=Mf()?g===0:!1,[R,$]=_5(),U={get current(){var oe;return(oe=v.panelRef.current)!=null?oe:w.current}},V=jC(),{resolveContainers:we}=C5({mainTreeNode:V,portals:R,defaultContainers:[U]}),F=m!==null?(m&kr.Closing)===kr.Closing:!1;$4(u||F?!1:I,{allowed:ft(()=>{var oe,pe;return[(pe=(oe=w.current)==null?void 0:oe.closest("[data-headlessui-portal]"))!=null?pe:null]}),disallowed:ft(()=>{var oe;return[(oe=V==null?void 0:V.closest("body > *:not(#headlessui-portal-root)"))!=null?oe:null]})});let ee=gC.get(null);Nn(()=>{if(I)return ee.actions.push(r),()=>ee.actions.pop(r)},[ee,r,I]);let A=wC(ee,k.useCallback(oe=>ee.selectors.isTop(oe,r),[ee,r]));Q4(A,we,oe=>{oe.preventDefault(),T()}),k5(A,x==null?void 0:x.defaultView,oe=>{oe.preventDefault(),oe.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),T()}),n5(u||F?!1:I,x,we),M4(I,w,T);let[ue,Oe]=f4(),M=k.useMemo(()=>[{dialogState:g,close:T,setTitleId:O,unmount:c},v],[g,T,O,c,v]),X=Uu({open:g===0}),Y={ref:y,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:g===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":ue,unmount:c},ce=!E5(),G=Fs.None;I&&!u&&(G|=Fs.RestoreFocus,G|=Fs.TabLock,l&&(G|=Fs.AutoFocus),ce&&(G|=Fs.InitialFocus));let Q=fr();return We.createElement(h5,null,We.createElement(N_,{force:!0},We.createElement(S5,null,We.createElement(Tv.Provider,{value:M},We.createElement(PC,{target:w},We.createElement(N_,{force:!1},We.createElement(Oe,{slot:X},We.createElement($,null,We.createElement(R5,{initialFocus:o,initialFocusFallback:w,containers:we,features:G},We.createElement(v4,{value:T},Q({ourProps:Y,theirProps:f,slot:X,defaultTag:q5,features:G5,visible:g===0,name:"Dialog"})))))))))))}),q5="div",G5=Jd.RenderStrategy|Jd.Static;function Q5(e,t){let{transition:n=!1,open:r,...i}=e,s=$f(),o=e.hasOwnProperty("open")||s!==null,a=e.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?We.createElement(L_,null,We.createElement(dd,{show:r,transition:n,unmount:i.unmount},We.createElement($_,{ref:t,...i}))):We.createElement(L_,null,We.createElement($_,{ref:t,open:r,...i}))}let Y5="div";function J5(e,t){let n=k.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=e,[{dialogState:o,unmount:a},l]=zf("Dialog.Panel"),u=Qr(t,l.panelRef),c=Uu({open:o===0}),f=ft(x=>{x.stopPropagation()}),h={ref:u,id:r,onClick:f},m=i?Cv:k.Fragment,w=i?{unmount:a}:{},y=fr();return We.createElement(m,{...w},y({ourProps:h,theirProps:s,slot:c,defaultTag:Y5,name:"Dialog.Panel"}))}let Z5="div";function X5(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:s}]=zf("Dialog.Backdrop"),o=Uu({open:i===0}),a={ref:t,"aria-hidden":!0},l=n?Cv:k.Fragment,u=n?{unmount:s}:{},c=fr();return We.createElement(l,{...u},c({ourProps:a,theirProps:r,slot:o,defaultTag:Z5,name:"Dialog.Backdrop"}))}let eB="h2";function tB(e,t){let n=k.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:s,setTitleId:o}]=zf("Dialog.Title"),a=Qr(t);k.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=Uu({open:s===0}),u={ref:a,id:r};return fr()({ourProps:u,theirProps:i,slot:l,defaultTag:eB,name:"Dialog.Title"})}let nB=Ln(Q5),rB=Ln(J5);Ln(X5);let iB=Ln(tB),Sp=Object.assign(nB,{Panel:rB,Title:iB,Description:g4});const sB=({isOpen:e,onClose:t,onLanguageSave:n,currentLanguage:r})=>{const[i,s]=k.useState(r),o=l=>{s(l.target.value)},a=()=>{n(i),t()};return E.jsx(dd,{appear:!0,show:e,as:k.Fragment,children:E.jsxs(Sp,{as:"div",className:"relative z-10",onClose:t,children:[E.jsxs(dd.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})," "]}),E.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:E.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:E.jsx(dd.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:E.jsxs(Sp.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[E.jsx(Sp.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Language Settings"}),E.jsxs("div",{className:"mt-2",children:[E.jsxs("label",{className:"block",children:[E.jsx("input",{type:"radio",name:"language",value:"iast",checked:i==="iast",onChange:o,className:"mr-2"}),"IAST"]}),E.jsx("br",{}),E.jsxs("label",{className:"block",children:[E.jsx("input",{type:"radio",name:"language",value:"tamil_superscripted",checked:i==="tamil_superscripted",onChange:o,className:"mr-2"}),"Tamil"]}),E.jsx("br",{}),E.jsxs("label",{className:"block",children:[E.jsx("input",{type:"radio",name:"language",value:"malayalam",checked:i==="malayalam",onChange:o,className:"mr-2"}),"Malayalam"]}),E.jsx("br",{}),E.jsxs("label",{className:"block",children:[E.jsx("input",{type:"radio",name:"language",value:"devanagari",checked:i==="devanagari",onChange:o,className:"mr-2"}),"Devanagari"]}),E.jsx("br",{}),E.jsxs("label",{className:"block",children:[E.jsx("input",{type:"radio",name:"language",value:"itrans",checked:i==="itrans",onChange:o,className:"mr-2"}),"ITrans"]}),E.jsx("br",{})]}),E.jsxs("div",{className:"mt-4",children:[E.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 mr-2",onClick:t,children:"Close"}),E.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:a,children:"Save"})]})]})})})})]})})},oB=()=>{const[e,t]=k.useState(navigator.onLine);k.useEffect(()=>{const h=()=>t(!0),m=()=>t(!1);return window.addEventListener("online",h),window.addEventListener("offline",m),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(w=>{console.log("Service Worker is active:",w.active)}),()=>{window.removeEventListener("online",h),window.removeEventListener("offline",m)}},[]);const{preferredLanguage:n,setPreferredLanguage:r}=Ba(),{session:i}=bs(),[s,o]=k.useState(!1),a=()=>o(!s),[l,u]=k.useState(!1),c=()=>u(!0),f=()=>u(!1);return k.useEffect(()=>{i&&o(!1)},[i]),E.jsx(GI,{children:E.jsx(HR,{children:E.jsxs("div",{className:"app-layout",children:[" ",E.jsx("div",{className:"flex justify-end p-4 bg-gray-100",children:E.jsx(qF,{toggleDropdown:a,isDropdownOpen:s,openLanguageSettings:c})}),E.jsx(sB,{isOpen:l,onClose:f,onLanguageSave:r,currentLanguage:n}),E.jsx(HI,{children:E.jsxs(HF,{children:[E.jsx(KF,{}),E.jsx(jF,{})]})})]})})})};function aB(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e;let a,l;const u=async(f=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(a=await $a(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/new-sankeertan/sw.js",{scope:"/new-sankeertan/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;a.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),a.addEventListener("installed",f=>{f.isUpdate||r==null||r()}),a.register({immediate:t}).then(f=>{s?s("/new-sankeertan/sw.js",f):i==null||i(f)}).catch(f=>{o==null||o(f)})}}return l=c(),u}aB();const lB=new _I({defaultOptions:{queries:{staleTime:1/0,gcTime:1/0}}}),uB=kp.createRoot(document.getElementById("root"));uB.render(E.jsx(We.StrictMode,{children:E.jsx(xI,{client:lB,children:E.jsx(ZA,{children:E.jsx(fk,{children:E.jsx(oB,{})})})})}));
