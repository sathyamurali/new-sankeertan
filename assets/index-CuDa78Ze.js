var Ym=e=>{throw TypeError(e)};var Vc=(e,t,n)=>t.has(e)||Ym("Cannot "+n);var $=(e,t,n)=>(Vc(e,t,"read from private field"),n?n.call(e):t.get(e)),de=(e,t,n)=>t.has(e)?Ym("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ie=(e,t,n,r)=>(Vc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),be=(e,t,n)=>(Vc(e,t,"access private method"),n);var gl=(e,t,n,r)=>({set _(s){ie(e,t,s,n)},get _(){return $(e,t,r)}});function C1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function T1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var B0={exports:{}},nc={},z0={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha=Symbol.for("react.element"),P1=Symbol.for("react.portal"),A1=Symbol.for("react.fragment"),j1=Symbol.for("react.strict_mode"),R1=Symbol.for("react.profiler"),O1=Symbol.for("react.provider"),I1=Symbol.for("react.context"),D1=Symbol.for("react.forward_ref"),N1=Symbol.for("react.suspense"),L1=Symbol.for("react.memo"),$1=Symbol.for("react.lazy"),Zm=Symbol.iterator;function M1(e){return e===null||typeof e!="object"?null:(e=Zm&&e[Zm]||e["@@iterator"],typeof e=="function"?e:null)}var V0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W0=Object.assign,H0={};function ao(e,t,n){this.props=e,this.context=t,this.refs=H0,this.updater=n||V0}ao.prototype.isReactComponent={};ao.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ao.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K0(){}K0.prototype=ao.prototype;function Gf(e,t,n){this.props=e,this.context=t,this.refs=H0,this.updater=n||V0}var Qf=Gf.prototype=new K0;Qf.constructor=Gf;W0(Qf,ao.prototype);Qf.isPureReactComponent=!0;var Xm=Array.isArray,q0=Object.prototype.hasOwnProperty,Jf={current:null},G0={key:!0,ref:!0,__self:!0,__source:!0};function Q0(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)q0.call(t,r)&&!G0.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ha,type:e,key:i,ref:o,props:s,_owner:Jf.current}}function F1(e,t){return{$$typeof:Ha,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ha}function U1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eg=/\/+/g;function Wc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U1(""+e.key):t.toString(36)}function Gl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ha:case P1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Wc(o,0):r,Xm(s)?(n="",e!=null&&(n=e.replace(eg,"$&/")+"/"),Gl(s,t,n,"",function(u){return u})):s!=null&&(Yf(s)&&(s=F1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(eg,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Xm(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Wc(i,a);o+=Gl(i,t,n,l,s)}else if(l=M1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Wc(i,a++),o+=Gl(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yl(e,t,n){if(e==null)return e;var r=[],s=0;return Gl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function B1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kt={current:null},Ql={transition:null},z1={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Ql,ReactCurrentOwner:Jf};function J0(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:yl,forEach:function(e,t,n){yl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yl(e,function(){t++}),t},toArray:function(e){return yl(e,function(t){return t})||[]},only:function(e){if(!Yf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=ao;we.Fragment=A1;we.Profiler=R1;we.PureComponent=Gf;we.StrictMode=j1;we.Suspense=N1;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z1;we.act=J0;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=W0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Jf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)q0.call(t,l)&&!G0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ha,type:e.type,key:s,ref:i,props:r,_owner:o}};we.createContext=function(e){return e={$$typeof:I1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:O1,_context:e},e.Consumer=e};we.createElement=Q0;we.createFactory=function(e){var t=Q0.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:D1,render:e}};we.isValidElement=Yf;we.lazy=function(e){return{$$typeof:$1,_payload:{_status:-1,_result:e},_init:B1}};we.memo=function(e,t){return{$$typeof:L1,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=Ql.transition;Ql.transition={};try{e()}finally{Ql.transition=t}};we.unstable_act=J0;we.useCallback=function(e,t){return kt.current.useCallback(e,t)};we.useContext=function(e){return kt.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return kt.current.useDeferredValue(e)};we.useEffect=function(e,t){return kt.current.useEffect(e,t)};we.useId=function(){return kt.current.useId()};we.useImperativeHandle=function(e,t,n){return kt.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return kt.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return kt.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return kt.current.useMemo(e,t)};we.useReducer=function(e,t,n){return kt.current.useReducer(e,t,n)};we.useRef=function(e){return kt.current.useRef(e)};we.useState=function(e){return kt.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return kt.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return kt.current.useTransition()};we.version="18.3.1";z0.exports=we;var _=z0.exports;const he=qf(_),tg=C1({__proto__:null,default:he},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1=_,W1=Symbol.for("react.element"),H1=Symbol.for("react.fragment"),K1=Object.prototype.hasOwnProperty,q1=V1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G1={key:!0,ref:!0,__self:!0,__source:!0};function Y0(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)K1.call(t,r)&&!G1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:W1,type:e,key:i,ref:o,props:s,_owner:q1.current}}nc.Fragment=H1;nc.jsx=Y0;nc.jsxs=Y0;B0.exports=nc;var b=B0.exports,qd={},Z0={exports:{}},Gt={},X0={exports:{}},ew={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,F){var H=U.length;U.push(F);e:for(;0<H;){var I=H-1>>>1,N=U[I];if(0<s(N,F))U[I]=F,U[H]=N,H=I;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var F=U[0],H=U.pop();if(H!==F){U[0]=H;e:for(var I=0,N=U.length,K=N>>>1;I<K;){var Z=2*(I+1)-1,Q=U[Z],ce=Z+1,ge=U[ce];if(0>s(Q,H))ce<N&&0>s(ge,Q)?(U[I]=ge,U[ce]=H,I=ce):(U[I]=Q,U[Z]=H,I=Z);else if(ce<N&&0>s(ge,H))U[I]=ge,U[ce]=H,I=ce;else break e}}return F}function s(U,F){var H=U.sortIndex-F.sortIndex;return H!==0?H:U.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,v=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(U){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=U)r(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(u)}}function x(U){if(m=!1,y(U),!v)if(n(l)!==null)v=!0,oe(E);else{var F=n(u);F!==null&&R(x,F.startTime-U)}}function E(U,F){v=!1,m&&(m=!1,p(A),A=-1),f=!0;var H=h;try{for(y(F),d=n(l);d!==null&&(!(d.expirationTime>F)||U&&!J());){var I=d.callback;if(typeof I=="function"){d.callback=null,h=d.priorityLevel;var N=I(d.expirationTime<=F);F=e.unstable_now(),typeof N=="function"?d.callback=N:d===n(l)&&r(l),y(F)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var Z=n(u);Z!==null&&R(x,Z.startTime-F),K=!1}return K}finally{d=null,h=H,f=!1}}var T=!1,C=null,A=-1,D=5,L=-1;function J(){return!(e.unstable_now()-L<D)}function O(){if(C!==null){var U=e.unstable_now();L=U;var F=!0;try{F=C(!0,U)}finally{F?z():(T=!1,C=null)}}else T=!1}var z;if(typeof g=="function")z=function(){g(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,W=k.port2;k.port1.onmessage=O,z=function(){W.postMessage(null)}}else z=function(){w(O,0)};function oe(U){C=U,T||(T=!0,z())}function R(U,F){A=w(function(){U(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,oe(E))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var H=h;h=F;try{return U()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=h;h=U;try{return F()}finally{h=H}},e.unstable_scheduleCallback=function(U,F,H){var I=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?I+H:I):H=I,U){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=H+N,U={id:c++,callback:F,priorityLevel:U,startTime:H,expirationTime:N,sortIndex:-1},H>I?(U.sortIndex=H,t(u,U),n(l)===null&&U===n(u)&&(m?(p(A),A=-1):m=!0,R(x,H-I))):(U.sortIndex=N,t(l,U),v||f||(v=!0,oe(E))),U},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(U){var F=h;return function(){var H=h;h=F;try{return U.apply(this,arguments)}finally{h=H}}}})(ew);X0.exports=ew;var Q1=X0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1=_,Kt=Q1;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tw=new Set,ha={};function Ys(e,t){Yi(e,t),Yi(e+"Capture",t)}function Yi(e,t){for(ha[e]=t,e=0;e<t.length;e++)tw.add(t[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gd=Object.prototype.hasOwnProperty,Y1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ng={},rg={};function Z1(e){return Gd.call(rg,e)?!0:Gd.call(ng,e)?!1:Y1.test(e)?rg[e]=!0:(ng[e]=!0,!1)}function X1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ek(e,t,n,r){if(t===null||typeof t>"u"||X1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Et(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new Et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zf=/[\-:]([a-z])/g;function Xf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zf,Xf);lt[t]=new Et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zf,Xf);lt[t]=new Et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zf,Xf);lt[t]=new Et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function ep(e,t,n,r){var s=lt.hasOwnProperty(t)?lt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ek(t,n,s,r)&&(n=null),r||s===null?Z1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gr=J1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vl=Symbol.for("react.element"),pi=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),tp=Symbol.for("react.strict_mode"),Qd=Symbol.for("react.profiler"),nw=Symbol.for("react.provider"),rw=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),Jd=Symbol.for("react.suspense"),Yd=Symbol.for("react.suspense_list"),rp=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),sw=Symbol.for("react.offscreen"),sg=Symbol.iterator;function xo(e){return e===null||typeof e!="object"?null:(e=sg&&e[sg]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,Hc;function Lo(e){if(Hc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hc=t&&t[1]||""}return`
`+Hc+e}var Kc=!1;function qc(e,t){if(!e||Kc)return"";Kc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Kc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lo(e):""}function tk(e){switch(e.tag){case 5:return Lo(e.type);case 16:return Lo("Lazy");case 13:return Lo("Suspense");case 19:return Lo("SuspenseList");case 0:case 2:case 15:return e=qc(e.type,!1),e;case 11:return e=qc(e.type.render,!1),e;case 1:return e=qc(e.type,!0),e;default:return""}}function Zd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mi:return"Fragment";case pi:return"Portal";case Qd:return"Profiler";case tp:return"StrictMode";case Jd:return"Suspense";case Yd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rw:return(e.displayName||"Context")+".Consumer";case nw:return(e._context.displayName||"Context")+".Provider";case np:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rp:return t=e.displayName||null,t!==null?t:Zd(e.type)||"Memo";case Er:t=e._payload,e=e._init;try{return Zd(e(t))}catch{}}return null}function nk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zd(t);case 8:return t===tp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rk(e){var t=iw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wl(e){e._valueTracker||(e._valueTracker=rk(e))}function ow(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xd(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ig(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=es(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aw(e,t){t=t.checked,t!=null&&ep(e,"checked",t,!1)}function eh(e,t){aw(e,t);var n=es(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?th(e,t.type,n):t.hasOwnProperty("defaultValue")&&th(e,t.type,es(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function og(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function th(e,t,n){(t!=="number"||mu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $o=Array.isArray;function Ri(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+es(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function nh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ag(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if($o(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:es(n)}}function lw(e,t){var n=es(t.value),r=es(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bl,cw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bl=bl||document.createElement("div"),bl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sk=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(e){sk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ko[t]=Ko[e]})});function dw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ko.hasOwnProperty(e)&&Ko[e]?(""+t).trim():t+"px"}function hw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ik=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sh(e,t){if(t){if(ik[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function ih(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=null;function sp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ah=null,Oi=null,Ii=null;function ug(e){if(e=Ga(e)){if(typeof ah!="function")throw Error(X(280));var t=e.stateNode;t&&(t=ac(t),ah(e.stateNode,e.type,t))}}function fw(e){Oi?Ii?Ii.push(e):Ii=[e]:Oi=e}function pw(){if(Oi){var e=Oi,t=Ii;if(Ii=Oi=null,ug(e),t)for(e=0;e<t.length;e++)ug(t[e])}}function mw(e,t){return e(t)}function gw(){}var Gc=!1;function yw(e,t,n){if(Gc)return e(t,n);Gc=!0;try{return mw(e,t,n)}finally{Gc=!1,(Oi!==null||Ii!==null)&&(gw(),pw())}}function pa(e,t){var n=e.stateNode;if(n===null)return null;var r=ac(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var lh=!1;if(ar)try{var So={};Object.defineProperty(So,"passive",{get:function(){lh=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{lh=!1}function ok(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var qo=!1,gu=null,yu=!1,uh=null,ak={onError:function(e){qo=!0,gu=e}};function lk(e,t,n,r,s,i,o,a,l){qo=!1,gu=null,ok.apply(ak,arguments)}function uk(e,t,n,r,s,i,o,a,l){if(lk.apply(this,arguments),qo){if(qo){var u=gu;qo=!1,gu=null}else throw Error(X(198));yu||(yu=!0,uh=u)}}function Zs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cg(e){if(Zs(e)!==e)throw Error(X(188))}function ck(e){var t=e.alternate;if(!t){if(t=Zs(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return cg(s),e;if(i===r)return cg(s),t;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function ww(e){return e=ck(e),e!==null?bw(e):null}function bw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bw(e);if(t!==null)return t;e=e.sibling}return null}var _w=Kt.unstable_scheduleCallback,dg=Kt.unstable_cancelCallback,dk=Kt.unstable_shouldYield,hk=Kt.unstable_requestPaint,Ke=Kt.unstable_now,fk=Kt.unstable_getCurrentPriorityLevel,ip=Kt.unstable_ImmediatePriority,xw=Kt.unstable_UserBlockingPriority,vu=Kt.unstable_NormalPriority,pk=Kt.unstable_LowPriority,Sw=Kt.unstable_IdlePriority,rc=null,Bn=null;function mk(e){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(rc,e,void 0,(e.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:vk,gk=Math.log,yk=Math.LN2;function vk(e){return e>>>=0,e===0?32:31-(gk(e)/yk|0)|0}var _l=64,xl=4194304;function Mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Mo(a):(i&=o,i!==0&&(r=Mo(i)))}else o=n&~s,o!==0?r=Mo(o):i!==0&&(r=Mo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Cn(t),s=1<<n,r|=e[n],t&=~s;return r}function wk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Cn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=wk(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ch(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kw(){var e=_l;return _l<<=1,!(_l&4194240)&&(_l=64),e}function Qc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ka(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cn(t),e[t]=n}function _k(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Cn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function op(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Cn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ce=0;function Ew(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cw,ap,Tw,Pw,Aw,dh=!1,Sl=[],Wr=null,Hr=null,Kr=null,ma=new Map,ga=new Map,Tr=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hg(e,t){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":ma.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(t.pointerId)}}function ko(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ga(t),t!==null&&ap(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Sk(e,t,n,r,s){switch(t){case"focusin":return Wr=ko(Wr,e,t,n,r,s),!0;case"dragenter":return Hr=ko(Hr,e,t,n,r,s),!0;case"mouseover":return Kr=ko(Kr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ma.set(i,ko(ma.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ga.set(i,ko(ga.get(i)||null,e,t,n,r,s)),!0}return!1}function jw(e){var t=Ss(e.target);if(t!==null){var n=Zs(t);if(n!==null){if(t=n.tag,t===13){if(t=vw(n),t!==null){e.blockedOn=t,Aw(e.priority,function(){Tw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);oh=r,n.target.dispatchEvent(r),oh=null}else return t=Ga(n),t!==null&&ap(t),e.blockedOn=n,!1;t.shift()}return!0}function fg(e,t,n){Jl(e)&&n.delete(t)}function kk(){dh=!1,Wr!==null&&Jl(Wr)&&(Wr=null),Hr!==null&&Jl(Hr)&&(Hr=null),Kr!==null&&Jl(Kr)&&(Kr=null),ma.forEach(fg),ga.forEach(fg)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,kk)))}function ya(e){function t(s){return Eo(s,e)}if(0<Sl.length){Eo(Sl[0],e);for(var n=1;n<Sl.length;n++){var r=Sl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wr!==null&&Eo(Wr,e),Hr!==null&&Eo(Hr,e),Kr!==null&&Eo(Kr,e),ma.forEach(t),ga.forEach(t),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)jw(n),n.blockedOn===null&&Tr.shift()}var Di=gr.ReactCurrentBatchConfig,bu=!0;function Ek(e,t,n,r){var s=Ce,i=Di.transition;Di.transition=null;try{Ce=1,lp(e,t,n,r)}finally{Ce=s,Di.transition=i}}function Ck(e,t,n,r){var s=Ce,i=Di.transition;Di.transition=null;try{Ce=4,lp(e,t,n,r)}finally{Ce=s,Di.transition=i}}function lp(e,t,n,r){if(bu){var s=hh(e,t,n,r);if(s===null)id(e,t,r,_u,n),hg(e,r);else if(Sk(s,e,t,n,r))r.stopPropagation();else if(hg(e,r),t&4&&-1<xk.indexOf(e)){for(;s!==null;){var i=Ga(s);if(i!==null&&Cw(i),i=hh(e,t,n,r),i===null&&id(e,t,r,_u,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else id(e,t,r,null,n)}}var _u=null;function hh(e,t,n,r){if(_u=null,e=sp(r),e=Ss(e),e!==null)if(t=Zs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _u=e,null}function Rw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fk()){case ip:return 1;case xw:return 4;case vu:case pk:return 16;case Sw:return 536870912;default:return 16}default:return 16}}var Ur=null,up=null,Yl=null;function Ow(){if(Yl)return Yl;var e,t=up,n=t.length,r,s="value"in Ur?Ur.value:Ur.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Yl=s.slice(e,1<r?1-r:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kl(){return!0}function pg(){return!1}function Qt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kl:pg,this.isPropagationStopped=pg,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),t}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cp=Qt(lo),qa=Be({},lo,{view:0,detail:0}),Tk=Qt(qa),Jc,Yc,Co,sc=Be({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Co&&(Co&&e.type==="mousemove"?(Jc=e.screenX-Co.screenX,Yc=e.screenY-Co.screenY):Yc=Jc=0,Co=e),Jc)},movementY:function(e){return"movementY"in e?e.movementY:Yc}}),mg=Qt(sc),Pk=Be({},sc,{dataTransfer:0}),Ak=Qt(Pk),jk=Be({},qa,{relatedTarget:0}),Zc=Qt(jk),Rk=Be({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ok=Qt(Rk),Ik=Be({},lo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dk=Qt(Ik),Nk=Be({},lo,{data:0}),gg=Qt(Nk),Lk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$k={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mk[e])?!!t[e]:!1}function dp(){return Fk}var Uk=Be({},qa,{key:function(e){if(e.key){var t=Lk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$k[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dp,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bk=Qt(Uk),zk=Be({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yg=Qt(zk),Vk=Be({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dp}),Wk=Qt(Vk),Hk=Be({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kk=Qt(Hk),qk=Be({},sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=Qt(qk),Qk=[9,13,27,32],hp=ar&&"CompositionEvent"in window,Go=null;ar&&"documentMode"in document&&(Go=document.documentMode);var Jk=ar&&"TextEvent"in window&&!Go,Iw=ar&&(!hp||Go&&8<Go&&11>=Go),vg=" ",wg=!1;function Dw(e,t){switch(e){case"keyup":return Qk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gi=!1;function Yk(e,t){switch(e){case"compositionend":return Nw(t);case"keypress":return t.which!==32?null:(wg=!0,vg);case"textInput":return e=t.data,e===vg&&wg?null:e;default:return null}}function Zk(e,t){if(gi)return e==="compositionend"||!hp&&Dw(e,t)?(e=Ow(),Yl=up=Ur=null,gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Iw&&t.locale!=="ko"?null:t.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xk[e.type]:t==="textarea"}function Lw(e,t,n,r){fw(r),t=xu(t,"onChange"),0<t.length&&(n=new cp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qo=null,va=null;function eE(e){qw(e,0)}function ic(e){var t=wi(e);if(ow(t))return e}function tE(e,t){if(e==="change")return t}var $w=!1;if(ar){var Xc;if(ar){var ed="oninput"in document;if(!ed){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),ed=typeof _g.oninput=="function"}Xc=ed}else Xc=!1;$w=Xc&&(!document.documentMode||9<document.documentMode)}function xg(){Qo&&(Qo.detachEvent("onpropertychange",Mw),va=Qo=null)}function Mw(e){if(e.propertyName==="value"&&ic(va)){var t=[];Lw(t,va,e,sp(e)),yw(eE,t)}}function nE(e,t,n){e==="focusin"?(xg(),Qo=t,va=n,Qo.attachEvent("onpropertychange",Mw)):e==="focusout"&&xg()}function rE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ic(va)}function sE(e,t){if(e==="click")return ic(t)}function iE(e,t){if(e==="input"||e==="change")return ic(t)}function oE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pn=typeof Object.is=="function"?Object.is:oE;function wa(e,t){if(Pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gd.call(t,s)||!Pn(e[s],t[s]))return!1}return!0}function Sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kg(e,t){var n=Sg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sg(n)}}function Fw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uw(){for(var e=window,t=mu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mu(e.document)}return t}function fp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aE(e){var t=Uw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fw(n.ownerDocument.documentElement,n)){if(r!==null&&fp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=kg(n,i);var o=kg(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lE=ar&&"documentMode"in document&&11>=document.documentMode,yi=null,fh=null,Jo=null,ph=!1;function Eg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ph||yi==null||yi!==mu(r)||(r=yi,"selectionStart"in r&&fp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jo&&wa(Jo,r)||(Jo=r,r=xu(fh,"onSelect"),0<r.length&&(t=new cp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yi)))}function El(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vi={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},td={},Bw={};ar&&(Bw=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function oc(e){if(td[e])return td[e];if(!vi[e])return e;var t=vi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bw)return td[e]=t[n];return e}var zw=oc("animationend"),Vw=oc("animationiteration"),Ww=oc("animationstart"),Hw=oc("transitionend"),Kw=new Map,Cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(e,t){Kw.set(e,t),Ys(t,[e])}for(var nd=0;nd<Cg.length;nd++){var rd=Cg[nd],uE=rd.toLowerCase(),cE=rd[0].toUpperCase()+rd.slice(1);ss(uE,"on"+cE)}ss(zw,"onAnimationEnd");ss(Vw,"onAnimationIteration");ss(Ww,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(Hw,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function Tg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,uk(r,t,void 0,e),e.currentTarget=null}function qw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Tg(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Tg(s,a,u),i=l}}}if(yu)throw e=uh,yu=!1,uh=null,e}function Re(e,t){var n=t[wh];n===void 0&&(n=t[wh]=new Set);var r=e+"__bubble";n.has(r)||(Gw(t,e,2,!1),n.add(r))}function sd(e,t,n){var r=0;t&&(r|=4),Gw(n,e,r,t)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function ba(e){if(!e[Cl]){e[Cl]=!0,tw.forEach(function(n){n!=="selectionchange"&&(dE.has(n)||sd(n,!1,e),sd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cl]||(t[Cl]=!0,sd("selectionchange",!1,t))}}function Gw(e,t,n,r){switch(Rw(t)){case 1:var s=Ek;break;case 4:s=Ck;break;default:s=lp}n=s.bind(null,t,n,e),s=void 0,!lh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function id(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ss(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}yw(function(){var u=i,c=sp(n),d=[];e:{var h=Kw.get(e);if(h!==void 0){var f=cp,v=e;switch(e){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":f=Bk;break;case"focusin":v="focus",f=Zc;break;case"focusout":v="blur",f=Zc;break;case"beforeblur":case"afterblur":f=Zc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Ak;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Wk;break;case zw:case Vw:case Ww:f=Ok;break;case Hw:f=Kk;break;case"scroll":f=Tk;break;case"wheel":f=Gk;break;case"copy":case"cut":case"paste":f=Dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=yg}var m=(t&4)!==0,w=!m&&e==="scroll",p=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,p!==null&&(x=pa(g,p),x!=null&&m.push(_a(g,x,y)))),w)break;g=g.return}0<m.length&&(h=new f(h,v,null,n,c),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==oh&&(v=n.relatedTarget||n.fromElement)&&(Ss(v)||v[lr]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?Ss(v):null,v!==null&&(w=Zs(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(m=mg,x="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=yg,x="onPointerLeave",p="onPointerEnter",g="pointer"),w=f==null?h:wi(f),y=v==null?h:wi(v),h=new m(x,g+"leave",f,n,c),h.target=w,h.relatedTarget=y,x=null,Ss(c)===u&&(m=new m(p,g+"enter",v,n,c),m.target=y,m.relatedTarget=w,x=m),w=x,f&&v)t:{for(m=f,p=v,g=0,y=m;y;y=ri(y))g++;for(y=0,x=p;x;x=ri(x))y++;for(;0<g-y;)m=ri(m),g--;for(;0<y-g;)p=ri(p),y--;for(;g--;){if(m===p||p!==null&&m===p.alternate)break t;m=ri(m),p=ri(p)}m=null}else m=null;f!==null&&Pg(d,h,f,m,!1),v!==null&&w!==null&&Pg(d,w,v,m,!0)}}e:{if(h=u?wi(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var E=tE;else if(bg(h))if($w)E=iE;else{E=rE;var T=nE}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=sE);if(E&&(E=E(e,u))){Lw(d,E,n,c);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&th(h,"number",h.value)}switch(T=u?wi(u):window,e){case"focusin":(bg(T)||T.contentEditable==="true")&&(yi=T,fh=u,Jo=null);break;case"focusout":Jo=fh=yi=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,Eg(d,n,c);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":Eg(d,n,c)}var C;if(hp)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else gi?Dw(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Iw&&n.locale!=="ko"&&(gi||A!=="onCompositionStart"?A==="onCompositionEnd"&&gi&&(C=Ow()):(Ur=c,up="value"in Ur?Ur.value:Ur.textContent,gi=!0)),T=xu(u,A),0<T.length&&(A=new gg(A,e,null,n,c),d.push({event:A,listeners:T}),C?A.data=C:(C=Nw(n),C!==null&&(A.data=C)))),(C=Jk?Yk(e,n):Zk(e,n))&&(u=xu(u,"onBeforeInput"),0<u.length&&(c=new gg("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}qw(d,t)})}function _a(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pa(e,n),i!=null&&r.unshift(_a(e,i,s)),i=pa(e,t),i!=null&&r.push(_a(e,i,s))),e=e.return}return r}function ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pg(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=pa(n,i),l!=null&&o.unshift(_a(n,l,a))):s||(l=pa(n,i),l!=null&&o.push(_a(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var hE=/\r\n?/g,fE=/\u0000|\uFFFD/g;function Ag(e){return(typeof e=="string"?e:""+e).replace(hE,`
`).replace(fE,"")}function Tl(e,t,n){if(t=Ag(t),Ag(e)!==t&&n)throw Error(X(425))}function Su(){}var mh=null,gh=null;function yh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,pE=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(e){return jg.resolve(null).then(e).catch(gE)}:vh;function gE(e){setTimeout(function(){throw e})}function od(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ya(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ya(t)}function qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Fn="__reactFiber$"+uo,xa="__reactProps$"+uo,lr="__reactContainer$"+uo,wh="__reactEvents$"+uo,yE="__reactListeners$"+uo,vE="__reactHandles$"+uo;function Ss(e){var t=e[Fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lr]||n[Fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rg(e);e!==null;){if(n=e[Fn])return n;e=Rg(e)}return t}e=n,n=e.parentNode}return null}function Ga(e){return e=e[Fn]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function ac(e){return e[xa]||null}var bh=[],bi=-1;function is(e){return{current:e}}function Oe(e){0>bi||(e.current=bh[bi],bh[bi]=null,bi--)}function je(e,t){bi++,bh[bi]=e.current,e.current=t}var ts={},gt=is(ts),Nt=is(!1),Ws=ts;function Zi(e,t){var n=e.type.contextTypes;if(!n)return ts;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Lt(e){return e=e.childContextTypes,e!=null}function ku(){Oe(Nt),Oe(gt)}function Og(e,t,n){if(gt.current!==ts)throw Error(X(168));je(gt,t),je(Nt,n)}function Qw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(X(108,nk(e)||"Unknown",s));return Be({},n,r)}function Eu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ts,Ws=gt.current,je(gt,e),je(Nt,Nt.current),!0}function Ig(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=Qw(e,t,Ws),r.__reactInternalMemoizedMergedChildContext=e,Oe(Nt),Oe(gt),je(gt,e)):Oe(Nt),je(Nt,n)}var Zn=null,lc=!1,ad=!1;function Jw(e){Zn===null?Zn=[e]:Zn.push(e)}function wE(e){lc=!0,Jw(e)}function os(){if(!ad&&Zn!==null){ad=!0;var e=0,t=Ce;try{var n=Zn;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zn=null,lc=!1}catch(s){throw Zn!==null&&(Zn=Zn.slice(e+1)),_w(ip,os),s}finally{Ce=t,ad=!1}}return null}var _i=[],xi=0,Cu=null,Tu=0,nn=[],rn=0,Hs=null,nr=1,rr="";function ms(e,t){_i[xi++]=Tu,_i[xi++]=Cu,Cu=e,Tu=t}function Yw(e,t,n){nn[rn++]=nr,nn[rn++]=rr,nn[rn++]=Hs,Hs=e;var r=nr;e=rr;var s=32-Cn(r)-1;r&=~(1<<s),n+=1;var i=32-Cn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,nr=1<<32-Cn(t)+s|n<<s|r,rr=i+e}else nr=1<<i|n<<s|r,rr=e}function pp(e){e.return!==null&&(ms(e,1),Yw(e,1,0))}function mp(e){for(;e===Cu;)Cu=_i[--xi],_i[xi]=null,Tu=_i[--xi],_i[xi]=null;for(;e===Hs;)Hs=nn[--rn],nn[rn]=null,rr=nn[--rn],nn[rn]=null,nr=nn[--rn],nn[rn]=null}var Ht=null,Wt=null,Ie=!1,kn=null;function Zw(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ht=e,Wt=qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ht=e,Wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hs!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ht=e,Wt=null,!0):!1;default:return!1}}function _h(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xh(e){if(Ie){var t=Wt;if(t){var n=t;if(!Dg(e,t)){if(_h(e))throw Error(X(418));t=qr(n.nextSibling);var r=Ht;t&&Dg(e,t)?Zw(r,n):(e.flags=e.flags&-4097|2,Ie=!1,Ht=e)}}else{if(_h(e))throw Error(X(418));e.flags=e.flags&-4097|2,Ie=!1,Ht=e}}}function Ng(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ht=e}function Pl(e){if(e!==Ht)return!1;if(!Ie)return Ng(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yh(e.type,e.memoizedProps)),t&&(t=Wt)){if(_h(e))throw Xw(),Error(X(418));for(;t;)Zw(e,t),t=qr(t.nextSibling)}if(Ng(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wt=qr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wt=null}}else Wt=Ht?qr(e.stateNode.nextSibling):null;return!0}function Xw(){for(var e=Wt;e;)e=qr(e.nextSibling)}function Xi(){Wt=Ht=null,Ie=!1}function gp(e){kn===null?kn=[e]:kn.push(e)}var bE=gr.ReactCurrentBatchConfig;function To(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function Al(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lg(e){var t=e._init;return t(e._payload)}function eb(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=Yr(p,g),p.index=0,p.sibling=null,p}function i(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,g,y,x){return g===null||g.tag!==6?(g=pd(y,p.mode,x),g.return=p,g):(g=s(g,y),g.return=p,g)}function l(p,g,y,x){var E=y.type;return E===mi?c(p,g,y.props.children,x,y.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Er&&Lg(E)===g.type)?(x=s(g,y.props),x.ref=To(p,g,y),x.return=p,x):(x=iu(y.type,y.key,y.props,null,p.mode,x),x.ref=To(p,g,y),x.return=p,x)}function u(p,g,y,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=md(y,p.mode,x),g.return=p,g):(g=s(g,y.children||[]),g.return=p,g)}function c(p,g,y,x,E){return g===null||g.tag!==7?(g=Bs(y,p.mode,x,E),g.return=p,g):(g=s(g,y),g.return=p,g)}function d(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=pd(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vl:return y=iu(g.type,g.key,g.props,null,p.mode,y),y.ref=To(p,null,g),y.return=p,y;case pi:return g=md(g,p.mode,y),g.return=p,g;case Er:var x=g._init;return d(p,x(g._payload),y)}if($o(g)||xo(g))return g=Bs(g,p.mode,y,null),g.return=p,g;Al(p,g)}return null}function h(p,g,y,x){var E=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(p,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vl:return y.key===E?l(p,g,y,x):null;case pi:return y.key===E?u(p,g,y,x):null;case Er:return E=y._init,h(p,g,E(y._payload),x)}if($o(y)||xo(y))return E!==null?null:c(p,g,y,x,null);Al(p,y)}return null}function f(p,g,y,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(y)||null,a(g,p,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vl:return p=p.get(x.key===null?y:x.key)||null,l(g,p,x,E);case pi:return p=p.get(x.key===null?y:x.key)||null,u(g,p,x,E);case Er:var T=x._init;return f(p,g,y,T(x._payload),E)}if($o(x)||xo(x))return p=p.get(y)||null,c(g,p,x,E,null);Al(g,x)}return null}function v(p,g,y,x){for(var E=null,T=null,C=g,A=g=0,D=null;C!==null&&A<y.length;A++){C.index>A?(D=C,C=null):D=C.sibling;var L=h(p,C,y[A],x);if(L===null){C===null&&(C=D);break}e&&C&&L.alternate===null&&t(p,C),g=i(L,g,A),T===null?E=L:T.sibling=L,T=L,C=D}if(A===y.length)return n(p,C),Ie&&ms(p,A),E;if(C===null){for(;A<y.length;A++)C=d(p,y[A],x),C!==null&&(g=i(C,g,A),T===null?E=C:T.sibling=C,T=C);return Ie&&ms(p,A),E}for(C=r(p,C);A<y.length;A++)D=f(C,p,A,y[A],x),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?A:D.key),g=i(D,g,A),T===null?E=D:T.sibling=D,T=D);return e&&C.forEach(function(J){return t(p,J)}),Ie&&ms(p,A),E}function m(p,g,y,x){var E=xo(y);if(typeof E!="function")throw Error(X(150));if(y=E.call(y),y==null)throw Error(X(151));for(var T=E=null,C=g,A=g=0,D=null,L=y.next();C!==null&&!L.done;A++,L=y.next()){C.index>A?(D=C,C=null):D=C.sibling;var J=h(p,C,L.value,x);if(J===null){C===null&&(C=D);break}e&&C&&J.alternate===null&&t(p,C),g=i(J,g,A),T===null?E=J:T.sibling=J,T=J,C=D}if(L.done)return n(p,C),Ie&&ms(p,A),E;if(C===null){for(;!L.done;A++,L=y.next())L=d(p,L.value,x),L!==null&&(g=i(L,g,A),T===null?E=L:T.sibling=L,T=L);return Ie&&ms(p,A),E}for(C=r(p,C);!L.done;A++,L=y.next())L=f(C,p,A,L.value,x),L!==null&&(e&&L.alternate!==null&&C.delete(L.key===null?A:L.key),g=i(L,g,A),T===null?E=L:T.sibling=L,T=L);return e&&C.forEach(function(O){return t(p,O)}),Ie&&ms(p,A),E}function w(p,g,y,x){if(typeof y=="object"&&y!==null&&y.type===mi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case vl:e:{for(var E=y.key,T=g;T!==null;){if(T.key===E){if(E=y.type,E===mi){if(T.tag===7){n(p,T.sibling),g=s(T,y.props.children),g.return=p,p=g;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Er&&Lg(E)===T.type){n(p,T.sibling),g=s(T,y.props),g.ref=To(p,T,y),g.return=p,p=g;break e}n(p,T);break}else t(p,T);T=T.sibling}y.type===mi?(g=Bs(y.props.children,p.mode,x,y.key),g.return=p,p=g):(x=iu(y.type,y.key,y.props,null,p.mode,x),x.ref=To(p,g,y),x.return=p,p=x)}return o(p);case pi:e:{for(T=y.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),g=s(g,y.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=md(y,p.mode,x),g.return=p,p=g}return o(p);case Er:return T=y._init,w(p,g,T(y._payload),x)}if($o(y))return v(p,g,y,x);if(xo(y))return m(p,g,y,x);Al(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),g=s(g,y),g.return=p,p=g):(n(p,g),g=pd(y,p.mode,x),g.return=p,p=g),o(p)):n(p,g)}return w}var eo=eb(!0),tb=eb(!1),Pu=is(null),Au=null,Si=null,yp=null;function vp(){yp=Si=Au=null}function wp(e){var t=Pu.current;Oe(Pu),e._currentValue=t}function Sh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){Au=e,yp=Si=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(It=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(yp!==e)if(e={context:e,memoizedValue:t,next:null},Si===null){if(Au===null)throw Error(X(308));Si=e,Au.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var ks=null;function bp(e){ks===null?ks=[e]:ks.push(e)}function nb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,bp(t)):(n.next=s.next,s.next=n),t.interleaved=n,ur(e,r)}function ur(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cr=!1;function _p(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ur(e,n)}return s=r.interleaved,s===null?(t.next=t,bp(r)):(t.next=s.next,s.next=t),r.interleaved=t,ur(e,n)}function Xl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,op(e,n)}}function $g(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ju(e,t,n,r){var s=e.updateQueue;Cr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,m=a;switch(h=t,f=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(f,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(f,d,h):v,h==null)break e;d=Be({},d,h);break e;case 2:Cr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);qs|=o,e.lanes=o,e.memoizedState=d}}function Mg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Qa={},zn=is(Qa),Sa=is(Qa),ka=is(Qa);function Es(e){if(e===Qa)throw Error(X(174));return e}function xp(e,t){switch(je(ka,t),je(Sa,e),je(zn,Qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rh(t,e)}Oe(zn),je(zn,t)}function to(){Oe(zn),Oe(Sa),Oe(ka)}function sb(e){Es(ka.current);var t=Es(zn.current),n=rh(t,e.type);t!==n&&(je(Sa,e),je(zn,n))}function Sp(e){Sa.current===e&&(Oe(zn),Oe(Sa))}var $e=is(0);function Ru(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ld=[];function kp(){for(var e=0;e<ld.length;e++)ld[e]._workInProgressVersionPrimary=null;ld.length=0}var eu=gr.ReactCurrentDispatcher,ud=gr.ReactCurrentBatchConfig,Ks=0,Ue=null,Ze=null,nt=null,Ou=!1,Yo=!1,Ea=0,_E=0;function ut(){throw Error(X(321))}function Ep(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pn(e[n],t[n]))return!1;return!0}function Cp(e,t,n,r,s,i){if(Ks=i,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eu.current=e===null||e.memoizedState===null?EE:CE,e=n(r,s),Yo){i=0;do{if(Yo=!1,Ea=0,25<=i)throw Error(X(301));i+=1,nt=Ze=null,t.updateQueue=null,eu.current=TE,e=n(r,s)}while(Yo)}if(eu.current=Iu,t=Ze!==null&&Ze.next!==null,Ks=0,nt=Ze=Ue=null,Ou=!1,t)throw Error(X(300));return e}function Tp(){var e=Ea!==0;return Ea=0,e}function Dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ue.memoizedState=nt=e:nt=nt.next=e,nt}function dn(){if(Ze===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=nt===null?Ue.memoizedState:nt.next;if(t!==null)nt=t,Ze=e;else{if(e===null)throw Error(X(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},nt===null?Ue.memoizedState=nt=e:nt=nt.next=e}return nt}function Ca(e,t){return typeof t=="function"?t(e):t}function cd(e){var t=dn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=Ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Ks&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ue.lanes|=c,qs|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Pn(r,t.memoizedState)||(It=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ue.lanes|=i,qs|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dd(e){var t=dn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Pn(i,t.memoizedState)||(It=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ib(){}function ob(e,t){var n=Ue,r=dn(),s=t(),i=!Pn(r.memoizedState,s);if(i&&(r.memoizedState=s,It=!0),r=r.queue,Pp(ub.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Ta(9,lb.bind(null,n,r,s,t),void 0,null),rt===null)throw Error(X(349));Ks&30||ab(n,t,s)}return s}function ab(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lb(e,t,n,r){t.value=n,t.getSnapshot=r,cb(t)&&db(e)}function ub(e,t,n){return n(function(){cb(t)&&db(e)})}function cb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pn(e,n)}catch{return!0}}function db(e){var t=ur(e,1);t!==null&&Tn(t,e,1,-1)}function Fg(e){var t=Dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=kE.bind(null,Ue,e),[t.memoizedState,e]}function Ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hb(){return dn().memoizedState}function tu(e,t,n,r){var s=Dn();Ue.flags|=e,s.memoizedState=Ta(1|t,n,void 0,r===void 0?null:r)}function uc(e,t,n,r){var s=dn();r=r===void 0?null:r;var i=void 0;if(Ze!==null){var o=Ze.memoizedState;if(i=o.destroy,r!==null&&Ep(r,o.deps)){s.memoizedState=Ta(t,n,i,r);return}}Ue.flags|=e,s.memoizedState=Ta(1|t,n,i,r)}function Ug(e,t){return tu(8390656,8,e,t)}function Pp(e,t){return uc(2048,8,e,t)}function fb(e,t){return uc(4,2,e,t)}function pb(e,t){return uc(4,4,e,t)}function mb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gb(e,t,n){return n=n!=null?n.concat([e]):null,uc(4,4,mb.bind(null,t,e),n)}function Ap(){}function yb(e,t){var n=dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ep(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vb(e,t){var n=dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ep(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wb(e,t,n){return Ks&21?(Pn(n,t)||(n=kw(),Ue.lanes|=n,qs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=n)}function xE(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=ud.transition;ud.transition={};try{e(!1),t()}finally{Ce=n,ud.transition=r}}function bb(){return dn().memoizedState}function SE(e,t,n){var r=Jr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_b(e))xb(t,n);else if(n=nb(e,t,n,r),n!==null){var s=St();Tn(n,e,r,s),Sb(n,t,r)}}function kE(e,t,n){var r=Jr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_b(e))xb(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Pn(a,o)){var l=t.interleaved;l===null?(s.next=s,bp(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=nb(e,t,s,r),n!==null&&(s=St(),Tn(n,e,r,s),Sb(n,t,r))}}function _b(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function xb(e,t){Yo=Ou=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,op(e,n)}}var Iu={readContext:cn,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},EE={readContext:cn,useCallback:function(e,t){return Dn().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:Ug,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tu(4194308,4,mb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tu(4194308,4,e,t)},useInsertionEffect:function(e,t){return tu(4,2,e,t)},useMemo:function(e,t){var n=Dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=SE.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=Dn();return e={current:e},t.memoizedState=e},useState:Fg,useDebugValue:Ap,useDeferredValue:function(e){return Dn().memoizedState=e},useTransition:function(){var e=Fg(!1),t=e[0];return e=xE.bind(null,e[1]),Dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,s=Dn();if(Ie){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),rt===null)throw Error(X(349));Ks&30||ab(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ug(ub.bind(null,r,i,e),[e]),r.flags|=2048,Ta(9,lb.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Dn(),t=rt.identifierPrefix;if(Ie){var n=rr,r=nr;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ea++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_E++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CE={readContext:cn,useCallback:yb,useContext:cn,useEffect:Pp,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:pb,useMemo:vb,useReducer:cd,useRef:hb,useState:function(){return cd(Ca)},useDebugValue:Ap,useDeferredValue:function(e){var t=dn();return wb(t,Ze.memoizedState,e)},useTransition:function(){var e=cd(Ca)[0],t=dn().memoizedState;return[e,t]},useMutableSource:ib,useSyncExternalStore:ob,useId:bb,unstable_isNewReconciler:!1},TE={readContext:cn,useCallback:yb,useContext:cn,useEffect:Pp,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:pb,useMemo:vb,useReducer:dd,useRef:hb,useState:function(){return dd(Ca)},useDebugValue:Ap,useDeferredValue:function(e){var t=dn();return Ze===null?t.memoizedState=e:wb(t,Ze.memoizedState,e)},useTransition:function(){var e=dd(Ca)[0],t=dn().memoizedState;return[e,t]},useMutableSource:ib,useSyncExternalStore:ob,useId:bb,unstable_isNewReconciler:!1};function wn(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function kh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cc={isMounted:function(e){return(e=e._reactInternals)?Zs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=St(),s=Jr(e),i=sr(r,s);i.payload=t,n!=null&&(i.callback=n),t=Gr(e,i,s),t!==null&&(Tn(t,e,s,r),Xl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=St(),s=Jr(e),i=sr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Gr(e,i,s),t!==null&&(Tn(t,e,s,r),Xl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),r=Jr(e),s=sr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Gr(e,s,r),t!==null&&(Tn(t,e,r,n),Xl(t,e,r))}};function Bg(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!wa(n,r)||!wa(s,i):!0}function kb(e,t,n){var r=!1,s=ts,i=t.contextType;return typeof i=="object"&&i!==null?i=cn(i):(s=Lt(t)?Ws:gt.current,r=t.contextTypes,i=(r=r!=null)?Zi(e,s):ts),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function zg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cc.enqueueReplaceState(t,t.state,null)}function Eh(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_p(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=cn(i):(i=Lt(t)?Ws:gt.current,s.context=Zi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(kh(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cc.enqueueReplaceState(s,s.state,null),ju(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function no(e,t){try{var n="",r=t;do n+=tk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function hd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ch(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var PE=typeof WeakMap=="function"?WeakMap:Map;function Eb(e,t,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nu||(Nu=!0,Lh=r),Ch(e,t)},n}function Cb(e,t,n){n=sr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ch(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ch(e,t),typeof r!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Vg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new PE;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=zE.bind(null,e,t,n),t.then(e,e))}function Wg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hg(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sr(-1,1),t.tag=2,Gr(n,t,1))),n.lanes|=1),e)}var AE=gr.ReactCurrentOwner,It=!1;function _t(e,t,n,r){t.child=e===null?tb(t,null,n,r):eo(t,e.child,n,r)}function Kg(e,t,n,r,s){n=n.render;var i=t.ref;return Ni(t,s),r=Cp(e,t,n,r,i,s),n=Tp(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(Ie&&n&&pp(t),t.flags|=1,_t(e,t,r,s),t.child)}function qg(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!$p(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Tb(e,t,i,r,s)):(e=iu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wa,n(o,r)&&e.ref===t.ref)return cr(e,t,s)}return t.flags|=1,e=Yr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Tb(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(wa(i,r)&&e.ref===t.ref)if(It=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(It=!0);else return t.lanes=e.lanes,cr(e,t,s)}return Th(e,t,n,r,s)}function Pb(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ei,zt),zt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Ei,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(Ei,zt),zt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,je(Ei,zt),zt|=r;return _t(e,t,s,n),t.child}function Ab(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Th(e,t,n,r,s){var i=Lt(n)?Ws:gt.current;return i=Zi(t,i),Ni(t,s),n=Cp(e,t,n,r,i,s),r=Tp(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(Ie&&r&&pp(t),t.flags|=1,_t(e,t,n,s),t.child)}function Gg(e,t,n,r,s){if(Lt(n)){var i=!0;Eu(t)}else i=!1;if(Ni(t,s),t.stateNode===null)nu(e,t),kb(t,n,r),Eh(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=Lt(n)?Ws:gt.current,u=Zi(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&zg(t,o,r,u),Cr=!1;var h=t.memoizedState;o.state=h,ju(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Nt.current||Cr?(typeof c=="function"&&(kh(t,n,c,r),l=t.memoizedState),(a=Cr||Bg(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,rb(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:wn(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=cn(l):(l=Lt(n)?Ws:gt.current,l=Zi(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&zg(t,o,r,l),Cr=!1,h=t.memoizedState,o.state=h,ju(t,r,o,s);var v=t.memoizedState;a!==d||h!==v||Nt.current||Cr?(typeof f=="function"&&(kh(t,n,f,r),v=t.memoizedState),(u=Cr||Bg(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ph(e,t,n,r,i,s)}function Ph(e,t,n,r,s,i){Ab(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ig(t,n,!1),cr(e,t,i);r=t.stateNode,AE.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=eo(t,e.child,null,i),t.child=eo(t,null,a,i)):_t(e,t,a,i),t.memoizedState=r.state,s&&Ig(t,n,!0),t.child}function jb(e){var t=e.stateNode;t.pendingContext?Og(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Og(e,t.context,!1),xp(e,t.containerInfo)}function Qg(e,t,n,r,s){return Xi(),gp(s),t.flags|=256,_t(e,t,n,r),t.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function jh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rb(e,t,n){var r=t.pendingProps,s=$e.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je($e,s&1),e===null)return xh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fc(o,r,0,null),e=Bs(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=jh(n),t.memoizedState=Ah,e):jp(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return jE(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Yr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Yr(a,i):(i=Bs(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?jh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ah,r}return i=e.child,e=i.sibling,r=Yr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jp(e,t){return t=fc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jl(e,t,n,r){return r!==null&&gp(r),eo(t,e.child,null,n),e=jp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jE(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=hd(Error(X(422))),jl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=fc({mode:"visible",children:r.children},s,0,null),i=Bs(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&eo(t,e.child,null,o),t.child.memoizedState=jh(o),t.memoizedState=Ah,i);if(!(t.mode&1))return jl(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=hd(i,r,void 0),jl(e,t,o,r)}if(a=(o&e.childLanes)!==0,It||a){if(r=rt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ur(e,s),Tn(r,e,s,-1))}return Lp(),r=hd(Error(X(421))),jl(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=VE.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Wt=qr(s.nextSibling),Ht=t,Ie=!0,kn=null,e!==null&&(nn[rn++]=nr,nn[rn++]=rr,nn[rn++]=Hs,nr=e.id,rr=e.overflow,Hs=t),t=jp(t,r.children),t.flags|=4096,t)}function Jg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Sh(e.return,t,n)}function fd(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ob(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(_t(e,t,r.children,n),r=$e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jg(e,n,t);else if(e.tag===19)Jg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je($e,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ru(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fd(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ru(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fd(t,!0,n,null,i);break;case"together":fd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=Yr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function RE(e,t,n){switch(t.tag){case 3:jb(t),Xi();break;case 5:sb(t);break;case 1:Lt(t.type)&&Eu(t);break;case 4:xp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;je(Pu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je($e,$e.current&1),t.flags|=128,null):n&t.child.childLanes?Rb(e,t,n):(je($e,$e.current&1),e=cr(e,t,n),e!==null?e.sibling:null);je($e,$e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ob(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je($e,$e.current),r)break;return null;case 22:case 23:return t.lanes=0,Pb(e,t,n)}return cr(e,t,n)}var Ib,Rh,Db,Nb;Ib=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rh=function(){};Db=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Es(zn.current);var i=null;switch(n){case"input":s=Xd(e,s),r=Xd(e,r),i=[];break;case"select":s=Be({},s,{value:void 0}),r=Be({},r,{value:void 0}),i=[];break;case"textarea":s=nh(e,s),r=nh(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Su)}sh(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ha.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ha.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Re("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Nb=function(e,t,n,r){n!==r&&(t.flags|=4)};function Po(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function OE(e,t,n){var r=t.pendingProps;switch(mp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return Lt(t.type)&&ku(),ct(t),null;case 3:return r=t.stateNode,to(),Oe(Nt),Oe(gt),kp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kn!==null&&(Fh(kn),kn=null))),Rh(e,t),ct(t),null;case 5:Sp(t);var s=Es(ka.current);if(n=t.type,e!==null&&t.stateNode!=null)Db(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return ct(t),null}if(e=Es(zn.current),Pl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Fn]=t,r[xa]=i,e=(t.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<Fo.length;s++)Re(Fo[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":ig(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":ag(r,i),Re("invalid",r)}sh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Tl(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Tl(r.textContent,a,e),s=["children",""+a]):ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":wl(r),og(r,i,!0);break;case"textarea":wl(r),lg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Su)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Fn]=t,e[xa]=r,Ib(e,t,!1,!1),t.stateNode=e;e:{switch(o=ih(n,r),n){case"dialog":Re("cancel",e),Re("close",e),s=r;break;case"iframe":case"object":case"embed":Re("load",e),s=r;break;case"video":case"audio":for(s=0;s<Fo.length;s++)Re(Fo[s],e);s=r;break;case"source":Re("error",e),s=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),s=r;break;case"details":Re("toggle",e),s=r;break;case"input":ig(e,r),s=Xd(e,r),Re("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Be({},r,{value:void 0}),Re("invalid",e);break;case"textarea":ag(e,r),s=nh(e,r),Re("invalid",e);break;default:s=r}sh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?hw(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cw(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fa(e,l):typeof l=="number"&&fa(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ha.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Re("scroll",e):l!=null&&ep(e,i,l,o))}switch(n){case"input":wl(e),og(e,r,!1);break;case"textarea":wl(e),lg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+es(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ri(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ri(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)Nb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=Es(ka.current),Es(zn.current),Pl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fn]=t,(i=r.nodeValue!==n)&&(e=Ht,e!==null))switch(e.tag){case 3:Tl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=t,t.stateNode=r}return ct(t),null;case 13:if(Oe($e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Wt!==null&&t.mode&1&&!(t.flags&128))Xw(),Xi(),t.flags|=98560,i=!1;else if(i=Pl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Fn]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),i=!1}else kn!==null&&(Fh(kn),kn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?et===0&&(et=3):Lp())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return to(),Rh(e,t),e===null&&ba(t.stateNode.containerInfo),ct(t),null;case 10:return wp(t.type._context),ct(t),null;case 17:return Lt(t.type)&&ku(),ct(t),null;case 19:if(Oe($e),i=t.memoizedState,i===null)return ct(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Po(i,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ru(e),o!==null){for(t.flags|=128,Po(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je($e,$e.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ke()>ro&&(t.flags|=128,r=!0,Po(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ru(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Po(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ie)return ct(t),null}else 2*Ke()-i.renderingStartTime>ro&&n!==1073741824&&(t.flags|=128,r=!0,Po(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ke(),t.sibling=null,n=$e.current,je($e,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return Np(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zt&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function IE(e,t){switch(mp(t),t.tag){case 1:return Lt(t.type)&&ku(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return to(),Oe(Nt),Oe(gt),kp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sp(t),null;case 13:if(Oe($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe($e),null;case 4:return to(),null;case 10:return wp(t.type._context),null;case 22:case 23:return Np(),null;case 24:return null;default:return null}}var Rl=!1,dt=!1,DE=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ki(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(e,t,r)}else n.current=null}function Oh(e,t,n){try{n()}catch(r){We(e,t,r)}}var Yg=!1;function NE(e,t){if(mh=bu,e=Uw(),fp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:e,selectionRange:n},bu=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,w=v.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?m:wn(t.type,m),w);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(x){We(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return v=Yg,Yg=!1,v}function Zo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Oh(t,n,i)}s=s.next}while(s!==r)}}function dc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ih(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lb(e){var t=e.alternate;t!==null&&(e.alternate=null,Lb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fn],delete t[xa],delete t[wh],delete t[yE],delete t[vE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $b(e){return e.tag===5||e.tag===3||e.tag===4}function Zg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$b(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Su));else if(r!==4&&(e=e.child,e!==null))for(Dh(e,t,n),e=e.sibling;e!==null;)Dh(e,t,n),e=e.sibling}function Nh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nh(e,t,n),e=e.sibling;e!==null;)Nh(e,t,n),e=e.sibling}var st=null,xn=!1;function wr(e,t,n){for(n=n.child;n!==null;)Mb(e,t,n),n=n.sibling}function Mb(e,t,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(rc,n)}catch{}switch(n.tag){case 5:dt||ki(n,t);case 6:var r=st,s=xn;st=null,wr(e,t,n),st=r,xn=s,st!==null&&(xn?(e=st,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(xn?(e=st,n=n.stateNode,e.nodeType===8?od(e.parentNode,n):e.nodeType===1&&od(e,n),ya(e)):od(st,n.stateNode));break;case 4:r=st,s=xn,st=n.stateNode.containerInfo,xn=!0,wr(e,t,n),st=r,xn=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Oh(n,t,o),s=s.next}while(s!==r)}wr(e,t,n);break;case 1:if(!dt&&(ki(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,t,a)}wr(e,t,n);break;case 21:wr(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,wr(e,t,n),dt=r):wr(e,t,n);break;default:wr(e,t,n)}}function Xg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new DE),t.forEach(function(r){var s=WE.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,xn=!1;break e;case 3:st=a.stateNode.containerInfo,xn=!0;break e;case 4:st=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(st===null)throw Error(X(160));Mb(i,o,s),st=null,xn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){We(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fb(t,e),t=t.sibling}function Fb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),On(e),r&4){try{Zo(3,e,e.return),dc(3,e)}catch(m){We(e,e.return,m)}try{Zo(5,e,e.return)}catch(m){We(e,e.return,m)}}break;case 1:mn(t,e),On(e),r&512&&n!==null&&ki(n,n.return);break;case 5:if(mn(t,e),On(e),r&512&&n!==null&&ki(n,n.return),e.flags&32){var s=e.stateNode;try{fa(s,"")}catch(m){We(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&aw(s,i),ih(a,o);var u=ih(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?hw(s,d):c==="dangerouslySetInnerHTML"?cw(s,d):c==="children"?fa(s,d):ep(s,c,d,u)}switch(a){case"input":eh(s,i);break;case"textarea":lw(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Ri(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ri(s,!!i.multiple,i.defaultValue,!0):Ri(s,!!i.multiple,i.multiple?[]:"",!1))}s[xa]=i}catch(m){We(e,e.return,m)}}break;case 6:if(mn(t,e),On(e),r&4){if(e.stateNode===null)throw Error(X(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){We(e,e.return,m)}}break;case 3:if(mn(t,e),On(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(m){We(e,e.return,m)}break;case 4:mn(t,e),On(e);break;case 13:mn(t,e),On(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ip=Ke())),r&4&&Xg(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(u=dt)||c,mn(t,e),dt=u):mn(t,e),On(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(ae=e,c=e.child;c!==null;){for(d=ae=c;ae!==null;){switch(h=ae,f=h.child,h.tag){case 0:case 11:case 14:case 15:Zo(4,h,h.return);break;case 1:ki(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){We(r,n,m)}}break;case 5:ki(h,h.return);break;case 22:if(h.memoizedState!==null){ty(d);continue}}f!==null?(f.return=h,ae=f):ty(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dw("display",o))}catch(m){We(e,e.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){We(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mn(t,e),On(e),r&4&&Xg(e);break;case 21:break;default:mn(t,e),On(e)}}function On(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($b(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fa(s,""),r.flags&=-33);var i=Zg(e);Nh(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zg(e);Dh(e,a,o);break;default:throw Error(X(161))}}catch(l){We(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function LE(e,t,n){ae=e,Ub(e)}function Ub(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Rl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||dt;a=Rl;var u=dt;if(Rl=o,(dt=l)&&!u)for(ae=s;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?ny(s):l!==null?(l.return=o,ae=l):ny(s);for(;i!==null;)ae=i,Ub(i),i=i.sibling;ae=s,Rl=a,dt=u}ey(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):ey(e)}}function ey(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||dc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:wn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Mg(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mg(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ya(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}dt||t.flags&512&&Ih(t)}catch(h){We(t,t.return,h)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function ty(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function ny(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dc(4,t)}catch(l){We(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){We(t,s,l)}}var i=t.return;try{Ih(t)}catch(l){We(t,i,l)}break;case 5:var o=t.return;try{Ih(t)}catch(l){We(t,o,l)}}}catch(l){We(t,t.return,l)}if(t===e){ae=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ae=a;break}ae=t.return}}var $E=Math.ceil,Du=gr.ReactCurrentDispatcher,Rp=gr.ReactCurrentOwner,ln=gr.ReactCurrentBatchConfig,xe=0,rt=null,Je=null,at=0,zt=0,Ei=is(0),et=0,Pa=null,qs=0,hc=0,Op=0,Xo=null,Rt=null,Ip=0,ro=1/0,Jn=null,Nu=!1,Lh=null,Qr=null,Ol=!1,Br=null,Lu=0,ea=0,$h=null,ru=-1,su=0;function St(){return xe&6?Ke():ru!==-1?ru:ru=Ke()}function Jr(e){return e.mode&1?xe&2&&at!==0?at&-at:bE.transition!==null?(su===0&&(su=kw()),su):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Rw(e.type)),e):1}function Tn(e,t,n,r){if(50<ea)throw ea=0,$h=null,Error(X(185));Ka(e,n,r),(!(xe&2)||e!==rt)&&(e===rt&&(!(xe&2)&&(hc|=n),et===4&&Pr(e,at)),$t(e,r),n===1&&xe===0&&!(t.mode&1)&&(ro=Ke()+500,lc&&os()))}function $t(e,t){var n=e.callbackNode;bk(e,t);var r=wu(e,e===rt?at:0);if(r===0)n!==null&&dg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dg(n),t===1)e.tag===0?wE(ry.bind(null,e)):Jw(ry.bind(null,e)),mE(function(){!(xe&6)&&os()}),n=null;else{switch(Ew(r)){case 1:n=ip;break;case 4:n=xw;break;case 16:n=vu;break;case 536870912:n=Sw;break;default:n=vu}n=Gb(n,Bb.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bb(e,t){if(ru=-1,su=0,xe&6)throw Error(X(327));var n=e.callbackNode;if(Li()&&e.callbackNode!==n)return null;var r=wu(e,e===rt?at:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$u(e,r);else{t=r;var s=xe;xe|=2;var i=Vb();(rt!==e||at!==t)&&(Jn=null,ro=Ke()+500,Us(e,t));do try{UE();break}catch(a){zb(e,a)}while(!0);vp(),Du.current=i,xe=s,Je!==null?t=0:(rt=null,at=0,t=et)}if(t!==0){if(t===2&&(s=ch(e),s!==0&&(r=s,t=Mh(e,s))),t===1)throw n=Pa,Us(e,0),Pr(e,r),$t(e,Ke()),n;if(t===6)Pr(e,r);else{if(s=e.current.alternate,!(r&30)&&!ME(s)&&(t=$u(e,r),t===2&&(i=ch(e),i!==0&&(r=i,t=Mh(e,i))),t===1))throw n=Pa,Us(e,0),Pr(e,r),$t(e,Ke()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:gs(e,Rt,Jn);break;case 3:if(Pr(e,r),(r&130023424)===r&&(t=Ip+500-Ke(),10<t)){if(wu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){St(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=vh(gs.bind(null,e,Rt,Jn),t);break}gs(e,Rt,Jn);break;case 4:if(Pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Cn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$E(r/1960))-r,10<r){e.timeoutHandle=vh(gs.bind(null,e,Rt,Jn),r);break}gs(e,Rt,Jn);break;case 5:gs(e,Rt,Jn);break;default:throw Error(X(329))}}}return $t(e,Ke()),e.callbackNode===n?Bb.bind(null,e):null}function Mh(e,t){var n=Xo;return e.current.memoizedState.isDehydrated&&(Us(e,t).flags|=256),e=$u(e,t),e!==2&&(t=Rt,Rt=n,t!==null&&Fh(t)),e}function Fh(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function ME(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Pn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~Op,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cn(t),r=1<<n;e[n]=-1,t&=~r}}function ry(e){if(xe&6)throw Error(X(327));Li();var t=wu(e,0);if(!(t&1))return $t(e,Ke()),null;var n=$u(e,t);if(e.tag!==0&&n===2){var r=ch(e);r!==0&&(t=r,n=Mh(e,r))}if(n===1)throw n=Pa,Us(e,0),Pr(e,t),$t(e,Ke()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gs(e,Rt,Jn),$t(e,Ke()),null}function Dp(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(ro=Ke()+500,lc&&os())}}function Gs(e){Br!==null&&Br.tag===0&&!(xe&6)&&Li();var t=xe;xe|=1;var n=ln.transition,r=Ce;try{if(ln.transition=null,Ce=1,e)return e()}finally{Ce=r,ln.transition=n,xe=t,!(xe&6)&&os()}}function Np(){zt=Ei.current,Oe(Ei)}function Us(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pE(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(mp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ku();break;case 3:to(),Oe(Nt),Oe(gt),kp();break;case 5:Sp(r);break;case 4:to();break;case 13:Oe($e);break;case 19:Oe($e);break;case 10:wp(r.type._context);break;case 22:case 23:Np()}n=n.return}if(rt=e,Je=e=Yr(e.current,null),at=zt=t,et=0,Pa=null,Op=hc=qs=0,Rt=Xo=null,ks!==null){for(t=0;t<ks.length;t++)if(n=ks[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ks=null}return e}function zb(e,t){do{var n=Je;try{if(vp(),eu.current=Iu,Ou){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ou=!1}if(Ks=0,nt=Ze=Ue=null,Yo=!1,Ea=0,Rp.current=null,n===null||n.return===null){et=1,Pa=t,Je=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Wg(o);if(f!==null){f.flags&=-257,Hg(f,o,a,i,t),f.mode&1&&Vg(i,u,t),t=f,l=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}else{if(!(t&1)){Vg(i,u,t),Lp();break e}l=Error(X(426))}}else if(Ie&&a.mode&1){var w=Wg(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Hg(w,o,a,i,t),gp(no(l,a));break e}}i=l=no(l,a),et!==4&&(et=2),Xo===null?Xo=[i]:Xo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Eb(i,l,t);$g(i,p);break e;case 1:a=l;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qr===null||!Qr.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Cb(i,a,t);$g(i,x);break e}}i=i.return}while(i!==null)}Hb(n)}catch(E){t=E,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function Vb(){var e=Du.current;return Du.current=Iu,e===null?Iu:e}function Lp(){(et===0||et===3||et===2)&&(et=4),rt===null||!(qs&268435455)&&!(hc&268435455)||Pr(rt,at)}function $u(e,t){var n=xe;xe|=2;var r=Vb();(rt!==e||at!==t)&&(Jn=null,Us(e,t));do try{FE();break}catch(s){zb(e,s)}while(!0);if(vp(),xe=n,Du.current=r,Je!==null)throw Error(X(261));return rt=null,at=0,et}function FE(){for(;Je!==null;)Wb(Je)}function UE(){for(;Je!==null&&!dk();)Wb(Je)}function Wb(e){var t=qb(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Hb(e):Je=t,Rp.current=null}function Hb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=IE(n,t),n!==null){n.flags&=32767,Je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Je=null;return}}else if(n=OE(n,t,zt),n!==null){Je=n;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);et===0&&(et=5)}function gs(e,t,n){var r=Ce,s=ln.transition;try{ln.transition=null,Ce=1,BE(e,t,n,r)}finally{ln.transition=s,Ce=r}return null}function BE(e,t,n,r){do Li();while(Br!==null);if(xe&6)throw Error(X(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(_k(e,i),e===rt&&(Je=rt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ol||(Ol=!0,Gb(vu,function(){return Li(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ln.transition,ln.transition=null;var o=Ce;Ce=1;var a=xe;xe|=4,Rp.current=null,NE(e,n),Fb(n,e),aE(gh),bu=!!mh,gh=mh=null,e.current=n,LE(n),hk(),xe=a,Ce=o,ln.transition=i}else e.current=n;if(Ol&&(Ol=!1,Br=e,Lu=s),i=e.pendingLanes,i===0&&(Qr=null),mk(n.stateNode),$t(e,Ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Nu)throw Nu=!1,e=Lh,Lh=null,e;return Lu&1&&e.tag!==0&&Li(),i=e.pendingLanes,i&1?e===$h?ea++:(ea=0,$h=e):ea=0,os(),null}function Li(){if(Br!==null){var e=Ew(Lu),t=ln.transition,n=Ce;try{if(ln.transition=null,Ce=16>e?16:e,Br===null)var r=!1;else{if(e=Br,Br=null,Lu=0,xe&6)throw Error(X(331));var s=xe;for(xe|=4,ae=e.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var c=ae;switch(c.tag){case 0:case 11:case 15:Zo(8,c,i)}var d=c.child;if(d!==null)d.return=c,ae=d;else for(;ae!==null;){c=ae;var h=c.sibling,f=c.return;if(Lb(c),c===u){ae=null;break}if(h!==null){h.return=f,ae=h;break}ae=f}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zo(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,ae=p;break e}ae=i.return}}var g=e.current;for(ae=g;ae!==null;){o=ae;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ae=y;else e:for(o=g;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dc(9,a)}}catch(E){We(a,a.return,E)}if(a===o){ae=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,ae=x;break e}ae=a.return}}if(xe=s,os(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(rc,e)}catch{}r=!0}return r}finally{Ce=n,ln.transition=t}}return!1}function sy(e,t,n){t=no(n,t),t=Eb(e,t,1),e=Gr(e,t,1),t=St(),e!==null&&(Ka(e,1,t),$t(e,t))}function We(e,t,n){if(e.tag===3)sy(e,e,n);else for(;t!==null;){if(t.tag===3){sy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qr===null||!Qr.has(r))){e=no(n,e),e=Cb(t,e,1),t=Gr(t,e,1),e=St(),t!==null&&(Ka(t,1,e),$t(t,e));break}}t=t.return}}function zE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,rt===e&&(at&n)===n&&(et===4||et===3&&(at&130023424)===at&&500>Ke()-Ip?Us(e,0):Op|=n),$t(e,t)}function Kb(e,t){t===0&&(e.mode&1?(t=xl,xl<<=1,!(xl&130023424)&&(xl=4194304)):t=1);var n=St();e=ur(e,t),e!==null&&(Ka(e,t,n),$t(e,n))}function VE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kb(e,n)}function WE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),Kb(e,n)}var qb;qb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)It=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return It=!1,RE(e,t,n);It=!!(e.flags&131072)}else It=!1,Ie&&t.flags&1048576&&Yw(t,Tu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nu(e,t),e=t.pendingProps;var s=Zi(t,gt.current);Ni(t,n),s=Cp(null,t,r,e,s,n);var i=Tp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(r)?(i=!0,Eu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_p(t),s.updater=cc,t.stateNode=s,s._reactInternals=t,Eh(t,r,e,n),t=Ph(null,t,r,!0,i,n)):(t.tag=0,Ie&&i&&pp(t),_t(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=KE(r),e=wn(r,e),s){case 0:t=Th(null,t,r,e,n);break e;case 1:t=Gg(null,t,r,e,n);break e;case 11:t=Kg(null,t,r,e,n);break e;case 14:t=qg(null,t,r,wn(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),Th(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),Gg(e,t,r,s,n);case 3:e:{if(jb(t),e===null)throw Error(X(387));r=t.pendingProps,i=t.memoizedState,s=i.element,rb(e,t),ju(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=no(Error(X(423)),t),t=Qg(e,t,r,n,s);break e}else if(r!==s){s=no(Error(X(424)),t),t=Qg(e,t,r,n,s);break e}else for(Wt=qr(t.stateNode.containerInfo.firstChild),Ht=t,Ie=!0,kn=null,n=tb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xi(),r===s){t=cr(e,t,n);break e}_t(e,t,r,n)}t=t.child}return t;case 5:return sb(t),e===null&&xh(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,yh(r,s)?o=null:i!==null&&yh(r,i)&&(t.flags|=32),Ab(e,t),_t(e,t,o,n),t.child;case 6:return e===null&&xh(t),null;case 13:return Rb(e,t,n);case 4:return xp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=eo(t,null,r,n):_t(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),Kg(e,t,r,s,n);case 7:return _t(e,t,t.pendingProps,n),t.child;case 8:return _t(e,t,t.pendingProps.children,n),t.child;case 12:return _t(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,je(Pu,r._currentValue),r._currentValue=o,i!==null)if(Pn(i.value,o)){if(i.children===s.children&&!Nt.current){t=cr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=sr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Sh(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sh(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_t(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ni(t,n),s=cn(s),r=r(s),t.flags|=1,_t(e,t,r,n),t.child;case 14:return r=t.type,s=wn(r,t.pendingProps),s=wn(r.type,s),qg(e,t,r,s,n);case 15:return Tb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),nu(e,t),t.tag=1,Lt(r)?(e=!0,Eu(t)):e=!1,Ni(t,n),kb(t,r,s),Eh(t,r,s,n),Ph(null,t,r,!0,e,n);case 19:return Ob(e,t,n);case 22:return Pb(e,t,n)}throw Error(X(156,t.tag))};function Gb(e,t){return _w(e,t)}function HE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,r){return new HE(e,t,n,r)}function $p(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KE(e){if(typeof e=="function")return $p(e)?1:0;if(e!=null){if(e=e.$$typeof,e===np)return 11;if(e===rp)return 14}return 2}function Yr(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function iu(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")$p(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case mi:return Bs(n.children,s,i,t);case tp:o=8,s|=8;break;case Qd:return e=on(12,n,t,s|2),e.elementType=Qd,e.lanes=i,e;case Jd:return e=on(13,n,t,s),e.elementType=Jd,e.lanes=i,e;case Yd:return e=on(19,n,t,s),e.elementType=Yd,e.lanes=i,e;case sw:return fc(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nw:o=10;break e;case rw:o=9;break e;case np:o=11;break e;case rp:o=14;break e;case Er:o=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=on(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Bs(e,t,n,r){return e=on(7,e,r,t),e.lanes=n,e}function fc(e,t,n,r){return e=on(22,e,r,t),e.elementType=sw,e.lanes=n,e.stateNode={isHidden:!1},e}function pd(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function md(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qE(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qc(0),this.expirationTimes=Qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mp(e,t,n,r,s,i,o,a,l){return e=new qE(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=on(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(i),e}function GE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qb(e){if(!e)return ts;e=e._reactInternals;e:{if(Zs(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(Lt(n))return Qw(e,n,t)}return t}function Jb(e,t,n,r,s,i,o,a,l){return e=Mp(n,r,!0,e,s,i,o,a,l),e.context=Qb(null),n=e.current,r=St(),s=Jr(n),i=sr(r,s),i.callback=t??null,Gr(n,i,s),e.current.lanes=s,Ka(e,s,r),$t(e,r),e}function pc(e,t,n,r){var s=t.current,i=St(),o=Jr(s);return n=Qb(n),t.context===null?t.context=n:t.pendingContext=n,t=sr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gr(s,t,o),e!==null&&(Tn(e,s,o,i),Xl(e,s,o)),o}function Mu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fp(e,t){iy(e,t),(e=e.alternate)&&iy(e,t)}function QE(){return null}var Yb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Up(e){this._internalRoot=e}mc.prototype.render=Up.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));pc(e,t,null,null)};mc.prototype.unmount=Up.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gs(function(){pc(null,e,null,null)}),t[lr]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tr.length&&t!==0&&t<Tr[n].priority;n++);Tr.splice(n,0,e),n===0&&jw(e)}};function Bp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oy(){}function JE(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Mu(o);i.call(u)}}var o=Jb(t,r,e,0,null,!1,!1,"",oy);return e._reactRootContainer=o,e[lr]=o.current,ba(e.nodeType===8?e.parentNode:e),Gs(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Mu(l);a.call(u)}}var l=Mp(e,0,!1,null,null,!1,!1,"",oy);return e._reactRootContainer=l,e[lr]=l.current,ba(e.nodeType===8?e.parentNode:e),Gs(function(){pc(t,l,n,r)}),l}function yc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Mu(o);a.call(l)}}pc(t,o,e,s)}else o=JE(n,t,e,s,r);return Mu(o)}Cw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mo(t.pendingLanes);n!==0&&(op(t,n|1),$t(t,Ke()),!(xe&6)&&(ro=Ke()+500,os()))}break;case 13:Gs(function(){var r=ur(e,1);if(r!==null){var s=St();Tn(r,e,1,s)}}),Fp(e,1)}};ap=function(e){if(e.tag===13){var t=ur(e,134217728);if(t!==null){var n=St();Tn(t,e,134217728,n)}Fp(e,134217728)}};Tw=function(e){if(e.tag===13){var t=Jr(e),n=ur(e,t);if(n!==null){var r=St();Tn(n,e,t,r)}Fp(e,t)}};Pw=function(){return Ce};Aw=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}};ah=function(e,t,n){switch(t){case"input":if(eh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ac(r);if(!s)throw Error(X(90));ow(r),eh(r,s)}}}break;case"textarea":lw(e,n);break;case"select":t=n.value,t!=null&&Ri(e,!!n.multiple,t,!1)}};mw=Dp;gw=Gs;var YE={usingClientEntryPoint:!1,Events:[Ga,wi,ac,fw,pw,Dp]},Ao={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZE={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ww(e),e===null?null:e.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||QE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{rc=Il.inject(ZE),Bn=Il}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YE;Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bp(t))throw Error(X(200));return GE(e,t,null,n)};Gt.createRoot=function(e,t){if(!Bp(e))throw Error(X(299));var n=!1,r="",s=Yb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Mp(e,1,!1,null,null,n,!1,r,s),e[lr]=t.current,ba(e.nodeType===8?e.parentNode:e),new Up(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=ww(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return Gs(e)};Gt.hydrate=function(e,t,n){if(!gc(t))throw Error(X(200));return yc(null,e,t,!0,n)};Gt.hydrateRoot=function(e,t,n){if(!Bp(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Yb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Jb(t,null,e,1,n??null,s,!1,i,o),e[lr]=t.current,ba(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new mc(t)};Gt.render=function(e,t,n){if(!gc(t))throw Error(X(200));return yc(null,e,t,!1,n)};Gt.unmountComponentAtNode=function(e){if(!gc(e))throw Error(X(40));return e._reactRootContainer?(Gs(function(){yc(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};Gt.unstable_batchedUpdates=Dp;Gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gc(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return yc(e,t,n,!1,r)};Gt.version="18.3.1-next-f1338f8080-20240426";function Zb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zb)}catch(e){console.error(e)}}Zb(),Z0.exports=Gt;var zp=Z0.exports;const XE=qf(zp);var ay=zp;qd.createRoot=ay.createRoot,qd.hydrateRoot=ay.hydrateRoot;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ly="popstate";function eC(e={}){function t(s,i){let{pathname:o="/",search:a="",hash:l=""}=Xs(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Uh("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:Aa(i))}function r(s,i){qt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return nC(t,n,r,e)}function Ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tC(){return Math.random().toString(36).substring(2,10)}function uy(e,t){return{usr:e.state,key:e.key,idx:t}}function Uh(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xs(t):t,state:n,key:t&&t.key||r||tC()}}function Aa({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function nC(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let w=c(),p=w==null?null:w-u;u=w,l&&l({action:a,location:m.location,delta:p})}function h(w,p){a="PUSH";let g=Uh(m.location,w,p);n&&n(g,w),u=c()+1;let y=uy(g,u),x=m.createHref(g);try{o.pushState(y,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(x)}i&&l&&l({action:a,location:m.location,delta:1})}function f(w,p){a="REPLACE";let g=Uh(m.location,w,p);n&&n(g,w),u=c();let y=uy(g,u),x=m.createHref(g);o.replaceState(y,"",x),i&&l&&l({action:a,location:m.location,delta:0})}function v(w){return rC(w)}let m={get action(){return a},get location(){return e(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ly,d),l=w,()=>{s.removeEventListener(ly,d),l=null}},createHref(w){return t(s,w)},createURL:v,encodeLocation(w){let p=v(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:f,go(w){return o.go(w)}};return m}function rC(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ne(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Aa(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Xb(e,t,n="/"){return sC(e,t,n,!1)}function sC(e,t,n,r){let s=typeof t=="string"?Xs(t):t,i=dr(s.pathname||"/",n);if(i==null)return null;let o=e_(e);iC(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=gC(i);a=pC(o[l],u,r)}return a}function e_(e,t=[],n=[],r="",s=!1){let i=(o,a,l=s,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;Ne(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=ir([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(Ne(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),e_(o.children,t,h,d,l)),!(o.path==null&&!o.index)&&t.push({path:d,score:hC(d,o.index),routesMeta:h})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of t_(o.path))i(o,a,!0,u)}),t}function t_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=t_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function iC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var oC=/^:[\w-]+$/,aC=3,lC=2,uC=1,cC=10,dC=-2,cy=e=>e==="*";function hC(e,t){let n=e.split("/"),r=n.length;return n.some(cy)&&(r+=dC),t&&(r+=lC),n.filter(s=>!cy(s)).reduce((s,i)=>s+(oC.test(i)?aC:i===""?uC:cC),r)}function fC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function pC(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=Fu({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Fu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:ir([i,d.pathname]),pathnameBase:bC(ir([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=ir([i,d.pathnameBase]))}return o}function Fu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mC(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},h)=>{if(c==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const f=a[h];return d&&!f?u[c]=void 0:u[c]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function mC(e,t=!1,n=!0){qt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function gC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function dr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function yC(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Xs(e):e;return{pathname:n?n.startsWith("/")?n:vC(n,t):t,search:_C(r),hash:xC(s)}}function vC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gd(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vp(e){let t=wC(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Wp(e,t,n,r=!1){let s;typeof e=="string"?s=Xs(e):(s={...e},Ne(!s.pathname||!s.pathname.includes("?"),gd("?","pathname","search",s)),Ne(!s.pathname||!s.pathname.includes("#"),gd("#","pathname","hash",s)),Ne(!s.search||!s.search.includes("#"),gd("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=yC(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var ir=e=>e.join("/").replace(/\/\/+/g,"/"),bC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_C=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var n_=["POST","PUT","PATCH","DELETE"];new Set(n_);var kC=["GET",...n_];new Set(kC);var co=_.createContext(null);co.displayName="DataRouter";var vc=_.createContext(null);vc.displayName="DataRouterState";_.createContext(!1);var r_=_.createContext({isTransitioning:!1});r_.displayName="ViewTransition";var EC=_.createContext(new Map);EC.displayName="Fetchers";var CC=_.createContext(null);CC.displayName="Await";var An=_.createContext(null);An.displayName="Navigation";var Ja=_.createContext(null);Ja.displayName="Location";var jn=_.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var Hp=_.createContext(null);Hp.displayName="RouteError";function TC(e,{relative:t}={}){Ne(ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(An),{hash:s,pathname:i,search:o}=Za(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:ir([n,i])),r.createHref({pathname:a,search:o,hash:s})}function ho(){return _.useContext(Ja)!=null}function hn(){return Ne(ho(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Ja).location}var s_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i_(e){_.useContext(An).static||_.useLayoutEffect(e)}function Rn(){let{isDataRoute:e}=_.useContext(jn);return e?UC():PC()}function PC(){Ne(ho(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(co),{basename:t,navigator:n}=_.useContext(An),{matches:r}=_.useContext(jn),{pathname:s}=hn(),i=JSON.stringify(Vp(r)),o=_.useRef(!1);return i_(()=>{o.current=!0}),_.useCallback((l,u={})=>{if(qt(o.current,s_),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Wp(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ir([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,i,s,e])}_.createContext(null);function Ya(){let{matches:e}=_.useContext(jn),t=e[e.length-1];return t?t.params:{}}function Za(e,{relative:t}={}){let{matches:n}=_.useContext(jn),{pathname:r}=hn(),s=JSON.stringify(Vp(n));return _.useMemo(()=>Wp(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function AC(e,t){return o_(e,t)}function o_(e,t,n,r,s){var g;Ne(ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(An),{matches:o}=_.useContext(jn),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let y=d&&d.path||"";a_(u,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let h=hn(),f;if(t){let y=typeof t=="string"?Xs(t):t;Ne(c==="/"||((g=y.pathname)==null?void 0:g.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),f=y}else f=h;let v=f.pathname||"/",m=v;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+v.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=Xb(e,{pathname:m});qt(d||w!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),qt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=DC(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:ir([c,i.encodeLocation?i.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ir([c,i.encodeLocation?i.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),o,n,r,s);return t&&p?_.createElement(Ja.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},p):p}function jC(){let e=FC(),t=SC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:i},"ErrorBoundary")," or"," ",_.createElement("code",{style:i},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:s},n):null,o)}var RC=_.createElement(jC,null),OC=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?_.createElement(jn.Provider,{value:this.props.routeContext},_.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IC({routeContext:e,match:t,children:n}){let r=_.useContext(co);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(jn.Provider,{value:e},n)}function DC(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Ne(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:h}=n,f=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||f){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,d)=>{let h,f=!1,v=null,m=null;n&&(h=o&&c.route.id?o[c.route.id]:void 0,v=c.route.errorElement||RC,a&&(l<0&&d===0?(a_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):l===d&&(f=!0,m=c.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,d+1)),p=()=>{let g;return h?g=v:f?g=m:c.route.Component?g=_.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=u,_.createElement(IC,{match:c,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?_.createElement(OC,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:p(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):p()},null)}function Kp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NC(e){let t=_.useContext(co);return Ne(t,Kp(e)),t}function LC(e){let t=_.useContext(vc);return Ne(t,Kp(e)),t}function $C(e){let t=_.useContext(jn);return Ne(t,Kp(e)),t}function qp(e){let t=$C(e),n=t.matches[t.matches.length-1];return Ne(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function MC(){return qp("useRouteId")}function FC(){var r;let e=_.useContext(Hp),t=LC("useRouteError"),n=qp("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function UC(){let{router:e}=NC("useNavigate"),t=qp("useNavigate"),n=_.useRef(!1);return i_(()=>{n.current=!0}),_.useCallback(async(s,i={})=>{qt(n.current,s_),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var dy={};function a_(e,t,n){!t&&!dy[e]&&(dy[e]=!0,qt(!1,n))}_.memo(BC);function BC({routes:e,future:t,state:n,unstable_onError:r}){return o_(e,void 0,n,r,t)}function l_({to:e,replace:t,state:n,relative:r}){Ne(ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=_.useContext(An);qt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=_.useContext(jn),{pathname:o}=hn(),a=Rn(),l=Wp(e,Vp(i),o,r==="path"),u=JSON.stringify(l);return _.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function Tt(e){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zC({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ne(!ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=_.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Xs(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:h="default"}=n,f=_.useMemo(()=>{let v=dr(l,o);return v==null?null:{location:{pathname:v,search:u,hash:c,state:d,key:h},navigationType:r}},[o,l,u,c,d,h,r]);return qt(f!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:_.createElement(An.Provider,{value:a},_.createElement(Ja.Provider,{children:t,value:f}))}function VC({children:e,location:t}){return AC(Bh(e),t)}function Bh(e,t=[]){let n=[];return _.Children.forEach(e,(r,s)=>{if(!_.isValidElement(r))return;let i=[...t,s];if(r.type===_.Fragment){n.push.apply(n,Bh(r.props.children,i));return}Ne(r.type===Tt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bh(r.props.children,i)),n.push(o)}),n}var ou="get",au="application/x-www-form-urlencoded";function wc(e){return e!=null&&typeof e.tagName=="string"}function WC(e){return wc(e)&&e.tagName.toLowerCase()==="button"}function HC(e){return wc(e)&&e.tagName.toLowerCase()==="form"}function KC(e){return wc(e)&&e.tagName.toLowerCase()==="input"}function qC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GC(e,t){return e.button===0&&(!t||t==="_self")&&!qC(e)}function zh(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function QC(e,t){let n=zh(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Dl=null;function JC(){if(Dl===null)try{new FormData(document.createElement("form"),0),Dl=!1}catch{Dl=!0}return Dl}var YC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yd(e){return e!=null&&!YC.has(e)?(qt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${au}"`),null):e}function ZC(e,t){let n,r,s,i,o;if(HC(e)){let a=e.getAttribute("action");r=a?dr(a,t):null,n=e.getAttribute("method")||ou,s=yd(e.getAttribute("enctype"))||au,i=new FormData(e)}else if(WC(e)||KC(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?dr(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||ou,s=yd(e.getAttribute("formenctype"))||yd(a.getAttribute("enctype"))||au,i=new FormData(a,e),!JC()){let{name:u,type:c,value:d}=e;if(c==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,d)}}else{if(wc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ou,r=null,s=au,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XC(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&dr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function eT(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function nT(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await eT(i,n);return o.links?o.links():[]}return[]}));return oT(r.flat(1).filter(tT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function hy(e,t,n,r,s,i){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?t.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function rT(e,t,{includeHydrateFallback:n}={}){return sT(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function sT(e){return[...new Set(e)]}function iT(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function oT(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(iT(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function u_(){let e=_.useContext(co);return Gp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function aT(){let e=_.useContext(vc);return Gp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Qp=_.createContext(void 0);Qp.displayName="FrameworkContext";function c_(){let e=_.useContext(Qp);return Gp(e,"You must render this element inside a <HydratedRouter> element"),e}function lT(e,t){let n=_.useContext(Qp),[r,s]=_.useState(!1),[i,o]=_.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,h=_.useRef(null);_.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let m=p=>{p.forEach(g=>{o(g.isIntersecting)})},w=new IntersectionObserver(m,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),_.useEffect(()=>{if(r){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[r]);let f=()=>{s(!0)},v=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,h,{}]:[i,h,{onFocus:jo(a,f),onBlur:jo(l,v),onMouseEnter:jo(u,f),onMouseLeave:jo(c,v),onTouchStart:jo(d,f)}]:[!1,h,{}]}function jo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function uT({page:e,...t}){let{router:n}=u_(),r=_.useMemo(()=>Xb(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(dT,{page:e,matches:r,...t}):null}function cT(e){let{manifest:t,routeModules:n}=c_(),[r,s]=_.useState([]);return _.useEffect(()=>{let i=!1;return nT(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function dT({page:e,matches:t,...n}){let r=hn(),{manifest:s,routeModules:i}=c_(),{basename:o}=u_(),{loaderData:a,matches:l}=aT(),u=_.useMemo(()=>hy(e,t,l,s,r,"data"),[e,t,l,s,r]),c=_.useMemo(()=>hy(e,t,l,s,r,"assets"),[e,t,l,s,r]),d=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,m=!1;if(t.forEach(p=>{var y;let g=s.routes[p.route.id];!g||!g.hasLoader||(!u.some(x=>x.route.id===p.route.id)&&p.route.id in a&&((y=i[p.route.id])!=null&&y.shouldRevalidate)||g.hasClientLoader?m=!0:v.add(p.route.id))}),v.size===0)return[];let w=XC(e,o,"data");return m&&v.size>0&&w.searchParams.set("_routes",t.filter(p=>v.has(p.route.id)).map(p=>p.route.id).join(",")),[w.pathname+w.search]},[o,a,r,s,u,t,e,i]),h=_.useMemo(()=>rT(c,s),[c,s]),f=cT(c);return _.createElement(_.Fragment,null,d.map(v=>_.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>_.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),f.map(({key:v,link:m})=>_.createElement("link",{key:v,nonce:n.nonce,...m})))}function hT(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var d_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d_&&(window.__reactRouterVersion="7.9.3")}catch{}function fT({basename:e,children:t,window:n}){let r=_.useRef();r.current==null&&(r.current=eC({window:n,v5Compat:!0}));let s=r.current,[i,o]=_.useState({action:s.action,location:s.location}),a=_.useCallback(l=>{_.startTransition(()=>o(l))},[o]);return _.useLayoutEffect(()=>s.listen(a),[s,a]),_.createElement(zC,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var h_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...h},f){let{basename:v}=_.useContext(An),m=typeof u=="string"&&h_.test(u),w,p=!1;if(typeof u=="string"&&m&&(w=u,d_))try{let D=new URL(window.location.href),L=u.startsWith("//")?new URL(D.protocol+u):new URL(u),J=dr(L.pathname,v);L.origin===D.origin&&J!=null?u=J+L.search+L.hash:p=!0}catch{qt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=TC(u,{relative:s}),[y,x,E]=lT(r,h),T=yT(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function C(D){t&&t(D),D.defaultPrevented||T(D)}let A=_.createElement("a",{...h,...E,href:w||g,onClick:p||i?t:C,ref:hT(f,x),target:l,"data-discover":!m&&n==="render"?"true":void 0});return y&&!m?_.createElement(_.Fragment,null,A,_.createElement(uT,{page:g})):A});Vt.displayName="Link";var pT=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},c){let d=Za(o,{relative:u.relative}),h=hn(),f=_.useContext(vc),{navigator:v,basename:m}=_.useContext(An),w=f!=null&&ST(d)&&a===!0,p=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,g=h.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(g=g.toLowerCase(),y=y?y.toLowerCase():null,p=p.toLowerCase()),y&&m&&(y=dr(y,m)||y);const x=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=g===p||!s&&g.startsWith(p)&&g.charAt(x)==="/",T=y!=null&&(y===p||!s&&y.startsWith(p)&&y.charAt(p.length)==="/"),C={isActive:E,isPending:T,isTransitioning:w},A=E?t:void 0,D;typeof r=="function"?D=r(C):D=[r,E?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(C):i;return _.createElement(Vt,{...u,"aria-current":A,className:D,ref:c,style:L,to:o,viewTransition:a},typeof l=="function"?l(C):l)});pT.displayName="NavLink";var mT=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=ou,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...h},f)=>{let v=_T(),m=xT(a,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",p=typeof a=="string"&&h_.test(a),g=y=>{if(l&&l(y),y.defaultPrevented)return;y.preventDefault();let x=y.nativeEvent.submitter,E=(x==null?void 0:x.getAttribute("formmethod"))||o;v(x||y.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:s,state:i,relative:u,preventScrollReset:c,viewTransition:d})};return _.createElement("form",{ref:f,method:w,action:m,onSubmit:r?l:g,...h,"data-discover":!p&&e==="render"?"true":void 0})});mT.displayName="Form";function gT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f_(e){let t=_.useContext(co);return Ne(t,gT(e)),t}function yT(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Rn(),l=hn(),u=Za(e,{relative:i});return _.useCallback(c=>{if(GC(c,t)){c.preventDefault();let d=n!==void 0?n:Aa(l)===Aa(u);a(e,{replace:d,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,u,n,r,t,e,s,i,o])}function vT(e){qt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(zh(e)),n=_.useRef(!1),r=hn(),s=_.useMemo(()=>QC(r.search,n.current?null:t.current),[r.search]),i=Rn(),o=_.useCallback((a,l)=>{const u=zh(typeof a=="function"?a(new URLSearchParams(s)):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}var wT=0,bT=()=>`__${String(++wT)}__`;function _T(){let{router:e}=f_("useSubmit"),{basename:t}=_.useContext(An),n=MC();return _.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:u}=ZC(r,t);if(s.navigate===!1){let c=s.fetcherKey||bT();await e.fetch(c,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function xT(e,{relative:t}={}){let{basename:n}=_.useContext(An),r=_.useContext(jn);Ne(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Za(e||".",{relative:t})},o=hn();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();i.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:ir([n,i.pathname])),Aa(i)}function ST(e,{relative:t}={}){let n=_.useContext(r_);Ne(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=f_("useViewTransitionState"),s=Za(e,{relative:t});if(!n.isTransitioning)return!1;let i=dr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=dr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Fu(s.pathname,o)!=null||Fu(s.pathname,i)!=null}const ei="https://script.google.com/macros/s/AKfycbynZahbOOktMAZDYAUSCvG775_NwreTVV31OzQBkefIZ1-OAUrOsnhg4Uxi1TUKihhPMw/exec",p_="radtpoqypgqetijvopho",kT="modulepreload",ET=function(e){return"/new-sankeertan/"+e},fy={},fo=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=ET(l),l in fy)return;fy[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":kT,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},CT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fo(async()=>{const{default:r}=await Promise.resolve().then(()=>po);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Jp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class py extends Jp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class my extends Jp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gy extends Jp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Vh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Vh||(Vh={}));var TT=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class PT{constructor(t,{headers:n={},customFetch:r,region:s=Vh.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=CT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return TT(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:a,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(u["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(u["Content-Type"]="application/json",h=JSON.stringify(a)));const f=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:l}).catch(p=>{throw p.name==="AbortError"?p:new py(p)}),v=f.headers.get("x-relay-error");if(v&&v==="true")throw new my(f);if(!f.ok)throw new gy(f);let m=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield f.json():m==="application/octet-stream"?w=yield f.blob():m==="text/event-stream"?w=f:m==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new py(i)}:{data:null,error:i,response:i instanceof gy||i instanceof my?i.context:void 0}}})}}var Ot={},Yp={},bc={},Xa={},_c={},xc={},AT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},so=AT();const jT=so.fetch,m_=so.fetch.bind(so),g_=so.Headers,RT=so.Request,OT=so.Response,po=Object.freeze(Object.defineProperty({__proto__:null,Headers:g_,Request:RT,Response:OT,default:m_,fetch:jT},Symbol.toStringTag,{value:"Module"})),IT=T1(po);var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});let DT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Sc.default=DT;var y_=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xc,"__esModule",{value:!0});const NT=y_(IT),LT=y_(Sc);let $T=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=NT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let c=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=g:d=JSON.parse(g))}const w=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),p=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&p&&p.length>1&&(h=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,v="OK")}catch{i.status===404&&w===""?(f=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new LT.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};xc.default=$T;var MT=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_c,"__esModule",{value:!0});const FT=MT(xc);let UT=class extends FT.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};_c.default=UT;var BT=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xa,"__esModule",{value:!0});const zT=BT(_c);let VT=class extends zT.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Xa.default=VT;var WT=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bc,"__esModule",{value:!0});const Ro=WT(Xa);let HT=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,n){const{head:r=!1,count:s}=n??{},i=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),s&&this.headers.append("Prefer",`count=${s}`),new Ro.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ro.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ro.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Ro.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ro.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};bc.default=HT;var v_=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yp,"__esModule",{value:!0});const KT=v_(bc),qT=v_(Xa);let GT=class w_{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new KT.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new w_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new qT.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Yp.default=GT;var mo=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.PostgrestError=Ot.PostgrestBuilder=Ot.PostgrestTransformBuilder=Ot.PostgrestFilterBuilder=Ot.PostgrestQueryBuilder=Ot.PostgrestClient=void 0;const b_=mo(Yp);Ot.PostgrestClient=b_.default;const __=mo(bc);Ot.PostgrestQueryBuilder=__.default;const x_=mo(Xa);Ot.PostgrestFilterBuilder=x_.default;const S_=mo(_c);Ot.PostgrestTransformBuilder=S_.default;const k_=mo(xc);Ot.PostgrestBuilder=k_.default;const E_=mo(Sc);Ot.PostgrestError=E_.default;var QT=Ot.default={PostgrestClient:b_.default,PostgrestQueryBuilder:__.default,PostgrestFilterBuilder:x_.default,PostgrestTransformBuilder:S_.default,PostgrestBuilder:k_.default,PostgrestError:E_.default};const{PostgrestClient:JT,PostgrestQueryBuilder:bM,PostgrestFilterBuilder:_M,PostgrestTransformBuilder:xM,PostgrestBuilder:SM,PostgrestError:kM}=QT;class YT{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ZT="2.74.0",XT=`realtime-js/${ZT}`,eP="1.0.0",Wh=1e4,tP=1e3,nP=100;var ta;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ta||(ta={}));var Ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ye||(Ye={}));var Sn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sn||(Sn={}));var Hh;(function(e){e.websocket="websocket"})(Hh||(Hh={}));var bs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bs||(bs={}));class rP{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class C_{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ae||(Ae={}));const yy=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=sP(o,e,t,s),i),{}):{}},sP=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?T_(i,o):Kh(o)},T_=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return lP(t,n)}switch(e){case Ae.bool:return iP(t);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return oP(t);case Ae.json:case Ae.jsonb:return aP(t);case Ae.timestamp:return uP(t);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return Kh(t);default:return Kh(t)}},Kh=e=>e,iP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},aP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},lP=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>T_(t,a))}return e},uP=e=>typeof e=="string"?e.replace(" ","T"):e,P_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class vd{constructor(t,n,r={},s=Wh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vy||(vy={}));class na{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=na.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=na.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=na.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),v=c.filter(w=>f.indexOf(w.presence_ref)<0),m=d.filter(w=>h.indexOf(w.presence_ref)<0);v.length>0&&(a[u]=v),m.length>0&&(l[u]=m)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wy||(wy={}));var ra;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ra||(ra={}));var Yn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yn||(Yn={}));class Zp{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vd(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new C_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new na(this),this.broadcastEndpointURL=P_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[ra.PRESENCE]&&this.bindings[ra.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Yn.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Yn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){t==null||t(Yn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,p=[];for(let g=0;g<w;g++){const y=m[g],{filter:{event:x,schema:E,table:T,filter:C}}=y,A=f&&f[g];if(A&&A.event===x&&A.schema===E&&A.table===T&&A.filter===C)p.push(Object.assign(Object.assign({},y),{id:A.id}));else{this.unsubscribe(),this.state=Ye.errored,t==null||t(Yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Yn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ye.errored,t==null||t(Yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ye.joined&&t===ra.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new vd(this,Sn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ye.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new vd(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>nP){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Sn;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var v,m,w;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(m=f.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var v,m,w,p,g,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,E=(v=f.filter)===null||v===void 0?void 0:v.event;return x&&((m=n.ids)===null||m===void 0?void 0:m.includes(x))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const x=(g=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return x==="*"||x===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:w,commit_timestamp:p,type:g,errors:y}=v;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:p,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(v))}f.callback(h,r)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Zp.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sn.close,{},t)}_onError(t){this._on(Sn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yy(t.columns,t.old_record)),n}}const wd=()=>{},Nl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cP=[1e3,2e3,5e3,1e4],dP=1e4,hP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fP{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wh,this.transport=null,this.heartbeatIntervalMs=Nl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wd,this.ref=0,this.reconnectTimer=null,this.logger=wd,this.conn=null,this.sendBuffer=[],this.serializer=new rP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>fo(async()=>{const{default:a}=await Promise.resolve().then(()=>po);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Hh.websocket}`,this.httpEndpoint=P_(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=YT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:eP}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ta.connecting:return bs.Connecting;case ta.open:return bs.Open;case ta.closing:return bs.Closing;default:return bs.Closed}}isConnected(){return this.connectionState()===bs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Zp(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(tP,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Nl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([hP],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:XT};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Sn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new C_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,c;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Wh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Nl.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:wd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>cP[d-1]||dP,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Xp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pP extends Xp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qh extends Xp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var mP=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const A_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fo(async()=>{const{default:r}=await Promise.resolve().then(()=>po);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},gP=()=>mP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fo(()=>Promise.resolve().then(()=>po),void 0)).Response:Response}),Gh=e=>{if(Array.isArray(e))return e.map(n=>Gh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Gh(r)}),t},yP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ti=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const bd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vP=(e,t,n)=>ti(void 0,void 0,void 0,function*(){const r=yield gP();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new pP(bd(s),i,o))}).catch(s=>{t(new qh(bd(s),s))}):t(new qh(bd(e),e))}),wP=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(yP(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function el(e,t,n,r,s,i){return ti(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,wP(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>vP(l,a,r))})})}function Uu(e,t,n,r){return ti(this,void 0,void 0,function*(){return el(e,"GET",t,n,r)})}function Nn(e,t,n,r,s){return ti(this,void 0,void 0,function*(){return el(e,"POST",t,r,s,n)})}function Qh(e,t,n,r,s){return ti(this,void 0,void 0,function*(){return el(e,"PUT",t,r,s,n)})}function bP(e,t,n,r){return ti(this,void 0,void 0,function*(){return el(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function j_(e,t,n,r,s){return ti(this,void 0,void 0,function*(){return el(e,"DELETE",t,r,s,n)})}var _P=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class xP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return _P(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}}var SP=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class kP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new xP(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return SP(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}}var Ct=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const EP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},by={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CP{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=A_(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return Ct(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},by),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(t=="PUT"?Qh:Nn)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ct(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:by.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Qh(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ct(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Nn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ct(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ct(this,void 0,void 0,function*(){try{return{data:{path:(yield Nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ct(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Nn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ct(this,void 0,void 0,function*(){try{const s=yield Nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>Uu(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new kP(l,this.shouldThrowOnError)}info(t){return Ct(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Uu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}exists(t){return Ct(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield bP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r)&&r instanceof qh){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ct(this,void 0,void 0,function*(){try{return{data:yield j_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ct(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},EP),n),{prefix:t||""});return{data:yield Nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}listV2(t,n){return Ct(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const TP="2.74.0",PP={"X-Client-Info":`storage-js/${TP}`};var si=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class AP{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PP),n),this.fetch=A_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return si(this,void 0,void 0,function*(){try{return{data:yield Uu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}getBucket(t){return si(this,void 0,void 0,function*(){try{return{data:yield Uu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}createBucket(t){return si(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Nn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return si(this,void 0,void 0,function*(){try{return{data:yield Qh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return si(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}deleteBucket(t){return si(this,void 0,void 0,function*(){try{return{data:yield j_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}}class jP extends AP{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new CP(this.url,this.headers,t,this.fetch)}}const RP="2.74.0";let Uo="";typeof Deno<"u"?Uo="deno":typeof document<"u"?Uo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uo="react-native":Uo="node";const OP={"X-Client-Info":`supabase-js-${Uo}/${RP}`},IP={headers:OP},DP={schema:"public"},NP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LP={};var $P=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const MP=e=>{let t;return e?t=e:typeof fetch>"u"?t=m_:t=fetch,(...n)=>t(...n)},FP=()=>typeof Headers>"u"?g_:Headers,UP=(e,t,n)=>{const r=MP(n),s=FP();return(i,o)=>$P(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var BP=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function zP(e){return e.endsWith("/")?e:e+"/"}function VP(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>BP(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function WP(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const R_="2.74.0",hi=30*1e3,Jh=3,_d=Jh*hi,HP="http://localhost:9999",KP="supabase.auth.token",qP={"X-Client-Info":`gotrue-js/${R_}`},Yh="X-Supabase-Api-Version",O_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QP=10*60*1e3;class ja extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class JP extends ja{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function YP(e){return ue(e)&&e.name==="AuthApiError"}class _s extends ja{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class as extends ja{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class xr extends as{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZP(e){return ue(e)&&e.name==="AuthSessionMissingError"}class ii extends as{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ll extends as{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $l extends as{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XP(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class _y extends as{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zh extends as{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function xd(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class xy extends as{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Xh extends as{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sy=` 	
\r=`.split(""),e2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sy.length;t+=1)e[Sy[t].charCodeAt(0)]=-2;for(let t=0;t<Bu.length;t+=1)e[Bu[t].charCodeAt(0)]=t;return e})();function ky(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bu[r]),t.queuedBits-=6}}function I_(e,t,n){const r=e2[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ey(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{r2(o,r,n)};for(let o=0;o<e.length;o+=1)I_(e.charCodeAt(o),s,i);return t.join("")}function t2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function n2(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}t2(r,t)}}function r2(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function $i(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)I_(e.charCodeAt(s),n,r);return new Uint8Array(t)}function s2(e){const t=[];return n2(e,n=>t.push(n)),new Uint8Array(t)}function Cs(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ky(s,n,r)),ky(null,n,r),t.join("")}function i2(e){return Math.round(Date.now()/1e3)+e}function o2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",hs={tested:!1,writable:!1},D_=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hs.tested)return hs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hs.tested=!0,hs.writable=!0}catch{hs.tested=!0,hs.writable=!1}return hs.writable};function a2(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const N_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fo(async()=>{const{default:r}=await Promise.resolve().then(()=>po);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},l2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},fs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},br=async(e,t)=>{await e.removeItem(t)};class kc{constructor(){this.promise=new kc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}kc.promiseConstructor=Promise;function Sd(e){const t=e.split(".");if(t.length!==3)throw new Xh("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!GP.test(t[r]))throw new Xh("JWT not in base64url format");return{header:JSON.parse(Ey(t[0])),payload:JSON.parse(Ey(t[1])),signature:$i(t[2]),raw:{header:t[0],payload:t[1]}}}async function u2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function c2(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function d2(e){return("0"+e.toString(16)).substr(-2)}function h2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,d2).join("")}async function f2(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function p2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await f2(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oi(e,t,n=!1){const r=h2();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await fi(e,`${t}-code-verifier`,s);const i=await p2(r);return[i,r===i?"plain":"s256"]}const m2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g2(e){const t=e.headers.get(Yh);if(!t||!t.match(m2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function y2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function v2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const w2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ai(e){if(!w2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cy(e){return JSON.parse(JSON.stringify(e))}var b2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ys=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_2=[502,503,504];async function Ty(e){var t;if(!l2(e))throw new Zh(ys(e),0);if(_2.includes(e.status))throw new Zh(ys(e),e.status);let n;try{n=await e.json()}catch(i){throw new _s(ys(i),i)}let r;const s=g2(e);if(s&&s.getTime()>=O_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new xy(ys(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new xr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xy(ys(n),e.status,n.weak_password.reasons);throw new JP(ys(n),e.status||500,r)}const x2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function me(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Yh]||(i[Yh]=O_["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await S2(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function S2(e,t,n,r,s,i){const o=x2(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Zh(ys(l),0)}if(a.ok||await Ty(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ty(l)}}function yn(e){var t;let n=null;C2(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=i2(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Py(e){const t=yn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ar(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function k2(e){return{data:e,error:null}}function E2(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=b2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ay(e){return e}function C2(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ed=["global","local","others"];var T2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class P2{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=N_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ed[0]){if(Ed.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ed.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ar})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=T2(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:E2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ar})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ay});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ai(t);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ar})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ai(t);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ar})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ai(t);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ar})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ai(t.userId);try{const{data:n,error:r}=await me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ai(t.userId),ai(t.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ay});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ue(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function jy(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const li={debug:!!(globalThis&&D_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class L_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class A2 extends L_{}async function j2(e,t,n){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new A2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(li.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function R2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $_(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function O2(e){return parseInt(e,16)}function I2(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function D2(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=$_(e.address),v=c?`${c}://${r}`:r,m=e.statement?`${e.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${f}

${m}`;let p=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),a&&(p+=`
Not Before: ${a.toISOString()}`),l&&(p+=`
Request ID: ${l}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}p+=g}return`${w}
${p}`}class qe extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class zu extends qe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function N2({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(F_(o)){if(i.rp.id!==o)return new qe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function L2({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(F_(r)){if(n.rpId!==r)return new qe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var M_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class $2{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const M2=new $2;function F2(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=M_(e,["challenge","user","excludeCredentials"]),i=$i(t).buffer,o=Object.assign(Object.assign({},n),{id:$i(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:$i(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function U2(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=M_(e,["challenge","allowCredentials"]),s=$i(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:$i(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function B2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Cs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Cs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function z2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Cs(new Uint8Array(s.authenticatorData)),clientDataJSON:Cs(new Uint8Array(s.clientDataJSON)),signature:Cs(new Uint8Array(s.signature)),userHandle:s.userHandle?Cs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function F_(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ry(){var e,t;return!!(Bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function V2(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zu("Browser returned unexpected credential type",t)}:{data:null,error:new zu("Empty credential response",t)}}catch(t){return{data:null,error:N2({error:t,options:e})}}}async function W2(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zu("Browser returned unexpected credential type",t)}:{data:null,error:new zu("Empty credential response",t)}}catch(t){return{data:null,error:L2({error:t,options:e})}}}const H2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},K2={userVerification:"preferred",hints:["security-key"]};function Vu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=Vu(a,o):r[i]=Vu(o)}else r[i]=o}return r}function q2(e,t){return Vu(H2,e,t||{})}function G2(e,t){return Vu(K2,e,t||{})}class Q2{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??M2.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=q2(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await V2({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=G2(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await W2(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new _s("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new ja("rpId is required for WebAuthn authentication")};try{if(!Ry())return{data:null,error:new _s("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new _s("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new ja("rpId is required for WebAuthn registration")};try{if(!Ry())return{data:null,error:new _s("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new _s("Unexpected error in register",o)}}}}R2();const J2={url:HP,storageKey:KP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Oy(e,t,n){return await n()}const ui={};class Ra{get jwks(){var t,n;return(n=(t=ui[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ui[this.storageKey]=Object.assign(Object.assign({},ui[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ui[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ui[this.storageKey]=Object.assign(Object.assign({},ui[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ra.nextInstanceID,Ra.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},J2),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new P2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=N_(s.fetch),this.lock=s.lock||Oy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Bt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=j2:this.lock=Oy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Q2(this)},this.persistSession?(s.storage?this.storage=s.storage:D_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jy(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=jy(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=a2(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Bt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),XP(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?{error:n}:{error:new _s("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:yn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:d,options:h}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await oi(this.storage,this.storageKey)),i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:v},xform:yn})}else if("phone"in t){const{phone:c,password:d,options:h}=t;i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yn})}else throw new Ll("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Py})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Py})}else throw new Ll("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ii}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,c,d,h;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:m,wallet:w,statement:p,options:g}=t;let y;if(Bt())if(typeof w=="object")y=w;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")y=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=w}const x=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),E=await y.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=$_(E[0]);let C=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const D=await y.request({method:"eth_chainId"});C=O2(D)}const A={domain:x.host,address:T,statement:p,uri:x.href,version:"1",chainId:C,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=D2(A),v=await y.request({method:"personal_sign",params:[I2(f),T]})}try{const{data:m,error:w}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:yn});if(w)throw w;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new ii}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:w})}catch(m){if(ue(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,d,h,f;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:w,wallet:p,statement:g,options:y}=t;let x;if(Bt())if(typeof p=="object")x=p;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))x=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=p}const E=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const T=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),g?{statement:g}:null));let C;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")C=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)C=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const T=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=T}}try{const{data:w,error:p}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Cs(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:yn});if(p)throw p;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new ii}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:p})}catch(w){if(ue(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await fs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:yn});if(await br(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ii}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:yn}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ii}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await oi(this.storage,this.storageKey));const{error:d}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ll("You must provide either an email or phone number.")}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:yn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await oi(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:k2})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new xr;const{error:s}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ll("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<_d:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await fs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=kd()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ar}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xr}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ar})})}catch(n){if(ue(n))return ZP(n)&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new xr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await oi(this.storage,this.storageKey));const{data:u,error:c}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ar});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Sd(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new xr;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Bt())throw new $l("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $l(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _y("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $l("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _y("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new $l("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=hi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:m,error:w}=await this._getUser(i);if(w)throw w;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await fs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(YP(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=o2(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await oi(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Bt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ue(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,d=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:yn}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ii}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await c2(async s=>(s>0&&await u2(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xd(i)&&Date.now()+o-r<hi})}catch(r){if(this._debug(n,"error",r),ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Bt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await fs(this.storage,this.storageKey);if(s&&this.userStorage){let o=await fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await fi(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:kd()}else if(s&&!s.user&&!s.user){const o=await fs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await br(this.storage,this.storageKey+"-user"),await fi(this.storage,this.storageKey,s)):s.user=kd()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_d;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${_d}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),xd(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new kc;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new xr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ue(i)){const o={data:null,error:i};return xd(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Cy(s);await fi(this.storage,this.storageKey,i)}else{const s=Cy(n);await fi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await br(this.storage,this.storageKey),await br(this.storage,this.storageKey+"-code-verifier"),await br(this.storage,this.storageKey+"-user"),this.userStorage&&await br(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/hi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hi}ms, refresh threshold is ${Jh} ticks`),s<=Jh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof L_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await oi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await me(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?B2(t.webauthn.credential_response):z2(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:F2(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:U2(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Sd(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+QP>s)return r;const{data:i,error:o}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Sd(r);n!=null&&n.allowExpired||y2(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const c=v2(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,s2(`${a}.${l}`)))throw new Xh("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}Ra.nextInstanceID=0;const Y2=Ra;class Z2 extends Y2{constructor(t){super(t)}}var X2=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class eA{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const a=WP(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:DP,realtime:LP,auth:Object.assign(Object.assign({},NP),{storageKey:l}),global:IP},c=VP(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=UP(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new JT(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new jP(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new PT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return X2(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z2({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new fP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tA=(e,t,n)=>new eA(e,t,n);function nA(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}nA()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rA="https://"+p_+".supabase.co",sA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhZHRwb3F5cGdxZXRpanZvcGhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE3ODAwNjAsImV4cCI6MjA1NzM1NjA2MH0.dAIWitCyN4TVv3n4PTvhqJlUXsAGVSjOPm-L2jw818k",iA=rA,oA=sA,mt=tA(iA,oA),em=_.createContext({session:null,setSession:()=>{},isLoading:!0}),aA=({children:e})=>{const[t,n]=_.useState(null),[r,s]=_.useState(!0);_.useEffect(()=>{mt.auth.getSession().then(({data:{session:o}})=>{n(o),s(!1)}),mt.auth.onAuthStateChange((o,a)=>{n(a)})},[]);const i={session:t,setSession:n,isLoading:r};return b.jsx(em.Provider,{value:i,children:e})},ls=()=>_.useContext(em),lA=()=>{const[e,t]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(!1),[o,a]=_.useState(null),l=Rn(),{setSession:u}=ls(),c=async d=>{d.preventDefault(),i(!0),a(null);try{const{data:{session:h},error:f}=await mt.auth.signInWithPassword({email:e,password:n});if(f)a(f.message);else if(h){u(h);const v=sessionStorage.getItem("redirect_path");sessionStorage.removeItem("redirect_path"),l(v||"/categories",{replace:!0})}}catch(h){a(h.message||"An unexpected error occurred during login.")}finally{i(!1)}};return b.jsx("div",{className:"min-h-screen bg-gray-100 py-6 flex flex-col justify-center sm:py-12",children:b.jsxs("div",{className:"relative py-3 sm:max-w-xl sm:mx-auto",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-300 to-blue-600 shadow-lg transform -skew-y-6 sm:skew-x-6 sm:rounded-3xl"}),b.jsx("div",{className:"relative bg-white px-4 py-10 shadow-lg sm:rounded-3xl sm:px-20",children:b.jsxs("div",{className:"max-w-md mx-auto",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Login"}),b.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"-------------"})]}),b.jsx("div",{children:o&&b.jsx("p",{className:"text-red-500",children:o})}),b.jsxs("div",{className:"divide-y divide-gray-200",children:[b.jsx("form",{onSubmit:c,children:b.jsxs("div",{className:"py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[b.jsxs("div",{className:"relative",children:[b.jsx("input",{autoComplete:"off",id:"email",name:"email",type:"email",value:e,onChange:d=>t(d.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Email address"}),b.jsx("label",{htmlFor:"email",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Email address"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{autoComplete:"off",id:"password",name:"password",type:"password",value:n,onChange:d=>r(d.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Password"}),b.jsx("label",{htmlFor:"password",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Password"})]}),b.jsx("div",{className:"relative",children:b.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-500 px-4 py-2 font-bold text-white shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2",disabled:s,children:s?"Logging in...":"Login"})})]})}),b.jsxs("p",{children:["Don't have an account? ",b.jsx("button",{type:"button",onClick:()=>l("/signup"),children:"Sign Up"})]}),b.jsxs("p",{children:["Forgot your password? ",b.jsx("button",{type:"button",onClick:()=>l("/change-password"),children:"Change Password"})]})]})]})})]})})},uA=()=>{const[e,t]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(!1),[o,a]=_.useState(null),l=async u=>{u.preventDefault(),i(!0),a(null);try{const{error:c}=await mt.auth.signUp({email:e,password:n});c?a(c.message):alert("Signup successful! Please check your email to confirm your account.")}catch(c){a(c.message||"An unexpected error occurred")}finally{i(!1)}};return b.jsxs("div",{children:[b.jsx("h2",{children:"Sign Up"}),o&&b.jsx("p",{style:{color:"red"},children:o}),b.jsxs("form",{onSubmit:l,children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",children:"Email:"}),b.jsx("input",{type:"email",id:"email",value:e,onChange:u=>t(u.target.value),required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",children:"Password:"}),b.jsx("input",{type:"password",id:"password",value:n,onChange:u=>r(u.target.value),required:!0})]}),b.jsx("button",{type:"submit",disabled:s,children:s?"Signing up...":"Sign Up"})]})]})},cA=()=>{const[e,t]=_.useState(""),[n,r]=_.useState(!1),[s,i]=_.useState(null),[o,a]=_.useState(null),l=async u=>{u.preventDefault(),r(!0),i(null),a(null);try{const{error:c}=await mt.auth.updateUser({password:e});c?i(c.message):(a("Password updated successfully!"),t(""))}catch(c){i(c.message||"An unexpected error occurred")}finally{r(!1)}};return b.jsxs("div",{children:[b.jsx("h2",{children:"Change Password"}),s&&b.jsx("p",{style:{color:"red"},children:s}),o&&b.jsx("p",{style:{color:"green"},children:o}),b.jsxs("form",{onSubmit:l,children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"newPassword",children:"New Password:"}),b.jsx("input",{type:"password",id:"newPassword",value:e,onChange:u=>t(u.target.value),required:!0})]}),b.jsx("button",{type:"submit",disabled:n,children:n?"Updating password...":"Update Password"})]})]})},dA="auth_redirect_sankeertan",hA=()=>{const e=Rn(),[t]=vT(),[n,r]=_.useState(!0),[s,i]=_.useState(null),{setSession:o}=_.useContext(em);return _.useEffect(()=>{const a=t.get("token"),l=t.get("type"),u=t.get("email"),c=async(d,h,f)=>{r(!0),i(null);try{let v;if(h==="invite"||h==="signup"||h==="email_change"||h==="magiclink"){const m=f;if(!m){i("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}v=await mt.auth.verifyOtp({token:d,type:h,email:m})}else if(h==="recover"){e(`/reset-password?token=${d}`,{replace:!0});return}else if(h==="sms"){const m=f;if(!m){i("Phone number is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}v=await mt.auth.verifyOtp({token:d,type:"sms",phone:m})}else{i(`Unsupported authentication type: ${h}`),r(!1),e("/login",{replace:!0});return}if(v!=null&&v.error)i(v.error.message);else{const{data:{session:m}}=await mt.auth.getSession();m&&o(m),localStorage.setItem(dA,"true"),e("/",{replace:!0})}}catch(v){i(v.message||"An unexpected error occurred during authentication.")}finally{r(!1)}};a&&l?l==="recover"?c(a,l,""):l==="invite"||l==="signup"||l==="email_change"||l==="magiclink"?u?c(a,l,u):(i("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0})):c(a,l,""):(i("Invalid authentication link."),r(!1),e("/login",{replace:!0}))},[e,t,o]),n?b.jsx("div",{children:"Verifying your account..."}):s?b.jsxs("div",{children:["Error verifying account: ",s]}):null};var tl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Or,Kf,R0,pA=(R0=class{constructor(){de(this,Or,fA);de(this,Kf,!1)}setTimeoutProvider(e){ie(this,Or,e)}setTimeout(e,t){return $(this,Or).setTimeout(e,t)}clearTimeout(e){$(this,Or).clearTimeout(e)}setInterval(e,t){return $(this,Or).setInterval(e,t)}clearInterval(e){$(this,Or).clearInterval(e)}},Or=new WeakMap,Kf=new WeakMap,R0),Ts=new pA;function mA(e){setTimeout(e,0)}var Qs=typeof window>"u"||"Deno"in globalThis;function jt(){}function gA(e,t){return typeof e=="function"?e(t):e}function ef(e){return typeof e=="number"&&e>=0&&e!==1/0}function U_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zr(e,t){return typeof e=="function"?e(t):e}function tn(e,t){return typeof e=="function"?e(t):e}function Iy(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==tm(o,t.options))return!1}else if(!Ia(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Dy(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Oa(t.options.mutationKey)!==Oa(i))return!1}else if(!Ia(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function tm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Oa)(e)}function Oa(e){return JSON.stringify(e,(t,n)=>nf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ia(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ia(e[n],t[n])):!1}var yA=Object.prototype.hasOwnProperty;function B_(e,t){if(e===t)return e;const n=Ny(e)&&Ny(t);if(!n&&!(nf(e)&&nf(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=n?u:i[u],d=e[c],h=t[c];if(d===h){a[c]=d,(n?u<s:yA.call(e,c))&&l++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){a[c]=h;continue}const f=B_(d,h);a[c]=f,f===d&&l++}return s===o&&l===s?e:a}function tf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Ny(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nf(e){if(!Ly(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ly(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ly(e){return Object.prototype.toString.call(e)==="[object Object]"}function vA(e){return new Promise(t=>{Ts.setTimeout(t,e)})}function rf(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?B_(e,t):t}function wA(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function bA(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var nm=Symbol();function z_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===nm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _A(e,t){return typeof e=="function"?e(...t):!!e}var Rs,Ir,Fi,O0,xA=(O0=class extends tl{constructor(){super();de(this,Rs);de(this,Ir);de(this,Fi);ie(this,Fi,t=>{if(!Qs&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,Ir)||this.setEventListener($(this,Fi))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Ir))==null||t.call(this),ie(this,Ir,void 0))}setEventListener(t){var n;ie(this,Fi,t),(n=$(this,Ir))==null||n.call(this),ie(this,Ir,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){$(this,Rs)!==t&&(ie(this,Rs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof $(this,Rs)=="boolean"?$(this,Rs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rs=new WeakMap,Ir=new WeakMap,Fi=new WeakMap,O0),rm=new xA;function sf(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var SA=mA;function kA(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=SA;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ot=kA(),Ui,Dr,Bi,I0,EA=(I0=class extends tl{constructor(){super();de(this,Ui,!0);de(this,Dr);de(this,Bi);ie(this,Bi,t=>{if(!Qs&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Dr)||this.setEventListener($(this,Bi))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Dr))==null||t.call(this),ie(this,Dr,void 0))}setEventListener(t){var n;ie(this,Bi,t),(n=$(this,Dr))==null||n.call(this),ie(this,Dr,t(this.setOnline.bind(this)))}setOnline(t){$(this,Ui)!==t&&(ie(this,Ui,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return $(this,Ui)}},Ui=new WeakMap,Dr=new WeakMap,Bi=new WeakMap,I0),Wu=new EA;function CA(e){return Math.min(1e3*2**e,3e4)}function V_(e){return(e??"online")==="online"?Wu.isOnline():!0}var of=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function W_(e){let t=!1,n=0,r;const s=sf(),i=()=>s.status!=="pending",o=m=>{var w;if(!i()){const p=new of(m);h(p),(w=e.onCancel)==null||w.call(e,p)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>rm.isFocused()&&(e.networkMode==="always"||Wu.isOnline())&&e.canRun(),c=()=>V_(e.networkMode)&&e.canRun(),d=m=>{i()||(r==null||r(),s.resolve(m))},h=m=>{i()||(r==null||r(),s.reject(m))},f=()=>new Promise(m=>{var w;r=p=>{(i()||u())&&m(p)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;r=void 0,i()||(m=e.onContinue)==null||m.call(e)}),v=()=>{if(i())return;let m;const w=n===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(p){m=Promise.reject(p)}Promise.resolve(m).then(d).catch(p=>{var T;if(i())return;const g=e.retry??(Qs?0:3),y=e.retryDelay??CA,x=typeof y=="function"?y(n,p):y,E=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,p);if(t||!E){h(p);return}n++,(T=e.onFail)==null||T.call(e,n,p),vA(x).then(()=>u()?void 0:f()).then(()=>{t?h(p):v()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?v():f().then(v),s)}}var Os,D0,H_=(D0=class{constructor(){de(this,Os)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ef(this.gcTime)&&ie(this,Os,Ts.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qs?1/0:5*60*1e3))}clearGcTimeout(){$(this,Os)&&(Ts.clearTimeout($(this,Os)),ie(this,Os,void 0))}},Os=new WeakMap,D0),Is,zi,en,Ds,tt,Ua,Ns,bn,Qn,N0,TA=(N0=class extends H_{constructor(t){super();de(this,bn);de(this,Is);de(this,zi);de(this,en);de(this,Ds);de(this,tt);de(this,Ua);de(this,Ns);ie(this,Ns,!1),ie(this,Ua,t.defaultOptions),this.setOptions(t.options),this.observers=[],ie(this,Ds,t.client),ie(this,en,$(this,Ds).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ie(this,Is,$y(this.options)),this.state=t.state??$(this,Is),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,tt))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,Ua),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=$y(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),ie(this,Is,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,en).remove(this)}setData(t,n){const r=rf(this.state.data,t,this.options);return be(this,bn,Qn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){be(this,bn,Qn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=$(this,tt))==null?void 0:r.promise;return(s=$(this,tt))==null||s.cancel(t),n?n.then(jt).catch(jt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Is))}isActive(){return this.observers.some(t=>tn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!U_(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=$(this,tt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=$(this,tt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,en).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||($(this,tt)&&($(this,Ns)?$(this,tt).cancel({revert:!0}):$(this,tt).cancelRetry()),this.scheduleGc()),$(this,en).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,bn,Qn).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,c,d,h,f,v,m,w,p,g,y;if(this.state.fetchStatus!=="idle"&&((l=$(this,tt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if($(this,tt))return $(this,tt).continueRetry(),$(this,tt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(E=>E.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(ie(this,Ns,!0),r.signal)})},i=()=>{const x=z_(this.options,n),T=(()=>{const C={client:$(this,Ds),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return ie(this,Ns,!1),this.options.persister?this.options.persister(x,T,this):x(T)},a=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:$(this,Ds),state:this.state,fetchFn:i};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(a,this),ie(this,zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&be(this,bn,Qn).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),ie(this,tt,W_({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:x=>{x instanceof of&&x.revert&&this.setState({...$(this,zi),fetchStatus:"idle"}),r.abort()},onFail:(x,E)=>{be(this,bn,Qn).call(this,{type:"failed",failureCount:x,error:E})},onPause:()=>{be(this,bn,Qn).call(this,{type:"pause"})},onContinue:()=>{be(this,bn,Qn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const x=await $(this,tt).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(f=(h=$(this,en).config).onSuccess)==null||f.call(h,x,this),(m=(v=$(this,en).config).onSettled)==null||m.call(v,x,this.state.error,this),x}catch(x){if(x instanceof of){if(x.silent)return $(this,tt).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw be(this,bn,Qn).call(this,{type:"error",error:x}),(p=(w=$(this,en).config).onError)==null||p.call(w,x,this),(y=(g=$(this,en).config).onSettled)==null||y.call(g,this.state.data,x,this),x}finally{this.scheduleGc()}}},Is=new WeakMap,zi=new WeakMap,en=new WeakMap,Ds=new WeakMap,tt=new WeakMap,Ua=new WeakMap,Ns=new WeakMap,bn=new WeakSet,Qn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...K_(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,zi,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),$(this,en).notify({query:this,type:"updated",action:t})})},N0);function K_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $y(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Pt,_e,Ba,wt,Ls,Vi,Xn,Nr,za,Wi,Hi,$s,Ms,Lr,Ki,ke,Bo,af,lf,uf,cf,df,hf,ff,q_,L0,PA=(L0=class extends tl{constructor(t,n){super();de(this,ke);de(this,Pt);de(this,_e);de(this,Ba);de(this,wt);de(this,Ls);de(this,Vi);de(this,Xn);de(this,Nr);de(this,za);de(this,Wi);de(this,Hi);de(this,$s);de(this,Ms);de(this,Lr);de(this,Ki,new Set);this.options=n,ie(this,Pt,t),ie(this,Nr,null),ie(this,Xn,sf()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,_e).addObserver(this),My($(this,_e),this.options)?be(this,ke,Bo).call(this):this.updateResult(),be(this,ke,cf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pf($(this,_e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pf($(this,_e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,ke,df).call(this),be(this,ke,hf).call(this),$(this,_e).removeObserver(this)}setOptions(t){const n=this.options,r=$(this,_e);if(this.options=$(this,Pt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof tn(this.options.enabled,$(this,_e))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,ke,ff).call(this),$(this,_e).setOptions(this.options),n._defaulted&&!tf(this.options,n)&&$(this,Pt).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,_e),observer:this});const s=this.hasListeners();s&&Fy($(this,_e),r,this.options,n)&&be(this,ke,Bo).call(this),this.updateResult(),s&&($(this,_e)!==r||tn(this.options.enabled,$(this,_e))!==tn(n.enabled,$(this,_e))||Zr(this.options.staleTime,$(this,_e))!==Zr(n.staleTime,$(this,_e)))&&be(this,ke,af).call(this);const i=be(this,ke,lf).call(this);s&&($(this,_e)!==r||tn(this.options.enabled,$(this,_e))!==tn(n.enabled,$(this,_e))||i!==$(this,Lr))&&be(this,ke,uf).call(this,i)}getOptimisticResult(t){const n=$(this,Pt).getQueryCache().build($(this,Pt),t),r=this.createResult(n,t);return jA(this,r)&&(ie(this,wt,r),ie(this,Vi,this.options),ie(this,Ls,$(this,_e).state)),r}getCurrentResult(){return $(this,wt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&$(this,Xn).status==="pending"&&$(this,Xn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(t){$(this,Ki).add(t)}getCurrentQuery(){return $(this,_e)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=$(this,Pt).defaultQueryOptions(t),r=$(this,Pt).getQueryCache().build($(this,Pt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return be(this,ke,Bo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,wt)))}createResult(t,n){var D;const r=$(this,_e),s=this.options,i=$(this,wt),o=$(this,Ls),a=$(this,Vi),u=t!==r?t.state:$(this,Ba),{state:c}=t;let d={...c},h=!1,f;if(n._optimisticResults){const L=this.hasListeners(),J=!L&&My(t,n),O=L&&Fy(t,r,n,s);(J||O)&&(d={...d,...K_(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:w}=d;f=d.data;let p=!1;if(n.placeholderData!==void 0&&f===void 0&&w==="pending"){let L;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(L=i.data,p=!0):L=typeof n.placeholderData=="function"?n.placeholderData((D=$(this,Hi))==null?void 0:D.state.data,$(this,Hi)):n.placeholderData,L!==void 0&&(w="success",f=rf(i==null?void 0:i.data,L,n),h=!0)}if(n.select&&f!==void 0&&!p)if(i&&f===(o==null?void 0:o.data)&&n.select===$(this,za))f=$(this,Wi);else try{ie(this,za,n.select),f=n.select(f),f=rf(i==null?void 0:i.data,f,n),ie(this,Wi,f),ie(this,Nr,null)}catch(L){ie(this,Nr,L)}$(this,Nr)&&(v=$(this,Nr),f=$(this,Wi),m=Date.now(),w="error");const g=d.fetchStatus==="fetching",y=w==="pending",x=w==="error",E=y&&g,T=f!==void 0,A={status:w,fetchStatus:d.fetchStatus,isPending:y,isSuccess:w==="success",isError:x,isInitialLoading:E,isLoading:E,data:f,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:x&&!T,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&T,isStale:sm(t,n),refetch:this.refetch,promise:$(this,Xn),isEnabled:tn(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const L=z=>{A.status==="error"?z.reject(A.error):A.data!==void 0&&z.resolve(A.data)},J=()=>{const z=ie(this,Xn,A.promise=sf());L(z)},O=$(this,Xn);switch(O.status){case"pending":t.queryHash===r.queryHash&&L(O);break;case"fulfilled":(A.status==="error"||A.data!==O.value)&&J();break;case"rejected":(A.status!=="error"||A.error!==O.reason)&&J();break}}return A}updateResult(){const t=$(this,wt),n=this.createResult($(this,_e),this.options);if(ie(this,Ls,$(this,_e).state),ie(this,Vi,this.options),$(this,Ls).data!==void 0&&ie(this,Hi,$(this,_e)),tf(n,t))return;ie(this,wt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!$(this,Ki).size)return!0;const o=new Set(i??$(this,Ki));return this.options.throwOnError&&o.add("error"),Object.keys($(this,wt)).some(a=>{const l=a;return $(this,wt)[l]!==t[l]&&o.has(l)})};be(this,ke,q_).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,ke,cf).call(this)}},Pt=new WeakMap,_e=new WeakMap,Ba=new WeakMap,wt=new WeakMap,Ls=new WeakMap,Vi=new WeakMap,Xn=new WeakMap,Nr=new WeakMap,za=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,$s=new WeakMap,Ms=new WeakMap,Lr=new WeakMap,Ki=new WeakMap,ke=new WeakSet,Bo=function(t){be(this,ke,ff).call(this);let n=$(this,_e).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(jt)),n},af=function(){be(this,ke,df).call(this);const t=Zr(this.options.staleTime,$(this,_e));if(Qs||$(this,wt).isStale||!ef(t))return;const r=U_($(this,wt).dataUpdatedAt,t)+1;ie(this,$s,Ts.setTimeout(()=>{$(this,wt).isStale||this.updateResult()},r))},lf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,_e)):this.options.refetchInterval)??!1},uf=function(t){be(this,ke,hf).call(this),ie(this,Lr,t),!(Qs||tn(this.options.enabled,$(this,_e))===!1||!ef($(this,Lr))||$(this,Lr)===0)&&ie(this,Ms,Ts.setInterval(()=>{(this.options.refetchIntervalInBackground||rm.isFocused())&&be(this,ke,Bo).call(this)},$(this,Lr)))},cf=function(){be(this,ke,af).call(this),be(this,ke,uf).call(this,be(this,ke,lf).call(this))},df=function(){$(this,$s)&&(Ts.clearTimeout($(this,$s)),ie(this,$s,void 0))},hf=function(){$(this,Ms)&&(Ts.clearInterval($(this,Ms)),ie(this,Ms,void 0))},ff=function(){const t=$(this,Pt).getQueryCache().build($(this,Pt),this.options);if(t===$(this,_e))return;const n=$(this,_e);ie(this,_e,t),ie(this,Ba,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},q_=function(t){ot.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n($(this,wt))}),$(this,Pt).getQueryCache().notify({query:$(this,_e),type:"observerResultsUpdated"})})},L0);function AA(e,t){return tn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function My(e,t){return AA(e,t)||e.state.data!==void 0&&pf(e,t,t.refetchOnMount)}function pf(e,t,n){if(tn(t.enabled,e)!==!1&&Zr(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&sm(e,t)}return!1}function Fy(e,t,n,r){return(e!==t||tn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&sm(e,n)}function sm(e,t){return tn(t.enabled,e)!==!1&&e.isStaleByTime(Zr(t.staleTime,e))}function jA(e,t){return!tf(e.getCurrentResult(),t)}function Uy(e){return{onFetch:(t,n)=>{var c,d,h,f,v;const r=t.options,s=(h=(d=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},p=z_(t.options,t.fetchOptions),g=async(y,x,E)=>{if(m)return Promise.reject();if(x==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const J={client:t.client,queryKey:t.queryKey,pageParam:x,direction:E?"backward":"forward",meta:t.options.meta};return w(J),J})(),A=await p(C),{maxPages:D}=t.options,L=E?bA:wA;return{pages:L(y.pages,A,D),pageParams:L(y.pageParams,x,D)}};if(s&&i.length){const y=s==="backward",x=y?RA:By,E={pages:i,pageParams:o},T=x(r,E);a=await g(E,T,y)}else{const y=e??i.length;do{const x=l===0?o[0]??r.initialPageParam:By(r,a);if(l>0&&x==null)break;a=await g(a,x),l++}while(l<y)}return a};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function By(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function RA(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Va,Ln,bt,Fs,$n,Sr,$0,OA=($0=class extends H_{constructor(t){super();de(this,$n);de(this,Va);de(this,Ln);de(this,bt);de(this,Fs);ie(this,Va,t.client),this.mutationId=t.mutationId,ie(this,bt,t.mutationCache),ie(this,Ln,[]),this.state=t.state||IA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,Ln).includes(t)||($(this,Ln).push(t),this.clearGcTimeout(),$(this,bt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ie(this,Ln,$(this,Ln).filter(n=>n!==t)),this.scheduleGc(),$(this,bt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,Ln).length||(this.state.status==="pending"?this.scheduleGc():$(this,bt).remove(this))}continue(){var t;return((t=$(this,Fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,c,d,h,f,v,m,w,p,g,y,x,E,T,C,A,D;const n=()=>{be(this,$n,Sr).call(this,{type:"continue"})},r={client:$(this,Va),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,Fs,W_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(L,J)=>{be(this,$n,Sr).call(this,{type:"failed",failureCount:L,error:J})},onPause:()=>{be(this,$n,Sr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,bt).canRun(this)}));const s=this.state.status==="pending",i=!$(this,Fs).canStart();try{if(s)n();else{be(this,$n,Sr).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=$(this,bt).config).onMutate)==null?void 0:a.call(o,t,this,r));const J=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));J!==this.state.context&&be(this,$n,Sr).call(this,{type:"pending",context:J,variables:t,isPaused:i})}const L=await $(this,Fs).start();return await((d=(c=$(this,bt).config).onSuccess)==null?void 0:d.call(c,L,t,this.state.context,this,r)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,L,t,this.state.context,r)),await((m=(v=$(this,bt).config).onSettled)==null?void 0:m.call(v,L,null,this.state.variables,this.state.context,this,r)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,L,null,t,this.state.context,r)),be(this,$n,Sr).call(this,{type:"success",data:L}),L}catch(L){try{throw await((y=(g=$(this,bt).config).onError)==null?void 0:y.call(g,L,t,this.state.context,this,r)),await((E=(x=this.options).onError)==null?void 0:E.call(x,L,t,this.state.context,r)),await((C=(T=$(this,bt).config).onSettled)==null?void 0:C.call(T,void 0,L,this.state.variables,this.state.context,this,r)),await((D=(A=this.options).onSettled)==null?void 0:D.call(A,void 0,L,t,this.state.context,r)),L}finally{be(this,$n,Sr).call(this,{type:"error",error:L})}}finally{$(this,bt).runNext(this)}}},Va=new WeakMap,Ln=new WeakMap,bt=new WeakMap,Fs=new WeakMap,$n=new WeakSet,Sr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ot.batch(()=>{$(this,Ln).forEach(r=>{r.onMutationUpdate(t)}),$(this,bt).notify({mutation:this,type:"updated",action:t})})},$0);function IA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var er,_n,Wa,M0,DA=(M0=class extends tl{constructor(t={}){super();de(this,er);de(this,_n);de(this,Wa);this.config=t,ie(this,er,new Set),ie(this,_n,new Map),ie(this,Wa,0)}build(t,n,r){const s=new OA({client:t,mutationCache:this,mutationId:++gl(this,Wa)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){$(this,er).add(t);const n=Ml(t);if(typeof n=="string"){const r=$(this,_n).get(n);r?r.push(t):$(this,_n).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,er).delete(t)){const n=Ml(t);if(typeof n=="string"){const r=$(this,_n).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&$(this,_n).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Ml(t);if(typeof n=="string"){const r=$(this,_n).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Ml(t);if(typeof n=="string"){const s=(r=$(this,_n).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ot.batch(()=>{$(this,er).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,er).clear(),$(this,_n).clear()})}getAll(){return Array.from($(this,er))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Dy(n,r))}findAll(t={}){return this.getAll().filter(n=>Dy(t,n))}notify(t){ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ot.batch(()=>Promise.all(t.map(n=>n.continue().catch(jt))))}},er=new WeakMap,_n=new WeakMap,Wa=new WeakMap,M0);function Ml(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Mn,F0,NA=(F0=class extends tl{constructor(t={}){super();de(this,Mn);this.config=t,ie(this,Mn,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??tm(s,n);let o=this.get(i);return o||(o=new TA({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){$(this,Mn).has(t.queryHash)||($(this,Mn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=$(this,Mn).get(t.queryHash);n&&(t.destroy(),n===t&&$(this,Mn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,Mn).get(t)}getAll(){return[...$(this,Mn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Iy(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Iy(t,r)):n}notify(t){ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ot.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ot.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mn=new WeakMap,F0),ze,$r,Mr,qi,Gi,Fr,Qi,Ji,U0,LA=(U0=class{constructor(e={}){de(this,ze);de(this,$r);de(this,Mr);de(this,qi);de(this,Gi);de(this,Fr);de(this,Qi);de(this,Ji);ie(this,ze,e.queryCache||new NA),ie(this,$r,e.mutationCache||new DA),ie(this,Mr,e.defaultOptions||{}),ie(this,qi,new Map),ie(this,Gi,new Map),ie(this,Fr,0)}mount(){gl(this,Fr)._++,$(this,Fr)===1&&(ie(this,Qi,rm.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,ze).onFocus())})),ie(this,Ji,Wu.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,ze).onOnline())})))}unmount(){var e,t;gl(this,Fr)._--,$(this,Fr)===0&&((e=$(this,Qi))==null||e.call(this),ie(this,Qi,void 0),(t=$(this,Ji))==null||t.call(this),ie(this,Ji,void 0))}isFetching(e){return $(this,ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,$r).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=$(this,ze).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=$(this,ze).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Zr(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return $(this,ze).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=$(this,ze).get(r.queryHash),i=s==null?void 0:s.state.data,o=gA(t,i);if(o!==void 0)return $(this,ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ot.batch(()=>$(this,ze).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=$(this,ze).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=$(this,ze);ot.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=$(this,ze);return ot.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ot.batch(()=>$(this,ze).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(jt).catch(jt)}invalidateQueries(e,t={}){return ot.batch(()=>($(this,ze).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ot.batch(()=>$(this,ze).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(jt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(jt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=$(this,ze).build(this,t);return n.isStaleByTime(Zr(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jt).catch(jt)}fetchInfiniteQuery(e){return e.behavior=Uy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jt).catch(jt)}ensureInfiniteQueryData(e){return e.behavior=Uy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wu.isOnline()?$(this,$r).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,ze)}getMutationCache(){return $(this,$r)}getDefaultOptions(){return $(this,Mr)}setDefaultOptions(e){ie(this,Mr,e)}setQueryDefaults(e,t){$(this,qi).set(Oa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,qi).values()],n={};return t.forEach(r=>{Ia(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){$(this,Gi).set(Oa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,Gi).values()],n={};return t.forEach(r=>{Ia(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,Mr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===nm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,Mr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,ze).clear(),$(this,$r).clear()}},ze=new WeakMap,$r=new WeakMap,Mr=new WeakMap,qi=new WeakMap,Gi=new WeakMap,Fr=new WeakMap,Qi=new WeakMap,Ji=new WeakMap,U0),G_=_.createContext(void 0),Ec=e=>{const t=_.useContext(G_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$A=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),b.jsx(G_.Provider,{value:e,children:t})),Q_=_.createContext(!1),MA=()=>_.useContext(Q_);Q_.Provider;function FA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var UA=_.createContext(FA()),BA=()=>_.useContext(UA),zA=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},VA=e=>{_.useEffect(()=>{e.clearReset()},[e])},WA=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||_A(n,[e.error,r])),HA=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},KA=(e,t)=>e.isLoading&&e.isFetching&&!t,qA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,zy=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function GA(e,t,n){var d,h,f,v,m;const r=MA(),s=BA(),i=Ec(),o=i.defaultQueryOptions(e);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",HA(o),zA(o,s),VA(s);const a=!i.getQueryCache().get(o.queryHash),[l]=_.useState(()=>new t(i,o)),u=l.getOptimisticResult(o),c=!r&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(w=>{const p=c?l.subscribe(ot.batchCalls(w)):jt;return l.updateResult(),p},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),_.useEffect(()=>{l.setOptions(o)},[o,l]),qA(o,u))throw zy(o,l,s);if(WA({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((v=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||v.call(f,o,u),o.experimental_prefetchInRender&&!Qs&&KA(u,r)){const w=a?zy(o,l,s):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;w==null||w.catch(jt).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function im(e,t){return GA(e,PA)}const J_=_.createContext({categories:[],isLoading:!1,isFetching:!1,error:null}),Vy="sankeertan_categories_data",QA=async e=>{const t=new URL(`${ei}`);t.searchParams.append("mode","api"),t.searchParams.append("apiname","getcategoriesandbooks"),t.searchParams.append("sessionuser",e??"dummyfornow");const n=await fetch(t.toString());if(!n.ok){const i=await n.json();throw new Error(`Failed to fetch categories and books: ${n.status} - ${JSON.stringify(i)}`)}const r=await n.json();return Object.keys(r).filter(i=>i!=="books").map(i=>({name:i,bookCount:Array.isArray(r[i])?r[i].length:0,books:Array.isArray(r[i])?r[i].map(o=>({bookId:o["Book Id"],bookName:o["Book Name"],songCount:o["Song Count"],verseCount:o["Verse Count"],isBookSourceSupabase:o.isBookSourceSupabase==="true"||o.isBookSourceSupabase===!0||!1})):[],id:i.toLowerCase().replace(/ /g,"-"),image:`https://placehold.co/800/orange/black?text=${encodeURIComponent(i)}&font=lora`}))},JA=({children:e})=>{var u;const{session:t}=ls(),n=(u=t==null?void 0:t.user)==null?void 0:u.email,r=_.useMemo(()=>{try{const c=localStorage.getItem(Vy);if(c){const d=JSON.parse(c);if(Array.isArray(d==null?void 0:d.data))return d.data}}catch(c){console.error("Error retrieving categories data from localStorage:",c)}},[]),{isLoading:s,isFetching:i,error:o,data:a}=im({queryKey:["categories",n],queryFn:()=>QA(n??null),staleTime:1/0,initialData:r,refetchOnMount:!1,enabled:!!n});_.useEffect(()=>{if(a&&!i)try{const c={data:a,timestamp:Date.now()};localStorage.setItem(Vy,JSON.stringify(c))}catch(c){console.error("Error saving categories data to localStorage:",c)}},[a,i]);const l=s||r!==void 0&&a===void 0&&i;return b.jsx(J_.Provider,{value:{categories:a??[],isLoading:l,isFetching:i,error:o},children:e})},om=()=>_.useContext(J_),Wy=e=>{const[t,n]=_.useState(!1);return _.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;const r=window.matchMedia(e),s=i=>n(i.matches);return n(r.matches),r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}},[e]),t};function YA(){var f;const{categories:e,isLoading:t,isFetching:n,error:r}=om(),s=Rn(),[i,o]=_.useState([]);Wy("(max-width: 600px) and (orientation: portrait)"),Wy("(max-width: 900px) and (orientation: landscape)");const{session:a}=ls(),l=(f=a==null?void 0:a.user)==null?void 0:f.email,u=Ec();if(_.useEffect(()=>{o((m=>{const w=[],p=360/m;for(let g=0;g<m;g++){const y=g*p;w.push(`hsl(${y}, 70%, 60%)`)}return w})(e.length))},[e.length]),t||n)return b.jsx("div",{children:"Loading categories..."});if(r instanceof Error)return b.jsxs("div",{children:["Error loading categories: ",r.message]});const c=()=>{localStorage.removeItem("sankeertan_categories_data"),console.log("Categories & Books -> Local cache cleared. Data will be reloaded from the server."),u.invalidateQueries({queryKey:["categories",l]})},d=(v,m)=>{v.stopPropagation(),s(`/books/${m}`)},h={container:{maxWidth:"1000px",margin:"0 auto",padding:"20px",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",backgroundColor:"#f5f7fa",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)"},heading:{textAlign:"center",color:"#2c3e50",marginBottom:"25px",fontSize:"32px",fontWeight:"700",paddingBottom:"15px",borderBottom:"2px solid #eaeaea"},categoryGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},categoryItem:{borderRadius:"12px",padding:"20px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)",border:"1px solid #eaeaea",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},categoryIcon:{marginRight:"15px",width:"50px",height:"50px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"white",flexShrink:"0",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},categoryName:{fontWeight:"600",color:"#2c3e50",fontSize:"18px"}};return{...h.categoryGridBase},b.jsxs("div",{style:h.container,children:[b.jsxs("h2",{style:h.heading,children:["Book Categories",b.jsx("button",{onClick:c,style:{marginRight:"10px"},title:"Reload",children:"🔄"})]}),b.jsx("div",{style:h.categoryGrid,children:e==null?void 0:e.map((v,m)=>b.jsxs("div",{onClick:w=>d(w,v.id),style:{...h.categoryItem,backgroundColor:m%2===0?"#f8f9fa":"#ffffff"},className:"category-item",children:[b.jsx("div",{style:{...h.categoryIcon,backgroundColor:i[m]||"#3498db"},children:"📚"}),b.jsx("span",{style:h.categoryName,children:v.name})]},v.id))}),b.jsx("style",{children:`
          .category-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: #3498db;
          }
        `})]})}const Y_=_.createContext({isOfflineMode:!1,setIsOfflineMode:()=>{},isEffectivelyOffline:!1}),ZA=({children:e})=>{const[t,n]=_.useState(!1),r=t||!navigator.onLine;return _.useEffect(()=>{const s=()=>{},i=()=>{t||n(!0)};return window.addEventListener("online",s),window.addEventListener("offline",i),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}},[t,n]),b.jsx(Y_.Provider,{value:{isOfflineMode:t,setIsOfflineMode:n,isEffectivelyOffline:r},children:e})},am=()=>_.useContext(Y_),Z_=_.createContext(void 0),Hy=e=>{const t={};for(const n of e){const r=n.songCount||0,s=!!localStorage.getItem(`sankeertan_song_indices-${encodeURIComponent(n.bookId)}`),i=r>0?XA(n.bookId):0;t[n.bookId]={totalSongs:r,downloadedSongs:i,downloadingSongs:{},isIndexDownloaded:s}}return t},XA=(e,t)=>{let n=0;for(let r=0;r<localStorage.length;r++){const s=localStorage.key(r);s&&s.startsWith(`sankeertan_song_details-${e}`)&&n++}return n},ej=({children:e,books:t})=>{const[n,r]=_.useState(()=>Hy(t));_.useEffect(()=>{r(Hy(t))},[t]);const s=_.useCallback((c,d)=>{r(h=>({...h,[c]:{...h[c],totalSongs:d}}))},[]),i=_.useCallback((c,d)=>{r(h=>({...h,[c]:{...h[c],downloadedSongs:d}}))},[]),o=_.useCallback((c,d)=>{r(h=>({...h,[c]:{...h[c],isIndexDownloaded:d}}))},[]),u={downloadStatus:n,updateDownloadProgress:s,updateDownloadedCount:i,markSongAsDownloading:(c,d)=>{r(h=>{var f;return{...h,[c]:{...h[c],downloadingSongs:{...(f=h[c])==null?void 0:f.downloadingSongs,[d]:!0}}}})},markSongAsDownloaded:(c,d)=>{r(h=>{var v,m;const f={...(v=h[c])==null?void 0:v.downloadingSongs};return delete f[d],{...h,[c]:{...h[c],downloadedSongs:(((m=h[c])==null?void 0:m.downloadedSongs)||0)+1,downloadingSongs:f}}})},updateIndexStatus:o};return b.jsx(Z_.Provider,{value:u,children:e})},lm=()=>{const e=_.useContext(Z_);if(!e)throw new Error("useDownloadStatus must be used within a DownloadStatusProvider");return e},tj=async({bookId:e,sourceRow:t,songTitle:n,sessionuser:r})=>{if(!e||!t||!n)throw new Error("Missing parameters to fetch song details");const s=new URL(`${ei}`);s.searchParams.append("mode","api"),s.searchParams.append("apiname","getsongtextforsong"),s.searchParams.append("book",e),s.searchParams.append("sourcerow",t.toString()),s.searchParams.append("songtitle",n),r&&s.searchParams.append("sessionuser",r);const i=await fetch(s.toString());if(!i.ok){const o=await i.json();throw new Error(`Failed to fetch song details for book ${e}, row ${t}, title ${n}: ${i.status} - ${JSON.stringify(o)}`)}return await i.json()},nj=3e3,rj=10,sj=(e,t,n)=>{const[r,s]=_.useState(!1),[i,o]=_.useState(null),{updateDownloadProgress:a,markSongAsDownloading:l,markSongAsDownloaded:u}=lm(),c=_.useCallback(f=>i===f&&r,[i,r]),d=_.useCallback(f=>{let v=0;const m=`sankeertan_song_indices-${f}`,w=localStorage.getItem(m);if(w)try{const p=JSON.parse(w);p!=null&&p.data&&Array.isArray(p.data)&&p.data.forEach(g=>{const y=`sankeertan_song_details-${f}-${encodeURIComponent(g.songTitle)}`;localStorage.getItem(y)&&v++})}catch(p){console.error("Error parsing song indices from localStorage:",p)}return v},[]),h=_.useCallback(async(f,v)=>{if(!f||r&&i===f)return 0;o(f),s(!0);const m=`sankeertan_song_indices-${f}`,w=localStorage.getItem(m);let p=null,g=0;if(w)try{const y=JSON.parse(w);y!=null&&y.data&&Array.isArray(y.data)?(p=y.data.map(x=>({sourceRow:x.sourceRow,songTitle:x.songTitle,verseCount:x.verseCount})),g=p.length,a(f,g)):console.warn(`Stored song indices for book ${f} is not a valid array.`)}catch(y){console.error("Error parsing song indices from localStorage:",y)}if(!p)try{const y=new URL(ei);y.searchParams.append("mode","api"),y.searchParams.append("apiname","getsongsforbook"),y.searchParams.append("book",f),v&&y.searchParams.append("sessionuser",v),y.searchParams.append("sessionuser",v??"dummyfornow");const x=await fetch(y.toString());if(!x.ok){const T=await x.json();throw new Error(`Failed to fetch song indices for book ${f}: ${x.status} - ${JSON.stringify(T)}`)}const E=await x.json();p=E,g=p.length,a(f,g),localStorage.setItem(m,JSON.stringify({data:E,timestamp:Date.now()}))}catch{return 0}if(p&&p.length>0){let y=0;for(const x of p){const E=`sankeertan_song_details-${f}-${encodeURIComponent(x.songTitle)}`;if(localStorage.getItem(E))u(f,x.songTitle);else{l(f,x.songTitle);try{const T=await tj({bookId:f,sourceRow:x.sourceRow,songTitle:x.songTitle,sessionuser:v});localStorage.setItem(E,JSON.stringify({data:T,timestamp:Date.now()})),u(f,x.songTitle),y++}catch{}if(await new Promise(T=>setTimeout(T,nj)),y>=rj)break}}}return s(!1),o(null),g},[e,t,n,r,i,a,l,u]);return{isDownloading:r,downloadAllSongsForBook:h,getDownloadedSongCount:d,isDownloadingBook:c}},gn={container:{fontFamily:"sans-serif",fontSize:"14px",color:"#555",marginBottom:"20px"},link:{color:"#007bff",textDecoration:"none",transition:"color 0.2s ease-in-out"},separator:{margin:"0 5px",color:"#999"},currentPage:{fontWeight:"bold",color:"#333",cursor:"default",textDecoration:"none"}},um=()=>{const e=hn(),{categoryId:t,bookId:n,songTitle:r}=Ya(),s=r?decodeURIComponent(r):"",[i,o]=he.useState(!1),a={...gn.link,color:i?"#0056b3":"#007bff",textDecoration:i?"underline":"none"},l=b.jsx(Vt,{to:"/",style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:"Home"});return e.pathname.startsWith("/books/")?b.jsxs("div",{style:gn.container,children:[l,b.jsx("span",{style:gn.separator,children:">"}),t]}):e.pathname.startsWith("/book/")?b.jsxs("div",{style:gn.container,children:[l,b.jsx("span",{style:gn.separator,children:">"}),b.jsx(Vt,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:t}),b.jsx("span",{style:gn.separator,children:">"}),n]}):e.pathname.startsWith("/details/book/")?b.jsxs("div",{style:gn.container,children:[l,b.jsx("span",{style:gn.separator,children:">"}),b.jsx(Vt,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:t}),b.jsx("span",{style:gn.separator,children:">"}),b.jsx(Vt,{to:`/book/${t}/${n}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:n}),b.jsx("span",{style:gn.separator,children:">"}),b.jsx("span",{style:gn.currentPage,children:s})]}):null},X_=_.createContext({preferredLanguage:"deva",setPreferredLanguage:()=>{}}),ex=({children:e})=>{const t=localStorage.getItem("preferredLanguage"),[n,r]=_.useState(t||"deva");return _.useEffect(()=>{localStorage.setItem("preferredLanguage",n)},[n]),b.jsx(X_.Provider,{value:{preferredLanguage:n,setPreferredLanguage:r},children:e})},go=()=>_.useContext(X_);function ij(){var H;const{categoryId:e}=Ya(),t=Rn(),{categories:n,isLoading:r,isFetching:s,error:i}=om(),{isEffectivelyOffline:o}=am(),{isDownloading:a,downloadAllSongsForBook:l,isDownloadingBook:u}=sj(),[c,d]=_.useState(null),[h,f]=_.useState(!1),v=Ec(),{preferredLanguage:m}=go(),{downloadStatus:w,updateDownloadProgress:p,updateDownloadedCount:g}=lm(),{session:y}=ls(),x=(H=y==null?void 0:y.user)==null?void 0:H.email,E=_.useMemo(()=>n==null?void 0:n.find(I=>I.id===e),[n,e]),T=_.useMemo(()=>{var I;return((I=E==null?void 0:E.books)==null?void 0:I.filter(N=>o?!!localStorage.getItem(`sankeertan_song_indices-${encodeURIComponent(N.bookId)}`):!0))??[]},[E==null?void 0:E.books,o]),C=async(I,N)=>{if(I==null||I.stopPropagation(),!window.confirm(`Pls confirm for deletion of book index [${N}]`))return;const Z=`sankeertan_song_indices-${N}`;localStorage.removeItem(Z),p(N,0),g(N,0)},A=async(I,N)=>{if(I==null||I.stopPropagation(),!window.confirm(`WARNING: This will permanently delete the ENTIRE book "${N}". This action cannot be undone. Please confirm.`))return;const Z=`sankeertan_song_details-${N}`;let Q=[];for(let ge=0;ge<localStorage.length;ge++){const re=localStorage.key(ge);re&&re.startsWith(Z)&&Q.push(re)}Q.forEach(ge=>localStorage.removeItem(ge));const ce=`sankeertan_song_indices-${N}`;localStorage.removeItem(ce),p(N,0),g(N,0)},D=(I,N)=>{I==null||I.stopPropagation(),t(`/book/${e}/${N}`)},L=async()=>{var N;f(!0);const I=(N=y==null?void 0:y.user)==null?void 0:N.email;try{const K=T.map(Z=>v.prefetchQuery({queryKey:["songIndices",Z.bookId,m,I],queryFn:()=>J(Z.bookId,I??null)}));await Promise.all(K),console.log("All song indices downloaded successfully.")}catch(K){console.error("Failed to download all indices:",K)}finally{f(!1)}},J=async(I,N)=>{if(!I)return[];const K=`sankeertan_song_indices-${I}`,Z=localStorage.getItem(K);if(Z)try{return JSON.parse(Z)}catch(re){console.error("Error parsing song indices from localStorage:",re)}const Q=new URL(ei);Q.searchParams.append("mode","api"),Q.searchParams.append("apiname","getsongsforbook"),Q.searchParams.append("book",I),Q.searchParams.append("sessionuser",N??"dummyfornow");const ce=await fetch(Q.toString());if(!ce.ok){const re=await ce.json();throw new Error(`Failed to fetch song indices for book ${I}: ${ce.status} - ${JSON.stringify(re)}`)}const ge=await ce.json();return console.log(`Setting localstorage for ${K}`),localStorage.setItem(K,JSON.stringify(ge)),ge},O=async(I,N)=>{var Z;I.stopPropagation(),d(N);const K=(Z=y==null?void 0:y.user)==null?void 0:Z.email;try{await v.prefetchQuery({queryKey:["songIndices",N,m,K],queryFn:()=>J(N,K??null)}),console.log(`Index for Book ${N} downloaded successfully.`)}catch(Q){console.error(`Failed to download index for Book ${N}:`,Q)}finally{d(null)}},z=async(I,N,K)=>{I==null||I.stopPropagation(),await l(N,x)},k=b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[b.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6zM13 15h-2v3h-2v-3H7l3.5-3.5L14 15h-2z"})]}),W=b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[b.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h12v16H6V4zM16 13h-3v3h-2v-3H8l4-4 4 4zM14 20h-4v-2h4v2z"})]}),oe=b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[b.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18h14v2H5v-2z"})]}),R=b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[b.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})]}),U=b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[b.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})]}),F=b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[b.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 4h7v5h5v11H6V4zm-2 16h16V4h-3V1h-4v3h-3v-3H4v3H1v2h3v12zM12 9l-4 4h3v4h2v-4h3l-4-4z"})]});return r||s?b.jsx("div",{children:"Loading books..."}):i instanceof Error?b.jsxs("div",{children:["Error loading books: ",i.message]}):b.jsxs(b.Fragment,{children:[b.jsx(um,{}),b.jsx("div",{children:T.length>0?b.jsx("ul",{className:"list-none p-0",children:T.map(I=>{const N=w[I.bookId]||{},K=N.downloadedSongs||0,Z=N.totalSongs||I.songCount||0,Q=Z>0?K/Z*100:0,ce=!!localStorage.getItem(`sankeertan_song_indices-${encodeURIComponent(I.bookId)}`),ge=K===Z&&Z>0;return b.jsx("li",{onClick:re=>D(re,I.bookId),className:"relative overflow-hidden cursor-pointer border-b border-gray-300 py-2 px-4",children:b.jsxs("div",{className:"z-20 relative grid grid-cols-[1fr_auto] gap-4 items-center divide-x divide-gray-300",children:[b.jsxs("div",{className:"relative text-lg font-medium pr-4",children:[b.jsx("div",{className:"absolute inset-0 bg-gray-200 z-0 rounded-md",style:{width:"100%"}}),b.jsx("div",{className:"absolute inset-0 bg-green-200 z-10 rounded-md",style:{width:`${Q}%`}}),b.jsx("span",{className:`relative z-20 ${Q>25,"text-black-900"}`,children:I.bookName})]}),b.jsxs("div",{className:"flex items-center space-x-4 divide-x divide-gray-300 pl-4",children:[b.jsx("div",{className:"flex items-center text-sm text-gray-600 pr-4 min-w-[150px]",children:b.jsxs("span",{children:["(",K,"/",Z," downloaded)"]})}),b.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:ce?b.jsxs("span",{className:"flex items-center text-green-500",children:[R," ",b.jsx("span",{className:"ml-1",children:"Index"})]}):b.jsx("button",{onClick:re=>{re.stopPropagation(),O(re,I.bookId)},disabled:o||a||u(I.bookId)||ce,className:"flex items-center text-brown-600",children:c===I.bookId?"DownloadingI...":b.jsxs(b.Fragment,{children:[k," ",b.jsx("span",{className:"ml-1",children:"Download Index"})]})})}),b.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:ge?b.jsxs("span",{className:"flex items-center text-green-500",children:[R," ",b.jsx("span",{className:"ml-1",children:"Book"})]}):b.jsx("button",{onClick:re=>{re.stopPropagation(),z(re,I.bookId,I.songCount??0)},disabled:o||a||u(I.bookId),className:"flex items-center text-brown-600",children:u(I.bookId)?"DownloadingB...":b.jsxs(b.Fragment,{children:[oe," ",b.jsx("span",{className:"ml-1",children:"Download Book"})]})})}),b.jsxs("div",{className:"flex items-center space-x-2 pl-4",children:[b.jsxs("button",{onClick:re=>{re.stopPropagation(),C(re,I.bookId)},disabled:!ce,className:"flex items-center text-red-500 border border-red-500 px-2 py-1 rounded-md hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:text-gray-400 disabled:border-gray-400",children:[F," ",b.jsx("span",{className:"ml-1",children:"Index"})]}),b.jsxs("button",{onClick:re=>{re.stopPropagation(),A(re,I.bookId)},disabled:a||u(I.bookId)||Q===0,className:"flex items-center bg-red-500 text-white border border-red-500 px-2 py-1 rounded-md hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-600 disabled:border-gray-400",children:[U," ",b.jsx("span",{className:"ml-1",children:"Book"})]})]})]})]})},I.bookId)})}):b.jsx("p",{children:"No books found in this category."})}),b.jsx("div",{className:"mt-4 p-4 border-t border-gray-200",children:b.jsxs("button",{onClick:L,disabled:h,className:`px-4 py-2 rounded-lg text-sm font-semibold text-white transition-colors duration-300 ${h?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:[W,h?"Downloading All...":"Download All Indices"]})})]})}function oj(e){return[{pattern:/ं([चछजझ])/g,replacement:"ञ्$1",name:"Palatal"},{pattern:/ं([टठडढ])/g,replacement:"ण्$1",name:"Retroflex"},{pattern:/ं([क])/g,replacement:"ङ्$1",name:"Velar"},{pattern:/ं([तथदध])/g,replacement:"न्$1",name:"Dental"},{pattern:/ं([पफ])/g,replacement:"म्$1",name:"Labial"},{pattern:/ं$/g,replacement:"म्",name:"Word-final"},{pattern:/ँ/g,replacement:"म्",name:"Chandrabindu → म्"}].reduce((n,r)=>{const s=n.replace(r.pattern,(i,o)=>r.replacement.replace("$1",o));return s!==n?s:n},e)}function aj(e){const t={"൦":"0","൧":"1","൨":"2","൩":"3","൪":"4","൫":"5","൬":"6","൭":"7","൮":"8","൯":"9"};return e.replace(/\u0D30\u0D4D/g,"ർ").replace(/[൦-൯]/g,n=>t[n]||n)}function lj(e){const t={"௦":"0","௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9"};let n=e;for(const r in t){const s=t[r];n=n.replace(new RegExp(r,"g"),s)}return n}function uj(e){return e.replace(/~nja?/g,"~n").replace(/~nca?/g,"~nca").replace(/[னணந]்?/g,"n").replace(/jh/g,"c").replace(/bh/g,"p").replace(/gh/g,"k").replace(/dh/g,"t").replace(/([kctp])a(?![aiueoāīūēō])/g,"$1").replace(/ா/g,"ā").replace(/ி/g,"i").replace(/ீ/g,"ī").replace(/ு/g,"u").replace(/ூ/g,"ū").replace(/n([ctkp])/g,"ṉ$1").replace(/ா/g,"ā").replace(/்ர/g,"r").replace(/aa/g,"A").replace(/ii/g,"I").replace(/uu/g,"U")}const Hu=(e,t,n)=>{let r=e,s=e;return t==="devanagari"?r=oj(r):t==="tamil"&&(r=r.normalize("NFC")),window.Sanscript&&(s=window.Sanscript.t(r,t==="devanagari"?"devanagari":"itrans",n),n==="malayalam"?s=aj(s):n==="itrans"?t==="tamil"&&(s=uj(s)):(n==="tamil"||n==="tamil_superscripted")&&(s=lj(s))),s},Ky="sankeertan_song_indices",cj={color:"green"},dj={color:"black"},hj={backgroundColor:"#e0e0e0",fontWeight:"bold",color:"blue"},fj={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},pj={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 15px",marginBottom:"2px",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.2s ease",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid #e2e8f0"},mj={backgroundColor:"#f0f4f8"},gj=async(e,t)=>{if(!e)return[];const n=`sankeertan_song_indices-${e}`,r=localStorage.getItem(n);if(r)try{return JSON.parse(r)}catch(a){console.error("Error parsing song indices from localStorage:",a)}const s=new URL(ei);s.searchParams.append("mode","api"),s.searchParams.append("apiname","getsongsforbook"),s.searchParams.append("book",e),s.searchParams.append("sessionuser",t??"dummyfornow");const i=await fetch(s.toString());if(!i.ok){const a=await i.json();throw new Error(`Failed to fetch song indices for book ${e}: ${i.status} - ${JSON.stringify(a)}`)}const o=await i.json();return localStorage.setItem(n,JSON.stringify(o)),o};function yj(){var T;const{categoryId:e,bookId:t}=Ya(),n=Rn(),{isEffectivelyOffline:r}=am(),s=C=>{const A=`sankeertan_song_details-${t}-${encodeURIComponent(C)}`;return localStorage.getItem(A)!==null},{session:i}=ls(),o=(T=i==null?void 0:i.user)==null?void 0:T.email,[a,l]=_.useState(null),{preferredLanguage:u}=go(),[,c]=_.useState({});_.useEffect(()=>{c({})},[u]);const d=_.useMemo(()=>{try{const C=localStorage.getItem(`${Ky}-${t}`);if(C){const A=JSON.parse(C);if(Array.isArray(A==null?void 0:A.data))return A.data}}catch(C){console.error(`Error retrieving song indices for book ${t} from localStorage:`,C)}},[t]),{isLoading:h,error:f,data:v,isFetching:m}=im({queryKey:["songIndices",t,u,o],queryFn:()=>gj(t,o??null),staleTime:1/0,gcTime:0,initialData:d,refetchOnMount:!1,enabled:!!t&&!!o}),{downloadStatus:w}=lm();if(_.useEffect(()=>{if(t&&v&&!m)try{const C={data:v,timestamp:Date.now()};localStorage.setItem(`${Ky}-${encodeURIComponent(t)}`,JSON.stringify(C))}catch(C){console.error(`Error saving song indices for book ${t} to localStorage:`,C)}},[t,v,m]),_.useEffect(()=>{const C=sessionStorage.getItem("lastClickedSongIndex");C!==null&&(l(parseInt(C,10)),sessionStorage.removeItem("lastClickedSongIndex"))},[]),h)return b.jsx("div",{style:fj,children:b.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[b.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),b.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),b.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),b.jsx("p",{style:{marginLeft:"10px"},children:"Loading song indices..."})]})});if(f instanceof Error)return b.jsxs("div",{children:["Error loading song indices: ",f.message]});const p=(C,A,D,L)=>{C.stopPropagation();const J=A[D].sourceRow,O=A[D].songTitle;L&&(sessionStorage.setItem("lastClickedSongIndex",D.toString()),n(`/details/book/${e}/${L}/${J}/${encodeURIComponent(O)}`,{state:{filteredSongIndices:A,index:D}}))},g=(v==null?void 0:v.filter(C=>r?s(C.songTitle):!0))??[],y=(C,A)=>{const D=localStorage.getItem(`sankeertan_song_details-${t}-${encodeURIComponent(C.songTitle)}`);return{...pj,...D?cj:dj,...A===a&&hj}},x=C=>{C.currentTarget.style.backgroundColor=mj.backgroundColor},E=C=>{C.currentTarget.style.backgroundColor=""};return b.jsxs(b.Fragment,{children:[b.jsx(um,{}),b.jsxs("div",{children:[b.jsxs("h2",{children:["Song Indices for Book: ",`bookId ... ${g.length}`]}),b.jsx("ul",{children:g==null?void 0:g.map((C,A)=>{var D;return b.jsxs("li",{onClick:L=>p(L,g,A,t),style:y(C,A),onMouseEnter:x,onMouseLeave:E,children:[b.jsx("span",{style:{flexGrow:1,fontSize:"1.2em"},children:u==="itrans"?C.songTitle:(()=>{if(window.Sanscript)try{return Hu(C.songTitle,"itrans",u)}catch(L){return console.error("Error during transliteration",L),C.songTitle}return C.songTitle})()}),b.jsx("span",{style:{marginLeft:"10px",color:"red"},children:t&&((D=w[t])==null?void 0:D.downloadingSongs[C.songTitle])&&"..downloading.."})]},C.sourceRow)})})]})]})}const vj=({data:e,className:t="",highlightColor:n="bg-amber-50",highlightColumns:r=[],wrapColumns:s=[],striped:i=!0,hoverEffect:o=!0,maxWidth:a="screen",fontSize:l="3xl",preferredLanguage:u,sourceLanguage:c})=>{if(!Array.isArray(e)||e.length<1)return b.jsx("div",{className:"p-2 text-red-500 bg-red-50 rounded",children:"Invalid data: Must be a non-empty array"});const[d,...h]=e,f=m=>{let w=String(m).replace(/  \s*\/?>/gi,"<br/>").replace(/\n/g,"<br/>");if(typeof m=="string"&&u!=="deva"&&window.Sanscript)try{const p=w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");w=Hu(p,c,u).replace(/&lt;br\s*\/&gt;/gi,"<br/>"),w=w.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}catch(p){return console.error("Error during transliteration:",p),{__html:w}}return{__html:w}},v=a==="screen"?"max-w-screen":a==="full"?"w-full":a;return b.jsx("div",{className:`overflow-x-auto rounded-lg border bg-gray-300 ${v} ${t}`,children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200 font-devanagari",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsx("tr",{children:d.map((m,w)=>b.jsx("th",{className:`
                  px-4 py-4 text-left text-${l} font-medium text-gray-700  {/* Darker text, more padding */}
                  ${r.includes(w)?n:""}
                  sticky top-0 bg-gray-100 {/* Ensure background for sticky header */}
                `,dangerouslySetInnerHTML:f(m)},`th-${w}`))})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map((m,w)=>b.jsx("tr",{id:`trRowAsAnchor-${w}`,className:`
        ${i&&w%2===0?"bg-white":"bg-gray-100"} {/* Slightly more contrast for stripes */}
        ${o?"hover:bg-indigo-50":""} {/* More noticeable hover */}
      `,children:m.map((p,g)=>b.jsx("td",{className:`
            px-4 py-3.5 text-${l} align-top {/* Slightly more vertical padding */}
            ${s.includes(g)?"whitespace-normal break-words max-w-[300px]":"whitespace-nowrap"}
            ${r.includes(g)?n:""}
          `,dangerouslySetInnerHTML:f(p)},`td-${w}-${g}`))},`row-${w}`))})]})})};function wj(e,t,n){return Math.max(t,Math.min(e,n))}const ft={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function qy(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function Gy(e,t,n,r=.15){return r===0?wj(e,t,n):e<t?-qy(t-e,n-t,r)+t:e>n?+qy(e-n,n-t,r)+n:e}function bj(e,[t,n],[r,s]){const[[i,o],[a,l]]=e;return[Gy(t,i,o,r),Gy(n,a,l,s)]}function _j(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xj(e){var t=_j(e,"string");return typeof t=="symbol"?t:String(t)}function At(e,t,n){return t=xj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qy(Object(n),!0).forEach(function(r){At(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const tx={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Jy(e){return e?e[0].toUpperCase()+e.slice(1):""}const Sj=["enter","leave"];function kj(e=!1,t){return e&&!Sj.includes(t)}function Ej(e,t="",n=!1){const r=tx[e],s=r&&r[t]||t;return"on"+Jy(e)+Jy(s)+(kj(n,s)?"Capture":"")}const Cj=["gotpointercapture","lostpointercapture"];function Tj(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=Cj.includes(t)?"capturecapture":"capture",s=!!~t.indexOf(r);return s&&(t=t.replace("capture","")),{device:t,capture:s,passive:n}}function Pj(e,t=""){const n=tx[e],r=n&&n[t]||t;return e+r}function Cc(e){return"touches"in e}function nx(e){return Cc(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function Aj(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function jj(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function rx(e){return Cc(e)?jj(e)[0]:e}function Rj(e){return Aj(e).map(t=>t.identifier)}function Cd(e){const t=rx(e);return Cc(e)?t.identifier:t.pointerId}function Yy(e){const t=rx(e);return[t.clientX,t.clientY]}function Oj(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i})}return t}function Ku(e,...t){return typeof e=="function"?e(...t):e}function Ij(){}function Dj(...e){return e.length===0?Ij:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function Zy(e,t){return Object.assign({},t,e||{})}const Nj=32;class Lj{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:s}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=s,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?Ku(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:s}=this;n.args=this.args;let i=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,Oj(t)),s.down=s.pressed=s.buttons%2===1||s.touches>0,i=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const T=n._delta.map(Math.abs);ft.addTo(n._distance,T)}this.axisIntent&&this.axisIntent(t);const[o,a]=n._movement,[l,u]=r.threshold,{_step:c,values:d}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&d[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&d[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[T,C]=d;h[0]=c[0]!==!1?T-c[0]:0,h[1]=c[1]!==!1?C-c[1]:0}else h[0]=c[0]!==!1?o-c[0]:0,h[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(h);const f=n.offset,v=n._active&&!n._blocked||n.active;v&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=s[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=Ku(r.bounds,n)),this.setup&&this.setup()),n.movement=h,this.computeOffset()));const[m,w]=n.offset,[[p,g],[y,x]]=n._bounds;n.overflow=[m<p?-1:m>g?1:0,w<y?-1:w>x?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const E=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=bj(n._bounds,n.offset,E),n.delta=ft.sub(n.offset,f),this.computeMovement(),v&&(!n.last||i>Nj)){n.delta=ft.sub(n.offset,f);const T=n.delta.map(Math.abs);ft.addTo(n.distance,T),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&i>0&&(n.velocity=[T[0]/i,T[1]/i],n.timeDelta=i)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const s=this.handler(Fe(Fe(Fe({},n),t),{},{[this.aliasKey]:t.values}));s!==void 0&&(t.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function $j([e,t],n){const r=Math.abs(e),s=Math.abs(t);if(r>s&&r>n)return"x";if(s>r&&s>n)return"y"}class Mj extends Lj{constructor(...t){super(...t),At(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ft.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ft.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const s=typeof r.axisThreshold=="object"?r.axisThreshold[nx(t)]:r.axisThreshold;n.axis=$j(n._movement,s)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const Fj=e=>e,Xy=.15,sx={enabled(e=!0){return e},eventOptions(e,t,n){return Fe(Fe({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[Xy,Xy];case!1:return[0,0];default:return ft.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return ft.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||Fj},threshold(e){return ft.toVector(e,0)}},Uj=0,nl=Fe(Fe({},sx),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=Uj){return e},bounds(e={}){if(typeof e=="function")return i=>nl.bounds(e(i));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:s=1/0}=e;return[[t,n],[r,s]]}}),ev={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class Bj extends Mj{constructor(...t){super(...t),At(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),s={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=nl.bounds(s)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const s=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(s&&s.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=Cd(t),r._pointerActive=!0,this.computeValues(Yy(t)),this.computeInitial(),n.preventScrollAxis&&nx(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const s=Cd(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;const i=Yy(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=ft.sub(i,n._values),this.computeValues(i)),ft.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const s=Cd(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[i,o]=n._distance;if(n.tap=i<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[u,c]=n._movement,[d,h]=r.swipe.velocity,[f,v]=r.swipe.distance,m=r.swipe.duration;if(n.elapsedTime<m){const w=Math.abs(a/n.timeDelta),p=Math.abs(l/n.timeDelta);w>d&&Math.abs(u)>f&&(n.swipe[0]=Math.sign(a)),p>h&&Math.abs(c)>v&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,zj(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=ev[t.key];if(n){const r=this.state,s=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,s),r._keyboardActive=!0,ft.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in ev&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function zj(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const rl=typeof window<"u"&&window.document&&window.document.createElement;function ix(){return rl&&"ontouchstart"in window}function Vj(){return ix()||rl&&window.navigator.maxTouchPoints>1}function Wj(){return rl&&"onpointerdown"in window}function Hj(){return rl&&"exitPointerLock"in window.document}function Kj(){try{return"constructor"in GestureEvent}catch{return!1}}const sn={isBrowser:rl,gesture:Kj(),touch:ix(),touchscreen:Vj(),pointer:Wj(),pointerLock:Hj()},qj=250,Gj=180,Qj=.5,Jj=50,Yj=250,Zj=10,tv={mouse:0,touch:0,pen:8},Xj=Fe(Fe({},nl),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:s=!1}={}}){return this.pointerLock=r&&sn.pointerLock,sn.touch&&n?"touch":this.pointerLock?"mouse":sn.pointer&&!s?"pointer":sn.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?qj:void 0,!(!sn.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:s=!0}={}}){return this.pointerButtons=r,this.keys=s,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:s=void 0}){const i=ft.toVector(e,n?r:s?1:0);return this.filterTaps=n,this.tapsThreshold=r,i},swipe({velocity:e=Qj,distance:t=Jj,duration:n=Yj}={}){return{velocity:this.transform(ft.toVector(e)),distance:this.transform(ft.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return Gj;case!1:return 0;default:return e}},axisThreshold(e){return e?Fe(Fe({},tv),e):tv},keyboardDisplacement(e=Zj){return e}});Fe(Fe({},sx),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!sn.touch&&sn.gesture)return"gesture";if(sn.touch&&r)return"touch";if(sn.touchscreen){if(sn.pointer)return"pointer";if(sn.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const s=o=>{const a=Zy(Ku(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},i=o=>{const a=Zy(Ku(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[s(),i()]:o=>[s(o),i(o)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",ft.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});Fe(Fe({},nl),{},{mouseOnly:(e=!0)=>e});Fe(Fe({},nl),{},{mouseOnly:(e=!0)=>e});const ox=new Map,mf=new Map;function eR(e){ox.set(e.key,e.engine),mf.set(e.key,e.resolver)}const tR={key:"drag",engine:Bj,resolver:Xj};function nR(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function rR(e,t){if(e==null)return{};var n=nR(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const sR={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=sn.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},iR=["target","eventOptions","window","enabled","transform"];function lu(e={},t){const n={};for(const[r,s]of Object.entries(t))switch(typeof s){case"function":n[r]=s.call(n,e[r],r,e);break;case"object":n[r]=lu(e[r],s);break;case"boolean":s&&(n[r]=e[r]);break}return n}function oR(e,t,n={}){const r=e,{target:s,eventOptions:i,window:o,enabled:a,transform:l}=r,u=rR(r,iR);if(n.shared=lu({target:s,eventOptions:i,window:o,enabled:a,transform:l},sR),t){const c=mf.get(t);n[t]=lu(Fe({shared:n.shared},u),c)}else for(const c in u){const d=mf.get(c);d&&(n[c]=lu(Fe({shared:n.shared},u[c]),d))}return n}class ax{constructor(t,n){At(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,s,i){const o=this._listeners,a=Pj(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Fe(Fe({},l),i);t.addEventListener(a,s,u);const c=()=>{t.removeEventListener(a,s,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class aR{constructor(){At(this,"_timeouts",new Map)}add(t,n,r=140,...s){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...s))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class lR{constructor(t){At(this,"gestures",new Set),At(this,"_targetEventStore",new ax(this)),At(this,"gestureEventStores",{}),At(this,"gestureTimeoutStores",{}),At(this,"handlers",{}),At(this,"config",{}),At(this,"pointerIds",new Set),At(this,"touchIds",new Set),At(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),uR(this,t)}setEventIds(t){if(Cc(t))return this.touchIds=new Set(Rj(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=oR(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let s;if(!(n.target&&(s=n.target(),!s))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=nv(r,a.eventOptions,!!s);if(a.enabled){const u=ox.get(o);new u(this,t,o).bind(l)}}const i=nv(r,n.eventOptions,!!s);for(const o in this.nativeHandlers)i(o,"",a=>this.nativeHandlers[o](Fe(Fe({},this.state.shared),{},{event:a,args:t})),void 0,!0)}for(const i in r)r[i]=Dj(...r[i]);if(!s)return r;for(const i in r){const{device:o,capture:a,passive:l}=Tj(i);this._targetEventStore.add(s,o,"",r[i],{capture:a,passive:l})}}}}function ci(e,t){e.gestures.add(t),e.gestureEventStores[t]=new ax(e,t),e.gestureTimeoutStores[t]=new aR}function uR(e,t){t.drag&&ci(e,"drag"),t.wheel&&ci(e,"wheel"),t.scroll&&ci(e,"scroll"),t.move&&ci(e,"move"),t.pinch&&ci(e,"pinch"),t.hover&&ci(e,"hover")}const nv=(e,t,n)=>(r,s,i,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:t.capture,d=(u=o.passive)!==null&&u!==void 0?u:t.passive;let h=a?r:Ej(r,s,c);n&&d&&(h+="Passive"),e[h]=e[h]||[],e[h].push(i)};function cR(e,t={},n,r){const s=he.useMemo(()=>new lR(e),[]);if(s.applyHandlers(e,r),s.applyConfig(t,n),he.useEffect(s.effect.bind(s)),he.useEffect(()=>s.clean.bind(s),[]),t.target===void 0)return s.bind.bind(s)}function dR(e,t){return eR(tR),cR({drag:e},t||{},"drag")}const cm=_.createContext({});function dm(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const hm=typeof window<"u",lx=hm?_.useLayoutEffect:_.useEffect,Tc=_.createContext(null);function fm(e,t){e.indexOf(t)===-1&&e.push(t)}function pm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const hr=(e,t,n)=>n>t?t:n<e?e:n;let mm=()=>{};const fr={},ux=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function cx(e){return typeof e=="object"&&e!==null}const dx=e=>/^0[^.\s]+$/u.test(e);function gm(e){let t;return()=>(t===void 0&&(t=e()),t)}const un=e=>e,hR=(e,t)=>n=>t(e(n)),sl=(...e)=>e.reduce(hR),Da=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class ym{constructor(){this.subscriptions=[]}add(t){return fm(this.subscriptions,t),()=>pm(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vn=e=>e*1e3,an=e=>e/1e3;function hx(e,t){return t?e*(1e3/t):0}const fx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,fR=1e-7,pR=12;function mR(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=fx(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>fR&&++a<pR);return o}function il(e,t,n,r){if(e===t&&n===r)return un;const s=i=>mR(i,0,1,e,n);return i=>i===0||i===1?i:fx(s(i),t,r)}const px=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mx=e=>t=>1-e(1-t),gx=il(.33,1.53,.69,.99),vm=mx(gx),yx=px(vm),vx=e=>(e*=2)<1?.5*vm(e):.5*(2-Math.pow(2,-10*(e-1))),wm=e=>1-Math.sin(Math.acos(e)),wx=mx(wm),bx=px(wm),gR=il(.42,0,1,1),yR=il(0,0,.58,1),_x=il(.42,0,.58,1),vR=e=>Array.isArray(e)&&typeof e[0]!="number",xx=e=>Array.isArray(e)&&typeof e[0]=="number",wR={linear:un,easeIn:gR,easeInOut:_x,easeOut:yR,circIn:wm,circInOut:bx,circOut:wx,backIn:vm,backInOut:yx,backOut:gx,anticipate:vx},bR=e=>typeof e=="string",rv=e=>{if(xx(e)){mm(e.length===4);const[t,n,r,s]=e;return il(t,n,r,s)}else if(bR(e))return wR[e];return e},Fl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _R(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,d=!1,h=!1)=>{const v=h&&s?n:r;return d&&o.add(c),v.has(c)||v.add(c),c},cancel:c=>{r.delete(c),o.delete(c)},process:c=>{if(a=c,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,u.process(c))}};return u}const xR=40;function Sx(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Fl.reduce((y,x)=>(y[x]=_R(i),y),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:h,render:f,postRender:v}=o,m=()=>{const y=fr.useManualTiming?s.timestamp:performance.now();n=!1,fr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,xR),1)),s.timestamp=y,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),c.process(s),d.process(s),h.process(s),f.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},w=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:Fl.reduce((y,x)=>{const E=o[x];return y[x]=(T,C=!1,A=!1)=>(n||w(),E.schedule(T,C,A)),y},{}),cancel:y=>{for(let x=0;x<Fl.length;x++)o[Fl[x]].cancel(y)},state:s,steps:o}}const{schedule:De,cancel:ns,state:it,steps:Td}=Sx(typeof requestAnimationFrame<"u"?requestAnimationFrame:un,!0);let uu;function SR(){uu=void 0}const Dt={now:()=>(uu===void 0&&Dt.set(it.isProcessing||fr.useManualTiming?it.timestamp:performance.now()),uu),set:e=>{uu=e,queueMicrotask(SR)}},kx=e=>t=>typeof t=="string"&&t.startsWith(e),bm=kx("--"),kR=kx("var(--"),_m=e=>kR(e)?ER.test(e.split("/*")[0].trim()):!1,ER=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Na={...yo,transform:e=>hr(0,1,e)},Ul={...yo,default:1},sa=e=>Math.round(e*1e5)/1e5,xm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CR(e){return e==null}const TR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sm=(e,t)=>n=>!!(typeof n=="string"&&TR.test(n)&&n.startsWith(e)||t&&!CR(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ex=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(xm);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},PR=e=>hr(0,255,e),Pd={...yo,transform:e=>Math.round(PR(e))},Ps={test:Sm("rgb","red"),parse:Ex("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Pd.transform(e)+", "+Pd.transform(t)+", "+Pd.transform(n)+", "+sa(Na.transform(r))+")"};function AR(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const gf={test:Sm("#"),parse:AR,transform:Ps.transform},ol=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kr=ol("deg"),Wn=ol("%"),fe=ol("px"),jR=ol("vh"),RR=ol("vw"),sv={...Wn,parse:e=>Wn.parse(e)/100,transform:e=>Wn.transform(e*100)},Ci={test:Sm("hsl","hue"),parse:Ex("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Wn.transform(sa(t))+", "+Wn.transform(sa(n))+", "+sa(Na.transform(r))+")"},Qe={test:e=>Ps.test(e)||gf.test(e)||Ci.test(e),parse:e=>Ps.test(e)?Ps.parse(e):Ci.test(e)?Ci.parse(e):gf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ps.transform(e):Ci.transform(e),getAnimatableNone:e=>{const t=Qe.parse(e);return t.alpha=0,Qe.transform(t)}},OR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IR(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(xm))==null?void 0:t.length)||0)+(((n=e.match(OR))==null?void 0:n.length)||0)>0}const Cx="number",Tx="color",DR="var",NR="var(",iv="${}",LR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function La(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(LR,l=>(Qe.test(l)?(r.color.push(i),s.push(Tx),n.push(Qe.parse(l))):l.startsWith(NR)?(r.var.push(i),s.push(DR),n.push(l)):(r.number.push(i),s.push(Cx),n.push(parseFloat(l))),++i,iv)).split(iv);return{values:n,split:a,indexes:r,types:s}}function Px(e){return La(e).values}function Ax(e){const{split:t,types:n}=La(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===Cx?i+=sa(s[o]):a===Tx?i+=Qe.transform(s[o]):i+=s[o]}return i}}const $R=e=>typeof e=="number"?0:Qe.test(e)?Qe.getAnimatableNone(e):e;function MR(e){const t=Px(e);return Ax(e)(t.map($R))}const rs={test:IR,parse:Px,createTransformer:Ax,getAnimatableNone:MR};function Ad(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function FR({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Ad(l,a,e+1/3),i=Ad(l,a,e),o=Ad(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function qu(e,t){return n=>n>0?t:e}const Me=(e,t,n)=>e+(t-e)*n,jd=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},UR=[gf,Ps,Ci],BR=e=>UR.find(t=>t.test(e));function ov(e){const t=BR(e);if(!t)return!1;let n=t.parse(e);return t===Ci&&(n=FR(n)),n}const av=(e,t)=>{const n=ov(e),r=ov(t);if(!n||!r)return qu(e,t);const s={...n};return i=>(s.red=jd(n.red,r.red,i),s.green=jd(n.green,r.green,i),s.blue=jd(n.blue,r.blue,i),s.alpha=Me(n.alpha,r.alpha,i),Ps.transform(s))},yf=new Set(["none","hidden"]);function zR(e,t){return yf.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function VR(e,t){return n=>Me(e,t,n)}function km(e){return typeof e=="number"?VR:typeof e=="string"?_m(e)?qu:Qe.test(e)?av:KR:Array.isArray(e)?jx:typeof e=="object"?Qe.test(e)?av:WR:qu}function jx(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>km(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function WR(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=km(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function HR(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const KR=(e,t)=>{const n=rs.createTransformer(t),r=La(e),s=La(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?yf.has(e)&&!s.values.length||yf.has(t)&&!r.values.length?zR(e,t):sl(jx(HR(r,s),s.values),n):qu(e,t)};function Rx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Me(e,t,n):km(e)(e,t)}const qR=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>De.update(t,n),stop:()=>ns(t),now:()=>it.isProcessing?it.timestamp:Dt.now()}},Ox=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Gu=2e4;function Em(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Gu;)t+=n,r=e.next(t);return t>=Gu?1/0:t}function GR(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Em(r),Gu);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:an(s)}}const QR=5;function Ix(e,t,n){const r=Math.max(t-QR,0);return hx(n-e(r),t-r)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rd=.001;function JR({duration:e=Ve.duration,bounce:t=Ve.bounce,velocity:n=Ve.velocity,mass:r=Ve.mass}){let s,i,o=1-t;o=hr(Ve.minDamping,Ve.maxDamping,o),e=hr(Ve.minDuration,Ve.maxDuration,an(e)),o<1?(s=u=>{const c=u*o,d=c*e,h=c-n,f=vf(u,o),v=Math.exp(-d);return Rd-h/f*v},i=u=>{const d=u*o*e,h=d*n+n,f=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-d),m=vf(Math.pow(u,2),o);return(-s(u)+Rd>0?-1:1)*((h-f)*v)/m}):(s=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-Rd+c*d},i=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const a=5/e,l=ZR(s,i,a);if(e=Vn(e),isNaN(l))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const YR=12;function ZR(e,t,n){let r=n;for(let s=1;s<YR;s++)r=r-e(r)/t(r);return r}function vf(e,t){return e*Math.sqrt(1-t*t)}const XR=["duration","bounce"],eO=["stiffness","damping","mass"];function lv(e,t){return t.some(n=>e[n]!==void 0)}function tO(e){let t={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...e};if(!lv(e,eO)&&lv(e,XR))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*hr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ve.mass,stiffness:s,damping:i}}else{const n=JR(e);t={...t,...n,mass:Ve.mass},t.isResolvedFromDuration=!0}return t}function Qu(e=Ve.visualDuration,t=Ve.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=tO({...n,velocity:-an(n.velocity||0)}),v=h||0,m=u/(2*Math.sqrt(l*c)),w=o-i,p=an(Math.sqrt(l/c)),g=Math.abs(w)<5;r||(r=g?Ve.restSpeed.granular:Ve.restSpeed.default),s||(s=g?Ve.restDelta.granular:Ve.restDelta.default);let y;if(m<1){const E=vf(p,m);y=T=>{const C=Math.exp(-m*p*T);return o-C*((v+m*p*w)/E*Math.sin(E*T)+w*Math.cos(E*T))}}else if(m===1)y=E=>o-Math.exp(-p*E)*(w+(v+p*w)*E);else{const E=p*Math.sqrt(m*m-1);y=T=>{const C=Math.exp(-m*p*T),A=Math.min(E*T,300);return o-C*((v+m*p*w)*Math.sinh(A)+E*w*Math.cosh(A))/E}}const x={calculatedDuration:f&&d||null,next:E=>{const T=y(E);if(f)a.done=E>=d;else{let C=E===0?v:0;m<1&&(C=E===0?Vn(v):Ix(y,E,T));const A=Math.abs(C)<=r,D=Math.abs(o-T)<=s;a.done=A&&D}return a.value=a.done?o:T,a},toString:()=>{const E=Math.min(Em(x),Gu),T=Ox(C=>x.next(E*C).value,E,30);return E+"ms "+T},toTransition:()=>{}};return x}Qu.applyToOptions=e=>{const t=GR(e,100,Qu);return e.ease=t.ease,e.duration=Vn(t.duration),e.type="keyframes",e};function wf({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],h={done:!1,value:d},f=A=>a!==void 0&&A<a||l!==void 0&&A>l,v=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let m=n*t;const w=d+m,p=o===void 0?w:o(w);p!==w&&(m=p-d);const g=A=>-m*Math.exp(-A/r),y=A=>p+g(A),x=A=>{const D=g(A),L=y(A);h.done=Math.abs(D)<=u,h.value=h.done?p:L};let E,T;const C=A=>{f(h.value)&&(E=A,T=Qu({keyframes:[h.value,v(h.value)],velocity:Ix(y,A,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return C(0),{calculatedDuration:null,next:A=>{let D=!1;return!T&&E===void 0&&(D=!0,x(A),C(A)),E!==void 0&&A>=E?T.next(A-E):(!D&&x(A),h)}}}function nO(e,t,n){const r=[],s=n||fr.mix||Rx,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||un:t;a=sl(l,a)}r.push(a)}return r}function rO(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(mm(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=nO(t,r,s),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const h=Da(e[d],e[d+1],c);return a[d](h)};return n?c=>u(hr(e[0],e[i-1],c)):u}function sO(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Da(0,t,r);e.push(Me(n,1,s))}}function iO(e){const t=[0];return sO(t,e.length-1),t}function oO(e,t){return e.map(n=>n*t)}function aO(e,t){return e.map(()=>t||_x).splice(0,e.length-1)}function ia({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=vR(r)?r.map(rv):rv(r),i={done:!1,value:t[0]},o=oO(n&&n.length===t.length?n:iO(t),e),a=rO(o,t,{ease:Array.isArray(s)?s:aO(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const lO=e=>e!==null;function Cm(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(lO),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const uO={decay:wf,inertia:wf,tween:ia,keyframes:ia,spring:Qu};function Dx(e){typeof e.type=="string"&&(e.type=uO[e.type])}class Tm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const cO=e=>e/100;class Pm extends Tm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Dt.now()&&this.tick(Dt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Dx(t);const{type:n=ia,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||ia;l!==ia&&typeof a[0]!="number"&&(this.mixKeyframes=sl(cO,Rx(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Em(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:h,repeatDelay:f,type:v,onUpdate:m,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?p<0:p>s;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let y=this.currentTime,x=r;if(d){const A=Math.min(this.currentTime,s)/a;let D=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&D--,D=Math.min(D,d+1),!!(D%2)&&(h==="reverse"?(L=1-L,f&&(L-=f/a)):h==="mirror"&&(x=o)),y=hr(0,1,L)*a}const E=g?{done:!1,value:c[0]}:x.next(y);i&&(E.value=i(E.value));let{done:T}=E;!g&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return C&&v!==wf&&(E.value=Cm(c,this.options,w,this.speed)),m&&m(E.value),C&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return an(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+an(t)}get time(){return an(this.currentTime)}set time(t){var n;t=Vn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Dt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=an(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=qR,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function dO(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const As=e=>e*180/Math.PI,bf=e=>{const t=As(Math.atan2(e[1],e[0]));return _f(t)},hO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:bf,rotateZ:bf,skewX:e=>As(Math.atan(e[1])),skewY:e=>As(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_f=e=>(e=e%360,e<0&&(e+=360),e),uv=bf,cv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),dv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cv,scaleY:dv,scale:e=>(cv(e)+dv(e))/2,rotateX:e=>_f(As(Math.atan2(e[6],e[5]))),rotateY:e=>_f(As(Math.atan2(-e[2],e[0]))),rotateZ:uv,rotate:uv,skewX:e=>As(Math.atan(e[4])),skewY:e=>As(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xf(e){return e.includes("scale")?1:0}function Sf(e,t){if(!e||e==="none")return xf(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=fO,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=hO,s=a}if(!s)return xf(t);const i=r[t],o=s[1].split(",").map(mO);return typeof i=="function"?i(o):o[i]}const pO=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Sf(n,t)};function mO(e){return parseFloat(e.trim())}const vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wo=new Set(vo),hv=e=>e===yo||e===fe,gO=new Set(["x","y","z"]),yO=vo.filter(e=>!gO.has(e));function vO(e){const t=[];return yO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const zs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Sf(t,"x"),y:(e,{transform:t})=>Sf(t,"y")};zs.translateX=zs.x;zs.translateY=zs.y;const Vs=new Set;let kf=!1,Ef=!1,Cf=!1;function Nx(){if(Ef){const e=Array.from(Vs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=vO(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ef=!1,kf=!1,Vs.forEach(e=>e.complete(Cf)),Vs.clear()}function Lx(){Vs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ef=!0)})}function wO(){Cf=!0,Lx(),Nx(),Cf=!1}class Am{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Vs.add(this),kf||(kf=!0,De.read(Lx),De.resolveKeyframes(Nx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}dO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Vs.delete(this)}cancel(){this.state==="scheduled"&&(Vs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bO=e=>e.startsWith("--");function _O(e,t,n){bO(t)?e.style.setProperty(t,n):e.style[t]=n}const xO=gm(()=>window.ScrollTimeline!==void 0),SO={};function kO(e,t){const n=gm(e);return()=>SO[t]??n()}const $x=kO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zo=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,fv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zo([0,.65,.55,1]),circOut:zo([.55,0,1,.45]),backIn:zo([.31,.01,.66,-.59]),backOut:zo([.33,1.53,.69,.99])};function Mx(e,t){if(e)return typeof e=="function"?$x()?Ox(e,t):"ease-out":xx(e)?zo(e):Array.isArray(e)?e.map(n=>Mx(n,t)||fv.easeOut):fv[e]}function EO(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const d=Mx(a,s);Array.isArray(d)&&(c.easing=d);const h={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(c,h)}function Fx(e){return typeof e=="function"&&"applyToOptions"in e}function CO({type:e,...t}){return Fx(e)&&$x()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class TO extends Tm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,mm(typeof t.type!="string");const u=CO(t);this.animation=EO(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=Cm(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):_O(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return an(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+an(t)}get time(){return an(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Vn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&xO()?(this.animation.timeline=t,un):n(this)}}const Ux={anticipate:vx,backInOut:yx,circInOut:bx};function PO(e){return e in Ux}function AO(e){typeof e.ease=="string"&&PO(e.ease)&&(e.ease=Ux[e.ease])}const pv=10;class jO extends TO{constructor(t){AO(t),Dx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Pm({...o,autoplay:!1}),l=Vn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-pv).value,a.sample(l).value,pv),a.stop()}}const mv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(rs.test(e)||e==="0")&&!e.startsWith("url("));function RO(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function OO(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=mv(s,t),a=mv(i,t);return!o||!a?!1:RO(e)||(n==="spring"||Fx(n))&&r}function Tf(e){e.duration=0,e.type="keyframes"}const IO=new Set(["opacity","clipPath","filter","transform"]),DO=gm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NO(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return DO()&&n&&IO.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const LO=40;class $O extends Tm{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...d}){var v;super(),this.stop=()=>{var m,w;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Dt.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:c,...d},f=(c==null?void 0:c.KeyframeResolver)||Am;this.keyframeResolver=new f(a,(m,w,p)=>this.onKeyframesResolved(m,w,h,!p),l,u,c),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Dt.now(),OO(t,i,o,a)||((fr.instantAnimations||!l)&&(c==null||c(Cm(t,r,n))),t[0]=t[t.length-1],Tf(r),r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>LO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},f=!u&&NO(h)?new jO({...h,element:h.motionValue.owner.current}):new Pm(h);f.finished.then(()=>this.notifyFinished()).catch(un),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),wO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const MO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FO(e){const t=MO.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Bx(e,t,n=1){const[r,s]=FO(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return ux(o)?parseFloat(o):o}return _m(s)?Bx(s,t,n+1):s}function jm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const zx=new Set(["width","height","top","left","right","bottom",...vo]),UO={test:e=>e==="auto",parse:e=>e},Vx=e=>t=>t.test(e),Wx=[yo,fe,Wn,kr,RR,jR,UO],gv=e=>Wx.find(Vx(e));function BO(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||dx(e):!0}const zO=new Set(["brightness","contrast","saturate","opacity"]);function VO(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(xm)||[];if(!r)return e;const s=n.replace(r,"");let i=zO.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const WO=/\b([a-z-]*)\(.*?\)/gu,Pf={...rs,getAnimatableNone:e=>{const t=e.match(WO);return t?t.map(VO).join(" "):e}},yv={...yo,transform:Math.round},HO={rotate:kr,rotateX:kr,rotateY:kr,rotateZ:kr,scale:Ul,scaleX:Ul,scaleY:Ul,scaleZ:Ul,skew:kr,skewX:kr,skewY:kr,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:Na,originX:sv,originY:sv,originZ:fe},Rm={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe,...HO,zIndex:yv,fillOpacity:Na,strokeOpacity:Na,numOctaves:yv},KO={...Rm,color:Qe,backgroundColor:Qe,outlineColor:Qe,fill:Qe,stroke:Qe,borderColor:Qe,borderTopColor:Qe,borderRightColor:Qe,borderBottomColor:Qe,borderLeftColor:Qe,filter:Pf,WebkitFilter:Pf},Hx=e=>KO[e];function Kx(e,t){let n=Hx(e);return n!==Pf&&(n=rs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const qO=new Set(["auto","none","0"]);function GO(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!qO.has(i)&&La(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Kx(n,s)}class QO extends Am{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),_m(u))){const c=Bx(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!zx.has(r)||t.length!==2)return;const[s,i]=t,o=gv(s),a=gv(i);if(o!==a)if(hv(o)&&hv(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else zs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||BO(t[s]))&&r.push(s);r.length&&GO(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=zs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function JO(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const qx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Gx(e){return cx(e)&&"offsetHeight"in e}const vv=30,YO=e=>!isNaN(parseFloat(e));class ZO{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Dt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Dt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=YO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ym);const r=this.events[t].add(n);return t==="change"?()=>{r(),De.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Dt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>vv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vv);return hx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function io(e,t){return new ZO(e,t)}const{schedule:Om}=Sx(queueMicrotask,!1),vn={x:!1,y:!1};function Qx(){return vn.x||vn.y}function XO(e){return e==="x"||e==="y"?vn[e]?null:(vn[e]=!0,()=>{vn[e]=!1}):vn.x||vn.y?null:(vn.x=vn.y=!0,()=>{vn.x=vn.y=!1})}function Jx(e,t){const n=JO(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function wv(e){return!(e.pointerType==="touch"||Qx())}function eI(e,t,n={}){const[r,s,i]=Jx(e,n),o=a=>{if(!wv(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const c=d=>{wv(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Yx=(e,t)=>t?e===t?!0:Yx(e,t.parentElement):!1,Im=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,tI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nI(e){return tI.has(e.tagName)||e.tabIndex!==-1}const cu=new WeakSet;function bv(e){return t=>{t.key==="Enter"&&e(t)}}function Od(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const rI=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=bv(()=>{if(cu.has(n))return;Od(n,"down");const s=bv(()=>{Od(n,"up")}),i=()=>Od(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function _v(e){return Im(e)&&!Qx()}function sI(e,t,n={}){const[r,s,i]=Jx(e,n),o=a=>{const l=a.currentTarget;if(!_v(a))return;cu.add(l);const u=t(l,a),c=(f,v)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),cu.has(l)&&cu.delete(l),_v(f)&&typeof u=="function"&&u(f,{success:v})},d=f=>{c(f,l===window||l===document||n.useGlobalTarget||Yx(l,f.target))},h=f=>{c(f,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Gx(a)&&(a.addEventListener("focus",u=>rI(u,s)),!nI(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Zx(e){return cx(e)&&"ownerSVGElement"in e}function iI(e){return Zx(e)&&e.tagName==="svg"}const pt=e=>!!(e&&e.getVelocity),oI=[...Wx,Qe,rs],aI=e=>oI.find(Vx(e)),Dm=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function xv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lI(...e){return t=>{let n=!1;const r=e.map(s=>{const i=xv(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():xv(e[s],null)}}}}function uI(...e){return _.useCallback(lI(...e),e)}class cI extends _.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Gx(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dI({children:e,isPresent:t,anchorX:n,root:r}){const s=_.useId(),i=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=_.useContext(Dm),l=uI(i,e==null?void 0:e.ref);return _.useInsertionEffect(()=>{const{width:u,height:c,top:d,left:h,right:f}=o.current;if(t||!i.current||!u||!c)return;const v=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=s;const m=document.createElement("style");a&&(m.nonce=a);const w=r??document.head;return w.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${v}px !important;
            top: ${d}px !important;
          }
        `),()=>{w.contains(m)&&w.removeChild(m)}},[t]),b.jsx(cI,{isPresent:t,childRef:i,sizeRef:o,children:_.cloneElement(e,{ref:l})})}const hI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const u=dm(fI),c=_.useId();let d=!0,h=_.useMemo(()=>(d=!1,{id:c,initial:t,isPresent:n,custom:s,onExitComplete:f=>{u.set(f,!0);for(const v of u.values())if(!v)return;r&&r()},register:f=>(u.set(f,!1),()=>u.delete(f))}),[n,u,r]);return i&&d&&(h={...h}),_.useMemo(()=>{u.forEach((f,v)=>u.set(v,!1))},[n]),_.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=b.jsx(dI,{isPresent:n,anchorX:a,root:l,children:e})),b.jsx(Tc.Provider,{value:h,children:e})};function fI(){return new Map}function Xx(e=!0){const t=_.useContext(Tc);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=_.useId();_.useEffect(()=>{if(e)return s(i)},[e]);const o=_.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Bl=e=>e.key||"";function Sv(e){const t=[];return _.Children.forEach(e,n=>{_.isValidElement(n)&&t.push(n)}),t}const pI=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=Xx(o),d=_.useMemo(()=>Sv(e),[e]),h=o&&!u?[]:d.map(Bl),f=_.useRef(!0),v=_.useRef(d),m=dm(()=>new Map),[w,p]=_.useState(d),[g,y]=_.useState(d);lx(()=>{f.current=!1,v.current=d;for(let T=0;T<g.length;T++){const C=Bl(g[T]);h.includes(C)?m.delete(C):m.get(C)!==!0&&m.set(C,!1)}},[g,h.length,h.join("-")]);const x=[];if(d!==w){let T=[...d];for(let C=0;C<g.length;C++){const A=g[C],D=Bl(A);h.includes(D)||(T.splice(C,0,A),x.push(A))}return i==="wait"&&x.length&&(T=x),y(Sv(T)),p(d),null}const{forceRender:E}=_.useContext(cm);return b.jsx(b.Fragment,{children:g.map(T=>{const C=Bl(T),A=o&&!u?!1:d===g||h.includes(C),D=()=>{if(m.has(C))m.set(C,!0);else return;let L=!0;m.forEach(J=>{J||(L=!1)}),L&&(E==null||E(),y(v.current),o&&(c==null||c()),r&&r())};return b.jsx(hI,{isPresent:A,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:A?void 0:D,anchorX:a,children:T},C)})})},eS=_.createContext({strict:!1}),kv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oo={};for(const e in kv)oo[e]={isEnabled:t=>kv[e].some(n=>!!t[n])};function mI(e){for(const t in e)oo[t]={...oo[t],...e[t]}}const gI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ju(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gI.has(e)}let tS=e=>!Ju(e);function yI(e){typeof e=="function"&&(tS=t=>t.startsWith("on")?!Ju(t):e(t))}try{yI(require("@emotion/is-prop-valid").default)}catch{}function vI(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(tS(s)||n===!0&&Ju(s)||!t&&!Ju(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Pc=_.createContext({});function Ac(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function $a(e){return typeof e=="string"||Array.isArray(e)}const Nm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lm=["initial",...Nm];function jc(e){return Ac(e.animate)||Lm.some(t=>$a(e[t]))}function nS(e){return!!(jc(e)||e.variants)}function wI(e,t){if(jc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||$a(n)?n:void 0,animate:$a(r)?r:void 0}}return e.inherit!==!1?t:{}}function bI(e){const{initial:t,animate:n}=wI(e,_.useContext(Pc));return _.useMemo(()=>({initial:t,animate:n}),[Ev(t),Ev(n)])}function Ev(e){return Array.isArray(e)?e.join(" "):e}const Ma={};function _I(e){for(const t in e)Ma[t]=e[t],bm(t)&&(Ma[t].isCSSVariable=!0)}function rS(e,{layout:t,layoutId:n}){return wo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ma[e]||e==="opacity")}const xI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SI=vo.length;function kI(e,t,n){let r="",s=!0;for(let i=0;i<SI;i++){const o=vo[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=qx(a,Rm[o]);if(!l){s=!1;const c=xI[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function $m(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(wo.has(l)){o=!0;continue}else if(bm(l)){s[l]=u;continue}else{const c=qx(u,Rm[l]);l.startsWith("origin")?(a=!0,i[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=kI(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}const Mm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sS(e,t,n){for(const r in t)!pt(t[r])&&!rS(r,n)&&(e[r]=t[r])}function EI({transformTemplate:e},t){return _.useMemo(()=>{const n=Mm();return $m(n,t,e),Object.assign({},n.vars,n.style)},[t])}function CI(e,t){const n=e.style||{},r={};return sS(r,n,e),Object.assign(r,EI(e,t)),r}function TI(e,t){const n={},r=CI(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const PI={offset:"stroke-dashoffset",array:"stroke-dasharray"},AI={offset:"strokeDashoffset",array:"strokeDasharray"};function jI(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?PI:AI;e[i.offset]=fe.transform(-r);const o=fe.transform(t),a=fe.transform(n);e[i.array]=`${o} ${a}`}function iS(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,c){if($m(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&jI(d,s,i,o,!1)}const oS=()=>({...Mm(),attrs:{}}),aS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function RI(e,t,n,r){const s=_.useMemo(()=>{const i=oS();return iS(i,t,aS(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};sS(i,e.style,e),s.style={...i,...s.style}}return s}const OI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fm(e){return typeof e!="string"||e.includes("-")?!1:!!(OI.indexOf(e)>-1||/[A-Z]/u.test(e))}function II(e,t,n,{latestValues:r},s,i=!1){const a=(Fm(e)?RI:TI)(t,r,s,e),l=vI(t,typeof e=="string",i),u=e!==_.Fragment?{...l,...a,ref:n}:{},{children:c}=t,d=_.useMemo(()=>pt(c)?c.get():c,[c]);return _.createElement(e,{...u,children:d})}function Cv(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Um(e,t,n,r){if(typeof t=="function"){const[s,i]=Cv(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Cv(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function du(e){return pt(e)?e.get():e}function DI({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:NI(n,r,s,e),renderState:t()}}function NI(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=du(i[h]);let{initial:o,animate:a}=e;const l=jc(e),u=nS(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Ac(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const v=Um(e,h[f]);if(v){const{transitionEnd:m,transition:w,...p}=v;for(const g in p){let y=p[g];if(Array.isArray(y)){const x=c?y.length-1:0;y=y[x]}y!==null&&(s[g]=y)}for(const g in m)s[g]=m[g]}}}return s}const lS=e=>(t,n)=>{const r=_.useContext(Pc),s=_.useContext(Tc),i=()=>DI(e,t,r,s);return n?i():dm(i)};function Bm(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(pt(r[o])||t.style&&pt(t.style[o])||rS(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const LI=lS({scrapeMotionValuesFromProps:Bm,createRenderState:Mm});function uS(e,t,n){const r=Bm(e,t,n);for(const s in e)if(pt(e[s])||pt(t[s])){const i=vo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const $I=lS({scrapeMotionValuesFromProps:uS,createRenderState:oS}),MI=Symbol.for("motionComponentSymbol");function Ti(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function FI(e,t,n){return _.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ti(n)&&(n.current=r))},[t])}const zm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UI="framerAppearId",cS="data-"+zm(UI),dS=_.createContext({});function BI(e,t,n,r,s){var m,w;const{visualElement:i}=_.useContext(Pc),o=_.useContext(eS),a=_.useContext(Tc),l=_.useContext(Dm).reducedMotion,u=_.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=_.useContext(dS);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&zI(u.current,n,s,d);const h=_.useRef(!1);_.useInsertionEffect(()=>{c&&h.current&&c.update(n,a)});const f=n[cS],v=_.useRef(!!f&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,f))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,f)));return lx(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),v.current&&c.animationState&&c.animationState.animateChanges())}),_.useEffect(()=>{c&&(!v.current&&c.animationState&&c.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,f)}),v.current=!1),c.enteringChildren=void 0)}),c}function zI(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:hS(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ti(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function hS(e){if(e)return e.options.allowProjection!==!1?e.projection:hS(e.parent)}function Id(e,{forwardMotionProps:t=!1}={},n,r){n&&mI(n);const s=Fm(e)?$I:LI;function i(a,l){let u;const c={..._.useContext(Dm),...a,layoutId:VI(a)},{isStatic:d}=c,h=bI(a),f=s(a,d);if(!d&&hm){WI();const v=HI(c);u=v.MeasureLayout,h.visualElement=BI(e,f,c,r,v.ProjectionNode)}return b.jsxs(Pc.Provider,{value:h,children:[u&&h.visualElement?b.jsx(u,{visualElement:h.visualElement,...c}):null,II(e,a,FI(f,h.visualElement,l),f,d,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=_.forwardRef(i);return o[MI]=e,o}function VI({layoutId:e}){const t=_.useContext(cm).id;return t&&e!==void 0?t+"-"+e:e}function WI(e,t){_.useContext(eS).strict}function HI(e){const{drag:t,layout:n}=oo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function KI(e,t){if(typeof Proxy>"u")return Id;const n=new Map,r=(i,o)=>Id(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Id(o,void 0,e,t)),n.get(o))})}function fS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function qI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function GI(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dd(e){return e===void 0||e===1}function Af({scale:e,scaleX:t,scaleY:n}){return!Dd(e)||!Dd(t)||!Dd(n)}function vs(e){return Af(e)||pS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function pS(e){return Tv(e.x)||Tv(e.y)}function Tv(e){return e&&e!=="0%"}function Yu(e,t,n){const r=e-n,s=t*r;return n+s}function Pv(e,t,n,r,s){return s!==void 0&&(e=Yu(e,s,r)),Yu(e,n,r)+t}function jf(e,t=0,n=1,r,s){e.min=Pv(e.min,t,n,r,s),e.max=Pv(e.max,t,n,r,s)}function mS(e,{x:t,y:n}){jf(e.x,t.translate,t.scale,t.originPoint),jf(e.y,n.translate,n.scale,n.originPoint)}const Av=.999999999999,jv=1.0000000000001;function QI(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ai(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,mS(e,o)),r&&vs(i.latestValues)&&Ai(e,i.latestValues))}t.x<jv&&t.x>Av&&(t.x=1),t.y<jv&&t.y>Av&&(t.y=1)}function Pi(e,t){e.min=e.min+t,e.max=e.max+t}function Rv(e,t,n,r,s=.5){const i=Me(e.min,e.max,s);jf(e,t,n,i,r)}function Ai(e,t){Rv(e.x,t.x,t.scaleX,t.scale,t.originX),Rv(e.y,t.y,t.scaleY,t.scale,t.originY)}function gS(e,t){return fS(GI(e.getBoundingClientRect(),t))}function JI(e,t,n){const r=gS(e,n),{scroll:s}=t;return s&&(Pi(r.x,s.offset.x),Pi(r.y,s.offset.y)),r}const Ov=()=>({translate:0,scale:1,origin:0,originPoint:0}),ji=()=>({x:Ov(),y:Ov()}),Iv=()=>({min:0,max:0}),He=()=>({x:Iv(),y:Iv()}),Rf={current:null},yS={current:!1};function YI(){if(yS.current=!0,!!hm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rf.current=e.matches;e.addEventListener("change",t),t()}else Rf.current=!1}const ZI=new WeakMap;function XI(e,t,n){for(const r in t){const s=t[r],i=n[r];if(pt(s))e.addValue(r,s);else if(pt(i))e.addValue(r,io(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,io(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Dv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eD{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Am,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Dt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,De.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=jc(n),this.isVariantNode=nS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const f=d[h];l[h]!==void 0&&pt(f)&&f.set(l[h])}}mount(t){var n;this.current=t,ZI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),yS.current||YI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ns(this.notifyUpdate),ns(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=wo.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&De.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in oo){const n=oo[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Dv.length;r++){const s=Dv[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=XI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=io(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ux(r)||dx(r))?r=parseFloat(r):!aI(r)&&rs.test(n)&&(r=Kx(t,n)),this.setBaseTarget(t,pt(r)?r.get():r)),pt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Um(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!pt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ym),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Om.render(this.render)}}class vS extends eD{constructor(){super(...arguments),this.KeyframeResolver=QO}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;pt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wS(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function tD(e){return window.getComputedStyle(e)}class nD extends vS{constructor(){super(...arguments),this.type="html",this.renderInstance=wS}readValueFromInstance(t,n){var r;if(wo.has(n))return(r=this.projection)!=null&&r.isProjecting?xf(n):pO(t,n);{const s=tD(t),i=(bm(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return gS(t,n)}build(t,n,r){$m(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Bm(t,n,r)}}const bS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rD(e,t,n,r){wS(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(bS.has(s)?s:zm(s),t.attrs[s])}class sD extends vS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=He}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(wo.has(n)){const r=Hx(n);return r&&r.default||0}return n=bS.has(n)?n:zm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return uS(t,n,r)}build(t,n,r){iS(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){rD(t,n,r,s)}mount(t){this.isSVGTag=aS(t.tagName),super.mount(t)}}const iD=(e,t)=>Fm(e)?new sD(t):new nD(t,{allowProjection:e!==_.Fragment});function Mi(e,t,n){const r=e.getProps();return Um(r,t,n!==void 0?n:r.custom,e)}const Of=e=>Array.isArray(e);function oD(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,io(n))}function aD(e){return Of(e)?e[e.length-1]||0:e}function lD(e,t){const n=Mi(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=aD(i[o]);oD(e,o,a)}}function uD(e){return!!(pt(e)&&e.add)}function If(e,t){const n=e.getValue("willChange");if(uD(n))return n.add(t);if(!n&&fr.WillChange){const r=new fr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function _S(e){return e.props[cS]}const cD=e=>e!==null;function dD(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(cD),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const hD={type:"spring",stiffness:500,damping:25,restSpeed:10},fD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),pD={type:"keyframes",duration:.8},mD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gD=(e,{keyframes:t})=>t.length>2?pD:wo.has(e)?e.startsWith("scale")?fD(t[1]):hD:mD;function yD({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Vm=(e,t,n,r={},s,i)=>o=>{const a=jm(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Vn(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};yD(a)||Object.assign(c,gD(e,c)),c.duration&&(c.duration=Vn(c.duration)),c.repeatDelay&&(c.repeatDelay=Vn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Tf(c),c.delay===0&&(d=!0)),(fr.instantAnimations||fr.skipAnimations)&&(d=!0,Tf(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!i&&t.get()!==void 0){const h=dD(c.keyframes,a);if(h!==void 0){De.update(()=>{c.onUpdate(h),c.onComplete()});return}}return a.isSync?new Pm(c):new $O(c)};function vD({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function xS(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const c in a){const d=e.getValue(c,e.latestValues[c]??null),h=a[c];if(h===void 0||u&&vD(u,c))continue;const f={delay:n,...jm(i||{},c)},v=d.get();if(v!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===v&&!f.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const p=_S(e);if(p){const g=window.MotionHandoffAnimation(p,c,De);g!==null&&(f.startTime=g,m=!0)}}If(e,c),d.start(Vm(c,d,h,e.shouldReduceMotion&&zx.has(c)?{type:!1}:f,e,m));const w=d.animation;w&&l.push(w)}return o&&Promise.all(l).then(()=>{De.update(()=>{o&&lD(e,o)})}),l}function SS(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Df(e,t,n={}){var l;const r=Mi(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(xS(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=s;return wD(e,t,u,c,d,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,c]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function wD(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Df(l,t,{...o,delay:n+(typeof r=="function"?0:r)+SS(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function bD(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Df(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Df(e,t,n);else{const s=typeof t=="function"?Mi(e,t,n.custom):t;r=Promise.all(xS(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function kS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const _D=Lm.length;function ES(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ES(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<_D;n++){const r=Lm[n],s=e.props[r];($a(s)||s===!1)&&(t[r]=s)}return t}const xD=[...Nm].reverse(),SD=Nm.length;function kD(e){return t=>Promise.all(t.map(({animation:n,options:r})=>bD(e,n,r)))}function ED(e){let t=kD(e),n=Nv(),r=!0;const s=l=>(u,c)=>{var h;const d=Mi(e,c,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:v,...m}=d;u={...u,...m,...v}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,c=ES(e.parent)||{},d=[],h=new Set;let f={},v=1/0;for(let w=0;w<SD;w++){const p=xD[w],g=n[p],y=u[p]!==void 0?u[p]:c[p],x=$a(y),E=p===l?g.isActive:null;E===!1&&(v=w);let T=y===c[p]&&y!==u[p]&&x;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),g.protectedKeys={...f},!g.isActive&&E===null||!y&&!g.prevProp||Ac(y)||typeof y=="boolean")continue;const C=CD(g.prevProp,y);let A=C||p===l&&g.isActive&&!T&&x||w>v&&x,D=!1;const L=Array.isArray(y)?y:[y];let J=L.reduce(s(p),{});E===!1&&(J={});const{prevResolvedValues:O={}}=g,z={...O,...J},k=R=>{A=!0,h.has(R)&&(D=!0,h.delete(R)),g.needsAnimating[R]=!0;const U=e.getValue(R);U&&(U.liveStyle=!1)};for(const R in z){const U=J[R],F=O[R];if(f.hasOwnProperty(R))continue;let H=!1;Of(U)&&Of(F)?H=!kS(U,F):H=U!==F,H?U!=null?k(R):h.add(R):U!==void 0&&h.has(R)?k(R):g.protectedKeys[R]=!0}g.prevProp=y,g.prevResolvedValues=J,g.isActive&&(f={...f,...J}),r&&e.blockInitialAnimation&&(A=!1);const W=T&&C;A&&(!W||D)&&d.push(...L.map(R=>{const U={type:p};if(typeof R=="string"&&r&&!W&&e.manuallyAnimateOnMount&&e.parent){const{parent:F}=e,H=Mi(F,R);if(F.enteringChildren&&H){const{delayChildren:I}=H.transition||{};U.delay=SS(F.enteringChildren,e,I)}}return{animation:R,options:U}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const p=Mi(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(w.transition=p.transition)}h.forEach(p=>{const g=e.getBaseTarget(p),y=e.getValue(p);y&&(y.liveStyle=!0),w[p]=g??null}),d.push({animation:w})}let m=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const h in n)n[h].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Nv(),r=!0}}}function CD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!kS(t,e):!1}function ps(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nv(){return{animate:ps(!0),whileInView:ps(),whileHover:ps(),whileTap:ps(),whileDrag:ps(),whileFocus:ps(),exit:ps()}}class us{constructor(t){this.isMounted=!1,this.node=t}update(){}}class TD extends us{constructor(t){super(t),t.animationState||(t.animationState=ED(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ac(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let PD=0;class AD extends us{constructor(){super(...arguments),this.id=PD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const jD={animation:{Feature:TD},exit:{Feature:AD}};function Fa(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function al(e){return{point:{x:e.pageX,y:e.pageY}}}const RD=e=>t=>Im(t)&&e(t,al(t));function oa(e,t,n,r){return Fa(e,t,RD(n),r)}const CS=1e-4,OD=1-CS,ID=1+CS,TS=.01,DD=0-TS,ND=0+TS;function xt(e){return e.max-e.min}function LD(e,t,n){return Math.abs(e-t)<=n}function Lv(e,t,n,r=.5){e.origin=r,e.originPoint=Me(t.min,t.max,e.origin),e.scale=xt(n)/xt(t),e.translate=Me(n.min,n.max,e.origin)-e.originPoint,(e.scale>=OD&&e.scale<=ID||isNaN(e.scale))&&(e.scale=1),(e.translate>=DD&&e.translate<=ND||isNaN(e.translate))&&(e.translate=0)}function aa(e,t,n,r){Lv(e.x,t.x,n.x,r?r.originX:void 0),Lv(e.y,t.y,n.y,r?r.originY:void 0)}function $v(e,t,n){e.min=n.min+t.min,e.max=e.min+xt(t)}function $D(e,t,n){$v(e.x,t.x,n.x),$v(e.y,t.y,n.y)}function Mv(e,t,n){e.min=t.min-n.min,e.max=e.min+xt(t)}function la(e,t,n){Mv(e.x,t.x,n.x),Mv(e.y,t.y,n.y)}function Xt(e){return[e("x"),e("y")]}const PS=({current:e})=>e?e.ownerDocument.defaultView:null,Fv=(e,t)=>Math.abs(e-t);function MD(e,t){const n=Fv(e.x,t.x),r=Fv(e.y,t.y);return Math.sqrt(n**2+r**2)}class AS{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ld(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,v=MD(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!v)return;const{point:m}=h,{timestamp:w}=it;this.history.push({...m,timestamp:w});const{onStart:p,onMove:g}=this.handlers;f||(p&&p(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Nd(f,this.transformPagePoint),De.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:v,onSessionEnd:m,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Ld(h.type==="pointercancel"?this.lastMoveEventInfo:Nd(f,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,p),m&&m(h,p)},!Im(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=al(t),l=Nd(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=it;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Ld(l,this.history)),this.removeListeners=sl(oa(this.contextWindow,"pointermove",this.handlePointerMove),oa(this.contextWindow,"pointerup",this.handlePointerUp),oa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ns(this.updatePoint)}}function Nd(e,t){return t?{point:t(e.point)}:e}function Uv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ld({point:e},t){return{point:e,delta:Uv(e,jS(t)),offset:Uv(e,FD(t)),velocity:UD(t,.1)}}function FD(e){return e[0]}function jS(e){return e[e.length-1]}function UD(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=jS(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Vn(t)));)n--;if(!r)return{x:0,y:0};const i=an(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function BD(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Me(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Me(n,e,r.max):Math.min(e,n)),e}function Bv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function zD(e,{top:t,left:n,bottom:r,right:s}){return{x:Bv(e.x,n,s),y:Bv(e.y,t,r)}}function zv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function VD(e,t){return{x:zv(e.x,t.x),y:zv(e.y,t.y)}}function WD(e,t){let n=.5;const r=xt(e),s=xt(t);return s>r?n=Da(t.min,t.max-r,e.min):r>s&&(n=Da(e.min,e.max-s,t.min)),hr(0,1,n)}function HD(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Nf=.35;function KD(e=Nf){return e===!1?e=0:e===!0&&(e=Nf),{x:Vv(e,"left","right"),y:Vv(e,"top","bottom")}}function Vv(e,t,n){return{min:Wv(e,t),max:Wv(e,n)}}function Wv(e,t){return typeof e=="number"?e:e[t]||0}const qD=new WeakMap;class GD{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(al(d).point)},o=(d,h)=>{const{drag:f,dragPropagation:v,onDragStart:m}=this.getProps();if(f&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XO(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xt(p=>{let g=this.getAxisMotionValue(p).get()||0;if(Wn.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[p];x&&(g=xt(x)*(parseFloat(g)/100))}}this.originPoint[p]=g}),m&&De.postRender(()=>m(d,h)),If(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:v,onDirectionLock:m,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:p}=h;if(v&&this.currentDirection===null){this.currentDirection=QD(p),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),w&&w(d,h)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Xt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new AS(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:PS(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&De.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!zl(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=BD(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Ti(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=zD(r.layoutBox,t):this.constraints=!1,this.elastic=KD(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=HD(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ti(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=JI(r,s.root,this.visualElement.getTransformPagePoint());let o=VD(s.layout.layoutBox,i);if(n){const a=n(qI(o));this.hasMutatedConstraints=!!a,a&&(o=fS(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Xt(c=>{if(!zl(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const h=s?200:1e6,f=s?40:1e7,v={type:"inertia",velocity:r?t[c]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return If(this.visualElement,t),r.start(Vm(t,r,0,n,this.visualElement,!1))}stopAnimation(){Xt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Xt(n=>{const{drag:r}=this.getProps();if(!zl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-Me(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ti(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Xt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=WD({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xt(o=>{if(!zl(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Me(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;qD.set(this.visualElement,this);const t=this.visualElement.current,n=oa(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ti(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),De.read(r);const o=Fa(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Nf,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function zl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function QD(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class JD extends us{constructor(t){super(t),this.removeGroupControls=un,this.removeListeners=un,this.controls=new GD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||un}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hv=e=>(t,n)=>{e&&De.postRender(()=>e(t,n))};class YD extends us{constructor(){super(...arguments),this.removePointerDownListener=un}onPointerDown(t){this.session=new AS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Hv(t),onStart:Hv(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&De.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=oa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Oo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(fe.test(e))e=parseFloat(e);else return e;const n=Kv(e,t.target.x),r=Kv(e,t.target.y);return`${n}% ${r}%`}},ZD={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=rs.parse(e);if(s.length>5)return r;const i=rs.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=Me(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let $d=!1;class XD extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;_I(eN),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),$d&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),hu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,$d=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||De.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Om.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;$d=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RS(e){const[t,n]=Xx(),r=_.useContext(cm);return b.jsx(XD,{...e,layoutGroup:r,switchLayoutGroup:_.useContext(dS),isPresent:t,safeToRemove:n})}const eN={borderRadius:{...Oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oo,borderTopRightRadius:Oo,borderBottomLeftRadius:Oo,borderBottomRightRadius:Oo,boxShadow:ZD};function tN(e,t,n){const r=pt(e)?e:io(e);return r.start(Vm("",r,t,n)),r.animation}const nN=(e,t)=>e.depth-t.depth;class rN{constructor(){this.children=[],this.isDirty=!1}add(t){fm(this.children,t),this.isDirty=!0}remove(t){pm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(nN),this.isDirty=!1,this.children.forEach(t)}}function sN(e,t){const n=Dt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ns(r),e(i-t))};return De.setup(r,!0),()=>ns(r)}const OS=["TopLeft","TopRight","BottomLeft","BottomRight"],iN=OS.length,qv=e=>typeof e=="string"?parseFloat(e):e,Gv=e=>typeof e=="number"||fe.test(e);function oN(e,t,n,r,s,i){s?(e.opacity=Me(0,n.opacity??1,aN(r)),e.opacityExit=Me(t.opacity??1,0,lN(r))):i&&(e.opacity=Me(t.opacity??1,n.opacity??1,r));for(let o=0;o<iN;o++){const a=`border${OS[o]}Radius`;let l=Qv(t,a),u=Qv(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Gv(l)===Gv(u)?(e[a]=Math.max(Me(qv(l),qv(u),r),0),(Wn.test(u)||Wn.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Me(t.rotate||0,n.rotate||0,r))}function Qv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const aN=IS(0,.5,wx),lN=IS(.5,.95,un);function IS(e,t,n){return r=>r<e?0:r>t?1:n(Da(e,t,r))}function Jv(e,t){e.min=t.min,e.max=t.max}function Yt(e,t){Jv(e.x,t.x),Jv(e.y,t.y)}function Yv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Zv(e,t,n,r,s){return e-=t,e=Yu(e,1/n,r),s!==void 0&&(e=Yu(e,1/s,r)),e}function uN(e,t=0,n=1,r=.5,s,i=e,o=e){if(Wn.test(t)&&(t=parseFloat(t),t=Me(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Me(i.min,i.max,r);e===i&&(a-=t),e.min=Zv(e.min,t,n,a,s),e.max=Zv(e.max,t,n,a,s)}function Xv(e,t,[n,r,s],i,o){uN(e,t[n],t[r],t[s],t.scale,i,o)}const cN=["x","scaleX","originX"],dN=["y","scaleY","originY"];function e0(e,t,n,r){Xv(e.x,t,cN,n?n.x:void 0,r?r.x:void 0),Xv(e.y,t,dN,n?n.y:void 0,r?r.y:void 0)}function t0(e){return e.translate===0&&e.scale===1}function DS(e){return t0(e.x)&&t0(e.y)}function n0(e,t){return e.min===t.min&&e.max===t.max}function hN(e,t){return n0(e.x,t.x)&&n0(e.y,t.y)}function r0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NS(e,t){return r0(e.x,t.x)&&r0(e.y,t.y)}function s0(e){return xt(e.x)/xt(e.y)}function i0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class fN{constructor(){this.members=[]}add(t){fm(this.members,t),t.scheduleRender()}remove(t){if(pm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pN(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:h,skewX:f,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),f&&(r+=`skewX(${f}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Md=["","X","Y","Z"],mN=1e3;let gN=0;function Fd(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function LS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=_S(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",De,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&LS(r)}function $S({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=gN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wN),this.nodes.forEach(SN),this.nodes.forEach(kN),this.nodes.forEach(bN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new rN)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ym),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Zx(o)&&!iI(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,d=0;const h=()=>this.root.updateBlockedByResize=!1;De.read(()=>{d=window.innerWidth}),e(o,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,c&&c(),c=sN(h,250),hu.hasAnimatedSinceResize&&(hu.hasAnimatedSinceResize=!1,this.nodes.forEach(l0)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||AN,{onLayoutAnimationStart:m,onLayoutAnimationComplete:w}=u.getProps(),p=!this.targetLayout||!NS(this.targetLayout,f),g=!d&&h;if(this.options.layoutRoot||this.resumeFrom||g||d&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...jm(v,"layout"),onPlay:m,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(c,g)}else d||l0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EN),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(o0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(a0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xN),this.nodes.forEach(yN),this.nodes.forEach(vN)):this.nodes.forEach(a0),this.clearAllSnapshots();const a=Dt.now();it.delta=hr(0,1e3/60,a-it.timestamp),it.timestamp=a,it.isProcessing=!0,Td.update.process(it),Td.preRender.process(it),Td.render.process(it),it.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Om.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_N),this.sharedNodes.forEach(CN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,De.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){De.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xt(this.snapshot.measuredBox.x)&&!xt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!DS(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||vs(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),jN(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return He();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(RN))){const{scroll:c}=this.root;c&&(Pi(a.x,c.offset.x),Pi(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=He();if(Yt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:h}=c;c!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Yt(a,o),Pi(a.x,d.offset.x),Pi(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=He();Yt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ai(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),vs(c.latestValues)&&Ai(l,c.latestValues)}return vs(this.latestValues)&&Ai(l,this.latestValues),l}removeTransform(o){const a=He();Yt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!vs(u.latestValues))continue;Af(u.latestValues)&&u.updateSnapshot();const c=He(),d=u.measurePageBox();Yt(c,d),e0(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return vs(this.latestValues)&&e0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==it.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=it.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),la(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$D(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yt(this.target,this.layout.layoutBox),mS(this.target,this.targetDelta)):Yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),la(this.relativeTargetOrigin,this.target,f.target),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Af(this.parent.latestValues)||pS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===it.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Yt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;QI(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=He());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yv(this.prevProjectionDelta.x,this.projectionDelta.x),Yv(this.prevProjectionDelta.y,this.projectionDelta.y)),aa(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!i0(this.projectionDelta.x,this.prevProjectionDelta.x)||!i0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ji(),this.projectionDelta=ji(),this.projectionDeltaWithTransform=ji()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=ji();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=He(),f=l?l.source:void 0,v=this.layout?this.layout.source:void 0,m=f!==v,w=this.getStack(),p=!w||w.members.length<=1,g=!!(m&&!p&&this.options.crossfade===!0&&!this.path.some(PN));this.animationProgress=0;let y;this.mixTargetDelta=x=>{const E=x/1e3;u0(d.x,o.x,E),u0(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(la(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TN(this.relativeTarget,this.relativeTargetOrigin,h,E),y&&hN(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=He()),Yt(y,this.relativeTarget)),m&&(this.animationValues=c,oN(c,u,this.latestValues,E,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=De.update(()=>{hu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=io(0)),this.currentAnimation=tN(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&MS(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||He();const d=xt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=xt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Yt(a,l),Ai(a,c),aa(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new fN),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Fd("z",o,u,this.animationValues);for(let c=0;c<Md.length;c++)Fd(`rotate${Md[c]}`,o,u,this.animationValues),Fd(`skew${Md[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=du(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=du(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!vs(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=pN(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),o.transform=d;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const v in Ma){if(c[v]===void 0)continue;const{correct:m,applyTo:w,isCSSVariable:p}=Ma[v],g=d==="none"?c[v]:m(c[v],u);if(w){const y=w.length;for(let x=0;x<y;x++)o[w[x]]=g}else p?this.options.visualElement.renderState.vars[v]=g:o[v]=g}this.options.layoutId&&(o.pointerEvents=u===this?du(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(o0),this.root.sharedNodes.clear()}}}function yN(e){e.updateLayout()}function vN(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Xt(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],f=xt(h);h.min=r[d].min,h.max=h.min+f}):MS(i,t.layoutBox,r)&&Xt(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],f=xt(r[d]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+f)});const a=ji();aa(a,r,t.layoutBox);const l=ji();o?aa(l,e.applyTransform(s,!0),t.measuredBox):aa(l,r,t.layoutBox);const u=!DS(a);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const v=He();la(v,t.layoutBox,h.layoutBox);const m=He();la(m,r,f.layoutBox),NS(v,m)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function wN(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _N(e){e.clearSnapshot()}function o0(e){e.clearMeasurements()}function a0(e){e.isLayoutDirty=!1}function xN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function l0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function SN(e){e.resolveTargetDelta()}function kN(e){e.calcProjection()}function EN(e){e.resetSkewAndRotation()}function CN(e){e.removeLeadSnapshot()}function u0(e,t,n){e.translate=Me(t.translate,0,n),e.scale=Me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function c0(e,t,n,r){e.min=Me(t.min,n.min,r),e.max=Me(t.max,n.max,r)}function TN(e,t,n,r){c0(e.x,t.x,n.x,r),c0(e.y,t.y,n.y,r)}function PN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const AN={duration:.45,ease:[.4,0,.1,1]},d0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),h0=d0("applewebkit/")&&!d0("chrome/")?Math.round:un;function f0(e){e.min=h0(e.min),e.max=h0(e.max)}function jN(e){f0(e.x),f0(e.y)}function MS(e,t,n){return e==="position"||e==="preserve-aspect"&&!LD(s0(t),s0(n),.2)}function RN(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ON=$S({attachResizeListener:(e,t)=>Fa(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ud={current:void 0},FS=$S({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ud.current){const e=new ON({});e.mount(window),e.setOptions({layoutScroll:!0}),Ud.current=e}return Ud.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),IN={pan:{Feature:YD},drag:{Feature:JD,ProjectionNode:FS,MeasureLayout:RS}};function p0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&De.postRender(()=>i(t,al(t)))}class DN extends us{mount(){const{current:t}=this.node;t&&(this.unmount=eI(t,(n,r)=>(p0(this.node,r,"Start"),s=>p0(this.node,s,"End"))))}unmount(){}}class NN extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sl(Fa(this.node.current,"focus",()=>this.onFocus()),Fa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function m0(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&De.postRender(()=>i(t,al(t)))}class LN extends us{mount(){const{current:t}=this.node;t&&(this.unmount=sI(t,(n,r)=>(m0(this.node,r,"Start"),(s,{success:i})=>m0(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lf=new WeakMap,Bd=new WeakMap,$N=e=>{const t=Lf.get(e.target);t&&t(e)},MN=e=>{e.forEach($N)};function FN({root:e,...t}){const n=e||document;Bd.has(n)||Bd.set(n,{});const r=Bd.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(MN,{root:e,...t})),r[s]}function UN(e,t,n){const r=FN(t);return Lf.set(e,n),r.observe(e),()=>{Lf.delete(e),r.unobserve(e)}}const BN={some:0,all:1};class zN extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:BN[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return UN(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(VN(t,n))&&this.startObserver()}unmount(){}}function VN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const WN={inView:{Feature:zN},tap:{Feature:LN},focus:{Feature:NN},hover:{Feature:DN}},HN={layout:{ProjectionNode:FS,MeasureLayout:RS}},KN={...jD,...WN,...IN,...HN},qN=KI(KN,iD);let GN={data:""},QN=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||GN},JN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,YN=/\/\*[^]*?\*\/|  +/g,g0=/\n+/g,jr=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?jr(o,i):i+"{"+jr(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=jr(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=jr.p?jr.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Gn={},US=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+US(e[n]);return t}return e},ZN=(e,t,n,r,s)=>{let i=US(e),o=Gn[i]||(Gn[i]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(i));if(!Gn[o]){let l=i!==e?e:(u=>{let c,d,h=[{}];for(;c=JN.exec(u.replace(YN,""));)c[4]?h.shift():c[3]?(d=c[3].replace(g0," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][c[1]]=c[2].replace(g0," ").trim();return h[0]})(e);Gn[o]=jr(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Gn.g?Gn.g:null;return n&&(Gn.g=Gn[o]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Gn[o],t,r,a),o},XN=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":jr(a,""):a===!1?"":a}return r+s+(o??"")},"");function Rc(e){let t=this||{},n=e.call?e(t.p):e;return ZN(n.unshift?n.raw?XN(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,QN(t.target),t.g,t.o,t.k)}let BS,$f,Mf;Rc.bind({g:1});let pr=Rc.bind({k:1});function eL(e,t,n,r){jr.p=t,BS=e,$f=n,Mf=r}function cs(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:$f&&$f()},a),n.o=/ *go\d+/.test(l),a.className=Rc.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),Mf&&u[0]&&Mf(a),BS(u,a)}return s}}var tL=e=>typeof e=="function",Zu=(e,t)=>tL(e)?e(t):e,nL=(()=>{let e=0;return()=>(++e).toString()})(),zS=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),rL=20,Wm="default",VS=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return VS(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},fu=[],WS={toasts:[],pausedAt:void 0,settings:{toastLimit:rL}},Un={},HS=(e,t=Wm)=>{Un[t]=VS(Un[t]||WS,e),fu.forEach(([n,r])=>{n===t&&r(Un[t])})},KS=e=>Object.keys(Un).forEach(t=>HS(e,t)),sL=e=>Object.keys(Un).find(t=>Un[t].toasts.some(n=>n.id===e)),Oc=(e=Wm)=>t=>{HS(t,e)},iL={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},oL=(e={},t=Wm)=>{let[n,r]=_.useState(Un[t]||WS),s=_.useRef(Un[t]);_.useEffect(()=>(s.current!==Un[t]&&r(Un[t]),fu.push([t,r]),()=>{let o=fu.findIndex(([a])=>a===t);o>-1&&fu.splice(o,1)}),[t]);let i=n.toasts.map(o=>{var a,l,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||iL[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:i}},aL=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||nL()}),ll=e=>(t,n)=>{let r=aL(t,e,n);return Oc(r.toasterId||sL(r.id))({type:2,toast:r}),r.id},Xe=(e,t)=>ll("blank")(e,t);Xe.error=ll("error");Xe.success=ll("success");Xe.loading=ll("loading");Xe.custom=ll("custom");Xe.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Oc(t)(n):KS(n)};Xe.dismissAll=e=>Xe.dismiss(void 0,e);Xe.remove=(e,t)=>{let n={type:4,toastId:e};t?Oc(t)(n):KS(n)};Xe.removeAll=e=>Xe.remove(void 0,e);Xe.promise=(e,t,n)=>{let r=Xe.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Zu(t.success,s):void 0;return i?Xe.success(i,{id:r,...n,...n==null?void 0:n.success}):Xe.dismiss(r),s}).catch(s=>{let i=t.error?Zu(t.error,s):void 0;i?Xe.error(i,{id:r,...n,...n==null?void 0:n.error}):Xe.dismiss(r)}),e};var lL=1e3,uL=(e,t="default")=>{let{toasts:n,pausedAt:r}=oL(e,t),s=_.useRef(new Map).current,i=_.useCallback((d,h=lL)=>{if(s.has(d))return;let f=setTimeout(()=>{s.delete(d),o({type:4,toastId:d})},h);s.set(d,f)},[]);_.useEffect(()=>{if(r)return;let d=Date.now(),h=n.map(f=>{if(f.duration===1/0)return;let v=(f.duration||0)+f.pauseDuration-(d-f.createdAt);if(v<0){f.visible&&Xe.dismiss(f.id);return}return setTimeout(()=>Xe.dismiss(f.id,t),v)});return()=>{h.forEach(f=>f&&clearTimeout(f))}},[n,r,t]);let o=_.useCallback(Oc(t),[t]),a=_.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=_.useCallback((d,h)=>{o({type:1,toast:{id:d,height:h}})},[o]),u=_.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),c=_.useCallback((d,h)=>{let{reverseOrder:f=!1,gutter:v=8,defaultPosition:m}=h||{},w=n.filter(y=>(y.position||m)===(d.position||m)&&y.height),p=w.findIndex(y=>y.id===d.id),g=w.filter((y,x)=>x<p&&y.visible).length;return w.filter(y=>y.visible).slice(...f?[g+1]:[0,g]).reduce((y,x)=>y+(x.height||0)+v,0)},[n]);return _.useEffect(()=>{n.forEach(d=>{if(d.dismissed)i(d.id,d.removeDelay);else{let h=s.get(d.id);h&&(clearTimeout(h),s.delete(d.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:c}}},cL=pr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dL=pr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hL=pr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fL=cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,pL=pr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,mL=cs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${pL} 1s linear infinite;
`,gL=pr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,yL=pr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vL=cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${yL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wL=cs("div")`
  position: absolute;
`,bL=cs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_L=pr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xL=cs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_L} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,SL=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?_.createElement(xL,null,t):t:n==="blank"?null:_.createElement(bL,null,_.createElement(mL,{...r}),n!=="loading"&&_.createElement(wL,null,n==="error"?_.createElement(fL,{...r}):_.createElement(vL,{...r})))},kL=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,EL=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,CL="0%{opacity:0;} 100%{opacity:1;}",TL="0%{opacity:1;} 100%{opacity:0;}",PL=cs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,AL=cs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jL=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=zS()?[CL,TL]:[kL(n),EL(n)];return{animation:t?`${pr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${pr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},RL=_.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?jL(e.position||t||"top-center",e.visible):{opacity:0},i=_.createElement(SL,{toast:e}),o=_.createElement(AL,{...e.ariaProps},Zu(e.message,e));return _.createElement(PL,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):_.createElement(_.Fragment,null,i,o))});eL(_.createElement);var OL=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=_.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return _.createElement("div",{ref:i,className:t,style:n},s)},IL=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},DL=Rc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vl=16,NL=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=uL(n,i);return _.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Vl,left:Vl,right:Vl,bottom:Vl,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let d=c.position||t,h=u.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),f=IL(d,h);return _.createElement(OL,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?DL:"",style:f},c.type==="custom"?Zu(c.message,c):s?s(c):_.createElement(RL,{toast:c,position:d}))}))},di=Xe;const qS=[{code:"devanagari",name:"Devanagari"},{code:"tamil_superscripted",name:"Tamil"},{code:"malayalam",name:"Malayalam"},{code:"telugu",name:"Telugu"},{code:"kannada",name:"Kannada"},{code:"gujarati",name:"Gujarati"},{code:"gurmukhi",name:"Gurmukhi"},{code:"iast",name:"IAST"}];function LL(){const{preferredLanguage:e,setPreferredLanguage:t}=go(),[n,r]=_.useState(e);_.useEffect(()=>{localStorage.setItem("preferredLanguage",n),t(n)},[n,t]);const s=i=>{r(i.target.value)};return b.jsxs("div",{children:[b.jsx("h2",{children:"Language Preferences"}),b.jsx("p",{children:"Choose the language for transliteration:"}),b.jsx("select",{value:n,onChange:s,children:qS.map(i=>b.jsx("option",{value:i.code,children:i.name},i.code))})]})}const Wl="sankeertan_song_details",$L={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},Io={marginRight:"10px"},Do={opacity:.5,cursor:"not-allowed",color:"#888"},ML=async function(e){try{return await mt.from("sankeertan").upsert({id:1,content:e,scroll_position:0}),!0}catch(t){return console.error(t),!1}},FL=async({bookId:e,sourceRow:t,songTitle:n,sessionuser:r})=>{if(!e||!t)throw new Error("bookId or sourceRow is not defined. Cannot fetch songDetails");const s=new URL(ei);s.searchParams.append("mode","api"),s.searchParams.append("apiname","getsongtextforsong"),s.searchParams.append("book",e),s.searchParams.append("sourcerow",t),s.searchParams.append("songtitle",n),r&&s.searchParams.append("sessionuser",r);const i=await fetch(s.toString());if(!i.ok){const o=await i.json();throw new Error(`Failed to fetch song details for book ${e}+row ${t}: ${i.status} - ${JSON.stringify(o)}`)}return await i.json()};function UL(){var Ee,ve,yt;const{categoryId:e,bookId:t,sourceRow:n,songTitle:r}=Ya(),s=hn(),i=Rn(),{session:o}=ls(),a=(Ee=o==null?void 0:o.user)==null?void 0:Ee.email,l=(ve=s.state)==null?void 0:ve.filteredSongIndices,u=(yt=s.state)==null?void 0:yt.index,c=Ec(),d=["songDetails",t,n,a],h=r?encodeURIComponent(r):"",f=`${Wl}-${t}-${h}`,{preferredLanguage:v,setPreferredLanguage:m}=go(),w=_.useMemo(()=>l&&u>0?l[u-1]:null,[l,u]),p=_.useMemo(()=>l&&u<l.length-1?l[u+1]:null,[l,u]),g=_.useMemo(()=>{if(!w)return!1;const se=`${Wl}-${t}-${encodeURIComponent(w.songTitle)}`;return!!localStorage.getItem(se)},[t,w]),y=_.useMemo(()=>{if(!p)return!1;const se=`${Wl}-${t}-${encodeURIComponent(p.songTitle)}`;return!!localStorage.getItem(se)},[t,p]),x=_.useMemo(()=>{try{const se=localStorage.getItem(f);if(se)return JSON.parse(se).data}catch(se){console.error(`Error retrieving song details for key ${f} from localStorage:`,se)}},[f]),{isLoading:E,isFetching:T,error:C,data:A}=im({queryKey:d,queryFn:()=>FL({bookId:t,sourceRow:n,songTitle:r,sessionuser:a??null}),staleTime:1/0,gcTime:0,initialData:x,refetchOnMount:!1});dR(({swipe:[se]})=>{se===1?(console.log("going to prev"),re()):se===-1&&(console.log("going to next"),ge())},{axis:"x",filterTaps:!0});const[D,L]=_.useState(!1),[J,O]=_.useState({x:0,y:0}),[z,k]=_.useState(!1),W=_.useRef(null),[oe,R]=_.useState(""),[U,F]=_.useState(null),H=_.useRef(null),I=se=>{se.preventDefault();const pe=window.getSelection(),vt=(pe==null?void 0:pe.toString().trim())??"";pe&&pe.rangeCount>0&&!pe.getRangeAt(0).collapsed?(R(vt),F(pe.getRangeAt(0)),k(!0)):(R(""),F(null),k(!1)),O({x:se.clientX,y:se.clientY}),k(!!oe),L(!0)};_.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[s]),_.useEffect(()=>{const se=pe=>{W.current&&!W.current.contains(pe.target)&&L(!1)};return D?window.addEventListener("mousedown",se):window.removeEventListener("mousedown",se),()=>{window.removeEventListener("mousedown",se)}},[D]),_.useEffect(()=>{s.state||window.location.pathname.startsWith("/sankeertan")},[s,t]),_.useEffect(()=>{const se=pe=>{W.current&&!W.current.contains(pe.target)&&L(!1)};return D&&document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[D]);const N=()=>{const se=window.location.href;navigator.clipboard.writeText(se).then(()=>{console.log("URL copied to clipboard:",se),di.success("URL copied to clipboard!")}).catch(pe=>{console.error("Failed to copy URL: ",pe)})},K=_.useRef(null);function Z(se){const Te=new DOMParser().parseFromString(se,"text/html").querySelectorAll("tr");let ds="";return Te.forEach(bo=>{const pn=bo.querySelectorAll("td, th"),_o=[];pn.forEach(zc=>{var vr;let qn=zc.innerHTML;qn=qn.replace(/<\/p>\s*<p>/gi,`
`),qn=qn.replace(/<p>|<\/p>/gi,""),qn=qn.replace(/<br\s*\/?>/gi,`
`);const fl=document.createElement("div");fl.innerHTML=qn;const pl=((vr=fl.textContent)==null?void 0:vr.trim())||"";_o.push(pl)}),ds+=_o.join(" | ")+`

`}),ds.trim()}const Q=()=>{if(!U||U.collapsed){console.warn("No valid selection range to highlight.");return}const se=document.createElement("span");se.className="highlighted-text";try{U.surroundContents(se),console.log("Text highlighted successfully!")}catch(pe){console.error("Failed to highlight text:",pe)}F(null)},ce=(se=!1)=>{if(K.current){const pe=K.current.innerHTML;let vt="radhekrishna!!";se?vt=pe:pe.includes("<table")?vt=Z(pe):vt=pe,navigator.clipboard.writeText(vt).then(()=>{console.log("Song content copied to clipboard:"),di.success("Song content copied to clipboard!")}).catch(Te=>{console.error("Failed to copy song: ",Te)})}},ge=()=>{if(l&&u!==void 0&&u<l.length-1){const se=u+1,pe=l[se];sessionStorage.setItem("lastClickedSongIndex",se.toString()),i(`/details/book/${e}/${t}/${pe.sourceRow}/${encodeURIComponent(pe.songTitle)}`,{state:{filteredSongIndices:l,index:se},replace:!0})}},re=()=>{if(l&&u!==void 0&&u>0){const se=u-1,pe=l[se];sessionStorage.setItem("lastClickedSongIndex",se.toString()),i(`/details/book/${e}/${t}/${pe.sourceRow}/${encodeURIComponent(pe.songTitle)}`,{state:{filteredSongIndices:l,index:se},replace:!0})}},ye=u===0,Le=u===(l==null?void 0:l.length)-1,Se=l&&l.length>0,Jt=async se=>{if(oe){const pe=await fetch(`${ei}?mode=api&apiname=reportmistakeinsongtext&book=${t}&sourcerow=${n}&songtitle=${r}&text=${oe}&sessionuser=${se}`);if(!pe.ok){const Te=await pe.json();throw new Error(`Failed to fetch song details for book ${t}+row ${n}: ${pe.status} - ${JSON.stringify(Te)}`)}const vt=await pe.json();di.success(`Issue/Mistake is reported as ${vt[1]}!!`)}else console.log("No text was selected.")},Ut=()=>{const se=`${Wl}-${t}-${h}`;localStorage.removeItem(se),console.log("Local cache cleared. Data will be reloaded from the server."),c.invalidateQueries({queryKey:["songDetails",t,n,a]})},S=async se=>{switch(L(!1),se){case"broadcast":r&&B();break;case"copyPageUrl":N();break;case"CopySongAsHtml":ce(!0);break;case"CopySongAsText":ce(!1);break;case"ReportMistake":Jt(a);break;case"Copy":if(oe)try{await navigator.clipboard.writeText(oe),console.log("Text successfully copied to clipboard!")}catch(pe){console.error("Failed to copy text: ",pe)}break;case"Highlight":Q();break}},q=_.useMemo(()=>b.jsx(qN.div,{ref:W,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.1},style:{position:"fixed",top:J.y,left:J.x,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)",zIndex:10,minWidth:"150px"},onClick:se=>se.stopPropagation(),children:b.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:z?b.jsxs(b.Fragment,{children:[b.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>S("Copy"),children:"Copy Selected"}),b.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>S("ReportMistake"),children:"Report Mistake"})]}):b.jsx(b.Fragment,{children:b.jsxs("div",{style:{borderTop:"1px solid #eee",marginTop:"8px",paddingTop:"8px"},children:[b.jsx("li",{style:{padding:"6px 12px",color:"#666"},children:"**Change Language**"}),qS.map(se=>b.jsx("li",{style:{padding:"6px 12px",cursor:"pointer",fontWeight:se.code===v?"bold":"normal",backgroundColor:se.code===v?"#f0f0f0":"transparent"},onClick:()=>ee(se),children:se.name},se.code))]})})})},"context-menu"),[z,J]),[V,j]=_.useState(!1),[P,M]=_.useState(null),[G,Y]=_.useState(!0),B=_.useCallback(async()=>{if(V){console.warn("isBroadcasting already");return}if(!G){di.error("Cannot do repeat Broadcast... Pls check if song has changed");return}if(K.current){j(!0),M("broadcasting");try{const se=K.current.innerHTML,pe=await ML(se);j(!1),M("success"),di.success("Broadcast was successful!"),Y(!1),setTimeout(()=>M(null),2e3)}catch(se){console.error("Broadcast failed:",se),di.error("Broadcast had errors!"),j(!1),M("error"),setTimeout(()=>M(null),3e3)}}else console.warn("broadcastContentRef.current is null. Cannot broadcast content."),M("failed"),j(!1)},[K,V,G]);_.useEffect(()=>{Y(!0)},[A]),_.useEffect(()=>{if(A)try{localStorage.setItem(f,JSON.stringify({data:A,timestamp:Date.now()}))}catch(se){console.error("Error saving song details to localStorage:",se)}},[f,t,n,A]);const ee=se=>{m(se.code),L(!1)},ne={backgroundColor:"green",color:"white"},te={backgroundColor:"brown",color:"white"};if(E||T)return b.jsx("div",{style:$L,children:b.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[b.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),b.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),b.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),b.jsx("p",{style:{marginLeft:"10px"},children:"Loading song text..."})]})});if(C)return b.jsxs("div",{children:["Error loading song details: ",C.message]});const le=document.getElementById("context-menu-root");return b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},ref:H,children:[b.jsx(um,{}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[b.jsx("button",{onClick:re,disabled:ye||!Se,style:{...Io,...ye||!Se?Do:{},...g?ne:te},children:"« Prev"}),b.jsx("button",{onClick:ge,disabled:Le||!Se,style:{...Io,...Le||!Se?Do:{},...y?ne:te,marginRight:0},children:"Next »"})]})]}),b.jsxs("div",{className:"song-details-container select-text",style:{paddingBottom:"60px",paddingLeft:"20px",cursor:"pointer",userSelect:"auto"},onContextMenu:I,children:[b.jsx("div",{ref:K,children:A&&b.jsx(vj,{data:A[0],className:"my-4",highlightColor:"bg-blue-50",striped:!0,hoverEffect:!1,wrapColumns:[1,2,3],maxWidth:"max-w-6xl",preferredLanguage:v,sourceLanguage:A[2]})}),b.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",backgroundColor:"#fff",borderTop:"1px solid #ccc",padding:"10px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",zIndex:1e3},children:[b.jsxs("div",{children:[b.jsx("button",{onClick:re,disabled:ye||!Se,style:{...Io,...ye||!Se?Do:{},...g?ne:te},children:"« Prev"}),b.jsx("button",{onClick:ge,disabled:Le||!Se,style:{...Io,...Le||!Se?Do:{},...y?ne:te,marginRight:0},children:"Next »"})]}),b.jsxs("div",{children:[b.jsx("button",{onClick:Ut,style:{marginRight:"10px"},title:"Reload",children:"🔄"}),b.jsx("button",{onClick:N,style:{marginRight:"10px"},title:"Copy URL",children:"🔗"}),b.jsx("button",{onClick:()=>ce(!1),style:{marginRight:"10px"},title:"Copy Content",children:"📄"}),b.jsx("button",{onClick:B,disabled:!G,style:{...Io,...G?{}:Do},title:"Broadcast",children:"📢"})]})]}),D&&le&&XE.createPortal(b.jsx(pI,{children:q}),le)]})]})}const BL=({broadcastId:e,session:t,shouldSyncContent:n,shouldSyncScroll:r,onContentUpdated:s,onScrollPositionUpdated:i})=>{const o=_.useRef(null);return _.useEffect(()=>{if(!(t!=null&&t.access_token)||!e){console.log("No access token or broadcast ID, not subscribing to sankeertan updates."),o.current&&(o.current.unsubscribe(),o.current=null);return}return o.current=mt.channel(`broadcast:${e}`),o.current.on("postgres_changes",{event:"UPDATE",schema:"public",table:"sankeertan",filter:`id=eq.${e}`},a=>{a.new&&"content"in a.new&&n&&s(a.new.content),a.new&&"scroll_position"in a.new&&a.new.scroll_position!==null&&r&&i(a.new.scroll_position)}).subscribe(a=>{a==="SUBSCRIBED"?console.log(`Successfully subscribed to sankeertan updates for broadcast: ${e}`):a==="CHANNEL_ERROR"?console.error(`Error subscribing to sankeertan updates for broadcast ${e}:`,a):a==="TIMED_OUT"?console.warn(`Subscription timed out for broadcast ${e}:`,a):a==="CLOSED"&&console.warn(`Subscription closed for broadcast ${e}:`,a)}),()=>{o.current&&(o.current.unsubscribe(),o.current=null)}},[e,t==null?void 0:t.access_token,n,r,s,i]),null},zL=({broadcastId:e})=>{const[t,n]=_.useState(null),[r,s]=_.useState(null),i=_.useRef(null),[o,a]=_.useState(null),[l,u]=_.useState(!0),[c,d]=_.useState(!0),[h,f]=_.useState(!0),[v,m]=_.useState(null),{preferredLanguage:w}=go();_.useEffect(()=>{mt.auth.getSession().then(({data:{session:x}})=>{a(x)}),mt.auth.onAuthStateChange((x,E)=>{a(E)})},[]);const p=_.useCallback(async()=>{f(!0),m(null);try{const{data:x,error:E}=await mt.from("sankeertan").select("content, scroll_position").eq("id",e).single();if(E)console.error("Error fetching broadcast data:",E),m(E.message);else if(x){const T=x.content??"";let C=Hu(T,"devanagari",w);n(C)}}finally{f(!1)}},[e,w]);_.useEffect(()=>{o&&e&&p()},[o,e,p]),_.useEffect(()=>{if(r&&i.current){const x=i.current.querySelector(`#trRowAsAnchor-${r}`);x&&x.scrollIntoView({block:"start"}),s(null)}},[r,i]);const g=x=>{x=Hu(x??"","devanagari",w),n(x)},y=x=>{s(`#trRowAsAnchor-${x}`)};return b.jsxs("div",{children:[b.jsx("h2",{children:"Sankeertan Content"}),b.jsx("div",{ref:i,children:t&&b.jsx("div",{dangerouslySetInnerHTML:{__html:t}})}),o&&b.jsx(BL,{broadcastId:e,session:o,shouldSyncContent:l,shouldSyncScroll:c,onContentUpdated:g,onScrollPositionUpdated:y})]})},No=(e,t)=>{const n=new Set;return e.forEach(r=>{const s=r[t];Array.isArray(s)?s.forEach(i=>{typeof i=="string"&&n.add(i)}):typeof s=="string"&&n.add(s)}),Array.from(n).sort()},VL=[{category:["Spiritual","Sampradaya"],book:["Divine Verses","Speech by Swami"],bookId:"book-1",categoryId:"category-1",title:"Gayatri Mantra",author:"Vishwamitra",language:"Sanskrit",type:"Shloka",sourceRow:0,indexPositionForNavigation:0},{category:["Spiritual","Sampradaya"],book:["Divine Verses","Speech by Swami"],bookId:"book-2",categoryId:"category-1",title:"Maha Mrityunjaya Mantra",author:["Markandeya","Vyaasa"],language:"Sanskrit",type:"Shloka",sourceRow:1,indexPositionForNavigation:0},{category:"Folk",book:"Singing Stories",bookId:"book-3",categoryId:"category-2",title:"Oh Carolina",author:"Folklore",language:["English","German"],type:"Audio",sourceRow:0,indexPositionForNavigation:0},{category:"Folk",book:"Singing Stories",bookId:"book-4",categoryId:"category-2",title:"Home is a feeling",author:"Alan Tofson",language:["English","Italian"],type:["Audio","Video"],sourceRow:1,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-5",categoryId:"category-3",title:"Ode to Joy",author:["Ludwig van Beethoven"],language:"German",type:"Audio",sourceRow:0,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-6",categoryId:"category-3",title:"Für Elise",author:["Ludwig van Beethoven"],language:"German",type:"Audio",sourceRow:1,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-7",categoryId:"category-3",title:"The Four Seasons",author:"Antonio Vivaldi",language:"Italian",type:"Audio",sourceRow:2,indexPositionForNavigation:0},{category:"Spiritual",book:"The Wisdom of Rumi",bookId:"book-8",categoryId:"category-1",title:"The Guest House",author:"Rumi",language:"English",type:"Audio",sourceRow:2,indexPositionForNavigation:0}],WL=()=>{const e=[],t=[];try{const n=localStorage.getItem("sankeertan_categories_data");if(!n)return t.push("No data found for 'sankeertan_categories_data'. Returning empty list."),{localSongs:e,debugInfo:t};t.push("'sankeertan_categories_data' found.");const r=JSON.parse(n);if(!r||!Array.isArray(r.data))return t.push("Error: 'sankeertan_categories_data' is not a valid JSON array."),{localSongs:e,debugInfo:t};r.data.forEach(s=>{const i=s.name,o=s.name;s.books&&Array.isArray(s.books)&&s.books.forEach(a=>{const l=a.bookName,u=a.bookId,c=`sankeertan_song_indices-${u}`,d=localStorage.getItem(c);if(d){t.push(`Found song indices for key: '${c}'.`);try{const h=JSON.parse(d);h&&Array.isArray(h.data)?h.data.forEach(f=>{if(f.songTitle){const v=`sankeertan_song_details-${u}-${encodeURIComponent(f.songTitle)}`,m=!!localStorage.getItem(v);t.push(`Checking availability for '${f.songTitle}': ${m?"Available":"Not Available"}`),e.push({category:i,categoryId:o,book:l,bookId:u,title:f.songTitle,author:"Unknown",language:"Unknown",type:"Unknown",sourceRow:f.sourceRow,indexPositionForNavigation:f.indexPositionForNavigation,isAvailable:m})}}):t.push(`Error parsing indices for key: '${c}'. Invalid format.`)}catch(h){const f=h instanceof Error?h.message:String(h);t.push(`Error parsing data for key: '${c}': ${f}`)}}else t.push(`No song indices found for key: '${c}'.`)})})}catch(n){const r=n instanceof Error?n.message:String(n);return t.push(`General error processing localStorage: ${r}`),{localSongs:e,debugInfo:t}}return t.push(`Total songs loaded from local storage: ${e.length}.`),{localSongs:e,debugInfo:t}},HL=()=>{const[e,t]=_.useState(""),[n,r]=_.useState({}),[s,i]=_.useState([]),[o,a]=_.useState([]),[l,u]=_.useState([]),[c,d]=_.useState("cards"),[h,f]=_.useState(!0),[v,m]=_.useState([]),[w,p]=_.useState(!1),g=Rn(),[y,x]=_.useState({category:!0,book:!0,title:!0,author:!0,language:!0,type:!0});_.useEffect(()=>{f(!0);const{localSongs:R,debugInfo:U}=WL();m(U),R.length>0?i(R):i(VL),f(!1)},[]),_.useEffect(()=>{(()=>{let U=s;if(e){const H=e.toLowerCase();U=U.filter(I=>Object.values(I).filter(K=>K!==void 0).map(K=>Array.isArray(K)?K.join(" "):String(K)).join(" ").toLowerCase().includes(H))}Object.entries(n).forEach(([H,I])=>{I&&I.length>0&&(U=U.filter(N=>{const K=N[H],Q=Array.isArray(K)?K.map(ce=>String(ce).toLowerCase()):[String(K).toLowerCase()];return I.every(ce=>{const ge=ce.value.toLowerCase(),re=Q.includes(ge);return ce.isNot?!re:re})}))}),a(U);const F=U.map(H=>({indexPositionForNavigation:H.indexPositionForNavigation,sourceRow:H.sourceRow,songTitle:Array.isArray(H.title)?H.title.join(", "):H.title}));u(F)})()},[e,n,s]);const E=(R,U)=>{r(F=>{const H=F[R]||[],I=H.find(N=>N.value===U);if(I)if(I.isNot){const N=H.filter(K=>K.value!==U);if(N.length===0){const K={...F};return delete K[R],K}return{...F,[R]:N}}else return{...F,[R]:H.map(N=>N.value===U?{...N,isNot:!0}:N)};else return{...F,[R]:[...H,{value:U,isNot:!1}]}})},T=()=>{r({})},C=(R,U)=>{const F=Array.isArray(R.title)?R.title.join(", "):R.title;g(`/details/book/${R.category}/${R.bookId}/${R.sourceRow}/${encodeURIComponent(F)}`,{state:{filteredSongIndices:l,index:U}})},A=R=>{x(U=>({...U,[R]:!U[R]}))},D=No(o,"author"),L=No(o,"language"),J=No(o,"type"),O=No(o,"book"),z=No(o,"category"),k={category:new Set,book:new Set,title:new Set,author:new Set,language:new Set,type:new Set};e.length>0&&s.forEach(R=>{Object.entries(R).forEach(([U,F])=>{var H;Array.isArray(F)?F.forEach(I=>{var N;typeof I=="string"&&I.toLowerCase().includes(e.toLowerCase())&&((N=k[U])==null||N.add(I))}):typeof F=="string"&&F.toLowerCase().includes(e.toLowerCase())&&((H=k[U])==null||H.add(F))})});const W=(R,U)=>o.filter(F=>{const H=F[R];return Array.isArray(H)?H.includes(U):H===U}).length,oe=(R,U)=>{var H;const F=(H=n[R])==null?void 0:H.find(I=>I.value===U);return F?F.isNot?"bg-red-500 text-white":"bg-teal-500 text-white":"hover:bg-gray-600"};return b.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4 font-sans flex flex-col items-center",children:b.jsxs("div",{className:"w-full max-w-4xl bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8",children:[b.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-center mb-2 text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-sky-500",children:"Progressive Search"}),b.jsx("div",{className:"mb-6 text-center",children:b.jsx("button",{onClick:()=>p(!w),className:"px-5 py-2 rounded-full font-semibold bg-gray-700 text-gray-400 hover:bg-gray-600 transition-colors text-sm",children:w?"Hide Debug Panel":"Show Debug Panel"})}),w&&b.jsxs("div",{className:"bg-gray-700 p-4 rounded-xl mb-6",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-2",children:"Debug Log (Local Storage)"}),b.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside",children:v.map((R,U)=>b.jsx("li",{className:"mb-1",children:R},U))})]}),b.jsxs("div",{className:"relative mb-6",children:[b.jsx("input",{type:"text",placeholder:"Search by title, author, book, language...",className:"w-full px-5 py-3 rounded-xl bg-gray-700 text-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-all",value:e,onChange:R=>t(R.target.value)}),e&&Object.values(k).some(R=>R.size>0)&&b.jsx("div",{className:"absolute z-10 w-full mt-2 bg-gray-700 rounded-xl shadow-lg border border-gray-600 max-h-64 overflow-y-auto",children:Object.entries(k).map(([R,U])=>U&&U.size>0&&b.jsxs("div",{className:"p-3",children:[b.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-1",children:R}),Array.from(U).map((F,H)=>b.jsx("button",{className:"w-full text-left px-3 py-2 text-sm rounded-lg hover:bg-teal-500 hover:text-white transition-colors",onClick:()=>{t(""),E(R,F)},children:F},H))]},R))})]}),Object.keys(n).some(R=>{const U=n[R];return U&&U.length>0})&&b.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[b.jsx("span",{className:"text-sm text-gray-400 mr-2",children:"Filters:"}),Object.entries(n).map(([R,U])=>U==null?void 0:U.map((F,H)=>b.jsxs("span",{className:`${F.isNot?"bg-red-500":"bg-teal-500"} text-white text-sm px-3 py-1 rounded-full flex items-center gap-1`,children:[b.jsxs("span",{className:"font-semibold",children:[R,":"]})," ",F.value,b.jsx("button",{onClick:()=>E(R,F.value),className:"ml-1 text-white hover:text-gray-200 transition-colors",children:"×"})]},`${R}-${H}`))),b.jsx("button",{onClick:T,className:"text-sm text-gray-400 hover:text-white transition-colors ml-auto",children:"Clear All Filters"})]}),h?b.jsx("div",{className:"text-center py-8",children:b.jsx("p",{className:"text-gray-400",children:"Loading songs from local storage..."})}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid gap-4 mb-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[b.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[b.jsxs("button",{onClick:()=>A("category"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Category",b.jsx("span",{className:`transform transition-transform duration-300 ${y.category?"":"rotate-180"}`,children:"▼"})]}),b.jsx("div",{className:`overflow-hidden transition-all duration-300 ${y.category?"max-h-0":"max-h-96"}`,children:b.jsx("div",{className:"p-4 pt-0",children:z.map(R=>b.jsxs("button",{onClick:()=>E("category",R),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${oe("category",R)}`,children:[b.jsx("span",{children:R}),b.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:W("category",R)})]},R))})})]}),b.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[b.jsxs("button",{onClick:()=>A("book"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Book",b.jsx("span",{className:`transform transition-transform duration-300 ${y.book?"":"rotate-180"}`,children:"▼"})]}),b.jsx("div",{className:`overflow-hidden transition-all duration-300 ${y.book?"max-h-0":"max-h-96"}`,children:b.jsx("div",{className:"p-4 pt-0",children:O.map(R=>b.jsxs("button",{onClick:()=>E("book",R),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${oe("book",R)}`,children:[b.jsx("span",{children:R}),b.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:W("book",R)})]},R))})})]}),b.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[b.jsxs("button",{onClick:()=>A("author"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Author",b.jsx("span",{className:`transform transition-transform duration-300 ${y.author?"":"rotate-180"}`,children:"▼"})]}),b.jsx("div",{className:`overflow-hidden transition-all duration-300 ${y.author?"max-h-0":"max-h-96"}`,children:b.jsx("div",{className:"p-4 pt-0",children:D.map(R=>b.jsxs("button",{onClick:()=>E("author",R),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${oe("author",R)}`,children:[b.jsx("span",{children:R}),b.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:W("author",R)})]},R))})})]}),b.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[b.jsxs("button",{onClick:()=>A("language"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Language",b.jsx("span",{className:`transform transition-transform duration-300 ${y.language?"":"rotate-180"}`,children:"▼"})]}),b.jsx("div",{className:`overflow-hidden transition-all duration-300 ${y.language?"max-h-0":"max-h-96"}`,children:b.jsx("div",{className:"p-4 pt-0",children:L.map(R=>b.jsxs("button",{onClick:()=>E("language",R),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${oe("language",R)}`,children:[b.jsx("span",{children:R}),b.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:W("language",R)})]},R))})})]}),b.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[b.jsxs("button",{onClick:()=>A("type"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Type",b.jsx("span",{className:`transform transition-transform duration-300 ${y.type?"":"rotate-180"}`,children:"▼"})]}),b.jsx("div",{className:`overflow-hidden transition-all duration-300 ${y.type?"max-h-0":"max-h-96"}`,children:b.jsx("div",{className:"p-4 pt-0",children:J.map(R=>b.jsxs("button",{onClick:()=>E("type",R),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${oe("type",R)}`,children:[b.jsx("span",{children:R}),b.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:W("type",R)})]},R))})})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h2",{className:"text-xl font-bold",children:["Results (",o.length,")"]}),b.jsxs("div",{className:"flex gap-2 text-sm",children:[b.jsx("button",{onClick:()=>d("cards"),className:`px-3 py-1 rounded-full font-semibold transition-colors ${c==="cards"?"bg-sky-500 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Cards"}),b.jsx("button",{onClick:()=>d("grid"),className:`px-3 py-1 rounded-full font-semibold transition-colors ${c==="grid"?"bg-sky-500 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Table"})]})]}),o.length===0?b.jsx("p",{className:"text-gray-400 text-center py-8",children:"No songs match your search and filter criteria."}):b.jsx(b.Fragment,{children:c==="cards"?b.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:o.map((R,U)=>b.jsxs("div",{onClick:()=>C(R,U),className:`bg-gray-700 p-4 rounded-xl shadow-md transition-transform hover:scale-105 cursor-pointer border-2 ${R.isAvailable?"border-teal-500":"border-red-500"}`,children:[b.jsx("h3",{className:"text-lg font-bold text-teal-400",children:Array.isArray(R.title)?R.title.join(", "):R.title}),b.jsxs("p",{className:"text-sm text-gray-300",children:[b.jsx("span",{className:"font-semibold",children:"Author:"})," ",Array.isArray(R.author)?R.author.join(", "):R.author]}),b.jsxs("p",{className:"text-sm text-gray-300",children:[b.jsx("span",{className:"font-semibold",children:"Book:"})," ",Array.isArray(R.book)?R.book.join(", "):R.book]}),b.jsxs("p",{className:"text-sm text-gray-300",children:[b.jsx("span",{className:"font-semibold",children:"Category:"})," ",Array.isArray(R.category)?R.category.join(", "):R.category]}),b.jsxs("p",{className:"text-sm text-gray-300",children:[b.jsx("span",{className:"font-semibold",children:"Language:"})," ",Array.isArray(R.language)?R.language.join(", "):R.language]}),b.jsxs("p",{className:"text-sm text-gray-300",children:[b.jsx("span",{className:"font-semibold",children:"Type:"})," ",Array.isArray(R.type)?R.type.join(", "):R.type]})]},U))}):b.jsx("div",{className:"overflow-x-auto rounded-xl",children:b.jsxs("div",{className:"min-w-full",children:[b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-2 p-4 text-sm font-semibold text-gray-400 uppercase tracking-wider bg-gray-700 border-b border-gray-600 rounded-t-xl",children:[b.jsx("span",{children:"Title"}),b.jsx("span",{className:"hidden md:block",children:"Author"}),b.jsx("span",{className:"hidden md:block",children:"Book"}),b.jsx("span",{className:"hidden md:block",children:"Category"}),b.jsx("span",{className:"hidden md:block",children:"Language"}),b.jsx("span",{className:"hidden md:block",children:"Type"})]}),b.jsx("div",{className:"bg-gray-700",children:o.map((R,U)=>b.jsxs("div",{onClick:()=>C(R,U),className:`grid grid-cols-2 md:grid-cols-6 gap-2 p-4 text-sm border-b transition-colors cursor-pointer hover:bg-gray-600 ${R.isAvailable?"border-teal-500":"border-gray-500"}`,children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Title:"}),b.jsx("span",{children:Array.isArray(R.title)?R.title.join(", "):R.title})]}),b.jsxs("div",{className:"hidden md:flex flex-col",children:[b.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Author:"}),b.jsx("span",{children:Array.isArray(R.author)?R.author.join(", "):R.author})]}),b.jsxs("div",{className:"hidden md:flex flex-col",children:[b.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Book:"}),b.jsx("span",{children:Array.isArray(R.book)?R.book.join(", "):R.book})]}),b.jsxs("div",{className:"hidden md:flex flex-col",children:[b.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Category:"}),b.jsx("span",{children:Array.isArray(R.category)?R.category.join(", "):R.category})]}),b.jsxs("div",{className:"hidden md:flex flex-col",children:[b.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Language:"}),b.jsx("span",{children:Array.isArray(R.language)?R.language.join(", "):R.language})]}),b.jsxs("div",{className:"hidden md:flex flex-col",children:[b.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Type:"}),b.jsx("span",{children:Array.isArray(R.type)?R.type.join(", "):R.type})]})]},U))})]})})})]})]})]})})};function Hl(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var GS={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(u,c){if(!s[u]){if(!r[u]){var d=typeof Hl=="function"&&Hl;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=s[u]={exports:{}};r[u][0].call(f.exports,function(v){var m=r[u][1][v];return o(m||v)},f,f.exports,n,r,s,i)}return s[u].exports}for(var a=typeof Hl=="function"&&Hl,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(n,r,s){var i=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var u,c,d,h,f,v,m,w=[],p=0,g=l.length,y=g,x=i.getTypeOf(l)!=="string";p<l.length;)y=g-p,d=x?(u=l[p++],c=p<g?l[p++]:0,p<g?l[p++]:0):(u=l.charCodeAt(p++),c=p<g?l.charCodeAt(p++):0,p<g?l.charCodeAt(p++):0),h=u>>2,f=(3&u)<<4|c>>4,v=1<y?(15&c)<<2|d>>6:64,m=2<y?63&d:64,w.push(a.charAt(h)+a.charAt(f)+a.charAt(v)+a.charAt(m));return w.join("")},s.decode=function(l){var u,c,d,h,f,v,m=0,w=0,p="data:";if(l.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var g,y=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&y--,l.charAt(l.length-2)===a.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=o.uint8array?new Uint8Array(0|y):new Array(0|y);m<l.length;)u=a.indexOf(l.charAt(m++))<<2|(h=a.indexOf(l.charAt(m++)))>>4,c=(15&h)<<4|(f=a.indexOf(l.charAt(m++)))>>2,d=(3&f)<<6|(v=a.indexOf(l.charAt(m++))),g[w++]=u,f!==64&&(g[w++]=c),v!==64&&(g[w++]=d);return g}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,d,h,f,v){this.compressedSize=c,this.uncompressedSize=d,this.crc32=h,this.compression=f,this.compressedContent=v}u.prototype={getContentWorker:function(){var c=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,d,h){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,c,d,h){var f=o,v=h+d;u^=-1;for(var m=h;m<v;m++)u=u>>>8^f[255&(u^c[m])];return-1^u}(0|l,a,a.length,0):function(u,c,d,h){var f=o,v=h+d;u^=-1;for(var m=h;m<v;m++)u=u>>>8^f[255&(u^c.charCodeAt(m))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=i?"uint8array":"array";function c(d,h){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}s.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,d.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},s.compressWorker=function(d){return new c("Deflate",d)},s.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(f,v){var m,w="";for(m=0;m<v;m++)w+=String.fromCharCode(255&f),f>>>=8;return w}function o(f,v,m,w,p,g){var y,x,E=f.file,T=f.compression,C=g!==u.utf8encode,A=a.transformTo("string",g(E.name)),D=a.transformTo("string",u.utf8encode(E.name)),L=E.comment,J=a.transformTo("string",g(L)),O=a.transformTo("string",u.utf8encode(L)),z=D.length!==E.name.length,k=O.length!==L.length,W="",oe="",R="",U=E.dir,F=E.date,H={crc32:0,compressedSize:0,uncompressedSize:0};v&&!m||(H.crc32=f.crc32,H.compressedSize=f.compressedSize,H.uncompressedSize=f.uncompressedSize);var I=0;v&&(I|=8),C||!z&&!k||(I|=2048);var N=0,K=0;U&&(N|=16),p==="UNIX"?(K=798,N|=function(Q,ce){var ge=Q;return Q||(ge=ce?16893:33204),(65535&ge)<<16}(E.unixPermissions,U)):(K=20,N|=function(Q){return 63&(Q||0)}(E.dosPermissions)),y=F.getUTCHours(),y<<=6,y|=F.getUTCMinutes(),y<<=5,y|=F.getUTCSeconds()/2,x=F.getUTCFullYear()-1980,x<<=4,x|=F.getUTCMonth()+1,x<<=5,x|=F.getUTCDate(),z&&(oe=i(1,1)+i(c(A),4)+D,W+="up"+i(oe.length,2)+oe),k&&(R=i(1,1)+i(c(J),4)+O,W+="uc"+i(R.length,2)+R);var Z="";return Z+=`
\0`,Z+=i(I,2),Z+=T.magic,Z+=i(y,2),Z+=i(x,2),Z+=i(H.crc32,4),Z+=i(H.compressedSize,4),Z+=i(H.uncompressedSize,4),Z+=i(A.length,2),Z+=i(W.length,2),{fileRecord:d.LOCAL_FILE_HEADER+Z+A+W,dirRecord:d.CENTRAL_FILE_HEADER+i(K,2)+Z+i(J.length,2)+"\0\0\0\0"+i(N,4)+i(w,4)+A+W+J}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),d=n("../signature");function h(f,v,m,w){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=m,this.encodeFileName=w,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,l),h.prototype.push=function(f){var v=f.meta.percent||0,m=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:m?(v+100*(m-w-1))/m:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var v=this.streamFiles&&!f.file.dir;if(v){var m=o(f,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var v=this.streamFiles&&!f.file.dir,m=o(f,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),v)this.push({data:function(w){return d.DATA_DESCRIPTOR+i(w.crc32,4)+i(w.compressedSize,4)+i(w.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var m=this.bytesWritten-f,w=function(p,g,y,x,E){var T=a.transformTo("string",E(x));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(p,2)+i(p,2)+i(g,4)+i(y,4)+i(T.length,2)+T}(this.dirRecords.length,m,f,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var v=this;return f.on("data",function(m){v.processChunk(m)}),f.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),f.on("error",function(m){v.error(m)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var v=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var m=0;m<v.length;m++)try{v[m].error(f)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,v=0;v<f.length;v++)f[v].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),d=0;try{a.forEach(function(h,f){d++;var v=function(g,y){var x=g||y,E=i[x];if(!E)throw new Error(x+" is not a valid compression method !");return E}(f.options.compression,l.compression),m=f.options.compressionOptions||l.compressionOptions||{},w=f.dir,p=f.date;f._compressWorker(v,m).withStreamInfo("file",{name:h,dir:w,date:p,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(h){c.error(h)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function d(h){return new o.Promise(function(f,v){var m=h.decompressed.getContentWorker().pipe(new u);m.on("error",function(w){v(w)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(h,f){var v=this;return f=i.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(m){var w=new l(f);return w.load(m),w}).then(function(m){var w=[o.Promise.resolve(m)],p=m.files;if(f.checkCRC32)for(var g=0;g<p.length;g++)w.push(d(p[g]));return o.Promise.all(w)}).then(function(m){for(var w=m.shift(),p=w.files,g=0;g<p.length;g++){var y=p[g],x=y.fileNameStr,E=i.resolve(y.fileNameStr);v.file(E,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:f.createFolders}),y.dir||(v.file(E).unsafeOriginalName=x)}return w.zipComment.length&&(v.comment=w.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function o(a,l,u){i.call(this,l),this._helper=a;var c=this;a.on("data",function(d,h){c.push(d)||c._helper.pause(),u&&u(h)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(E,T,C){var A,D=a.getTypeOf(T),L=a.extend(C||{},c);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(E=p(E)),L.createFolders&&(A=w(E))&&g.call(this,A,!0);var J=D==="string"&&L.binary===!1&&L.base64===!1;C&&C.binary!==void 0||(L.binary=!J),(T instanceof d&&T.uncompressedSize===0||L.dir||!T||T.length===0)&&(L.base64=!1,L.binary=!0,T="",L.compression="STORE",D="string");var O=null;O=T instanceof d||T instanceof l?T:v.isNode&&v.isStream(T)?new m(E,T):a.prepareContent(E,T,L.binary,L.optimizedBinaryString,L.base64);var z=new h(E,O,L);this.files[E]=z}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),d=n("./compressedObject"),h=n("./zipObject"),f=n("./generate"),v=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),w=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var T=E.lastIndexOf("/");return 0<T?E.substring(0,T):""},p=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},g=function(E,T){return T=T!==void 0?T:c.createFolders,E=p(E),this.files[E]||i.call(this,E,null,{dir:!0,createFolders:T}),this.files[E]};function y(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var T,C,A;for(T in this.files)A=this.files[T],(C=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&E(C,A)},filter:function(E){var T=[];return this.forEach(function(C,A){E(C,A)&&T.push(A)}),T},file:function(E,T,C){if(arguments.length!==1)return E=this.root+E,i.call(this,E,T,C),this;if(y(E)){var A=E;return this.filter(function(L,J){return!J.dir&&A.test(L)})}var D=this.files[this.root+E];return D&&!D.dir?D:null},folder:function(E){if(!E)return this;if(y(E))return this.filter(function(D,L){return L.dir&&E.test(D)});var T=this.root+E,C=g.call(this,T),A=this.clone();return A.root=C.name,A},remove:function(E){E=this.root+E;var T=this.files[E];if(T||(E.slice(-1)!=="/"&&(E+="/"),T=this.files[E]),T&&!T.dir)delete this.files[E];else for(var C=this.filter(function(D,L){return L.name.slice(0,E.length)===E}),A=0;A<C.length;A++)delete this.files[C[A].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var T,C={};try{if((C=a.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");a.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var A=C.comment||this.comment||"";T=f.generateWorker(this,C,A)}catch(D){(T=new l("error")).error(D)}return new u(T,C.type||"string",C.mimeType)},generateAsync:function(E,T){return this.generateInternalStream(E).accumulate(T)},generateNodeStream:function(E,T){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(T)}};r.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===c&&this.data[h+3]===d)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&c===h[2]&&d===h[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(d){var h=i.getTypeOf(d);return i.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new u(d):o.uint8array?new c(i.transformTo("uint8array",d)):new a(i.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),o=n("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),o=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=i.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),d=null;if(u.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,m){return new c.Promise(function(w,p){var g=[],y=v._internalType,x=v._outputType,E=v._mimeType;v.on("data",function(T,C){g.push(T),m&&m(C)}).on("error",function(T){g=[],p(T)}).on("end",function(){try{var T=function(C,A,D){switch(C){case"blob":return i.newBlob(i.transformTo("arraybuffer",A),D);case"base64":return l.encode(A);default:return i.transformTo(C,A)}}(x,function(C,A){var D,L=0,J=null,O=0;for(D=0;D<A.length;D++)O+=A[D].length;switch(C){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(J=new Uint8Array(O),D=0;D<A.length;D++)J.set(A[D],L),L+=A[D].length;return J;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+C+"'")}}(y,g),E);w(T)}catch(C){p(C)}g=[]}).resume()})}function f(v,m,w){var p=m;switch(m){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=m,this._mimeType=w,i.checkSupport(p),this._worker=v.pipe(new o(p)),v.lock()}catch(g){this._worker=new a("error"),this._worker.error(g)}}f.prototype={accumulate:function(v){return h(this,v)},on:function(v,m){var w=this;return v==="data"?this._worker.on(v,function(p){m.call(w,p.data,p.meta)}):this._worker.on(v,function(){i.delay(m,arguments,w)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}s.utf8encode=function(f){return o.nodebuffer?a.newBufferFrom(f,"utf-8"):function(v){var m,w,p,g,y,x=v.length,E=0;for(g=0;g<x;g++)(64512&(w=v.charCodeAt(g)))==55296&&g+1<x&&(64512&(p=v.charCodeAt(g+1)))==56320&&(w=65536+(w-55296<<10)+(p-56320),g++),E+=w<128?1:w<2048?2:w<65536?3:4;for(m=o.uint8array?new Uint8Array(E):new Array(E),g=y=0;y<E;g++)(64512&(w=v.charCodeAt(g)))==55296&&g+1<x&&(64512&(p=v.charCodeAt(g+1)))==56320&&(w=65536+(w-55296<<10)+(p-56320),g++),w<128?m[y++]=w:(w<2048?m[y++]=192|w>>>6:(w<65536?m[y++]=224|w>>>12:(m[y++]=240|w>>>18,m[y++]=128|w>>>12&63),m[y++]=128|w>>>6&63),m[y++]=128|63&w);return m}(f)},s.utf8decode=function(f){return o.nodebuffer?i.transformTo("nodebuffer",f).toString("utf-8"):function(v){var m,w,p,g,y=v.length,x=new Array(2*y);for(m=w=0;m<y;)if((p=v[m++])<128)x[w++]=p;else if(4<(g=u[p]))x[w++]=65533,m+=g-1;else{for(p&=g===2?31:g===3?15:7;1<g&&m<y;)p=p<<6|63&v[m++],g--;1<g?x[w++]=65533:p<65536?x[w++]=p:(p-=65536,x[w++]=55296|p>>10&1023,x[w++]=56320|1023&p)}return x.length!==w&&(x.subarray?x=x.subarray(0,w):x.length=w),i.applyFromCharCode(x)}(f=i.transformTo(o.uint8array?"uint8array":"array",f))},i.inherits(d,l),d.prototype.processChunk=function(f){var v=i.transformTo(o.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=v;(v=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),v.set(m,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var w=function(g,y){var x;for((y=y||g.length)>g.length&&(y=g.length),x=y-1;0<=x&&(192&g[x])==128;)x--;return x<0||x===0?y:x+u[g[x]]>y?x:y}(v),p=v;w!==v.length&&(o.uint8array?(p=v.subarray(0,w),this.leftOver=v.subarray(w,v.length)):(p=v.slice(0,w),this.leftOver=v.slice(w,v.length))),this.push({data:s.utf8decode(p),meta:f.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=d,i.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:s.utf8encode(f.data),meta:f.meta})},s.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(m){return m}function c(m,w){for(var p=0;p<m.length;++p)w[p]=255&m.charCodeAt(p);return w}n("setimmediate"),s.newBlob=function(m,w){s.checkSupport("blob");try{return new Blob([m],{type:w})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(m),p.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,w,p){var g=[],y=0,x=m.length;if(x<=p)return String.fromCharCode.apply(null,m);for(;y<x;)w==="array"||w==="nodebuffer"?g.push(String.fromCharCode.apply(null,m.slice(y,Math.min(y+p,x)))):g.push(String.fromCharCode.apply(null,m.subarray(y,Math.min(y+p,x)))),y+=p;return g.join("")},stringifyByChar:function(m){for(var w="",p=0;p<m.length;p++)w+=String.fromCharCode(m[p]);return w},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(m){var w=65536,p=s.getTypeOf(m),g=!0;if(p==="uint8array"?g=d.applyCanBeUsed.uint8array:p==="nodebuffer"&&(g=d.applyCanBeUsed.nodebuffer),g)for(;1<w;)try{return d.stringifyByChunk(m,p,w)}catch{w=Math.floor(w/2)}return d.stringifyByChar(m)}function f(m,w){for(var p=0;p<m.length;p++)w[p]=m[p];return w}s.applyFromCharCode=h;var v={};v.string={string:u,array:function(m){return c(m,new Array(m.length))},arraybuffer:function(m){return v.string.uint8array(m).buffer},uint8array:function(m){return c(m,new Uint8Array(m.length))},nodebuffer:function(m){return c(m,a.allocBuffer(m.length))}},v.array={string:h,array:u,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},v.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return f(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:u,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},v.uint8array={string:h,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:u,nodebuffer:function(m){return a.newBufferFrom(m)}},v.nodebuffer={string:h,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return v.nodebuffer.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:u},s.transformTo=function(m,w){if(w=w||"",!m)return w;s.checkSupport(m);var p=s.getTypeOf(w);return v[p][m](w)},s.resolve=function(m){for(var w=m.split("/"),p=[],g=0;g<w.length;g++){var y=w[g];y==="."||y===""&&g!==0&&g!==w.length-1||(y===".."?p.pop():p.push(y))}return p.join("/")},s.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(m){var w,p,g="";for(p=0;p<(m||"").length;p++)g+="\\x"+((w=m.charCodeAt(p))<16?"0":"")+w.toString(16).toUpperCase();return g},s.delay=function(m,w,p){setImmediate(function(){m.apply(p||null,w||[])})},s.inherits=function(m,w){function p(){}p.prototype=w.prototype,m.prototype=new p},s.extend=function(){var m,w,p={};for(m=0;m<arguments.length;m++)for(w in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],w)&&p[w]===void 0&&(p[w]=arguments[m][w]);return p},s.prepareContent=function(m,w,p,g,y){return l.Promise.resolve(w).then(function(x){return i.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,T){var C=new FileReader;C.onload=function(A){E(A.target.result)},C.onerror=function(A){T(A.target.error)},C.readAsArrayBuffer(x)}):x}).then(function(x){var E=s.getTypeOf(x);return E?(E==="arraybuffer"?x=s.transformTo("uint8array",x):E==="string"&&(y?x=o.decode(x):p&&g!==!0&&(x=function(T){return c(T,i.uint8array?new Uint8Array(T.length):new Array(T.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(d)+")")}},isSignature:function(d,h){var f=this.reader.index;this.reader.setIndex(d);var v=this.reader.readString(4)===h;return this.reader.setIndex(f),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",f=o.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,f,v=this.zip64EndOfCentralSize-44;0<v;)d=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var v=h-f;if(0<v)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(d){this.reader=i(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),d=n("./support");function h(f,v){this.options=f,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var v,m;if(f.skip(22),this.fileNameLength=f.readInt(2),m=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(w){for(var p in c)if(Object.prototype.hasOwnProperty.call(c,p)&&c[p].magic===w)return c[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var v=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(v),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var v,m,w,p=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<p;)v=f.readInt(2),m=f.readInt(2),w=f.readData(m),this.extraFields[v]={id:v,length:m,value:w};f.setIndex(p)},handleUTF8:function(){var f=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var m=o.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var p=o.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var v=i(f.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var v=i(f.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(f.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(v,m,w){this.name=v,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=m,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");i.prototype={internalStream:function(v){var m=null,w="string";try{if(!v)throw new Error("No output type specified.");var p=(w=v.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),m=this._decompressWorker();var g=!this._dataBinary;g&&!p&&(m=m.pipe(new l.Utf8EncodeWorker)),!g&&p&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(y){(m=new c("error")).error(y)}return new o(m,w,"")},async:function(v,m){return this.internalStream(v).accumulate(m)},nodeStream:function(v,m){return this.internalStream(v||"nodebuffer").toNodejsStream(m)},_compressWorker:function(v,m){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(w,v,m)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<d.length;f++)i.prototype[d[f]]=h;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var o,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var u=0,c=new l(v),d=i.document.createTextNode("");c.observe(d,{characterData:!0}),o=function(){d.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){v(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(v,0)};else{var h=new i.MessageChannel;h.port1.onmessage=v,o=function(){h.port2.postMessage(0)}}var f=[];function v(){var m,w;a=!0;for(var p=f.length;p;){for(w=f,f=[],m=-1;++m<p;)w[m]();p=f.length}a=!1}r.exports=function(m){f.push(m)!==1||a||o()}}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function d(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,p!==o&&m(this,p)}function h(p,g,y){this.promise=p,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function f(p,g,y){i(function(){var x;try{x=g(y)}catch(E){return a.reject(p,E)}x===p?a.reject(p,new TypeError("Cannot resolve promise with itself")):a.resolve(p,x)})}function v(p){var g=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof g=="function")return function(){g.apply(p,arguments)}}function m(p,g){var y=!1;function x(C){y||(y=!0,a.reject(p,C))}function E(C){y||(y=!0,a.resolve(p,C))}var T=w(function(){g(E,x)});T.status==="error"&&x(T.value)}function w(p,g){var y={};try{y.value=p(g),y.status="success"}catch(x){y.status="error",y.value=x}return y}(r.exports=d).prototype.finally=function(p){if(typeof p!="function")return this;var g=this.constructor;return this.then(function(y){return g.resolve(p()).then(function(){return y})},function(y){return g.resolve(p()).then(function(){throw y})})},d.prototype.catch=function(p){return this.then(null,p)},d.prototype.then=function(p,g){if(typeof p!="function"&&this.state===u||typeof g!="function"&&this.state===l)return this;var y=new this.constructor(o);return this.state!==c?f(y,this.state===u?p:g,this.outcome):this.queue.push(new h(y,p,g)),y},h.prototype.callFulfilled=function(p){a.resolve(this.promise,p)},h.prototype.otherCallFulfilled=function(p){f(this.promise,this.onFulfilled,p)},h.prototype.callRejected=function(p){a.reject(this.promise,p)},h.prototype.otherCallRejected=function(p){f(this.promise,this.onRejected,p)},a.resolve=function(p,g){var y=w(v,g);if(y.status==="error")return a.reject(p,y.value);var x=y.value;if(x)m(p,x);else{p.state=u,p.outcome=g;for(var E=-1,T=p.queue.length;++E<T;)p.queue[E].callFulfilled(g)}return p},a.reject=function(p,g){p.state=l,p.outcome=g;for(var y=-1,x=p.queue.length;++y<x;)p.queue[y].callRejected(g);return p},d.resolve=function(p){return p instanceof this?p:a.resolve(new this(o),p)},d.reject=function(p){var g=new this(o);return a.reject(g,p)},d.all=function(p){var g=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=p.length,x=!1;if(!y)return this.resolve([]);for(var E=new Array(y),T=0,C=-1,A=new this(o);++C<y;)D(p[C],C);return A;function D(L,J){g.resolve(L).then(function(O){E[J]=O,++T!==y||x||(x=!0,a.resolve(A,E))},function(O){x||(x=!0,a.reject(A,O))})}},d.race=function(p){var g=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=p.length,x=!1;if(!y)return this.resolve([]);for(var E=-1,T=new this(o);++E<y;)C=p[E],g.resolve(C).then(function(A){x||(x=!0,a.resolve(T,A))},function(A){x||(x=!0,a.reject(T,A))});var C;return T}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,d=0,h=-1,f=0,v=8;function m(p){if(!(this instanceof m))return new m(p);this.options=o.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},p||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=i.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(y!==d)throw new Error(l[y]);if(g.header&&i.deflateSetHeader(this.strm,g.header),g.dictionary){var x;if(x=typeof g.dictionary=="string"?a.string2buf(g.dictionary):c.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(y=i.deflateSetDictionary(this.strm,x))!==d)throw new Error(l[y]);this._dict_set=!0}}function w(p,g){var y=new m(g);if(y.push(p,!0),y.err)throw y.msg||l[y.err];return y.result}m.prototype.push=function(p,g){var y,x,E=this.strm,T=this.options.chunkSize;if(this.ended)return!1;x=g===~~g?g:g===!0?4:0,typeof p=="string"?E.input=a.string2buf(p):c.call(p)==="[object ArrayBuffer]"?E.input=new Uint8Array(p):E.input=p,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(T),E.next_out=0,E.avail_out=T),(y=i.deflate(E,x))!==1&&y!==d)return this.onEnd(y),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(E.output,E.next_out))):this.onData(o.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&y!==1);return x===4?(y=i.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===d):x!==2||(this.onEnd(d),!(E.avail_out=0))},m.prototype.onData=function(p){this.chunks.push(p)},m.prototype.onEnd=function(p){p===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},s.Deflate=m,s.deflate=w,s.deflateRaw=function(p,g){return(g=g||{}).raw=!0,w(p,g)},s.gzip=function(p,g){return(g=g||{}).gzip=!0,w(p,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),d=n("./zlib/gzheader"),h=Object.prototype.toString;function f(m){if(!(this instanceof f))return new f(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||m&&m.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var p=i.inflateInit2(this.strm,w.windowBits);if(p!==l.Z_OK)throw new Error(u[p]);this.header=new d,i.inflateGetHeader(this.strm,this.header)}function v(m,w){var p=new f(w);if(p.push(m,!0),p.err)throw p.msg||u[p.err];return p.result}f.prototype.push=function(m,w){var p,g,y,x,E,T,C=this.strm,A=this.options.chunkSize,D=this.options.dictionary,L=!1;if(this.ended)return!1;g=w===~~w?w:w===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?C.input=a.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?C.input=new Uint8Array(m):C.input=m,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(A),C.next_out=0,C.avail_out=A),(p=i.inflate(C,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&D&&(T=typeof D=="string"?a.string2buf(D):h.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,p=i.inflateSetDictionary(this.strm,T)),p===l.Z_BUF_ERROR&&L===!0&&(p=l.Z_OK,L=!1),p!==l.Z_STREAM_END&&p!==l.Z_OK)return this.onEnd(p),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&p!==l.Z_STREAM_END&&(C.avail_in!==0||g!==l.Z_FINISH&&g!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=a.utf8border(C.output,C.next_out),x=C.next_out-y,E=a.buf2string(C.output,y),C.next_out=x,C.avail_out=A-x,x&&o.arraySet(C.output,C.output,y,x,0),this.onData(E)):this.onData(o.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(L=!0)}while((0<C.avail_in||C.avail_out===0)&&p!==l.Z_STREAM_END);return p===l.Z_STREAM_END&&(g=l.Z_FINISH),g===l.Z_FINISH?(p=i.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===l.Z_OK):g!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(C.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},s.Inflate=f,s.inflate=v,s.inflateRaw=function(m,w){return(w=w||{}).raw=!0,v(m,w)},s.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])}}return l},s.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,d,h){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+d),h);else for(var f=0;f<d;f++)l[h+f]=u[c+f]},flattenChunks:function(l){var u,c,d,h,f,v;for(u=d=0,c=l.length;u<c;u++)d+=l[u].length;for(v=new Uint8Array(d),u=h=0,c=l.length;u<c;u++)f=l[u],v.set(f,h),h+=f.length;return v}},a={arraySet:function(l,u,c,d,h){for(var f=0;f<d;f++)l[h+f]=u[c+f]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(d,h){if(h<65537&&(d.subarray&&a||!d.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(d,h));for(var f="",v=0;v<h;v++)f+=String.fromCharCode(d[v]);return f}l[254]=l[254]=1,s.string2buf=function(d){var h,f,v,m,w,p=d.length,g=0;for(m=0;m<p;m++)(64512&(f=d.charCodeAt(m)))==55296&&m+1<p&&(64512&(v=d.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(v-56320),m++),g+=f<128?1:f<2048?2:f<65536?3:4;for(h=new i.Buf8(g),m=w=0;w<g;m++)(64512&(f=d.charCodeAt(m)))==55296&&m+1<p&&(64512&(v=d.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(v-56320),m++),f<128?h[w++]=f:(f<2048?h[w++]=192|f>>>6:(f<65536?h[w++]=224|f>>>12:(h[w++]=240|f>>>18,h[w++]=128|f>>>12&63),h[w++]=128|f>>>6&63),h[w++]=128|63&f);return h},s.buf2binstring=function(d){return c(d,d.length)},s.binstring2buf=function(d){for(var h=new i.Buf8(d.length),f=0,v=h.length;f<v;f++)h[f]=d.charCodeAt(f);return h},s.buf2string=function(d,h){var f,v,m,w,p=h||d.length,g=new Array(2*p);for(f=v=0;f<p;)if((m=d[f++])<128)g[v++]=m;else if(4<(w=l[m]))g[v++]=65533,f+=w-1;else{for(m&=w===2?31:w===3?15:7;1<w&&f<p;)m=m<<6|63&d[f++],w--;1<w?g[v++]=65533:m<65536?g[v++]=m:(m-=65536,g[v++]=55296|m>>10&1023,g[v++]=56320|1023&m)}return c(g,v)},s.utf8border=function(d,h){var f;for((h=h||d.length)>d.length&&(h=d.length),f=h-1;0<=f&&(192&d[f])==128;)f--;return f<0||f===0?h:f+l[d[f]]>h?f:h}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,o,a,l){for(var u=65535&i|0,c=i>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--d;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var c=i,d=u+l;o^=-1;for(var h=u;h<d;h++)o=o>>>8^c[255&(o^a[h])];return-1^o}},{}],46:[function(n,r,s){var i,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),d=0,h=4,f=0,v=-2,m=-1,w=4,p=2,g=8,y=9,x=286,E=30,T=19,C=2*x+1,A=15,D=3,L=258,J=L+D+1,O=42,z=113,k=1,W=2,oe=3,R=4;function U(S,q){return S.msg=c[q],q}function F(S){return(S<<1)-(4<S?9:0)}function H(S){for(var q=S.length;0<=--q;)S[q]=0}function I(S){var q=S.state,V=q.pending;V>S.avail_out&&(V=S.avail_out),V!==0&&(o.arraySet(S.output,q.pending_buf,q.pending_out,V,S.next_out),S.next_out+=V,q.pending_out+=V,S.total_out+=V,S.avail_out-=V,q.pending-=V,q.pending===0&&(q.pending_out=0))}function N(S,q){a._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,q),S.block_start=S.strstart,I(S.strm)}function K(S,q){S.pending_buf[S.pending++]=q}function Z(S,q){S.pending_buf[S.pending++]=q>>>8&255,S.pending_buf[S.pending++]=255&q}function Q(S,q){var V,j,P=S.max_chain_length,M=S.strstart,G=S.prev_length,Y=S.nice_match,B=S.strstart>S.w_size-J?S.strstart-(S.w_size-J):0,ee=S.window,ne=S.w_mask,te=S.prev,le=S.strstart+L,Ee=ee[M+G-1],ve=ee[M+G];S.prev_length>=S.good_match&&(P>>=2),Y>S.lookahead&&(Y=S.lookahead);do if(ee[(V=q)+G]===ve&&ee[V+G-1]===Ee&&ee[V]===ee[M]&&ee[++V]===ee[M+1]){M+=2,V++;do;while(ee[++M]===ee[++V]&&ee[++M]===ee[++V]&&ee[++M]===ee[++V]&&ee[++M]===ee[++V]&&ee[++M]===ee[++V]&&ee[++M]===ee[++V]&&ee[++M]===ee[++V]&&ee[++M]===ee[++V]&&M<le);if(j=L-(le-M),M=le-L,G<j){if(S.match_start=q,Y<=(G=j))break;Ee=ee[M+G-1],ve=ee[M+G]}}while((q=te[q&ne])>B&&--P!=0);return G<=S.lookahead?G:S.lookahead}function ce(S){var q,V,j,P,M,G,Y,B,ee,ne,te=S.w_size;do{if(P=S.window_size-S.lookahead-S.strstart,S.strstart>=te+(te-J)){for(o.arraySet(S.window,S.window,te,te,0),S.match_start-=te,S.strstart-=te,S.block_start-=te,q=V=S.hash_size;j=S.head[--q],S.head[q]=te<=j?j-te:0,--V;);for(q=V=te;j=S.prev[--q],S.prev[q]=te<=j?j-te:0,--V;);P+=te}if(S.strm.avail_in===0)break;if(G=S.strm,Y=S.window,B=S.strstart+S.lookahead,ee=P,ne=void 0,ne=G.avail_in,ee<ne&&(ne=ee),V=ne===0?0:(G.avail_in-=ne,o.arraySet(Y,G.input,G.next_in,ne,B),G.state.wrap===1?G.adler=l(G.adler,Y,ne,B):G.state.wrap===2&&(G.adler=u(G.adler,Y,ne,B)),G.next_in+=ne,G.total_in+=ne,ne),S.lookahead+=V,S.lookahead+S.insert>=D)for(M=S.strstart-S.insert,S.ins_h=S.window[M],S.ins_h=(S.ins_h<<S.hash_shift^S.window[M+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[M+D-1])&S.hash_mask,S.prev[M&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=M,M++,S.insert--,!(S.lookahead+S.insert<D)););}while(S.lookahead<J&&S.strm.avail_in!==0)}function ge(S,q){for(var V,j;;){if(S.lookahead<J){if(ce(S),S.lookahead<J&&q===d)return k;if(S.lookahead===0)break}if(V=0,S.lookahead>=D&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+D-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),V!==0&&S.strstart-V<=S.w_size-J&&(S.match_length=Q(S,V)),S.match_length>=D)if(j=a._tr_tally(S,S.strstart-S.match_start,S.match_length-D),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=D){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+D-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else j=a._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(j&&(N(S,!1),S.strm.avail_out===0))return k}return S.insert=S.strstart<D-1?S.strstart:D-1,q===h?(N(S,!0),S.strm.avail_out===0?oe:R):S.last_lit&&(N(S,!1),S.strm.avail_out===0)?k:W}function re(S,q){for(var V,j,P;;){if(S.lookahead<J){if(ce(S),S.lookahead<J&&q===d)return k;if(S.lookahead===0)break}if(V=0,S.lookahead>=D&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+D-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=D-1,V!==0&&S.prev_length<S.max_lazy_match&&S.strstart-V<=S.w_size-J&&(S.match_length=Q(S,V),S.match_length<=5&&(S.strategy===1||S.match_length===D&&4096<S.strstart-S.match_start)&&(S.match_length=D-1)),S.prev_length>=D&&S.match_length<=S.prev_length){for(P=S.strstart+S.lookahead-D,j=a._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-D),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=P&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+D-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=D-1,S.strstart++,j&&(N(S,!1),S.strm.avail_out===0))return k}else if(S.match_available){if((j=a._tr_tally(S,0,S.window[S.strstart-1]))&&N(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return k}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(j=a._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<D-1?S.strstart:D-1,q===h?(N(S,!0),S.strm.avail_out===0?oe:R):S.last_lit&&(N(S,!1),S.strm.avail_out===0)?k:W}function ye(S,q,V,j,P){this.good_length=S,this.max_lazy=q,this.nice_length=V,this.max_chain=j,this.func=P}function Le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*C),this.dyn_dtree=new o.Buf16(2*(2*E+1)),this.bl_tree=new o.Buf16(2*(2*T+1)),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(A+1),this.heap=new o.Buf16(2*x+1),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Se(S){var q;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=p,(q=S.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?O:z,S.adler=q.wrap===2?0:1,q.last_flush=d,a._tr_init(q),f):U(S,v)}function Jt(S){var q=Se(S);return q===f&&function(V){V.window_size=2*V.w_size,H(V.head),V.max_lazy_match=i[V.level].max_lazy,V.good_match=i[V.level].good_length,V.nice_match=i[V.level].nice_length,V.max_chain_length=i[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=D-1,V.match_available=0,V.ins_h=0}(S.state),q}function Ut(S,q,V,j,P,M){if(!S)return v;var G=1;if(q===m&&(q=6),j<0?(G=0,j=-j):15<j&&(G=2,j-=16),P<1||y<P||V!==g||j<8||15<j||q<0||9<q||M<0||w<M)return U(S,v);j===8&&(j=9);var Y=new Le;return(S.state=Y).strm=S,Y.wrap=G,Y.gzhead=null,Y.w_bits=j,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=P+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+D-1)/D),Y.window=new o.Buf8(2*Y.w_size),Y.head=new o.Buf16(Y.hash_size),Y.prev=new o.Buf16(Y.w_size),Y.lit_bufsize=1<<P+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new o.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=q,Y.strategy=M,Y.method=V,Jt(S)}i=[new ye(0,0,0,0,function(S,q){var V=65535;for(V>S.pending_buf_size-5&&(V=S.pending_buf_size-5);;){if(S.lookahead<=1){if(ce(S),S.lookahead===0&&q===d)return k;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var j=S.block_start+V;if((S.strstart===0||S.strstart>=j)&&(S.lookahead=S.strstart-j,S.strstart=j,N(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-J&&(N(S,!1),S.strm.avail_out===0))return k}return S.insert=0,q===h?(N(S,!0),S.strm.avail_out===0?oe:R):(S.strstart>S.block_start&&(N(S,!1),S.strm.avail_out),k)}),new ye(4,4,8,4,ge),new ye(4,5,16,8,ge),new ye(4,6,32,32,ge),new ye(4,4,16,16,re),new ye(8,16,32,32,re),new ye(8,16,128,128,re),new ye(8,32,128,256,re),new ye(32,128,258,1024,re),new ye(32,258,258,4096,re)],s.deflateInit=function(S,q){return Ut(S,q,g,15,8,0)},s.deflateInit2=Ut,s.deflateReset=Jt,s.deflateResetKeep=Se,s.deflateSetHeader=function(S,q){return S&&S.state?S.state.wrap!==2?v:(S.state.gzhead=q,f):v},s.deflate=function(S,q){var V,j,P,M;if(!S||!S.state||5<q||q<0)return S?U(S,v):v;if(j=S.state,!S.output||!S.input&&S.avail_in!==0||j.status===666&&q!==h)return U(S,S.avail_out===0?-5:v);if(j.strm=S,V=j.last_flush,j.last_flush=q,j.status===O)if(j.wrap===2)S.adler=0,K(j,31),K(j,139),K(j,8),j.gzhead?(K(j,(j.gzhead.text?1:0)+(j.gzhead.hcrc?2:0)+(j.gzhead.extra?4:0)+(j.gzhead.name?8:0)+(j.gzhead.comment?16:0)),K(j,255&j.gzhead.time),K(j,j.gzhead.time>>8&255),K(j,j.gzhead.time>>16&255),K(j,j.gzhead.time>>24&255),K(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),K(j,255&j.gzhead.os),j.gzhead.extra&&j.gzhead.extra.length&&(K(j,255&j.gzhead.extra.length),K(j,j.gzhead.extra.length>>8&255)),j.gzhead.hcrc&&(S.adler=u(S.adler,j.pending_buf,j.pending,0)),j.gzindex=0,j.status=69):(K(j,0),K(j,0),K(j,0),K(j,0),K(j,0),K(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),K(j,3),j.status=z);else{var G=g+(j.w_bits-8<<4)<<8;G|=(2<=j.strategy||j.level<2?0:j.level<6?1:j.level===6?2:3)<<6,j.strstart!==0&&(G|=32),G+=31-G%31,j.status=z,Z(j,G),j.strstart!==0&&(Z(j,S.adler>>>16),Z(j,65535&S.adler)),S.adler=1}if(j.status===69)if(j.gzhead.extra){for(P=j.pending;j.gzindex<(65535&j.gzhead.extra.length)&&(j.pending!==j.pending_buf_size||(j.gzhead.hcrc&&j.pending>P&&(S.adler=u(S.adler,j.pending_buf,j.pending-P,P)),I(S),P=j.pending,j.pending!==j.pending_buf_size));)K(j,255&j.gzhead.extra[j.gzindex]),j.gzindex++;j.gzhead.hcrc&&j.pending>P&&(S.adler=u(S.adler,j.pending_buf,j.pending-P,P)),j.gzindex===j.gzhead.extra.length&&(j.gzindex=0,j.status=73)}else j.status=73;if(j.status===73)if(j.gzhead.name){P=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>P&&(S.adler=u(S.adler,j.pending_buf,j.pending-P,P)),I(S),P=j.pending,j.pending===j.pending_buf_size)){M=1;break}M=j.gzindex<j.gzhead.name.length?255&j.gzhead.name.charCodeAt(j.gzindex++):0,K(j,M)}while(M!==0);j.gzhead.hcrc&&j.pending>P&&(S.adler=u(S.adler,j.pending_buf,j.pending-P,P)),M===0&&(j.gzindex=0,j.status=91)}else j.status=91;if(j.status===91)if(j.gzhead.comment){P=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>P&&(S.adler=u(S.adler,j.pending_buf,j.pending-P,P)),I(S),P=j.pending,j.pending===j.pending_buf_size)){M=1;break}M=j.gzindex<j.gzhead.comment.length?255&j.gzhead.comment.charCodeAt(j.gzindex++):0,K(j,M)}while(M!==0);j.gzhead.hcrc&&j.pending>P&&(S.adler=u(S.adler,j.pending_buf,j.pending-P,P)),M===0&&(j.status=103)}else j.status=103;if(j.status===103&&(j.gzhead.hcrc?(j.pending+2>j.pending_buf_size&&I(S),j.pending+2<=j.pending_buf_size&&(K(j,255&S.adler),K(j,S.adler>>8&255),S.adler=0,j.status=z)):j.status=z),j.pending!==0){if(I(S),S.avail_out===0)return j.last_flush=-1,f}else if(S.avail_in===0&&F(q)<=F(V)&&q!==h)return U(S,-5);if(j.status===666&&S.avail_in!==0)return U(S,-5);if(S.avail_in!==0||j.lookahead!==0||q!==d&&j.status!==666){var Y=j.strategy===2?function(B,ee){for(var ne;;){if(B.lookahead===0&&(ce(B),B.lookahead===0)){if(ee===d)return k;break}if(B.match_length=0,ne=a._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,ne&&(N(B,!1),B.strm.avail_out===0))return k}return B.insert=0,ee===h?(N(B,!0),B.strm.avail_out===0?oe:R):B.last_lit&&(N(B,!1),B.strm.avail_out===0)?k:W}(j,q):j.strategy===3?function(B,ee){for(var ne,te,le,Ee,ve=B.window;;){if(B.lookahead<=L){if(ce(B),B.lookahead<=L&&ee===d)return k;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=D&&0<B.strstart&&(te=ve[le=B.strstart-1])===ve[++le]&&te===ve[++le]&&te===ve[++le]){Ee=B.strstart+L;do;while(te===ve[++le]&&te===ve[++le]&&te===ve[++le]&&te===ve[++le]&&te===ve[++le]&&te===ve[++le]&&te===ve[++le]&&te===ve[++le]&&le<Ee);B.match_length=L-(Ee-le),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=D?(ne=a._tr_tally(B,1,B.match_length-D),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(ne=a._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),ne&&(N(B,!1),B.strm.avail_out===0))return k}return B.insert=0,ee===h?(N(B,!0),B.strm.avail_out===0?oe:R):B.last_lit&&(N(B,!1),B.strm.avail_out===0)?k:W}(j,q):i[j.level].func(j,q);if(Y!==oe&&Y!==R||(j.status=666),Y===k||Y===oe)return S.avail_out===0&&(j.last_flush=-1),f;if(Y===W&&(q===1?a._tr_align(j):q!==5&&(a._tr_stored_block(j,0,0,!1),q===3&&(H(j.head),j.lookahead===0&&(j.strstart=0,j.block_start=0,j.insert=0))),I(S),S.avail_out===0))return j.last_flush=-1,f}return q!==h?f:j.wrap<=0?1:(j.wrap===2?(K(j,255&S.adler),K(j,S.adler>>8&255),K(j,S.adler>>16&255),K(j,S.adler>>24&255),K(j,255&S.total_in),K(j,S.total_in>>8&255),K(j,S.total_in>>16&255),K(j,S.total_in>>24&255)):(Z(j,S.adler>>>16),Z(j,65535&S.adler)),I(S),0<j.wrap&&(j.wrap=-j.wrap),j.pending!==0?f:1)},s.deflateEnd=function(S){var q;return S&&S.state?(q=S.state.status)!==O&&q!==69&&q!==73&&q!==91&&q!==103&&q!==z&&q!==666?U(S,v):(S.state=null,q===z?U(S,-3):f):v},s.deflateSetDictionary=function(S,q){var V,j,P,M,G,Y,B,ee,ne=q.length;if(!S||!S.state||(M=(V=S.state).wrap)===2||M===1&&V.status!==O||V.lookahead)return v;for(M===1&&(S.adler=l(S.adler,q,ne,0)),V.wrap=0,ne>=V.w_size&&(M===0&&(H(V.head),V.strstart=0,V.block_start=0,V.insert=0),ee=new o.Buf8(V.w_size),o.arraySet(ee,q,ne-V.w_size,V.w_size,0),q=ee,ne=V.w_size),G=S.avail_in,Y=S.next_in,B=S.input,S.avail_in=ne,S.next_in=0,S.input=q,ce(V);V.lookahead>=D;){for(j=V.strstart,P=V.lookahead-(D-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[j+D-1])&V.hash_mask,V.prev[j&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=j,j++,--P;);V.strstart=j,V.lookahead=D-1,ce(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=D-1,V.match_available=0,S.next_in=Y,S.input=B,S.avail_in=G,V.wrap=M,f},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,o){var a,l,u,c,d,h,f,v,m,w,p,g,y,x,E,T,C,A,D,L,J,O,z,k,W;a=i.state,l=i.next_in,k=i.input,u=l+(i.avail_in-5),c=i.next_out,W=i.output,d=c-(o-i.avail_out),h=c+(i.avail_out-257),f=a.dmax,v=a.wsize,m=a.whave,w=a.wnext,p=a.window,g=a.hold,y=a.bits,x=a.lencode,E=a.distcode,T=(1<<a.lenbits)-1,C=(1<<a.distbits)-1;e:do{y<15&&(g+=k[l++]<<y,y+=8,g+=k[l++]<<y,y+=8),A=x[g&T];t:for(;;){if(g>>>=D=A>>>24,y-=D,(D=A>>>16&255)===0)W[c++]=65535&A;else{if(!(16&D)){if(!(64&D)){A=x[(65535&A)+(g&(1<<D)-1)];continue t}if(32&D){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}L=65535&A,(D&=15)&&(y<D&&(g+=k[l++]<<y,y+=8),L+=g&(1<<D)-1,g>>>=D,y-=D),y<15&&(g+=k[l++]<<y,y+=8,g+=k[l++]<<y,y+=8),A=E[g&C];n:for(;;){if(g>>>=D=A>>>24,y-=D,!(16&(D=A>>>16&255))){if(!(64&D)){A=E[(65535&A)+(g&(1<<D)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(J=65535&A,y<(D&=15)&&(g+=k[l++]<<y,(y+=8)<D&&(g+=k[l++]<<y,y+=8)),f<(J+=g&(1<<D)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(g>>>=D,y-=D,(D=c-d)<J){if(m<(D=J-D)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(z=p,(O=0)===w){if(O+=v-D,D<L){for(L-=D;W[c++]=p[O++],--D;);O=c-J,z=W}}else if(w<D){if(O+=v+w-D,(D-=w)<L){for(L-=D;W[c++]=p[O++],--D;);if(O=0,w<L){for(L-=D=w;W[c++]=p[O++],--D;);O=c-J,z=W}}}else if(O+=w-D,D<L){for(L-=D;W[c++]=p[O++],--D;);O=c-J,z=W}for(;2<L;)W[c++]=z[O++],W[c++]=z[O++],W[c++]=z[O++],L-=3;L&&(W[c++]=z[O++],1<L&&(W[c++]=z[O++]))}else{for(O=c-J;W[c++]=W[O++],W[c++]=W[O++],W[c++]=W[O++],2<(L-=3););L&&(W[c++]=W[O++],1<L&&(W[c++]=W[O++]))}break}}break}}while(l<u&&c<h);l-=L=y>>3,g&=(1<<(y-=L<<3))-1,i.next_in=l,i.next_out=c,i.avail_in=l<u?u-l+5:5-(l-u),i.avail_out=c<h?h-c+257:257-(c-h),a.hold=g,a.bits=y}},{}],49:[function(n,r,s){var i=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,d=2,h=0,f=-2,v=1,m=852,w=592;function p(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(O){var z;return O&&O.state?(z=O.state,O.total_in=O.total_out=z.total=0,O.msg="",z.wrap&&(O.adler=1&z.wrap),z.mode=v,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new i.Buf32(m),z.distcode=z.distdyn=new i.Buf32(w),z.sane=1,z.back=-1,h):f}function x(O){var z;return O&&O.state?((z=O.state).wsize=0,z.whave=0,z.wnext=0,y(O)):f}function E(O,z){var k,W;return O&&O.state?(W=O.state,z<0?(k=0,z=-z):(k=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?f:(W.window!==null&&W.wbits!==z&&(W.window=null),W.wrap=k,W.wbits=z,x(O))):f}function T(O,z){var k,W;return O?(W=new g,(O.state=W).window=null,(k=E(O,z))!==h&&(O.state=null),k):f}var C,A,D=!0;function L(O){if(D){var z;for(C=new i.Buf32(512),A=new i.Buf32(32),z=0;z<144;)O.lens[z++]=8;for(;z<256;)O.lens[z++]=9;for(;z<280;)O.lens[z++]=7;for(;z<288;)O.lens[z++]=8;for(u(c,O.lens,0,288,C,0,O.work,{bits:9}),z=0;z<32;)O.lens[z++]=5;u(d,O.lens,0,32,A,0,O.work,{bits:5}),D=!1}O.lencode=C,O.lenbits=9,O.distcode=A,O.distbits=5}function J(O,z,k,W){var oe,R=O.state;return R.window===null&&(R.wsize=1<<R.wbits,R.wnext=0,R.whave=0,R.window=new i.Buf8(R.wsize)),W>=R.wsize?(i.arraySet(R.window,z,k-R.wsize,R.wsize,0),R.wnext=0,R.whave=R.wsize):(W<(oe=R.wsize-R.wnext)&&(oe=W),i.arraySet(R.window,z,k-W,oe,R.wnext),(W-=oe)?(i.arraySet(R.window,z,k-W,W,0),R.wnext=W,R.whave=R.wsize):(R.wnext+=oe,R.wnext===R.wsize&&(R.wnext=0),R.whave<R.wsize&&(R.whave+=oe))),0}s.inflateReset=x,s.inflateReset2=E,s.inflateResetKeep=y,s.inflateInit=function(O){return T(O,15)},s.inflateInit2=T,s.inflate=function(O,z){var k,W,oe,R,U,F,H,I,N,K,Z,Q,ce,ge,re,ye,Le,Se,Jt,Ut,S,q,V,j,P=0,M=new i.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return f;(k=O.state).mode===12&&(k.mode=13),U=O.next_out,oe=O.output,H=O.avail_out,R=O.next_in,W=O.input,F=O.avail_in,I=k.hold,N=k.bits,K=F,Z=H,q=h;e:for(;;)switch(k.mode){case v:if(k.wrap===0){k.mode=13;break}for(;N<16;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}if(2&k.wrap&&I===35615){M[k.check=0]=255&I,M[1]=I>>>8&255,k.check=a(k.check,M,2,0),N=I=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&I)<<8)+(I>>8))%31){O.msg="incorrect header check",k.mode=30;break}if((15&I)!=8){O.msg="unknown compression method",k.mode=30;break}if(N-=4,S=8+(15&(I>>>=4)),k.wbits===0)k.wbits=S;else if(S>k.wbits){O.msg="invalid window size",k.mode=30;break}k.dmax=1<<S,O.adler=k.check=1,k.mode=512&I?10:12,N=I=0;break;case 2:for(;N<16;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}if(k.flags=I,(255&k.flags)!=8){O.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){O.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=I>>8&1),512&k.flags&&(M[0]=255&I,M[1]=I>>>8&255,k.check=a(k.check,M,2,0)),N=I=0,k.mode=3;case 3:for(;N<32;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}k.head&&(k.head.time=I),512&k.flags&&(M[0]=255&I,M[1]=I>>>8&255,M[2]=I>>>16&255,M[3]=I>>>24&255,k.check=a(k.check,M,4,0)),N=I=0,k.mode=4;case 4:for(;N<16;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}k.head&&(k.head.xflags=255&I,k.head.os=I>>8),512&k.flags&&(M[0]=255&I,M[1]=I>>>8&255,k.check=a(k.check,M,2,0)),N=I=0,k.mode=5;case 5:if(1024&k.flags){for(;N<16;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}k.length=I,k.head&&(k.head.extra_len=I),512&k.flags&&(M[0]=255&I,M[1]=I>>>8&255,k.check=a(k.check,M,2,0)),N=I=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(F<(Q=k.length)&&(Q=F),Q&&(k.head&&(S=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),i.arraySet(k.head.extra,W,R,Q,S)),512&k.flags&&(k.check=a(k.check,W,Q,R)),F-=Q,R+=Q,k.length-=Q),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(F===0)break e;for(Q=0;S=W[R+Q++],k.head&&S&&k.length<65536&&(k.head.name+=String.fromCharCode(S)),S&&Q<F;);if(512&k.flags&&(k.check=a(k.check,W,Q,R)),F-=Q,R+=Q,S)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(F===0)break e;for(Q=0;S=W[R+Q++],k.head&&S&&k.length<65536&&(k.head.comment+=String.fromCharCode(S)),S&&Q<F;);if(512&k.flags&&(k.check=a(k.check,W,Q,R)),F-=Q,R+=Q,S)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;N<16;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}if(I!==(65535&k.check)){O.msg="header crc mismatch",k.mode=30;break}N=I=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),O.adler=k.check=0,k.mode=12;break;case 10:for(;N<32;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}O.adler=k.check=p(I),N=I=0,k.mode=11;case 11:if(k.havedict===0)return O.next_out=U,O.avail_out=H,O.next_in=R,O.avail_in=F,k.hold=I,k.bits=N,2;O.adler=k.check=1,k.mode=12;case 12:if(z===5||z===6)break e;case 13:if(k.last){I>>>=7&N,N-=7&N,k.mode=27;break}for(;N<3;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}switch(k.last=1&I,N-=1,3&(I>>>=1)){case 0:k.mode=14;break;case 1:if(L(k),k.mode=20,z!==6)break;I>>>=2,N-=2;break e;case 2:k.mode=17;break;case 3:O.msg="invalid block type",k.mode=30}I>>>=2,N-=2;break;case 14:for(I>>>=7&N,N-=7&N;N<32;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}if((65535&I)!=(I>>>16^65535)){O.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&I,N=I=0,k.mode=15,z===6)break e;case 15:k.mode=16;case 16:if(Q=k.length){if(F<Q&&(Q=F),H<Q&&(Q=H),Q===0)break e;i.arraySet(oe,W,R,Q,U),F-=Q,R+=Q,H-=Q,U+=Q,k.length-=Q;break}k.mode=12;break;case 17:for(;N<14;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}if(k.nlen=257+(31&I),I>>>=5,N-=5,k.ndist=1+(31&I),I>>>=5,N-=5,k.ncode=4+(15&I),I>>>=4,N-=4,286<k.nlen||30<k.ndist){O.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;N<3;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}k.lens[G[k.have++]]=7&I,I>>>=3,N-=3}for(;k.have<19;)k.lens[G[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,V={bits:k.lenbits},q=u(0,k.lens,0,19,k.lencode,0,k.work,V),k.lenbits=V.bits,q){O.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;ye=(P=k.lencode[I&(1<<k.lenbits)-1])>>>16&255,Le=65535&P,!((re=P>>>24)<=N);){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}if(Le<16)I>>>=re,N-=re,k.lens[k.have++]=Le;else{if(Le===16){for(j=re+2;N<j;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}if(I>>>=re,N-=re,k.have===0){O.msg="invalid bit length repeat",k.mode=30;break}S=k.lens[k.have-1],Q=3+(3&I),I>>>=2,N-=2}else if(Le===17){for(j=re+3;N<j;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}N-=re,S=0,Q=3+(7&(I>>>=re)),I>>>=3,N-=3}else{for(j=re+7;N<j;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}N-=re,S=0,Q=11+(127&(I>>>=re)),I>>>=7,N-=7}if(k.have+Q>k.nlen+k.ndist){O.msg="invalid bit length repeat",k.mode=30;break}for(;Q--;)k.lens[k.have++]=S}}if(k.mode===30)break;if(k.lens[256]===0){O.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,V={bits:k.lenbits},q=u(c,k.lens,0,k.nlen,k.lencode,0,k.work,V),k.lenbits=V.bits,q){O.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,V={bits:k.distbits},q=u(d,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,V),k.distbits=V.bits,q){O.msg="invalid distances set",k.mode=30;break}if(k.mode=20,z===6)break e;case 20:k.mode=21;case 21:if(6<=F&&258<=H){O.next_out=U,O.avail_out=H,O.next_in=R,O.avail_in=F,k.hold=I,k.bits=N,l(O,Z),U=O.next_out,oe=O.output,H=O.avail_out,R=O.next_in,W=O.input,F=O.avail_in,I=k.hold,N=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;ye=(P=k.lencode[I&(1<<k.lenbits)-1])>>>16&255,Le=65535&P,!((re=P>>>24)<=N);){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}if(ye&&!(240&ye)){for(Se=re,Jt=ye,Ut=Le;ye=(P=k.lencode[Ut+((I&(1<<Se+Jt)-1)>>Se)])>>>16&255,Le=65535&P,!(Se+(re=P>>>24)<=N);){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}I>>>=Se,N-=Se,k.back+=Se}if(I>>>=re,N-=re,k.back+=re,k.length=Le,ye===0){k.mode=26;break}if(32&ye){k.back=-1,k.mode=12;break}if(64&ye){O.msg="invalid literal/length code",k.mode=30;break}k.extra=15&ye,k.mode=22;case 22:if(k.extra){for(j=k.extra;N<j;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}k.length+=I&(1<<k.extra)-1,I>>>=k.extra,N-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;ye=(P=k.distcode[I&(1<<k.distbits)-1])>>>16&255,Le=65535&P,!((re=P>>>24)<=N);){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}if(!(240&ye)){for(Se=re,Jt=ye,Ut=Le;ye=(P=k.distcode[Ut+((I&(1<<Se+Jt)-1)>>Se)])>>>16&255,Le=65535&P,!(Se+(re=P>>>24)<=N);){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}I>>>=Se,N-=Se,k.back+=Se}if(I>>>=re,N-=re,k.back+=re,64&ye){O.msg="invalid distance code",k.mode=30;break}k.offset=Le,k.extra=15&ye,k.mode=24;case 24:if(k.extra){for(j=k.extra;N<j;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}k.offset+=I&(1<<k.extra)-1,I>>>=k.extra,N-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){O.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(H===0)break e;if(Q=Z-H,k.offset>Q){if((Q=k.offset-Q)>k.whave&&k.sane){O.msg="invalid distance too far back",k.mode=30;break}ce=Q>k.wnext?(Q-=k.wnext,k.wsize-Q):k.wnext-Q,Q>k.length&&(Q=k.length),ge=k.window}else ge=oe,ce=U-k.offset,Q=k.length;for(H<Q&&(Q=H),H-=Q,k.length-=Q;oe[U++]=ge[ce++],--Q;);k.length===0&&(k.mode=21);break;case 26:if(H===0)break e;oe[U++]=k.length,H--,k.mode=21;break;case 27:if(k.wrap){for(;N<32;){if(F===0)break e;F--,I|=W[R++]<<N,N+=8}if(Z-=H,O.total_out+=Z,k.total+=Z,Z&&(O.adler=k.check=k.flags?a(k.check,oe,Z,U-Z):o(k.check,oe,Z,U-Z)),Z=H,(k.flags?I:p(I))!==k.check){O.msg="incorrect data check",k.mode=30;break}N=I=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;N<32;){if(F===0)break e;F--,I+=W[R++]<<N,N+=8}if(I!==(4294967295&k.total)){O.msg="incorrect length check",k.mode=30;break}N=I=0}k.mode=29;case 29:q=1;break e;case 30:q=-3;break e;case 31:return-4;case 32:default:return f}return O.next_out=U,O.avail_out=H,O.next_in=R,O.avail_in=F,k.hold=I,k.bits=N,(k.wsize||Z!==O.avail_out&&k.mode<30&&(k.mode<27||z!==4))&&J(O,O.output,O.next_out,Z-O.avail_out)?(k.mode=31,-4):(K-=O.avail_in,Z-=O.avail_out,O.total_in+=K,O.total_out+=Z,k.total+=Z,k.wrap&&Z&&(O.adler=k.check=k.flags?a(k.check,oe,Z,O.next_out-Z):o(k.check,oe,Z,O.next_out-Z)),O.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(K==0&&Z===0||z===4)&&q===h&&(q=-5),q)},s.inflateEnd=function(O){if(!O||!O.state)return f;var z=O.state;return z.window&&(z.window=null),O.state=null,h},s.inflateGetHeader=function(O,z){var k;return O&&O.state&&2&(k=O.state).wrap?((k.head=z).done=!1,h):f},s.inflateSetDictionary=function(O,z){var k,W=z.length;return O&&O.state?(k=O.state).wrap!==0&&k.mode!==11?f:k.mode===11&&o(1,z,W,0)!==k.check?-3:J(O,z,W,W)?(k.mode=31,-4):(k.havedict=1,h):f},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,d,h,f,v,m,w,p){var g,y,x,E,T,C,A,D,L,J=p.bits,O=0,z=0,k=0,W=0,oe=0,R=0,U=0,F=0,H=0,I=0,N=null,K=0,Z=new i.Buf16(16),Q=new i.Buf16(16),ce=null,ge=0;for(O=0;O<=15;O++)Z[O]=0;for(z=0;z<f;z++)Z[d[h+z]]++;for(oe=J,W=15;1<=W&&Z[W]===0;W--);if(W<oe&&(oe=W),W===0)return v[m++]=20971520,v[m++]=20971520,p.bits=1,0;for(k=1;k<W&&Z[k]===0;k++);for(oe<k&&(oe=k),O=F=1;O<=15;O++)if(F<<=1,(F-=Z[O])<0)return-1;if(0<F&&(c===0||W!==1))return-1;for(Q[1]=0,O=1;O<15;O++)Q[O+1]=Q[O]+Z[O];for(z=0;z<f;z++)d[h+z]!==0&&(w[Q[d[h+z]]++]=z);if(C=c===0?(N=ce=w,19):c===1?(N=o,K-=257,ce=a,ge-=257,256):(N=l,ce=u,-1),O=k,T=m,U=z=I=0,x=-1,E=(H=1<<(R=oe))-1,c===1&&852<H||c===2&&592<H)return 1;for(;;){for(A=O-U,L=w[z]<C?(D=0,w[z]):w[z]>C?(D=ce[ge+w[z]],N[K+w[z]]):(D=96,0),g=1<<O-U,k=y=1<<R;v[T+(I>>U)+(y-=g)]=A<<24|D<<16|L|0,y!==0;);for(g=1<<O-1;I&g;)g>>=1;if(g!==0?(I&=g-1,I+=g):I=0,z++,--Z[O]==0){if(O===W)break;O=d[h+w[z]]}if(oe<O&&(I&E)!==x){for(U===0&&(U=oe),T+=k,F=1<<(R=O-U);R+U<W&&!((F-=Z[R+U])<=0);)R++,F<<=1;if(H+=1<<R,c===1&&852<H||c===2&&592<H)return 1;v[x=I&E]=oe<<24|R<<16|T-m|0}}return I!==0&&(v[T+I]=O-U<<24|64<<16|0),p.bits=oe,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),o=0,a=1;function l(P){for(var M=P.length;0<=--M;)P[M]=0}var u=0,c=29,d=256,h=d+1+c,f=30,v=19,m=2*h+1,w=15,p=16,g=7,y=256,x=16,E=17,T=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(h+2));l(J);var O=new Array(2*f);l(O);var z=new Array(512);l(z);var k=new Array(256);l(k);var W=new Array(c);l(W);var oe,R,U,F=new Array(f);function H(P,M,G,Y,B){this.static_tree=P,this.extra_bits=M,this.extra_base=G,this.elems=Y,this.max_length=B,this.has_stree=P&&P.length}function I(P,M){this.dyn_tree=P,this.max_code=0,this.stat_desc=M}function N(P){return P<256?z[P]:z[256+(P>>>7)]}function K(P,M){P.pending_buf[P.pending++]=255&M,P.pending_buf[P.pending++]=M>>>8&255}function Z(P,M,G){P.bi_valid>p-G?(P.bi_buf|=M<<P.bi_valid&65535,K(P,P.bi_buf),P.bi_buf=M>>p-P.bi_valid,P.bi_valid+=G-p):(P.bi_buf|=M<<P.bi_valid&65535,P.bi_valid+=G)}function Q(P,M,G){Z(P,G[2*M],G[2*M+1])}function ce(P,M){for(var G=0;G|=1&P,P>>>=1,G<<=1,0<--M;);return G>>>1}function ge(P,M,G){var Y,B,ee=new Array(w+1),ne=0;for(Y=1;Y<=w;Y++)ee[Y]=ne=ne+G[Y-1]<<1;for(B=0;B<=M;B++){var te=P[2*B+1];te!==0&&(P[2*B]=ce(ee[te]++,te))}}function re(P){var M;for(M=0;M<h;M++)P.dyn_ltree[2*M]=0;for(M=0;M<f;M++)P.dyn_dtree[2*M]=0;for(M=0;M<v;M++)P.bl_tree[2*M]=0;P.dyn_ltree[2*y]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function ye(P){8<P.bi_valid?K(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function Le(P,M,G,Y){var B=2*M,ee=2*G;return P[B]<P[ee]||P[B]===P[ee]&&Y[M]<=Y[G]}function Se(P,M,G){for(var Y=P.heap[G],B=G<<1;B<=P.heap_len&&(B<P.heap_len&&Le(M,P.heap[B+1],P.heap[B],P.depth)&&B++,!Le(M,Y,P.heap[B],P.depth));)P.heap[G]=P.heap[B],G=B,B<<=1;P.heap[G]=Y}function Jt(P,M,G){var Y,B,ee,ne,te=0;if(P.last_lit!==0)for(;Y=P.pending_buf[P.d_buf+2*te]<<8|P.pending_buf[P.d_buf+2*te+1],B=P.pending_buf[P.l_buf+te],te++,Y===0?Q(P,B,M):(Q(P,(ee=k[B])+d+1,M),(ne=C[ee])!==0&&Z(P,B-=W[ee],ne),Q(P,ee=N(--Y),G),(ne=A[ee])!==0&&Z(P,Y-=F[ee],ne)),te<P.last_lit;);Q(P,y,M)}function Ut(P,M){var G,Y,B,ee=M.dyn_tree,ne=M.stat_desc.static_tree,te=M.stat_desc.has_stree,le=M.stat_desc.elems,Ee=-1;for(P.heap_len=0,P.heap_max=m,G=0;G<le;G++)ee[2*G]!==0?(P.heap[++P.heap_len]=Ee=G,P.depth[G]=0):ee[2*G+1]=0;for(;P.heap_len<2;)ee[2*(B=P.heap[++P.heap_len]=Ee<2?++Ee:0)]=1,P.depth[B]=0,P.opt_len--,te&&(P.static_len-=ne[2*B+1]);for(M.max_code=Ee,G=P.heap_len>>1;1<=G;G--)Se(P,ee,G);for(B=le;G=P.heap[1],P.heap[1]=P.heap[P.heap_len--],Se(P,ee,1),Y=P.heap[1],P.heap[--P.heap_max]=G,P.heap[--P.heap_max]=Y,ee[2*B]=ee[2*G]+ee[2*Y],P.depth[B]=(P.depth[G]>=P.depth[Y]?P.depth[G]:P.depth[Y])+1,ee[2*G+1]=ee[2*Y+1]=B,P.heap[1]=B++,Se(P,ee,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],function(ve,yt){var se,pe,vt,Te,ds,bo,pn=yt.dyn_tree,_o=yt.max_code,zc=yt.stat_desc.static_tree,qn=yt.stat_desc.has_stree,fl=yt.stat_desc.extra_bits,pl=yt.stat_desc.extra_base,vr=yt.stat_desc.max_length,ml=0;for(Te=0;Te<=w;Te++)ve.bl_count[Te]=0;for(pn[2*ve.heap[ve.heap_max]+1]=0,se=ve.heap_max+1;se<m;se++)vr<(Te=pn[2*pn[2*(pe=ve.heap[se])+1]+1]+1)&&(Te=vr,ml++),pn[2*pe+1]=Te,_o<pe||(ve.bl_count[Te]++,ds=0,pl<=pe&&(ds=fl[pe-pl]),bo=pn[2*pe],ve.opt_len+=bo*(Te+ds),qn&&(ve.static_len+=bo*(zc[2*pe+1]+ds)));if(ml!==0){do{for(Te=vr-1;ve.bl_count[Te]===0;)Te--;ve.bl_count[Te]--,ve.bl_count[Te+1]+=2,ve.bl_count[vr]--,ml-=2}while(0<ml);for(Te=vr;Te!==0;Te--)for(pe=ve.bl_count[Te];pe!==0;)_o<(vt=ve.heap[--se])||(pn[2*vt+1]!==Te&&(ve.opt_len+=(Te-pn[2*vt+1])*pn[2*vt],pn[2*vt+1]=Te),pe--)}}(P,M),ge(ee,Ee,P.bl_count)}function S(P,M,G){var Y,B,ee=-1,ne=M[1],te=0,le=7,Ee=4;for(ne===0&&(le=138,Ee=3),M[2*(G+1)+1]=65535,Y=0;Y<=G;Y++)B=ne,ne=M[2*(Y+1)+1],++te<le&&B===ne||(te<Ee?P.bl_tree[2*B]+=te:B!==0?(B!==ee&&P.bl_tree[2*B]++,P.bl_tree[2*x]++):te<=10?P.bl_tree[2*E]++:P.bl_tree[2*T]++,ee=B,Ee=(te=0)===ne?(le=138,3):B===ne?(le=6,3):(le=7,4))}function q(P,M,G){var Y,B,ee=-1,ne=M[1],te=0,le=7,Ee=4;for(ne===0&&(le=138,Ee=3),Y=0;Y<=G;Y++)if(B=ne,ne=M[2*(Y+1)+1],!(++te<le&&B===ne)){if(te<Ee)for(;Q(P,B,P.bl_tree),--te!=0;);else B!==0?(B!==ee&&(Q(P,B,P.bl_tree),te--),Q(P,x,P.bl_tree),Z(P,te-3,2)):te<=10?(Q(P,E,P.bl_tree),Z(P,te-3,3)):(Q(P,T,P.bl_tree),Z(P,te-11,7));ee=B,Ee=(te=0)===ne?(le=138,3):B===ne?(le=6,3):(le=7,4)}}l(F);var V=!1;function j(P,M,G,Y){Z(P,(u<<1)+(Y?1:0),3),function(B,ee,ne,te){ye(B),K(B,ne),K(B,~ne),i.arraySet(B.pending_buf,B.window,ee,ne,B.pending),B.pending+=ne}(P,M,G)}s._tr_init=function(P){V||(function(){var M,G,Y,B,ee,ne=new Array(w+1);for(B=Y=0;B<c-1;B++)for(W[B]=Y,M=0;M<1<<C[B];M++)k[Y++]=B;for(k[Y-1]=B,B=ee=0;B<16;B++)for(F[B]=ee,M=0;M<1<<A[B];M++)z[ee++]=B;for(ee>>=7;B<f;B++)for(F[B]=ee<<7,M=0;M<1<<A[B]-7;M++)z[256+ee++]=B;for(G=0;G<=w;G++)ne[G]=0;for(M=0;M<=143;)J[2*M+1]=8,M++,ne[8]++;for(;M<=255;)J[2*M+1]=9,M++,ne[9]++;for(;M<=279;)J[2*M+1]=7,M++,ne[7]++;for(;M<=287;)J[2*M+1]=8,M++,ne[8]++;for(ge(J,h+1,ne),M=0;M<f;M++)O[2*M+1]=5,O[2*M]=ce(M,5);oe=new H(J,C,d+1,h,w),R=new H(O,A,0,f,w),U=new H(new Array(0),D,0,v,g)}(),V=!0),P.l_desc=new I(P.dyn_ltree,oe),P.d_desc=new I(P.dyn_dtree,R),P.bl_desc=new I(P.bl_tree,U),P.bi_buf=0,P.bi_valid=0,re(P)},s._tr_stored_block=j,s._tr_flush_block=function(P,M,G,Y){var B,ee,ne=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=function(te){var le,Ee=4093624447;for(le=0;le<=31;le++,Ee>>>=1)if(1&Ee&&te.dyn_ltree[2*le]!==0)return o;if(te.dyn_ltree[18]!==0||te.dyn_ltree[20]!==0||te.dyn_ltree[26]!==0)return a;for(le=32;le<d;le++)if(te.dyn_ltree[2*le]!==0)return a;return o}(P)),Ut(P,P.l_desc),Ut(P,P.d_desc),ne=function(te){var le;for(S(te,te.dyn_ltree,te.l_desc.max_code),S(te,te.dyn_dtree,te.d_desc.max_code),Ut(te,te.bl_desc),le=v-1;3<=le&&te.bl_tree[2*L[le]+1]===0;le--);return te.opt_len+=3*(le+1)+5+5+4,le}(P),B=P.opt_len+3+7>>>3,(ee=P.static_len+3+7>>>3)<=B&&(B=ee)):B=ee=G+5,G+4<=B&&M!==-1?j(P,M,G,Y):P.strategy===4||ee===B?(Z(P,2+(Y?1:0),3),Jt(P,J,O)):(Z(P,4+(Y?1:0),3),function(te,le,Ee,ve){var yt;for(Z(te,le-257,5),Z(te,Ee-1,5),Z(te,ve-4,4),yt=0;yt<ve;yt++)Z(te,te.bl_tree[2*L[yt]+1],3);q(te,te.dyn_ltree,le-1),q(te,te.dyn_dtree,Ee-1)}(P,P.l_desc.max_code+1,P.d_desc.max_code+1,ne+1),Jt(P,P.dyn_ltree,P.dyn_dtree)),re(P),Y&&ye(P)},s._tr_tally=function(P,M,G){return P.pending_buf[P.d_buf+2*P.last_lit]=M>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&M,P.pending_buf[P.l_buf+P.last_lit]=255&G,P.last_lit++,M===0?P.dyn_ltree[2*G]++:(P.matches++,M--,P.dyn_ltree[2*(k[G]+d+1)]++,P.dyn_dtree[2*N(M)]++),P.last_lit===P.lit_bufsize-1},s._tr_align=function(P){Z(P,2,3),Q(P,y,J),function(M){M.bi_valid===16?(K(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(P)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(o,a){if(!o.setImmediate){var l,u,c,d,h=1,f={},v=!1,m=o.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(o);w=w&&w.setTimeout?w:o,l={}.toString.call(o.process)==="[object process]"?function(x){process.nextTick(function(){g(x)})}:function(){if(o.postMessage&&!o.importScripts){var x=!0,E=o.onmessage;return o.onmessage=function(){x=!1},o.postMessage("","*"),o.onmessage=E,x}}()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",y,!1):o.attachEvent("onmessage",y),function(x){o.postMessage(d+x,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(x){g(x.data)},function(x){c.port2.postMessage(x)}):m&&"onreadystatechange"in m.createElement("script")?(u=m.documentElement,function(x){var E=m.createElement("script");E.onreadystatechange=function(){g(x),E.onreadystatechange=null,u.removeChild(E),E=null},u.appendChild(E)}):function(x){setTimeout(g,0,x)},w.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var E=new Array(arguments.length-1),T=0;T<E.length;T++)E[T]=arguments[T+1];var C={callback:x,args:E};return f[h]=C,l(h),h++},w.clearImmediate=p}function p(x){delete f[x]}function g(x){if(v)setTimeout(g,0,x);else{var E=f[x];if(E){v=!0;try{(function(T){var C=T.callback,A=T.args;switch(A.length){case 0:C();break;case 1:C(A[0]);break;case 2:C(A[0],A[1]);break;case 3:C(A[0],A[1],A[2]);break;default:C.apply(a,A)}})(E)}finally{p(x),v=!1}}}}function y(x){x.source===o&&typeof x.data=="string"&&x.data.indexOf(d)===0&&g(+x.data.slice(d.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(GS);var KL=GS.exports;const y0=qf(KL),qL=()=>{const[e,t]=_.useState(!1),[n,r]=_.useState([]),s=_.useRef(null),i=_.useCallback(async u=>{if(!u||u.length===0){r(d=>[...d,{success:!1,message:"No files selected."}]);return}t(!0);const c=[];try{for(let d=0;d<u.length;d++){const h=u[d];if(h.type==="application/zip"||h.name.endsWith(".zip"))try{const f=await y0.loadAsync(h),v=Object.values(f.files);for(const m of v)if(!m.dir&&m.name.endsWith(".json"))try{const w=await m.async("string"),p=JSON.parse(w),g=m.name.split("/").pop()||"unknown.json",y=g.replace(/\.json$/,"");localStorage.setItem(y,JSON.stringify(p)),c.push({success:!0,message:`Successfully extracted and stored "${g}" with key "${y}" from ZIP.`})}catch(w){const p=w instanceof Error?w.message:"Unknown error";c.push({success:!1,message:`Error processing file "${m.name}" from ZIP: ${p}`})}else m.dir||c.push({success:!1,message:`Skipped non-JSON file "${m.name}" from ZIP.`})}catch(f){const v=f instanceof Error?f.message:"Invalid ZIP file";c.push({success:!1,message:`Error processing ZIP file "${h.name}": ${v}`})}else if(h.type==="application/json"||h.name.endsWith(".json"))try{const f=new FileReader,v=await new Promise((g,y)=>{f.onload=()=>g(f.result),f.onerror=y,f.readAsText(h)}),m=JSON.parse(v),p=h.name.replace(/\.json$/,"");localStorage.setItem(p,JSON.stringify(m)),c.push({success:!0,message:`Successfully stored "${h.name}" with key "${p}".`})}catch(f){const v=f instanceof Error?f.message:"Unknown error";c.push({success:!1,message:`Error processing file "${h.name}": ${v}`})}else c.push({success:!1,message:`File "${h.name}" is not a JSON or ZIP file. Skipped.`})}}finally{r(d=>[...d,...c]),t(!1)}},[]),o=u=>{i(u.target.files),s.current&&(s.current.value="")},a=()=>{r([])},l=_.useCallback(async()=>{t(!0);try{debugger;const u=new y0;let c=!1,d=null;const h=localStorage.getItem("sankeertan_categories_data");if(h)try{d=JSON.parse(h),u.file("sankeertan_categories_data.json",h),c=!0}catch{console.warn("sankeertan_categories_data.json is not valid JSON, skipping."),d=null}else console.warn("sankeertan_categories_data.json not found in localStorage.");const f={};for(let p=0;p<localStorage.length;p++){debugger;const g=localStorage.key(p);if(console.log(g),g!=="sb-"+p_+"-auth-token"&&g&&g!=="sankeertan_categories_data"){const y=localStorage.getItem(g);if(y)try{JSON.parse(y);let x=u;if(d&&Array.isArray(d.data))for(const E of d.data)for(const T of E.books){const C=T.bookId,A=`sankeertan_song_details-${C.toLowerCase().replace(/ /g,"-")}`,D=`sankeertan_song_indices-${C.toLowerCase().replace(/ /g,"-")}`;if(g.startsWith(A)||g.startsWith(D)){if(!f[C]){const L=u.folder(C);L?f[C]=L:f[C]=u}x=f[C]||u;break}}x.file(`${g}.json`,y),c=!0}catch{console.warn(`Skipping key "${g}" as value is not valid JSON`)}}}if(!c){r(p=>[...p,{success:!1,message:"No valid JSON data found in localStorage to export."}]),t(!1);return}const v=await u.generateAsync({type:"blob",mimeType:"application/zip",compression:"DEFLATE"}),m=URL.createObjectURL(v),w=document.createElement("a");w.href=m,w.download="sankeertan_localStorage_backup.zip",document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(m),r(p=>[...p,{success:!0,message:"Successfully exported localStorage to ZIP file with folder structure."}])}catch(u){const c=u instanceof Error?u.message:"Unknown error during export";r(d=>[...d,{success:!1,message:`Error exporting localStorage: ${c}`}])}finally{t(!1)}},[]);return b.jsxs("div",{className:"p-4",children:[b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Local Storage Sync"}),b.jsxs("div",{className:"mb-4",children:[b.jsx("input",{type:"file",accept:".json,.zip",onChange:o,disabled:e,"aria-label":"Upload JSON or ZIP Files",multiple:!0,ref:s}),b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload JSON files or a ZIP file containing JSON files.  Filename will be used as the key."})]}),b.jsx("div",{className:"mb-4",children:b.jsx("button",{onClick:l,disabled:e,className:"px-4 py-2 border rounded-md bg-blue-500 text-white",children:e?"Exporting...":"Export to ZIP"})}),e&&b.jsx("div",{className:"mb-4 flex items-center gap-2",children:b.jsx("span",{children:e?"Processing...":"Exporting..."})}),n.length>0&&b.jsxs("div",{className:"mb-4",children:[b.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Upload Results:"}),n.map((u,c)=>b.jsxs("div",{className:`mb-2 p-3 border rounded-md ${u.success?"border-green-500 bg-green-100 text-green-800":"border-red-500 bg-red-100 text-red-800"}`,children:[u.success?b.jsx("span",{style:{color:"green"},children:"✓"}):b.jsx("span",{style:{color:"red"},children:"✗"}),b.jsx("strong",{className:"mr-1",children:u.success?"Success":"Error"}),b.jsx("span",{children:u.message})]},c)),b.jsx("button",{onClick:a,className:"mt-2 px-4 py-2 border rounded-md",children:"Clear Results"})]}),b.jsxs("div",{className:"mt-8 p-4 border rounded-md bg-gray-50",children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Important Notes:"}),b.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[b.jsxs("li",{children:[b.jsx("span",{className:"font-semibold",children:"ZIP File Handling:"}),"  This page now supports uploading a single ZIP file.  The application will extract JSON files from the ZIP and store them in localStorage."]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-semibold",children:"Key Derivation:"})," The filename of each JSON file is used as the key for storing its content in localStorage."]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-semibold",children:"File Overwriting:"})," If a key already exists in localStorage, it will be overwritten with the new content."]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-semibold",children:"ZIP Structure:"})," The ZIP file can contain JSON files in subfolders.  The filename of the file within the ZIP will be used as the localStorage key."]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-semibold",children:"Non-JSON Files in ZIP:"})," Any non-JSON files within the ZIP will be skipped."]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-semibold",children:"Error Handling:"})," The application attempts to provide informative error messages for file processing issues, including problems with individual files within a ZIP archive."]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-semibold",children:"Export Feature:"}),`  A new "Export to ZIP" button has been added.  Clicking this will create a ZIP file containing all key-value pairs from your browser's localStorage (where the values are valid JSON), and prompt you to download it.  The keys will be used as the filenames in the ZIP.`]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-semibold",children:"Exported Data Format:"})," The exported ZIP file will now contain a folder structure."]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-semibold",children:"Book Folders:"}),"  Data is organized into folders based on the book names found in  `sankeertan_categories_data.json`."]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-semibold",children:"Root Folder:"})," Any keys that do not match the book naming convention will be placed in the root of the ZIP file."]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-semibold",children:"sankeertan_categories_data.json:"}),"  This file is included in the root of the ZIP."]})]})]})]})},_r=({children:e,session:t})=>{const n=hn();return t?b.jsx(b.Fragment,{children:e}):(sessionStorage.setItem("redirect_path",n.pathname),b.jsx(l_,{to:"/login",replace:!0}))};function GL(){const{session:e}=ls(),{categories:t,isLoading:n}=om(),r=(t==null?void 0:t.flatMap(s=>s.books))||[];return n?b.jsx("div",{children:"Checking authentication..."}):b.jsx(ex,{children:b.jsx(ej,{books:r,children:b.jsxs(VC,{children:[b.jsx(Tt,{path:"/login",element:b.jsx(lA,{})}),b.jsx(Tt,{path:"/signup",element:b.jsx(uA,{})}),b.jsx(Tt,{path:"/change-password",element:b.jsx(cA,{})}),b.jsx(Tt,{path:"/auth/callback",element:b.jsx(hA,{})}),b.jsx(Tt,{path:"/settings",element:b.jsx(_r,{session:e,children:b.jsx(LL,{})})}),b.jsx(Tt,{path:"/categories",element:b.jsx(_r,{session:e,children:b.jsx(YA,{})})}),b.jsx(Tt,{path:"/books/:categoryId",element:b.jsx(_r,{session:e,children:b.jsx(ij,{})})}),b.jsx(Tt,{path:"/book/:categoryId/:bookId",element:b.jsx(_r,{session:e,children:b.jsx(yj,{})})}),b.jsx(Tt,{path:"/details/book/:categoryId/:bookId/:sourceRow/:songTitle",element:b.jsx(_r,{session:e,children:b.jsx(UL,{})})}),b.jsx(Tt,{path:"/sankeertan/:broadcastId",element:b.jsx(_r,{session:e,children:b.jsx(zL,{broadcastId:1})})}),b.jsx(Tt,{path:"/localstoragesync",element:b.jsx(_r,{session:e,children:b.jsx(qL,{})})}),b.jsx(Tt,{path:"/search",element:b.jsx(_r,{session:e,children:b.jsx(HL,{})})}),b.jsx(Tt,{path:"/",element:e?b.jsx(l_,{to:"/categories",replace:!0}):b.jsx("div",{children:"Welcome!"})})]})})})}const QL=_.createContext({books:[],categories:[],currentBook:null,loadBook:async()=>{},loading:!1,error:null}),JL=({children:e})=>{const[t,n]=_.useState([{id:"book1",name:"The Great Book A",categoryIds:["cat1","cat2"]},{id:"book2",name:"Another Fine Book B",categoryIds:["cat2","cat3"]},{id:"book3",name:"Wonderful Book C",categoryIds:["cat1"]}]),[r,s]=_.useState([{id:"cat1",name:"Fiction"},{id:"cat2",name:"Mystery"},{id:"cat3",name:"Science Fiction"}]),[i,o]=_.useState(null),[a,l]=_.useState(!1),[u,c]=_.useState(null),{bookId:d}=Ya(),h=_.useCallback(async v=>{l(!0),c(null),o(null),await new Promise(w=>setTimeout(w,500));const m=t.find(w=>w.id===v);o(m||null),l(!1)},[t,l,c,o]);_.useEffect(()=>{d&&h(d)},[d,h]);const f={books:t,categories:r,currentBook:i,loadBook:h,loading:a,error:u};return b.jsx(QL.Provider,{value:f,children:e})},YL=({toggleDropdown:e,isDropdownOpen:t,openLanguageSettings:n})=>{var u;const[r,s]=_.useState(null),i=Rn();_.useEffect(()=>{mt.auth.getSession().then(({data:{session:c}})=>{s(c)}),mt.auth.onAuthStateChange((c,d)=>{s(d)})},[]);const o=async()=>{const{error:c}=await mt.auth.signOut();c?(console.error("Error signing out:",c),alert("Error signing out. Please try again.")):i("/login")},{isOfflineMode:a,setIsOfflineMode:l}=am();return b.jsx("div",{className:"relative inline-block text-left",children:r?b.jsxs("div",{children:[b.jsxs("button",{type:"button",className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",onClick:e,"aria-expanded":t,"aria-haspopup":"true",children:[((u=r.user)==null?void 0:u.email)||"User",b.jsx("svg",{className:"-mr-1 h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:b.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),t&&b.jsx("div",{className:"absolute right-0 z-[1000] mt-2 w-40 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:b.jsxs("div",{className:"py-1",children:[b.jsx("div",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitemcheckbox",children:b.jsxs("label",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",className:"mr-2 form-checkbox h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:a,onChange:c=>l(c.target.checked)}),b.jsx("span",{children:"Offline Mode"})]})}),b.jsx(Vt,{to:"/sankeertan/1",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Chanting Together"}),b.jsx(Vt,{to:"/categories",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Categories & Books"}),b.jsx(Vt,{to:"/search",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Search"}),b.jsx(Vt,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Settings (Language)"}),b.jsx(Vt,{to:"/localstoragesync",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Local Storage Admin"}),b.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",role:"menuitem",onClick:()=>{e(),n()},children:"Language Settings (Context)"}),b.jsx(Vt,{to:"/change-password",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Change Password"}),b.jsx("button",{onClick:o,className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Sign Out"})]})})]}):b.jsx(Vt,{to:"/login",className:"text-blue-500 hover:underline px-3 py-2 inline-block",children:"Login"})})};var ZL=Object.defineProperty,XL=(e,t,n)=>t in e?ZL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zd=(e,t,n)=>(XL(e,typeof t!="symbol"?t+"":t,n),n);let e$=class{constructor(){zd(this,"current",this.detect()),zd(this,"handoffState","pending"),zd(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Hn=new e$;function ul(e){var t;return Hn.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Ff(e){var t,n;return Hn.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function QS(e){var t,n;return(n=(t=Ff(e))==null?void 0:t.activeElement)!=null?n:null}function t$(e){return QS(e)===e}function Ic(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function yr(){let e=[],t={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),t.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Ic(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=yr();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function Dc(){let[e]=_.useState(yr);return _.useEffect(()=>()=>e.dispose(),[e]),e}let Mt=(e,t)=>{Hn.isServer?_.useEffect(e,t):_.useLayoutEffect(e,t)};function ni(e){let t=_.useRef(e);return Mt(()=>{t.current=e},[e]),t}let Pe=function(e){let t=ni(e);return he.useCallback((...n)=>t.current(...n),[t])};function cl(e){return _.useMemo(()=>e,Object.values(e))}let n$=_.createContext(void 0);function r$(){return _.useContext(n$)}function Uf(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function mr(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,mr),r}var Xu=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Xu||{}),zr=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(zr||{});function fn(){let e=i$();return _.useCallback(t=>s$({mergeRefs:e,...t}),[e])}function s$({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:a}){a=a??o$;let l=JS(t,e);if(i)return Kl(l,n,r,o,a);let u=s??0;if(u&2){let{static:c=!1,...d}=l;if(c)return Kl(d,n,r,o,a)}if(u&1){let{unmount:c=!0,...d}=l;return mr(c?0:1,{0(){return null},1(){return Kl({...d,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Kl(l,n,r,o,a)}function Kl(e,t={},n,r,s){let{as:i=n,children:o,refName:a="ref",...l}=Vd(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},c=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(t){let h=!1,f=[];for(let[v,m]of Object.entries(t))typeof m=="boolean"&&(h=!0),m===!0&&f.push(v.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(h){d["data-headlessui-state"]=f.join(" ");for(let v of f)d[`data-${v}`]=""}}if(ua(i)&&(Object.keys(ws(l)).length>0||Object.keys(ws(d)).length>0))if(!_.isValidElement(c)||Array.isArray(c)&&c.length>1||l$(c)){if(Object.keys(ws(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ws(l)).concat(Object.keys(ws(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=c.props,f=h==null?void 0:h.className,v=typeof f=="function"?(...p)=>Uf(f(...p),l.className):Uf(f,l.className),m=v?{className:v}:{},w=JS(c.props,ws(Vd(l,["ref"])));for(let p in d)p in w&&delete d[p];return _.cloneElement(c,Object.assign({},w,d,u,{ref:s(a$(c),u.ref)},m))}return _.createElement(i,Object.assign({},Vd(l,["ref"]),!ua(i)&&u,!ua(i)&&d),c)}function i$(){let e=_.useRef([]),t=_.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function o$(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function JS(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...i){let o=n[r];for(let a of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;a(s,...i)}}});return t}function Ft(e){var t;return Object.assign(_.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ws(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Vd(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function a$(e){return he.version.split(".")[0]>="19"?e.props.ref:e.ref}function ua(e){return e===_.Fragment||e===Symbol.for("react.fragment")}function l$(e){return ua(e.type)}let u$="span";var ec=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ec||{});function c$(e,t){var n;let{features:r=1,...s}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return fn()({ourProps:i,theirProps:s,slot:{},defaultTag:u$,name:"Hidden"})}let Bf=Ft(c$);function d$(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Xr(e){return d$(e)&&"tagName"in e}function Js(e){return Xr(e)&&"accessKey"in e}function Vr(e){return Xr(e)&&"tabIndex"in e}function h$(e){return Xr(e)&&"style"in e}function f$(e){return Js(e)&&e.nodeName==="IFRAME"}function p$(e){return Js(e)&&e.nodeName==="INPUT"}let YS=Symbol();function m$(e,t=!0){return Object.assign(e,{[YS]:t})}function Kn(...e){let t=_.useRef(e);_.useEffect(()=>{t.current=e},[e]);let n=Pe(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[YS]))?void 0:n}let Hm=_.createContext(null);Hm.displayName="DescriptionContext";function ZS(){let e=_.useContext(Hm);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ZS),t}return e}function g$(){let[e,t]=_.useState([]);return[e.length>0?e.join(" "):void 0,_.useMemo(()=>function(n){let r=Pe(i=>(t(o=>[...o,i]),()=>t(o=>{let a=o.slice(),l=a.indexOf(i);return l!==-1&&a.splice(l,1),a}))),s=_.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return he.createElement(Hm.Provider,{value:s},n.children)},[t])]}let y$="p";function v$(e,t){let n=_.useId(),r=r$(),{id:s=`headlessui-description-${n}`,...i}=e,o=ZS(),a=Kn(t);Mt(()=>o.register(s),[s,o.register]);let l=cl({...o.slot,disabled:r||!1}),u={ref:a,...o.props,id:s};return fn()({ourProps:u,theirProps:i,slot:l,defaultTag:y$,name:o.name||"Description"})}let w$=Ft(v$),b$=Object.assign(w$,{});var XS=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(XS||{});let _$=_.createContext(()=>{});function x$({value:e,children:t}){return he.createElement(_$.Provider,{value:e},t)}let e1=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var S$=Object.defineProperty,k$=(e,t,n)=>t in e?S$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E$=(e,t,n)=>(k$(e,t+"",n),n),t1=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Zt=(e,t,n)=>(t1(e,t,"read from private field"),n?n.call(e):t.get(e)),Wd=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},v0=(e,t,n,r)=>(t1(e,t,"write to private field"),t.set(e,n),n),In,Vo,Wo;let C$=class{constructor(t){Wd(this,In,{}),Wd(this,Vo,new e1(()=>new Set)),Wd(this,Wo,new Set),E$(this,"disposables",yr()),v0(this,In,t),Hn.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Zt(this,In)}subscribe(t,n){if(Hn.isServer)return()=>{};let r={selector:t,callback:n,current:t(Zt(this,In))};return Zt(this,Wo).add(r),this.disposables.add(()=>{Zt(this,Wo).delete(r)})}on(t,n){return Hn.isServer?()=>{}:(Zt(this,Vo).get(t).add(n),this.disposables.add(()=>{Zt(this,Vo).get(t).delete(n)}))}send(t){let n=this.reduce(Zt(this,In),t);if(n!==Zt(this,In)){v0(this,In,n);for(let r of Zt(this,Wo)){let s=r.selector(Zt(this,In));n1(r.current,s)||(r.current=s,r.callback(s))}for(let r of Zt(this,Vo).get(t.type))r(Zt(this,In),t)}}};In=new WeakMap,Vo=new WeakMap,Wo=new WeakMap;function n1(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Hd(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Hd(e.entries(),t.entries()):w0(e)&&w0(t)?Hd(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Hd(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function w0(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var T$=Object.defineProperty,P$=(e,t,n)=>t in e?T$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b0=(e,t,n)=>(P$(e,typeof t!="symbol"?t+"":t,n),n),A$=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(A$||{});let j$={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(n),r=i,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},R$=class r1 extends C${constructor(){super(...arguments),b0(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),b0(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new r1({stack:[]})}reduce(t,n){return mr(n.type,j$,t,n)}};const s1=new e1(()=>R$.new());var i1={exports:{}},o1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl=_;function O$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I$=typeof Object.is=="function"?Object.is:O$,D$=dl.useSyncExternalStore,N$=dl.useRef,L$=dl.useEffect,$$=dl.useMemo,M$=dl.useDebugValue;o1.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=N$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=$$(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),s!==void 0&&o.hasValue){var v=o.value;if(s(v,f))return d=v}return d=f}if(v=d,I$(c,f))return v;var m=r(f);return s!==void 0&&s(v,m)?(c=f,v):(c=f,d=m)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,s]);var a=D$(e,i[0],i[1]);return L$(function(){o.hasValue=!0,o.value=a},[a]),M$(a),a};i1.exports=o1;var F$=i1.exports;function a1(e,t,n=n1){return F$.useSyncExternalStoreWithSelector(Pe(r=>e.subscribe(U$,r)),Pe(()=>e.state),Pe(()=>e.state),Pe(t),n)}function U$(e){return e}function hl(e,t){let n=_.useId(),r=s1.get(t),[s,i]=a1(r,_.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Mt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?i?s:!0:!1}let zf=new Map,ca=new Map;function _0(e){var t;let n=(t=ca.get(e))!=null?t:0;return ca.set(e,n+1),n!==0?()=>x0(e):(zf.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>x0(e))}function x0(e){var t;let n=(t=ca.get(e))!=null?t:1;if(n===1?ca.delete(e):ca.set(e,n-1),n!==1)return;let r=zf.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,zf.delete(e))}function B$(e,{allowed:t,disallowed:n}={}){let r=hl(e,"inert-others");Mt(()=>{var s,i;if(!r)return;let o=yr();for(let l of(s=n==null?void 0:n())!=null?s:[])l&&o.add(_0(l));let a=(i=t==null?void 0:t())!=null?i:[];for(let l of a){if(!l)continue;let u=ul(l);if(!u)continue;let c=l.parentElement;for(;c&&c!==u.body;){for(let d of c.children)a.some(h=>d.contains(h))||o.add(_0(d));c=c.parentElement}}return o.dispose},[r,t,n])}function z$(e,t,n){let r=ni(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});_.useEffect(()=>{if(!e)return;let s=t===null?null:Js(t)?t:t.current;if(!s)return;let i=yr();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[t,r,e])}let tc=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),V$=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var tr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(tr||{}),Vf=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Vf||{}),W$=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(W$||{});function H$(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(tc)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function K$(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(V$)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var l1=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(l1||{});function q$(e,t=0){var n;return e===((n=ul(e))==null?void 0:n.body)?!1:mr(t,{0(){return e.matches(tc)},1(){let r=e;for(;r!==null;){if(r.matches(tc))return!0;r=r.parentElement}return!1}})}var G$=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(G$||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function or(e){e==null||e.focus({preventScroll:!0})}let Q$=["textarea","input"].join(",");function J$(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Q$))!=null?n:!1}function Y$(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),i=t(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function da(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?Ff(e[0]):document:Ff(e),o=Array.isArray(e)?n?Y$(e):e:t&64?K$(e):H$(e);s.length>0&&o.length>1&&(o=o.filter(f=>!s.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===f:v===f))),r=r??(i==null?void 0:i.activeElement);let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,d=o.length,h;do{if(c>=d||c+d<=0)return 0;let f=l+c;if(t&16)f=(f+d)%d;else{if(f<0)return 3;if(f>=d)return 1}h=o[f],h==null||h.focus(u),c+=a}while(h!==QS(h));return t&6&&J$(h)&&h.select(),2}function u1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Z$(){return/Android/gi.test(window.navigator.userAgent)}function S0(){return u1()||Z$()}function ql(e,t,n,r){let s=ni(n);_.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function c1(e,t,n,r){let s=ni(n);_.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const k0=30;function X$(e,t,n){let r=ni(n),s=_.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let c=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of c)if(d!==null&&(d.contains(u)||a.composed&&a.composedPath().includes(d)))return;return!q$(u,l1.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,t]),i=_.useRef(null);ql(e,"pointerdown",a=>{var l,u;S0()||(i.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),ql(e,"pointerup",a=>{if(S0()||!i.current)return;let l=i.current;return i.current=null,s(a,()=>l)},!0);let o=_.useRef({x:0,y:0});ql(e,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),ql(e,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=k0||Math.abs(l.y-o.current.y)>=k0))return s(a,()=>Vr(a.target)?a.target:null)},!0),c1(e,"blur",a=>s(a,()=>f$(window.document.activeElement)?window.document.activeElement:null),!0)}function Km(...e){return _.useMemo(()=>ul(...e),[...e])}function d1(e,t,n,r){let s=ni(n);_.useEffect(()=>{e=e??window;function i(o){s.current(o)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function e3(e){return _.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function t3(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let o=t[s].call(n,...i);o&&(n=o,r.forEach(a=>a()))}}}function n3(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-s);n.style(r,"paddingRight",`${i}px`)}}}function r3(){return u1()?{before({doc:e,d:t,meta:n}){function r(s){for(let i of n().containers)for(let o of i())if(o.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=yr();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",a=>{if(Vr(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);Vr(c)&&!r(c)&&(o=c)}catch{}},!0),t.group(a=>{t.addEventListener(e,"touchstart",l=>{if(a.dispose(),Vr(l.target)&&h$(l.target))if(r(l.target)){let u=l.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;a.style(u,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",a=>{if(Vr(a.target)){if(p$(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;i!==l&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function s3(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function E0(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let js=t3(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:yr(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=E0(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=E0(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[r3(),n3(),s3()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});js.subscribe(()=>{let e=js.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&js.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&js.dispatch("TEARDOWN",n)}});function i3(e,t,n=()=>({containers:[]})){let r=e3(js),s=t?r.get(t):void 0,i=s?s.count>0:!1;return Mt(()=>{if(!(!t||!e))return js.dispatch("PUSH",t,n),()=>js.dispatch("POP",t,n)},[e,t]),i}function o3(e,t,n=()=>[document.body]){let r=hl(e,"scroll-lock");i3(r,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],n]}})}function a3(e=0){let[t,n]=_.useState(e),r=_.useCallback(l=>n(l),[]),s=_.useCallback(l=>n(u=>u|l),[]),i=_.useCallback(l=>(t&l)===l,[t]),o=_.useCallback(l=>n(u=>u&~l),[]),a=_.useCallback(l=>n(u=>u^l),[]);return{flags:t,setFlag:r,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:a}}var l3={},C0,T0;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((C0=process==null?void 0:l3)==null?void 0:C0.NODE_ENV)==="test"&&typeof((T0=Element==null?void 0:Element.prototype)==null?void 0:T0.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var u3=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(u3||{});function c3(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function d3(e,t,n,r){let[s,i]=_.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=a3(e&&s?3:0),u=_.useRef(!1),c=_.useRef(!1),d=Dc();return Mt(()=>{var h;if(e){if(n&&i(!0),!t){n&&a(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),h3(t,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){c.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var f;c.current&&m3(t)||(u.current=!1,l(7),n||i(!1),(f=r==null?void 0:r.end)==null||f.call(r,n))}})}},[e,n,t,d]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function h3(e,{prepare:t,run:n,done:r,inFlight:s}){let i=yr();return p3(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(f3(e,r))})}),i.dispose}function f3(e,t){var n,r;let s=yr();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{i||t()}),s.dispose)}function p3(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function m3(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function qm(e,t){let n=_.useRef([]),r=Pe(e);_.useEffect(()=>{let s=[...n.current];for(let[i,o]of t.entries())if(n.current[i]!==o){let a=r(t,s);return n.current=t,a}},[r,...t])}let Nc=_.createContext(null);Nc.displayName="OpenClosedContext";var En=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(En||{});function Lc(){return _.useContext(Nc)}function g3({value:e,children:t}){return he.createElement(Nc.Provider,{value:e},t)}function y3({children:e}){return he.createElement(Nc.Provider,{value:null},e)}function v3(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Rr=[];v3(()=>{function e(t){if(!Vr(t.target)||t.target===document.body||Rr[0]===t.target)return;let n=t.target;n=n.closest(tc),Rr.unshift(n??t.target),Rr=Rr.filter(r=>r!=null&&r.isConnected),Rr.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function h1(e){let t=Pe(e),n=_.useRef(!1);_.useEffect(()=>(n.current=!1,()=>{n.current=!0,Ic(()=>{n.current&&t()})}),[t])}let f1=_.createContext(!1);function w3(){return _.useContext(f1)}function P0(e){return he.createElement(f1.Provider,{value:e.force},e.children)}function b3(e){let t=w3(),n=_.useContext(m1),[r,s]=_.useState(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(Hn.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return _.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),_.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let p1=_.Fragment,_3=Ft(function(e,t){let{ownerDocument:n=null,...r}=e,s=_.useRef(null),i=Kn(m$(h=>{s.current=h}),t),o=Km(s.current),a=n??o,l=b3(a),u=_.useContext(Wf),c=Dc(),d=fn();return h1(()=>{var h;l&&l.childNodes.length<=0&&((h=l.parentElement)==null||h.removeChild(l))}),l?zp.createPortal(he.createElement("div",{"data-headlessui-portal":"",ref:h=>{c.dispose(),u&&h&&c.add(u.register(h))}},d({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:p1,name:"Portal"})),l):null});function x3(e,t){let n=Kn(t),{enabled:r=!0,ownerDocument:s,...i}=e,o=fn();return r?he.createElement(_3,{...i,ownerDocument:s,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:p1,name:"Portal"})}let S3=_.Fragment,m1=_.createContext(null);function k3(e,t){let{target:n,...r}=e,s={ref:Kn(t)},i=fn();return he.createElement(m1.Provider,{value:n},i({ourProps:s,theirProps:r,defaultTag:S3,name:"Popover.Group"}))}let Wf=_.createContext(null);function E3(){let e=_.useContext(Wf),t=_.useRef([]),n=Pe(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=Pe(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),s=_.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,_.useMemo(()=>function({children:i}){return he.createElement(Wf.Provider,{value:s},i)},[s])]}let C3=Ft(x3),g1=Ft(k3),T3=Object.assign(C3,{Group:g1});function P3(e,t=typeof document<"u"?document.defaultView:null,n){let r=hl(e,"escape");d1(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===XS.Escape&&n(s))})}function A3(){var e;let[t]=_.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=_.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Mt(()=>{if(!t)return;function s(i){r(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function j3({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Pe(()=>{var s,i;let o=ul(n),a=[];for(let l of e)l!==null&&(Xr(l)?a.push(l):"current"in l&&Xr(l.current)&&a.push(l.current));if(t!=null&&t.current)for(let l of t.current)a.push(l);for(let l of(s=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&Xr(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((i=n==null?void 0:n.getRootNode())==null?void 0:i.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:r,contains:Pe(s=>r().some(i=>i.contains(s)))}}let y1=_.createContext(null);function A0({children:e,node:t}){let[n,r]=_.useState(null),s=v1(t??n);return he.createElement(y1.Provider,{value:s},e,s===null&&he.createElement(Bf,{features:ec.Hidden,ref:i=>{var o,a;if(i){for(let l of(a=(o=ul(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&Xr(l)&&l!=null&&l.contains(i)){r(l);break}}}}))}function v1(e=null){var t;return(t=_.useContext(y1))!=null?t:e}function R3(){let e=typeof document>"u";return"useSyncExternalStore"in tg?(t=>t.useSyncExternalStore)(tg)(()=>()=>{},()=>!1,()=>!e):!1}function $c(){let e=R3(),[t,n]=_.useState(Hn.isHandoffComplete);return t&&Hn.isHandoffComplete===!1&&n(!1),_.useEffect(()=>{t!==!0&&n(!0)},[t]),_.useEffect(()=>Hn.handoff(),[]),e?!1:t}function Gm(){let e=_.useRef(!1);return Mt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ho=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ho||{});function O3(){let e=_.useRef(0);return c1(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function w1(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)Xr(n.current)&&t.add(n.current);return t}let I3="div";var xs=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(xs||{});function D3(e,t){let n=_.useRef(null),r=Kn(n,t),{initialFocus:s,initialFocusFallback:i,containers:o,features:a=15,...l}=e;$c()||(a=0);let u=Km(n.current);M3(a,{ownerDocument:u});let c=F3(a,{ownerDocument:u,container:n,initialFocus:s,initialFocusFallback:i});U3(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:c});let d=O3(),h=Pe(g=>{if(!Js(n.current))return;let y=n.current;(x=>x())(()=>{mr(d.current,{[Ho.Forwards]:()=>{da(y,tr.First,{skipElements:[g.relatedTarget,i]})},[Ho.Backwards]:()=>{da(y,tr.Last,{skipElements:[g.relatedTarget,i]})}})})}),f=hl(!!(a&2),"focus-trap#tab-lock"),v=Dc(),m=_.useRef(!1),w={ref:r,onKeyDown(g){g.key=="Tab"&&(m.current=!0,v.requestAnimationFrame(()=>{m.current=!1}))},onBlur(g){if(!(a&4))return;let y=w1(o);Js(n.current)&&y.add(n.current);let x=g.relatedTarget;Vr(x)&&x.dataset.headlessuiFocusGuard!=="true"&&(b1(y,x)||(m.current?da(n.current,mr(d.current,{[Ho.Forwards]:()=>tr.Next,[Ho.Backwards]:()=>tr.Previous})|tr.WrapAround,{relativeTo:g.target}):Vr(g.target)&&or(g.target)))}},p=fn();return he.createElement(he.Fragment,null,f&&he.createElement(Bf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ec.Focusable}),p({ourProps:w,theirProps:l,defaultTag:I3,name:"FocusTrap"}),f&&he.createElement(Bf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ec.Focusable}))}let N3=Ft(D3),L3=Object.assign(N3,{features:xs});function $3(e=!0){let t=_.useRef(Rr.slice());return qm(([n],[r])=>{r===!0&&n===!1&&Ic(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Rr.slice())},[e,Rr,t]),Pe(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function M3(e,{ownerDocument:t}){let n=!!(e&8),r=$3(n);qm(()=>{n||t$(t==null?void 0:t.body)&&or(r())},[n]),h1(()=>{n&&or(r())})}function F3(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let i=_.useRef(null),o=hl(!!(e&1),"focus-trap#initial-focus"),a=Gm();return qm(()=>{if(e===0)return;if(!o){s!=null&&s.current&&or(s.current);return}let l=n.current;l&&Ic(()=>{if(!a.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){i.current=u;return}}else if(l.contains(u)){i.current=u;return}if(r!=null&&r.current)or(r.current);else{if(e&16){if(da(l,tr.First|tr.AutoFocus)!==Vf.Error)return}else if(da(l,tr.First)!==Vf.Error)return;if(s!=null&&s.current&&(or(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[s,o,e]),i}function U3(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let i=Gm(),o=!!(e&4);d1(t==null?void 0:t.defaultView,"focus",a=>{if(!o||!i.current)return;let l=w1(r);Js(n.current)&&l.add(n.current);let u=s.current;if(!u)return;let c=a.target;Js(c)?b1(l,c)?(s.current=c,or(c)):(a.preventDefault(),a.stopPropagation(),or(u)):or(s.current)},!0)}function b1(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function _1(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!ua((t=e.as)!=null?t:S1)||he.Children.count(e.children)===1}let Mc=_.createContext(null);Mc.displayName="TransitionContext";var B3=(e=>(e.Visible="visible",e.Hidden="hidden",e))(B3||{});function z3(){let e=_.useContext(Mc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function V3(){let e=_.useContext(Fc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Fc=_.createContext(null);Fc.displayName="NestingContext";function Uc(e){return"children"in e?Uc(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function x1(e,t){let n=ni(e),r=_.useRef([]),s=Gm(),i=Dc(),o=Pe((f,v=zr.Hidden)=>{let m=r.current.findIndex(({el:w})=>w===f);m!==-1&&(mr(v,{[zr.Unmount](){r.current.splice(m,1)},[zr.Hidden](){r.current[m].state="hidden"}}),i.microTask(()=>{var w;!Uc(r)&&s.current&&((w=n.current)==null||w.call(n))}))}),a=Pe(f=>{let v=r.current.find(({el:m})=>m===f);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:f,state:"visible"}),()=>o(f,zr.Unmount)}),l=_.useRef([]),u=_.useRef(Promise.resolve()),c=_.useRef({enter:[],leave:[]}),d=Pe((f,v,m)=>{l.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([w])=>w!==f)),t==null||t.chains.current[v].push([f,new Promise(w=>{l.current.push(w)})]),t==null||t.chains.current[v].push([f,new Promise(w=>{Promise.all(c.current[v].map(([p,g])=>g)).then(()=>w())})]),v==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>m(v)):m(v)}),h=Pe((f,v,m)=>{Promise.all(c.current[v].splice(0).map(([w,p])=>p)).then(()=>{var w;(w=l.current.shift())==null||w()}).then(()=>m(v))});return _.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:h,wait:u,chains:c}),[a,o,r,d,h,c,u])}let S1=_.Fragment,k1=Xu.RenderStrategy;function W3(e,t){var n,r;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:c,enterTo:d,entered:h,leave:f,leaveFrom:v,leaveTo:m,...w}=e,[p,g]=_.useState(null),y=_.useRef(null),x=_1(e),E=Kn(...x?[y,t,g]:t===null?[]:[t]),T=(n=w.unmount)==null||n?zr.Unmount:zr.Hidden,{show:C,appear:A,initial:D}=z3(),[L,J]=_.useState(C?"visible":"hidden"),O=V3(),{register:z,unregister:k}=O;Mt(()=>z(y),[z,y]),Mt(()=>{if(T===zr.Hidden&&y.current){if(C&&L!=="visible"){J("visible");return}return mr(L,{hidden:()=>k(y),visible:()=>z(y)})}},[L,y,z,k,C,T]);let W=$c();Mt(()=>{if(x&&W&&L==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,L,W,x]);let oe=D&&!A,R=A&&C&&D,U=_.useRef(!1),F=x1(()=>{U.current||(J("hidden"),k(y))},O),H=Pe(ge=>{U.current=!0;let re=ge?"enter":"leave";F.onStart(y,re,ye=>{ye==="enter"?i==null||i():ye==="leave"&&(a==null||a())})}),I=Pe(ge=>{let re=ge?"enter":"leave";U.current=!1,F.onStop(y,re,ye=>{ye==="enter"?o==null||o():ye==="leave"&&(l==null||l())}),re==="leave"&&!Uc(F)&&(J("hidden"),k(y))});_.useEffect(()=>{x&&s||(H(C),I(C))},[C,x,s]);let N=!(!s||!x||!W||oe),[,K]=d3(N,p,C,{start:H,end:I}),Z=ws({ref:E,className:((r=Uf(w.className,R&&u,R&&c,K.enter&&u,K.enter&&K.closed&&c,K.enter&&!K.closed&&d,K.leave&&f,K.leave&&!K.closed&&v,K.leave&&K.closed&&m,!K.transition&&C&&h))==null?void 0:r.trim())||void 0,...c3(K)}),Q=0;L==="visible"&&(Q|=En.Open),L==="hidden"&&(Q|=En.Closed),C&&L==="hidden"&&(Q|=En.Opening),!C&&L==="visible"&&(Q|=En.Closing);let ce=fn();return he.createElement(Fc.Provider,{value:F},he.createElement(g3,{value:Q},ce({ourProps:Z,theirProps:w,defaultTag:S1,features:k1,visible:L==="visible",name:"Transition.Child"})))}function H3(e,t){let{show:n,appear:r=!1,unmount:s=!0,...i}=e,o=_.useRef(null),a=_1(e),l=Kn(...a?[o,t]:t===null?[]:[t]);$c();let u=Lc();if(n===void 0&&u!==null&&(n=(u&En.Open)===En.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,d]=_.useState(n?"visible":"hidden"),h=x1(()=>{n||d("hidden")}),[f,v]=_.useState(!0),m=_.useRef([n]);Mt(()=>{f!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),v(!1))},[m,n]);let w=_.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);Mt(()=>{n?d("visible"):!Uc(h)&&o.current!==null&&d("hidden")},[n,h]);let p={unmount:s},g=Pe(()=>{var E;f&&v(!1),(E=e.beforeEnter)==null||E.call(e)}),y=Pe(()=>{var E;f&&v(!1),(E=e.beforeLeave)==null||E.call(e)}),x=fn();return he.createElement(Fc.Provider,{value:h},he.createElement(Mc.Provider,{value:w},x({ourProps:{...p,as:_.Fragment,children:he.createElement(E1,{ref:l,...p,...i,beforeEnter:g,beforeLeave:y})},theirProps:{},defaultTag:_.Fragment,features:k1,visible:c==="visible",name:"Transition"})))}function K3(e,t){let n=_.useContext(Mc)!==null,r=Lc()!==null;return he.createElement(he.Fragment,null,!n&&r?he.createElement(Hf,{ref:t,...e}):he.createElement(E1,{ref:t,...e}))}let Hf=Ft(H3),E1=Ft(W3),Qm=Ft(K3),pu=Object.assign(Hf,{Child:Qm,Root:Hf});var q3=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(q3||{}),G3=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(G3||{});let Q3={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Jm=_.createContext(null);Jm.displayName="DialogContext";function Bc(e){let t=_.useContext(Jm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Bc),n}return t}function J3(e,t){return mr(t.type,Q3,e,t)}let j0=Ft(function(e,t){let n=_.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:c=!1,...d}=e,h=_.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let f=Lc();s===void 0&&f!==null&&(s=(f&En.Open)===En.Open);let v=_.useRef(null),m=Kn(v,t),w=Km(v.current),p=s?0:1,[g,y]=_.useReducer(J3,{titleId:null,descriptionId:null,panelRef:_.createRef()}),x=Pe(()=>i(!1)),E=Pe(K=>y({type:0,id:K})),T=$c()?p===0:!1,[C,A]=E3(),D={get current(){var K;return(K=g.panelRef.current)!=null?K:v.current}},L=v1(),{resolveContainers:J}=j3({mainTreeNode:L,portals:C,defaultContainers:[D]}),O=f!==null?(f&En.Closing)===En.Closing:!1;B$(u||O?!1:T,{allowed:Pe(()=>{var K,Z;return[(Z=(K=v.current)==null?void 0:K.closest("[data-headlessui-portal]"))!=null?Z:null]}),disallowed:Pe(()=>{var K;return[(K=L==null?void 0:L.closest("body > *:not(#headlessui-portal-root)"))!=null?K:null]})});let z=s1.get(null);Mt(()=>{if(T)return z.actions.push(r),()=>z.actions.pop(r)},[z,r,T]);let k=a1(z,_.useCallback(K=>z.selectors.isTop(K,r),[z,r]));X$(k,J,K=>{K.preventDefault(),x()}),P3(k,w==null?void 0:w.defaultView,K=>{K.preventDefault(),K.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),x()}),o3(u||O?!1:T,w,J),z$(T,v,x);let[W,oe]=g$(),R=_.useMemo(()=>[{dialogState:p,close:x,setTitleId:E,unmount:c},g],[p,x,E,c,g]),U=cl({open:p===0}),F={ref:m,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:p===0?!0:void 0,"aria-labelledby":g.titleId,"aria-describedby":W,unmount:c},H=!A3(),I=xs.None;T&&!u&&(I|=xs.RestoreFocus,I|=xs.TabLock,l&&(I|=xs.AutoFocus),H&&(I|=xs.InitialFocus));let N=fn();return he.createElement(y3,null,he.createElement(P0,{force:!0},he.createElement(T3,null,he.createElement(Jm.Provider,{value:R},he.createElement(g1,{target:v},he.createElement(P0,{force:!1},he.createElement(oe,{slot:U},he.createElement(A,null,he.createElement(L3,{initialFocus:o,initialFocusFallback:v,containers:J,features:I},he.createElement(x$,{value:x},N({ourProps:F,theirProps:d,slot:U,defaultTag:Y3,features:Z3,visible:p===0,name:"Dialog"})))))))))))}),Y3="div",Z3=Xu.RenderStrategy|Xu.Static;function X3(e,t){let{transition:n=!1,open:r,...s}=e,i=Lc(),o=e.hasOwnProperty("open")||i!==null,a=e.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?he.createElement(A0,null,he.createElement(pu,{show:r,transition:n,unmount:s.unmount},he.createElement(j0,{ref:t,...s}))):he.createElement(A0,null,he.createElement(j0,{ref:t,open:r,...s}))}let eM="div";function tM(e,t){let n=_.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...i}=e,[{dialogState:o,unmount:a},l]=Bc("Dialog.Panel"),u=Kn(t,l.panelRef),c=cl({open:o===0}),d=Pe(w=>{w.stopPropagation()}),h={ref:u,id:r,onClick:d},f=s?Qm:_.Fragment,v=s?{unmount:a}:{},m=fn();return he.createElement(f,{...v},m({ourProps:h,theirProps:i,slot:c,defaultTag:eM,name:"Dialog.Panel"}))}let nM="div";function rM(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:i}]=Bc("Dialog.Backdrop"),o=cl({open:s===0}),a={ref:t,"aria-hidden":!0},l=n?Qm:_.Fragment,u=n?{unmount:i}:{},c=fn();return he.createElement(l,{...u},c({ourProps:a,theirProps:r,slot:o,defaultTag:nM,name:"Dialog.Backdrop"}))}let sM="h2";function iM(e,t){let n=_.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:i,setTitleId:o}]=Bc("Dialog.Title"),a=Kn(t);_.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=cl({open:i===0}),u={ref:a,id:r};return fn()({ourProps:u,theirProps:s,slot:l,defaultTag:sM,name:"Dialog.Title"})}let oM=Ft(X3),aM=Ft(tM);Ft(rM);let lM=Ft(iM),Kd=Object.assign(oM,{Panel:aM,Title:lM,Description:b$});const uM=({isOpen:e,onClose:t,onLanguageSave:n,currentLanguage:r})=>{const[s,i]=_.useState(r),o=l=>{i(l.target.value)},a=()=>{n(s),t()};return b.jsx(pu,{appear:!0,show:e,as:_.Fragment,children:b.jsxs(Kd,{as:"div",className:"relative z-10",onClose:t,children:[b.jsxs(pu.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})," "]}),b.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:b.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:b.jsx(pu.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:b.jsxs(Kd.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[b.jsx(Kd.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Language Settings"}),b.jsxs("div",{className:"mt-2",children:[b.jsxs("label",{className:"block",children:[b.jsx("input",{type:"radio",name:"language",value:"iast",checked:s==="iast",onChange:o,className:"mr-2"}),"IAST"]}),b.jsx("br",{}),b.jsxs("label",{className:"block",children:[b.jsx("input",{type:"radio",name:"language",value:"tamil_superscripted",checked:s==="tamil_superscripted",onChange:o,className:"mr-2"}),"Tamil"]}),b.jsx("br",{}),b.jsxs("label",{className:"block",children:[b.jsx("input",{type:"radio",name:"language",value:"malayalam",checked:s==="malayalam",onChange:o,className:"mr-2"}),"Malayalam"]}),b.jsx("br",{}),b.jsxs("label",{className:"block",children:[b.jsx("input",{type:"radio",name:"language",value:"devanagari",checked:s==="devanagari",onChange:o,className:"mr-2"}),"Devanagari"]}),b.jsx("br",{}),b.jsxs("label",{className:"block",children:[b.jsx("input",{type:"radio",name:"language",value:"itrans",checked:s==="itrans",onChange:o,className:"mr-2"}),"ITrans"]}),b.jsx("br",{})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 mr-2",onClick:t,children:"Close"}),b.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:a,children:"Save"})]})]})})})})]})})},cM=()=>{const[e,t]=_.useState(navigator.onLine);_.useEffect(()=>{const h=()=>t(!0),f=()=>t(!1);return window.addEventListener("online",h),window.addEventListener("offline",f),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(v=>{console.log("Service Worker is active:",v.active)}),()=>{window.removeEventListener("online",h),window.removeEventListener("offline",f)}},[]);const{preferredLanguage:n,setPreferredLanguage:r}=go(),{session:s}=ls(),[i,o]=_.useState(!1),a=()=>o(!i),[l,u]=_.useState(!1),c=()=>u(!0),d=()=>u(!1);return _.useEffect(()=>{s&&o(!1)},[s]),b.jsx(ZA,{children:b.jsx(aA,{children:b.jsxs("div",{className:"app-layout",children:[" ",b.jsx("div",{className:"flex justify-end p-4 bg-gray-100",children:b.jsx(YL,{toggleDropdown:a,isDropdownOpen:i,openLanguageSettings:c})}),b.jsx(uM,{isOpen:l,onClose:d,onLanguageSave:r,currentLanguage:n}),b.jsx(JA,{children:b.jsxs(JL,{children:[b.jsx(GL,{}),b.jsx(NL,{})]})})]})})})};function dM(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=e;let a,l;const u=async(d=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(a=await fo(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/new-sankeertan/sw.js",{scope:"/new-sankeertan/",type:"classic"})).catch(d=>{o==null||o(d)}),!a)return;a.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),a.addEventListener("installed",d=>{d.isUpdate||r==null||r()}),a.register({immediate:t}).then(d=>{i?i("/new-sankeertan/sw.js",d):s==null||s(d)}).catch(d=>{o==null||o(d)})}}return l=c(),u}dM();const hM=new LA({defaultOptions:{queries:{staleTime:1/0,gcTime:1/0}}}),fM=qd.createRoot(document.getElementById("root"));fM.render(b.jsx(he.StrictMode,{children:b.jsx($A,{client:hM,children:b.jsx(fT,{children:b.jsx(ex,{children:b.jsx(cM,{})})})})}));
