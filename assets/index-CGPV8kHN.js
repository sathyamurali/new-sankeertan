var rT=Object.defineProperty;var n0=e=>{throw TypeError(e)};var iT=(e,t,n)=>t in e?rT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var hc=(e,t,n)=>iT(e,typeof t!="symbol"?t+"":t,n),yh=(e,t,n)=>t.has(e)||n0("Cannot "+n);var G=(e,t,n)=>(yh(e,t,"read from private field"),n?n.call(e):t.get(e)),Ve=(e,t,n)=>t.has(e)?n0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Le=(e,t,n,r)=>(yh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),it=(e,t,n)=>(yh(e,t,"access private method"),n);var pc=(e,t,n,r)=>({set _(i){Le(e,t,i,n)},get _(){return G(e,t,r)}});function sT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function oT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var W_={exports:{}},tf={},H_={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),aT=Symbol.for("react.portal"),lT=Symbol.for("react.fragment"),uT=Symbol.for("react.strict_mode"),cT=Symbol.for("react.profiler"),dT=Symbol.for("react.provider"),fT=Symbol.for("react.context"),hT=Symbol.for("react.forward_ref"),pT=Symbol.for("react.suspense"),mT=Symbol.for("react.memo"),gT=Symbol.for("react.lazy"),r0=Symbol.iterator;function yT(e){return e===null||typeof e!="object"?null:(e=r0&&e[r0]||e["@@iterator"],typeof e=="function"?e:null)}var q_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G_=Object.assign,Q_={};function Ra(e,t,n){this.props=e,this.context=t,this.refs=Q_,this.updater=n||q_}Ra.prototype.isReactComponent={};Ra.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ra.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Y_(){}Y_.prototype=Ra.prototype;function _g(e,t,n){this.props=e,this.context=t,this.refs=Q_,this.updater=n||q_}var xg=_g.prototype=new Y_;xg.constructor=_g;G_(xg,Ra.prototype);xg.isPureReactComponent=!0;var i0=Array.isArray,J_=Object.prototype.hasOwnProperty,Sg={current:null},Z_={key:!0,ref:!0,__self:!0,__source:!0};function X_(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)J_.call(t,r)&&!Z_.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xu,type:e,key:s,ref:o,props:i,_owner:Sg.current}}function vT(e,t){return{$$typeof:xu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kg(e){return typeof e=="object"&&e!==null&&e.$$typeof===xu}function wT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var s0=/\/+/g;function vh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wT(""+e.key):t.toString(36)}function Wc(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xu:case aT:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+vh(o,0):r,i0(i)?(n="",e!=null&&(n=e.replace(s0,"$&/")+"/"),Wc(i,t,n,"",function(u){return u})):i!=null&&(kg(i)&&(i=vT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(s0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",i0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+vh(s,a);o+=Wc(s,t,n,l,i)}else if(l=yT(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+vh(s,a++),o+=Wc(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function mc(e,t,n){if(e==null)return e;var r=[],i=0;return Wc(e,r,"","",function(s){return t.call(n,s,i++)}),r}function bT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wn={current:null},Hc={transition:null},_T={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:Sg};function ex(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:mc,forEach:function(e,t,n){mc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mc(e,function(){t++}),t},toArray:function(e){return mc(e,function(t){return t})||[]},only:function(e){if(!kg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nt.Component=Ra;nt.Fragment=lT;nt.Profiler=cT;nt.PureComponent=_g;nt.StrictMode=uT;nt.Suspense=pT;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_T;nt.act=ex;nt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=G_({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Sg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)J_.call(t,l)&&!Z_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xu,type:e.type,key:i,ref:s,props:r,_owner:o}};nt.createContext=function(e){return e={$$typeof:fT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dT,_context:e},e.Consumer=e};nt.createElement=X_;nt.createFactory=function(e){var t=X_.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:hT,render:e}};nt.isValidElement=kg;nt.lazy=function(e){return{$$typeof:gT,_payload:{_status:-1,_result:e},_init:bT}};nt.memo=function(e,t){return{$$typeof:mT,type:e,compare:t===void 0?null:t}};nt.startTransition=function(e){var t=Hc.transition;Hc.transition={};try{e()}finally{Hc.transition=t}};nt.unstable_act=ex;nt.useCallback=function(e,t){return wn.current.useCallback(e,t)};nt.useContext=function(e){return wn.current.useContext(e)};nt.useDebugValue=function(){};nt.useDeferredValue=function(e){return wn.current.useDeferredValue(e)};nt.useEffect=function(e,t){return wn.current.useEffect(e,t)};nt.useId=function(){return wn.current.useId()};nt.useImperativeHandle=function(e,t,n){return wn.current.useImperativeHandle(e,t,n)};nt.useInsertionEffect=function(e,t){return wn.current.useInsertionEffect(e,t)};nt.useLayoutEffect=function(e,t){return wn.current.useLayoutEffect(e,t)};nt.useMemo=function(e,t){return wn.current.useMemo(e,t)};nt.useReducer=function(e,t,n){return wn.current.useReducer(e,t,n)};nt.useRef=function(e){return wn.current.useRef(e)};nt.useState=function(e){return wn.current.useState(e)};nt.useSyncExternalStore=function(e,t,n){return wn.current.useSyncExternalStore(e,t,n)};nt.useTransition=function(){return wn.current.useTransition()};nt.version="18.3.1";H_.exports=nt;var E=H_.exports;const Ke=ef(E),o0=sT({__proto__:null,default:Ke},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT=E,ST=Symbol.for("react.element"),kT=Symbol.for("react.fragment"),ET=Object.prototype.hasOwnProperty,CT=xT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TT={key:!0,ref:!0,__self:!0,__source:!0};function tx(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ET.call(t,r)&&!TT.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ST,type:e,key:s,ref:o,props:i,_owner:CT.current}}tf.Fragment=kT;tf.jsx=tx;tf.jsxs=tx;W_.exports=tf;var k=W_.exports,_p={},nx={exports:{}},Wn={},rx={exports:{}},ix={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,Z){var ue=X.length;X.push(Z);e:for(;0<ue;){var U=ue-1>>>1,K=X[U];if(0<i(K,Z))X[U]=Z,X[ue]=K,ue=U;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var Z=X[0],ue=X.pop();if(ue!==Z){X[0]=ue;e:for(var U=0,K=X.length,de=K>>>1;U<de;){var we=2*(U+1)-1,ye=X[we],Be=we+1,qe=X[Be];if(0>i(ye,ue))Be<K&&0>i(qe,ye)?(X[U]=qe,X[Be]=ue,U=Be):(X[U]=ye,X[we]=ue,U=we);else if(Be<K&&0>i(qe,ue))X[U]=qe,X[Be]=ue,U=Be;else break e}}return Z}function i(X,Z){var ue=X.sortIndex-Z.sortIndex;return ue!==0?ue:X.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,p=3,m=!1,_=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(X){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=X)r(u),Z.sortIndex=Z.expirationTime,t(l,Z);else break;Z=n(u)}}function C(X){if(y=!1,w(X),!_)if(n(l)!==null)_=!0,Oe(O);else{var Z=n(u);Z!==null&&$(C,Z.startTime-X)}}function O(X,Z){_=!1,y&&(y=!1,g(M),M=-1),m=!0;var ue=p;try{for(w(Z),f=n(l);f!==null&&(!(f.expirationTime>Z)||X&&!ve());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var K=U(f.expirationTime<=Z);Z=e.unstable_now(),typeof K=="function"?f.callback=K:f===n(l)&&r(l),w(Z)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var we=n(u);we!==null&&$(C,we.startTime-Z),de=!1}return de}finally{f=null,p=ue,m=!1}}var R=!1,I=null,M=-1,z=5,W=-1;function ve(){return!(e.unstable_now()-W<z)}function F(){if(I!==null){var X=e.unstable_now();W=X;var Z=!0;try{Z=I(!0,X)}finally{Z?ee():(R=!1,I=null)}}else R=!1}var ee;if(typeof v=="function")ee=function(){v(F)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,le=A.port2;A.port1.onmessage=F,ee=function(){le.postMessage(null)}}else ee=function(){x(F,0)};function Oe(X){I=X,R||(R=!0,ee())}function $(X,Z){M=x(function(){X(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){_||m||(_=!0,Oe(O))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(X){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ue=p;p=Z;try{return X()}finally{p=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=p;p=X;try{return Z()}finally{p=ue}},e.unstable_scheduleCallback=function(X,Z,ue){var U=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?U+ue:U):ue=U,X){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ue+K,X={id:c++,callback:Z,priorityLevel:X,startTime:ue,expirationTime:K,sortIndex:-1},ue>U?(X.sortIndex=ue,t(u,X),n(l)===null&&X===n(u)&&(y?(g(M),M=-1):y=!0,$(C,ue-U))):(X.sortIndex=K,t(l,X),_||m||(_=!0,Oe(O))),X},e.unstable_shouldYield=ve,e.unstable_wrapCallback=function(X){var Z=p;return function(){var ue=p;p=Z;try{return X.apply(this,arguments)}finally{p=ue}}}})(ix);rx.exports=ix;var PT=rx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT=E,Vn=PT;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sx=new Set,Vl={};function mo(e,t){xa(e,t),xa(e+"Capture",t)}function xa(e,t){for(Vl[e]=t,e=0;e<t.length;e++)sx.add(t[e])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xp=Object.prototype.hasOwnProperty,jT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a0={},l0={};function OT(e){return xp.call(l0,e)?!0:xp.call(a0,e)?!1:jT.test(e)?l0[e]=!0:(a0[e]=!0,!1)}function RT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IT(e,t,n,r){if(t===null||typeof t>"u"||RT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bn(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){en[e]=new bn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];en[t]=new bn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){en[e]=new bn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){en[e]=new bn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){en[e]=new bn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){en[e]=new bn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){en[e]=new bn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){en[e]=new bn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){en[e]=new bn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Eg=/[\-:]([a-z])/g;function Cg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Eg,Cg);en[t]=new bn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Eg,Cg);en[t]=new bn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Eg,Cg);en[t]=new bn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){en[e]=new bn(e,1,!1,e.toLowerCase(),null,!1,!1)});en.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){en[e]=new bn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tg(e,t,n,r){var i=en.hasOwnProperty(t)?en[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IT(t,n,i,r)&&(n=null),r||i===null?OT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _i=AT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gc=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),Pg=Symbol.for("react.strict_mode"),Sp=Symbol.for("react.profiler"),ox=Symbol.for("react.provider"),ax=Symbol.for("react.context"),Ag=Symbol.for("react.forward_ref"),kp=Symbol.for("react.suspense"),Ep=Symbol.for("react.suspense_list"),jg=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),lx=Symbol.for("react.offscreen"),u0=Symbol.iterator;function Xa(e){return e===null||typeof e!="object"?null:(e=u0&&e[u0]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,wh;function hl(e){if(wh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wh=t&&t[1]||""}return`
`+wh+e}var bh=!1;function _h(e,t){if(!e||bh)return"";bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{bh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hl(e):""}function DT(e){switch(e.tag){case 5:return hl(e.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return e=_h(e.type,!1),e;case 11:return e=_h(e.type.render,!1),e;case 1:return e=_h(e.type,!0),e;default:return""}}function Cp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bo:return"Fragment";case Fo:return"Portal";case Sp:return"Profiler";case Pg:return"StrictMode";case kp:return"Suspense";case Ep:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ax:return(e.displayName||"Context")+".Consumer";case ox:return(e._context.displayName||"Context")+".Provider";case Ag:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jg:return t=e.displayName||null,t!==null?t:Cp(e.type)||"Memo";case $i:t=e._payload,e=e._init;try{return Cp(e(t))}catch{}}return null}function NT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cp(t);case 8:return t===Pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ux(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LT(e){var t=ux(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yc(e){e._valueTracker||(e._valueTracker=LT(e))}function cx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ux(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tp(e,t){var n=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function c0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dx(e,t){t=t.checked,t!=null&&Tg(e,"checked",t,!1)}function Pp(e,t){dx(e,t);var n=fs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ap(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ap(e,t.type,fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function d0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ap(e,t,n){(t!=="number"||fd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pl=Array.isArray;function na(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function jp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function f0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Se(92));if(pl(n)){if(1<n.length)throw Error(Se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fs(n)}}function fx(e,t){var n=fs(t.value),r=fs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function h0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Op(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vc,px=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vc=vc||document.createElement("div"),vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$T=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(e){$T.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sl[t]=Sl[e]})});function mx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sl.hasOwnProperty(e)&&Sl[e]?(""+t).trim():t+"px"}function gx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var MT=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rp(e,t){if(t){if(MT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function Ip(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dp=null;function Og(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Np=null,ra=null,ia=null;function p0(e){if(e=Eu(e)){if(typeof Np!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=af(t),Np(e.stateNode,e.type,t))}}function yx(e){ra?ia?ia.push(e):ia=[e]:ra=e}function vx(){if(ra){var e=ra,t=ia;if(ia=ra=null,p0(e),t)for(e=0;e<t.length;e++)p0(t[e])}}function wx(e,t){return e(t)}function bx(){}var xh=!1;function _x(e,t,n){if(xh)return e(t,n);xh=!0;try{return wx(e,t,n)}finally{xh=!1,(ra!==null||ia!==null)&&(bx(),vx())}}function Wl(e,t){var n=e.stateNode;if(n===null)return null;var r=af(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Se(231,t,typeof n));return n}var Lp=!1;if(fi)try{var el={};Object.defineProperty(el,"passive",{get:function(){Lp=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Lp=!1}function FT(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var kl=!1,hd=null,pd=!1,$p=null,BT={onError:function(e){kl=!0,hd=e}};function UT(e,t,n,r,i,s,o,a,l){kl=!1,hd=null,FT.apply(BT,arguments)}function zT(e,t,n,r,i,s,o,a,l){if(UT.apply(this,arguments),kl){if(kl){var u=hd;kl=!1,hd=null}else throw Error(Se(198));pd||(pd=!0,$p=u)}}function go(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m0(e){if(go(e)!==e)throw Error(Se(188))}function VT(e){var t=e.alternate;if(!t){if(t=go(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return m0(i),e;if(s===r)return m0(i),t;s=s.sibling}throw Error(Se(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Se(189))}}if(n.alternate!==r)throw Error(Se(190))}if(n.tag!==3)throw Error(Se(188));return n.stateNode.current===n?e:t}function Sx(e){return e=VT(e),e!==null?kx(e):null}function kx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kx(e);if(t!==null)return t;e=e.sibling}return null}var Ex=Vn.unstable_scheduleCallback,g0=Vn.unstable_cancelCallback,KT=Vn.unstable_shouldYield,WT=Vn.unstable_requestPaint,Dt=Vn.unstable_now,HT=Vn.unstable_getCurrentPriorityLevel,Rg=Vn.unstable_ImmediatePriority,Cx=Vn.unstable_UserBlockingPriority,md=Vn.unstable_NormalPriority,qT=Vn.unstable_LowPriority,Tx=Vn.unstable_IdlePriority,nf=null,Kr=null;function GT(e){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(nf,e,void 0,(e.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:JT,QT=Math.log,YT=Math.LN2;function JT(e){return e>>>=0,e===0?32:31-(QT(e)/YT|0)|0}var wc=64,bc=4194304;function ml(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ml(a):(s&=o,s!==0&&(r=ml(s)))}else o=n&~i,o!==0?r=ml(o):s!==0&&(r=ml(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kr(t),i=1<<n,r|=e[n],t&=~i;return r}function ZT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-kr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ZT(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Mp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Px(){var e=wc;return wc<<=1,!(wc&4194240)&&(wc=64),e}function Sh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Su(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kr(t),e[t]=n}function eP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-kr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Ig(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ct=0;function Ax(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jx,Dg,Ox,Rx,Ix,Fp=!1,_c=[],ns=null,rs=null,is=null,Hl=new Map,ql=new Map,Fi=[],tP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y0(e,t){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(t.pointerId)}}function tl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Eu(t),t!==null&&Dg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function nP(e,t,n,r,i){switch(t){case"focusin":return ns=tl(ns,e,t,n,r,i),!0;case"dragenter":return rs=tl(rs,e,t,n,r,i),!0;case"mouseover":return is=tl(is,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hl.set(s,tl(Hl.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ql.set(s,tl(ql.get(s)||null,e,t,n,r,i)),!0}return!1}function Dx(e){var t=Bs(e.target);if(t!==null){var n=go(t);if(n!==null){if(t=n.tag,t===13){if(t=xx(n),t!==null){e.blockedOn=t,Ix(e.priority,function(){Ox(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dp=r,n.target.dispatchEvent(r),Dp=null}else return t=Eu(n),t!==null&&Dg(t),e.blockedOn=n,!1;t.shift()}return!0}function v0(e,t,n){qc(e)&&n.delete(t)}function rP(){Fp=!1,ns!==null&&qc(ns)&&(ns=null),rs!==null&&qc(rs)&&(rs=null),is!==null&&qc(is)&&(is=null),Hl.forEach(v0),ql.forEach(v0)}function nl(e,t){e.blockedOn===t&&(e.blockedOn=null,Fp||(Fp=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,rP)))}function Gl(e){function t(i){return nl(i,e)}if(0<_c.length){nl(_c[0],e);for(var n=1;n<_c.length;n++){var r=_c[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ns!==null&&nl(ns,e),rs!==null&&nl(rs,e),is!==null&&nl(is,e),Hl.forEach(t),ql.forEach(t),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)Dx(n),n.blockedOn===null&&Fi.shift()}var sa=_i.ReactCurrentBatchConfig,yd=!0;function iP(e,t,n,r){var i=ct,s=sa.transition;sa.transition=null;try{ct=1,Ng(e,t,n,r)}finally{ct=i,sa.transition=s}}function sP(e,t,n,r){var i=ct,s=sa.transition;sa.transition=null;try{ct=4,Ng(e,t,n,r)}finally{ct=i,sa.transition=s}}function Ng(e,t,n,r){if(yd){var i=Bp(e,t,n,r);if(i===null)Ih(e,t,r,vd,n),y0(e,r);else if(nP(i,e,t,n,r))r.stopPropagation();else if(y0(e,r),t&4&&-1<tP.indexOf(e)){for(;i!==null;){var s=Eu(i);if(s!==null&&jx(s),s=Bp(e,t,n,r),s===null&&Ih(e,t,r,vd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ih(e,t,r,null,n)}}var vd=null;function Bp(e,t,n,r){if(vd=null,e=Og(r),e=Bs(e),e!==null)if(t=go(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vd=e,null}function Nx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HT()){case Rg:return 1;case Cx:return 4;case md:case qT:return 16;case Tx:return 536870912;default:return 16}default:return 16}}var Zi=null,Lg=null,Gc=null;function Lx(){if(Gc)return Gc;var e,t=Lg,n=t.length,r,i="value"in Zi?Zi.value:Zi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Gc=i.slice(e,1<r?1-r:void 0)}function Qc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xc(){return!0}function w0(){return!1}function Hn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xc:w0,this.isPropagationStopped=w0,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),t}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=Hn(Ia),ku=Ct({},Ia,{view:0,detail:0}),oP=Hn(ku),kh,Eh,rl,rf=Ct({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rl&&(rl&&e.type==="mousemove"?(kh=e.screenX-rl.screenX,Eh=e.screenY-rl.screenY):Eh=kh=0,rl=e),kh)},movementY:function(e){return"movementY"in e?e.movementY:Eh}}),b0=Hn(rf),aP=Ct({},rf,{dataTransfer:0}),lP=Hn(aP),uP=Ct({},ku,{relatedTarget:0}),Ch=Hn(uP),cP=Ct({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),dP=Hn(cP),fP=Ct({},Ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hP=Hn(fP),pP=Ct({},Ia,{data:0}),_0=Hn(pP),mP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yP[e])?!!t[e]:!1}function Mg(){return vP}var wP=Ct({},ku,{key:function(e){if(e.key){var t=mP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mg,charCode:function(e){return e.type==="keypress"?Qc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bP=Hn(wP),_P=Ct({},rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x0=Hn(_P),xP=Ct({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mg}),SP=Hn(xP),kP=Ct({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),EP=Hn(kP),CP=Ct({},rf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TP=Hn(CP),PP=[9,13,27,32],Fg=fi&&"CompositionEvent"in window,El=null;fi&&"documentMode"in document&&(El=document.documentMode);var AP=fi&&"TextEvent"in window&&!El,$x=fi&&(!Fg||El&&8<El&&11>=El),S0=" ",k0=!1;function Mx(e,t){switch(e){case"keyup":return PP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uo=!1;function jP(e,t){switch(e){case"compositionend":return Fx(t);case"keypress":return t.which!==32?null:(k0=!0,S0);case"textInput":return e=t.data,e===S0&&k0?null:e;default:return null}}function OP(e,t){if(Uo)return e==="compositionend"||!Fg&&Mx(e,t)?(e=Lx(),Gc=Lg=Zi=null,Uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $x&&t.locale!=="ko"?null:t.data;default:return null}}var RP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RP[e.type]:t==="textarea"}function Bx(e,t,n,r){yx(r),t=wd(t,"onChange"),0<t.length&&(n=new $g("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Cl=null,Ql=null;function IP(e){Jx(e,0)}function sf(e){var t=Ko(e);if(cx(t))return e}function DP(e,t){if(e==="change")return t}var Ux=!1;if(fi){var Th;if(fi){var Ph="oninput"in document;if(!Ph){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),Ph=typeof C0.oninput=="function"}Th=Ph}else Th=!1;Ux=Th&&(!document.documentMode||9<document.documentMode)}function T0(){Cl&&(Cl.detachEvent("onpropertychange",zx),Ql=Cl=null)}function zx(e){if(e.propertyName==="value"&&sf(Ql)){var t=[];Bx(t,Ql,e,Og(e)),_x(IP,t)}}function NP(e,t,n){e==="focusin"?(T0(),Cl=t,Ql=n,Cl.attachEvent("onpropertychange",zx)):e==="focusout"&&T0()}function LP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sf(Ql)}function $P(e,t){if(e==="click")return sf(t)}function MP(e,t){if(e==="input"||e==="change")return sf(t)}function FP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cr=typeof Object.is=="function"?Object.is:FP;function Yl(e,t){if(Cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xp.call(t,i)||!Cr(e[i],t[i]))return!1}return!0}function P0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function A0(e,t){var n=P0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P0(n)}}function Vx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kx(){for(var e=window,t=fd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fd(e.document)}return t}function Bg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function BP(e){var t=Kx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vx(n.ownerDocument.documentElement,n)){if(r!==null&&Bg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=A0(n,s);var o=A0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UP=fi&&"documentMode"in document&&11>=document.documentMode,zo=null,Up=null,Tl=null,zp=!1;function j0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zp||zo==null||zo!==fd(r)||(r=zo,"selectionStart"in r&&Bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tl&&Yl(Tl,r)||(Tl=r,r=wd(Up,"onSelect"),0<r.length&&(t=new $g("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zo)))}function Sc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vo={animationend:Sc("Animation","AnimationEnd"),animationiteration:Sc("Animation","AnimationIteration"),animationstart:Sc("Animation","AnimationStart"),transitionend:Sc("Transition","TransitionEnd")},Ah={},Wx={};fi&&(Wx=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function of(e){if(Ah[e])return Ah[e];if(!Vo[e])return e;var t=Vo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wx)return Ah[e]=t[n];return e}var Hx=of("animationend"),qx=of("animationiteration"),Gx=of("animationstart"),Qx=of("transitionend"),Yx=new Map,O0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(e,t){Yx.set(e,t),mo(t,[e])}for(var jh=0;jh<O0.length;jh++){var Oh=O0[jh],zP=Oh.toLowerCase(),VP=Oh[0].toUpperCase()+Oh.slice(1);gs(zP,"on"+VP)}gs(Hx,"onAnimationEnd");gs(qx,"onAnimationIteration");gs(Gx,"onAnimationStart");gs("dblclick","onDoubleClick");gs("focusin","onFocus");gs("focusout","onBlur");gs(Qx,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KP=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function R0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zT(r,t,void 0,e),e.currentTarget=null}function Jx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;R0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;R0(i,a,u),s=l}}}if(pd)throw e=$p,pd=!1,$p=null,e}function gt(e,t){var n=t[qp];n===void 0&&(n=t[qp]=new Set);var r=e+"__bubble";n.has(r)||(Zx(t,e,2,!1),n.add(r))}function Rh(e,t,n){var r=0;t&&(r|=4),Zx(n,e,r,t)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Jl(e){if(!e[kc]){e[kc]=!0,sx.forEach(function(n){n!=="selectionchange"&&(KP.has(n)||Rh(n,!1,e),Rh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kc]||(t[kc]=!0,Rh("selectionchange",!1,t))}}function Zx(e,t,n,r){switch(Nx(t)){case 1:var i=iP;break;case 4:i=sP;break;default:i=Ng}n=i.bind(null,t,n,e),i=void 0,!Lp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ih(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_x(function(){var u=s,c=Og(n),f=[];e:{var p=Yx.get(e);if(p!==void 0){var m=$g,_=e;switch(e){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":m=bP;break;case"focusin":_="focus",m=Ch;break;case"focusout":_="blur",m=Ch;break;case"beforeblur":case"afterblur":m=Ch;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=b0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=SP;break;case Hx:case qx:case Gx:m=dP;break;case Qx:m=EP;break;case"scroll":m=oP;break;case"wheel":m=TP;break;case"copy":case"cut":case"paste":m=hP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=x0}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var v=u,w;v!==null;){w=v;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,g!==null&&(C=Wl(v,g),C!=null&&y.push(Zl(v,C,w)))),x)break;v=v.return}0<y.length&&(p=new m(p,_,null,n,c),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==Dp&&(_=n.relatedTarget||n.fromElement)&&(Bs(_)||_[hi]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?Bs(_):null,_!==null&&(x=go(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(y=b0,C="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=x0,C="onPointerLeave",g="onPointerEnter",v="pointer"),x=m==null?p:Ko(m),w=_==null?p:Ko(_),p=new y(C,v+"leave",m,n,c),p.target=x,p.relatedTarget=w,C=null,Bs(c)===u&&(y=new y(g,v+"enter",_,n,c),y.target=w,y.relatedTarget=x,C=y),x=C,m&&_)t:{for(y=m,g=_,v=0,w=y;w;w=Ao(w))v++;for(w=0,C=g;C;C=Ao(C))w++;for(;0<v-w;)y=Ao(y),v--;for(;0<w-v;)g=Ao(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Ao(y),g=Ao(g)}y=null}else y=null;m!==null&&I0(f,p,m,y,!1),_!==null&&x!==null&&I0(f,x,_,y,!0)}}e:{if(p=u?Ko(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=DP;else if(E0(p))if(Ux)O=MP;else{O=LP;var R=NP}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=$P);if(O&&(O=O(e,u))){Bx(f,O,n,c);break e}R&&R(e,p,u),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Ap(p,"number",p.value)}switch(R=u?Ko(u):window,e){case"focusin":(E0(R)||R.contentEditable==="true")&&(zo=R,Up=u,Tl=null);break;case"focusout":Tl=Up=zo=null;break;case"mousedown":zp=!0;break;case"contextmenu":case"mouseup":case"dragend":zp=!1,j0(f,n,c);break;case"selectionchange":if(UP)break;case"keydown":case"keyup":j0(f,n,c)}var I;if(Fg)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Uo?Mx(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&($x&&n.locale!=="ko"&&(Uo||M!=="onCompositionStart"?M==="onCompositionEnd"&&Uo&&(I=Lx()):(Zi=c,Lg="value"in Zi?Zi.value:Zi.textContent,Uo=!0)),R=wd(u,M),0<R.length&&(M=new _0(M,e,null,n,c),f.push({event:M,listeners:R}),I?M.data=I:(I=Fx(n),I!==null&&(M.data=I)))),(I=AP?jP(e,n):OP(e,n))&&(u=wd(u,"onBeforeInput"),0<u.length&&(c=new _0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}Jx(f,t)})}function Zl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wl(e,n),s!=null&&r.unshift(Zl(e,s,i)),s=Wl(e,t),s!=null&&r.push(Zl(e,s,i))),e=e.return}return r}function Ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I0(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Wl(n,s),l!=null&&o.unshift(Zl(n,l,a))):i||(l=Wl(n,s),l!=null&&o.push(Zl(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var WP=/\r\n?/g,HP=/\u0000|\uFFFD/g;function D0(e){return(typeof e=="string"?e:""+e).replace(WP,`
`).replace(HP,"")}function Ec(e,t,n){if(t=D0(t),D0(e)!==t&&n)throw Error(Se(425))}function bd(){}var Vp=null,Kp=null;function Wp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hp=typeof setTimeout=="function"?setTimeout:void 0,qP=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,GP=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(e){return N0.resolve(null).then(e).catch(QP)}:Hp;function QP(e){setTimeout(function(){throw e})}function Dh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Gl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gl(t)}function ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function L0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Da=Math.random().toString(36).slice(2),zr="__reactFiber$"+Da,Xl="__reactProps$"+Da,hi="__reactContainer$"+Da,qp="__reactEvents$"+Da,YP="__reactListeners$"+Da,JP="__reactHandles$"+Da;function Bs(e){var t=e[zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[zr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=L0(e);e!==null;){if(n=e[zr])return n;e=L0(e)}return t}e=n,n=e.parentNode}return null}function Eu(e){return e=e[zr]||e[hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function af(e){return e[Xl]||null}var Gp=[],Wo=-1;function ys(e){return{current:e}}function yt(e){0>Wo||(e.current=Gp[Wo],Gp[Wo]=null,Wo--)}function mt(e,t){Wo++,Gp[Wo]=e.current,e.current=t}var hs={},dn=ys(hs),On=ys(!1),ao=hs;function Sa(e,t){var n=e.type.contextTypes;if(!n)return hs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(e){return e=e.childContextTypes,e!=null}function _d(){yt(On),yt(dn)}function $0(e,t,n){if(dn.current!==hs)throw Error(Se(168));mt(dn,t),mt(On,n)}function Xx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Se(108,NT(e)||"Unknown",i));return Ct({},n,r)}function xd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,ao=dn.current,mt(dn,e),mt(On,On.current),!0}function M0(e,t,n){var r=e.stateNode;if(!r)throw Error(Se(169));n?(e=Xx(e,t,ao),r.__reactInternalMemoizedMergedChildContext=e,yt(On),yt(dn),mt(dn,e)):yt(On),mt(On,n)}var ri=null,lf=!1,Nh=!1;function e1(e){ri===null?ri=[e]:ri.push(e)}function ZP(e){lf=!0,e1(e)}function vs(){if(!Nh&&ri!==null){Nh=!0;var e=0,t=ct;try{var n=ri;for(ct=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ri=null,lf=!1}catch(i){throw ri!==null&&(ri=ri.slice(e+1)),Ex(Rg,vs),i}finally{ct=t,Nh=!1}}return null}var Ho=[],qo=0,Sd=null,kd=0,tr=[],nr=0,lo=null,ai=1,li="";function Rs(e,t){Ho[qo++]=kd,Ho[qo++]=Sd,Sd=e,kd=t}function t1(e,t,n){tr[nr++]=ai,tr[nr++]=li,tr[nr++]=lo,lo=e;var r=ai;e=li;var i=32-kr(r)-1;r&=~(1<<i),n+=1;var s=32-kr(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ai=1<<32-kr(t)+i|n<<i|r,li=s+e}else ai=1<<s|n<<i|r,li=e}function Ug(e){e.return!==null&&(Rs(e,1),t1(e,1,0))}function zg(e){for(;e===Sd;)Sd=Ho[--qo],Ho[qo]=null,kd=Ho[--qo],Ho[qo]=null;for(;e===lo;)lo=tr[--nr],tr[nr]=null,li=tr[--nr],tr[nr]=null,ai=tr[--nr],tr[nr]=null}var zn=null,Un=null,wt=!1,xr=null;function n1(e,t){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function F0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zn=e,Un=ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zn=e,Un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lo!==null?{id:ai,overflow:li}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zn=e,Un=null,!0):!1;default:return!1}}function Qp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yp(e){if(wt){var t=Un;if(t){var n=t;if(!F0(e,t)){if(Qp(e))throw Error(Se(418));t=ss(n.nextSibling);var r=zn;t&&F0(e,t)?n1(r,n):(e.flags=e.flags&-4097|2,wt=!1,zn=e)}}else{if(Qp(e))throw Error(Se(418));e.flags=e.flags&-4097|2,wt=!1,zn=e}}}function B0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zn=e}function Cc(e){if(e!==zn)return!1;if(!wt)return B0(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wp(e.type,e.memoizedProps)),t&&(t=Un)){if(Qp(e))throw r1(),Error(Se(418));for(;t;)n1(e,t),t=ss(t.nextSibling)}if(B0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Un=ss(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Un=null}}else Un=zn?ss(e.stateNode.nextSibling):null;return!0}function r1(){for(var e=Un;e;)e=ss(e.nextSibling)}function ka(){Un=zn=null,wt=!1}function Vg(e){xr===null?xr=[e]:xr.push(e)}var XP=_i.ReactCurrentBatchConfig;function il(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Se(309));var r=n.stateNode}if(!r)throw Error(Se(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Se(284));if(!n._owner)throw Error(Se(290,e))}return e}function Tc(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function U0(e){var t=e._init;return t(e._payload)}function i1(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=us(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,C){return v===null||v.tag!==6?(v=zh(w,g.mode,C),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,C){var O=w.type;return O===Bo?c(g,v,w.props.children,C,w.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$i&&U0(O)===v.type)?(C=i(v,w.props),C.ref=il(g,v,w),C.return=g,C):(C=nd(w.type,w.key,w.props,null,g.mode,C),C.ref=il(g,v,w),C.return=g,C)}function u(g,v,w,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Vh(w,g.mode,C),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function c(g,v,w,C,O){return v===null||v.tag!==7?(v=io(w,g.mode,C,O),v.return=g,v):(v=i(v,w),v.return=g,v)}function f(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=zh(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gc:return w=nd(v.type,v.key,v.props,null,g.mode,w),w.ref=il(g,null,v),w.return=g,w;case Fo:return v=Vh(v,g.mode,w),v.return=g,v;case $i:var C=v._init;return f(g,C(v._payload),w)}if(pl(v)||Xa(v))return v=io(v,g.mode,w,null),v.return=g,v;Tc(g,v)}return null}function p(g,v,w,C){var O=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:a(g,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gc:return w.key===O?l(g,v,w,C):null;case Fo:return w.key===O?u(g,v,w,C):null;case $i:return O=w._init,p(g,v,O(w._payload),C)}if(pl(w)||Xa(w))return O!==null?null:c(g,v,w,C,null);Tc(g,w)}return null}function m(g,v,w,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(w)||null,a(v,g,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gc:return g=g.get(C.key===null?w:C.key)||null,l(v,g,C,O);case Fo:return g=g.get(C.key===null?w:C.key)||null,u(v,g,C,O);case $i:var R=C._init;return m(g,v,w,R(C._payload),O)}if(pl(C)||Xa(C))return g=g.get(w)||null,c(v,g,C,O,null);Tc(v,C)}return null}function _(g,v,w,C){for(var O=null,R=null,I=v,M=v=0,z=null;I!==null&&M<w.length;M++){I.index>M?(z=I,I=null):z=I.sibling;var W=p(g,I,w[M],C);if(W===null){I===null&&(I=z);break}e&&I&&W.alternate===null&&t(g,I),v=s(W,v,M),R===null?O=W:R.sibling=W,R=W,I=z}if(M===w.length)return n(g,I),wt&&Rs(g,M),O;if(I===null){for(;M<w.length;M++)I=f(g,w[M],C),I!==null&&(v=s(I,v,M),R===null?O=I:R.sibling=I,R=I);return wt&&Rs(g,M),O}for(I=r(g,I);M<w.length;M++)z=m(I,g,M,w[M],C),z!==null&&(e&&z.alternate!==null&&I.delete(z.key===null?M:z.key),v=s(z,v,M),R===null?O=z:R.sibling=z,R=z);return e&&I.forEach(function(ve){return t(g,ve)}),wt&&Rs(g,M),O}function y(g,v,w,C){var O=Xa(w);if(typeof O!="function")throw Error(Se(150));if(w=O.call(w),w==null)throw Error(Se(151));for(var R=O=null,I=v,M=v=0,z=null,W=w.next();I!==null&&!W.done;M++,W=w.next()){I.index>M?(z=I,I=null):z=I.sibling;var ve=p(g,I,W.value,C);if(ve===null){I===null&&(I=z);break}e&&I&&ve.alternate===null&&t(g,I),v=s(ve,v,M),R===null?O=ve:R.sibling=ve,R=ve,I=z}if(W.done)return n(g,I),wt&&Rs(g,M),O;if(I===null){for(;!W.done;M++,W=w.next())W=f(g,W.value,C),W!==null&&(v=s(W,v,M),R===null?O=W:R.sibling=W,R=W);return wt&&Rs(g,M),O}for(I=r(g,I);!W.done;M++,W=w.next())W=m(I,g,M,W.value,C),W!==null&&(e&&W.alternate!==null&&I.delete(W.key===null?M:W.key),v=s(W,v,M),R===null?O=W:R.sibling=W,R=W);return e&&I.forEach(function(F){return t(g,F)}),wt&&Rs(g,M),O}function x(g,v,w,C){if(typeof w=="object"&&w!==null&&w.type===Bo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gc:e:{for(var O=w.key,R=v;R!==null;){if(R.key===O){if(O=w.type,O===Bo){if(R.tag===7){n(g,R.sibling),v=i(R,w.props.children),v.return=g,g=v;break e}}else if(R.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$i&&U0(O)===R.type){n(g,R.sibling),v=i(R,w.props),v.ref=il(g,R,w),v.return=g,g=v;break e}n(g,R);break}else t(g,R);R=R.sibling}w.type===Bo?(v=io(w.props.children,g.mode,C,w.key),v.return=g,g=v):(C=nd(w.type,w.key,w.props,null,g.mode,C),C.ref=il(g,v,w),C.return=g,g=C)}return o(g);case Fo:e:{for(R=w.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=Vh(w,g.mode,C),v.return=g,g=v}return o(g);case $i:return R=w._init,x(g,v,R(w._payload),C)}if(pl(w))return _(g,v,w,C);if(Xa(w))return y(g,v,w,C);Tc(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=zh(w,g.mode,C),v.return=g,g=v),o(g)):n(g,v)}return x}var Ea=i1(!0),s1=i1(!1),Ed=ys(null),Cd=null,Go=null,Kg=null;function Wg(){Kg=Go=Cd=null}function Hg(e){var t=Ed.current;yt(Ed),e._currentValue=t}function Jp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oa(e,t){Cd=e,Kg=Go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(An=!0),e.firstContext=null)}function lr(e){var t=e._currentValue;if(Kg!==e)if(e={context:e,memoizedValue:t,next:null},Go===null){if(Cd===null)throw Error(Se(308));Go=e,Cd.dependencies={lanes:0,firstContext:e}}else Go=Go.next=e;return t}var Us=null;function qg(e){Us===null?Us=[e]:Us.push(e)}function o1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qg(t)):(n.next=i.next,i.next=n),t.interleaved=n,pi(e,r)}function pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mi=!1;function Gg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function os(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pi(e,n)}return i=r.interleaved,i===null?(t.next=t,qg(r)):(t.next=i.next,i.next=t),r.interleaved=t,pi(e,n)}function Yc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ig(e,n)}}function z0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Td(e,t,n,r){var i=e.updateQueue;Mi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=e,y=a;switch(p=t,m=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){f=_.call(m,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,p=typeof _=="function"?_.call(m,f,p):_,p==null)break e;f=Ct({},f,p);break e;case 2:Mi=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);co|=o,e.lanes=o,e.memoizedState=f}}function V0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Se(191,i));i.call(r)}}}var Cu={},Wr=ys(Cu),eu=ys(Cu),tu=ys(Cu);function zs(e){if(e===Cu)throw Error(Se(174));return e}function Qg(e,t){switch(mt(tu,t),mt(eu,e),mt(Wr,Cu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Op(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Op(t,e)}yt(Wr),mt(Wr,t)}function Ca(){yt(Wr),yt(eu),yt(tu)}function l1(e){zs(tu.current);var t=zs(Wr.current),n=Op(t,e.type);t!==n&&(mt(eu,e),mt(Wr,n))}function Yg(e){eu.current===e&&(yt(Wr),yt(eu))}var xt=ys(0);function Pd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lh=[];function Jg(){for(var e=0;e<Lh.length;e++)Lh[e]._workInProgressVersionPrimary=null;Lh.length=0}var Jc=_i.ReactCurrentDispatcher,$h=_i.ReactCurrentBatchConfig,uo=0,Et=null,Ut=null,qt=null,Ad=!1,Pl=!1,nu=0,e2=0;function sn(){throw Error(Se(321))}function Zg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cr(e[n],t[n]))return!1;return!0}function Xg(e,t,n,r,i,s){if(uo=s,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jc.current=e===null||e.memoizedState===null?i2:s2,e=n(r,i),Pl){s=0;do{if(Pl=!1,nu=0,25<=s)throw Error(Se(301));s+=1,qt=Ut=null,t.updateQueue=null,Jc.current=o2,e=n(r,i)}while(Pl)}if(Jc.current=jd,t=Ut!==null&&Ut.next!==null,uo=0,qt=Ut=Et=null,Ad=!1,t)throw Error(Se(300));return e}function ey(){var e=nu!==0;return nu=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Et.memoizedState=qt=e:qt=qt.next=e,qt}function ur(){if(Ut===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var t=qt===null?Et.memoizedState:qt.next;if(t!==null)qt=t,Ut=e;else{if(e===null)throw Error(Se(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},qt===null?Et.memoizedState=qt=e:qt=qt.next=e}return qt}function ru(e,t){return typeof t=="function"?t(e):t}function Mh(e){var t=ur(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var r=Ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((uo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Et.lanes|=c,co|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Cr(r,t.memoizedState)||(An=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Et.lanes|=s,co|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fh(e){var t=ur(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Cr(s,t.memoizedState)||(An=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function u1(){}function c1(e,t){var n=Et,r=ur(),i=t(),s=!Cr(r.memoizedState,i);if(s&&(r.memoizedState=i,An=!0),r=r.queue,ty(h1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,iu(9,f1.bind(null,n,r,i,t),void 0,null),Qt===null)throw Error(Se(349));uo&30||d1(n,t,i)}return i}function d1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function f1(e,t,n,r){t.value=n,t.getSnapshot=r,p1(t)&&m1(e)}function h1(e,t,n){return n(function(){p1(t)&&m1(e)})}function p1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cr(e,n)}catch{return!0}}function m1(e){var t=pi(e,1);t!==null&&Er(t,e,1,-1)}function K0(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:e},t.queue=e,e=e.dispatch=r2.bind(null,Et,e),[t.memoizedState,e]}function iu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function g1(){return ur().memoizedState}function Zc(e,t,n,r){var i=$r();Et.flags|=e,i.memoizedState=iu(1|t,n,void 0,r===void 0?null:r)}function uf(e,t,n,r){var i=ur();r=r===void 0?null:r;var s=void 0;if(Ut!==null){var o=Ut.memoizedState;if(s=o.destroy,r!==null&&Zg(r,o.deps)){i.memoizedState=iu(t,n,s,r);return}}Et.flags|=e,i.memoizedState=iu(1|t,n,s,r)}function W0(e,t){return Zc(8390656,8,e,t)}function ty(e,t){return uf(2048,8,e,t)}function y1(e,t){return uf(4,2,e,t)}function v1(e,t){return uf(4,4,e,t)}function w1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function b1(e,t,n){return n=n!=null?n.concat([e]):null,uf(4,4,w1.bind(null,t,e),n)}function ny(){}function _1(e,t){var n=ur();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function x1(e,t){var n=ur();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function S1(e,t,n){return uo&21?(Cr(n,t)||(n=Px(),Et.lanes|=n,co|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,An=!0),e.memoizedState=n)}function t2(e,t){var n=ct;ct=n!==0&&4>n?n:4,e(!0);var r=$h.transition;$h.transition={};try{e(!1),t()}finally{ct=n,$h.transition=r}}function k1(){return ur().memoizedState}function n2(e,t,n){var r=ls(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E1(e))C1(t,n);else if(n=o1(e,t,n,r),n!==null){var i=vn();Er(n,e,r,i),T1(n,t,r)}}function r2(e,t,n){var r=ls(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E1(e))C1(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cr(a,o)){var l=t.interleaved;l===null?(i.next=i,qg(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=o1(e,t,i,r),n!==null&&(i=vn(),Er(n,e,r,i),T1(n,t,r))}}function E1(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function C1(e,t){Pl=Ad=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function T1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ig(e,n)}}var jd={readContext:lr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},i2={readContext:lr,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:lr,useEffect:W0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zc(4194308,4,w1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zc(4,2,e,t)},useMemo:function(e,t){var n=$r();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$r();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=n2.bind(null,Et,e),[r.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:K0,useDebugValue:ny,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=K0(!1),t=e[0];return e=t2.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Et,i=$r();if(wt){if(n===void 0)throw Error(Se(407));n=n()}else{if(n=t(),Qt===null)throw Error(Se(349));uo&30||d1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,W0(h1.bind(null,r,s,e),[e]),r.flags|=2048,iu(9,f1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=$r(),t=Qt.identifierPrefix;if(wt){var n=li,r=ai;n=(r&~(1<<32-kr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=nu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=e2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},s2={readContext:lr,useCallback:_1,useContext:lr,useEffect:ty,useImperativeHandle:b1,useInsertionEffect:y1,useLayoutEffect:v1,useMemo:x1,useReducer:Mh,useRef:g1,useState:function(){return Mh(ru)},useDebugValue:ny,useDeferredValue:function(e){var t=ur();return S1(t,Ut.memoizedState,e)},useTransition:function(){var e=Mh(ru)[0],t=ur().memoizedState;return[e,t]},useMutableSource:u1,useSyncExternalStore:c1,useId:k1,unstable_isNewReconciler:!1},o2={readContext:lr,useCallback:_1,useContext:lr,useEffect:ty,useImperativeHandle:b1,useInsertionEffect:y1,useLayoutEffect:v1,useMemo:x1,useReducer:Fh,useRef:g1,useState:function(){return Fh(ru)},useDebugValue:ny,useDeferredValue:function(e){var t=ur();return Ut===null?t.memoizedState=e:S1(t,Ut.memoizedState,e)},useTransition:function(){var e=Fh(ru)[0],t=ur().memoizedState;return[e,t]},useMutableSource:u1,useSyncExternalStore:c1,useId:k1,unstable_isNewReconciler:!1};function yr(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cf={isMounted:function(e){return(e=e._reactInternals)?go(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vn(),i=ls(e),s=ui(r,i);s.payload=t,n!=null&&(s.callback=n),t=os(e,s,i),t!==null&&(Er(t,e,i,r),Yc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vn(),i=ls(e),s=ui(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=os(e,s,i),t!==null&&(Er(t,e,i,r),Yc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vn(),r=ls(e),i=ui(n,r);i.tag=2,t!=null&&(i.callback=t),t=os(e,i,r),t!==null&&(Er(t,e,r,n),Yc(t,e,r))}};function H0(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Yl(n,r)||!Yl(i,s):!0}function P1(e,t,n){var r=!1,i=hs,s=t.contextType;return typeof s=="object"&&s!==null?s=lr(s):(i=Rn(t)?ao:dn.current,r=t.contextTypes,s=(r=r!=null)?Sa(e,i):hs),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function q0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cf.enqueueReplaceState(t,t.state,null)}function Xp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Gg(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=lr(s):(s=Rn(t)?ao:dn.current,i.context=Sa(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Zp(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cf.enqueueReplaceState(i,i.state,null),Td(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ta(e,t){try{var n="",r=t;do n+=DT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Bh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function em(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var a2=typeof WeakMap=="function"?WeakMap:Map;function A1(e,t,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rd||(Rd=!0,cm=r),em(e,t)},n}function j1(e,t,n){n=ui(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){em(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){em(e,t),typeof r!="function"&&(as===null?as=new Set([this]):as.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function G0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new a2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_2.bind(null,e,t,n),t.then(e,e))}function Q0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Y0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ui(-1,1),t.tag=2,os(n,t,1))),n.lanes|=1),e)}var l2=_i.ReactCurrentOwner,An=!1;function gn(e,t,n,r){t.child=e===null?s1(t,null,n,r):Ea(t,e.child,n,r)}function J0(e,t,n,r,i){n=n.render;var s=t.ref;return oa(t,i),r=Xg(e,t,n,r,s,i),n=ey(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(wt&&n&&Ug(t),t.flags|=1,gn(e,t,r,i),t.child)}function Z0(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!cy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,O1(e,t,s,r,i)):(e=nd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Yl,n(o,r)&&e.ref===t.ref)return mi(e,t,i)}return t.flags|=1,e=us(s,r),e.ref=t.ref,e.return=t,t.child=e}function O1(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Yl(s,r)&&e.ref===t.ref)if(An=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(An=!0);else return t.lanes=e.lanes,mi(e,t,i)}return tm(e,t,n,r,i)}function R1(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Yo,Fn),Fn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mt(Yo,Fn),Fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,mt(Yo,Fn),Fn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,mt(Yo,Fn),Fn|=r;return gn(e,t,i,n),t.child}function I1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tm(e,t,n,r,i){var s=Rn(n)?ao:dn.current;return s=Sa(t,s),oa(t,i),n=Xg(e,t,n,r,s,i),r=ey(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(wt&&r&&Ug(t),t.flags|=1,gn(e,t,n,i),t.child)}function X0(e,t,n,r,i){if(Rn(n)){var s=!0;xd(t)}else s=!1;if(oa(t,i),t.stateNode===null)Xc(e,t),P1(t,n,r),Xp(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=lr(u):(u=Rn(n)?ao:dn.current,u=Sa(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&q0(t,o,r,u),Mi=!1;var p=t.memoizedState;o.state=p,Td(t,r,o,i),l=t.memoizedState,a!==r||p!==l||On.current||Mi?(typeof c=="function"&&(Zp(t,n,c,r),l=t.memoizedState),(a=Mi||H0(t,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,a1(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:yr(t.type,a),o.props=u,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lr(l):(l=Rn(n)?ao:dn.current,l=Sa(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&q0(t,o,r,l),Mi=!1,p=t.memoizedState,o.state=p,Td(t,r,o,i);var _=t.memoizedState;a!==f||p!==_||On.current||Mi?(typeof m=="function"&&(Zp(t,n,m,r),_=t.memoizedState),(u=Mi||H0(t,n,u,r,p,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return nm(e,t,n,r,s,i)}function nm(e,t,n,r,i,s){I1(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&M0(t,n,!1),mi(e,t,s);r=t.stateNode,l2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ea(t,e.child,null,s),t.child=Ea(t,null,a,s)):gn(e,t,a,s),t.memoizedState=r.state,i&&M0(t,n,!0),t.child}function D1(e){var t=e.stateNode;t.pendingContext?$0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$0(e,t.context,!1),Qg(e,t.containerInfo)}function ew(e,t,n,r,i){return ka(),Vg(i),t.flags|=256,gn(e,t,n,r),t.child}var rm={dehydrated:null,treeContext:null,retryLane:0};function im(e){return{baseLanes:e,cachePool:null,transitions:null}}function N1(e,t,n){var r=t.pendingProps,i=xt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),mt(xt,i&1),e===null)return Yp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hf(o,r,0,null),e=io(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=im(n),t.memoizedState=rm,e):ry(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return u2(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=us(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=us(a,s):(s=io(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?im(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=rm,r}return s=e.child,e=s.sibling,r=us(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ry(e,t){return t=hf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pc(e,t,n,r){return r!==null&&Vg(r),Ea(t,e.child,null,n),e=ry(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function u2(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Bh(Error(Se(422))),Pc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=hf({mode:"visible",children:r.children},i,0,null),s=io(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ea(t,e.child,null,o),t.child.memoizedState=im(o),t.memoizedState=rm,s);if(!(t.mode&1))return Pc(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Se(419)),r=Bh(s,r,void 0),Pc(e,t,o,r)}if(a=(o&e.childLanes)!==0,An||a){if(r=Qt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pi(e,i),Er(r,e,i,-1))}return uy(),r=Bh(Error(Se(421))),Pc(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=x2.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Un=ss(i.nextSibling),zn=t,wt=!0,xr=null,e!==null&&(tr[nr++]=ai,tr[nr++]=li,tr[nr++]=lo,ai=e.id,li=e.overflow,lo=t),t=ry(t,r.children),t.flags|=4096,t)}function tw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Jp(e.return,t,n)}function Uh(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function L1(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(gn(e,t,r.children,n),r=xt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tw(e,n,t);else if(e.tag===19)tw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mt(xt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Pd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uh(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Pd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uh(t,!0,n,null,s);break;case"together":Uh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),co|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,n=us(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=us(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function c2(e,t,n){switch(t.tag){case 3:D1(t),ka();break;case 5:l1(t);break;case 1:Rn(t.type)&&xd(t);break;case 4:Qg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;mt(Ed,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mt(xt,xt.current&1),t.flags|=128,null):n&t.child.childLanes?N1(e,t,n):(mt(xt,xt.current&1),e=mi(e,t,n),e!==null?e.sibling:null);mt(xt,xt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return L1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mt(xt,xt.current),r)break;return null;case 22:case 23:return t.lanes=0,R1(e,t,n)}return mi(e,t,n)}var $1,sm,M1,F1;$1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sm=function(){};M1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,zs(Wr.current);var s=null;switch(n){case"input":i=Tp(e,i),r=Tp(e,r),s=[];break;case"select":i=Ct({},i,{value:void 0}),r=Ct({},r,{value:void 0}),s=[];break;case"textarea":i=jp(e,i),r=jp(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bd)}Rp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};F1=function(e,t,n,r){n!==r&&(t.flags|=4)};function sl(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function on(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function d2(e,t,n){var r=t.pendingProps;switch(zg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(t),null;case 1:return Rn(t.type)&&_d(),on(t),null;case 3:return r=t.stateNode,Ca(),yt(On),yt(dn),Jg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xr!==null&&(hm(xr),xr=null))),sm(e,t),on(t),null;case 5:Yg(t);var i=zs(tu.current);if(n=t.type,e!==null&&t.stateNode!=null)M1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Se(166));return on(t),null}if(e=zs(Wr.current),Cc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[zr]=t,r[Xl]=s,e=(t.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<gl.length;i++)gt(gl[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":c0(r,s),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gt("invalid",r);break;case"textarea":f0(r,s),gt("invalid",r)}Rp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,e),i=["children",""+a]):Vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gt("scroll",r)}switch(n){case"input":yc(r),d0(r,s,!0);break;case"textarea":yc(r),h0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[zr]=t,e[Xl]=r,$1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ip(n,r),n){case"dialog":gt("cancel",e),gt("close",e),i=r;break;case"iframe":case"object":case"embed":gt("load",e),i=r;break;case"video":case"audio":for(i=0;i<gl.length;i++)gt(gl[i],e);i=r;break;case"source":gt("error",e),i=r;break;case"img":case"image":case"link":gt("error",e),gt("load",e),i=r;break;case"details":gt("toggle",e),i=r;break;case"input":c0(e,r),i=Tp(e,r),gt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ct({},r,{value:void 0}),gt("invalid",e);break;case"textarea":f0(e,r),i=jp(e,r),gt("invalid",e);break;default:i=r}Rp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&px(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kl(e,l):typeof l=="number"&&Kl(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gt("scroll",e):l!=null&&Tg(e,s,l,o))}switch(n){case"input":yc(e),d0(e,r,!1);break;case"textarea":yc(e),h0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fs(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?na(e,!!r.multiple,s,!1):r.defaultValue!=null&&na(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return on(t),null;case 6:if(e&&t.stateNode!=null)F1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Se(166));if(n=zs(tu.current),zs(Wr.current),Cc(t)){if(r=t.stateNode,n=t.memoizedProps,r[zr]=t,(s=r.nodeValue!==n)&&(e=zn,e!==null))switch(e.tag){case 3:Ec(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ec(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=t,t.stateNode=r}return on(t),null;case 13:if(yt(xt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&Un!==null&&t.mode&1&&!(t.flags&128))r1(),ka(),t.flags|=98560,s=!1;else if(s=Cc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Se(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Se(317));s[zr]=t}else ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;on(t),s=!1}else xr!==null&&(hm(xr),xr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xt.current&1?Vt===0&&(Vt=3):uy())),t.updateQueue!==null&&(t.flags|=4),on(t),null);case 4:return Ca(),sm(e,t),e===null&&Jl(t.stateNode.containerInfo),on(t),null;case 10:return Hg(t.type._context),on(t),null;case 17:return Rn(t.type)&&_d(),on(t),null;case 19:if(yt(xt),s=t.memoizedState,s===null)return on(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)sl(s,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Pd(e),o!==null){for(t.flags|=128,sl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mt(xt,xt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Dt()>Pa&&(t.flags|=128,r=!0,sl(s,!1),t.lanes=4194304)}else{if(!r)if(e=Pd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wt)return on(t),null}else 2*Dt()-s.renderingStartTime>Pa&&n!==1073741824&&(t.flags|=128,r=!0,sl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Dt(),t.sibling=null,n=xt.current,mt(xt,r?n&1|2:n&1),t):(on(t),null);case 22:case 23:return ly(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fn&1073741824&&(on(t),t.subtreeFlags&6&&(t.flags|=8192)):on(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function f2(e,t){switch(zg(t),t.tag){case 1:return Rn(t.type)&&_d(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ca(),yt(On),yt(dn),Jg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yg(t),null;case 13:if(yt(xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yt(xt),null;case 4:return Ca(),null;case 10:return Hg(t.type._context),null;case 22:case 23:return ly(),null;case 24:return null;default:return null}}var Ac=!1,an=!1,h2=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Qo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(e,t,r)}else n.current=null}function om(e,t,n){try{n()}catch(r){At(e,t,r)}}var nw=!1;function p2(e,t){if(Vp=yd,e=Kx(),Bg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kp={focusedElem:e,selectionRange:n},yd=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,x=_.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:yr(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(C){At(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return _=nw,nw=!1,_}function Al(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&om(t,n,s)}i=i.next}while(i!==r)}}function df(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function am(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function B1(e){var t=e.alternate;t!==null&&(e.alternate=null,B1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zr],delete t[Xl],delete t[qp],delete t[YP],delete t[JP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function U1(e){return e.tag===5||e.tag===3||e.tag===4}function rw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||U1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bd));else if(r!==4&&(e=e.child,e!==null))for(lm(e,t,n),e=e.sibling;e!==null;)lm(e,t,n),e=e.sibling}function um(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(um(e,t,n),e=e.sibling;e!==null;)um(e,t,n),e=e.sibling}var Yt=null,br=!1;function ji(e,t,n){for(n=n.child;n!==null;)z1(e,t,n),n=n.sibling}function z1(e,t,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(nf,n)}catch{}switch(n.tag){case 5:an||Qo(n,t);case 6:var r=Yt,i=br;Yt=null,ji(e,t,n),Yt=r,br=i,Yt!==null&&(br?(e=Yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(br?(e=Yt,n=n.stateNode,e.nodeType===8?Dh(e.parentNode,n):e.nodeType===1&&Dh(e,n),Gl(e)):Dh(Yt,n.stateNode));break;case 4:r=Yt,i=br,Yt=n.stateNode.containerInfo,br=!0,ji(e,t,n),Yt=r,br=i;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&om(n,t,o),i=i.next}while(i!==r)}ji(e,t,n);break;case 1:if(!an&&(Qo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,t,a)}ji(e,t,n);break;case 21:ji(e,t,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,ji(e,t,n),an=r):ji(e,t,n);break;default:ji(e,t,n)}}function iw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new h2),t.forEach(function(r){var i=S2.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,br=!1;break e;case 3:Yt=a.stateNode.containerInfo,br=!0;break e;case 4:Yt=a.stateNode.containerInfo,br=!0;break e}a=a.return}if(Yt===null)throw Error(Se(160));z1(s,o,i),Yt=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){At(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)V1(t,e),t=t.sibling}function V1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hr(t,e),Nr(e),r&4){try{Al(3,e,e.return),df(3,e)}catch(y){At(e,e.return,y)}try{Al(5,e,e.return)}catch(y){At(e,e.return,y)}}break;case 1:hr(t,e),Nr(e),r&512&&n!==null&&Qo(n,n.return);break;case 5:if(hr(t,e),Nr(e),r&512&&n!==null&&Qo(n,n.return),e.flags&32){var i=e.stateNode;try{Kl(i,"")}catch(y){At(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dx(i,s),Ip(a,o);var u=Ip(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?gx(i,f):c==="dangerouslySetInnerHTML"?px(i,f):c==="children"?Kl(i,f):Tg(i,c,f,u)}switch(a){case"input":Pp(i,s);break;case"textarea":fx(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?na(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?na(i,!!s.multiple,s.defaultValue,!0):na(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xl]=s}catch(y){At(e,e.return,y)}}break;case 6:if(hr(t,e),Nr(e),r&4){if(e.stateNode===null)throw Error(Se(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){At(e,e.return,y)}}break;case 3:if(hr(t,e),Nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gl(t.containerInfo)}catch(y){At(e,e.return,y)}break;case 4:hr(t,e),Nr(e);break;case 13:hr(t,e),Nr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(oy=Dt())),r&4&&iw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(an=(u=an)||c,hr(t,e),an=u):hr(t,e),Nr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Me=e,c=e.child;c!==null;){for(f=Me=c;Me!==null;){switch(p=Me,m=p.child,p.tag){case 0:case 11:case 14:case 15:Al(4,p,p.return);break;case 1:Qo(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(y){At(r,n,y)}}break;case 5:Qo(p,p.return);break;case 22:if(p.memoizedState!==null){ow(f);continue}}m!==null?(m.return=p,Me=m):ow(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mx("display",o))}catch(y){At(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){At(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hr(t,e),Nr(e),r&4&&iw(e);break;case 21:break;default:hr(t,e),Nr(e)}}function Nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(U1(n)){var r=n;break e}n=n.return}throw Error(Se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kl(i,""),r.flags&=-33);var s=rw(e);um(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=rw(e);lm(e,a,o);break;default:throw Error(Se(161))}}catch(l){At(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m2(e,t,n){Me=e,K1(e)}function K1(e,t,n){for(var r=(e.mode&1)!==0;Me!==null;){var i=Me,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ac;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||an;a=Ac;var u=an;if(Ac=o,(an=l)&&!u)for(Me=i;Me!==null;)o=Me,l=o.child,o.tag===22&&o.memoizedState!==null?aw(i):l!==null?(l.return=o,Me=l):aw(i);for(;s!==null;)Me=s,K1(s),s=s.sibling;Me=i,Ac=a,an=u}sw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Me=s):sw(e)}}function sw(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||df(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!an)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&V0(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}V0(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Gl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}an||t.flags&512&&am(t)}catch(p){At(t,t.return,p)}}if(t===e){Me=null;break}if(n=t.sibling,n!==null){n.return=t.return,Me=n;break}Me=t.return}}function ow(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Me=n;break}Me=t.return}}function aw(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{df(4,t)}catch(l){At(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){At(t,i,l)}}var s=t.return;try{am(t)}catch(l){At(t,s,l)}break;case 5:var o=t.return;try{am(t)}catch(l){At(t,o,l)}}}catch(l){At(t,t.return,l)}if(t===e){Me=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Me=a;break}Me=t.return}}var g2=Math.ceil,Od=_i.ReactCurrentDispatcher,iy=_i.ReactCurrentOwner,or=_i.ReactCurrentBatchConfig,ot=0,Qt=null,Mt=null,Xt=0,Fn=0,Yo=ys(0),Vt=0,su=null,co=0,ff=0,sy=0,jl=null,Tn=null,oy=0,Pa=1/0,ti=null,Rd=!1,cm=null,as=null,jc=!1,Xi=null,Id=0,Ol=0,dm=null,ed=-1,td=0;function vn(){return ot&6?Dt():ed!==-1?ed:ed=Dt()}function ls(e){return e.mode&1?ot&2&&Xt!==0?Xt&-Xt:XP.transition!==null?(td===0&&(td=Px()),td):(e=ct,e!==0||(e=window.event,e=e===void 0?16:Nx(e.type)),e):1}function Er(e,t,n,r){if(50<Ol)throw Ol=0,dm=null,Error(Se(185));Su(e,n,r),(!(ot&2)||e!==Qt)&&(e===Qt&&(!(ot&2)&&(ff|=n),Vt===4&&Bi(e,Xt)),In(e,r),n===1&&ot===0&&!(t.mode&1)&&(Pa=Dt()+500,lf&&vs()))}function In(e,t){var n=e.callbackNode;XT(e,t);var r=gd(e,e===Qt?Xt:0);if(r===0)n!==null&&g0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&g0(n),t===1)e.tag===0?ZP(lw.bind(null,e)):e1(lw.bind(null,e)),GP(function(){!(ot&6)&&vs()}),n=null;else{switch(Ax(r)){case 1:n=Rg;break;case 4:n=Cx;break;case 16:n=md;break;case 536870912:n=Tx;break;default:n=md}n=Z1(n,W1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function W1(e,t){if(ed=-1,td=0,ot&6)throw Error(Se(327));var n=e.callbackNode;if(aa()&&e.callbackNode!==n)return null;var r=gd(e,e===Qt?Xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dd(e,r);else{t=r;var i=ot;ot|=2;var s=q1();(Qt!==e||Xt!==t)&&(ti=null,Pa=Dt()+500,ro(e,t));do try{w2();break}catch(a){H1(e,a)}while(!0);Wg(),Od.current=s,ot=i,Mt!==null?t=0:(Qt=null,Xt=0,t=Vt)}if(t!==0){if(t===2&&(i=Mp(e),i!==0&&(r=i,t=fm(e,i))),t===1)throw n=su,ro(e,0),Bi(e,r),In(e,Dt()),n;if(t===6)Bi(e,r);else{if(i=e.current.alternate,!(r&30)&&!y2(i)&&(t=Dd(e,r),t===2&&(s=Mp(e),s!==0&&(r=s,t=fm(e,s))),t===1))throw n=su,ro(e,0),Bi(e,r),In(e,Dt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Se(345));case 2:Is(e,Tn,ti);break;case 3:if(Bi(e,r),(r&130023424)===r&&(t=oy+500-Dt(),10<t)){if(gd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){vn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hp(Is.bind(null,e,Tn,ti),t);break}Is(e,Tn,ti);break;case 4:if(Bi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-kr(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*g2(r/1960))-r,10<r){e.timeoutHandle=Hp(Is.bind(null,e,Tn,ti),r);break}Is(e,Tn,ti);break;case 5:Is(e,Tn,ti);break;default:throw Error(Se(329))}}}return In(e,Dt()),e.callbackNode===n?W1.bind(null,e):null}function fm(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(ro(e,t).flags|=256),e=Dd(e,t),e!==2&&(t=Tn,Tn=n,t!==null&&hm(t)),e}function hm(e){Tn===null?Tn=e:Tn.push.apply(Tn,e)}function y2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bi(e,t){for(t&=~sy,t&=~ff,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kr(t),r=1<<n;e[n]=-1,t&=~r}}function lw(e){if(ot&6)throw Error(Se(327));aa();var t=gd(e,0);if(!(t&1))return In(e,Dt()),null;var n=Dd(e,t);if(e.tag!==0&&n===2){var r=Mp(e);r!==0&&(t=r,n=fm(e,r))}if(n===1)throw n=su,ro(e,0),Bi(e,t),In(e,Dt()),n;if(n===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Is(e,Tn,ti),In(e,Dt()),null}function ay(e,t){var n=ot;ot|=1;try{return e(t)}finally{ot=n,ot===0&&(Pa=Dt()+500,lf&&vs())}}function fo(e){Xi!==null&&Xi.tag===0&&!(ot&6)&&aa();var t=ot;ot|=1;var n=or.transition,r=ct;try{if(or.transition=null,ct=1,e)return e()}finally{ct=r,or.transition=n,ot=t,!(ot&6)&&vs()}}function ly(){Fn=Yo.current,yt(Yo)}function ro(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qP(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(zg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_d();break;case 3:Ca(),yt(On),yt(dn),Jg();break;case 5:Yg(r);break;case 4:Ca();break;case 13:yt(xt);break;case 19:yt(xt);break;case 10:Hg(r.type._context);break;case 22:case 23:ly()}n=n.return}if(Qt=e,Mt=e=us(e.current,null),Xt=Fn=t,Vt=0,su=null,sy=ff=co=0,Tn=jl=null,Us!==null){for(t=0;t<Us.length;t++)if(n=Us[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Us=null}return e}function H1(e,t){do{var n=Mt;try{if(Wg(),Jc.current=jd,Ad){for(var r=Et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ad=!1}if(uo=0,qt=Ut=Et=null,Pl=!1,nu=0,iy.current=null,n===null||n.return===null){Vt=1,su=t,Mt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Q0(o);if(m!==null){m.flags&=-257,Y0(m,o,a,s,t),m.mode&1&&G0(s,u,t),t=m,l=u;var _=t.updateQueue;if(_===null){var y=new Set;y.add(l),t.updateQueue=y}else _.add(l);break e}else{if(!(t&1)){G0(s,u,t),uy();break e}l=Error(Se(426))}}else if(wt&&a.mode&1){var x=Q0(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Y0(x,o,a,s,t),Vg(Ta(l,a));break e}}s=l=Ta(l,a),Vt!==4&&(Vt=2),jl===null?jl=[s]:jl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=A1(s,l,t);z0(s,g);break e;case 1:a=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(as===null||!as.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=j1(s,a,t);z0(s,C);break e}}s=s.return}while(s!==null)}Q1(n)}catch(O){t=O,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function q1(){var e=Od.current;return Od.current=jd,e===null?jd:e}function uy(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Qt===null||!(co&268435455)&&!(ff&268435455)||Bi(Qt,Xt)}function Dd(e,t){var n=ot;ot|=2;var r=q1();(Qt!==e||Xt!==t)&&(ti=null,ro(e,t));do try{v2();break}catch(i){H1(e,i)}while(!0);if(Wg(),ot=n,Od.current=r,Mt!==null)throw Error(Se(261));return Qt=null,Xt=0,Vt}function v2(){for(;Mt!==null;)G1(Mt)}function w2(){for(;Mt!==null&&!KT();)G1(Mt)}function G1(e){var t=J1(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?Q1(e):Mt=t,iy.current=null}function Q1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=f2(n,t),n!==null){n.flags&=32767,Mt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Mt=null;return}}else if(n=d2(n,t,Fn),n!==null){Mt=n;return}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=e}while(t!==null);Vt===0&&(Vt=5)}function Is(e,t,n){var r=ct,i=or.transition;try{or.transition=null,ct=1,b2(e,t,n,r)}finally{or.transition=i,ct=r}return null}function b2(e,t,n,r){do aa();while(Xi!==null);if(ot&6)throw Error(Se(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(eP(e,s),e===Qt&&(Mt=Qt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jc||(jc=!0,Z1(md,function(){return aa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=or.transition,or.transition=null;var o=ct;ct=1;var a=ot;ot|=4,iy.current=null,p2(e,n),V1(n,e),BP(Kp),yd=!!Vp,Kp=Vp=null,e.current=n,m2(n),WT(),ot=a,ct=o,or.transition=s}else e.current=n;if(jc&&(jc=!1,Xi=e,Id=i),s=e.pendingLanes,s===0&&(as=null),GT(n.stateNode),In(e,Dt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rd)throw Rd=!1,e=cm,cm=null,e;return Id&1&&e.tag!==0&&aa(),s=e.pendingLanes,s&1?e===dm?Ol++:(Ol=0,dm=e):Ol=0,vs(),null}function aa(){if(Xi!==null){var e=Ax(Id),t=or.transition,n=ct;try{if(or.transition=null,ct=16>e?16:e,Xi===null)var r=!1;else{if(e=Xi,Xi=null,Id=0,ot&6)throw Error(Se(331));var i=ot;for(ot|=4,Me=e.current;Me!==null;){var s=Me,o=s.child;if(Me.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Me=u;Me!==null;){var c=Me;switch(c.tag){case 0:case 11:case 15:Al(8,c,s)}var f=c.child;if(f!==null)f.return=c,Me=f;else for(;Me!==null;){c=Me;var p=c.sibling,m=c.return;if(B1(c),c===u){Me=null;break}if(p!==null){p.return=m,Me=p;break}Me=m}}}var _=s.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Me=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Me=o;else e:for(;Me!==null;){if(s=Me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Al(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Me=g;break e}Me=s.return}}var v=e.current;for(Me=v;Me!==null;){o=Me;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Me=w;else e:for(o=v;Me!==null;){if(a=Me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:df(9,a)}}catch(O){At(a,a.return,O)}if(a===o){Me=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Me=C;break e}Me=a.return}}if(ot=i,vs(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(nf,e)}catch{}r=!0}return r}finally{ct=n,or.transition=t}}return!1}function uw(e,t,n){t=Ta(n,t),t=A1(e,t,1),e=os(e,t,1),t=vn(),e!==null&&(Su(e,1,t),In(e,t))}function At(e,t,n){if(e.tag===3)uw(e,e,n);else for(;t!==null;){if(t.tag===3){uw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(as===null||!as.has(r))){e=Ta(n,e),e=j1(t,e,1),t=os(t,e,1),e=vn(),t!==null&&(Su(t,1,e),In(t,e));break}}t=t.return}}function _2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=vn(),e.pingedLanes|=e.suspendedLanes&n,Qt===e&&(Xt&n)===n&&(Vt===4||Vt===3&&(Xt&130023424)===Xt&&500>Dt()-oy?ro(e,0):sy|=n),In(e,t)}function Y1(e,t){t===0&&(e.mode&1?(t=bc,bc<<=1,!(bc&130023424)&&(bc=4194304)):t=1);var n=vn();e=pi(e,t),e!==null&&(Su(e,t,n),In(e,n))}function x2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Y1(e,n)}function S2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Se(314))}r!==null&&r.delete(t),Y1(e,n)}var J1;J1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||On.current)An=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return An=!1,c2(e,t,n);An=!!(e.flags&131072)}else An=!1,wt&&t.flags&1048576&&t1(t,kd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xc(e,t),e=t.pendingProps;var i=Sa(t,dn.current);oa(t,n),i=Xg(null,t,r,e,i,n);var s=ey();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rn(r)?(s=!0,xd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gg(t),i.updater=cf,t.stateNode=i,i._reactInternals=t,Xp(t,r,e,n),t=nm(null,t,r,!0,s,n)):(t.tag=0,wt&&s&&Ug(t),gn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=E2(r),e=yr(r,e),i){case 0:t=tm(null,t,r,e,n);break e;case 1:t=X0(null,t,r,e,n);break e;case 11:t=J0(null,t,r,e,n);break e;case 14:t=Z0(null,t,r,yr(r.type,e),n);break e}throw Error(Se(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yr(r,i),tm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yr(r,i),X0(e,t,r,i,n);case 3:e:{if(D1(t),e===null)throw Error(Se(387));r=t.pendingProps,s=t.memoizedState,i=s.element,a1(e,t),Td(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ta(Error(Se(423)),t),t=ew(e,t,r,n,i);break e}else if(r!==i){i=Ta(Error(Se(424)),t),t=ew(e,t,r,n,i);break e}else for(Un=ss(t.stateNode.containerInfo.firstChild),zn=t,wt=!0,xr=null,n=s1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ka(),r===i){t=mi(e,t,n);break e}gn(e,t,r,n)}t=t.child}return t;case 5:return l1(t),e===null&&Yp(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Wp(r,i)?o=null:s!==null&&Wp(r,s)&&(t.flags|=32),I1(e,t),gn(e,t,o,n),t.child;case 6:return e===null&&Yp(t),null;case 13:return N1(e,t,n);case 4:return Qg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ea(t,null,r,n):gn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yr(r,i),J0(e,t,r,i,n);case 7:return gn(e,t,t.pendingProps,n),t.child;case 8:return gn(e,t,t.pendingProps.children,n),t.child;case 12:return gn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,mt(Ed,r._currentValue),r._currentValue=o,s!==null)if(Cr(s.value,o)){if(s.children===i.children&&!On.current){t=mi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ui(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Jp(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Se(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jp(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,oa(t,n),i=lr(i),r=r(i),t.flags|=1,gn(e,t,r,n),t.child;case 14:return r=t.type,i=yr(r,t.pendingProps),i=yr(r.type,i),Z0(e,t,r,i,n);case 15:return O1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yr(r,i),Xc(e,t),t.tag=1,Rn(r)?(e=!0,xd(t)):e=!1,oa(t,n),P1(t,r,i),Xp(t,r,i,n),nm(null,t,r,!0,e,n);case 19:return L1(e,t,n);case 22:return R1(e,t,n)}throw Error(Se(156,t.tag))};function Z1(e,t){return Ex(e,t)}function k2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(e,t,n,r){return new k2(e,t,n,r)}function cy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E2(e){if(typeof e=="function")return cy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ag)return 11;if(e===jg)return 14}return 2}function us(e,t){var n=e.alternate;return n===null?(n=ir(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nd(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")cy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Bo:return io(n.children,i,s,t);case Pg:o=8,i|=8;break;case Sp:return e=ir(12,n,t,i|2),e.elementType=Sp,e.lanes=s,e;case kp:return e=ir(13,n,t,i),e.elementType=kp,e.lanes=s,e;case Ep:return e=ir(19,n,t,i),e.elementType=Ep,e.lanes=s,e;case lx:return hf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ox:o=10;break e;case ax:o=9;break e;case Ag:o=11;break e;case jg:o=14;break e;case $i:o=16,r=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=ir(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function io(e,t,n,r){return e=ir(7,e,r,t),e.lanes=n,e}function hf(e,t,n,r){return e=ir(22,e,r,t),e.elementType=lx,e.lanes=n,e.stateNode={isHidden:!1},e}function zh(e,t,n){return e=ir(6,e,null,t),e.lanes=n,e}function Vh(e,t,n){return t=ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function C2(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sh(0),this.expirationTimes=Sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dy(e,t,n,r,i,s,o,a,l){return e=new C2(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ir(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gg(s),e}function T2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function X1(e){if(!e)return hs;e=e._reactInternals;e:{if(go(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var n=e.type;if(Rn(n))return Xx(e,n,t)}return t}function eS(e,t,n,r,i,s,o,a,l){return e=dy(n,r,!0,e,i,s,o,a,l),e.context=X1(null),n=e.current,r=vn(),i=ls(n),s=ui(r,i),s.callback=t??null,os(n,s,i),e.current.lanes=i,Su(e,i,r),In(e,r),e}function pf(e,t,n,r){var i=t.current,s=vn(),o=ls(i);return n=X1(n),t.context===null?t.context=n:t.pendingContext=n,t=ui(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=os(i,t,o),e!==null&&(Er(e,i,o,s),Yc(e,i,o)),o}function Nd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fy(e,t){cw(e,t),(e=e.alternate)&&cw(e,t)}function P2(){return null}var tS=typeof reportError=="function"?reportError:function(e){console.error(e)};function hy(e){this._internalRoot=e}mf.prototype.render=hy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));pf(e,t,null,null)};mf.prototype.unmount=hy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fo(function(){pf(null,e,null,null)}),t[hi]=null}};function mf(e){this._internalRoot=e}mf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fi.length&&t!==0&&t<Fi[n].priority;n++);Fi.splice(n,0,e),n===0&&Dx(e)}};function py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dw(){}function A2(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Nd(o);s.call(u)}}var o=eS(t,r,e,0,null,!1,!1,"",dw);return e._reactRootContainer=o,e[hi]=o.current,Jl(e.nodeType===8?e.parentNode:e),fo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Nd(l);a.call(u)}}var l=dy(e,0,!1,null,null,!1,!1,"",dw);return e._reactRootContainer=l,e[hi]=l.current,Jl(e.nodeType===8?e.parentNode:e),fo(function(){pf(t,l,n,r)}),l}function yf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Nd(o);a.call(l)}}pf(t,o,e,i)}else o=A2(n,t,e,i,r);return Nd(o)}jx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ml(t.pendingLanes);n!==0&&(Ig(t,n|1),In(t,Dt()),!(ot&6)&&(Pa=Dt()+500,vs()))}break;case 13:fo(function(){var r=pi(e,1);if(r!==null){var i=vn();Er(r,e,1,i)}}),fy(e,1)}};Dg=function(e){if(e.tag===13){var t=pi(e,134217728);if(t!==null){var n=vn();Er(t,e,134217728,n)}fy(e,134217728)}};Ox=function(e){if(e.tag===13){var t=ls(e),n=pi(e,t);if(n!==null){var r=vn();Er(n,e,t,r)}fy(e,t)}};Rx=function(){return ct};Ix=function(e,t){var n=ct;try{return ct=e,t()}finally{ct=n}};Np=function(e,t,n){switch(t){case"input":if(Pp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=af(r);if(!i)throw Error(Se(90));cx(r),Pp(r,i)}}}break;case"textarea":fx(e,n);break;case"select":t=n.value,t!=null&&na(e,!!n.multiple,t,!1)}};wx=ay;bx=fo;var j2={usingClientEntryPoint:!1,Events:[Eu,Ko,af,yx,vx,ay]},ol={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O2={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sx(e),e===null?null:e.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||P2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{nf=Oc.inject(O2),Kr=Oc}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j2;Wn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!py(t))throw Error(Se(200));return T2(e,t,null,n)};Wn.createRoot=function(e,t){if(!py(e))throw Error(Se(299));var n=!1,r="",i=tS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=dy(e,1,!1,null,null,n,!1,r,i),e[hi]=t.current,Jl(e.nodeType===8?e.parentNode:e),new hy(t)};Wn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=Sx(t),e=e===null?null:e.stateNode,e};Wn.flushSync=function(e){return fo(e)};Wn.hydrate=function(e,t,n){if(!gf(t))throw Error(Se(200));return yf(null,e,t,!0,n)};Wn.hydrateRoot=function(e,t,n){if(!py(e))throw Error(Se(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=eS(t,null,e,1,n??null,i,!1,s,o),e[hi]=t.current,Jl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new mf(t)};Wn.render=function(e,t,n){if(!gf(t))throw Error(Se(200));return yf(null,e,t,!1,n)};Wn.unmountComponentAtNode=function(e){if(!gf(e))throw Error(Se(40));return e._reactRootContainer?(fo(function(){yf(null,null,e,!1,function(){e._reactRootContainer=null,e[hi]=null})}),!0):!1};Wn.unstable_batchedUpdates=ay;Wn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gf(n))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return yf(e,t,n,!1,r)};Wn.version="18.3.1-next-f1338f8080-20240426";function nS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nS)}catch(e){console.error(e)}}nS(),nx.exports=Wn;var my=nx.exports;const R2=ef(my);var fw=my;_p.createRoot=fw.createRoot,_p.hydrateRoot=fw.hydrateRoot;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hw="popstate";function I2(e={}){function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=yo(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),pm("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:ou(s))}function r(i,s){Kn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return N2(t,n,r,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function D2(){return Math.random().toString(36).substring(2,10)}function pw(e,t){return{usr:e.state,key:e.key,idx:t}}function pm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yo(t):t,state:n,key:t&&t.key||r||D2()}}function ou({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function N2(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function f(){a="POP";let x=c(),g=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:g})}function p(x,g){a="PUSH";let v=pm(y.location,x,g);n&&n(v,x),u=c()+1;let w=pw(v,u),C=y.createHref(v);try{o.pushState(w,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(C)}s&&l&&l({action:a,location:y.location,delta:1})}function m(x,g){a="REPLACE";let v=pm(y.location,x,g);n&&n(v,x),u=c();let w=pw(v,u),C=y.createHref(v);o.replaceState(w,"",C),s&&l&&l({action:a,location:y.location,delta:0})}function _(x){return L2(x)}let y={get action(){return a},get location(){return e(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hw,f),l=x,()=>{i.removeEventListener(hw,f),l=null}},createHref(x){return t(i,x)},createURL:_,encodeLocation(x){let g=_(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(x){return o.go(x)}};return y}function L2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ou(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function rS(e,t,n="/"){return $2(e,t,n,!1)}function $2(e,t,n,r){let i=typeof t=="string"?yo(t):t,s=gi(i.pathname||"/",n);if(s==null)return null;let o=iS(e);M2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Q2(s);a=q2(o[l],u,r)}return a}function iS(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;_t(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let f=ci([r,c.relativePath]),p=n.concat(c);o.children&&o.children.length>0&&(_t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),iS(o.children,t,p,f,l)),!(o.path==null&&!o.index)&&t.push({path:f,score:W2(f,o.index),routesMeta:p})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of sS(o.path))s(o,a,!0,u)}),t}function sS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=sS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function M2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:H2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var F2=/^:[\w-]+$/,B2=3,U2=2,z2=1,V2=10,K2=-2,mw=e=>e==="*";function W2(e,t){let n=e.split("/"),r=n.length;return n.some(mw)&&(r+=K2),t&&(r+=U2),n.filter(i=>!mw(i)).reduce((i,s)=>i+(F2.test(s)?B2:s===""?z2:V2),r)}function H2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function q2(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",f=Ld({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Ld({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ci([s,f.pathname]),pathnameBase:X2(ci([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ci([s,f.pathnameBase]))}return o}function Ld(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=G2(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},p)=>{if(c==="*"){let _=a[p]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const m=a[p];return f&&!m?u[c]=void 0:u[c]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function G2(e,t=!1,n=!0){Kn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Q2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Y2(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?yo(e):e;return{pathname:n?n.startsWith("/")?n:J2(n,t):t,search:eA(r),hash:tA(i)}}function J2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kh(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gy(e){let t=Z2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function yy(e,t,n,r=!1){let i;typeof e=="string"?i=yo(e):(i={...e},_t(!i.pathname||!i.pathname.includes("?"),Kh("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Kh("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Kh("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=Y2(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var ci=e=>e.join("/").replace(/\/\/+/g,"/"),X2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var oS=["POST","PUT","PATCH","DELETE"];new Set(oS);var rA=["GET",...oS];new Set(rA);var Na=E.createContext(null);Na.displayName="DataRouter";var vf=E.createContext(null);vf.displayName="DataRouterState";E.createContext(!1);var aS=E.createContext({isTransitioning:!1});aS.displayName="ViewTransition";var iA=E.createContext(new Map);iA.displayName="Fetchers";var sA=E.createContext(null);sA.displayName="Await";var Pr=E.createContext(null);Pr.displayName="Navigation";var Tu=E.createContext(null);Tu.displayName="Location";var Ar=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var vy=E.createContext(null);vy.displayName="RouteError";function oA(e,{relative:t}={}){_t(La(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Pr),{hash:i,pathname:s,search:o}=Au(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:ci([n,s])),r.createHref({pathname:a,search:o,hash:i})}function La(){return E.useContext(Tu)!=null}function cr(){return _t(La(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Tu).location}var lS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uS(e){E.useContext(Pr).static||E.useLayoutEffect(e)}function jr(){let{isDataRoute:e}=E.useContext(Ar);return e?wA():aA()}function aA(){_t(La(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Na),{basename:t,navigator:n}=E.useContext(Pr),{matches:r}=E.useContext(Ar),{pathname:i}=cr(),s=JSON.stringify(gy(r)),o=E.useRef(!1);return uS(()=>{o.current=!0}),E.useCallback((l,u={})=>{if(Kn(o.current,lS),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=yy(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ci([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}E.createContext(null);function Pu(){let{matches:e}=E.useContext(Ar),t=e[e.length-1];return t?t.params:{}}function Au(e,{relative:t}={}){let{matches:n}=E.useContext(Ar),{pathname:r}=cr(),i=JSON.stringify(gy(n));return E.useMemo(()=>yy(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function lA(e,t){return cS(e,t)}function cS(e,t,n,r,i){var v;_t(La(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(Pr),{matches:o}=E.useContext(Ar),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",f=a&&a.route;{let w=f&&f.path||"";dS(u,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=cr(),m;if(t){let w=typeof t=="string"?yo(t):t;_t(c==="/"||((v=w.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${w.pathname}" was given in the \`location\` prop.`),m=w}else m=p;let _=m.pathname||"/",y=_;if(c!=="/"){let w=c.replace(/^\//,"").split("/");y="/"+_.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=rS(e,{pathname:y});Kn(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Kn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=hA(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ci([c,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ci([c,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,n,r,i);return t&&g?E.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function uA(){let e=vA(),t=nA(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:s},"ErrorBoundary")," or"," ",E.createElement("code",{style:s},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,o)}var cA=E.createElement(uA,null),dA=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?E.createElement(Ar.Provider,{value:this.props.routeContext},E.createElement(vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fA({routeContext:e,match:t,children:n}){let r=E.useContext(Na);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Ar.Provider,{value:e},n)}function hA(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);_t(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let c=s[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:f,errors:p}=n,m=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,c,f)=>{let p,m=!1,_=null,y=null;n&&(p=o&&c.route.id?o[c.route.id]:void 0,_=c.route.errorElement||cA,a&&(l<0&&f===0?(dS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,y=null):l===f&&(m=!0,y=c.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,f+1)),g=()=>{let v;return p?v=_:m?v=y:c.route.Component?v=E.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=u,E.createElement(fA,{match:c,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?E.createElement(dA,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:r}):g()},null)}function wy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pA(e){let t=E.useContext(Na);return _t(t,wy(e)),t}function mA(e){let t=E.useContext(vf);return _t(t,wy(e)),t}function gA(e){let t=E.useContext(Ar);return _t(t,wy(e)),t}function by(e){let t=gA(e),n=t.matches[t.matches.length-1];return _t(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function yA(){return by("useRouteId")}function vA(){var r;let e=E.useContext(vy),t=mA("useRouteError"),n=by("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function wA(){let{router:e}=pA("useNavigate"),t=by("useNavigate"),n=E.useRef(!1);return uS(()=>{n.current=!0}),E.useCallback(async(i,s={})=>{Kn(n.current,lS),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var gw={};function dS(e,t,n){!t&&!gw[e]&&(gw[e]=!0,Kn(!1,n))}E.memo(bA);function bA({routes:e,future:t,state:n,unstable_onError:r}){return cS(e,void 0,n,r,t)}function fS({to:e,replace:t,state:n,relative:r}){_t(La(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(Pr);Kn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=E.useContext(Ar),{pathname:o}=cr(),a=jr(),l=yy(e,gy(s),o,r==="path"),u=JSON.stringify(l);return E.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function Sn(e){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _A({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){_t(!La(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=E.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=yo(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:p="default"}=n,m=E.useMemo(()=>{let _=gi(l,o);return _==null?null:{location:{pathname:_,search:u,hash:c,state:f,key:p},navigationType:r}},[o,l,u,c,f,p,r]);return Kn(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:E.createElement(Pr.Provider,{value:a},E.createElement(Tu.Provider,{children:t,value:m}))}function xA({children:e,location:t}){return lA(mm(e),t)}function mm(e,t=[]){let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let s=[...t,i];if(r.type===E.Fragment){n.push.apply(n,mm(r.props.children,s));return}_t(r.type===Sn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mm(r.props.children,s)),n.push(o)}),n}var rd="get",id="application/x-www-form-urlencoded";function wf(e){return e!=null&&typeof e.tagName=="string"}function SA(e){return wf(e)&&e.tagName.toLowerCase()==="button"}function kA(e){return wf(e)&&e.tagName.toLowerCase()==="form"}function EA(e){return wf(e)&&e.tagName.toLowerCase()==="input"}function CA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TA(e,t){return e.button===0&&(!t||t==="_self")&&!CA(e)}function gm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function PA(e,t){let n=gm(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Rc=null;function AA(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var jA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wh(e){return e!=null&&!jA.has(e)?(Kn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${id}"`),null):e}function OA(e,t){let n,r,i,s,o;if(kA(e)){let a=e.getAttribute("action");r=a?gi(a,t):null,n=e.getAttribute("method")||rd,i=Wh(e.getAttribute("enctype"))||id,s=new FormData(e)}else if(SA(e)||EA(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?gi(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||rd,i=Wh(e.getAttribute("formenctype"))||Wh(a.getAttribute("enctype"))||id,s=new FormData(a,e),!AA()){let{name:u,type:c,value:f}=e;if(c==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,f)}}else{if(wf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rd,r=null,i=id,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _y(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RA(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&gi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function IA(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function NA(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await IA(s,n);return o.links?o.links():[]}return[]}));return FA(r.flat(1).filter(DA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yw(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function LA(e,t,{includeHydrateFallback:n}={}){return $A(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function $A(e){return[...new Set(e)]}function MA(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function FA(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(MA(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function hS(){let e=E.useContext(Na);return _y(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function BA(){let e=E.useContext(vf);return _y(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var xy=E.createContext(void 0);xy.displayName="FrameworkContext";function pS(){let e=E.useContext(xy);return _y(e,"You must render this element inside a <HydratedRouter> element"),e}function UA(e,t){let n=E.useContext(xy),[r,i]=E.useState(!1),[s,o]=E.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,p=E.useRef(null);E.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=g=>{g.forEach(v=>{o(v.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[e]),E.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let m=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,p,{}]:[s,p,{onFocus:al(a,m),onBlur:al(l,_),onMouseEnter:al(u,m),onMouseLeave:al(c,_),onTouchStart:al(f,m)}]:[!1,p,{}]}function al(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function zA({page:e,...t}){let{router:n}=hS(),r=E.useMemo(()=>rS(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?E.createElement(KA,{page:e,matches:r,...t}):null}function VA(e){let{manifest:t,routeModules:n}=pS(),[r,i]=E.useState([]);return E.useEffect(()=>{let s=!1;return NA(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function KA({page:e,matches:t,...n}){let r=cr(),{manifest:i,routeModules:s}=pS(),{basename:o}=hS(),{loaderData:a,matches:l}=BA(),u=E.useMemo(()=>yw(e,t,l,i,r,"data"),[e,t,l,i,r]),c=E.useMemo(()=>yw(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=E.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,y=!1;if(t.forEach(g=>{var w;let v=i.routes[g.route.id];!v||!v.hasLoader||(!u.some(C=>C.route.id===g.route.id)&&g.route.id in a&&((w=s[g.route.id])!=null&&w.shouldRevalidate)||v.hasClientLoader?y=!0:_.add(g.route.id))}),_.size===0)return[];let x=RA(e,o,"data");return y&&_.size>0&&x.searchParams.set("_routes",t.filter(g=>_.has(g.route.id)).map(g=>g.route.id).join(",")),[x.pathname+x.search]},[o,a,r,i,u,t,e,s]),p=E.useMemo(()=>LA(c,i),[c,i]),m=VA(c);return E.createElement(E.Fragment,null,f.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),m.map(({key:_,link:y})=>E.createElement("link",{key:_,nonce:n.nonce,...y})))}function WA(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var mS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mS&&(window.__reactRouterVersion="7.9.3")}catch{}function HA({basename:e,children:t,window:n}){let r=E.useRef();r.current==null&&(r.current=I2({window:n,v5Compat:!0}));let i=r.current,[s,o]=E.useState({action:i.action,location:i.location}),a=E.useCallback(l=>{E.startTransition(()=>o(l))},[o]);return E.useLayoutEffect(()=>i.listen(a),[i,a]),E.createElement(_A,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var gS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bn=E.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f,...p},m){let{basename:_}=E.useContext(Pr),y=typeof u=="string"&&gS.test(u),x,g=!1;if(typeof u=="string"&&y&&(x=u,mS))try{let z=new URL(window.location.href),W=u.startsWith("//")?new URL(z.protocol+u):new URL(u),ve=gi(W.pathname,_);W.origin===z.origin&&ve!=null?u=ve+W.search+W.hash:g=!0}catch{Kn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=oA(u,{relative:i}),[w,C,O]=UA(r,p),R=YA(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function I(z){t&&t(z),z.defaultPrevented||R(z)}let M=E.createElement("a",{...p,...O,href:x||v,onClick:g||s?t:I,ref:WA(m,C),target:l,"data-discover":!y&&n==="render"?"true":void 0});return w&&!y?E.createElement(E.Fragment,null,M,E.createElement(zA,{page:v})):M});Bn.displayName="Link";var qA=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let f=Au(o,{relative:u.relative}),p=cr(),m=E.useContext(vf),{navigator:_,basename:y}=E.useContext(Pr),x=m!=null&&nj(f)&&a===!0,g=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,v=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(v=v.toLowerCase(),w=w?w.toLowerCase():null,g=g.toLowerCase()),w&&y&&(w=gi(w,y)||w);const C=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let O=v===g||!i&&v.startsWith(g)&&v.charAt(C)==="/",R=w!=null&&(w===g||!i&&w.startsWith(g)&&w.charAt(g.length)==="/"),I={isActive:O,isPending:R,isTransitioning:x},M=O?t:void 0,z;typeof r=="function"?z=r(I):z=[r,O?"active":null,R?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let W=typeof s=="function"?s(I):s;return E.createElement(Bn,{...u,"aria-current":M,className:z,ref:c,style:W,to:o,viewTransition:a},typeof l=="function"?l(I):l)});qA.displayName="NavLink";var GA=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=rd,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...p},m)=>{let _=ej(),y=tj(a,{relative:u}),x=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&gS.test(a),v=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let C=w.nativeEvent.submitter,O=(C==null?void 0:C.getAttribute("formmethod"))||o;_(C||w.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:f})};return E.createElement("form",{ref:m,method:x,action:y,onSubmit:r?l:v,...p,"data-discover":!g&&e==="render"?"true":void 0})});GA.displayName="Form";function QA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yS(e){let t=E.useContext(Na);return _t(t,QA(e)),t}function YA(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=jr(),l=cr(),u=Au(e,{relative:s});return E.useCallback(c=>{if(TA(c,t)){c.preventDefault();let f=n!==void 0?n:ou(l)===ou(u);a(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}function JA(e){Kn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=E.useRef(gm(e)),n=E.useRef(!1),r=cr(),i=E.useMemo(()=>PA(r.search,n.current?null:t.current),[r.search]),s=jr(),o=E.useCallback((a,l)=>{const u=gm(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var ZA=0,XA=()=>`__${String(++ZA)}__`;function ej(){let{router:e}=yS("useSubmit"),{basename:t}=E.useContext(Pr),n=yA();return E.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=OA(r,t);if(i.navigate===!1){let c=i.fetcherKey||XA();await e.fetch(c,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function tj(e,{relative:t}={}){let{basename:n}=E.useContext(Pr),r=E.useContext(Ar);_t(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Au(e||".",{relative:t})},o=cr();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let c=a.toString();s.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ci([n,s.pathname])),ou(s)}function nj(e,{relative:t}={}){let n=E.useContext(aS);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yS("useViewTransitionState"),i=Au(e,{relative:t});if(!n.isTransitioning)return!1;let s=gi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=gi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ld(i.pathname,o)!=null||Ld(i.pathname,s)!=null}const vo="https://script.google.com/macros/s/AKfycbynZahbOOktMAZDYAUSCvG775_NwreTVV31OzQBkefIZ1-OAUrOsnhg4Uxi1TUKihhPMw/exec",vS="radtpoqypgqetijvopho",rj="modulepreload",ij=function(e){return"/new-sankeertan/"+e},vw={},$a=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=ij(l),l in vw)return;vw[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":rj,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},sj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ma);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Sy extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ww extends Sy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bw extends Sy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class _w extends Sy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ym;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ym||(ym={}));var oj=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class aj{constructor(t,{headers:n={},customFetch:r,region:i=ym.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=sj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return oj(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:o,body:a,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const f=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,f.searchParams.set("forceFunctionRegion",c));let p;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(u["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(u["Content-Type"]="application/json",p=JSON.stringify(a)));const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:p,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new ww(g)}),_=m.headers.get("x-relay-error");if(_&&_==="true")throw new bw(m);if(!m.ok)throw new _w(m);let y=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield m.json():y==="application/octet-stream"?x=yield m.blob():y==="text/event-stream"?x=m:y==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new ww(s)}:{data:null,error:s,response:s instanceof _w||s instanceof bw?s.context:void 0}}})}}var Pn={},ky={},bf={},ju={},_f={},xf={},lj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Aa=lj();const uj=Aa.fetch,wS=Aa.fetch.bind(Aa),bS=Aa.Headers,cj=Aa.Request,dj=Aa.Response,Ma=Object.freeze(Object.defineProperty({__proto__:null,Headers:bS,Request:cj,Response:dj,default:wS,fetch:uj},Symbol.toStringTag,{value:"Module"})),fj=oT(Ma);var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});let hj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Sf.default=hj;var _S=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xf,"__esModule",{value:!0});const pj=_S(fj),mj=_S(Sf);let gj=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=pj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l,u;let c=null,f=null,p=null,m=s.status,_=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const x=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,m=406,_="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const x=await s.text();try{c=JSON.parse(x),Array.isArray(c)&&s.status===404&&(f=[],c=null,m=200,_="OK")}catch{s.status===404&&x===""?(m=204,_="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,m=200,_="OK"),c&&this.shouldThrowOnError)throw new mj.default(c)}return{error:c,data:f,count:p,status:m,statusText:_}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};xf.default=gj;var yj=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_f,"__esModule",{value:!0});const vj=yj(xf);let wj=class extends vj.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};_f.default=wj;var bj=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ju,"__esModule",{value:!0});const _j=bj(_f);let xj=class extends _j.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ju.default=xj;var Sj=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bf,"__esModule",{value:!0});const ll=Sj(ju);let kj=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){const{head:r=!1,count:i}=n??{},s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new ll.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const s="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ll.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ll.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ll.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ll.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};bf.default=kj;var xS=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ky,"__esModule",{value:!0});const Ej=xS(bf),Cj=xS(ju);let Tj=class SS{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Ej.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new SS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(a="POST",u=n);const c=new Headers(this.headers);return s&&c.set("Prefer",`count=${s}`),new Cj.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ky.default=Tj;var Fa=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.PostgrestError=Pn.PostgrestBuilder=Pn.PostgrestTransformBuilder=Pn.PostgrestFilterBuilder=Pn.PostgrestQueryBuilder=Pn.PostgrestClient=void 0;const kS=Fa(ky);Pn.PostgrestClient=kS.default;const ES=Fa(bf);Pn.PostgrestQueryBuilder=ES.default;const CS=Fa(ju);Pn.PostgrestFilterBuilder=CS.default;const TS=Fa(_f);Pn.PostgrestTransformBuilder=TS.default;const PS=Fa(xf);Pn.PostgrestBuilder=PS.default;const AS=Fa(Sf);Pn.PostgrestError=AS.default;var Pj=Pn.default={PostgrestClient:kS.default,PostgrestQueryBuilder:ES.default,PostgrestFilterBuilder:CS.default,PostgrestTransformBuilder:TS.default,PostgrestBuilder:PS.default,PostgrestError:AS.default};const{PostgrestClient:Aj,PostgrestQueryBuilder:cB,PostgrestFilterBuilder:dB,PostgrestTransformBuilder:fB,PostgrestBuilder:hB,PostgrestError:pB}=Pj;class jj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Oj="2.74.0",Rj=`realtime-js/${Oj}`,Ij="1.0.0",vm=1e4,Dj=1e3,Nj=100;var Rl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rl||(Rl={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var _r;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_r||(_r={}));var wm;(function(e){e.websocket="websocket"})(wm||(wm={}));var $s;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($s||($s={}));class Lj{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class jS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pt||(pt={}));const xw=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=$j(o,e,t,i),s),{}):{}},$j=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?OS(s,o):bm(o)},OS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Uj(t,n)}switch(e){case pt.bool:return Mj(t);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return Fj(t);case pt.json:case pt.jsonb:return Bj(t);case pt.timestamp:return zj(t);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return bm(t);default:return bm(t)}},bm=e=>e,Mj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Fj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Bj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Uj=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>OS(t,a))}return e},zj=e=>typeof e=="string"?e.replace(" ","T"):e,RS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Hh{constructor(t,n,r={},i=vm){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Sw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Sw||(Sw={}));class Il{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Il.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Il.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Il.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=s[u];if(f){const p=c.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),_=c.filter(x=>m.indexOf(x.presence_ref)<0),y=f.filter(x=>p.indexOf(x.presence_ref)<0);_.length>0&&(a[u]=_),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(m=>m.presence_ref),p=c.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kw||(kw={}));var Dl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dl||(Dl={}));var ni;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ni||(ni={}));class Ey{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hh(this,_r.join,this.params,this.timeout),this.rejoinTimer=new jS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_r.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Il(this),this.broadcastEndpointURL=RS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Dl.PRESENCE]&&this.bindings[Dl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ni.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ni.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var _;if(this.socket.setAuth(),m===void 0){t==null||t(ni.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(_=y==null?void 0:y.length)!==null&&_!==void 0?_:0,g=[];for(let v=0;v<x;v++){const w=y[v],{filter:{event:C,schema:O,table:R,filter:I}}=w,M=m&&m[v];if(M&&M.event===C&&M.schema===O&&M.table===R&&M.filter===I)g.push(Object.assign(Object.assign({},w),{id:M.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(ni.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ni.SUBSCRIBED);return}}).receive("error",m=>{this.state=Bt.errored,t==null||t(ni.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ni.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Bt.joined&&t===Dl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_r.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Hh(this,_r.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Hh(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Nj){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=_r;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var _,y,x;return((_=m.filter)===null||_===void 0?void 0:_.event)==="*"||((x=(y=m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var _,y,x,g,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const C=m.id,O=(_=m.filter)===null||_===void 0?void 0:_.event;return C&&((y=n.ids)===null||y===void 0?void 0:y.includes(C))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const C=(v=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return C==="*"||C===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const _=p.data,{schema:y,table:x,commit_timestamp:g,type:v,errors:w}=_;p=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:g,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(_))}m.callback(p,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Ey.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_r.close,{},t)}_onError(t){this._on(_r.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xw(t.columns,t.old_record)),n}}const qh=()=>{},Ic={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vj=[1e3,2e3,5e3,1e4],Kj=1e4,Wj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hj{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vm,this.transport=null,this.heartbeatIntervalMs=Ic.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qh,this.ref=0,this.reconnectTimer=null,this.logger=qh,this.conn=null,this.sendBuffer=[],this.serializer=new Lj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>$a(async()=>{const{default:a}=await Promise.resolve().then(()=>Ma);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${wm.websocket}`,this.httpEndpoint=RS(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ij}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rl.connecting:return $s.Connecting;case Rl.open:return $s.Open;case Rl.closing:return $s.Closing;default:return $s.Closed}}isConnected(){return this.connectionState()===$s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Ey(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Dj,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ic.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(_r.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Wj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Rj};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(_r.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new jS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ic.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,a,l,u,c;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:vm,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ic.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:qh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>Vj[f-1]||Kj,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,p)=>p(JSON.stringify(f)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Cy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qj extends Cy{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _m extends Cy{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Gj=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const IS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ma);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Qj=()=>Gj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $a(()=>Promise.resolve().then(()=>Ma),void 0)).Response:Response}),xm=e=>{if(Array.isArray(e))return e.map(n=>xm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=xm(r)}),t},Yj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var wo=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Gh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jj=(e,t,n)=>wo(void 0,void 0,void 0,function*(){const r=yield Qj();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new qj(Gh(i),s,o))}).catch(i=>{t(new _m(Gh(i),i))}):t(new _m(Gh(e),e))}),Zj=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(Yj(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ou(e,t,n,r,i,s){return wo(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Zj(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Jj(l,a,r))})})}function $d(e,t,n,r){return wo(this,void 0,void 0,function*(){return Ou(e,"GET",t,n,r)})}function Mr(e,t,n,r,i){return wo(this,void 0,void 0,function*(){return Ou(e,"POST",t,r,i,n)})}function Sm(e,t,n,r,i){return wo(this,void 0,void 0,function*(){return Ou(e,"PUT",t,r,i,n)})}function Xj(e,t,n,r){return wo(this,void 0,void 0,function*(){return Ou(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function DS(e,t,n,r,i){return wo(this,void 0,void 0,function*(){return Ou(e,"DELETE",t,r,i,n)})}var eO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class tO{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return eO(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}}var nO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class rO{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new tO(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return nO(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}}var xn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const iO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ew={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sO{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=IS(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return xn(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Ew),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(t=="PUT"?Sm:Mr)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return xn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Ew.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Sm(this.fetch,a.toString(),l,{headers:c});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return xn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Mr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Cy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}update(t,n,r){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return xn(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return xn(this,void 0,void 0,function*(){try{return{data:{path:(yield Mr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return xn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Mr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return xn(this,void 0,void 0,function*(){try{const i=yield Mr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(t),l=()=>$d(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new rO(l,this.shouldThrowOnError)}info(t){return xn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield $d(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:xm(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}exists(t){return xn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Xj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r)&&r instanceof _m){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return xn(this,void 0,void 0,function*(){try{return{data:yield DS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}list(t,n,r){return xn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},iO),n),{prefix:t||""});return{data:yield Mr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}listV2(t,n){return xn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Mr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const oO="2.74.0",aO={"X-Client-Info":`storage-js/${oO}`};var jo=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class lO{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aO),n),this.fetch=IS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return jo(this,void 0,void 0,function*(){try{return{data:yield $d(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}getBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield $d(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}createBucket(t){return jo(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Mr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return jo(this,void 0,void 0,function*(){try{return{data:yield Sm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return jo(this,void 0,void 0,function*(){try{return{data:yield DS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}}class uO extends lO{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new sO(this.url,this.headers,t,this.fetch)}}const cO="2.74.0";let yl="";typeof Deno<"u"?yl="deno":typeof document<"u"?yl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yl="react-native":yl="node";const dO={"X-Client-Info":`supabase-js-${yl}/${cO}`},fO={headers:dO},hO={schema:"public"},pO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mO={};var gO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const yO=e=>{let t;return e?t=e:typeof fetch>"u"?t=wS:t=fetch,(...n)=>t(...n)},vO=()=>typeof Headers>"u"?bS:Headers,wO=(e,t,n)=>{const r=yO(n),i=vO();return(s,o)=>gO(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var bO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function _O(e){return e.endsWith("/")?e:e+"/"}function xO(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:f}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>bO(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function SO(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_O(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const NS="2.74.0",$o=30*1e3,km=3,Qh=km*$o,kO="http://localhost:9999",EO="supabase.auth.token",CO={"X-Client-Info":`gotrue-js/${NS}`},Em="X-Supabase-Api-Version",LS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,PO=10*60*1e3;class au extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AO extends au{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function jO(e){return ze(e)&&e.name==="AuthApiError"}class Ms extends au{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ws extends au{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Di extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OO(e){return ze(e)&&e.name==="AuthSessionMissingError"}class Oo extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dc extends ws{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nc extends ws{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RO(e){return ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class Cw extends ws{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cm extends ws{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Yh(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class Tw extends ws{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Tm extends ws{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Md="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pw=` 	
\r=`.split(""),IO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Pw.length;t+=1)e[Pw[t].charCodeAt(0)]=-2;for(let t=0;t<Md.length;t+=1)e[Md[t].charCodeAt(0)]=t;return e})();function Aw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Md[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Md[r]),t.queuedBits-=6}}function $S(e,t,n){const r=IO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jw(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{LO(o,r,n)};for(let o=0;o<e.length;o+=1)$S(e.charCodeAt(o),i,s);return t.join("")}function DO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function NO(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}DO(r,t)}}function LO(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function la(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)$S(e.charCodeAt(i),n,r);return new Uint8Array(t)}function $O(e){const t=[];return NO(e,n=>t.push(n)),new Uint8Array(t)}function Vs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Aw(i,n,r)),Aw(null,n,r),t.join("")}function MO(e){return Math.round(Date.now()/1e3)+e}function FO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Mn=()=>typeof window<"u"&&typeof document<"u",As={tested:!1,writable:!1},MS=()=>{if(!Mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(As.tested)return As.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),As.tested=!0,As.writable=!0}catch{As.tested=!0,As.writable=!1}return As.writable};function BO(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const FS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ma);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},UO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},js=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oi=async(e,t)=>{await e.removeItem(t)};class kf{constructor(){this.promise=new kf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}kf.promiseConstructor=Promise;function Jh(e){const t=e.split(".");if(t.length!==3)throw new Tm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!TO.test(t[r]))throw new Tm("JWT not in base64url format");return{header:JSON.parse(jw(t[0])),payload:JSON.parse(jw(t[1])),signature:la(t[2]),raw:{header:t[0],payload:t[1]}}}async function zO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VO(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function KO(e){return("0"+e.toString(16)).substr(-2)}function WO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,KO).join("")}async function HO(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function qO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await HO(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ro(e,t,n=!1){const r=WO();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Mo(e,`${t}-code-verifier`,i);const s=await qO(r);return[s,r===s?"plain":"s256"]}const GO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QO(e){const t=e.headers.get(Em);if(!t||!t.match(GO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Io(e){if(!ZO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ow(e){return JSON.parse(JSON.stringify(e))}var XO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ds=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eR=[502,503,504];async function Rw(e){var t;if(!UO(e))throw new Cm(Ds(e),0);if(eR.includes(e.status))throw new Cm(Ds(e),e.status);let n;try{n=await e.json()}catch(s){throw new Ms(Ds(s),s)}let r;const i=QO(e);if(i&&i.getTime()>=LS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Tw(Ds(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Di}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Tw(Ds(n),e.status,n.weak_password.reasons);throw new AO(Ds(n),e.status||500,r)}const tR=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ge(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Em]||(s[Em]=LS["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await nR(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function nR(e,t,n,r,i,s){const o=tR(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Cm(Ds(l),0)}if(a.ok||await Rw(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Rw(l)}}function mr(e){var t;let n=null;sR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=MO(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Iw(e){const t=mr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ui(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rR(e){return{data:e,error:null}}function iR(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=XO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Dw(e){return e}function sR(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xh=["global","local","others"];var oR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class aR{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=FS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Xh[0]){if(Xh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xh.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ui})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=oR(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:iR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ui})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Dw});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(_=>{const y=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(_.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ze(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Io(t);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ui})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Io(t);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ui})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Io(t);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ui})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Io(t.userId);try{const{data:n,error:r}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Io(t.userId),Io(t.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Dw});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(_=>{const y=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(_.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ze(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}}function Nw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Do={debug:!!(globalThis&&MS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class BS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lR extends BS{}async function uR(e,t,n){Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Do.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Do.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function cR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function US(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function dR(e){return parseInt(e,16)}function fR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function hR(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:f,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=US(e.address),_=c?`${c}://${r}`:r,y=e.statement?`${e.statement}
`:"",x=`${_} wants you to sign in with your Ethereum account:
${m}

${y}`;let g=`URI: ${f}
Version: ${p}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}g+=v}return`${x}
${g}`}class Nt extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Fd extends Nt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function pR({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Nt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(VS(o)){if(s.rp.id!==o)return new Nt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function mR({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Nt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(VS(r)){if(n.rpId!==r)return new Nt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var zS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class gR{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const yR=new gR;function vR(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=zS(e,["challenge","user","excludeCredentials"]),s=la(t).buffer,o=Object.assign(Object.assign({},n),{id:la(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:la(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function wR(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=zS(e,["challenge","allowCredentials"]),i=la(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:la(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function bR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _R(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vs(new Uint8Array(i.authenticatorData)),clientDataJSON:Vs(new Uint8Array(i.clientDataJSON)),signature:Vs(new Uint8Array(i.signature)),userHandle:i.userHandle?Vs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function VS(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Lw(){var e,t;return!!(Mn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function xR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fd("Browser returned unexpected credential type",t)}:{data:null,error:new Fd("Empty credential response",t)}}catch(t){return{data:null,error:pR({error:t,options:e})}}}async function SR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fd("Browser returned unexpected credential type",t)}:{data:null,error:new Fd("Empty credential response",t)}}catch(t){return{data:null,error:mR({error:t,options:e})}}}const kR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ER={userVerification:"preferred",hints:["security-key"]};function Bd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(t(o)){const a=r[s];t(a)?r[s]=Bd(a,o):r[s]=Bd(o)}else r[s]=o}return r}function CR(e,t){return Bd(kR,e,t||{})}function TR(e,t){return Bd(ER,e,t||{})}class PR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=i??yR.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=CR(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:f}=await xR({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const u=TR(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:f}=await SR(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ms("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new au("rpId is required for WebAuthn authentication")};try{if(!Lw())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ms("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new au("rpId is required for WebAuthn registration")};try{if(!Lw())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ms("Unexpected error in register",o)}}}}cR();const AR={url:kO,storageKey:EO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:CO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $w(e,t,n){return await n()}const No={};class lu{get jwks(){var t,n;return(n=(t=No[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=No[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=lu.nextInstanceID,lu.nextInstanceID+=1,this.instanceID>0&&Mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},AR),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new aR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=FS(i.fetch),this.lock=i.lock||$w,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Mn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=uR:this.lock=$w,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new PR(this)},this.persistSession?(i.storage?this.storage=i.storage:MS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Nw(this.memoryStorage)),Mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${NS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=BO(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Mn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),RO(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ze(n)?{error:n}:{error:new Ms("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:mr}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ze(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:f,options:p}=t;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await Ro(this.storage,this.storageKey)),s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:_},xform:mr})}else if("phone"in t){const{phone:c,password:f,options:p}=t;s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:mr})}else throw new Dc("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ze(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Iw})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Iw})}else throw new Dc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Oo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,o,a,l,u,c,f,p;let m,_;if("message"in t)m=t.message,_=t.signature;else{const{chain:y,wallet:x,statement:g,options:v}=t;let w;if(Mn())if(typeof x=="object")w=x;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")w=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const C=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),O=await w.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=US(O[0]);let I=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const z=await w.request({method:"eth_chainId"});I=dR(z)}const M={domain:C.host,address:R,statement:g,uri:C.href,version:"1",chainId:I,nonce:(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=hR(M),_=await w.request({method:"personal_sign",params:[fR(m),R]})}try{const{data:y,error:x}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:_},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:mr});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Oo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(ze(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var n,r,i,s,o,a,l,u,c,f,p,m;let _,y;if("message"in t)_=t.message,y=t.signature;else{const{chain:x,wallet:g,statement:v,options:w}=t;let C;if(Mn())if(typeof g=="object")C=g;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))C=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=g}const O=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const R=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),v?{statement:v}:null));let I;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")I=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)I=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)_=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),y=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${O.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const R=await C.signMessage(new TextEncoder().encode(_),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=R}}try{const{data:x,error:g}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Vs(y)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:mr});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Oo}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(ze(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await js(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:mr});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Oo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(ze(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mr}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Oo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ro(this.storage,this.storageKey));const{error:f}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Dc("You must provide either an email or phone number.")}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:mr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ro(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:rR})}catch(s){if(ze(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Di;const{error:i}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Dc("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Qh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await js(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Zh()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ui}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Di}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ui})})}catch(n){if(ze(n))return OO(n)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Di;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ro(this.storage,this.storageKey));const{data:u,error:c}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ui});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Di;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Jh(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Di;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Mn())throw new Nc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Cw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Cw("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new Nc("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let p=c+f;l&&(p=parseInt(l));const m=p-c;m*1e3<=$o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const _=p-f;c-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,c):c-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,p,c);const{data:y,error:x}=await this._getUser(s);if(x)throw x;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await js(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(jO(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=FO(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ro(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ze(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:f,error:p}=s;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Mn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ze(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,f=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:mr}),{data:p,error:m}=f;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Oo}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:m})}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await VO(async i=>(i>0&&await zO(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Yh(s)&&Date.now()+o-r<$o})}catch(r){if(this._debug(n,"error",r),ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Mn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await js(this.storage,this.storageKey);if(i&&this.userStorage){let o=await js(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Mo(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Zh()}else if(i&&!i.user&&!i.user){const o=await js(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Oi(this.storage,this.storageKey+"-user"),await Mo(this.storage,this.storageKey,i)):i.user=Zh()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Qh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Qh}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Yh(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Di;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new kf;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Di;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ze(s)){const o={data:null,error:s};return Yh(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Mo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Ow(i);await Mo(this.storage,this.storageKey,s)}else{const i=Ow(n);await Mo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Oi(this.storage,this.storageKey),await Oi(this.storage,this.storageKey+"-code-verifier"),await Oi(this.storage,this.storageKey+"-user"),this.userStorage&&await Oi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$o);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/$o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$o}ms, refresh threshold is ${km} ticks`),i<=km&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof BS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ro(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?bR(t.webauthn.credential_response):_R(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:vR(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:wR(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Jh(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+PO>i)return r;const{data:s,error:o}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:_}=await this.getSession();if(_||!m.session)return{data:null,error:_};r=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Jh(r);n!=null&&n.allowExpired||YO(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const c=JO(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,$O(`${a}.${l}`)))throw new Tm("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}lu.nextInstanceID=0;const jR=lu;class OR extends jR{constructor(t){super(t)}}var RR=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class IR{constructor(t,n,r){var i,s,o;this.supabaseUrl=t,this.supabaseKey=n;const a=SO(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:hO,realtime:mO,auth:Object.assign(Object.assign({},pO),{storageKey:l}),global:fO},c=xO(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=wO(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Aj(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new uO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new aj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return RR(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:u},c,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OR({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:a,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Hj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DR=(e,t,n)=>new IR(e,t,n);function NR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}NR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const LR="https://"+vS+".supabase.co",$R="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhZHRwb3F5cGdxZXRpanZvcGhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE3ODAwNjAsImV4cCI6MjA1NzM1NjA2MH0.dAIWitCyN4TVv3n4PTvhqJlUXsAGVSjOPm-L2jw818k",MR=LR,FR=$R,cn=DR(MR,FR),Ty=E.createContext({session:null,setSession:()=>{},isLoading:!0}),BR=({children:e})=>{const[t,n]=E.useState(null),[r,i]=E.useState(!0);E.useEffect(()=>{cn.auth.getSession().then(({data:{session:o}})=>{n(o),i(!1)}),cn.auth.onAuthStateChange((o,a)=>{n(a)})},[]);const s={session:t,setSession:n,isLoading:r};return k.jsx(Ty.Provider,{value:s,children:e})},bs=()=>E.useContext(Ty),UR=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(!1),[o,a]=E.useState(null),l=jr(),{setSession:u}=bs(),c=async f=>{f.preventDefault(),s(!0),a(null);try{const{data:{session:p},error:m}=await cn.auth.signInWithPassword({email:e,password:n});if(m)a(m.message);else if(p){u(p);const _=sessionStorage.getItem("redirect_path");sessionStorage.removeItem("redirect_path"),l(_||"/categories",{replace:!0})}}catch(p){a(p.message||"An unexpected error occurred during login.")}finally{s(!1)}};return k.jsx("div",{className:"min-h-screen bg-gray-100 py-6 flex flex-col justify-center sm:py-12",children:k.jsxs("div",{className:"relative py-3 sm:max-w-xl sm:mx-auto",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-300 to-blue-600 shadow-lg transform -skew-y-6 sm:skew-x-6 sm:rounded-3xl"}),k.jsx("div",{className:"relative bg-white px-4 py-10 shadow-lg sm:rounded-3xl sm:px-20",children:k.jsxs("div",{className:"max-w-md mx-auto",children:[k.jsxs("div",{className:"text-center",children:[k.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Login"}),k.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"-------------"})]}),k.jsx("div",{children:o&&k.jsx("p",{className:"text-red-500",children:o})}),k.jsxs("div",{className:"divide-y divide-gray-200",children:[k.jsx("form",{onSubmit:c,children:k.jsxs("div",{className:"py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[k.jsxs("div",{className:"relative",children:[k.jsx("input",{autoComplete:"off",id:"email",name:"email",type:"email",value:e,onChange:f=>t(f.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Email address"}),k.jsx("label",{htmlFor:"email",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Email address"})]}),k.jsxs("div",{className:"relative",children:[k.jsx("input",{autoComplete:"off",id:"password",name:"password",type:"password",value:n,onChange:f=>r(f.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Password"}),k.jsx("label",{htmlFor:"password",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Password"})]}),k.jsx("div",{className:"relative",children:k.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-500 px-4 py-2 font-bold text-white shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2",disabled:i,children:i?"Logging in...":"Login"})})]})}),k.jsxs("p",{children:["Don't have an account? ",k.jsx("button",{type:"button",onClick:()=>l("/signup"),children:"Sign Up"})]}),k.jsxs("p",{children:["Forgot your password? ",k.jsx("button",{type:"button",onClick:()=>l("/change-password"),children:"Change Password"})]})]})]})})]})})},zR=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(!1),[o,a]=E.useState(null),l=async u=>{u.preventDefault(),s(!0),a(null);try{const{error:c}=await cn.auth.signUp({email:e,password:n});c?a(c.message):alert("Signup successful! Please check your email to confirm your account.")}catch(c){a(c.message||"An unexpected error occurred")}finally{s(!1)}};return k.jsxs("div",{children:[k.jsx("h2",{children:"Sign Up"}),o&&k.jsx("p",{style:{color:"red"},children:o}),k.jsxs("form",{onSubmit:l,children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",children:"Email:"}),k.jsx("input",{type:"email",id:"email",value:e,onChange:u=>t(u.target.value),required:!0})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"password",children:"Password:"}),k.jsx("input",{type:"password",id:"password",value:n,onChange:u=>r(u.target.value),required:!0})]}),k.jsx("button",{type:"submit",disabled:i,children:i?"Signing up...":"Sign Up"})]})]})},VR=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(!1),[i,s]=E.useState(null),[o,a]=E.useState(null),l=async u=>{u.preventDefault(),r(!0),s(null),a(null);try{const{error:c}=await cn.auth.updateUser({password:e});c?s(c.message):(a("Password updated successfully!"),t(""))}catch(c){s(c.message||"An unexpected error occurred")}finally{r(!1)}};return k.jsxs("div",{children:[k.jsx("h2",{children:"Change Password"}),i&&k.jsx("p",{style:{color:"red"},children:i}),o&&k.jsx("p",{style:{color:"green"},children:o}),k.jsxs("form",{onSubmit:l,children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"newPassword",children:"New Password:"}),k.jsx("input",{type:"password",id:"newPassword",value:e,onChange:u=>t(u.target.value),required:!0})]}),k.jsx("button",{type:"submit",disabled:n,children:n?"Updating password...":"Update Password"})]})]})},KR="auth_redirect_sankeertan",WR=()=>{const e=jr(),[t]=JA(),[n,r]=E.useState(!0),[i,s]=E.useState(null),{setSession:o}=E.useContext(Ty);return E.useEffect(()=>{const a=t.get("token"),l=t.get("type"),u=t.get("email"),c=async(f,p,m)=>{r(!0),s(null);try{let _;if(p==="invite"||p==="signup"||p==="email_change"||p==="magiclink"){const y=m;if(!y){s("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}_=await cn.auth.verifyOtp({token:f,type:p,email:y})}else if(p==="recover"){e(`/reset-password?token=${f}`,{replace:!0});return}else if(p==="sms"){const y=m;if(!y){s("Phone number is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}_=await cn.auth.verifyOtp({token:f,type:"sms",phone:y})}else{s(`Unsupported authentication type: ${p}`),r(!1),e("/login",{replace:!0});return}if(_!=null&&_.error)s(_.error.message);else{const{data:{session:y}}=await cn.auth.getSession();y&&o(y),localStorage.setItem(KR,"true"),e("/",{replace:!0})}}catch(_){s(_.message||"An unexpected error occurred during authentication.")}finally{r(!1)}};a&&l?l==="recover"?c(a,l,""):l==="invite"||l==="signup"||l==="email_change"||l==="magiclink"?u?c(a,l,u):(s("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0})):c(a,l,""):(s("Invalid authentication link."),r(!1),e("/login",{replace:!0}))},[e,t,o]),n?k.jsx("div",{children:"Verifying your account..."}):i?k.jsxs("div",{children:["Error verifying account: ",i]}):null};var Ru=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},HR={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ki,bg,N_,qR=(N_=class{constructor(){Ve(this,Ki,HR);Ve(this,bg,!1)}setTimeoutProvider(e){Le(this,Ki,e)}setTimeout(e,t){return G(this,Ki).setTimeout(e,t)}clearTimeout(e){G(this,Ki).clearTimeout(e)}setInterval(e,t){return G(this,Ki).setInterval(e,t)}clearInterval(e){G(this,Ki).clearInterval(e)}},Ki=new WeakMap,bg=new WeakMap,N_),Ks=new qR;function GR(e){setTimeout(e,0)}var ho=typeof window>"u"||"Deno"in globalThis;function Cn(){}function QR(e,t){return typeof e=="function"?e(t):e}function Pm(e){return typeof e=="number"&&e>=0&&e!==1/0}function KS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function cs(e,t){return typeof e=="function"?e(t):e}function er(e,t){return typeof e=="function"?e(t):e}function Mw(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Py(o,t.options))return!1}else if(!cu(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function Fw(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(uu(t.options.mutationKey)!==uu(s))return!1}else if(!cu(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Py(e,t){return((t==null?void 0:t.queryKeyHashFn)||uu)(e)}function uu(e){return JSON.stringify(e,(t,n)=>jm(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function cu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>cu(e[n],t[n])):!1}var YR=Object.prototype.hasOwnProperty;function WS(e,t){if(e===t)return e;const n=Bw(e)&&Bw(t);if(!n&&!(jm(e)&&jm(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),o=s.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=n?u:s[u],f=e[c],p=t[c];if(f===p){a[c]=f,(n?u<i:YR.call(e,c))&&l++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){a[c]=p;continue}const m=WS(f,p);a[c]=m,m===f&&l++}return i===o&&l===i?e:a}function Am(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Bw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function jm(e){if(!Uw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Uw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Uw(e){return Object.prototype.toString.call(e)==="[object Object]"}function JR(e){return new Promise(t=>{Ks.setTimeout(t,e)})}function Om(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?WS(e,t):t}function ZR(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function XR(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ay=Symbol();function HS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ay?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function eI(e,t){return typeof e=="function"?e(...t):!!e}var Gs,Wi,ca,L_,tI=(L_=class extends Ru{constructor(){super();Ve(this,Gs);Ve(this,Wi);Ve(this,ca);Le(this,ca,t=>{if(!ho&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){G(this,Wi)||this.setEventListener(G(this,ca))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Wi))==null||t.call(this),Le(this,Wi,void 0))}setEventListener(t){var n;Le(this,ca,t),(n=G(this,Wi))==null||n.call(this),Le(this,Wi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){G(this,Gs)!==t&&(Le(this,Gs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof G(this,Gs)=="boolean"?G(this,Gs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gs=new WeakMap,Wi=new WeakMap,ca=new WeakMap,L_),jy=new tI;function Rm(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var nI=GR;function rI(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=nI;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Zt=rI(),da,Hi,fa,$_,iI=($_=class extends Ru{constructor(){super();Ve(this,da,!0);Ve(this,Hi);Ve(this,fa);Le(this,fa,t=>{if(!ho&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){G(this,Hi)||this.setEventListener(G(this,fa))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Hi))==null||t.call(this),Le(this,Hi,void 0))}setEventListener(t){var n;Le(this,fa,t),(n=G(this,Hi))==null||n.call(this),Le(this,Hi,t(this.setOnline.bind(this)))}setOnline(t){G(this,da)!==t&&(Le(this,da,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return G(this,da)}},da=new WeakMap,Hi=new WeakMap,fa=new WeakMap,$_),Ud=new iI;function sI(e){return Math.min(1e3*2**e,3e4)}function qS(e){return(e??"online")==="online"?Ud.isOnline():!0}var Im=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function GS(e){let t=!1,n=0,r;const i=Rm(),s=()=>i.status!=="pending",o=y=>{var x;if(!s()){const g=new Im(y);p(g),(x=e.onCancel)==null||x.call(e,g)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>jy.isFocused()&&(e.networkMode==="always"||Ud.isOnline())&&e.canRun(),c=()=>qS(e.networkMode)&&e.canRun(),f=y=>{s()||(r==null||r(),i.resolve(y))},p=y=>{s()||(r==null||r(),i.reject(y))},m=()=>new Promise(y=>{var x;r=g=>{(s()||u())&&y(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var y;r=void 0,s()||(y=e.onContinue)==null||y.call(e)}),_=()=>{if(s())return;let y;const x=n===0?e.initialPromise:void 0;try{y=x??e.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(f).catch(g=>{var R;if(s())return;const v=e.retry??(ho?0:3),w=e.retryDelay??sI,C=typeof w=="function"?w(n,g):w,O=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(t||!O){p(g);return}n++,(R=e.onFail)==null||R.call(e,n,g),JR(C).then(()=>u()?void 0:m()).then(()=>{t?p(g):_()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?_():m().then(_),i)}}var Qs,M_,QS=(M_=class{constructor(){Ve(this,Qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pm(this.gcTime)&&Le(this,Qs,Ks.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ho?1/0:5*60*1e3))}clearGcTimeout(){G(this,Qs)&&(Ks.clearTimeout(G(this,Qs)),Le(this,Qs,void 0))}},Qs=new WeakMap,M_),Ys,ha,Xn,Js,Ht,yu,Zs,vr,ei,F_,oI=(F_=class extends QS{constructor(t){super();Ve(this,vr);Ve(this,Ys);Ve(this,ha);Ve(this,Xn);Ve(this,Js);Ve(this,Ht);Ve(this,yu);Ve(this,Zs);Le(this,Zs,!1),Le(this,yu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Le(this,Js,t.client),Le(this,Xn,G(this,Js).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Le(this,Ys,zw(this.options)),this.state=t.state??G(this,Ys),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=G(this,Ht))==null?void 0:t.promise}setOptions(t){if(this.options={...G(this,yu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=zw(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Le(this,Ys,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,Xn).remove(this)}setData(t,n){const r=Om(this.state.data,t,this.options);return it(this,vr,ei).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){it(this,vr,ei).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=G(this,Ht))==null?void 0:r.promise;return(i=G(this,Ht))==null||i.cancel(t),n?n.then(Cn).catch(Cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,Ys))}isActive(){return this.observers.some(t=>er(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ay||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>cs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!KS(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,Ht))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,Ht))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),G(this,Xn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(G(this,Ht)&&(G(this,Zs)?G(this,Ht).cancel({revert:!0}):G(this,Ht).cancelRetry()),this.scheduleGc()),G(this,Xn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,vr,ei).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,c,f,p,m,_,y,x,g,v,w;if(this.state.fetchStatus!=="idle"&&((l=G(this,Ht))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(G(this,Ht))return G(this,Ht).continueRetry(),G(this,Ht).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(O=>O.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Le(this,Zs,!0),r.signal)})},s=()=>{const C=HS(this.options,n),R=(()=>{const I={client:G(this,Js),queryKey:this.queryKey,meta:this.meta};return i(I),I})();return Le(this,Zs,!1),this.options.persister?this.options.persister(C,R,this):C(R)},a=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:G(this,Js),state:this.state,fetchFn:s};return i(C),C})();(u=this.options.behavior)==null||u.onFetch(a,this),Le(this,ha,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&it(this,vr,ei).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),Le(this,Ht,GS({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:C=>{C instanceof Im&&C.revert&&this.setState({...G(this,ha),fetchStatus:"idle"}),r.abort()},onFail:(C,O)=>{it(this,vr,ei).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{it(this,vr,ei).call(this,{type:"pause"})},onContinue:()=>{it(this,vr,ei).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const C=await G(this,Ht).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(m=(p=G(this,Xn).config).onSuccess)==null||m.call(p,C,this),(y=(_=G(this,Xn).config).onSettled)==null||y.call(_,C,this.state.error,this),C}catch(C){if(C instanceof Im){if(C.silent)return G(this,Ht).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw it(this,vr,ei).call(this,{type:"error",error:C}),(g=(x=G(this,Xn).config).onError)==null||g.call(x,C,this),(w=(v=G(this,Xn).config).onSettled)==null||w.call(v,this.state.data,C,this),C}finally{this.scheduleGc()}}},Ys=new WeakMap,ha=new WeakMap,Xn=new WeakMap,Js=new WeakMap,Ht=new WeakMap,yu=new WeakMap,Zs=new WeakMap,vr=new WeakSet,ei=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...YS(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Le(this,ha,t.manual?i:void 0),i;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Zt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),G(this,Xn).notify({query:this,type:"updated",action:t})})},F_);function YS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kn,st,vu,pn,Xs,pa,ii,qi,wu,ma,ga,eo,to,Gi,ya,ut,vl,Dm,Nm,Lm,$m,Mm,Fm,Bm,JS,B_,aI=(B_=class extends Ru{constructor(t,n){super();Ve(this,ut);Ve(this,kn);Ve(this,st);Ve(this,vu);Ve(this,pn);Ve(this,Xs);Ve(this,pa);Ve(this,ii);Ve(this,qi);Ve(this,wu);Ve(this,ma);Ve(this,ga);Ve(this,eo);Ve(this,to);Ve(this,Gi);Ve(this,ya,new Set);this.options=n,Le(this,kn,t),Le(this,qi,null),Le(this,ii,Rm()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(G(this,st).addObserver(this),Vw(G(this,st),this.options)?it(this,ut,vl).call(this):this.updateResult(),it(this,ut,$m).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Um(G(this,st),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Um(G(this,st),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,it(this,ut,Mm).call(this),it(this,ut,Fm).call(this),G(this,st).removeObserver(this)}setOptions(t){const n=this.options,r=G(this,st);if(this.options=G(this,kn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof er(this.options.enabled,G(this,st))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");it(this,ut,Bm).call(this),G(this,st).setOptions(this.options),n._defaulted&&!Am(this.options,n)&&G(this,kn).getQueryCache().notify({type:"observerOptionsUpdated",query:G(this,st),observer:this});const i=this.hasListeners();i&&Kw(G(this,st),r,this.options,n)&&it(this,ut,vl).call(this),this.updateResult(),i&&(G(this,st)!==r||er(this.options.enabled,G(this,st))!==er(n.enabled,G(this,st))||cs(this.options.staleTime,G(this,st))!==cs(n.staleTime,G(this,st)))&&it(this,ut,Dm).call(this);const s=it(this,ut,Nm).call(this);i&&(G(this,st)!==r||er(this.options.enabled,G(this,st))!==er(n.enabled,G(this,st))||s!==G(this,Gi))&&it(this,ut,Lm).call(this,s)}getOptimisticResult(t){const n=G(this,kn).getQueryCache().build(G(this,kn),t),r=this.createResult(n,t);return uI(this,r)&&(Le(this,pn,r),Le(this,pa,this.options),Le(this,Xs,G(this,st).state)),r}getCurrentResult(){return G(this,pn)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&G(this,ii).status==="pending"&&G(this,ii).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,i))})}trackProp(t){G(this,ya).add(t)}getCurrentQuery(){return G(this,st)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=G(this,kn).defaultQueryOptions(t),r=G(this,kn).getQueryCache().build(G(this,kn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return it(this,ut,vl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),G(this,pn)))}createResult(t,n){var z;const r=G(this,st),i=this.options,s=G(this,pn),o=G(this,Xs),a=G(this,pa),u=t!==r?t.state:G(this,vu),{state:c}=t;let f={...c},p=!1,m;if(n._optimisticResults){const W=this.hasListeners(),ve=!W&&Vw(t,n),F=W&&Kw(t,r,n,i);(ve||F)&&(f={...f,...YS(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:_,errorUpdatedAt:y,status:x}=f;m=f.data;let g=!1;if(n.placeholderData!==void 0&&m===void 0&&x==="pending"){let W;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(W=s.data,g=!0):W=typeof n.placeholderData=="function"?n.placeholderData((z=G(this,ga))==null?void 0:z.state.data,G(this,ga)):n.placeholderData,W!==void 0&&(x="success",m=Om(s==null?void 0:s.data,W,n),p=!0)}if(n.select&&m!==void 0&&!g)if(s&&m===(o==null?void 0:o.data)&&n.select===G(this,wu))m=G(this,ma);else try{Le(this,wu,n.select),m=n.select(m),m=Om(s==null?void 0:s.data,m,n),Le(this,ma,m),Le(this,qi,null)}catch(W){Le(this,qi,W)}G(this,qi)&&(_=G(this,qi),m=G(this,ma),y=Date.now(),x="error");const v=f.fetchStatus==="fetching",w=x==="pending",C=x==="error",O=w&&v,R=m!==void 0,M={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:C,isInitialLoading:O,isLoading:O,data:m,dataUpdatedAt:f.dataUpdatedAt,error:_,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:C&&!R,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&R,isStale:Oy(t,n),refetch:this.refetch,promise:G(this,ii),isEnabled:er(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const W=ee=>{M.status==="error"?ee.reject(M.error):M.data!==void 0&&ee.resolve(M.data)},ve=()=>{const ee=Le(this,ii,M.promise=Rm());W(ee)},F=G(this,ii);switch(F.status){case"pending":t.queryHash===r.queryHash&&W(F);break;case"fulfilled":(M.status==="error"||M.data!==F.value)&&ve();break;case"rejected":(M.status!=="error"||M.error!==F.reason)&&ve();break}}return M}updateResult(){const t=G(this,pn),n=this.createResult(G(this,st),this.options);if(Le(this,Xs,G(this,st).state),Le(this,pa,this.options),G(this,Xs).data!==void 0&&Le(this,ga,G(this,st)),Am(n,t))return;Le(this,pn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!G(this,ya).size)return!0;const o=new Set(s??G(this,ya));return this.options.throwOnError&&o.add("error"),Object.keys(G(this,pn)).some(a=>{const l=a;return G(this,pn)[l]!==t[l]&&o.has(l)})};it(this,ut,JS).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&it(this,ut,$m).call(this)}},kn=new WeakMap,st=new WeakMap,vu=new WeakMap,pn=new WeakMap,Xs=new WeakMap,pa=new WeakMap,ii=new WeakMap,qi=new WeakMap,wu=new WeakMap,ma=new WeakMap,ga=new WeakMap,eo=new WeakMap,to=new WeakMap,Gi=new WeakMap,ya=new WeakMap,ut=new WeakSet,vl=function(t){it(this,ut,Bm).call(this);let n=G(this,st).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Cn)),n},Dm=function(){it(this,ut,Mm).call(this);const t=cs(this.options.staleTime,G(this,st));if(ho||G(this,pn).isStale||!Pm(t))return;const r=KS(G(this,pn).dataUpdatedAt,t)+1;Le(this,eo,Ks.setTimeout(()=>{G(this,pn).isStale||this.updateResult()},r))},Nm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(G(this,st)):this.options.refetchInterval)??!1},Lm=function(t){it(this,ut,Fm).call(this),Le(this,Gi,t),!(ho||er(this.options.enabled,G(this,st))===!1||!Pm(G(this,Gi))||G(this,Gi)===0)&&Le(this,to,Ks.setInterval(()=>{(this.options.refetchIntervalInBackground||jy.isFocused())&&it(this,ut,vl).call(this)},G(this,Gi)))},$m=function(){it(this,ut,Dm).call(this),it(this,ut,Lm).call(this,it(this,ut,Nm).call(this))},Mm=function(){G(this,eo)&&(Ks.clearTimeout(G(this,eo)),Le(this,eo,void 0))},Fm=function(){G(this,to)&&(Ks.clearInterval(G(this,to)),Le(this,to,void 0))},Bm=function(){const t=G(this,kn).getQueryCache().build(G(this,kn),this.options);if(t===G(this,st))return;const n=G(this,st);Le(this,st,t),Le(this,vu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},JS=function(t){Zt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(G(this,pn))}),G(this,kn).getQueryCache().notify({query:G(this,st),type:"observerResultsUpdated"})})},B_);function lI(e,t){return er(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Vw(e,t){return lI(e,t)||e.state.data!==void 0&&Um(e,t,t.refetchOnMount)}function Um(e,t,n){if(er(t.enabled,e)!==!1&&cs(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Oy(e,t)}return!1}function Kw(e,t,n,r){return(e!==t||er(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Oy(e,n)}function Oy(e,t){return er(t.enabled,e)!==!1&&e.isStaleByTime(cs(t.staleTime,e))}function uI(e,t){return!Am(e.getCurrentResult(),t)}function Ww(e){return{onFetch:(t,n)=>{var c,f,p,m,_;const r=t.options,i=(p=(f=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((_=t.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=HS(t.options,t.fetchOptions),v=async(w,C,O)=>{if(y)return Promise.reject();if(C==null&&w.pages.length)return Promise.resolve(w);const I=(()=>{const ve={client:t.client,queryKey:t.queryKey,pageParam:C,direction:O?"backward":"forward",meta:t.options.meta};return x(ve),ve})(),M=await g(I),{maxPages:z}=t.options,W=O?XR:ZR;return{pages:W(w.pages,M,z),pageParams:W(w.pageParams,C,z)}};if(i&&s.length){const w=i==="backward",C=w?cI:Hw,O={pages:s,pageParams:o},R=C(r,O);a=await v(O,R,w)}else{const w=e??s.length;do{const C=l===0?o[0]??r.initialPageParam:Hw(r,a);if(l>0&&C==null)break;a=await v(a,C),l++}while(l<w)}return a};t.options.persister?t.fetchFn=()=>{var y,x;return(x=(y=t.options).persister)==null?void 0:x.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Hw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function cI(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var bu,Fr,mn,no,Br,Ni,U_,dI=(U_=class extends QS{constructor(t){super();Ve(this,Br);Ve(this,bu);Ve(this,Fr);Ve(this,mn);Ve(this,no);Le(this,bu,t.client),this.mutationId=t.mutationId,Le(this,mn,t.mutationCache),Le(this,Fr,[]),this.state=t.state||fI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){G(this,Fr).includes(t)||(G(this,Fr).push(t),this.clearGcTimeout(),G(this,mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Le(this,Fr,G(this,Fr).filter(n=>n!==t)),this.scheduleGc(),G(this,mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){G(this,Fr).length||(this.state.status==="pending"?this.scheduleGc():G(this,mn).remove(this))}continue(){var t;return((t=G(this,no))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,c,f,p,m,_,y,x,g,v,w,C,O,R,I,M,z;const n=()=>{it(this,Br,Ni).call(this,{type:"continue"})},r={client:G(this,bu),meta:this.options.meta,mutationKey:this.options.mutationKey};Le(this,no,GS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(W,ve)=>{it(this,Br,Ni).call(this,{type:"failed",failureCount:W,error:ve})},onPause:()=>{it(this,Br,Ni).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,mn).canRun(this)}));const i=this.state.status==="pending",s=!G(this,no).canStart();try{if(i)n();else{it(this,Br,Ni).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=G(this,mn).config).onMutate)==null?void 0:a.call(o,t,this,r));const ve=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));ve!==this.state.context&&it(this,Br,Ni).call(this,{type:"pending",context:ve,variables:t,isPaused:s})}const W=await G(this,no).start();return await((f=(c=G(this,mn).config).onSuccess)==null?void 0:f.call(c,W,t,this.state.context,this,r)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,W,t,this.state.context,r)),await((y=(_=G(this,mn).config).onSettled)==null?void 0:y.call(_,W,null,this.state.variables,this.state.context,this,r)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,W,null,t,this.state.context,r)),it(this,Br,Ni).call(this,{type:"success",data:W}),W}catch(W){try{throw await((w=(v=G(this,mn).config).onError)==null?void 0:w.call(v,W,t,this.state.context,this,r)),await((O=(C=this.options).onError)==null?void 0:O.call(C,W,t,this.state.context,r)),await((I=(R=G(this,mn).config).onSettled)==null?void 0:I.call(R,void 0,W,this.state.variables,this.state.context,this,r)),await((z=(M=this.options).onSettled)==null?void 0:z.call(M,void 0,W,t,this.state.context,r)),W}finally{it(this,Br,Ni).call(this,{type:"error",error:W})}}finally{G(this,mn).runNext(this)}}},bu=new WeakMap,Fr=new WeakMap,mn=new WeakMap,no=new WeakMap,Br=new WeakSet,Ni=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Zt.batch(()=>{G(this,Fr).forEach(r=>{r.onMutationUpdate(t)}),G(this,mn).notify({mutation:this,type:"updated",action:t})})},U_);function fI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var si,wr,_u,z_,hI=(z_=class extends Ru{constructor(t={}){super();Ve(this,si);Ve(this,wr);Ve(this,_u);this.config=t,Le(this,si,new Set),Le(this,wr,new Map),Le(this,_u,0)}build(t,n,r){const i=new dI({client:t,mutationCache:this,mutationId:++pc(this,_u)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){G(this,si).add(t);const n=Lc(t);if(typeof n=="string"){const r=G(this,wr).get(n);r?r.push(t):G(this,wr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(G(this,si).delete(t)){const n=Lc(t);if(typeof n=="string"){const r=G(this,wr).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&G(this,wr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Lc(t);if(typeof n=="string"){const r=G(this,wr).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Lc(t);if(typeof n=="string"){const i=(r=G(this,wr).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{G(this,si).forEach(t=>{this.notify({type:"removed",mutation:t})}),G(this,si).clear(),G(this,wr).clear()})}getAll(){return Array.from(G(this,si))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Fw(n,r))}findAll(t={}){return this.getAll().filter(n=>Fw(t,n))}notify(t){Zt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Cn))))}},si=new WeakMap,wr=new WeakMap,_u=new WeakMap,z_);function Lc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ur,V_,pI=(V_=class extends Ru{constructor(t={}){super();Ve(this,Ur);this.config=t,Le(this,Ur,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??Py(i,n);let o=this.get(s);return o||(o=new oI({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){G(this,Ur).has(t.queryHash)||(G(this,Ur).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=G(this,Ur).get(t.queryHash);n&&(t.destroy(),n===t&&G(this,Ur).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return G(this,Ur).get(t)}getAll(){return[...G(this,Ur).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Mw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Mw(t,r)):n}notify(t){Zt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ur=new WeakMap,V_),Tt,Qi,Yi,va,wa,Ji,ba,_a,K_,mI=(K_=class{constructor(e={}){Ve(this,Tt);Ve(this,Qi);Ve(this,Yi);Ve(this,va);Ve(this,wa);Ve(this,Ji);Ve(this,ba);Ve(this,_a);Le(this,Tt,e.queryCache||new pI),Le(this,Qi,e.mutationCache||new hI),Le(this,Yi,e.defaultOptions||{}),Le(this,va,new Map),Le(this,wa,new Map),Le(this,Ji,0)}mount(){pc(this,Ji)._++,G(this,Ji)===1&&(Le(this,ba,jy.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Tt).onFocus())})),Le(this,_a,Ud.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Tt).onOnline())})))}unmount(){var e,t;pc(this,Ji)._--,G(this,Ji)===0&&((e=G(this,ba))==null||e.call(this),Le(this,ba,void 0),(t=G(this,_a))==null||t.call(this),Le(this,_a,void 0))}isFetching(e){return G(this,Tt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return G(this,Qi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,Tt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=G(this,Tt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(cs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return G(this,Tt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=G(this,Tt).get(r.queryHash),s=i==null?void 0:i.state.data,o=QR(t,s);if(o!==void 0)return G(this,Tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Zt.batch(()=>G(this,Tt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,Tt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=G(this,Tt);Zt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=G(this,Tt);return Zt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Zt.batch(()=>G(this,Tt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Cn).catch(Cn)}invalidateQueries(e,t={}){return Zt.batch(()=>(G(this,Tt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Zt.batch(()=>G(this,Tt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Cn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Cn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=G(this,Tt).build(this,t);return n.isStaleByTime(cs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Cn).catch(Cn)}fetchInfiniteQuery(e){return e.behavior=Ww(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Cn).catch(Cn)}ensureInfiniteQueryData(e){return e.behavior=Ww(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ud.isOnline()?G(this,Qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Tt)}getMutationCache(){return G(this,Qi)}getDefaultOptions(){return G(this,Yi)}setDefaultOptions(e){Le(this,Yi,e)}setQueryDefaults(e,t){G(this,va).set(uu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...G(this,va).values()],n={};return t.forEach(r=>{cu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){G(this,wa).set(uu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...G(this,wa).values()],n={};return t.forEach(r=>{cu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...G(this,Yi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Py(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ay&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...G(this,Yi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){G(this,Tt).clear(),G(this,Qi).clear()}},Tt=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,va=new WeakMap,wa=new WeakMap,Ji=new WeakMap,ba=new WeakMap,_a=new WeakMap,K_),ZS=E.createContext(void 0),Ef=e=>{const t=E.useContext(ZS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},gI=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),k.jsx(ZS.Provider,{value:e,children:t})),XS=E.createContext(!1),yI=()=>E.useContext(XS);XS.Provider;function vI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wI=E.createContext(vI()),bI=()=>E.useContext(wI),_I=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},xI=e=>{E.useEffect(()=>{e.clearReset()},[e])},SI=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||eI(n,[e.error,r])),kI=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},EI=(e,t)=>e.isLoading&&e.isFetching&&!t,CI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,qw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function TI(e,t,n){var f,p,m,_,y;const r=yI(),i=bI(),s=Ef(),o=s.defaultQueryOptions(e);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",kI(o),_I(o,i),xI(i);const a=!s.getQueryCache().get(o.queryHash),[l]=E.useState(()=>new t(s,o)),u=l.getOptimisticResult(o),c=!r&&e.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(x=>{const g=c?l.subscribe(Zt.batchCalls(x)):Cn;return l.updateResult(),g},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),E.useEffect(()=>{l.setOptions(o)},[o,l]),CI(o,u))throw qw(o,l,i);if(SI({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((_=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||_.call(m,o,u),o.experimental_prefetchInRender&&!ho&&EI(u,r)){const x=a?qw(o,l,i):(y=s.getQueryCache().get(o.queryHash))==null?void 0:y.promise;x==null||x.catch(Cn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Ry(e,t){return TI(e,aI)}var ek={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Gt,function(){var n=function(d,h){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&(b[T]=S[T])})(d,h)},r=function(){return(r=Object.assign||function(d){for(var h,b=1,S=arguments.length;b<S;b++)for(var T in h=arguments[b])Object.prototype.hasOwnProperty.call(h,T)&&(d[T]=h[T]);return d}).apply(this,arguments)};function i(d,h,b){for(var S,T=0,j=h.length;T<j;T++)!S&&T in h||((S=S||Array.prototype.slice.call(h,0,T))[T]=h[T]);return d.concat(S||Array.prototype.slice.call(h))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Gt,o=Object.keys,a=Array.isArray;function l(d,h){return typeof h!="object"||o(h).forEach(function(b){d[b]=h[b]}),d}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var u=Object.getPrototypeOf,c={}.hasOwnProperty;function f(d,h){return c.call(d,h)}function p(d,h){typeof h=="function"&&(h=h(u(d))),(typeof Reflect>"u"?o:Reflect.ownKeys)(h).forEach(function(b){_(d,b,h[b])})}var m=Object.defineProperty;function _(d,h,b,S){m(d,h,l(b&&f(b,"get")&&typeof b.get=="function"?{get:b.get,set:b.set,configurable:!0}:{value:b,configurable:!0,writable:!0},S))}function y(d){return{from:function(h){return d.prototype=Object.create(h.prototype),_(d.prototype,"constructor",d),{extend:p.bind(null,d.prototype)}}}}var x=Object.getOwnPropertyDescriptor,g=[].slice;function v(d,h,b){return g.call(d,h,b)}function w(d,h){return h(d)}function C(d){if(!d)throw new Error("Assertion Failed")}function O(d){s.setImmediate?setImmediate(d):setTimeout(d,0)}function R(d,h){if(typeof h=="string"&&f(d,h))return d[h];if(!h)return d;if(typeof h!="string"){for(var b=[],S=0,T=h.length;S<T;++S){var j=R(d,h[S]);b.push(j)}return b}var D=h.indexOf(".");if(D!==-1){var B=d[h.substr(0,D)];return B==null?void 0:R(B,h.substr(D+1))}}function I(d,h,b){if(d&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof h!="string"&&"length"in h){C(typeof b!="string"&&"length"in b);for(var S=0,T=h.length;S<T;++S)I(d,h[S],b[S])}else{var j,D,B=h.indexOf(".");B!==-1?(j=h.substr(0,B),(D=h.substr(B+1))===""?b===void 0?a(d)&&!isNaN(parseInt(j))?d.splice(j,1):delete d[j]:d[j]=b:I(B=!(B=d[j])||!f(d,j)?d[j]={}:B,D,b)):b===void 0?a(d)&&!isNaN(parseInt(h))?d.splice(h,1):delete d[h]:d[h]=b}}function M(d){var h,b={};for(h in d)f(d,h)&&(b[h]=d[h]);return b}var z=[].concat;function W(d){return z.apply([],d)}var Fe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(W([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(h){return h+d+"Array"})}))).filter(function(d){return s[d]}),ve=new Set(Fe.map(function(d){return s[d]})),F=null;function ee(d){return F=new WeakMap,d=function h(b){if(!b||typeof b!="object")return b;var S=F.get(b);if(S)return S;if(a(b)){S=[],F.set(b,S);for(var T=0,j=b.length;T<j;++T)S.push(h(b[T]))}else if(ve.has(b.constructor))S=b;else{var D,B=u(b);for(D in S=B===Object.prototype?{}:Object.create(B),F.set(b,S),b)f(b,D)&&(S[D]=h(b[D]))}return S}(d),F=null,d}var A={}.toString;function le(d){return A.call(d).slice(8,-1)}var Oe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",$=typeof Oe=="symbol"?function(d){var h;return d!=null&&(h=d[Oe])&&h.apply(d)}:function(){return null};function X(d,h){return h=d.indexOf(h),0<=h&&d.splice(h,1),0<=h}var Z={};function ue(d){var h,b,S,T;if(arguments.length===1){if(a(d))return d.slice();if(this===Z&&typeof d=="string")return[d];if(T=$(d)){for(b=[];!(S=T.next()).done;)b.push(S.value);return b}if(d==null)return[d];if(typeof(h=d.length)!="number")return[d];for(b=new Array(h);h--;)b[h]=d[h];return b}for(h=arguments.length,b=new Array(h);h--;)b[h]=arguments[h];return b}var U=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},xe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Qn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(xe),K={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function de(d,h){this.name=d,this.message=h}function we(d,h){return d+". Errors: "+Object.keys(h).map(function(b){return h[b].toString()}).filter(function(b,S,T){return T.indexOf(b)===S}).join(`
`)}function ye(d,h,b,S){this.failures=h,this.failedKeys=S,this.successCount=b,this.message=we(d,h)}function Be(d,h){this.name="BulkError",this.failures=Object.keys(h).map(function(b){return h[b]}),this.failuresByPos=h,this.message=we(d,this.failures)}y(de).from(Error).extend({toString:function(){return this.name+": "+this.message}}),y(ye).from(de),y(Be).from(de);var qe=Qn.reduce(function(d,h){return d[h]=h+"Error",d},{}),De=de,be=Qn.reduce(function(d,h){var b=h+"Error";function S(T,j){this.name=b,T?typeof T=="string"?(this.message="".concat(T).concat(j?`
 `+j:""),this.inner=j||null):typeof T=="object"&&(this.message="".concat(T.name," ").concat(T.message),this.inner=T):(this.message=K[h]||b,this.inner=null)}return y(S).from(De),d[h]=S,d},{});be.Syntax=SyntaxError,be.Type=TypeError,be.Range=RangeError;var ft=xe.reduce(function(d,h){return d[h+"Error"]=be[h],d},{}),lt=Qn.reduce(function(d,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(d[h+"Error"]=be[h]),d},{});function We(){}function Ft(d){return d}function P(d,h){return d==null||d===Ft?h:function(b){return h(d(b))}}function he(d,h){return function(){d.apply(this,arguments),h.apply(this,arguments)}}function ce(d,h){return d===We?h:function(){var b=d.apply(this,arguments);b!==void 0&&(arguments[0]=b);var S=this.onsuccess,T=this.onerror;this.onsuccess=null,this.onerror=null;var j=h.apply(this,arguments);return S&&(this.onsuccess=this.onsuccess?he(S,this.onsuccess):S),T&&(this.onerror=this.onerror?he(T,this.onerror):T),j!==void 0?j:b}}function L(d,h){return d===We?h:function(){d.apply(this,arguments);var b=this.onsuccess,S=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?he(b,this.onsuccess):b),S&&(this.onerror=this.onerror?he(S,this.onerror):S)}}function N(d,h){return d===We?h:function(b){var S=d.apply(this,arguments);l(b,S);var T=this.onsuccess,j=this.onerror;return this.onsuccess=null,this.onerror=null,b=h.apply(this,arguments),T&&(this.onsuccess=this.onsuccess?he(T,this.onsuccess):T),j&&(this.onerror=this.onerror?he(j,this.onerror):j),S===void 0?b===void 0?void 0:b:l(S,b)}}function ne(d,h){return d===We?h:function(){return h.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function pe(d,h){return d===We?h:function(){var b=d.apply(this,arguments);if(b&&typeof b.then=="function"){for(var S=this,T=arguments.length,j=new Array(T);T--;)j[T]=arguments[T];return b.then(function(){return h.apply(S,j)})}return h.apply(this,arguments)}}lt.ModifyError=ye,lt.DexieError=de,lt.BulkError=Be;var me=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function oe(d){me=d}var _e={},Ie=100,Fe=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,u(d),d];var h=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[h,u(h),d]}(),xe=Fe[0],Qn=Fe[1],Fe=Fe[2],Qn=Qn&&Qn.then,tt=xe&&xe.constructor,Je=!!Fe,jt=function(d,h){Or.push([d,h]),Re&&(queueMicrotask(IC),Re=!1)},qn=!0,Re=!0,Ue=[],Xe=[],_n=Ft,fn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:We,pgp:!1,env:{},finalize:We},Ne=fn,Or=[],Gn=0,Si=[];function Ce(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=Ne;if(typeof d!="function"){if(d!==_e)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&fr(this,this._value))}this._state=null,this._value=null,++h.ref,function b(S,T){try{T(function(j){if(S._state===null){if(j===S)throw new TypeError("A promise cannot be resolved with itself.");var D=S._lib&&_o();j&&typeof j.then=="function"?b(S,function(B,H){j instanceof Ce?j._then(B,H):j.then(B,H)}):(S._state=!0,S._value=j,kv(S)),D&&xo()}},fr.bind(null,S))}catch(j){fr(S,j)}}(this,d)}var Yr={get:function(){var d=Ne,h=qu;function b(S,T){var j=this,D=!d.global&&(d!==Ne||h!==qu),B=D&&!Ei(),H=new Ce(function(q,te){zf(j,new Rr(Cv(S,d,D,B),Cv(T,d,D,B),q,te,d))});return this._consoleTask&&(H._consoleTask=this._consoleTask),H}return b.prototype=_e,b},set:function(d){_(this,"then",d&&d.prototype===_e?Yr:{get:function(){return d},set:Yr.set})}};function Rr(d,h,b,S,T){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof h=="function"?h:null,this.resolve=b,this.reject=S,this.psd=T}function fr(d,h){var b,S;Xe.push(h),d._state===null&&(b=d._lib&&_o(),h=_n(h),d._state=!1,d._value=h,S=d,Ue.some(function(T){return T._value===S._value})||Ue.push(S),kv(d),b&&xo())}function kv(d){var h=d._listeners;d._listeners=[];for(var b=0,S=h.length;b<S;++b)zf(d,h[b]);var T=d._PSD;--T.ref||T.finalize(),Gn===0&&(++Gn,jt(function(){--Gn==0&&Vf()},[]))}function zf(d,h){if(d._state!==null){var b=d._state?h.onFulfilled:h.onRejected;if(b===null)return(d._state?h.resolve:h.reject)(d._value);++h.psd.ref,++Gn,jt(RC,[b,d,h])}else d._listeners.push(h)}function RC(d,h,b){try{var S,T=h._value;!h._state&&Xe.length&&(Xe=[]),S=me&&h._consoleTask?h._consoleTask.run(function(){return d(T)}):d(T),h._state||Xe.indexOf(T)!==-1||function(j){for(var D=Ue.length;D;)if(Ue[--D]._value===j._value)return Ue.splice(D,1)}(h),b.resolve(S)}catch(j){b.reject(j)}finally{--Gn==0&&Vf(),--b.psd.ref||b.psd.finalize()}}function IC(){Ss(fn,function(){_o()&&xo()})}function _o(){var d=qn;return Re=qn=!1,d}function xo(){var d,h,b;do for(;0<Or.length;)for(d=Or,Or=[],b=d.length,h=0;h<b;++h){var S=d[h];S[0].apply(null,S[1])}while(0<Or.length);Re=qn=!0}function Vf(){var d=Ue;Ue=[],d.forEach(function(S){S._PSD.onunhandled.call(null,S._value,S)});for(var h=Si.slice(0),b=h.length;b;)h[--b]()}function Ku(d){return new Ce(_e,!1,d)}function vt(d,h){var b=Ne;return function(){var S=_o(),T=Ne;try{return Ci(b,!0),d.apply(this,arguments)}catch(j){h&&h(j)}finally{Ci(T,!1),S&&xo()}}}p(Ce.prototype,{then:Yr,_then:function(d,h){zf(this,new Rr(null,null,d,h,Ne))},catch:function(d){if(arguments.length===1)return this.then(null,d);var h=d,b=arguments[1];return typeof h=="function"?this.then(null,function(S){return(S instanceof h?b:Ku)(S)}):this.then(null,function(S){return(S&&S.name===h?b:Ku)(S)})},finally:function(d){return this.then(function(h){return Ce.resolve(d()).then(function(){return h})},function(h){return Ce.resolve(d()).then(function(){return Ku(h)})})},timeout:function(d,h){var b=this;return d<1/0?new Ce(function(S,T){var j=setTimeout(function(){return T(new be.Timeout(h))},d);b.then(S,T).finally(clearTimeout.bind(null,j))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(Ce.prototype,Symbol.toStringTag,"Dexie.Promise"),fn.env=Ev(),p(Ce,{all:function(){var d=ue.apply(null,arguments).map(Gu);return new Ce(function(h,b){d.length===0&&h([]);var S=d.length;d.forEach(function(T,j){return Ce.resolve(T).then(function(D){d[j]=D,--S||h(d)},b)})})},resolve:function(d){return d instanceof Ce?d:d&&typeof d.then=="function"?new Ce(function(h,b){d.then(h,b)}):new Ce(_e,!0,d)},reject:Ku,race:function(){var d=ue.apply(null,arguments).map(Gu);return new Ce(function(h,b){d.map(function(S){return Ce.resolve(S).then(h,b)})})},PSD:{get:function(){return Ne},set:function(d){return Ne=d}},totalEchoes:{get:function(){return qu}},newPSD:ki,usePSD:Ss,scheduler:{get:function(){return jt},set:function(d){jt=d}},rejectionMapper:{get:function(){return _n},set:function(d){_n=d}},follow:function(d,h){return new Ce(function(b,S){return ki(function(T,j){var D=Ne;D.unhandleds=[],D.onunhandled=j,D.finalize=he(function(){var B,H=this;B=function(){H.unhandleds.length===0?T():j(H.unhandleds[0])},Si.push(function q(){B(),Si.splice(Si.indexOf(q),1)}),++Gn,jt(function(){--Gn==0&&Vf()},[])},D.finalize),d()},h,b,S)})}}),tt&&(tt.allSettled&&_(Ce,"allSettled",function(){var d=ue.apply(null,arguments).map(Gu);return new Ce(function(h){d.length===0&&h([]);var b=d.length,S=new Array(b);d.forEach(function(T,j){return Ce.resolve(T).then(function(D){return S[j]={status:"fulfilled",value:D}},function(D){return S[j]={status:"rejected",reason:D}}).then(function(){return--b||h(S)})})})}),tt.any&&typeof AggregateError<"u"&&_(Ce,"any",function(){var d=ue.apply(null,arguments).map(Gu);return new Ce(function(h,b){d.length===0&&b(new AggregateError([]));var S=d.length,T=new Array(S);d.forEach(function(j,D){return Ce.resolve(j).then(function(B){return h(B)},function(B){T[D]=B,--S||b(new AggregateError(T))})})})}),tt.withResolvers&&(Ce.withResolvers=tt.withResolvers));var Kt={awaits:0,echoes:0,id:0},DC=0,Wu=[],Hu=0,qu=0,NC=0;function ki(d,h,b,S){var T=Ne,j=Object.create(T);return j.parent=T,j.ref=0,j.global=!1,j.id=++NC,fn.env,j.env=Je?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject}:{},h&&l(j,h),++T.ref,j.finalize=function(){--this.parent.ref||this.parent.finalize()},S=Ss(j,d,b,S),j.ref===0&&j.finalize(),S}function So(){return Kt.id||(Kt.id=++DC),++Kt.awaits,Kt.echoes+=Ie,Kt.id}function Ei(){return!!Kt.awaits&&(--Kt.awaits==0&&(Kt.id=0),Kt.echoes=Kt.awaits*Ie,!0)}function Gu(d){return Kt.echoes&&d&&d.constructor===tt?(So(),d.then(function(h){return Ei(),h},function(h){return Ei(),Ot(h)})):d}function LC(){var d=Wu[Wu.length-1];Wu.pop(),Ci(d,!1)}function Ci(d,h){var b,S=Ne;(h?!Kt.echoes||Hu++&&d===Ne:!Hu||--Hu&&d===Ne)||queueMicrotask(h?(function(T){++qu,Kt.echoes&&--Kt.echoes!=0||(Kt.echoes=Kt.awaits=Kt.id=0),Wu.push(Ne),Ci(T,!0)}).bind(null,d):LC),d!==Ne&&(Ne=d,S===fn&&(fn.env=Ev()),Je&&(b=fn.env.Promise,h=d.env,(S.global||d.global)&&(Object.defineProperty(s,"Promise",h.PromiseProp),b.all=h.all,b.race=h.race,b.resolve=h.resolve,b.reject=h.reject,h.allSettled&&(b.allSettled=h.allSettled),h.any&&(b.any=h.any))))}function Ev(){var d=s.Promise;return Je?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function Ss(d,h,b,S,T){var j=Ne;try{return Ci(d,!0),h(b,S,T)}finally{Ci(j,!1)}}function Cv(d,h,b,S){return typeof d!="function"?d:function(){var T=Ne;b&&So(),Ci(h,!0);try{return d.apply(this,arguments)}finally{Ci(T,!1),S&&queueMicrotask(Ei)}}}function Kf(d){Promise===tt&&Kt.echoes===0?Hu===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+Qn).indexOf("[native code]")===-1&&(So=Ei=We);var Ot=Ce.reject,ks="",Jr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Tv="String expected.",ko=[],Qu="__dbnames",Wf="readonly",Hf="readwrite";function Es(d,h){return d?h?function(){return d.apply(this,arguments)&&h.apply(this,arguments)}:d:h}var Pv={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Yu(d){return typeof d!="string"||/\./.test(d)?function(h){return h}:function(h){return h[d]===void 0&&d in h&&delete(h=ee(h))[d],h}}function Av(){throw be.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function rt(d,h){try{var b=jv(d),S=jv(h);if(b!==S)return b==="Array"?1:S==="Array"?-1:b==="binary"?1:S==="binary"?-1:b==="string"?1:S==="string"?-1:b==="Date"?1:S!=="Date"?NaN:-1;switch(b){case"number":case"Date":case"string":return h<d?1:d<h?-1:0;case"binary":return function(T,j){for(var D=T.length,B=j.length,H=D<B?D:B,q=0;q<H;++q)if(T[q]!==j[q])return T[q]<j[q]?-1:1;return D===B?0:D<B?-1:1}(Ov(d),Ov(h));case"Array":return function(T,j){for(var D=T.length,B=j.length,H=D<B?D:B,q=0;q<H;++q){var te=rt(T[q],j[q]);if(te!==0)return te}return D===B?0:D<B?-1:1}(d,h)}}catch{}return NaN}function jv(d){var h=typeof d;return h!="object"?h:ArrayBuffer.isView(d)?"binary":(d=le(d),d==="ArrayBuffer"?"binary":d)}function Ov(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}function Ju(d,h,b){var S=d.schema.yProps;return S?(h&&0<b.numFailures&&(h=h.filter(function(T,j){return!b.failures[j]})),Promise.all(S.map(function(T){return T=T.updatesTable,h?d.db.table(T).where("k").anyOf(h).delete():d.db.table(T).clear()})).then(function(){return b})):b}var Ka=(Rv.prototype.execute=function(d){var h=this["@@propmod"];if(h.add!==void 0){var b=h.add;if(a(b))return i(i([],a(d)?d:[],!0),b).sort();if(typeof b=="number")return(Number(d)||0)+b;if(typeof b=="bigint")try{return BigInt(d)+b}catch{return BigInt(0)+b}throw new TypeError("Invalid term ".concat(b))}if(h.remove!==void 0){var S=h.remove;if(a(S))return a(d)?d.filter(function(T){return!S.includes(T)}).sort():[];if(typeof S=="number")return Number(d)-S;if(typeof S=="bigint")try{return BigInt(d)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return b=(b=h.replacePrefix)===null||b===void 0?void 0:b[0],b&&typeof d=="string"&&d.startsWith(b)?h.replacePrefix[1]+d.substring(b.length):d},Rv);function Rv(d){this["@@propmod"]=d}function Iv(d,h){for(var b=o(h),S=b.length,T=!1,j=0;j<S;++j){var D=b[j],B=h[D],H=R(d,D);B instanceof Ka?(I(d,D,B.execute(H)),T=!0):H!==B&&(I(d,D,B),T=!0)}return T}var Dv=(ht.prototype._trans=function(d,h,b){var S=this._tx||Ne.trans,T=this.name,j=me&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function D(q,te,V){if(!V.schema[T])throw new be.NotFound("Table "+T+" not part of transaction");return h(V.idbtrans,V)}var B=_o();try{var H=S&&S.db._novip===this.db._novip?S===Ne.trans?S._promise(d,D,b):ki(function(){return S._promise(d,D,b)},{trans:S,transless:Ne.transless||Ne}):function q(te,V,ie,Q){if(te.idbdb&&(te._state.openComplete||Ne.letThrough||te._vip)){var Y=te._createTransaction(V,ie,te._dbSchema);try{Y.create(),te._state.PR1398_maxLoop=3}catch(J){return J.name===qe.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return q(te,V,ie,Q)})):Ot(J)}return Y._promise(V,function(J,re){return ki(function(){return Ne.trans=Y,Q(J,re,Y)})}).then(function(J){if(V==="readwrite")try{Y.idbtrans.commit()}catch{}return V==="readonly"?J:Y._completion.then(function(){return J})})}if(te._state.openComplete)return Ot(new be.DatabaseClosed(te._state.dbOpenError));if(!te._state.isBeingOpened){if(!te._state.autoOpen)return Ot(new be.DatabaseClosed);te.open().catch(We)}return te._state.dbReadyPromise.then(function(){return q(te,V,ie,Q)})}(this.db,d,[this.name],D);return j&&(H._consoleTask=j,H=H.catch(function(q){return console.trace(q),Ot(q)})),H}finally{B&&xo()}},ht.prototype.get=function(d,h){var b=this;return d&&d.constructor===Object?this.where(d).first(h):d==null?Ot(new be.Type("Invalid argument to Table.get()")):this._trans("readonly",function(S){return b.core.get({trans:S,key:d}).then(function(T){return b.hook.reading.fire(T)})}).then(h)},ht.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(a(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var h=o(d);if(h.length===1)return this.where(h[0]).equals(d[h[0]]);var b=this.schema.indexes.concat(this.schema.primKey).filter(function(B){if(B.compound&&h.every(function(q){return 0<=B.keyPath.indexOf(q)})){for(var H=0;H<h.length;++H)if(h.indexOf(B.keyPath[H])===-1)return!1;return!0}return!1}).sort(function(B,H){return B.keyPath.length-H.keyPath.length})[0];if(b&&this.db._maxKey!==ks){var j=b.keyPath.slice(0,h.length);return this.where(j).equals(j.map(function(H){return d[H]}))}!b&&me&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var S=this.schema.idxByName;function T(B,H){return rt(B,H)===0}var D=h.reduce(function(V,H){var q=V[0],te=V[1],V=S[H],ie=d[H];return[q||V,q||!V?Es(te,V&&V.multi?function(Q){return Q=R(Q,H),a(Q)&&Q.some(function(Y){return T(ie,Y)})}:function(Q){return T(ie,R(Q,H))}):te]},[null,null]),j=D[0],D=D[1];return j?this.where(j.name).equals(d[j.keyPath]).filter(D):b?this.filter(D):this.where(h).equals("")},ht.prototype.filter=function(d){return this.toCollection().and(d)},ht.prototype.count=function(d){return this.toCollection().count(d)},ht.prototype.offset=function(d){return this.toCollection().offset(d)},ht.prototype.limit=function(d){return this.toCollection().limit(d)},ht.prototype.each=function(d){return this.toCollection().each(d)},ht.prototype.toArray=function(d){return this.toCollection().toArray(d)},ht.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ht.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,a(d)?"[".concat(d.join("+"),"]"):d))},ht.prototype.reverse=function(){return this.toCollection().reverse()},ht.prototype.mapToClass=function(d){var h,b=this.db,S=this.name;function T(){return h!==null&&h.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof Av&&(function(H,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function te(){this.constructor=H}n(H,q),H.prototype=q===null?Object.create(q):(te.prototype=q.prototype,new te)}(T,h=d),Object.defineProperty(T.prototype,"db",{get:function(){return b},enumerable:!1,configurable:!0}),T.prototype.table=function(){return S},d=T);for(var j=new Set,D=d.prototype;D;D=u(D))Object.getOwnPropertyNames(D).forEach(function(H){return j.add(H)});function B(H){if(!H)return H;var q,te=Object.create(d.prototype);for(q in H)if(!j.has(q))try{te[q]=H[q]}catch{}return te}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=B,this.hook("reading",B),d},ht.prototype.defineClass=function(){return this.mapToClass(function(d){l(this,d)})},ht.prototype.add=function(d,h){var b=this,S=this.schema.primKey,T=S.auto,j=S.keyPath,D=d;return j&&T&&(D=Yu(j)(d)),this._trans("readwrite",function(B){return b.core.mutate({trans:B,type:"add",keys:h!=null?[h]:null,values:[D]})}).then(function(B){return B.numFailures?Ce.reject(B.failures[0]):B.lastResult}).then(function(B){if(j)try{I(d,j,B)}catch{}return B})},ht.prototype.upsert=function(d,h){var b=this,S=this.schema.primKey.keyPath;return this._trans("readwrite",function(T){return b.core.get({trans:T,key:d}).then(function(j){var D=j??{};return Iv(D,h),S&&I(D,S,d),b.core.mutate({trans:T,type:"put",values:[D],keys:[d],upsert:!0,updates:{keys:[d],changeSpecs:[h]}}).then(function(B){return B.numFailures?Ce.reject(B.failures[0]):!!j})})})},ht.prototype.update=function(d,h){return typeof d!="object"||a(d)?this.where(":id").equals(d).modify(h):(d=R(d,this.schema.primKey.keyPath),d===void 0?Ot(new be.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(h))},ht.prototype.put=function(d,h){var b=this,S=this.schema.primKey,T=S.auto,j=S.keyPath,D=d;return j&&T&&(D=Yu(j)(d)),this._trans("readwrite",function(B){return b.core.mutate({trans:B,type:"put",values:[D],keys:h!=null?[h]:null})}).then(function(B){return B.numFailures?Ce.reject(B.failures[0]):B.lastResult}).then(function(B){if(j)try{I(d,j,B)}catch{}return B})},ht.prototype.delete=function(d){var h=this;return this._trans("readwrite",function(b){return h.core.mutate({trans:b,type:"delete",keys:[d]}).then(function(S){return Ju(h,[d],S)}).then(function(S){return S.numFailures?Ce.reject(S.failures[0]):void 0})})},ht.prototype.clear=function(){var d=this;return this._trans("readwrite",function(h){return d.core.mutate({trans:h,type:"deleteRange",range:Pv}).then(function(b){return Ju(d,null,b)})}).then(function(h){return h.numFailures?Ce.reject(h.failures[0]):void 0})},ht.prototype.bulkGet=function(d){var h=this;return this._trans("readonly",function(b){return h.core.getMany({keys:d,trans:b}).then(function(S){return S.map(function(T){return h.hook.reading.fire(T)})})})},ht.prototype.bulkAdd=function(d,h,b){var S=this,T=Array.isArray(h)?h:void 0,j=(b=b||(T?void 0:h))?b.allKeys:void 0;return this._trans("readwrite",function(D){var q=S.schema.primKey,B=q.auto,q=q.keyPath;if(q&&T)throw new be.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(T&&T.length!==d.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var H=d.length,q=q&&B?d.map(Yu(q)):d;return S.core.mutate({trans:D,type:"add",keys:T,values:q,wantResults:j}).then(function(Y){var V=Y.numFailures,ie=Y.results,Q=Y.lastResult,Y=Y.failures;if(V===0)return j?ie:Q;throw new Be("".concat(S.name,".bulkAdd(): ").concat(V," of ").concat(H," operations failed"),Y)})})},ht.prototype.bulkPut=function(d,h,b){var S=this,T=Array.isArray(h)?h:void 0,j=(b=b||(T?void 0:h))?b.allKeys:void 0;return this._trans("readwrite",function(D){var q=S.schema.primKey,B=q.auto,q=q.keyPath;if(q&&T)throw new be.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(T&&T.length!==d.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var H=d.length,q=q&&B?d.map(Yu(q)):d;return S.core.mutate({trans:D,type:"put",keys:T,values:q,wantResults:j}).then(function(Y){var V=Y.numFailures,ie=Y.results,Q=Y.lastResult,Y=Y.failures;if(V===0)return j?ie:Q;throw new Be("".concat(S.name,".bulkPut(): ").concat(V," of ").concat(H," operations failed"),Y)})})},ht.prototype.bulkUpdate=function(d){var h=this,b=this.core,S=d.map(function(D){return D.key}),T=d.map(function(D){return D.changes}),j=[];return this._trans("readwrite",function(D){return b.getMany({trans:D,keys:S,cache:"clone"}).then(function(B){var H=[],q=[];d.forEach(function(V,ie){var Q=V.key,Y=V.changes,J=B[ie];if(J){for(var re=0,se=Object.keys(Y);re<se.length;re++){var ae=se[re],fe=Y[ae];if(ae===h.schema.primKey.keyPath){if(rt(fe,Q)!==0)throw new be.Constraint("Cannot update primary key in bulkUpdate()")}else I(J,ae,fe)}j.push(ie),H.push(Q),q.push(J)}});var te=H.length;return b.mutate({trans:D,type:"put",keys:H,values:q,updates:{keys:S,changeSpecs:T}}).then(function(V){var ie=V.numFailures,Q=V.failures;if(ie===0)return te;for(var Y=0,J=Object.keys(Q);Y<J.length;Y++){var re,se=J[Y],ae=j[Number(se)];ae!=null&&(re=Q[se],delete Q[se],Q[ae]=re)}throw new Be("".concat(h.name,".bulkUpdate(): ").concat(ie," of ").concat(te," operations failed"),Q)})})})},ht.prototype.bulkDelete=function(d){var h=this,b=d.length;return this._trans("readwrite",function(S){return h.core.mutate({trans:S,type:"delete",keys:d}).then(function(T){return Ju(h,d,T)})}).then(function(D){var T=D.numFailures,j=D.lastResult,D=D.failures;if(T===0)return j;throw new Be("".concat(h.name,".bulkDelete(): ").concat(T," of ").concat(b," operations failed"),D)})},ht);function ht(){}function Wa(d){function h(D,B){if(B){for(var H=arguments.length,q=new Array(H-1);--H;)q[H-1]=arguments[H];return b[D].subscribe.apply(null,q),d}if(typeof D=="string")return b[D]}var b={};h.addEventType=j;for(var S=1,T=arguments.length;S<T;++S)j(arguments[S]);return h;function j(D,B,H){if(typeof D!="object"){var q;B=B||ne;var te={subscribers:[],fire:H=H||We,subscribe:function(V){te.subscribers.indexOf(V)===-1&&(te.subscribers.push(V),te.fire=B(te.fire,V))},unsubscribe:function(V){te.subscribers=te.subscribers.filter(function(ie){return ie!==V}),te.fire=te.subscribers.reduce(B,H)}};return b[D]=h[D]=te}o(q=D).forEach(function(V){var ie=q[V];if(a(ie))j(V,q[V][0],q[V][1]);else{if(ie!=="asap")throw new be.InvalidArgument("Invalid event config");var Q=j(V,Ft,function(){for(var Y=arguments.length,J=new Array(Y);Y--;)J[Y]=arguments[Y];Q.subscribers.forEach(function(re){O(function(){re.apply(null,J)})})})}})}}function Ha(d,h){return y(h).from({prototype:d}),h}function Eo(d,h){return!(d.filter||d.algorithm||d.or)&&(h?d.justLimit:!d.replayFilter)}function qf(d,h){d.filter=Es(d.filter,h)}function Gf(d,h,b){var S=d.replayFilter;d.replayFilter=S?function(){return Es(S(),h())}:h,d.justLimit=b&&!S}function Zu(d,h){if(d.isPrimKey)return h.primaryKey;var b=h.getIndexByKeyPath(d.index);if(!b)throw new be.Schema("KeyPath "+d.index+" on object store "+h.name+" is not indexed");return b}function Nv(d,h,b){var S=Zu(d,h.schema);return h.openCursor({trans:b,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:S,range:d.range}})}function Xu(d,h,b,S){var T=d.replayFilter?Es(d.filter,d.replayFilter()):d.filter;if(d.or){var j={},D=function(B,H,q){var te,V;T&&!T(H,q,function(ie){return H.stop(ie)},function(ie){return H.fail(ie)})||((V=""+(te=H.primaryKey))=="[object ArrayBuffer]"&&(V=""+new Uint8Array(te)),f(j,V)||(j[V]=!0,h(B,H,q)))};return Promise.all([d.or._iterate(D,b),Lv(Nv(d,S,b),d.algorithm,D,!d.keysOnly&&d.valueMapper)])}return Lv(Nv(d,S,b),Es(d.algorithm,T),h,!d.keysOnly&&d.valueMapper)}function Lv(d,h,b,S){var T=vt(S?function(j,D,B){return b(S(j),D,B)}:b);return d.then(function(j){if(j)return j.start(function(){var D=function(){return j.continue()};h&&!h(j,function(B){return D=B},function(B){j.stop(B),D=We},function(B){j.fail(B),D=We})||T(j.value,j,function(B){return D=B}),D()})})}var $C=(at.prototype._read=function(d,h){var b=this._ctx;return b.error?b.table._trans(null,Ot.bind(null,b.error)):b.table._trans("readonly",d).then(h)},at.prototype._write=function(d){var h=this._ctx;return h.error?h.table._trans(null,Ot.bind(null,h.error)):h.table._trans("readwrite",d,"locked")},at.prototype._addAlgorithm=function(d){var h=this._ctx;h.algorithm=Es(h.algorithm,d)},at.prototype._iterate=function(d,h){return Xu(this._ctx,d,h,this._ctx.table.core)},at.prototype.clone=function(d){var h=Object.create(this.constructor.prototype),b=Object.create(this._ctx);return d&&l(b,d),h._ctx=b,h},at.prototype.raw=function(){return this._ctx.valueMapper=null,this},at.prototype.each=function(d){var h=this._ctx;return this._read(function(b){return Xu(h,d,b,h.table.core)})},at.prototype.count=function(d){var h=this;return this._read(function(b){var S=h._ctx,T=S.table.core;if(Eo(S,!0))return T.count({trans:b,query:{index:Zu(S,T.schema),range:S.range}}).then(function(D){return Math.min(D,S.limit)});var j=0;return Xu(S,function(){return++j,!1},b,T).then(function(){return j})}).then(d)},at.prototype.sortBy=function(d,h){var b=d.split(".").reverse(),S=b[0],T=b.length-1;function j(H,q){return q?j(H[b[q]],q-1):H[S]}var D=this._ctx.dir==="next"?1:-1;function B(H,q){return rt(j(H,T),j(q,T))*D}return this.toArray(function(H){return H.sort(B)}).then(h)},at.prototype.toArray=function(d){var h=this;return this._read(function(b){var S=h._ctx;if(S.dir==="next"&&Eo(S,!0)&&0<S.limit){var T=S.valueMapper,j=Zu(S,S.table.core.schema);return S.table.core.query({trans:b,limit:S.limit,values:!0,query:{index:j,range:S.range}}).then(function(B){return B=B.result,T?B.map(T):B})}var D=[];return Xu(S,function(B){return D.push(B)},b,S.table.core).then(function(){return D})},d)},at.prototype.offset=function(d){var h=this._ctx;return d<=0||(h.offset+=d,Eo(h)?Gf(h,function(){var b=d;return function(S,T){return b===0||(b===1?--b:T(function(){S.advance(b),b=0}),!1)}}):Gf(h,function(){var b=d;return function(){return--b<0}})),this},at.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),Gf(this._ctx,function(){var h=d;return function(b,S,T){return--h<=0&&S(T),0<=h}},!0),this},at.prototype.until=function(d,h){return qf(this._ctx,function(b,S,T){return!d(b.value)||(S(T),h)}),this},at.prototype.first=function(d){return this.limit(1).toArray(function(h){return h[0]}).then(d)},at.prototype.last=function(d){return this.reverse().first(d)},at.prototype.filter=function(d){var h;return qf(this._ctx,function(b){return d(b.value)}),(h=this._ctx).isMatch=Es(h.isMatch,d),this},at.prototype.and=function(d){return this.filter(d)},at.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},at.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},at.prototype.desc=function(){return this.reverse()},at.prototype.eachKey=function(d){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(b,S){d(S.key,S)})},at.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},at.prototype.eachPrimaryKey=function(d){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(b,S){d(S.primaryKey,S)})},at.prototype.keys=function(d){var h=this._ctx;h.keysOnly=!h.isMatch;var b=[];return this.each(function(S,T){b.push(T.key)}).then(function(){return b}).then(d)},at.prototype.primaryKeys=function(d){var h=this._ctx;if(h.dir==="next"&&Eo(h,!0)&&0<h.limit)return this._read(function(S){var T=Zu(h,h.table.core.schema);return h.table.core.query({trans:S,values:!1,limit:h.limit,query:{index:T,range:h.range}})}).then(function(S){return S.result}).then(d);h.keysOnly=!h.isMatch;var b=[];return this.each(function(S,T){b.push(T.primaryKey)}).then(function(){return b}).then(d)},at.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},at.prototype.firstKey=function(d){return this.limit(1).keys(function(h){return h[0]}).then(d)},at.prototype.lastKey=function(d){return this.reverse().firstKey(d)},at.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var h={};return qf(this._ctx,function(T){var S=T.primaryKey.toString(),T=f(h,S);return h[S]=!0,!T}),this},at.prototype.modify=function(d){var h=this,b=this._ctx;return this._write(function(S){var T=typeof d=="function"?d:function(J){return Iv(J,d)},j=b.table.core,q=j.schema.primaryKey,D=q.outbound,B=q.extractKey,H=200,q=h.db._options.modifyChunkSize;q&&(H=typeof q=="object"?q[j.name]||q["*"]||200:q);function te(J,ae){var se=ae.failures,ae=ae.numFailures;ie+=J-ae;for(var fe=0,ge=o(se);fe<ge.length;fe++){var Ee=ge[fe];V.push(se[Ee])}}var V=[],ie=0,Q=[],Y=d===$v;return h.clone().primaryKeys().then(function(J){function re(ae){var fe=Math.min(H,J.length-ae),ge=J.slice(ae,ae+fe);return(Y?Promise.resolve([]):j.getMany({trans:S,keys:ge,cache:"immutable"})).then(function(Ee){var Ae=[],ke=[],Te=D?[]:null,je=Y?ge:[];if(!Y)for(var Pe=0;Pe<fe;++Pe){var $e=Ee[Pe],Ye={value:ee($e),primKey:J[ae+Pe]};T.call(Ye,Ye.value,Ye)!==!1&&(Ye.value==null?je.push(J[ae+Pe]):D||rt(B($e),B(Ye.value))===0?(ke.push(Ye.value),D&&Te.push(J[ae+Pe])):(je.push(J[ae+Pe]),Ae.push(Ye.value)))}return Promise.resolve(0<Ae.length&&j.mutate({trans:S,type:"add",values:Ae}).then(function(Ze){for(var et in Ze.failures)je.splice(parseInt(et),1);te(Ae.length,Ze)})).then(function(){return(0<ke.length||se&&typeof d=="object")&&j.mutate({trans:S,type:"put",keys:Te,values:ke,criteria:se,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<ae}).then(function(Ze){return te(ke.length,Ze)})}).then(function(){return(0<je.length||se&&Y)&&j.mutate({trans:S,type:"delete",keys:je,criteria:se,isAdditionalChunk:0<ae}).then(function(Ze){return Ju(b.table,je,Ze)}).then(function(Ze){return te(je.length,Ze)})}).then(function(){return J.length>ae+fe&&re(ae+H)})})}var se=Eo(b)&&b.limit===1/0&&(typeof d!="function"||Y)&&{index:b.index,range:b.range};return re(0).then(function(){if(0<V.length)throw new ye("Error modifying one or more objects",V,ie,Q);return J.length})})})},at.prototype.delete=function(){var d=this._ctx,h=d.range;return!Eo(d)||d.table.schema.yProps||!d.isPrimKey&&h.type!==3?this.modify($v):this._write(function(b){var S=d.table.core.schema.primaryKey,T=h;return d.table.core.count({trans:b,query:{index:S,range:T}}).then(function(j){return d.table.core.mutate({trans:b,type:"deleteRange",range:T}).then(function(H){var B=H.failures,H=H.numFailures;if(H)throw new ye("Could not delete some values",Object.keys(B).map(function(q){return B[q]}),j-H);return j-H})})})},at);function at(){}var $v=function(d,h){return h.value=null};function MC(d,h){return d<h?-1:d===h?0:1}function FC(d,h){return h<d?-1:d===h?0:1}function Ln(d,h,b){return d=d instanceof Fv?new d.Collection(d):d,d._ctx.error=new(b||TypeError)(h),d}function Co(d){return new d.Collection(d,function(){return Mv("")}).limit(0)}function ec(d,h,b,S){var T,j,D,B,H,q,te,V=b.length;if(!b.every(function(Y){return typeof Y=="string"}))return Ln(d,Tv);function ie(Y){T=Y==="next"?function(re){return re.toUpperCase()}:function(re){return re.toLowerCase()},j=Y==="next"?function(re){return re.toLowerCase()}:function(re){return re.toUpperCase()},D=Y==="next"?MC:FC;var J=b.map(function(re){return{lower:j(re),upper:T(re)}}).sort(function(re,se){return D(re.lower,se.lower)});B=J.map(function(re){return re.upper}),H=J.map(function(re){return re.lower}),te=(q=Y)==="next"?"":S}ie("next"),d=new d.Collection(d,function(){return Ti(B[0],H[V-1]+S)}),d._ondirectionchange=function(Y){ie(Y)};var Q=0;return d._addAlgorithm(function(Y,J,re){var se=Y.key;if(typeof se!="string")return!1;var ae=j(se);if(h(ae,H,Q))return!0;for(var fe=null,ge=Q;ge<V;++ge){var Ee=function(Ae,ke,Te,je,Pe,$e){for(var Ye=Math.min(Ae.length,je.length),Ze=-1,et=0;et<Ye;++et){var $n=ke[et];if($n!==je[et])return Pe(Ae[et],Te[et])<0?Ae.substr(0,et)+Te[et]+Te.substr(et+1):Pe(Ae[et],je[et])<0?Ae.substr(0,et)+je[et]+Te.substr(et+1):0<=Ze?Ae.substr(0,Ze)+ke[Ze]+Te.substr(Ze+1):null;Pe(Ae[et],$n)<0&&(Ze=et)}return Ye<je.length&&$e==="next"?Ae+Te.substr(Ae.length):Ye<Ae.length&&$e==="prev"?Ae.substr(0,Te.length):Ze<0?null:Ae.substr(0,Ze)+je[Ze]+Te.substr(Ze+1)}(se,ae,B[ge],H[ge],D,q);Ee===null&&fe===null?Q=ge+1:(fe===null||0<D(fe,Ee))&&(fe=Ee)}return J(fe!==null?function(){Y.continue(fe+te)}:re),!1}),d}function Ti(d,h,b,S){return{type:2,lower:d,upper:h,lowerOpen:b,upperOpen:S}}function Mv(d){return{type:1,lower:d,upper:d}}var Fv=(Object.defineProperty(Wt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Wt.prototype.between=function(d,h,b,S){b=b!==!1,S=S===!0;try{return 0<this._cmp(d,h)||this._cmp(d,h)===0&&(b||S)&&(!b||!S)?Co(this):new this.Collection(this,function(){return Ti(d,h,!b,!S)})}catch{return Ln(this,Jr)}},Wt.prototype.equals=function(d){return d==null?Ln(this,Jr):new this.Collection(this,function(){return Mv(d)})},Wt.prototype.above=function(d){return d==null?Ln(this,Jr):new this.Collection(this,function(){return Ti(d,void 0,!0)})},Wt.prototype.aboveOrEqual=function(d){return d==null?Ln(this,Jr):new this.Collection(this,function(){return Ti(d,void 0,!1)})},Wt.prototype.below=function(d){return d==null?Ln(this,Jr):new this.Collection(this,function(){return Ti(void 0,d,!1,!0)})},Wt.prototype.belowOrEqual=function(d){return d==null?Ln(this,Jr):new this.Collection(this,function(){return Ti(void 0,d)})},Wt.prototype.startsWith=function(d){return typeof d!="string"?Ln(this,Tv):this.between(d,d+ks,!0,!0)},Wt.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):ec(this,function(h,b){return h.indexOf(b[0])===0},[d],ks)},Wt.prototype.equalsIgnoreCase=function(d){return ec(this,function(h,b){return h===b[0]},[d],"")},Wt.prototype.anyOfIgnoreCase=function(){var d=ue.apply(Z,arguments);return d.length===0?Co(this):ec(this,function(h,b){return b.indexOf(h)!==-1},d,"")},Wt.prototype.startsWithAnyOfIgnoreCase=function(){var d=ue.apply(Z,arguments);return d.length===0?Co(this):ec(this,function(h,b){return b.some(function(S){return h.indexOf(S)===0})},d,ks)},Wt.prototype.anyOf=function(){var d=this,h=ue.apply(Z,arguments),b=this._cmp;try{h.sort(b)}catch{return Ln(this,Jr)}if(h.length===0)return Co(this);var S=new this.Collection(this,function(){return Ti(h[0],h[h.length-1])});S._ondirectionchange=function(j){b=j==="next"?d._ascending:d._descending,h.sort(b)};var T=0;return S._addAlgorithm(function(j,D,B){for(var H=j.key;0<b(H,h[T]);)if(++T===h.length)return D(B),!1;return b(H,h[T])===0||(D(function(){j.continue(h[T])}),!1)}),S},Wt.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Wt.prototype.noneOf=function(){var d=ue.apply(Z,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return Ln(this,Jr)}var h=d.reduce(function(b,S){return b?b.concat([[b[b.length-1][1],S]]):[[-1/0,S]]},null);return h.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},Wt.prototype.inAnyRange=function(se,h){var b=this,S=this._cmp,T=this._ascending,j=this._descending,D=this._min,B=this._max;if(se.length===0)return Co(this);if(!se.every(function(ae){return ae[0]!==void 0&&ae[1]!==void 0&&T(ae[0],ae[1])<=0}))return Ln(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",be.InvalidArgument);var H=!h||h.includeLowers!==!1,q=h&&h.includeUppers===!0,te,V=T;function ie(ae,fe){return V(ae[0],fe[0])}try{(te=se.reduce(function(ae,fe){for(var ge=0,Ee=ae.length;ge<Ee;++ge){var Ae=ae[ge];if(S(fe[0],Ae[1])<0&&0<S(fe[1],Ae[0])){Ae[0]=D(Ae[0],fe[0]),Ae[1]=B(Ae[1],fe[1]);break}}return ge===Ee&&ae.push(fe),ae},[])).sort(ie)}catch{return Ln(this,Jr)}var Q=0,Y=q?function(ae){return 0<T(ae,te[Q][1])}:function(ae){return 0<=T(ae,te[Q][1])},J=H?function(ae){return 0<j(ae,te[Q][0])}:function(ae){return 0<=j(ae,te[Q][0])},re=Y,se=new this.Collection(this,function(){return Ti(te[0][0],te[te.length-1][1],!H,!q)});return se._ondirectionchange=function(ae){V=ae==="next"?(re=Y,T):(re=J,j),te.sort(ie)},se._addAlgorithm(function(ae,fe,ge){for(var Ee,Ae=ae.key;re(Ae);)if(++Q===te.length)return fe(ge),!1;return!Y(Ee=Ae)&&!J(Ee)||(b._cmp(Ae,te[Q][1])===0||b._cmp(Ae,te[Q][0])===0||fe(function(){V===T?ae.continue(te[Q][0]):ae.continue(te[Q][1])}),!1)}),se},Wt.prototype.startsWithAnyOf=function(){var d=ue.apply(Z,arguments);return d.every(function(h){return typeof h=="string"})?d.length===0?Co(this):this.inAnyRange(d.map(function(h){return[h,h+ks]})):Ln(this,"startsWithAnyOf() only works with strings")},Wt);function Wt(){}function Ir(d){return vt(function(h){return qa(h),d(h.target.error),!1})}function qa(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var Ga="storagemutated",Qf="x-storagemutated-1",Pi=Wa(null,Ga),BC=(Dr.prototype._lock=function(){return C(!Ne.global),++this._reculock,this._reculock!==1||Ne.global||(Ne.lockOwnerFor=this),this},Dr.prototype._unlock=function(){if(C(!Ne.global),--this._reculock==0)for(Ne.global||(Ne.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{Ss(d[1],d[0])}catch{}}return this},Dr.prototype._locked=function(){return this._reculock&&Ne.lockOwnerFor!==this},Dr.prototype.create=function(d){var h=this;if(!this.mode)return this;var b=this.db.idbdb,S=this.db._state.dbOpenError;if(C(!this.idbtrans),!d&&!b)switch(S&&S.name){case"DatabaseClosedError":throw new be.DatabaseClosed(S);case"MissingAPIError":throw new be.MissingAPI(S.message,S);default:throw new be.OpenFailed(S)}if(!this.active)throw new be.TransactionInactive;return C(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||b).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=vt(function(T){qa(T),h._reject(d.error)}),d.onabort=vt(function(T){qa(T),h.active&&h._reject(new be.Abort(d.error)),h.active=!1,h.on("abort").fire(T)}),d.oncomplete=vt(function(){h.active=!1,h._resolve(),"mutatedParts"in d&&Pi.storagemutated.fire(d.mutatedParts)}),this},Dr.prototype._promise=function(d,h,b){var S=this;if(d==="readwrite"&&this.mode!=="readwrite")return Ot(new be.ReadOnly("Transaction is readonly"));if(!this.active)return Ot(new be.TransactionInactive);if(this._locked())return new Ce(function(j,D){S._blockedFuncs.push([function(){S._promise(d,h,b).then(j,D)},Ne])});if(b)return ki(function(){var j=new Ce(function(D,B){S._lock();var H=h(D,B,S);H&&H.then&&H.then(D,B)});return j.finally(function(){return S._unlock()}),j._lib=!0,j});var T=new Ce(function(j,D){var B=h(j,D,S);B&&B.then&&B.then(j,D)});return T._lib=!0,T},Dr.prototype._root=function(){return this.parent?this.parent._root():this},Dr.prototype.waitFor=function(d){var h,b=this._root(),S=Ce.resolve(d);b._waitingFor?b._waitingFor=b._waitingFor.then(function(){return S}):(b._waitingFor=S,b._waitingQueue=[],h=b.idbtrans.objectStore(b.storeNames[0]),function j(){for(++b._spinCount;b._waitingQueue.length;)b._waitingQueue.shift()();b._waitingFor&&(h.get(-1/0).onsuccess=j)}());var T=b._waitingFor;return new Ce(function(j,D){S.then(function(B){return b._waitingQueue.push(vt(j.bind(null,B)))},function(B){return b._waitingQueue.push(vt(D.bind(null,B)))}).finally(function(){b._waitingFor===T&&(b._waitingFor=null)})})},Dr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new be.Abort))},Dr.prototype.table=function(d){var h=this._memoizedTables||(this._memoizedTables={});if(f(h,d))return h[d];var b=this.schema[d];if(!b)throw new be.NotFound("Table "+d+" not part of transaction");return b=new this.db.Table(d,b,this),b.core=this.db.core.table(d),h[d]=b},Dr);function Dr(){}function Yf(d,h,b,S,T,j,D,B){return{name:d,keyPath:h,unique:b,multi:S,auto:T,compound:j,src:(b&&!D?"&":"")+(S?"*":"")+(T?"++":"")+Bv(h),type:B}}function Bv(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function Jf(d,h,b){return{name:d,primKey:h,indexes:b,mappedClass:null,idxByName:(S=function(T){return[T.name,T]},b.reduce(function(T,j,D){return D=S(j,D),D&&(T[D[0]]=D[1]),T},{}))};var S}var Qa=function(d){try{return d.only([[]]),Qa=function(){return[[]]},[[]]}catch{return Qa=function(){return ks},ks}};function Zf(d){return d==null?function(){}:typeof d=="string"?(h=d).split(".").length===1?function(b){return b[h]}:function(b){return R(b,h)}:function(b){return R(b,d)};var h}function Uv(d){return[].slice.call(d)}var UC=0;function Ya(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function zC(d,h,H){function S(re){if(re.type===3)return null;if(re.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Q=re.lower,Y=re.upper,J=re.lowerOpen,re=re.upperOpen;return Q===void 0?Y===void 0?null:h.upperBound(Y,!!re):Y===void 0?h.lowerBound(Q,!!J):h.bound(Q,Y,!!J,!!re)}function T(ie){var Q,Y=ie.name;return{name:Y,schema:ie,mutate:function(J){var re=J.trans,se=J.type,ae=J.keys,fe=J.values,ge=J.range;return new Promise(function(Ee,Ae){Ee=vt(Ee);var ke=re.objectStore(Y),Te=ke.keyPath==null,je=se==="put"||se==="add";if(!je&&se!=="delete"&&se!=="deleteRange")throw new Error("Invalid operation type: "+se);var Pe,$e=(ae||fe||{length:1}).length;if(ae&&fe&&ae.length!==fe.length)throw new Error("Given keys array must have same length as given values array.");if($e===0)return Ee({numFailures:0,failures:{},results:[],lastResult:void 0});function Ye(hn){++$n,qa(hn)}var Ze=[],et=[],$n=0;if(se==="deleteRange"){if(ge.type===4)return Ee({numFailures:$n,failures:et,results:[],lastResult:void 0});ge.type===3?Ze.push(Pe=ke.clear()):Ze.push(Pe=ke.delete(S(ge)))}else{var Te=je?Te?[fe,ae]:[fe,null]:[ae,null],Qe=Te[0],nn=Te[1];if(je)for(var rn=0;rn<$e;++rn)Ze.push(Pe=nn&&nn[rn]!==void 0?ke[se](Qe[rn],nn[rn]):ke[se](Qe[rn])),Pe.onerror=Ye;else for(rn=0;rn<$e;++rn)Ze.push(Pe=ke[se](Qe[rn])),Pe.onerror=Ye}function fc(hn){hn=hn.target.result,Ze.forEach(function(Ps,gh){return Ps.error!=null&&(et[gh]=Ps.error)}),Ee({numFailures:$n,failures:et,results:se==="delete"?ae:Ze.map(function(Ps){return Ps.result}),lastResult:hn})}Pe.onerror=function(hn){Ye(hn),fc(hn)},Pe.onsuccess=fc})},getMany:function(J){var re=J.trans,se=J.keys;return new Promise(function(ae,fe){ae=vt(ae);for(var ge,Ee=re.objectStore(Y),Ae=se.length,ke=new Array(Ae),Te=0,je=0,Pe=function(Ze){Ze=Ze.target,ke[Ze._pos]=Ze.result,++je===Te&&ae(ke)},$e=Ir(fe),Ye=0;Ye<Ae;++Ye)se[Ye]!=null&&((ge=Ee.get(se[Ye]))._pos=Ye,ge.onsuccess=Pe,ge.onerror=$e,++Te);Te===0&&ae(ke)})},get:function(J){var re=J.trans,se=J.key;return new Promise(function(ae,fe){ae=vt(ae);var ge=re.objectStore(Y).get(se);ge.onsuccess=function(Ee){return ae(Ee.target.result)},ge.onerror=Ir(fe)})},query:(Q=q,function(J){return new Promise(function(re,se){re=vt(re);var ae,fe,ge,Te=J.trans,Ee=J.values,Ae=J.limit,Pe=J.query,ke=Ae===1/0?void 0:Ae,je=Pe.index,Pe=Pe.range,Te=Te.objectStore(Y),je=je.isPrimaryKey?Te:Te.index(je.name),Pe=S(Pe);if(Ae===0)return re({result:[]});Q?((ke=Ee?je.getAll(Pe,ke):je.getAllKeys(Pe,ke)).onsuccess=function($e){return re({result:$e.target.result})},ke.onerror=Ir(se)):(ae=0,fe=!Ee&&"openKeyCursor"in je?je.openKeyCursor(Pe):je.openCursor(Pe),ge=[],fe.onsuccess=function($e){var Ye=fe.result;return Ye?(ge.push(Ee?Ye.value:Ye.primaryKey),++ae===Ae?re({result:ge}):void Ye.continue()):re({result:ge})},fe.onerror=Ir(se))})}),openCursor:function(J){var re=J.trans,se=J.values,ae=J.query,fe=J.reverse,ge=J.unique;return new Promise(function(Ee,Ae){Ee=vt(Ee);var je=ae.index,ke=ae.range,Te=re.objectStore(Y),Te=je.isPrimaryKey?Te:Te.index(je.name),je=fe?ge?"prevunique":"prev":ge?"nextunique":"next",Pe=!se&&"openKeyCursor"in Te?Te.openKeyCursor(S(ke),je):Te.openCursor(S(ke),je);Pe.onerror=Ir(Ae),Pe.onsuccess=vt(function($e){var Ye,Ze,et,$n,Qe=Pe.result;Qe?(Qe.___id=++UC,Qe.done=!1,Ye=Qe.continue.bind(Qe),Ze=(Ze=Qe.continuePrimaryKey)&&Ze.bind(Qe),et=Qe.advance.bind(Qe),$n=function(){throw new Error("Cursor not stopped")},Qe.trans=re,Qe.stop=Qe.continue=Qe.continuePrimaryKey=Qe.advance=function(){throw new Error("Cursor not started")},Qe.fail=vt(Ae),Qe.next=function(){var nn=this,rn=1;return this.start(function(){return rn--?nn.continue():nn.stop()}).then(function(){return nn})},Qe.start=function(nn){function rn(){if(Pe.result)try{nn()}catch(hn){Qe.fail(hn)}else Qe.done=!0,Qe.start=function(){throw new Error("Cursor behind last entry")},Qe.stop()}var fc=new Promise(function(hn,Ps){hn=vt(hn),Pe.onerror=Ir(Ps),Qe.fail=Ps,Qe.stop=function(gh){Qe.stop=Qe.continue=Qe.continuePrimaryKey=Qe.advance=$n,hn(gh)}});return Pe.onsuccess=vt(function(hn){Pe.onsuccess=rn,rn()}),Qe.continue=Ye,Qe.continuePrimaryKey=Ze,Qe.advance=et,rn(),fc},Ee(Qe)):Ee(null)},Ae)})},count:function(J){var re=J.query,se=J.trans,ae=re.index,fe=re.range;return new Promise(function(ge,Ee){var Ae=se.objectStore(Y),ke=ae.isPrimaryKey?Ae:Ae.index(ae.name),Ae=S(fe),ke=Ae?ke.count(Ae):ke.count();ke.onsuccess=vt(function(Te){return ge(Te.target.result)}),ke.onerror=Ir(Ee)})}}}var j,D,B,te=(D=H,B=Uv((j=d).objectStoreNames),{schema:{name:j.name,tables:B.map(function(ie){return D.objectStore(ie)}).map(function(ie){var Q=ie.keyPath,re=ie.autoIncrement,Y=a(Q),J={},re={name:ie.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Q==null,compound:Y,keyPath:Q,autoIncrement:re,unique:!0,extractKey:Zf(Q)},indexes:Uv(ie.indexNames).map(function(se){return ie.index(se)}).map(function(ge){var ae=ge.name,fe=ge.unique,Ee=ge.multiEntry,ge=ge.keyPath,Ee={name:ae,compound:a(ge),keyPath:ge,unique:fe,multiEntry:Ee,extractKey:Zf(ge)};return J[Ya(ge)]=Ee}),getIndexByKeyPath:function(se){return J[Ya(se)]}};return J[":id"]=re.primaryKey,Q!=null&&(J[Ya(Q)]=re.primaryKey),re})},hasGetAll:0<B.length&&"getAll"in D.objectStore(B[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),H=te.schema,q=te.hasGetAll,te=H.tables.map(T),V={};return te.forEach(function(ie){return V[ie.name]=ie}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(ie){if(!V[ie])throw new Error("Table '".concat(ie,"' not found"));return V[ie]},MIN_KEY:-1/0,MAX_KEY:Qa(h),schema:H}}function VC(d,h,b,S){var T=b.IDBKeyRange;return b.indexedDB,{dbcore:(S=zC(h,T,S),d.dbcore.reduce(function(j,D){return D=D.create,r(r({},j),D(j))},S))}}function tc(d,S){var b=S.db,S=VC(d._middlewares,b,d._deps,S);d.core=S.dbcore,d.tables.forEach(function(T){var j=T.name;d.core.schema.tables.some(function(D){return D.name===j})&&(T.core=d.core.table(j),d[j]instanceof d.Table&&(d[j].core=T.core))})}function nc(d,h,b,S){b.forEach(function(T){var j=S[T];h.forEach(function(D){var B=function H(q,te){return x(q,te)||(q=u(q))&&H(q,te)}(D,T);(!B||"value"in B&&B.value===void 0)&&(D===d.Transaction.prototype||D instanceof d.Transaction?_(D,T,{get:function(){return this.table(T)},set:function(H){m(this,T,{value:H,writable:!0,configurable:!0,enumerable:!0})}}):D[T]=new d.Table(T,j))})})}function Xf(d,h){h.forEach(function(b){for(var S in b)b[S]instanceof d.Table&&delete b[S]})}function KC(d,h){return d._cfg.version-h._cfg.version}function WC(d,h,b,S){var T=d._dbSchema;b.objectStoreNames.contains("$meta")&&!T.$meta&&(T.$meta=Jf("$meta",Vv("")[0],[]),d._storeNames.push("$meta"));var j=d._createTransaction("readwrite",d._storeNames,T);j.create(b),j._completion.catch(S);var D=j._reject.bind(j),B=Ne.transless||Ne;ki(function(){return Ne.trans=j,Ne.transless=B,h!==0?(tc(d,b),q=h,((H=j).storeNames.includes("$meta")?H.table("$meta").get("version").then(function(te){return te??q}):Ce.resolve(q)).then(function(te){return ie=te,Q=j,Y=b,J=[],te=(V=d)._versions,re=V._dbSchema=ic(0,V.idbdb,Y),(te=te.filter(function(se){return se._cfg.version>=ie})).length!==0?(te.forEach(function(se){J.push(function(){var ae=re,fe=se._cfg.dbschema;sc(V,ae,Y),sc(V,fe,Y),re=V._dbSchema=fe;var ge=eh(ae,fe);ge.add.forEach(function(je){th(Y,je[0],je[1].primKey,je[1].indexes)}),ge.change.forEach(function(je){if(je.recreate)throw new be.Upgrade("Not yet support for changing primary key");var Pe=Y.objectStore(je.name);je.add.forEach(function($e){return rc(Pe,$e)}),je.change.forEach(function($e){Pe.deleteIndex($e.name),rc(Pe,$e)}),je.del.forEach(function($e){return Pe.deleteIndex($e)})});var Ee=se._cfg.contentUpgrade;if(Ee&&se._cfg.version>ie){tc(V,Y),Q._memoizedTables={};var Ae=M(fe);ge.del.forEach(function(je){Ae[je]=ae[je]}),Xf(V,[V.Transaction.prototype]),nc(V,[V.Transaction.prototype],o(Ae),Ae),Q.schema=Ae;var ke,Te=U(Ee);return Te&&So(),ge=Ce.follow(function(){var je;(ke=Ee(Q))&&Te&&(je=Ei.bind(null,null),ke.then(je,je))}),ke&&typeof ke.then=="function"?Ce.resolve(ke):ge.then(function(){return ke})}}),J.push(function(ae){var fe,ge,Ee=se._cfg.dbschema;fe=Ee,ge=ae,[].slice.call(ge.db.objectStoreNames).forEach(function(Ae){return fe[Ae]==null&&ge.db.deleteObjectStore(Ae)}),Xf(V,[V.Transaction.prototype]),nc(V,[V.Transaction.prototype],V._storeNames,V._dbSchema),Q.schema=V._dbSchema}),J.push(function(ae){V.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(V.idbdb.version/10)===se._cfg.version?(V.idbdb.deleteObjectStore("$meta"),delete V._dbSchema.$meta,V._storeNames=V._storeNames.filter(function(fe){return fe!=="$meta"})):ae.objectStore("$meta").put(se._cfg.version,"version"))})}),function se(){return J.length?Ce.resolve(J.shift()(Q.idbtrans)).then(se):Ce.resolve()}().then(function(){zv(re,Y)})):Ce.resolve();var V,ie,Q,Y,J,re}).catch(D)):(o(T).forEach(function(te){th(b,te,T[te].primKey,T[te].indexes)}),tc(d,b),void Ce.follow(function(){return d.on.populate.fire(j)}).catch(D));var H,q})}function HC(d,h){zv(d._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var b=ic(0,d.idbdb,h);sc(d,d._dbSchema,h);for(var S=0,T=eh(b,d._dbSchema).change;S<T.length;S++){var j=function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var B=h.objectStore(D.name);D.add.forEach(function(H){me&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(H.src)),rc(B,H)})}(T[S]);if(typeof j=="object")return j.value}}function eh(d,h){var b,S={del:[],add:[],change:[]};for(b in d)h[b]||S.del.push(b);for(b in h){var T=d[b],j=h[b];if(T){var D={name:b,def:j,recreate:!1,del:[],add:[],change:[]};if(""+(T.primKey.keyPath||"")!=""+(j.primKey.keyPath||"")||T.primKey.auto!==j.primKey.auto)D.recreate=!0,S.change.push(D);else{var B=T.idxByName,H=j.idxByName,q=void 0;for(q in B)H[q]||D.del.push(q);for(q in H){var te=B[q],V=H[q];te?te.src!==V.src&&D.change.push(V):D.add.push(V)}(0<D.del.length||0<D.add.length||0<D.change.length)&&S.change.push(D)}}else S.add.push([b,j])}return S}function th(d,h,b,S){var T=d.db.createObjectStore(h,b.keyPath?{keyPath:b.keyPath,autoIncrement:b.auto}:{autoIncrement:b.auto});return S.forEach(function(j){return rc(T,j)}),T}function zv(d,h){o(d).forEach(function(b){h.db.objectStoreNames.contains(b)||(me&&console.debug("Dexie: Creating missing table",b),th(h,b,d[b].primKey,d[b].indexes))})}function rc(d,h){d.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function ic(d,h,b){var S={};return v(h.objectStoreNames,0).forEach(function(T){for(var j=b.objectStore(T),D=Yf(Bv(q=j.keyPath),q||"",!0,!1,!!j.autoIncrement,q&&typeof q!="string",!0),B=[],H=0;H<j.indexNames.length;++H){var te=j.index(j.indexNames[H]),q=te.keyPath,te=Yf(te.name,q,!!te.unique,!!te.multiEntry,!1,q&&typeof q!="string",!1);B.push(te)}S[T]=Jf(T,D,B)}),S}function sc(d,h,b){for(var S=b.db.objectStoreNames,T=0;T<S.length;++T){var j=S[T],D=b.objectStore(j);d._hasGetAll="getAll"in D;for(var B=0;B<D.indexNames.length;++B){var H=D.indexNames[B],q=D.index(H).keyPath,te=typeof q=="string"?q:"["+v(q).join("+")+"]";!h[j]||(q=h[j].idxByName[te])&&(q.name=H,delete h[j].idxByName[te],h[j].idxByName[H]=q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function Vv(d){return d.split(",").map(function(h,b){var j=h.split(":"),S=(T=j[1])===null||T===void 0?void 0:T.trim(),T=(h=j[0].trim()).replace(/([&*]|\+\+)/g,""),j=/^\[/.test(T)?T.match(/^\[(.*)\]$/)[1].split("+"):T;return Yf(T,j||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),a(j),b===0,S)})}var qC=(To.prototype._createTableSchema=Jf,To.prototype._parseIndexSyntax=Vv,To.prototype._parseStoresSpec=function(d,h){var b=this;o(d).forEach(function(S){if(d[S]!==null){var T=b._parseIndexSyntax(d[S]),j=T.shift();if(!j)throw new be.Schema("Invalid schema for table "+S+": "+d[S]);if(j.unique=!0,j.multi)throw new be.Schema("Primary key cannot be multiEntry*");T.forEach(function(D){if(D.auto)throw new be.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new be.Schema("Index must have a name and cannot be an empty string")}),T=b._createTableSchema(S,j,T),h[S]=T}})},To.prototype.stores=function(b){var h=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,b):b;var b=h._versions,S={},T={};return b.forEach(function(j){l(S,j._cfg.storesSource),T=j._cfg.dbschema={},j._parseStoresSpec(S,T)}),h._dbSchema=T,Xf(h,[h._allTables,h,h.Transaction.prototype]),nc(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],o(T),T),h._storeNames=o(T),this},To.prototype.upgrade=function(d){return this._cfg.contentUpgrade=pe(this._cfg.contentUpgrade||We,d),this},To);function To(){}function nh(d,h){var b=d._dbNamesDB;return b||(b=d._dbNamesDB=new Zr(Qu,{addons:[],indexedDB:d,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),b.table("dbnames")}function rh(d){return d&&typeof d.databases=="function"}function ih(d){return ki(function(){return Ne.letThrough=!0,d()})}function sh(d){return!("from"in d)}var tn=function(d,h){if(!this){var b=new tn;return d&&"d"in d&&l(b,d),b}l(this,arguments.length?{d:1,from:d,to:1<arguments.length?h:d}:{d:0})};function Ja(d,h,b){var S=rt(h,b);if(!isNaN(S)){if(0<S)throw RangeError();if(sh(d))return l(d,{from:h,to:b,d:1});var T=d.l,S=d.r;if(rt(b,d.from)<0)return T?Ja(T,h,b):d.l={from:h,to:b,d:1,l:null,r:null},Wv(d);if(0<rt(h,d.to))return S?Ja(S,h,b):d.r={from:h,to:b,d:1,l:null,r:null},Wv(d);rt(h,d.from)<0&&(d.from=h,d.l=null,d.d=S?S.d+1:1),0<rt(b,d.to)&&(d.to=b,d.r=null,d.d=d.l?d.l.d+1:1),b=!d.r,T&&!d.l&&Za(d,T),S&&b&&Za(d,S)}}function Za(d,h){sh(h)||function b(S,H){var j=H.from,D=H.to,B=H.l,H=H.r;Ja(S,j,D),B&&b(S,B),H&&b(S,H)}(d,h)}function Kv(d,h){var b=oc(h),S=b.next();if(S.done)return!1;for(var T=S.value,j=oc(d),D=j.next(T.from),B=D.value;!S.done&&!D.done;){if(rt(B.from,T.to)<=0&&0<=rt(B.to,T.from))return!0;rt(T.from,B.from)<0?T=(S=b.next(B.from)).value:B=(D=j.next(T.from)).value}return!1}function oc(d){var h=sh(d)?null:{s:0,n:d};return{next:function(b){for(var S=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,S)for(;h.n.l&&rt(b,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!S||rt(b,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function Wv(d){var h,b,S=(((h=d.r)===null||h===void 0?void 0:h.d)||0)-(((b=d.l)===null||b===void 0?void 0:b.d)||0),T=1<S?"r":S<-1?"l":"";T&&(h=T=="r"?"l":"r",b=r({},d),S=d[T],d.from=S.from,d.to=S.to,d[T]=S[T],b[T]=S[h],(d[h]=b).d=Hv(b)),d.d=Hv(d)}function Hv(b){var h=b.r,b=b.l;return(h?b?Math.max(h.d,b.d):h.d:b?b.d:0)+1}function ac(d,h){return o(h).forEach(function(b){d[b]?Za(d[b],h[b]):d[b]=function S(T){var j,D,B={};for(j in T)f(T,j)&&(D=T[j],B[j]=!D||typeof D!="object"||ve.has(D.constructor)?D:S(D));return B}(h[b])}),d}function oh(d,h){return d.all||h.all||Object.keys(d).some(function(b){return h[b]&&Kv(h[b],d[b])})}p(tn.prototype,((Qn={add:function(d){return Za(this,d),this},addKey:function(d){return Ja(this,d,d),this},addKeys:function(d){var h=this;return d.forEach(function(b){return Ja(h,b,b)}),this},hasKey:function(d){var h=oc(this).next(d).value;return h&&rt(h.from,d)<=0&&0<=rt(h.to,d)}})[Oe]=function(){return oc(this)},Qn));var Cs={},ah={},lh=!1;function lc(d){ac(ah,d),lh||(lh=!0,setTimeout(function(){lh=!1,uh(ah,!(ah={}))},0))}function uh(d,h){h===void 0&&(h=!1);var b=new Set;if(d.all)for(var S=0,T=Object.values(Cs);S<T.length;S++)qv(D=T[S],d,b,h);else for(var j in d){var D,B=/^idb\:\/\/(.*)\/(.*)\//.exec(j);B&&(j=B[1],B=B[2],(D=Cs["idb://".concat(j,"/").concat(B)])&&qv(D,d,b,h))}b.forEach(function(H){return H()})}function qv(d,h,b,S){for(var T=[],j=0,D=Object.entries(d.queries.query);j<D.length;j++){for(var B=D[j],H=B[0],q=[],te=0,V=B[1];te<V.length;te++){var ie=V[te];oh(h,ie.obsSet)?ie.subscribers.forEach(function(re){return b.add(re)}):S&&q.push(ie)}S&&T.push([H,q])}if(S)for(var Q=0,Y=T;Q<Y.length;Q++){var J=Y[Q],H=J[0],q=J[1];d.queries.query[H]=q}}function GC(d){var h=d._state,b=d._deps.indexedDB;if(h.isBeingOpened||d.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?Ot(h.dbOpenError):d});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var S=h.openCanceller,T=Math.round(10*d.verno),j=!1;function D(){if(h.openCanceller!==S)throw new be.DatabaseClosed("db.open() was cancelled")}function B(){return new Ce(function(ie,Q){if(D(),!b)throw new be.MissingAPI;var Y=d.name,J=h.autoSchema||!T?b.open(Y):b.open(Y,T);if(!J)throw new be.MissingAPI;J.onerror=Ir(Q),J.onblocked=vt(d._fireOnBlocked),J.onupgradeneeded=vt(function(re){var se;te=J.transaction,h.autoSchema&&!d._options.allowEmptyDB?(J.onerror=qa,te.abort(),J.result.close(),(se=b.deleteDatabase(Y)).onsuccess=se.onerror=vt(function(){Q(new be.NoSuchDatabase("Database ".concat(Y," doesnt exist")))})):(te.onerror=Ir(Q),re=re.oldVersion>Math.pow(2,62)?0:re.oldVersion,V=re<1,d.idbdb=J.result,j&&HC(d,te),WC(d,re/10,te,Q))},Q),J.onsuccess=vt(function(){te=null;var re,se,ae,fe,ge,Ee=d.idbdb=J.result,Ae=v(Ee.objectStoreNames);if(0<Ae.length)try{var ke=Ee.transaction((fe=Ae).length===1?fe[0]:fe,"readonly");if(h.autoSchema)se=Ee,ae=ke,(re=d).verno=se.version/10,ae=re._dbSchema=ic(0,se,ae),re._storeNames=v(se.objectStoreNames,0),nc(re,[re._allTables],o(ae),ae);else if(sc(d,d._dbSchema,ke),((ge=eh(ic(0,(ge=d).idbdb,ke),ge._dbSchema)).add.length||ge.change.some(function(Te){return Te.add.length||Te.change.length}))&&!j)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ee.close(),T=Ee.version+1,j=!0,ie(B());tc(d,ke)}catch{}ko.push(d),Ee.onversionchange=vt(function(Te){h.vcFired=!0,d.on("versionchange").fire(Te)}),Ee.onclose=vt(function(){d.close({disableAutoOpen:!1})}),V&&(ge=d._deps,ke=Y,Ee=ge.indexedDB,ge=ge.IDBKeyRange,rh(Ee)||ke===Qu||nh(Ee,ge).put({name:ke}).catch(We)),ie()},Q)}).catch(function(ie){switch(ie==null?void 0:ie.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),B();break;case"VersionError":if(0<T)return T=0,B()}return Ce.reject(ie)})}var H,q=h.dbReadyResolve,te=null,V=!1;return Ce.race([S,(typeof navigator>"u"?Ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ie){function Q(){return indexedDB.databases().finally(ie)}H=setInterval(Q,100),Q()}).finally(function(){return clearInterval(H)}):Promise.resolve()).then(B)]).then(function(){return D(),h.onReadyBeingFired=[],Ce.resolve(ih(function(){return d.on.ready.fire(d.vip)})).then(function ie(){if(0<h.onReadyBeingFired.length){var Q=h.onReadyBeingFired.reduce(pe,We);return h.onReadyBeingFired=[],Ce.resolve(ih(function(){return Q(d.vip)})).then(ie)}})}).finally(function(){h.openCanceller===S&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(ie){h.dbOpenError=ie;try{te&&te.abort()}catch{}return S===h.openCanceller&&d._close(),Ot(ie)}).finally(function(){h.openComplete=!0,q()}).then(function(){var ie;return V&&(ie={},d.tables.forEach(function(Q){Q.schema.indexes.forEach(function(Y){Y.name&&(ie["idb://".concat(d.name,"/").concat(Q.name,"/").concat(Y.name)]=new tn(-1/0,[[[]]]))}),ie["idb://".concat(d.name,"/").concat(Q.name,"/")]=ie["idb://".concat(d.name,"/").concat(Q.name,"/:dels")]=new tn(-1/0,[[[]]])}),Pi(Ga).fire(ie),uh(ie,!0)),d})}function ch(d){function h(j){return d.next(j)}var b=T(h),S=T(function(j){return d.throw(j)});function T(j){return function(H){var B=j(H),H=B.value;return B.done?H:H&&typeof H.then=="function"?H.then(b,S):a(H)?Promise.all(H).then(b,S):b(H)}}return T(h)()}function uc(d,h,b){for(var S=a(d)?d.slice():[d],T=0;T<b;++T)S.push(h);return S}var QC={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return r(r({},d),{table:function(h){var b=d.table(h),S=b.schema,T={},j=[];function D(V,ie,Q){var Y=Ya(V),J=T[Y]=T[Y]||[],re=V==null?0:typeof V=="string"?1:V.length,se=0<ie,se=r(r({},Q),{name:se?"".concat(Y,"(virtual-from:").concat(Q.name,")"):Q.name,lowLevelIndex:Q,isVirtual:se,keyTail:ie,keyLength:re,extractKey:Zf(V),unique:!se&&Q.unique});return J.push(se),se.isPrimaryKey||j.push(se),1<re&&D(re===2?V[0]:V.slice(0,re-1),ie+1,Q),J.sort(function(ae,fe){return ae.keyTail-fe.keyTail}),se}h=D(S.primaryKey.keyPath,0,S.primaryKey),T[":id"]=[h];for(var B=0,H=S.indexes;B<H.length;B++){var q=H[B];D(q.keyPath,0,q)}function te(V){var ie,Q=V.query.index;return Q.isVirtual?r(r({},V),{query:{index:Q.lowLevelIndex,range:(ie=V.query.range,Q=Q.keyTail,{type:ie.type===1?2:ie.type,lower:uc(ie.lower,ie.lowerOpen?d.MAX_KEY:d.MIN_KEY,Q),lowerOpen:!0,upper:uc(ie.upper,ie.upperOpen?d.MIN_KEY:d.MAX_KEY,Q),upperOpen:!0})}}):V}return r(r({},b),{schema:r(r({},S),{primaryKey:h,indexes:j,getIndexByKeyPath:function(V){return(V=T[Ya(V)])&&V[0]}}),count:function(V){return b.count(te(V))},query:function(V){return b.query(te(V))},openCursor:function(V){var ie=V.query.index,Q=ie.keyTail,Y=ie.isVirtual,J=ie.keyLength;return Y?b.openCursor(te(V)).then(function(se){return se&&re(se)}):b.openCursor(V);function re(se){return Object.create(se,{continue:{value:function(ae){ae!=null?se.continue(uc(ae,V.reverse?d.MAX_KEY:d.MIN_KEY,Q)):V.unique?se.continue(se.key.slice(0,J).concat(V.reverse?d.MIN_KEY:d.MAX_KEY,Q)):se.continue()}},continuePrimaryKey:{value:function(ae,fe){se.continuePrimaryKey(uc(ae,d.MAX_KEY,Q),fe)}},primaryKey:{get:function(){return se.primaryKey}},key:{get:function(){var ae=se.key;return J===1?ae[0]:ae.slice(0,J)}},value:{get:function(){return se.value}}})}}})}})}};function dh(d,h,b,S){return b=b||{},S=S||"",o(d).forEach(function(T){var j,D,B;f(h,T)?(j=d[T],D=h[T],typeof j=="object"&&typeof D=="object"&&j&&D?(B=le(j))!==le(D)?b[S+T]=h[T]:B==="Object"?dh(j,D,b,S+T+"."):j!==D&&(b[S+T]=h[T]):j!==D&&(b[S+T]=h[T])):b[S+T]=void 0}),o(h).forEach(function(T){f(d,T)||(b[S+T]=h[T])}),b}function fh(d,h){return h.type==="delete"?h.keys:h.keys||h.values.map(d.extractKey)}var YC={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return r(r({},d),{table:function(h){var b=d.table(h),S=b.schema.primaryKey;return r(r({},b),{mutate:function(T){var j=Ne.trans,D=j.table(h).hook,B=D.deleting,H=D.creating,q=D.updating;switch(T.type){case"add":if(H.fire===We)break;return j._promise("readwrite",function(){return te(T)},!0);case"put":if(H.fire===We&&q.fire===We)break;return j._promise("readwrite",function(){return te(T)},!0);case"delete":if(B.fire===We)break;return j._promise("readwrite",function(){return te(T)},!0);case"deleteRange":if(B.fire===We)break;return j._promise("readwrite",function(){return function V(ie,Q,Y){return b.query({trans:ie,values:!1,query:{index:S,range:Q},limit:Y}).then(function(J){var re=J.result;return te({type:"delete",keys:re,trans:ie}).then(function(se){return 0<se.numFailures?Promise.reject(se.failures[0]):re.length<Y?{failures:[],numFailures:0,lastResult:void 0}:V(ie,r(r({},Q),{lower:re[re.length-1],lowerOpen:!0}),Y)})})}(T.trans,T.range,1e4)},!0)}return b.mutate(T);function te(V){var ie,Q,Y,J=Ne.trans,re=V.keys||fh(S,V);if(!re)throw new Error("Keys missing");return(V=V.type==="add"||V.type==="put"?r(r({},V),{keys:re}):r({},V)).type!=="delete"&&(V.values=i([],V.values)),V.keys&&(V.keys=i([],V.keys)),ie=b,Y=re,((Q=V).type==="add"?Promise.resolve([]):ie.getMany({trans:Q.trans,keys:Y,cache:"immutable"})).then(function(se){var ae=re.map(function(fe,ge){var Ee,Ae,ke,Te=se[ge],je={onerror:null,onsuccess:null};return V.type==="delete"?B.fire.call(je,fe,Te,J):V.type==="add"||Te===void 0?(Ee=H.fire.call(je,fe,V.values[ge],J),fe==null&&Ee!=null&&(V.keys[ge]=fe=Ee,S.outbound||I(V.values[ge],S.keyPath,fe))):(Ee=dh(Te,V.values[ge]),(Ae=q.fire.call(je,Ee,fe,Te,J))&&(ke=V.values[ge],Object.keys(Ae).forEach(function(Pe){f(ke,Pe)?ke[Pe]=Ae[Pe]:I(ke,Pe,Ae[Pe])}))),je});return b.mutate(V).then(function(fe){for(var ge=fe.failures,Ee=fe.results,Ae=fe.numFailures,fe=fe.lastResult,ke=0;ke<re.length;++ke){var Te=(Ee||re)[ke],je=ae[ke];Te==null?je.onerror&&je.onerror(ge[ke]):je.onsuccess&&je.onsuccess(V.type==="put"&&se[ke]?V.values[ke]:Te)}return{failures:ge,results:Ee,numFailures:Ae,lastResult:fe}}).catch(function(fe){return ae.forEach(function(ge){return ge.onerror&&ge.onerror(fe)}),Promise.reject(fe)})})}}})}})}};function Gv(d,h,b){try{if(!h||h.keys.length<d.length)return null;for(var S=[],T=0,j=0;T<h.keys.length&&j<d.length;++T)rt(h.keys[T],d[j])===0&&(S.push(b?ee(h.values[T]):h.values[T]),++j);return S.length===d.length?S:null}catch{return null}}var JC={stack:"dbcore",level:-1,create:function(d){return{table:function(h){var b=d.table(h);return r(r({},b),{getMany:function(S){if(!S.cache)return b.getMany(S);var T=Gv(S.keys,S.trans._cache,S.cache==="clone");return T?Ce.resolve(T):b.getMany(S).then(function(j){return S.trans._cache={keys:S.keys,values:S.cache==="clone"?ee(j):j},j})},mutate:function(S){return S.type!=="add"&&(S.trans._cache=null),b.mutate(S)}})}}}};function Qv(d,h){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function Yv(d,h){switch(d){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ZC={stack:"dbcore",level:0,name:"Observability",create:function(d){var h=d.schema.name,b=new tn(d.MIN_KEY,d.MAX_KEY);return r(r({},d),{transaction:function(S,T,j){if(Ne.subscr&&T!=="readonly")throw new be.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ne.querier));return d.transaction(S,T,j)},table:function(S){var T=d.table(S),j=T.schema,D=j.primaryKey,V=j.indexes,B=D.extractKey,H=D.outbound,q=D.autoIncrement&&V.filter(function(Q){return Q.compound&&Q.keyPath.includes(D.keyPath)}),te=r(r({},T),{mutate:function(Q){function Y(Pe){return Pe="idb://".concat(h,"/").concat(S,"/").concat(Pe),fe[Pe]||(fe[Pe]=new tn)}var J,re,se,ae=Q.trans,fe=Q.mutatedParts||(Q.mutatedParts={}),ge=Y(""),Ee=Y(":dels"),Ae=Q.type,je=Q.type==="deleteRange"?[Q.range]:Q.type==="delete"?[Q.keys]:Q.values.length<50?[fh(D,Q).filter(function(Pe){return Pe}),Q.values]:[],ke=je[0],Te=je[1],je=Q.trans._cache;return a(ke)?(ge.addKeys(ke),(je=Ae==="delete"||ke.length===Te.length?Gv(ke,je):null)||Ee.addKeys(ke),(je||Te)&&(J=Y,re=je,se=Te,j.indexes.forEach(function(Pe){var $e=J(Pe.name||"");function Ye(et){return et!=null?Pe.extractKey(et):null}function Ze(et){return Pe.multiEntry&&a(et)?et.forEach(function($n){return $e.addKey($n)}):$e.addKey(et)}(re||se).forEach(function(et,nn){var Qe=re&&Ye(re[nn]),nn=se&&Ye(se[nn]);rt(Qe,nn)!==0&&(Qe!=null&&Ze(Qe),nn!=null&&Ze(nn))})}))):ke?(Te={from:(Te=ke.lower)!==null&&Te!==void 0?Te:d.MIN_KEY,to:(Te=ke.upper)!==null&&Te!==void 0?Te:d.MAX_KEY},Ee.add(Te),ge.add(Te)):(ge.add(b),Ee.add(b),j.indexes.forEach(function(Pe){return Y(Pe.name).add(b)})),T.mutate(Q).then(function(Pe){return!ke||Q.type!=="add"&&Q.type!=="put"||(ge.addKeys(Pe.results),q&&q.forEach(function($e){for(var Ye=Q.values.map(function(Qe){return $e.extractKey(Qe)}),Ze=$e.keyPath.findIndex(function(Qe){return Qe===D.keyPath}),et=0,$n=Pe.results.length;et<$n;++et)Ye[et][Ze]=Pe.results[et];Y($e.name).addKeys(Ye)})),ae.mutatedParts=ac(ae.mutatedParts||{},fe),Pe})}}),V=function(Y){var J=Y.query,Y=J.index,J=J.range;return[Y,new tn((Y=J.lower)!==null&&Y!==void 0?Y:d.MIN_KEY,(J=J.upper)!==null&&J!==void 0?J:d.MAX_KEY)]},ie={get:function(Q){return[D,new tn(Q.key)]},getMany:function(Q){return[D,new tn().addKeys(Q.keys)]},count:V,query:V,openCursor:V};return o(ie).forEach(function(Q){te[Q]=function(Y){var J=Ne.subscr,re=!!J,se=Qv(Ne,T)&&Yv(Q,Y)?Y.obsSet={}:J;if(re){var ae=function(Te){return Te="idb://".concat(h,"/").concat(S,"/").concat(Te),se[Te]||(se[Te]=new tn)},fe=ae(""),ge=ae(":dels"),J=ie[Q](Y),re=J[0],J=J[1];if((Q==="query"&&re.isPrimaryKey&&!Y.values?ge:ae(re.name||"")).add(J),!re.isPrimaryKey){if(Q!=="count"){var Ee=Q==="query"&&H&&Y.values&&T.query(r(r({},Y),{values:!1}));return T[Q].apply(this,arguments).then(function(Te){if(Q==="query"){if(H&&Y.values)return Ee.then(function(Ye){return Ye=Ye.result,fe.addKeys(Ye),Te});var je=Y.values?Te.result.map(B):Te.result;(Y.values?fe:ge).addKeys(je)}else if(Q==="openCursor"){var Pe=Te,$e=Y.values;return Pe&&Object.create(Pe,{key:{get:function(){return ge.addKey(Pe.primaryKey),Pe.key}},primaryKey:{get:function(){var Ye=Pe.primaryKey;return ge.addKey(Ye),Ye}},value:{get:function(){return $e&&fe.addKey(Pe.primaryKey),Pe.value}}})}return Te})}ge.add(b)}}return T[Q].apply(this,arguments)}}),te}})}};function Jv(d,h,b){if(b.numFailures===0)return h;if(h.type==="deleteRange")return null;var S=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1;return b.numFailures===S?null:(h=r({},h),a(h.keys)&&(h.keys=h.keys.filter(function(T,j){return!(j in b.failures)})),"values"in h&&a(h.values)&&(h.values=h.values.filter(function(T,j){return!(j in b.failures)})),h)}function hh(d,h){return b=d,((S=h).lower===void 0||(S.lowerOpen?0<rt(b,S.lower):0<=rt(b,S.lower)))&&(d=d,(h=h).upper===void 0||(h.upperOpen?rt(d,h.upper)<0:rt(d,h.upper)<=0));var b,S}function Zv(d,h,ie,S,T,j){if(!ie||ie.length===0)return d;var D=h.query.index,B=D.multiEntry,H=h.query.range,q=S.schema.primaryKey.extractKey,te=D.extractKey,V=(D.lowLevelIndex||D).extractKey,ie=ie.reduce(function(Q,Y){var J=Q,re=[];if(Y.type==="add"||Y.type==="put")for(var se=new tn,ae=Y.values.length-1;0<=ae;--ae){var fe,ge=Y.values[ae],Ee=q(ge);se.hasKey(Ee)||(fe=te(ge),(B&&a(fe)?fe.some(function(Pe){return hh(Pe,H)}):hh(fe,H))&&(se.addKey(Ee),re.push(ge)))}switch(Y.type){case"add":var Ae=new tn().addKeys(h.values?Q.map(function($e){return q($e)}):Q),J=Q.concat(h.values?re.filter(function($e){return $e=q($e),!Ae.hasKey($e)&&(Ae.addKey($e),!0)}):re.map(function($e){return q($e)}).filter(function($e){return!Ae.hasKey($e)&&(Ae.addKey($e),!0)}));break;case"put":var ke=new tn().addKeys(Y.values.map(function($e){return q($e)}));J=Q.filter(function($e){return!ke.hasKey(h.values?q($e):$e)}).concat(h.values?re:re.map(function($e){return q($e)}));break;case"delete":var Te=new tn().addKeys(Y.keys);J=Q.filter(function($e){return!Te.hasKey(h.values?q($e):$e)});break;case"deleteRange":var je=Y.range;J=Q.filter(function($e){return!hh(q($e),je)})}return J},d);return ie===d?d:(ie.sort(function(Q,Y){return rt(V(Q),V(Y))||rt(q(Q),q(Y))}),h.limit&&h.limit<1/0&&(ie.length>h.limit?ie.length=h.limit:d.length===h.limit&&ie.length<h.limit&&(T.dirty=!0)),j?Object.freeze(ie):ie)}function Xv(d,h){return rt(d.lower,h.lower)===0&&rt(d.upper,h.upper)===0&&!!d.lowerOpen==!!h.lowerOpen&&!!d.upperOpen==!!h.upperOpen}function XC(d,h){return function(b,S,T,j){if(b===void 0)return S!==void 0?-1:0;if(S===void 0)return 1;if((S=rt(b,S))===0){if(T&&j)return 0;if(T)return 1;if(j)return-1}return S}(d.lower,h.lower,d.lowerOpen,h.lowerOpen)<=0&&0<=function(b,S,T,j){if(b===void 0)return S!==void 0?1:0;if(S===void 0)return-1;if((S=rt(b,S))===0){if(T&&j)return 0;if(T)return-1;if(j)return 1}return S}(d.upper,h.upper,d.upperOpen,h.upperOpen)}function eT(d,h,b,S){d.subscribers.add(b),S.addEventListener("abort",function(){var T,j;d.subscribers.delete(b),d.subscribers.size===0&&(T=d,j=h,setTimeout(function(){T.subscribers.size===0&&X(j,T)},3e3))})}var tT={stack:"dbcore",level:0,name:"Cache",create:function(d){var h=d.schema.name;return r(r({},d),{transaction:function(b,S,T){var j,D,B=d.transaction(b,S,T);return S==="readwrite"&&(D=(j=new AbortController).signal,T=function(H){return function(){if(j.abort(),S==="readwrite"){for(var q=new Set,te=0,V=b;te<V.length;te++){var ie=V[te],Q=Cs["idb://".concat(h,"/").concat(ie)];if(Q){var Y=d.table(ie),J=Q.optimisticOps.filter(function($e){return $e.trans===B});if(B._explicit&&H&&B.mutatedParts)for(var re=0,se=Object.values(Q.queries.query);re<se.length;re++)for(var ae=0,fe=(Ae=se[re]).slice();ae<fe.length;ae++)oh((ke=fe[ae]).obsSet,B.mutatedParts)&&(X(Ae,ke),ke.subscribers.forEach(function($e){return q.add($e)}));else if(0<J.length){Q.optimisticOps=Q.optimisticOps.filter(function($e){return $e.trans!==B});for(var ge=0,Ee=Object.values(Q.queries.query);ge<Ee.length;ge++)for(var Ae,ke,Te,je=0,Pe=(Ae=Ee[ge]).slice();je<Pe.length;je++)(ke=Pe[je]).res!=null&&B.mutatedParts&&(H&&!ke.dirty?(Te=Object.isFrozen(ke.res),Te=Zv(ke.res,ke.req,J,Y,ke,Te),ke.dirty?(X(Ae,ke),ke.subscribers.forEach(function($e){return q.add($e)})):Te!==ke.res&&(ke.res=Te,ke.promise=Ce.resolve({result:Te}))):(ke.dirty&&X(Ae,ke),ke.subscribers.forEach(function($e){return q.add($e)})))}}}q.forEach(function($e){return $e()})}}},B.addEventListener("abort",T(!1),{signal:D}),B.addEventListener("error",T(!1),{signal:D}),B.addEventListener("complete",T(!0),{signal:D})),B},table:function(b){var S=d.table(b),T=S.schema.primaryKey;return r(r({},S),{mutate:function(j){var D=Ne.trans;if(T.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return S.mutate(j);var B=Cs["idb://".concat(h,"/").concat(b)];return B?(D=S.mutate(j),j.type!=="add"&&j.type!=="put"||!(50<=j.values.length||fh(T,j).some(function(H){return H==null}))?(B.optimisticOps.push(j),j.mutatedParts&&lc(j.mutatedParts),D.then(function(H){0<H.numFailures&&(X(B.optimisticOps,j),(H=Jv(0,j,H))&&B.optimisticOps.push(H),j.mutatedParts&&lc(j.mutatedParts))}),D.catch(function(){X(B.optimisticOps,j),j.mutatedParts&&lc(j.mutatedParts)})):D.then(function(H){var q=Jv(0,r(r({},j),{values:j.values.map(function(te,V){var ie;return H.failures[V]?te:(te=(ie=T.keyPath)!==null&&ie!==void 0&&ie.includes(".")?ee(te):r({},te),I(te,T.keyPath,H.results[V]),te)})}),H);B.optimisticOps.push(q),queueMicrotask(function(){return j.mutatedParts&&lc(j.mutatedParts)})}),D):S.mutate(j)},query:function(j){if(!Qv(Ne,S)||!Yv("query",j))return S.query(j);var D=((q=Ne.trans)===null||q===void 0?void 0:q.db._options.cache)==="immutable",V=Ne,B=V.requery,H=V.signal,q=function(Y,J,re,se){var ae=Cs["idb://".concat(Y,"/").concat(J)];if(!ae)return[];if(!(J=ae.queries[re]))return[null,!1,ae,null];var fe=J[(se.query?se.query.index.name:null)||""];if(!fe)return[null,!1,ae,null];switch(re){case"query":var ge=fe.find(function(Ee){return Ee.req.limit===se.limit&&Ee.req.values===se.values&&Xv(Ee.req.query.range,se.query.range)});return ge?[ge,!0,ae,fe]:[fe.find(function(Ee){return("limit"in Ee.req?Ee.req.limit:1/0)>=se.limit&&(!se.values||Ee.req.values)&&XC(Ee.req.query.range,se.query.range)}),!1,ae,fe];case"count":return ge=fe.find(function(Ee){return Xv(Ee.req.query.range,se.query.range)}),[ge,!!ge,ae,fe]}}(h,b,"query",j),te=q[0],V=q[1],ie=q[2],Q=q[3];return te&&V?te.obsSet=j.obsSet:(V=S.query(j).then(function(Y){var J=Y.result;if(te&&(te.res=J),D){for(var re=0,se=J.length;re<se;++re)Object.freeze(J[re]);Object.freeze(J)}else Y.result=ee(J);return Y}).catch(function(Y){return Q&&te&&X(Q,te),Promise.reject(Y)}),te={obsSet:j.obsSet,promise:V,subscribers:new Set,type:"query",req:j,dirty:!1},Q?Q.push(te):(Q=[te],(ie=ie||(Cs["idb://".concat(h,"/").concat(b)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[j.query.index.name||""]=Q)),eT(te,Q,B,H),te.promise.then(function(Y){return{result:Zv(Y.result,j,ie==null?void 0:ie.optimisticOps,S,te,D)}})}})}})}};function cc(d,h){return new Proxy(d,{get:function(b,S,T){return S==="db"?h:Reflect.get(b,S,T)}})}var Zr=(Rt.prototype.version=function(d){if(isNaN(d)||d<.1)throw new be.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new be.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var h=this._versions,b=h.filter(function(S){return S._cfg.version===d})[0];return b||(b=new this.Version(d),h.push(b),h.sort(KC),b.stores({}),this._state.autoSchema=!1,b)},Rt.prototype._whenReady=function(d){var h=this;return this.idbdb&&(this._state.openComplete||Ne.letThrough||this._vip)?d():new Ce(function(b,S){if(h._state.openComplete)return S(new be.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void S(new be.DatabaseClosed);h.open().catch(We)}h._state.dbReadyPromise.then(b,S)}).then(d)},Rt.prototype.use=function(d){var h=d.stack,b=d.create,S=d.level,T=d.name;return T&&this.unuse({stack:h,name:T}),d=this._middlewares[h]||(this._middlewares[h]=[]),d.push({stack:h,create:b,level:S??10,name:T}),d.sort(function(j,D){return j.level-D.level}),this},Rt.prototype.unuse=function(d){var h=d.stack,b=d.name,S=d.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(T){return S?T.create!==S:!!b&&T.name!==b})),this},Rt.prototype.open=function(){var d=this;return Ss(fn,function(){return GC(d)})},Rt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var d=this._state,h=ko.indexOf(this);if(0<=h&&ko.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new Ce(function(b){d.dbReadyResolve=b}),d.openCanceller=new Ce(function(b,S){d.cancelOpen=S}))},Rt.prototype.close=function(b){var h=(b===void 0?{disableAutoOpen:!0}:b).disableAutoOpen,b=this._state;h?(b.isBeingOpened&&b.cancelOpen(new be.DatabaseClosed),this._close(),b.autoOpen=!1,b.dbOpenError=new be.DatabaseClosed):(this._close(),b.autoOpen=this._options.autoOpen||b.isBeingOpened,b.openComplete=!1,b.dbOpenError=null)},Rt.prototype.delete=function(d){var h=this;d===void 0&&(d={disableAutoOpen:!0});var b=0<arguments.length&&typeof arguments[0]!="object",S=this._state;return new Ce(function(T,j){function D(){h.close(d);var B=h._deps.indexedDB.deleteDatabase(h.name);B.onsuccess=vt(function(){var H,q,te;H=h._deps,q=h.name,te=H.indexedDB,H=H.IDBKeyRange,rh(te)||q===Qu||nh(te,H).delete(q).catch(We),T()}),B.onerror=Ir(j),B.onblocked=h._fireOnBlocked}if(b)throw new be.InvalidArgument("Invalid closeOptions argument to db.delete()");S.isBeingOpened?S.dbReadyPromise.then(D):D()})},Rt.prototype.backendDB=function(){return this.idbdb},Rt.prototype.isOpen=function(){return this.idbdb!==null},Rt.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},Rt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Rt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Rt.prototype,"tables",{get:function(){var d=this;return o(this._allTables).map(function(h){return d._allTables[h]})},enumerable:!1,configurable:!0}),Rt.prototype.transaction=function(){var d=(function(h,b,S){var T=arguments.length;if(T<2)throw new be.InvalidArgument("Too few arguments");for(var j=new Array(T-1);--T;)j[T-1]=arguments[T];return S=j.pop(),[h,W(j),S]}).apply(this,arguments);return this._transaction.apply(this,d)},Rt.prototype._transaction=function(d,h,b){var S=this,T=Ne.trans;T&&T.db===this&&d.indexOf("!")===-1||(T=null);var j,D,B=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(D=h.map(function(q){if(q=q instanceof S.Table?q.name:q,typeof q!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return q}),d=="r"||d===Wf)j=Wf;else{if(d!="rw"&&d!=Hf)throw new be.InvalidArgument("Invalid transaction mode: "+d);j=Hf}if(T){if(T.mode===Wf&&j===Hf){if(!B)throw new be.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");T=null}T&&D.forEach(function(q){if(T&&T.storeNames.indexOf(q)===-1){if(!B)throw new be.SubTransaction("Table "+q+" not included in parent transaction.");T=null}}),B&&T&&!T.active&&(T=null)}}catch(q){return T?T._promise(null,function(te,V){V(q)}):Ot(q)}var H=(function q(te,V,ie,Q,Y){return Ce.resolve().then(function(){var J=Ne.transless||Ne,re=te._createTransaction(V,ie,te._dbSchema,Q);if(re.explicit=!0,J={trans:re,transless:J},Q)re.idbtrans=Q.idbtrans;else try{re.create(),re.idbtrans._explicit=!0,te._state.PR1398_maxLoop=3}catch(fe){return fe.name===qe.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return q(te,V,ie,null,Y)})):Ot(fe)}var se,ae=U(Y);return ae&&So(),J=Ce.follow(function(){var fe;(se=Y.call(re,re))&&(ae?(fe=Ei.bind(null,null),se.then(fe,fe)):typeof se.next=="function"&&typeof se.throw=="function"&&(se=ch(se)))},J),(se&&typeof se.then=="function"?Ce.resolve(se).then(function(fe){return re.active?fe:Ot(new be.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):J.then(function(){return se})).then(function(fe){return Q&&re._resolve(),re._completion.then(function(){return fe})}).catch(function(fe){return re._reject(fe),Ot(fe)})})}).bind(null,this,j,D,T,b);return T?T._promise(j,H,"lock"):Ne.trans?Ss(Ne.transless,function(){return S._whenReady(H)}):this._whenReady(H)},Rt.prototype.table=function(d){if(!f(this._allTables,d))throw new be.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},Rt);function Rt(d,h){var b=this;this._middlewares={},this.verno=0;var S=Rt.dependencies;this._options=h=r({addons:Rt.addons,autoOpen:!0,indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},S=h.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var T,j,D,B,H,q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:We,dbReadyPromise:null,cancelOpen:We,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen};q.dbReadyPromise=new Ce(function(V){q.dbReadyResolve=V}),q.openCanceller=new Ce(function(V,ie){q.cancelOpen=ie}),this._state=q,this.name=d,this.on=Wa(this,"populate","blocked","versionchange","close",{ready:[pe,We]}),this.once=function(V,ie){var Q=function(){for(var Y=[],J=0;J<arguments.length;J++)Y[J]=arguments[J];b.on(V).unsubscribe(Q),ie.apply(b,Y)};return b.on(V,Q)},this.on.ready.subscribe=w(this.on.ready.subscribe,function(V){return function(ie,Q){Rt.vip(function(){var Y,J=b._state;J.openComplete?(J.dbOpenError||Ce.resolve().then(ie),Q&&V(ie)):J.onReadyBeingFired?(J.onReadyBeingFired.push(ie),Q&&V(ie)):(V(ie),Y=b,Q||V(function re(){Y.on.ready.unsubscribe(ie),Y.on.ready.unsubscribe(re)}))})}}),this.Collection=(T=this,Ha($C.prototype,function(se,re){this.db=T;var Q=Pv,Y=null;if(re)try{Q=re()}catch(ae){Y=ae}var J=se._ctx,re=J.table,se=re.hook.reading.fire;this._ctx={table:re,index:J.index,isPrimKey:!J.index||re.schema.primKey.keyPath&&J.index===re.schema.primKey.name,range:Q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Y,or:J.or,valueMapper:se!==Ft?se:null}})),this.Table=(j=this,Ha(Dv.prototype,function(V,ie,Q){this.db=j,this._tx=Q,this.name=V,this.schema=ie,this.hook=j._allTables[V]?j._allTables[V].hook:Wa(null,{creating:[ce,We],reading:[P,Ft],updating:[N,We],deleting:[L,We]})})),this.Transaction=(D=this,Ha(BC.prototype,function(V,ie,Q,Y,J){var re=this;V!=="readonly"&&ie.forEach(function(se){se=(se=Q[se])===null||se===void 0?void 0:se.yProps,se&&(ie=ie.concat(se.map(function(ae){return ae.updatesTable})))}),this.db=D,this.mode=V,this.storeNames=ie,this.schema=Q,this.chromeTransactionDurability=Y,this.idbtrans=null,this.on=Wa(this,"complete","error","abort"),this.parent=J||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce(function(se,ae){re._resolve=se,re._reject=ae}),this._completion.then(function(){re.active=!1,re.on.complete.fire()},function(se){var ae=re.active;return re.active=!1,re.on.error.fire(se),re.parent?re.parent._reject(se):ae&&re.idbtrans&&re.idbtrans.abort(),Ot(se)})})),this.Version=(B=this,Ha(qC.prototype,function(V){this.db=B,this._cfg={version:V,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(H=this,Ha(Fv.prototype,function(V,ie,Q){if(this.db=H,this._ctx={table:V,index:ie===":id"?null:ie,or:Q},this._cmp=this._ascending=rt,this._descending=function(Y,J){return rt(J,Y)},this._max=function(Y,J){return 0<rt(Y,J)?Y:J},this._min=function(Y,J){return rt(Y,J)<0?Y:J},this._IDBKeyRange=H._deps.IDBKeyRange,!this._IDBKeyRange)throw new be.MissingAPI})),this.on("versionchange",function(V){0<V.newVersion?console.warn("Another connection wants to upgrade database '".concat(b.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(b.name,"'. Closing db now to resume the delete request.")),b.close({disableAutoOpen:!1})}),this.on("blocked",function(V){!V.newVersion||V.newVersion<V.oldVersion?console.warn("Dexie.delete('".concat(b.name,"') was blocked")):console.warn("Upgrade '".concat(b.name,"' blocked by other connection holding version ").concat(V.oldVersion/10))}),this._maxKey=Qa(h.IDBKeyRange),this._createTransaction=function(V,ie,Q,Y){return new b.Transaction(V,ie,Q,b._options.chromeTransactionDurability,Y)},this._fireOnBlocked=function(V){b.on("blocked").fire(V),ko.filter(function(ie){return ie.name===b.name&&ie!==b&&!ie._state.vcFired}).map(function(ie){return ie.on("versionchange").fire(V)})},this.use(JC),this.use(tT),this.use(ZC),this.use(QC),this.use(YC);var te=new Proxy(this,{get:function(V,ie,Q){if(ie==="_vip")return!0;if(ie==="table")return function(J){return cc(b.table(J),te)};var Y=Reflect.get(V,ie,Q);return Y instanceof Dv?cc(Y,te):ie==="tables"?Y.map(function(J){return cc(J,te)}):ie==="_createTransaction"?function(){return cc(Y.apply(this,arguments),te)}:Y}});this.vip=te,S.forEach(function(V){return V(b)})}var dc,Qn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",nT=(ph.prototype.subscribe=function(d,h,b){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:h,complete:b})},ph.prototype[Qn]=function(){return this},ph);function ph(d){this._subscribe=d}try{dc={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{dc={indexedDB:null,IDBKeyRange:null}}function e0(d){var h,b=!1,S=new nT(function(T){var j=U(d),D,B=!1,H={},q={},te={get closed(){return B},unsubscribe:function(){B||(B=!0,D&&D.abort(),V&&Pi.storagemutated.unsubscribe(Q))}};T.start&&T.start(te);var V=!1,ie=function(){return Kf(Y)},Q=function(J){ac(H,J),oh(q,H)&&ie()},Y=function(){var J,re,se;!B&&dc.indexedDB&&(H={},J={},D&&D.abort(),D=new AbortController,se=function(ae){var fe=_o();try{j&&So();var ge=ki(d,ae);return ge=j?ge.finally(Ei):ge}finally{fe&&xo()}}(re={subscr:J,signal:D.signal,requery:ie,querier:d,trans:null}),Promise.resolve(se).then(function(ae){b=!0,h=ae,B||re.signal.aborted||(H={},function(fe){for(var ge in fe)if(f(fe,ge))return;return 1}(q=J)||V||(Pi(Ga,Q),V=!0),Kf(function(){return!B&&T.next&&T.next(ae)}))},function(ae){b=!1,["DatabaseClosedError","AbortError"].includes(ae==null?void 0:ae.name)||B||Kf(function(){B||T.error&&T.error(ae)})}))};return setTimeout(ie,0),te});return S.hasValue=function(){return b},S.getValue=function(){return h},S}var Ts=Zr;function mh(d){var h=Ai;try{Ai=!0,Pi.storagemutated.fire(d),uh(d,!0)}finally{Ai=h}}p(Ts,r(r({},lt),{delete:function(d){return new Ts(d,{addons:[]}).delete()},exists:function(d){return new Ts(d,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return h=Ts.dependencies,b=h.indexedDB,h=h.IDBKeyRange,(rh(b)?Promise.resolve(b.databases()).then(function(S){return S.map(function(T){return T.name}).filter(function(T){return T!==Qu})}):nh(b,h).toCollection().primaryKeys()).then(d)}catch{return Ot(new be.MissingAPI)}var h,b},defineClass:function(){return function(d){l(this,d)}},ignoreTransaction:function(d){return Ne.trans?Ss(Ne.transless,d):d()},vip:ih,async:function(d){return function(){try{var h=ch(d.apply(this,arguments));return h&&typeof h.then=="function"?h:Ce.resolve(h)}catch(b){return Ot(b)}}},spawn:function(d,h,b){try{var S=ch(d.apply(b,h||[]));return S&&typeof S.then=="function"?S:Ce.resolve(S)}catch(T){return Ot(T)}},currentTransaction:{get:function(){return Ne.trans||null}},waitFor:function(d,h){return h=Ce.resolve(typeof d=="function"?Ts.ignoreTransaction(d):d).timeout(h||6e4),Ne.trans?Ne.trans.waitFor(h):h},Promise:Ce,debug:{get:function(){return me},set:function(d){oe(d)}},derive:y,extend:l,props:p,override:w,Events:Wa,on:Pi,liveQuery:e0,extendObservabilitySet:ac,getByKeyPath:R,setByKeyPath:I,delByKeyPath:function(d,h){typeof h=="string"?I(d,h,void 0):"length"in h&&[].map.call(h,function(b){I(d,b,void 0)})},shallowClone:M,deepClone:ee,getObjectDiff:dh,cmp:rt,asap:O,minKey:-1/0,addons:[],connections:ko,errnames:qe,dependencies:dc,cache:Cs,semVer:"4.2.1",version:"4.2.1".split(".").map(function(d){return parseInt(d)}).reduce(function(d,h,b){return d+h/Math.pow(10,2*b)})})),Ts.maxKey=Qa(Ts.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Pi(Ga,function(d){Ai||(d=new CustomEvent(Qf,{detail:d}),Ai=!0,dispatchEvent(d),Ai=!1)}),addEventListener(Qf,function(d){d=d.detail,Ai||mh(d)}));var Po,Ai=!1,t0=function(){};return typeof BroadcastChannel<"u"&&((t0=function(){(Po=new BroadcastChannel(Qf)).onmessage=function(d){return d.data&&mh(d.data)}})(),typeof Po.unref=="function"&&Po.unref(),Pi(Ga,function(d){Ai||Po.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!Zr.disableBfCache&&d.persisted){me&&console.debug("Dexie: handling persisted pagehide"),Po!=null&&Po.close();for(var h=0,b=ko;h<b.length;h++)b[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!Zr.disableBfCache&&d.persisted&&(me&&console.debug("Dexie: handling persisted pageshow"),t0(),mh({all:new tn(-1/0,[[]])}))})),Ce.rejectionMapper=function(d,h){return!d||d instanceof de||d instanceof TypeError||d instanceof SyntaxError||!d.name||!ft[d.name]?d:(h=new ft[d.name](h||d.message,d),"stack"in d&&_(h,"stack",{get:function(){return this.inner.stack}}),h)},oe(me),r(Zr,Object.freeze({__proto__:null,Dexie:Zr,liveQuery:e0,Entity:Av,cmp:rt,PropModification:Ka,replacePrefix:function(d,h){return new Ka({replacePrefix:[d,h]})},add:function(d){return new Ka({add:d})},remove:function(d){return new Ka({remove:d})},default:Zr,RangeSet:tn,mergeRanges:Za,rangesOverlap:Kv}),{default:Zr}),Zr})})(ek);var PI=ek.exports;const zm=ef(PI),Gw=Symbol.for("Dexie"),zd=globalThis[Gw]||(globalThis[Gw]=zm);if(zm.semVer!==zd.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${zm.semVer} and ${zd.semVer}`);const{liveQuery:mB,mergeRanges:gB,rangesOverlap:yB,RangeSet:vB,cmp:wB,Entity:bB,PropModification:_B,replacePrefix:xB,add:SB,remove:kB,DexieYProvider:EB}=zd;class AI extends zd{constructor(){super("SankeertanDB");hc(this,"categories");hc(this,"songIndices");hc(this,"songDetails");this.version(1).stores({categories:"id",songIndices:"[bookId+songTitle], bookId",songDetails:"[bookId+songTitle], bookId"})}}const Tr=new AI;async function jI(){try{const e=await Tr.categories.toArray();return e.length>0?e:void 0}catch(e){console.error("Error retrieving categories from DB:",e);return}}async function OI(e){try{await Tr.categories.clear(),await Tr.categories.bulkAdd(e)}catch(t){console.error("Error saving categories to DB:",t)}}async function RI(e){try{const t=await Tr.songIndices.where("bookId").equals(e).toArray();return t.length>0?t:void 0}catch(t){console.error(`Error retrieving song indices for book ${e} from DB:`,t);return}}async function II(e,t){try{await Tr.songIndices.where("bookId").equals(e).delete();const n=t.map(r=>({...r,bookId:e,tags:r.tags||[]}));await Tr.songIndices.bulkAdd(n)}catch(n){console.error(`Error saving song indices for book ${e} to DB:`,n)}}async function tk(e,t){try{const n=[e,t];return await Tr.songDetails.where("[bookId+songTitle]").equals(n).count()>0}catch(n){return console.error(`Error checking download status for ${t} in ${e}:`,n),!1}}async function DI(e,t){try{const n=[e,t];return await Tr.songDetails.where("[bookId+songTitle]").equals(n).first()}catch(n){console.error(`Error retrieving song detail for ${t} in ${e} from DB:`,n);return}}async function NI(e){try{await Tr.songDetails.put(e)}catch(t){console.error(`Error saving song detail for ${e.songTitle} to DB:`,t)}}async function LI(e,t){try{const n=[e,t];await Tr.songDetails.delete(n)}catch(n){console.error(`Error deleting song detail for ${t} in ${e} from DB:`,n)}}const nk=E.createContext({categories:[],isLoading:!1,isFetching:!1,error:null}),$I=async e=>{const t=new URL(`${vo}`);t.searchParams.append("mode","api"),t.searchParams.append("apiname","getcategoriesandbooks"),t.searchParams.append("sessionuser",e??"dummyfornow");const n=await fetch(t.toString());if(!n.ok){const s=await n.json().catch(()=>({message:"No detailed error message"}));throw new Error(`Failed to fetch categories and books: ${n.status} - ${JSON.stringify(s)}`)}const r=await n.json();return Object.keys(r).filter(s=>s!=="books").map(s=>({name:s,bookCount:Array.isArray(r[s])?r[s].length:0,books:Array.isArray(r[s])?r[s].map(o=>({bookId:o["Book Id"],bookName:o["Book Name"],songCount:o["Song Count"],verseCount:o["Verse Count"],isBookSourceSupabase:o.isBookSourceSupabase==="true"||o.isBookSourceSupabase===!0})):[],id:s.toLowerCase().replace(/ /g,"-"),image:`https://placehold.co/800/orange/black?text=${encodeURIComponent(s)}&font=lora`}))},MI=({children:e})=>{var p;const{session:t}=bs(),n=(p=t==null?void 0:t.user)==null?void 0:p.email,[r,i]=E.useState(void 0),[s,o]=E.useState(!0);E.useEffect(()=>{(async()=>{try{const _=await jI();_&&i(_)}catch(_){console.error("Error retrieving categories data from IndexedDB:",_)}finally{o(!1)}})()},[]);const{isLoading:a,isFetching:l,error:u,data:c}=Ry({queryKey:["categories",n],queryFn:()=>$I(n??null),staleTime:1/0,initialData:r,refetchOnMount:!1,enabled:!!n&&!s});E.useEffect(()=>{c&&!l&&OI(c).catch(m=>{console.error("Error saving categories data to IndexedDB:",m)})},[c,l]);const f=s||a;return k.jsx(nk.Provider,{value:{categories:c??r??[],isLoading:f,isFetching:l,error:u},children:e})},Iy=()=>E.useContext(nk),Qw=e=>{const[t,n]=E.useState(!1);return E.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;const r=window.matchMedia(e),i=s=>n(s.matches);return n(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),t};function FI(){var m;const{categories:e,isLoading:t,isFetching:n,error:r}=Iy(),i=jr(),[s,o]=E.useState([]);Qw("(max-width: 600px) and (orientation: portrait)"),Qw("(max-width: 900px) and (orientation: landscape)");const{session:a}=bs(),l=(m=a==null?void 0:a.user)==null?void 0:m.email,u=Ef();if(E.useEffect(()=>{o((y=>{const x=[],g=360/y;for(let v=0;v<y;v++){const w=v*g;x.push(`hsl(${w}, 70%, 60%)`)}return x})(e.length))},[e.length]),t||n)return k.jsx("div",{children:"Loading categories..."});if(r instanceof Error)return k.jsxs("div",{children:["Error loading categories: ",r.message]});const c=async()=>{await Tr.categories.delete("1"),console.log("Categories & Books -> IndexedDB cache cleared. Data will be reloaded from the server."),u.invalidateQueries({queryKey:["categories",l]})},f=(_,y)=>{_.stopPropagation(),i(`/books/${y}`)},p={container:{maxWidth:"1000px",margin:"0 auto",padding:"20px",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",backgroundColor:"#f5f7fa",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)"},heading:{textAlign:"center",color:"#2c3e50",marginBottom:"25px",fontSize:"32px",fontWeight:"700",paddingBottom:"15px",borderBottom:"2px solid #eaeaea"},categoryGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},categoryItem:{borderRadius:"12px",padding:"20px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)",border:"1px solid #eaeaea",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},categoryIcon:{marginRight:"15px",width:"50px",height:"50px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"white",flexShrink:"0",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},categoryName:{fontWeight:"600",color:"#2c3e50",fontSize:"18px"}};return{...p.categoryGridBase},k.jsxs("div",{style:p.container,children:[k.jsxs("h2",{style:p.heading,children:["Book Categories",k.jsx("button",{onClick:c,style:{marginRight:"10px"},title:"Reload",children:""})]}),k.jsx("div",{style:p.categoryGrid,children:e==null?void 0:e.map((_,y)=>k.jsxs("div",{onClick:x=>f(x,_.id),style:{...p.categoryItem,backgroundColor:y%2===0?"#f8f9fa":"#ffffff"},className:"category-item",children:[k.jsx("div",{style:{...p.categoryIcon,backgroundColor:s[y]||"#3498db"},children:""}),k.jsx("span",{style:p.categoryName,children:_.name})]},_.id))}),k.jsx("style",{children:`
          .category-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: #3498db;
          }
        `})]})}const rk=E.createContext({isOfflineMode:!1,setIsOfflineMode:()=>{},isEffectivelyOffline:!1}),BI=({children:e})=>{const[t,n]=E.useState(!1),r=t||!navigator.onLine;return E.useEffect(()=>{const i=()=>{},s=()=>{t||n(!0)};return window.addEventListener("online",i),window.addEventListener("offline",s),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",s)}},[t,n]),k.jsx(rk.Provider,{value:{isOfflineMode:t,setIsOfflineMode:n,isEffectivelyOffline:r},children:e})},Dy=()=>E.useContext(rk),ik=E.createContext(void 0),Yw=e=>{const t={};for(const n of e){const r=n.songCount||0,i=!!localStorage.getItem(`sankeertan_song_indices-${encodeURIComponent(n.bookId)}`),s=r>0?UI(n.bookId):0;t[n.bookId]={totalSongs:r,downloadedSongs:s,downloadingSongs:{},isIndexDownloaded:i}}return t},UI=(e,t)=>{let n=0;for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);i&&i.startsWith(`sankeertan_song_details-${e}`)&&n++}return n},zI=({children:e,books:t})=>{const[n,r]=E.useState(()=>Yw(t));E.useEffect(()=>{r(Yw(t))},[t]);const i=E.useCallback((c,f)=>{r(p=>({...p,[c]:{...p[c],totalSongs:f}}))},[]),s=E.useCallback((c,f)=>{r(p=>({...p,[c]:{...p[c],downloadedSongs:f}}))},[]),o=E.useCallback((c,f)=>{r(p=>({...p,[c]:{...p[c],isIndexDownloaded:f}}))},[]),u={downloadStatus:n,updateDownloadProgress:i,updateDownloadedCount:s,markSongAsDownloading:(c,f)=>{r(p=>{var m;return{...p,[c]:{...p[c],downloadingSongs:{...(m=p[c])==null?void 0:m.downloadingSongs,[f]:!0}}}})},markSongAsDownloaded:(c,f)=>{r(p=>{var _,y;const m={...(_=p[c])==null?void 0:_.downloadingSongs};return delete m[f],{...p,[c]:{...p[c],downloadedSongs:(((y=p[c])==null?void 0:y.downloadedSongs)||0)+1,downloadingSongs:m}}})},updateIndexStatus:o};return k.jsx(ik.Provider,{value:u,children:e})},Ny=()=>{const e=E.useContext(ik);if(!e)throw new Error("useDownloadStatus must be used within a DownloadStatusProvider");return e},VI=async({bookId:e,sourceRow:t,songTitle:n,sessionuser:r})=>{if(!e||!t||!n)throw new Error("Missing parameters to fetch song details");const i=new URL(`${vo}`);i.searchParams.append("mode","api"),i.searchParams.append("apiname","getsongtextforsong"),i.searchParams.append("book",e),i.searchParams.append("sourcerow",t.toString()),i.searchParams.append("songtitle",n),r&&i.searchParams.append("sessionuser",r);const s=await fetch(i.toString());if(!s.ok){const o=await s.json();throw new Error(`Failed to fetch song details for book ${e}, row ${t}, title ${n}: ${s.status} - ${JSON.stringify(o)}`)}return await s.json()},KI=3e3,WI=10,HI=(e,t,n)=>{const[r,i]=E.useState(!1),[s,o]=E.useState(null),{updateDownloadProgress:a,markSongAsDownloading:l,markSongAsDownloaded:u}=Ny(),c=E.useCallback(m=>s===m&&r,[s,r]),f=E.useCallback(m=>{let _=0;const y=`sankeertan_song_indices-${m}`,x=localStorage.getItem(y);if(x)try{const g=JSON.parse(x);g!=null&&g.data&&Array.isArray(g.data)&&g.data.forEach(v=>{const w=`sankeertan_song_details-${m}-${encodeURIComponent(v.songTitle)}`;localStorage.getItem(w)&&_++})}catch(g){console.error("Error parsing song indices from localStorage:",g)}return _},[]),p=E.useCallback(async(m,_)=>{if(!m||r&&s===m)return 0;o(m),i(!0);const y=`sankeertan_song_indices-${m}`,x=localStorage.getItem(y);let g=null,v=0;if(x)try{const w=JSON.parse(x);w!=null&&w.data&&Array.isArray(w.data)?(g=w.data.map(C=>({sourceRow:C.sourceRow,songTitle:C.songTitle,verseCount:C.verseCount})),v=g.length,a(m,v)):console.warn(`Stored song indices for book ${m} is not a valid array.`)}catch(w){console.error("Error parsing song indices from localStorage:",w)}if(!g)try{const w=new URL(vo);w.searchParams.append("mode","api"),w.searchParams.append("apiname","getsongsforbook"),w.searchParams.append("book",m),_&&w.searchParams.append("sessionuser",_),w.searchParams.append("sessionuser",_??"dummyfornow");const C=await fetch(w.toString());if(!C.ok){const R=await C.json();throw new Error(`Failed to fetch song indices for book ${m}: ${C.status} - ${JSON.stringify(R)}`)}const O=await C.json();g=O,v=g.length,a(m,v),localStorage.setItem(y,JSON.stringify({data:O,timestamp:Date.now()}))}catch{return 0}if(g&&g.length>0){let w=0;for(const C of g){const O=`sankeertan_song_details-${m}-${encodeURIComponent(C.songTitle)}`;if(localStorage.getItem(O))u(m,C.songTitle);else{l(m,C.songTitle);try{const R=await VI({bookId:m,sourceRow:C.sourceRow,songTitle:C.songTitle,sessionuser:_});localStorage.setItem(O,JSON.stringify({data:R,timestamp:Date.now()})),u(m,C.songTitle),w++}catch{}if(await new Promise(R=>setTimeout(R,KI)),w>=WI)break}}}return i(!1),o(null),v},[e,t,n,r,s,a,l,u]);return{isDownloading:r,downloadAllSongsForBook:p,getDownloadedSongCount:f,isDownloadingBook:c}},pr={container:{fontFamily:"sans-serif",fontSize:"14px",color:"#555",marginBottom:"20px"},link:{color:"#007bff",textDecoration:"none",transition:"color 0.2s ease-in-out"},separator:{margin:"0 5px",color:"#999"},currentPage:{fontWeight:"bold",color:"#333",cursor:"default",textDecoration:"none"}},Ly=()=>{const e=cr(),{categoryId:t,bookId:n,songTitle:r}=Pu(),i=r?decodeURIComponent(r):"",[s,o]=Ke.useState(!1),a={...pr.link,color:s?"#0056b3":"#007bff",textDecoration:s?"underline":"none"},l=k.jsx(Bn,{to:"/",style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:"Home"});return e.pathname.startsWith("/books/")?k.jsxs("div",{style:pr.container,children:[l,k.jsx("span",{style:pr.separator,children:">"}),t]}):e.pathname.startsWith("/book/")?k.jsxs("div",{style:pr.container,children:[l,k.jsx("span",{style:pr.separator,children:">"}),k.jsx(Bn,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:t}),k.jsx("span",{style:pr.separator,children:">"}),n]}):e.pathname.startsWith("/details/book/")?k.jsxs("div",{style:pr.container,children:[l,k.jsx("span",{style:pr.separator,children:">"}),k.jsx(Bn,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:t}),k.jsx("span",{style:pr.separator,children:">"}),k.jsx(Bn,{to:`/book/${t}/${n}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:n}),k.jsx("span",{style:pr.separator,children:">"}),k.jsx("span",{style:pr.currentPage,children:i})]}):null},sk=E.createContext({preferredLanguage:"deva",setPreferredLanguage:()=>{}}),ok=({children:e})=>{const t=localStorage.getItem("preferredLanguage"),[n,r]=E.useState(t||"deva");return E.useEffect(()=>{localStorage.setItem("preferredLanguage",n)},[n]),k.jsx(sk.Provider,{value:{preferredLanguage:n,setPreferredLanguage:r},children:e})},Ba=()=>E.useContext(sk);function qI(){var ue;const{categoryId:e}=Pu(),t=jr(),{categories:n,isLoading:r,isFetching:i,error:s}=Iy(),{isEffectivelyOffline:o}=Dy(),{isDownloading:a,downloadAllSongsForBook:l,isDownloadingBook:u}=HI(),[c,f]=E.useState(null),[p,m]=E.useState(!1),_=Ef(),{preferredLanguage:y}=Ba(),{downloadStatus:x,updateDownloadProgress:g,updateDownloadedCount:v}=Ny(),{session:w}=bs(),C=(ue=w==null?void 0:w.user)==null?void 0:ue.email,O=E.useMemo(()=>n==null?void 0:n.find(U=>U.id===e),[n,e]),R=E.useMemo(()=>{var U;return((U=O==null?void 0:O.books)==null?void 0:U.filter(K=>o?!!localStorage.getItem(`sankeertan_song_indices-${encodeURIComponent(K.bookId)}`):!0))??[]},[O==null?void 0:O.books,o]),I=async(U,K)=>{if(U==null||U.stopPropagation(),!window.confirm(`Pls confirm for deletion of book index [${K}]`))return;const we=`sankeertan_song_indices-${K}`;localStorage.removeItem(we),g(K,0),v(K,0)},M=async(U,K)=>{if(U==null||U.stopPropagation(),!window.confirm(`WARNING: This will permanently delete the ENTIRE book "${K}". This action cannot be undone. Please confirm.`))return;const we=`sankeertan_song_details-${K}`;let ye=[];for(let qe=0;qe<localStorage.length;qe++){const De=localStorage.key(qe);De&&De.startsWith(we)&&ye.push(De)}ye.forEach(qe=>localStorage.removeItem(qe));const Be=`sankeertan_song_indices-${K}`;localStorage.removeItem(Be),g(K,0),v(K,0)},z=(U,K)=>{U==null||U.stopPropagation(),t(`/book/${e}/${K}`)},W=async()=>{var K;m(!0);const U=(K=w==null?void 0:w.user)==null?void 0:K.email;try{const de=R.map(we=>_.prefetchQuery({queryKey:["songIndices",we.bookId,y,U],queryFn:()=>ve(we.bookId,U??null)}));await Promise.all(de),console.log("All song indices downloaded successfully.")}catch(de){console.error("Failed to download all indices:",de)}finally{m(!1)}},ve=async(U,K)=>{if(!U)return[];const de=`sankeertan_song_indices-${U}`,we=localStorage.getItem(de);if(we)try{return JSON.parse(we)}catch(De){console.error("Error parsing song indices from localStorage:",De)}const ye=new URL(vo);ye.searchParams.append("mode","api"),ye.searchParams.append("apiname","getsongsforbook"),ye.searchParams.append("book",U),ye.searchParams.append("sessionuser",K??"dummyfornow");const Be=await fetch(ye.toString());if(!Be.ok){const De=await Be.json();throw new Error(`Failed to fetch song indices for book ${U}: ${Be.status} - ${JSON.stringify(De)}`)}const qe=await Be.json();return console.log(`Setting localstorage for ${de}`),localStorage.setItem(de,JSON.stringify(qe)),qe},F=async(U,K)=>{var we;U.stopPropagation(),f(K);const de=(we=w==null?void 0:w.user)==null?void 0:we.email;try{await _.prefetchQuery({queryKey:["songIndices",K,y,de],queryFn:()=>ve(K,de??null)}),console.log(`Index for Book ${K} downloaded successfully.`)}catch(ye){console.error(`Failed to download index for Book ${K}:`,ye)}finally{f(null)}},ee=async(U,K,de)=>{U==null||U.stopPropagation(),await l(K,C)},A=k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6zM13 15h-2v3h-2v-3H7l3.5-3.5L14 15h-2z"})]}),le=k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h12v16H6V4zM16 13h-3v3h-2v-3H8l4-4 4 4zM14 20h-4v-2h4v2z"})]}),Oe=k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18h14v2H5v-2z"})]}),$=k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})]}),X=k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})]}),Z=k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 4h7v5h5v11H6V4zm-2 16h16V4h-3V1h-4v3h-3v-3H4v3H1v2h3v12zM12 9l-4 4h3v4h2v-4h3l-4-4z"})]});return r||i?k.jsx("div",{children:"Loading books..."}):s instanceof Error?k.jsxs("div",{children:["Error loading books: ",s.message]}):k.jsxs(k.Fragment,{children:[k.jsx(Ly,{}),k.jsx("div",{children:R.length>0?k.jsx("ul",{className:"list-none p-0",children:R.map(U=>{const K=x[U.bookId]||{},de=K.downloadedSongs||0,we=K.totalSongs||U.songCount||0,ye=we>0?de/we*100:0,Be=!!localStorage.getItem(`sankeertan_song_indices-${encodeURIComponent(U.bookId)}`),qe=de===we&&we>0;return k.jsx("li",{onClick:De=>z(De,U.bookId),className:"relative overflow-hidden cursor-pointer border-b border-gray-300 py-2 px-4",children:k.jsxs("div",{className:"z-20 relative grid grid-cols-[1fr_auto] gap-4 items-center divide-x divide-gray-300",children:[k.jsxs("div",{className:"relative text-lg font-medium pr-4",children:[k.jsx("div",{className:"absolute inset-0 bg-gray-200 z-0 rounded-md",style:{width:"100%"}}),k.jsx("div",{className:"absolute inset-0 bg-green-200 z-10 rounded-md",style:{width:`${ye}%`}}),k.jsx("span",{className:`relative z-20 ${ye>25,"text-black-900"}`,children:U.bookName})]}),k.jsxs("div",{className:"flex items-center space-x-4 divide-x divide-gray-300 pl-4",children:[k.jsx("div",{className:"flex items-center text-sm text-gray-600 pr-4 min-w-[150px]",children:k.jsxs("span",{children:["(",de,"/",we," downloaded)"]})}),k.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:Be?k.jsxs("span",{className:"flex items-center text-green-500",children:[$," ",k.jsx("span",{className:"ml-1",children:"Index"})]}):k.jsx("button",{onClick:De=>{De.stopPropagation(),F(De,U.bookId)},disabled:o||a||u(U.bookId)||Be,className:"flex items-center text-brown-600",children:c===U.bookId?"DownloadingI...":k.jsxs(k.Fragment,{children:[A," ",k.jsx("span",{className:"ml-1",children:"Download Index"})]})})}),k.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:qe?k.jsxs("span",{className:"flex items-center text-green-500",children:[$," ",k.jsx("span",{className:"ml-1",children:"Book"})]}):k.jsx("button",{onClick:De=>{De.stopPropagation(),ee(De,U.bookId,U.songCount??0)},disabled:o||a||u(U.bookId),className:"flex items-center text-brown-600",children:u(U.bookId)?"DownloadingB...":k.jsxs(k.Fragment,{children:[Oe," ",k.jsx("span",{className:"ml-1",children:"Download Book"})]})})}),k.jsxs("div",{className:"flex items-center space-x-2 pl-4",children:[k.jsxs("button",{onClick:De=>{De.stopPropagation(),I(De,U.bookId)},disabled:!Be,className:"flex items-center text-red-500 border border-red-500 px-2 py-1 rounded-md hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:text-gray-400 disabled:border-gray-400",children:[Z," ",k.jsx("span",{className:"ml-1",children:"Index"})]}),k.jsxs("button",{onClick:De=>{De.stopPropagation(),M(De,U.bookId)},disabled:a||u(U.bookId)||ye===0,className:"flex items-center bg-red-500 text-white border border-red-500 px-2 py-1 rounded-md hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-600 disabled:border-gray-400",children:[X," ",k.jsx("span",{className:"ml-1",children:"Book"})]})]})]})]})},U.bookId)})}):k.jsx("p",{children:"No books found in this category."})}),k.jsx("div",{className:"mt-4 p-4 border-t border-gray-200",children:k.jsxs("button",{onClick:W,disabled:p,className:`px-4 py-2 rounded-lg text-sm font-semibold text-white transition-colors duration-300 ${p?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:[le,p?"Downloading All...":"Download All Indices"]})})]})}function GI(e){return[{pattern:/([])/g,replacement:"$1",name:"Palatal"},{pattern:/([])/g,replacement:"$1",name:"Retroflex"},{pattern:/([])/g,replacement:"$1",name:"Velar"},{pattern:/([])/g,replacement:"$1",name:"Dental"},{pattern:/([])/g,replacement:"$1",name:"Labial"},{pattern:/$/g,replacement:"",name:"Word-final"},{pattern://g,replacement:"",name:"Chandrabindu  "}].reduce((n,r)=>{const i=n.replace(r.pattern,(s,o)=>r.replacement.replace("$1",o));return i!==n?i:n},e)}function QI(e){const t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};return e.replace(/\u0D30\u0D4D/g,"").replace(/[-]/g,n=>t[n]||n)}function YI(e){const t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};let n=e;for(const r in t){const i=t[r];n=n.replace(new RegExp(r,"g"),i)}return n}function JI(e){return e.replace(/~nja?/g,"~n").replace(/~nca?/g,"~nca").replace(/[]?/g,"n").replace(/jh/g,"c").replace(/bh/g,"p").replace(/gh/g,"k").replace(/dh/g,"t").replace(/([kctp])a(?![aiueo])/g,"$1").replace(//g,"").replace(//g,"i").replace(//g,"").replace(//g,"u").replace(//g,"").replace(/n([ctkp])/g,"$1").replace(//g,"").replace(//g,"r").replace(/aa/g,"A").replace(/ii/g,"I").replace(/uu/g,"U")}const Vd=(e,t,n)=>{let r=e,i=e;return t==="devanagari"?r=GI(r):t==="tamil"&&(r=r.normalize("NFC")),window.Sanscript&&(i=window.Sanscript.t(r,t==="devanagari"?"devanagari":"itrans",n),n==="malayalam"?i=QI(i):n==="itrans"?t==="tamil"&&(i=JI(i)):(n==="tamil"||n==="tamil_superscripted")&&(i=YI(i))),i},ZI={color:"green"},XI={color:"black"},eD={backgroundColor:"#e0e0e0",fontWeight:"bold",color:"blue"},tD={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},nD={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 15px",marginBottom:"2px",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.2s ease",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid #e2e8f0"},rD={backgroundColor:"#f0f4f8"},iD=async(e,t)=>{if(!e)return[];const n=new URL(vo);n.searchParams.append("mode","api"),n.searchParams.append("apiname","getsongsforbook"),n.searchParams.append("book",e),n.searchParams.append("sessionuser",t??"dummyfornow");const r=await fetch(n.toString());if(!r.ok){const s=await r.json().catch(()=>({message:"No detailed error message"}));throw new Error(`Failed to fetch song indices for book ${e}: ${r.status} - ${JSON.stringify(s)}`)}const i=await r.json();return i.data||i},sD=(e,t)=>{const[n,r]=E.useState({});return E.useEffect(()=>{if(!e||!t||t.length===0)return;(async()=>{const s=t.map(async l=>{const u=await tk(e,l.songTitle);return{title:l.songTitle,isDownloaded:u}}),a=(await Promise.all(s)).reduce((l,u)=>(l[u.title]=u.isDownloaded,l),{});r(a)})()},[e,t]),n};function oD(){var F;const{categoryId:e,bookId:t}=Pu(),n=jr(),{isEffectivelyOffline:r}=Dy(),{session:i}=bs(),s=(F=i==null?void 0:i.user)==null?void 0:F.email,[o,a]=E.useState(null),{preferredLanguage:l}=Ba(),[,u]=E.useState({});E.useEffect(()=>{u({})},[l]);const[c,f]=E.useState(void 0),[p,m]=E.useState(!0);E.useEffect(()=>{(async()=>{if(!t){m(!1);return}try{const A=await RI(t);A&&f(A)}catch(A){console.error("Error retrieving song indices data from IndexedDB:",A)}finally{m(!1)}})()},[t]);const{isLoading:_,error:y,data:x,isFetching:g}=Ry({queryKey:["songIndices",t,s],queryFn:()=>iD(t,s??null),staleTime:1/0,gcTime:0,initialData:c,refetchOnMount:!1,enabled:!!t&&!!s&&!p}),v=x??c,{downloadStatus:w}=Ny(),C=sD(t,v);if(E.useEffect(()=>{t&&x&&!g&&II(t,x).catch(ee=>{console.error("Error saving song indices data to IndexedDB:",ee)})},[t,x,g]),E.useEffect(()=>{const ee=sessionStorage.getItem("lastClickedSongIndex");ee!==null&&(a(parseInt(ee,10)),sessionStorage.removeItem("lastClickedSongIndex"))},[]),p||_)return k.jsx("div",{style:tD,children:k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[k.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),k.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),k.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),k.jsx("p",{style:{marginLeft:"10px"},children:"Loading song indices..."})]})});if(y instanceof Error)return k.jsxs("div",{children:["Error loading song indices: ",y.message]});const R=(ee,A,le,Oe)=>{ee.stopPropagation();const $=A[le].sourceRow,X=A[le].songTitle;Oe&&(sessionStorage.setItem("lastClickedSongIndex",le.toString()),n(`/details/book/${e}/${Oe}/${$}/${encodeURIComponent(X)}`,{state:{filteredSongIndices:A,index:le}}))},I=ee=>C[ee]===!0,M=(v==null?void 0:v.filter(ee=>r?I(ee.songTitle):!0))??[],z=(ee,A)=>{const le=I(ee.songTitle);return{...nD,...le?ZI:XI,...A===o&&eD}},W=ee=>{ee.currentTarget.style.backgroundColor=rD.backgroundColor},ve=ee=>{ee.currentTarget.style.backgroundColor=""};return k.jsxs(k.Fragment,{children:[k.jsx(Ly,{}),k.jsxs("div",{children:[k.jsxs("h2",{children:["Song Indices for Book: ",`bookId ... ${M.length}`]}),k.jsx("ul",{children:M==null?void 0:M.map((ee,A)=>{var le;return k.jsxs("li",{onClick:Oe=>R(Oe,M,A,t),style:z(ee,A),onMouseEnter:W,onMouseLeave:ve,children:[k.jsx("span",{style:{flexGrow:1,fontSize:"1.2em"},children:l==="itrans"?ee.songTitle:(()=>{if(window.Sanscript)try{return Vd(ee.songTitle,"itrans",l)}catch(Oe){return console.error("Error during transliteration",Oe),ee.songTitle}return ee.songTitle})()}),k.jsx("span",{style:{marginLeft:"10px",color:"red"},children:t&&((le=w[t])==null?void 0:le.downloadingSongs[ee.songTitle])&&"..downloading.."})]},ee.sourceRow)})})]})]})}const aD=({data:e,className:t="",highlightColor:n="bg-amber-50",highlightColumns:r=[],wrapColumns:i=[],striped:s=!0,hoverEffect:o=!0,maxWidth:a="screen",fontSize:l="3xl",preferredLanguage:u,sourceLanguage:c})=>{if(!Array.isArray(e)||e.length<1)return k.jsx("div",{className:"p-2 text-red-500 bg-red-50 rounded",children:"Invalid data: Must be a non-empty array"});const[f,...p]=e,m=y=>{let x=String(y).replace(/  \s*\/?>/gi,"<br/>").replace(/\n/g,"<br/>");if(typeof y=="string"&&u!=="deva"&&window.Sanscript)try{const g=x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");x=Vd(g,c,u).replace(/&lt;br\s*\/&gt;/gi,"<br/>"),x=x.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}catch(g){return console.error("Error during transliteration:",g),{__html:x}}return{__html:x}},_=a==="screen"?"max-w-screen":a==="full"?"w-full":a;return k.jsx("div",{className:`overflow-x-auto rounded-lg border bg-gray-300 ${_} ${t}`,children:k.jsxs("table",{className:"min-w-full divide-y divide-gray-200 font-devanagari",children:[k.jsx("thead",{className:"bg-gray-50",children:k.jsx("tr",{children:f.map((y,x)=>k.jsx("th",{className:`
                  px-4 py-4 text-left text-${l} font-medium text-gray-700  {/* Darker text, more padding */}
                  ${r.includes(x)?n:""}
                  sticky top-0 bg-gray-100 {/* Ensure background for sticky header */}
                `,dangerouslySetInnerHTML:m(y)},`th-${x}`))})}),k.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map((y,x)=>k.jsx("tr",{id:`trRowAsAnchor-${x}`,className:`
        ${s&&x%2===0?"bg-white":"bg-gray-100"} {/* Slightly more contrast for stripes */}
        ${o?"hover:bg-indigo-50":""} {/* More noticeable hover */}
      `,children:y.map((g,v)=>k.jsx("td",{className:`
            px-4 py-3.5 text-${l} align-top {/* Slightly more vertical padding */}
            ${i.includes(v)?"whitespace-normal break-words max-w-[300px]":"whitespace-nowrap"}
            ${r.includes(v)?n:""}
          `,dangerouslySetInnerHTML:m(g)},`td-${x}-${v}`))},`row-${x}`))})]})})};function lD(e,t,n){return Math.max(t,Math.min(e,n))}const ln={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function Jw(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function Zw(e,t,n,r=.15){return r===0?lD(e,t,n):e<t?-Jw(t-e,n-t,r)+t:e>n?+Jw(e-n,n-t,r)+n:e}function uD(e,[t,n],[r,i]){const[[s,o],[a,l]]=e;return[Zw(t,s,o,r),Zw(n,a,l,i)]}function cD(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dD(e){var t=cD(e,"string");return typeof t=="symbol"?t:String(t)}function En(e,t,n){return t=dD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(n),!0).forEach(function(r){En(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const ak={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function eb(e){return e?e[0].toUpperCase()+e.slice(1):""}const fD=["enter","leave"];function hD(e=!1,t){return e&&!fD.includes(t)}function pD(e,t="",n=!1){const r=ak[e],i=r&&r[t]||t;return"on"+eb(e)+eb(i)+(hD(n,i)?"Capture":"")}const mD=["gotpointercapture","lostpointercapture"];function gD(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=mD.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function yD(e,t=""){const n=ak[e],r=n&&n[t]||t;return e+r}function Cf(e){return"touches"in e}function lk(e){return Cf(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function vD(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function wD(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function uk(e){return Cf(e)?wD(e)[0]:e}function bD(e){return vD(e).map(t=>t.identifier)}function ep(e){const t=uk(e);return Cf(e)?t.identifier:t.pointerId}function tb(e){const t=uk(e);return[t.clientX,t.clientY]}function _D(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return t}function Kd(e,...t){return typeof e=="function"?e(...t):e}function xD(){}function SD(...e){return e.length===0?xD:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function nb(e,t){return Object.assign({},t,e||{})}const kD=32;class ED{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:i}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?Kd(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,_D(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const R=n._delta.map(Math.abs);ln.addTo(n._distance,R)}this.axisIntent&&this.axisIntent(t);const[o,a]=n._movement,[l,u]=r.threshold,{_step:c,values:f}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&f[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&f[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[R,I]=f;p[0]=c[0]!==!1?R-c[0]:0,p[1]=c[1]!==!1?I-c[1]:0}else p[0]=c[0]!==!1?o-c[0]:0,p[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(p);const m=n.offset,_=n._active&&!n._blocked||n.active;_&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=Kd(r.bounds,n)),this.setup&&this.setup()),n.movement=p,this.computeOffset()));const[y,x]=n.offset,[[g,v],[w,C]]=n._bounds;n.overflow=[y<g?-1:y>v?1:0,x<w?-1:x>C?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const O=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=uD(n._bounds,n.offset,O),n.delta=ln.sub(n.offset,m),this.computeMovement(),_&&(!n.last||s>kD)){n.delta=ln.sub(n.offset,m);const R=n.delta.map(Math.abs);ln.addTo(n.distance,R),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[R[0]/s,R[1]/s],n.timeDelta=s)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const i=this.handler(kt(kt(kt({},n),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function CD([e,t],n){const r=Math.abs(e),i=Math.abs(t);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class TD extends ED{constructor(...t){super(...t),En(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ln.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ln.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const i=typeof r.axisThreshold=="object"?r.axisThreshold[lk(t)]:r.axisThreshold;n.axis=CD(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const PD=e=>e,rb=.15,ck={enabled(e=!0){return e},eventOptions(e,t,n){return kt(kt({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[rb,rb];case!1:return[0,0];default:return ln.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return ln.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||PD},threshold(e){return ln.toVector(e,0)}},AD=0,Iu=kt(kt({},ck),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=AD){return e},bounds(e={}){if(typeof e=="function")return s=>Iu.bounds(e(s));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),ib={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class jD extends TD{constructor(...t){super(...t),En(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=Iu.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=ep(t),r._pointerActive=!0,this.computeValues(tb(t)),this.computeInitial(),n.preventScrollAxis&&lk(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=ep(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=tb(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=ln.sub(s,n._values),this.computeValues(s)),ln.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=ep(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[u,c]=n._movement,[f,p]=r.swipe.velocity,[m,_]=r.swipe.distance,y=r.swipe.duration;if(n.elapsedTime<y){const x=Math.abs(a/n.timeDelta),g=Math.abs(l/n.timeDelta);x>f&&Math.abs(u)>m&&(n.swipe[0]=Math.sign(a)),g>p&&Math.abs(c)>_&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,OD(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=ib[t.key];if(n){const r=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,ln.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in ib&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function OD(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Du=typeof window<"u"&&window.document&&window.document.createElement;function dk(){return Du&&"ontouchstart"in window}function RD(){return dk()||Du&&window.navigator.maxTouchPoints>1}function ID(){return Du&&"onpointerdown"in window}function DD(){return Du&&"exitPointerLock"in window.document}function ND(){try{return"constructor"in GestureEvent}catch{return!1}}const rr={isBrowser:Du,gesture:ND(),touch:dk(),touchscreen:RD(),pointer:ID(),pointerLock:DD()},LD=250,$D=180,MD=.5,FD=50,BD=250,UD=10,sb={mouse:0,touch:0,pen:8},zD=kt(kt({},Iu),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&rr.pointerLock,rr.touch&&n?"touch":this.pointerLock?"mouse":rr.pointer&&!i?"pointer":rr.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?LD:void 0,!(!rr.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=ln.toVector(e,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:e=MD,distance:t=FD,duration:n=BD}={}){return{velocity:this.transform(ln.toVector(e)),distance:this.transform(ln.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return $D;case!1:return 0;default:return e}},axisThreshold(e){return e?kt(kt({},sb),e):sb},keyboardDisplacement(e=UD){return e}});kt(kt({},ck),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!rr.touch&&rr.gesture)return"gesture";if(rr.touch&&r)return"touch";if(rr.touchscreen){if(rr.pointer)return"pointer";if(rr.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=nb(Kd(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=nb(Kd(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",ln.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});kt(kt({},Iu),{},{mouseOnly:(e=!0)=>e});kt(kt({},Iu),{},{mouseOnly:(e=!0)=>e});const fk=new Map,Vm=new Map;function VD(e){fk.set(e.key,e.engine),Vm.set(e.key,e.resolver)}const KD={key:"drag",engine:jD,resolver:zD};function WD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function HD(e,t){if(e==null)return{};var n=WD(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const qD={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=rr.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},GD=["target","eventOptions","window","enabled","transform"];function sd(e={},t){const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=sd(e[r],i);break;case"boolean":i&&(n[r]=e[r]);break}return n}function QD(e,t,n={}){const r=e,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=HD(r,GD);if(n.shared=sd({target:i,eventOptions:s,window:o,enabled:a,transform:l},qD),t){const c=Vm.get(t);n[t]=sd(kt({shared:n.shared},u),c)}else for(const c in u){const f=Vm.get(c);f&&(n[c]=sd(kt({shared:n.shared},u[c]),f))}return n}class hk{constructor(t,n){En(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,i,s){const o=this._listeners,a=yD(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=kt(kt({},l),s);t.addEventListener(a,i,u);const c=()=>{t.removeEventListener(a,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class YD{constructor(){En(this,"_timeouts",new Map)}add(t,n,r=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...i))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class JD{constructor(t){En(this,"gestures",new Set),En(this,"_targetEventStore",new hk(this)),En(this,"gestureEventStores",{}),En(this,"gestureTimeoutStores",{}),En(this,"handlers",{}),En(this,"config",{}),En(this,"pointerIds",new Set),En(this,"touchIds",new Set),En(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),ZD(this,t)}setEventIds(t){if(Cf(t))return this.touchIds=new Set(bD(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=QD(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=ob(r,a.eventOptions,!!i);if(a.enabled){const u=fk.get(o);new u(this,t,o).bind(l)}}const s=ob(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](kt(kt({},this.state.shared),{},{event:a,args:t})),void 0,!0)}for(const s in r)r[s]=SD(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=gD(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function Lo(e,t){e.gestures.add(t),e.gestureEventStores[t]=new hk(e,t),e.gestureTimeoutStores[t]=new YD}function ZD(e,t){t.drag&&Lo(e,"drag"),t.wheel&&Lo(e,"wheel"),t.scroll&&Lo(e,"scroll"),t.move&&Lo(e,"move"),t.pinch&&Lo(e,"pinch"),t.hover&&Lo(e,"hover")}const ob=(e,t,n)=>(r,i,s,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:t.capture,f=(u=o.passive)!==null&&u!==void 0?u:t.passive;let p=a?r:pD(r,i,c);n&&f&&(p+="Passive"),e[p]=e[p]||[],e[p].push(s)};function XD(e,t={},n,r){const i=Ke.useMemo(()=>new JD(e),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),Ke.useEffect(i.effect.bind(i)),Ke.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function eN(e,t){return VD(KD),XD({drag:e},t||{},"drag")}const $y=E.createContext({});function My(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const Fy=typeof window<"u",pk=Fy?E.useLayoutEffect:E.useEffect,Tf=E.createContext(null);function By(e,t){e.indexOf(t)===-1&&e.push(t)}function Uy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const yi=(e,t,n)=>n>t?t:n<e?e:n;let zy=()=>{};const vi={},mk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function gk(e){return typeof e=="object"&&e!==null}const yk=e=>/^0[^.\s]+$/u.test(e);function Vy(e){let t;return()=>(t===void 0&&(t=e()),t)}const ar=e=>e,tN=(e,t)=>n=>t(e(n)),Nu=(...e)=>e.reduce(tN),du=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Ky{constructor(){this.subscriptions=[]}add(t){return By(this.subscriptions,t),()=>Uy(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hr=e=>e*1e3,sr=e=>e/1e3;function vk(e,t){return t?e*(1e3/t):0}const wk=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,nN=1e-7,rN=12;function iN(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=wk(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>nN&&++a<rN);return o}function Lu(e,t,n,r){if(e===t&&n===r)return ar;const i=s=>iN(s,0,1,e,n);return s=>s===0||s===1?s:wk(i(s),t,r)}const bk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_k=e=>t=>1-e(1-t),xk=Lu(.33,1.53,.69,.99),Wy=_k(xk),Sk=bk(Wy),kk=e=>(e*=2)<1?.5*Wy(e):.5*(2-Math.pow(2,-10*(e-1))),Hy=e=>1-Math.sin(Math.acos(e)),Ek=_k(Hy),Ck=bk(Hy),sN=Lu(.42,0,1,1),oN=Lu(0,0,.58,1),Tk=Lu(.42,0,.58,1),aN=e=>Array.isArray(e)&&typeof e[0]!="number",Pk=e=>Array.isArray(e)&&typeof e[0]=="number",lN={linear:ar,easeIn:sN,easeInOut:Tk,easeOut:oN,circIn:Hy,circInOut:Ck,circOut:Ek,backIn:Wy,backInOut:Sk,backOut:xk,anticipate:kk},uN=e=>typeof e=="string",ab=e=>{if(Pk(e)){zy(e.length===4);const[t,n,r,i]=e;return Lu(t,n,r,i)}else if(uN(e))return lN[e];return e},$c=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cN(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,f=!1,p=!1)=>{const _=p&&i?n:r;return f&&o.add(c),_.has(c)||_.add(c),c},cancel:c=>{r.delete(c),o.delete(c)},process:c=>{if(a=c,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(c))}};return u}const dN=40;function Ak(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=$c.reduce((w,C)=>(w[C]=cN(s),w),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:p,render:m,postRender:_}=o,y=()=>{const w=vi.useManualTiming?i.timestamp:performance.now();n=!1,vi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,dN),1)),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),p.process(i),m.process(i),_.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(y))},x=()=>{n=!0,r=!0,i.isProcessing||e(y)};return{schedule:$c.reduce((w,C)=>{const O=o[C];return w[C]=(R,I=!1,M=!1)=>(n||x(),O.schedule(R,I,M)),w},{}),cancel:w=>{for(let C=0;C<$c.length;C++)o[$c[C]].cancel(w)},state:i,steps:o}}const{schedule:bt,cancel:ps,state:Jt,steps:tp}=Ak(typeof requestAnimationFrame<"u"?requestAnimationFrame:ar,!0);let od;function fN(){od=void 0}const jn={now:()=>(od===void 0&&jn.set(Jt.isProcessing||vi.useManualTiming?Jt.timestamp:performance.now()),od),set:e=>{od=e,queueMicrotask(fN)}},jk=e=>t=>typeof t=="string"&&t.startsWith(e),qy=jk("--"),hN=jk("var(--"),Gy=e=>hN(e)?pN.test(e.split("/*")[0].trim()):!1,pN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ua={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fu={...Ua,transform:e=>yi(0,1,e)},Mc={...Ua,default:1},Nl=e=>Math.round(e*1e5)/1e5,Qy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mN(e){return e==null}const gN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yy=(e,t)=>n=>!!(typeof n=="string"&&gN.test(n)&&n.startsWith(e)||t&&!mN(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ok=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Qy);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yN=e=>yi(0,255,e),np={...Ua,transform:e=>Math.round(yN(e))},Ws={test:Yy("rgb","red"),parse:Ok("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+np.transform(e)+", "+np.transform(t)+", "+np.transform(n)+", "+Nl(fu.transform(r))+")"};function vN(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Km={test:Yy("#"),parse:vN,transform:Ws.transform},$u=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Li=$u("deg"),qr=$u("%"),He=$u("px"),wN=$u("vh"),bN=$u("vw"),lb={...qr,parse:e=>qr.parse(e)/100,transform:e=>qr.transform(e*100)},Jo={test:Yy("hsl","hue"),parse:Ok("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+qr.transform(Nl(t))+", "+qr.transform(Nl(n))+", "+Nl(fu.transform(r))+")"},$t={test:e=>Ws.test(e)||Km.test(e)||Jo.test(e),parse:e=>Ws.test(e)?Ws.parse(e):Jo.test(e)?Jo.parse(e):Km.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ws.transform(e):Jo.transform(e),getAnimatableNone:e=>{const t=$t.parse(e);return t.alpha=0,$t.transform(t)}},_N=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xN(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Qy))==null?void 0:t.length)||0)+(((n=e.match(_N))==null?void 0:n.length)||0)>0}const Rk="number",Ik="color",SN="var",kN="var(",ub="${}",EN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(EN,l=>($t.test(l)?(r.color.push(s),i.push(Ik),n.push($t.parse(l))):l.startsWith(kN)?(r.var.push(s),i.push(SN),n.push(l)):(r.number.push(s),i.push(Rk),n.push(parseFloat(l))),++s,ub)).split(ub);return{values:n,split:a,indexes:r,types:i}}function Dk(e){return hu(e).values}function Nk(e){const{split:t,types:n}=hu(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===Rk?s+=Nl(i[o]):a===Ik?s+=$t.transform(i[o]):s+=i[o]}return s}}const CN=e=>typeof e=="number"?0:$t.test(e)?$t.getAnimatableNone(e):e;function TN(e){const t=Dk(e);return Nk(e)(t.map(CN))}const ms={test:xN,parse:Dk,createTransformer:Nk,getAnimatableNone:TN};function rp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function PN({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=rp(l,a,e+1/3),s=rp(l,a,e),o=rp(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Wd(e,t){return n=>n>0?t:e}const St=(e,t,n)=>e+(t-e)*n,ip=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},AN=[Km,Ws,Jo],jN=e=>AN.find(t=>t.test(e));function cb(e){const t=jN(e);if(!t)return!1;let n=t.parse(e);return t===Jo&&(n=PN(n)),n}const db=(e,t)=>{const n=cb(e),r=cb(t);if(!n||!r)return Wd(e,t);const i={...n};return s=>(i.red=ip(n.red,r.red,s),i.green=ip(n.green,r.green,s),i.blue=ip(n.blue,r.blue,s),i.alpha=St(n.alpha,r.alpha,s),Ws.transform(i))},Wm=new Set(["none","hidden"]);function ON(e,t){return Wm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function RN(e,t){return n=>St(e,t,n)}function Jy(e){return typeof e=="number"?RN:typeof e=="string"?Gy(e)?Wd:$t.test(e)?db:NN:Array.isArray(e)?Lk:typeof e=="object"?$t.test(e)?db:IN:Wd}function Lk(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>Jy(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function IN(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Jy(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function DN(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const NN=(e,t)=>{const n=ms.createTransformer(t),r=hu(e),i=hu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Wm.has(e)&&!i.values.length||Wm.has(t)&&!r.values.length?ON(e,t):Nu(Lk(DN(r,i),i.values),n):Wd(e,t)};function $k(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?St(e,t,n):Jy(e)(e,t)}const LN=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>bt.update(t,n),stop:()=>ps(t),now:()=>Jt.isProcessing?Jt.timestamp:jn.now()}},Mk=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Hd=2e4;function Zy(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Hd;)t+=n,r=e.next(t);return t>=Hd?1/0:t}function $N(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Zy(r),Hd);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:sr(i)}}const MN=5;function Fk(e,t,n){const r=Math.max(t-MN,0);return vk(n-e(r),t-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sp=.001;function FN({duration:e=Pt.duration,bounce:t=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let i,s,o=1-t;o=yi(Pt.minDamping,Pt.maxDamping,o),e=yi(Pt.minDuration,Pt.maxDuration,sr(e)),o<1?(i=u=>{const c=u*o,f=c*e,p=c-n,m=Hm(u,o),_=Math.exp(-f);return sp-p/m*_},s=u=>{const f=u*o*e,p=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,_=Math.exp(-f),y=Hm(Math.pow(u,2),o);return(-i(u)+sp>0?-1:1)*((p-m)*_)/y}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-sp+c*f},s=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=UN(i,s,a);if(e=Hr(e),isNaN(l))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const BN=12;function UN(e,t,n){let r=n;for(let i=1;i<BN;i++)r=r-e(r)/t(r);return r}function Hm(e,t){return e*Math.sqrt(1-t*t)}const zN=["duration","bounce"],VN=["stiffness","damping","mass"];function fb(e,t){return t.some(n=>e[n]!==void 0)}function KN(e){let t={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...e};if(!fb(e,VN)&&fb(e,zN))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*yi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Pt.mass,stiffness:i,damping:s}}else{const n=FN(e);t={...t,...n,mass:Pt.mass},t.isResolvedFromDuration=!0}return t}function qd(e=Pt.visualDuration,t=Pt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:p,isResolvedFromDuration:m}=KN({...n,velocity:-sr(n.velocity||0)}),_=p||0,y=u/(2*Math.sqrt(l*c)),x=o-s,g=sr(Math.sqrt(l/c)),v=Math.abs(x)<5;r||(r=v?Pt.restSpeed.granular:Pt.restSpeed.default),i||(i=v?Pt.restDelta.granular:Pt.restDelta.default);let w;if(y<1){const O=Hm(g,y);w=R=>{const I=Math.exp(-y*g*R);return o-I*((_+y*g*x)/O*Math.sin(O*R)+x*Math.cos(O*R))}}else if(y===1)w=O=>o-Math.exp(-g*O)*(x+(_+g*x)*O);else{const O=g*Math.sqrt(y*y-1);w=R=>{const I=Math.exp(-y*g*R),M=Math.min(O*R,300);return o-I*((_+y*g*x)*Math.sinh(M)+O*x*Math.cosh(M))/O}}const C={calculatedDuration:m&&f||null,next:O=>{const R=w(O);if(m)a.done=O>=f;else{let I=O===0?_:0;y<1&&(I=O===0?Hr(_):Fk(w,O,R));const M=Math.abs(I)<=r,z=Math.abs(o-R)<=i;a.done=M&&z}return a.value=a.done?o:R,a},toString:()=>{const O=Math.min(Zy(C),Hd),R=Mk(I=>C.next(O*I).value,O,30);return O+"ms "+R},toTransition:()=>{}};return C}qd.applyToOptions=e=>{const t=$N(e,100,qd);return e.ease=t.ease,e.duration=Hr(t.duration),e.type="keyframes",e};function qm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],p={done:!1,value:f},m=M=>a!==void 0&&M<a||l!==void 0&&M>l,_=M=>a===void 0?l:l===void 0||Math.abs(a-M)<Math.abs(l-M)?a:l;let y=n*t;const x=f+y,g=o===void 0?x:o(x);g!==x&&(y=g-f);const v=M=>-y*Math.exp(-M/r),w=M=>g+v(M),C=M=>{const z=v(M),W=w(M);p.done=Math.abs(z)<=u,p.value=p.done?g:W};let O,R;const I=M=>{m(p.value)&&(O=M,R=qd({keyframes:[p.value,_(p.value)],velocity:Fk(w,M,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return I(0),{calculatedDuration:null,next:M=>{let z=!1;return!R&&O===void 0&&(z=!0,C(M),I(M)),O!==void 0&&M>=O?R.next(M-O):(!z&&C(M),p)}}}function WN(e,t,n){const r=[],i=n||vi.mix||$k,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ar:t;a=Nu(l,a)}r.push(a)}return r}function HN(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(zy(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=WN(t,r,i),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(c<e[f+1]);f++);const p=du(e[f],e[f+1],c);return a[f](p)};return n?c=>u(yi(e[0],e[s-1],c)):u}function qN(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=du(0,t,r);e.push(St(n,1,i))}}function GN(e){const t=[0];return qN(t,e.length-1),t}function QN(e,t){return e.map(n=>n*t)}function YN(e,t){return e.map(()=>t||Tk).splice(0,e.length-1)}function Ll({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=aN(r)?r.map(ab):ab(r),s={done:!1,value:t[0]},o=QN(n&&n.length===t.length?n:GN(t),e),a=HN(o,t,{ease:Array.isArray(i)?i:YN(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const JN=e=>e!==null;function Xy(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(JN),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const ZN={decay:qm,inertia:qm,tween:Ll,keyframes:Ll,spring:qd};function Bk(e){typeof e.type=="string"&&(e.type=ZN[e.type])}class ev{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const XN=e=>e/100;class tv extends ev{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==jn.now()&&this.tick(jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Bk(t);const{type:n=Ll,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Ll;l!==Ll&&typeof a[0]!="number"&&(this.mixKeyframes=Nu(XN,$k(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Zy(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:p,repeatDelay:m,type:_,onUpdate:y,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,C=r;if(f){const M=Math.min(this.currentTime,i)/a;let z=Math.floor(M),W=M%1;!W&&M>=1&&(W=1),W===1&&z--,z=Math.min(z,f+1),!!(z%2)&&(p==="reverse"?(W=1-W,m&&(W-=m/a)):p==="mirror"&&(C=o)),w=yi(0,1,W)*a}const O=v?{done:!1,value:c[0]}:C.next(w);s&&(O.value=s(O.value));let{done:R}=O;!v&&l!==null&&(R=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return I&&_!==qm&&(O.value=Xy(c,this.options,x,this.speed)),y&&y(O.value),I&&this.finish(),O}then(t,n){return this.finished.then(t,n)}get duration(){return sr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+sr(t)}get time(){return sr(this.currentTime)}set time(t){var n;t=Hr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(jn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=sr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=LN,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function eL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Hs=e=>e*180/Math.PI,Gm=e=>{const t=Hs(Math.atan2(e[1],e[0]));return Qm(t)},tL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Gm,rotateZ:Gm,skewX:e=>Hs(Math.atan(e[1])),skewY:e=>Hs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Qm=e=>(e=e%360,e<0&&(e+=360),e),hb=Gm,pb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),mb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),nL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pb,scaleY:mb,scale:e=>(pb(e)+mb(e))/2,rotateX:e=>Qm(Hs(Math.atan2(e[6],e[5]))),rotateY:e=>Qm(Hs(Math.atan2(-e[2],e[0]))),rotateZ:hb,rotate:hb,skewX:e=>Hs(Math.atan(e[4])),skewY:e=>Hs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ym(e){return e.includes("scale")?1:0}function Jm(e,t){if(!e||e==="none")return Ym(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=nL,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=tL,i=a}if(!i)return Ym(t);const s=r[t],o=i[1].split(",").map(iL);return typeof s=="function"?s(o):o[s]}const rL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Jm(n,t)};function iL(e){return parseFloat(e.trim())}const za=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Va=new Set(za),gb=e=>e===Ua||e===He,sL=new Set(["x","y","z"]),oL=za.filter(e=>!sL.has(e));function aL(e){const t=[];return oL.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const so={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Jm(t,"x"),y:(e,{transform:t})=>Jm(t,"y")};so.translateX=so.x;so.translateY=so.y;const oo=new Set;let Zm=!1,Xm=!1,eg=!1;function Uk(){if(Xm){const e=Array.from(oo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=aL(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xm=!1,Zm=!1,oo.forEach(e=>e.complete(eg)),oo.clear()}function zk(){oo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xm=!0)})}function lL(){eg=!0,zk(),Uk(),eg=!1}class nv{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(oo.add(this),Zm||(Zm=!0,bt.read(zk),bt.resolveKeyframes(Uk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}eL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oo.delete(this)}cancel(){this.state==="scheduled"&&(oo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const uL=e=>e.startsWith("--");function cL(e,t,n){uL(t)?e.style.setProperty(t,n):e.style[t]=n}const dL=Vy(()=>window.ScrollTimeline!==void 0),fL={};function hL(e,t){const n=Vy(e);return()=>fL[t]??n()}const Vk=hL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,yb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wl([0,.65,.55,1]),circOut:wl([.55,0,1,.45]),backIn:wl([.31,.01,.66,-.59]),backOut:wl([.33,1.53,.69,.99])};function Kk(e,t){if(e)return typeof e=="function"?Vk()?Mk(e,t):"ease-out":Pk(e)?wl(e):Array.isArray(e)?e.map(n=>Kk(n,t)||yb.easeOut):yb[e]}function pL(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const f=Kk(a,i);Array.isArray(f)&&(c.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(c,p)}function Wk(e){return typeof e=="function"&&"applyToOptions"in e}function mL({type:e,...t}){return Wk(e)&&Vk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class gL extends ev{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,zy(typeof t.type!="string");const u=mL(t);this.animation=pL(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=Xy(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):cL(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return sr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+sr(t)}get time(){return sr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Hr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&dL()?(this.animation.timeline=t,ar):n(this)}}const Hk={anticipate:kk,backInOut:Sk,circInOut:Ck};function yL(e){return e in Hk}function vL(e){typeof e.ease=="string"&&yL(e.ease)&&(e.ease=Hk[e.ease])}const vb=10;class wL extends gL{constructor(t){vL(t),Bk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new tv({...o,autoplay:!1}),l=Hr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-vb).value,a.sample(l).value,vb),a.stop()}}const wb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ms.test(e)||e==="0")&&!e.startsWith("url("));function bL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function _L(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=wb(i,t),a=wb(s,t);return!o||!a?!1:bL(e)||(n==="spring"||Wk(n))&&r}function tg(e){e.duration=0,e.type="keyframes"}const xL=new Set(["opacity","clipPath","filter","transform"]),SL=Vy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kL(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return SL()&&n&&xL.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const EL=40;class CL extends ev{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...f}){var _;super(),this.stop=()=>{var y,x;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=jn.now();const p={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...f},m=(c==null?void 0:c.KeyframeResolver)||nv;this.keyframeResolver=new m(a,(y,x,g)=>this.onKeyframesResolved(y,x,p,!g),l,u,c),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=jn.now(),_L(t,s,o,a)||((vi.instantAnimations||!l)&&(c==null||c(Xy(t,r,n))),t[0]=t[t.length-1],tg(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>EL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&kL(p)?new wL({...p,element:p.motionValue.owner.current}):new tv(p);m.finished.then(()=>this.notifyFinished()).catch(ar),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),lL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const TL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PL(e){const t=TL.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function qk(e,t,n=1){const[r,i]=PL(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return mk(o)?parseFloat(o):o}return Gy(i)?qk(i,t,n+1):i}function rv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Gk=new Set(["width","height","top","left","right","bottom",...za]),AL={test:e=>e==="auto",parse:e=>e},Qk=e=>t=>t.test(e),Yk=[Ua,He,qr,Li,bN,wN,AL],bb=e=>Yk.find(Qk(e));function jL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||yk(e):!0}const OL=new Set(["brightness","contrast","saturate","opacity"]);function RL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Qy)||[];if(!r)return e;const i=n.replace(r,"");let s=OL.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const IL=/\b([a-z-]*)\(.*?\)/gu,ng={...ms,getAnimatableNone:e=>{const t=e.match(IL);return t?t.map(RL).join(" "):e}},_b={...Ua,transform:Math.round},DL={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Mc,scaleX:Mc,scaleY:Mc,scaleZ:Mc,skew:Li,skewX:Li,skewY:Li,distance:He,translateX:He,translateY:He,translateZ:He,x:He,y:He,z:He,perspective:He,transformPerspective:He,opacity:fu,originX:lb,originY:lb,originZ:He},iv={borderWidth:He,borderTopWidth:He,borderRightWidth:He,borderBottomWidth:He,borderLeftWidth:He,borderRadius:He,radius:He,borderTopLeftRadius:He,borderTopRightRadius:He,borderBottomRightRadius:He,borderBottomLeftRadius:He,width:He,maxWidth:He,height:He,maxHeight:He,top:He,right:He,bottom:He,left:He,padding:He,paddingTop:He,paddingRight:He,paddingBottom:He,paddingLeft:He,margin:He,marginTop:He,marginRight:He,marginBottom:He,marginLeft:He,backgroundPositionX:He,backgroundPositionY:He,...DL,zIndex:_b,fillOpacity:fu,strokeOpacity:fu,numOctaves:_b},NL={...iv,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:ng,WebkitFilter:ng},Jk=e=>NL[e];function Zk(e,t){let n=Jk(e);return n!==ng&&(n=ms),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const LL=new Set(["auto","none","0"]);function $L(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!LL.has(s)&&hu(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=Zk(n,i)}class ML extends nv{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Gy(u))){const c=qk(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Gk.has(r)||t.length!==2)return;const[i,s]=t,o=bb(i),a=bb(s);if(o!==a)if(gb(o)&&gb(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else so[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||jL(t[i]))&&r.push(i);r.length&&$L(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=so[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=so[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function FL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Xk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function eE(e){return gk(e)&&"offsetHeight"in e}const xb=30,BL=e=>!isNaN(parseFloat(e));class UL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=jn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=jn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=BL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ky);const r=this.events[t].add(n);return t==="change"?()=>{r(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xb);return vk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ja(e,t){return new UL(e,t)}const{schedule:sv}=Ak(queueMicrotask,!1),gr={x:!1,y:!1};function tE(){return gr.x||gr.y}function zL(e){return e==="x"||e==="y"?gr[e]?null:(gr[e]=!0,()=>{gr[e]=!1}):gr.x||gr.y?null:(gr.x=gr.y=!0,()=>{gr.x=gr.y=!1})}function nE(e,t){const n=FL(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Sb(e){return!(e.pointerType==="touch"||tE())}function VL(e,t,n={}){const[r,i,s]=nE(e,n),o=a=>{if(!Sb(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const c=f=>{Sb(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const rE=(e,t)=>t?e===t?!0:rE(e,t.parentElement):!1,ov=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,KL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WL(e){return KL.has(e.tagName)||e.tabIndex!==-1}const ad=new WeakSet;function kb(e){return t=>{t.key==="Enter"&&e(t)}}function op(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const HL=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=kb(()=>{if(ad.has(n))return;op(n,"down");const i=kb(()=>{op(n,"up")}),s=()=>op(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Eb(e){return ov(e)&&!tE()}function qL(e,t,n={}){const[r,i,s]=nE(e,n),o=a=>{const l=a.currentTarget;if(!Eb(a))return;ad.add(l);const u=t(l,a),c=(m,_)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),ad.has(l)&&ad.delete(l),Eb(m)&&typeof u=="function"&&u(m,{success:_})},f=m=>{c(m,l===window||l===document||n.useGlobalTarget||rE(l,m.target))},p=m=>{c(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),eE(a)&&(a.addEventListener("focus",u=>HL(u,i)),!WL(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function iE(e){return gk(e)&&"ownerSVGElement"in e}function GL(e){return iE(e)&&e.tagName==="svg"}const un=e=>!!(e&&e.getVelocity),QL=[...Yk,$t,ms],YL=e=>QL.find(Qk(e)),av=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Cb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function JL(...e){return t=>{let n=!1;const r=e.map(i=>{const s=Cb(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Cb(e[i],null)}}}}function ZL(...e){return E.useCallback(JL(...e),e)}class XL extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=eE(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function e$({children:e,isPresent:t,anchorX:n,root:r}){const i=E.useId(),s=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=E.useContext(av),l=ZL(s,e==null?void 0:e.ref);return E.useInsertionEffect(()=>{const{width:u,height:c,top:f,left:p,right:m}=o.current;if(t||!s.current||!u||!c)return;const _=n==="left"?`left: ${p}`:`right: ${m}`;s.current.dataset.motionPopId=i;const y=document.createElement("style");a&&(y.nonce=a);const x=r??document.head;return x.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(y)&&x.removeChild(y)}},[t]),k.jsx(XL,{isPresent:t,childRef:s,sizeRef:o,children:E.cloneElement(e,{ref:l})})}const t$=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=My(n$),c=E.useId();let f=!0,p=E.useMemo(()=>(f=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const _ of u.values())if(!_)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return s&&f&&(p={...p}),E.useMemo(()=>{u.forEach((m,_)=>u.set(_,!1))},[n]),E.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=k.jsx(e$,{isPresent:n,anchorX:a,root:l,children:e})),k.jsx(Tf.Provider,{value:p,children:e})};function n$(){return new Map}function sE(e=!0){const t=E.useContext(Tf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=E.useId();E.useEffect(()=>{if(e)return i(s)},[e]);const o=E.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Fc=e=>e.key||"";function Tb(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const r$=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=sE(o),f=E.useMemo(()=>Tb(e),[e]),p=o&&!u?[]:f.map(Fc),m=E.useRef(!0),_=E.useRef(f),y=My(()=>new Map),[x,g]=E.useState(f),[v,w]=E.useState(f);pk(()=>{m.current=!1,_.current=f;for(let R=0;R<v.length;R++){const I=Fc(v[R]);p.includes(I)?y.delete(I):y.get(I)!==!0&&y.set(I,!1)}},[v,p.length,p.join("-")]);const C=[];if(f!==x){let R=[...f];for(let I=0;I<v.length;I++){const M=v[I],z=Fc(M);p.includes(z)||(R.splice(I,0,M),C.push(M))}return s==="wait"&&C.length&&(R=C),w(Tb(R)),g(f),null}const{forceRender:O}=E.useContext($y);return k.jsx(k.Fragment,{children:v.map(R=>{const I=Fc(R),M=o&&!u?!1:f===v||p.includes(I),z=()=>{if(y.has(I))y.set(I,!0);else return;let W=!0;y.forEach(ve=>{ve||(W=!1)}),W&&(O==null||O(),w(_.current),o&&(c==null||c()),r&&r())};return k.jsx(t$,{isPresent:M,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:M?void 0:z,anchorX:a,children:R},I)})})},oE=E.createContext({strict:!1}),Pb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oa={};for(const e in Pb)Oa[e]={isEnabled:t=>Pb[e].some(n=>!!t[n])};function i$(e){for(const t in e)Oa[t]={...Oa[t],...e[t]}}const s$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||s$.has(e)}let aE=e=>!Gd(e);function o$(e){typeof e=="function"&&(aE=t=>t.startsWith("on")?!Gd(t):e(t))}try{o$(require("@emotion/is-prop-valid").default)}catch{}function a$(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(aE(i)||n===!0&&Gd(i)||!t&&!Gd(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Pf=E.createContext({});function Af(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function pu(e){return typeof e=="string"||Array.isArray(e)}const lv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uv=["initial",...lv];function jf(e){return Af(e.animate)||uv.some(t=>pu(e[t]))}function lE(e){return!!(jf(e)||e.variants)}function l$(e,t){if(jf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||pu(n)?n:void 0,animate:pu(r)?r:void 0}}return e.inherit!==!1?t:{}}function u$(e){const{initial:t,animate:n}=l$(e,E.useContext(Pf));return E.useMemo(()=>({initial:t,animate:n}),[Ab(t),Ab(n)])}function Ab(e){return Array.isArray(e)?e.join(" "):e}const mu={};function c$(e){for(const t in e)mu[t]=e[t],qy(t)&&(mu[t].isCSSVariable=!0)}function uE(e,{layout:t,layoutId:n}){return Va.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!mu[e]||e==="opacity")}const d$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f$=za.length;function h$(e,t,n){let r="",i=!0;for(let s=0;s<f$;s++){const o=za[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Xk(a,iv[o]);if(!l){i=!1;const c=d$[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function cv(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Va.has(l)){o=!0;continue}else if(qy(l)){i[l]=u;continue}else{const c=Xk(u,iv[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=h$(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const dv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cE(e,t,n){for(const r in t)!un(t[r])&&!uE(r,n)&&(e[r]=t[r])}function p$({transformTemplate:e},t){return E.useMemo(()=>{const n=dv();return cv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function m$(e,t){const n=e.style||{},r={};return cE(r,n,e),Object.assign(r,p$(e,t)),r}function g$(e,t){const n={},r=m$(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const y$={offset:"stroke-dashoffset",array:"stroke-dasharray"},v$={offset:"strokeDashoffset",array:"strokeDasharray"};function w$(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?y$:v$;e[s.offset]=He.transform(-r);const o=He.transform(t),a=He.transform(n);e[s.array]=`${o} ${a}`}function dE(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(cv(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p}=e;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&w$(f,i,s,o,!1)}const fE=()=>({...dv(),attrs:{}}),hE=e=>typeof e=="string"&&e.toLowerCase()==="svg";function b$(e,t,n,r){const i=E.useMemo(()=>{const s=fE();return dE(s,t,hE(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};cE(s,e.style,e),i.style={...s,...i.style}}return i}const _$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fv(e){return typeof e!="string"||e.includes("-")?!1:!!(_$.indexOf(e)>-1||/[A-Z]/u.test(e))}function x$(e,t,n,{latestValues:r},i,s=!1){const a=(fv(e)?b$:g$)(t,r,i,e),l=a$(t,typeof e=="string",s),u=e!==E.Fragment?{...l,...a,ref:n}:{},{children:c}=t,f=E.useMemo(()=>un(c)?c.get():c,[c]);return E.createElement(e,{...u,children:f})}function jb(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function hv(e,t,n,r){if(typeof t=="function"){const[i,s]=jb(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=jb(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function ld(e){return un(e)?e.get():e}function S$({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:k$(n,r,i,e),renderState:t()}}function k$(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=ld(s[p]);let{initial:o,animate:a}=e;const l=jf(e),u=lE(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!Af(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const _=hv(e,p[m]);if(_){const{transitionEnd:y,transition:x,...g}=_;for(const v in g){let w=g[v];if(Array.isArray(w)){const C=c?w.length-1:0;w=w[C]}w!==null&&(i[v]=w)}for(const v in y)i[v]=y[v]}}}return i}const pE=e=>(t,n)=>{const r=E.useContext(Pf),i=E.useContext(Tf),s=()=>S$(e,t,r,i);return n?s():My(s)};function pv(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(un(r[o])||t.style&&un(t.style[o])||uE(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const E$=pE({scrapeMotionValuesFromProps:pv,createRenderState:dv});function mE(e,t,n){const r=pv(e,t,n);for(const i in e)if(un(e[i])||un(t[i])){const s=za.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const C$=pE({scrapeMotionValuesFromProps:mE,createRenderState:fE}),T$=Symbol.for("motionComponentSymbol");function Zo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function P$(e,t,n){return E.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Zo(n)&&(n.current=r))},[t])}const mv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A$="framerAppearId",gE="data-"+mv(A$),yE=E.createContext({});function j$(e,t,n,r,i){var y,x;const{visualElement:s}=E.useContext(Pf),o=E.useContext(oE),a=E.useContext(Tf),l=E.useContext(av).reducedMotion,u=E.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=E.useContext(yE);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&O$(u.current,n,i,f);const p=E.useRef(!1);E.useInsertionEffect(()=>{c&&p.current&&c.update(n,a)});const m=n[gE],_=E.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return pk(()=>{c&&(p.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),_.current&&c.animationState&&c.animationState.animateChanges())}),E.useEffect(()=>{c&&(!_.current&&c.animationState&&c.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),_.current=!1),c.enteringChildren=void 0)}),c}function O$(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:vE(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Zo(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function vE(e){if(e)return e.options.allowProjection!==!1?e.projection:vE(e.parent)}function ap(e,{forwardMotionProps:t=!1}={},n,r){n&&i$(n);const i=fv(e)?C$:E$;function s(a,l){let u;const c={...E.useContext(av),...a,layoutId:R$(a)},{isStatic:f}=c,p=u$(a),m=i(a,f);if(!f&&Fy){I$();const _=D$(c);u=_.MeasureLayout,p.visualElement=j$(e,m,c,r,_.ProjectionNode)}return k.jsxs(Pf.Provider,{value:p,children:[u&&p.visualElement?k.jsx(u,{visualElement:p.visualElement,...c}):null,x$(e,a,P$(m,p.visualElement,l),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=E.forwardRef(s);return o[T$]=e,o}function R$({layoutId:e}){const t=E.useContext($y).id;return t&&e!==void 0?t+"-"+e:e}function I$(e,t){E.useContext(oE).strict}function D$(e){const{drag:t,layout:n}=Oa;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function N$(e,t){if(typeof Proxy>"u")return ap;const n=new Map,r=(s,o)=>ap(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,ap(o,void 0,e,t)),n.get(o))})}function wE({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function L$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $$(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function lp(e){return e===void 0||e===1}function rg({scale:e,scaleX:t,scaleY:n}){return!lp(e)||!lp(t)||!lp(n)}function Ns(e){return rg(e)||bE(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bE(e){return Ob(e.x)||Ob(e.y)}function Ob(e){return e&&e!=="0%"}function Qd(e,t,n){const r=e-n,i=t*r;return n+i}function Rb(e,t,n,r,i){return i!==void 0&&(e=Qd(e,i,r)),Qd(e,n,r)+t}function ig(e,t=0,n=1,r,i){e.min=Rb(e.min,t,n,r,i),e.max=Rb(e.max,t,n,r,i)}function _E(e,{x:t,y:n}){ig(e.x,t.translate,t.scale,t.originPoint),ig(e.y,n.translate,n.scale,n.originPoint)}const Ib=.999999999999,Db=1.0000000000001;function M$(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ea(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,_E(e,o)),r&&Ns(s.latestValues)&&ea(e,s.latestValues))}t.x<Db&&t.x>Ib&&(t.x=1),t.y<Db&&t.y>Ib&&(t.y=1)}function Xo(e,t){e.min=e.min+t,e.max=e.max+t}function Nb(e,t,n,r,i=.5){const s=St(e.min,e.max,i);ig(e,t,n,s,r)}function ea(e,t){Nb(e.x,t.x,t.scaleX,t.scale,t.originX),Nb(e.y,t.y,t.scaleY,t.scale,t.originY)}function xE(e,t){return wE($$(e.getBoundingClientRect(),t))}function F$(e,t,n){const r=xE(e,n),{scroll:i}=t;return i&&(Xo(r.x,i.offset.x),Xo(r.y,i.offset.y)),r}const Lb=()=>({translate:0,scale:1,origin:0,originPoint:0}),ta=()=>({x:Lb(),y:Lb()}),$b=()=>({min:0,max:0}),It=()=>({x:$b(),y:$b()}),sg={current:null},SE={current:!1};function B$(){if(SE.current=!0,!!Fy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sg.current=e.matches;e.addEventListener("change",t),t()}else sg.current=!1}const U$=new WeakMap;function z$(e,t,n){for(const r in t){const i=t[r],s=n[r];if(un(i))e.addValue(r,i);else if(un(s))e.addValue(r,ja(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,ja(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Mb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class V${scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=jn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,bt.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=jf(n),this.isVariantNode=lE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&un(m)&&m.set(l[p])}}mount(t){var n;this.current=t,U$.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),SE.current||B$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ps(this.notifyUpdate),ps(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Va.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Oa){const n=Oa[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Mb.length;r++){const i=Mb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=z$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ja(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(mk(r)||yk(r))?r=parseFloat(r):!YL(r)&&ms.test(n)&&(r=Zk(t,n)),this.setBaseTarget(t,un(r)?r.get():r)),un(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=hv(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!un(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ky),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){sv.render(this.render)}}class kE extends V${constructor(){super(...arguments),this.KeyframeResolver=ML}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function EE(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function K$(e){return window.getComputedStyle(e)}class W$ extends kE{constructor(){super(...arguments),this.type="html",this.renderInstance=EE}readValueFromInstance(t,n){var r;if(Va.has(n))return(r=this.projection)!=null&&r.isProjecting?Ym(n):rL(t,n);{const i=K$(t),s=(qy(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return xE(t,n)}build(t,n,r){cv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return pv(t,n,r)}}const CE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H$(e,t,n,r){EE(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(CE.has(i)?i:mv(i),t.attrs[i])}class q$ extends kE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Va.has(n)){const r=Jk(n);return r&&r.default||0}return n=CE.has(n)?n:mv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return mE(t,n,r)}build(t,n,r){dE(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){H$(t,n,r,i)}mount(t){this.isSVGTag=hE(t.tagName),super.mount(t)}}const G$=(e,t)=>fv(e)?new q$(t):new W$(t,{allowProjection:e!==E.Fragment});function ua(e,t,n){const r=e.getProps();return hv(r,t,n!==void 0?n:r.custom,e)}const og=e=>Array.isArray(e);function Q$(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ja(n))}function Y$(e){return og(e)?e[e.length-1]||0:e}function J$(e,t){const n=ua(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Y$(s[o]);Q$(e,o,a)}}function Z$(e){return!!(un(e)&&e.add)}function ag(e,t){const n=e.getValue("willChange");if(Z$(n))return n.add(t);if(!n&&vi.WillChange){const r=new vi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function TE(e){return e.props[gE]}const X$=e=>e!==null;function eM(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(X$),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const tM={type:"spring",stiffness:500,damping:25,restSpeed:10},nM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),rM={type:"keyframes",duration:.8},iM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sM=(e,{keyframes:t})=>t.length>2?rM:Va.has(e)?e.startsWith("scale")?nM(t[1]):tM:iM;function oM({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const gv=(e,t,n,r={},i,s)=>o=>{const a=rv(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Hr(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};oM(a)||Object.assign(c,sM(e,c)),c.duration&&(c.duration=Hr(c.duration)),c.repeatDelay&&(c.repeatDelay=Hr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(tg(c),c.delay===0&&(f=!0)),(vi.instantAnimations||vi.skipAnimations)&&(f=!0,tg(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,f&&!s&&t.get()!==void 0){const p=eM(c.keyframes,a);if(p!==void 0){bt.update(()=>{c.onUpdate(p),c.onComplete()});return}}return a.isSync?new tv(c):new CL(c)};function aM({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function PE(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const c in a){const f=e.getValue(c,e.latestValues[c]??null),p=a[c];if(p===void 0||u&&aM(u,c))continue;const m={delay:n,...rv(s||{},c)},_=f.get();if(_!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===_&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=TE(e);if(g){const v=window.MotionHandoffAnimation(g,c,bt);v!==null&&(m.startTime=v,y=!0)}}ag(e,c),f.start(gv(c,f,p,e.shouldReduceMotion&&Gk.has(c)?{type:!1}:m,e,y));const x=f.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{bt.update(()=>{o&&J$(e,o)})}),l}function AE(e,t,n,r=0,i=1){const s=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function lg(e,t,n={}){var l;const r=ua(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(PE(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:p}=i;return lM(e,t,u,c,f,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function lM(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(lg(l,t,{...o,delay:n+(typeof r=="function"?0:r)+AE(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function uM(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>lg(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=lg(e,t,n);else{const i=typeof t=="function"?ua(e,t,n.custom):t;r=Promise.all(PE(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function jE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const cM=uv.length;function OE(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?OE(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<cM;n++){const r=uv[n],i=e.props[r];(pu(i)||i===!1)&&(t[r]=i)}return t}const dM=[...lv].reverse(),fM=lv.length;function hM(e){return t=>Promise.all(t.map(({animation:n,options:r})=>uM(e,n,r)))}function pM(e){let t=hM(e),n=Fb(),r=!0;const i=l=>(u,c)=>{var p;const f=ua(e,c,l==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:m,transitionEnd:_,...y}=f;u={...u,...y,..._}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,c=OE(e.parent)||{},f=[],p=new Set;let m={},_=1/0;for(let x=0;x<fM;x++){const g=dM[x],v=n[g],w=u[g]!==void 0?u[g]:c[g],C=pu(w),O=g===l?v.isActive:null;O===!1&&(_=x);let R=w===c[g]&&w!==u[g]&&C;if(R&&r&&e.manuallyAnimateOnMount&&(R=!1),v.protectedKeys={...m},!v.isActive&&O===null||!w&&!v.prevProp||Af(w)||typeof w=="boolean")continue;const I=mM(v.prevProp,w);let M=I||g===l&&v.isActive&&!R&&C||x>_&&C,z=!1;const W=Array.isArray(w)?w:[w];let ve=W.reduce(i(g),{});O===!1&&(ve={});const{prevResolvedValues:F={}}=v,ee={...F,...ve},A=$=>{M=!0,p.has($)&&(z=!0,p.delete($)),v.needsAnimating[$]=!0;const X=e.getValue($);X&&(X.liveStyle=!1)};for(const $ in ee){const X=ve[$],Z=F[$];if(m.hasOwnProperty($))continue;let ue=!1;og(X)&&og(Z)?ue=!jE(X,Z):ue=X!==Z,ue?X!=null?A($):p.add($):X!==void 0&&p.has($)?A($):v.protectedKeys[$]=!0}v.prevProp=w,v.prevResolvedValues=ve,v.isActive&&(m={...m,...ve}),r&&e.blockInitialAnimation&&(M=!1);const le=R&&I;M&&(!le||z)&&f.push(...W.map($=>{const X={type:g};if(typeof $=="string"&&r&&!le&&e.manuallyAnimateOnMount&&e.parent){const{parent:Z}=e,ue=ua(Z,$);if(Z.enteringChildren&&ue){const{delayChildren:U}=ue.transition||{};X.delay=AE(Z.enteringChildren,e,U)}}return{animation:$,options:X}}))}if(p.size){const x={};if(typeof u.initial!="boolean"){const g=ua(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(x.transition=g.transition)}p.forEach(g=>{const v=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),x[g]=v??null}),f.push({animation:x})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const p in n)n[p].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Fb(),r=!0}}}function mM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jE(t,e):!1}function Os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fb(){return{animate:Os(!0),whileInView:Os(),whileHover:Os(),whileTap:Os(),whileDrag:Os(),whileFocus:Os(),exit:Os()}}class _s{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gM extends _s{constructor(t){super(t),t.animationState||(t.animationState=pM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Af(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let yM=0;class vM extends _s{constructor(){super(...arguments),this.id=yM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wM={animation:{Feature:gM},exit:{Feature:vM}};function gu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Mu(e){return{point:{x:e.pageX,y:e.pageY}}}const bM=e=>t=>ov(t)&&e(t,Mu(t));function $l(e,t,n,r){return gu(e,t,bM(n),r)}const RE=1e-4,_M=1-RE,xM=1+RE,IE=.01,SM=0-IE,kM=0+IE;function yn(e){return e.max-e.min}function EM(e,t,n){return Math.abs(e-t)<=n}function Bb(e,t,n,r=.5){e.origin=r,e.originPoint=St(t.min,t.max,e.origin),e.scale=yn(n)/yn(t),e.translate=St(n.min,n.max,e.origin)-e.originPoint,(e.scale>=_M&&e.scale<=xM||isNaN(e.scale))&&(e.scale=1),(e.translate>=SM&&e.translate<=kM||isNaN(e.translate))&&(e.translate=0)}function Ml(e,t,n,r){Bb(e.x,t.x,n.x,r?r.originX:void 0),Bb(e.y,t.y,n.y,r?r.originY:void 0)}function Ub(e,t,n){e.min=n.min+t.min,e.max=e.min+yn(t)}function CM(e,t,n){Ub(e.x,t.x,n.x),Ub(e.y,t.y,n.y)}function zb(e,t,n){e.min=t.min-n.min,e.max=e.min+yn(t)}function Fl(e,t,n){zb(e.x,t.x,n.x),zb(e.y,t.y,n.y)}function Zn(e){return[e("x"),e("y")]}const DE=({current:e})=>e?e.ownerDocument.defaultView:null,Vb=(e,t)=>Math.abs(e-t);function TM(e,t){const n=Vb(e.x,t.x),r=Vb(e.y,t.y);return Math.sqrt(n**2+r**2)}class NE{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=cp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,_=TM(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!_)return;const{point:y}=p,{timestamp:x}=Jt;this.history.push({...y,timestamp:x});const{onStart:g,onMove:v}=this.handlers;m||(g&&g(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=up(m,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:_,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=cp(p.type==="pointercancel"?this.lastMoveEventInfo:up(m,this.transformPagePoint),this.history);this.startEvent&&_&&_(p,g),y&&y(p,g)},!ov(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Mu(t),l=up(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=Jt;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=n;f&&f(t,cp(l,this.history)),this.removeListeners=Nu($l(this.contextWindow,"pointermove",this.handlePointerMove),$l(this.contextWindow,"pointerup",this.handlePointerUp),$l(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ps(this.updatePoint)}}function up(e,t){return t?{point:t(e.point)}:e}function Kb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cp({point:e},t){return{point:e,delta:Kb(e,LE(t)),offset:Kb(e,PM(t)),velocity:AM(t,.1)}}function PM(e){return e[0]}function LE(e){return e[e.length-1]}function AM(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=LE(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Hr(t)));)n--;if(!r)return{x:0,y:0};const s=sr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function jM(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?St(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?St(n,e,r.max):Math.min(e,n)),e}function Wb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function OM(e,{top:t,left:n,bottom:r,right:i}){return{x:Wb(e.x,n,i),y:Wb(e.y,t,r)}}function Hb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function RM(e,t){return{x:Hb(e.x,t.x),y:Hb(e.y,t.y)}}function IM(e,t){let n=.5;const r=yn(e),i=yn(t);return i>r?n=du(t.min,t.max-r,e.min):r>i&&(n=du(e.min,e.max-i,t.min)),yi(0,1,n)}function DM(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ug=.35;function NM(e=ug){return e===!1?e=0:e===!0&&(e=ug),{x:qb(e,"left","right"),y:qb(e,"top","bottom")}}function qb(e,t,n){return{min:Gb(e,t),max:Gb(e,n)}}function Gb(e,t){return typeof e=="number"?e:e[t]||0}const LM=new WeakMap;class $M{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mu(f).point)},o=(f,p)=>{const{drag:m,dragPropagation:_,onDragStart:y}=this.getProps();if(m&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zL(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zn(g=>{let v=this.getAxisMotionValue(g).get()||0;if(qr.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const C=w.layout.layoutBox[g];C&&(v=yn(C)*(parseFloat(v)/100))}}this.originPoint[g]=v}),y&&bt.postRender(()=>y(f,p)),ag(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:_,onDirectionLock:y,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=p;if(_&&this.currentDirection===null){this.currentDirection=MM(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,g),this.updateAxis("y",p.point,g),this.visualElement.render(),x&&x(f,p)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Zn(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new NE(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:DE(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&bt.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Bc(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=jM(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Zo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=OM(r.layoutBox,t):this.constraints=!1,this.elastic=NM(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=DM(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Zo(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=F$(r,i.root,this.visualElement.getTransformPagePoint());let o=RM(i.layout.layoutBox,s);if(n){const a=n(L$(o));this.hasMutatedConstraints=!!a,a&&(o=wE(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Zn(c=>{if(!Bc(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,_={type:"inertia",velocity:r?t[c]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,_)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ag(this.visualElement,t),r.start(gv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Zn(n=>{const{drag:r}=this.getProps();if(!Bc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-St(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Zn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=IM({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zn(o=>{if(!Bc(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(St(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;LM.set(this.visualElement,this);const t=this.visualElement.current,n=$l(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Zo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),bt.read(r);const o=gu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Zn(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ug,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Bc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function MM(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class FM extends _s{constructor(t){super(t),this.removeGroupControls=ar,this.removeListeners=ar,this.controls=new $M(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qb=e=>(t,n)=>{e&&bt.postRender(()=>e(t,n))};class BM extends _s{constructor(){super(...arguments),this.removePointerDownListener=ar}onPointerDown(t){this.session=new NE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Qb(t),onStart:Qb(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&bt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=$l(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ul={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(He.test(e))e=parseFloat(e);else return e;const n=Yb(e,t.target.x),r=Yb(e,t.target.y);return`${n}% ${r}%`}},UM={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ms.parse(e);if(i.length>5)return r;const s=ms.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=St(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let dp=!1;class zM extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;c$(VM),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),dp&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,dp=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||bt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;dp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $E(e){const[t,n]=sE(),r=E.useContext($y);return k.jsx(zM,{...e,layoutGroup:r,switchLayoutGroup:E.useContext(yE),isPresent:t,safeToRemove:n})}const VM={borderRadius:{...ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ul,borderTopRightRadius:ul,borderBottomLeftRadius:ul,borderBottomRightRadius:ul,boxShadow:UM};function KM(e,t,n){const r=un(e)?e:ja(e);return r.start(gv("",r,t,n)),r.animation}const WM=(e,t)=>e.depth-t.depth;class HM{constructor(){this.children=[],this.isDirty=!1}add(t){By(this.children,t),this.isDirty=!0}remove(t){Uy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(WM),this.isDirty=!1,this.children.forEach(t)}}function qM(e,t){const n=jn.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(ps(r),e(s-t))};return bt.setup(r,!0),()=>ps(r)}const ME=["TopLeft","TopRight","BottomLeft","BottomRight"],GM=ME.length,Jb=e=>typeof e=="string"?parseFloat(e):e,Zb=e=>typeof e=="number"||He.test(e);function QM(e,t,n,r,i,s){i?(e.opacity=St(0,n.opacity??1,YM(r)),e.opacityExit=St(t.opacity??1,0,JM(r))):s&&(e.opacity=St(t.opacity??1,n.opacity??1,r));for(let o=0;o<GM;o++){const a=`border${ME[o]}Radius`;let l=Xb(t,a),u=Xb(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Zb(l)===Zb(u)?(e[a]=Math.max(St(Jb(l),Jb(u),r),0),(qr.test(u)||qr.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=St(t.rotate||0,n.rotate||0,r))}function Xb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const YM=FE(0,.5,Ek),JM=FE(.5,.95,ar);function FE(e,t,n){return r=>r<e?0:r>t?1:n(du(e,t,r))}function e_(e,t){e.min=t.min,e.max=t.max}function Yn(e,t){e_(e.x,t.x),e_(e.y,t.y)}function t_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function n_(e,t,n,r,i){return e-=t,e=Qd(e,1/n,r),i!==void 0&&(e=Qd(e,1/i,r)),e}function ZM(e,t=0,n=1,r=.5,i,s=e,o=e){if(qr.test(t)&&(t=parseFloat(t),t=St(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=St(s.min,s.max,r);e===s&&(a-=t),e.min=n_(e.min,t,n,a,i),e.max=n_(e.max,t,n,a,i)}function r_(e,t,[n,r,i],s,o){ZM(e,t[n],t[r],t[i],t.scale,s,o)}const XM=["x","scaleX","originX"],e3=["y","scaleY","originY"];function i_(e,t,n,r){r_(e.x,t,XM,n?n.x:void 0,r?r.x:void 0),r_(e.y,t,e3,n?n.y:void 0,r?r.y:void 0)}function s_(e){return e.translate===0&&e.scale===1}function BE(e){return s_(e.x)&&s_(e.y)}function o_(e,t){return e.min===t.min&&e.max===t.max}function t3(e,t){return o_(e.x,t.x)&&o_(e.y,t.y)}function a_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function UE(e,t){return a_(e.x,t.x)&&a_(e.y,t.y)}function l_(e){return yn(e.x)/yn(e.y)}function u_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class n3{constructor(){this.members=[]}add(t){By(this.members,t),t.scheduleRender()}remove(t){if(Uy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function r3(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:p,skewX:m,skewY:_}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const fp=["","X","Y","Z"],i3=1e3;let s3=0;function hp(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function zE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=TE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&zE(r)}function VE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=s3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(l3),this.nodes.forEach(f3),this.nodes.forEach(h3),this.nodes.forEach(u3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new HM)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ky),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=iE(o)&&!GL(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,f=0;const p=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,c&&c(),c=qM(p,250),ud.hasAnimatedSinceResize&&(ud.hasAnimatedSinceResize=!1,this.nodes.forEach(f_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||u.getDefaultTransition()||v3,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=u.getProps(),g=!this.targetLayout||!UE(this.targetLayout,m),v=!f&&p;if(this.options.layoutRoot||this.resumeFrom||v||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...rv(_,"layout"),onPlay:y,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(c,v)}else f||f_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ps(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(d_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(d3),this.nodes.forEach(o3),this.nodes.forEach(a3)):this.nodes.forEach(d_),this.clearAllSnapshots();const a=jn.now();Jt.delta=yi(0,1e3/60,a-Jt.timestamp),Jt.timestamp=a,Jt.isProcessing=!0,tp.update.process(Jt),tp.preRender.process(Jt),tp.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(c3),this.sharedNodes.forEach(m3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!BE(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ns(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),w3(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return It();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(b3))){const{scroll:c}=this.root;c&&(Xo(a.x,c.offset.x),Xo(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=It();if(Yn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:p}=c;c!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Yn(a,o),Xo(a.x,f.offset.x),Xo(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=It();Yn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ea(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ns(c.latestValues)&&ea(l,c.latestValues)}return Ns(this.latestValues)&&ea(l,this.latestValues),l}removeTransform(o){const a=It();Yn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ns(u.latestValues))continue;rg(u.latestValues)&&u.updateSnapshot();const c=It(),f=u.measurePageBox();Yn(c,f),i_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ns(this.latestValues)&&i_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Fl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),_E(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Fl(this.relativeTargetOrigin,this.target,m.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rg(this.parent.latestValues)||bE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Yn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;M$(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=It());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(t_(this.prevProjectionDelta.x,this.projectionDelta.x),t_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ml(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!u_(this.projectionDelta.x,this.prevProjectionDelta.x)||!u_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ta(),this.projectionDelta=ta(),this.projectionDeltaWithTransform=ta()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=ta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=It(),m=l?l.source:void 0,_=this.layout?this.layout.source:void 0,y=m!==_,x=this.getStack(),g=!x||x.members.length<=1,v=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(y3));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const O=C/1e3;h_(f.x,o.x,O),h_(f.y,o.y,O),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g3(this.relativeTarget,this.relativeTargetOrigin,p,O),w&&t3(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=It()),Yn(w,this.relativeTarget)),y&&(this.animationValues=c,QM(c,u,this.latestValues,O,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ps(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{ud.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ja(0)),this.currentAnimation=KM(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(i3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&KE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||It();const f=yn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=yn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Yn(a,l),ea(a,c),Ml(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new n3),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&hp("z",o,u,this.animationValues);for(let c=0;c<fp.length;c++)hp(`rotate${fp[c]}`,o,u,this.animationValues),hp(`skew${fp[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ld(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ld(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ns(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=r3(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),o.transform=f;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const _ in mu){if(c[_]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:g}=mu[_],v=f==="none"?c[_]:y(c[_],u);if(x){const w=x.length;for(let C=0;C<w;C++)o[x[C]]=v}else g?this.options.visualElement.renderState.vars[_]=v:o[_]=v}this.options.layoutId&&(o.pointerEvents=u===this?ld(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(c_),this.root.sharedNodes.clear()}}}function o3(e){e.updateLayout()}function a3(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Zn(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=yn(p);p.min=r[f].min,p.max=p.min+m}):KE(s,t.layoutBox,r)&&Zn(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=yn(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=ta();Ml(a,r,t.layoutBox);const l=ta();o?Ml(l,e.applyTransform(i,!0),t.measuredBox):Ml(l,r,t.layoutBox);const u=!BE(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const _=It();Fl(_,t.layoutBox,p.layoutBox);const y=It();Fl(y,r,m.layoutBox),UE(_,y)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=_,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function l3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function u3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function c3(e){e.clearSnapshot()}function c_(e){e.clearMeasurements()}function d_(e){e.isLayoutDirty=!1}function d3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function f_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function f3(e){e.resolveTargetDelta()}function h3(e){e.calcProjection()}function p3(e){e.resetSkewAndRotation()}function m3(e){e.removeLeadSnapshot()}function h_(e,t,n){e.translate=St(t.translate,0,n),e.scale=St(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function p_(e,t,n,r){e.min=St(t.min,n.min,r),e.max=St(t.max,n.max,r)}function g3(e,t,n,r){p_(e.x,t.x,n.x,r),p_(e.y,t.y,n.y,r)}function y3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const v3={duration:.45,ease:[.4,0,.1,1]},m_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),g_=m_("applewebkit/")&&!m_("chrome/")?Math.round:ar;function y_(e){e.min=g_(e.min),e.max=g_(e.max)}function w3(e){y_(e.x),y_(e.y)}function KE(e,t,n){return e==="position"||e==="preserve-aspect"&&!EM(l_(t),l_(n),.2)}function b3(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const _3=VE({attachResizeListener:(e,t)=>gu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pp={current:void 0},WE=VE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pp.current){const e=new _3({});e.mount(window),e.setOptions({layoutScroll:!0}),pp.current=e}return pp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),x3={pan:{Feature:BM},drag:{Feature:FM,ProjectionNode:WE,MeasureLayout:$E}};function v_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&bt.postRender(()=>s(t,Mu(t)))}class S3 extends _s{mount(){const{current:t}=this.node;t&&(this.unmount=VL(t,(n,r)=>(v_(this.node,r,"Start"),i=>v_(this.node,i,"End"))))}unmount(){}}class k3 extends _s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nu(gu(this.node.current,"focus",()=>this.onFocus()),gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function w_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&bt.postRender(()=>s(t,Mu(t)))}class E3 extends _s{mount(){const{current:t}=this.node;t&&(this.unmount=qL(t,(n,r)=>(w_(this.node,r,"Start"),(i,{success:s})=>w_(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cg=new WeakMap,mp=new WeakMap,C3=e=>{const t=cg.get(e.target);t&&t(e)},T3=e=>{e.forEach(C3)};function P3({root:e,...t}){const n=e||document;mp.has(n)||mp.set(n,{});const r=mp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(T3,{root:e,...t})),r[i]}function A3(e,t,n){const r=P3(t);return cg.set(e,n),r.observe(e),()=>{cg.delete(e),r.unobserve(e)}}const j3={some:0,all:1};class O3 extends _s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:j3[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),p=u?c:f;p&&p(l)};return A3(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(R3(t,n))&&this.startObserver()}unmount(){}}function R3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const I3={inView:{Feature:O3},tap:{Feature:E3},focus:{Feature:k3},hover:{Feature:S3}},D3={layout:{ProjectionNode:WE,MeasureLayout:$E}},N3={...wM,...I3,...x3,...D3},L3=N$(N3,G$);let $3={data:""},M3=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||$3},F3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,B3=/\/\*[^]*?\*\/|  +/g,b_=/\n+/g,zi=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?zi(o,s):s+"{"+zi(o,s[1]=="k"?"":t)+"}":typeof o=="object"?r+=zi(o,t?t.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=zi.p?zi.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Xr={},HE=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+HE(e[n]);return t}return e},U3=(e,t,n,r,i)=>{let s=HE(e),o=Xr[s]||(Xr[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!Xr[o]){let l=s!==e?e:(u=>{let c,f,p=[{}];for(;c=F3.exec(u.replace(B3,""));)c[4]?p.shift():c[3]?(f=c[3].replace(b_," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][c[1]]=c[2].replace(b_," ").trim();return p[0]})(e);Xr[o]=zi(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Xr.g?Xr.g:null;return n&&(Xr.g=Xr[o]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Xr[o],t,r,a),o},z3=(e,t,n)=>e.reduce((r,i,s)=>{let o=t[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":zi(a,""):a===!1?"":a}return r+i+(o??"")},"");function Of(e){let t=this||{},n=e.call?e(t.p):e;return U3(n.unshift?n.raw?z3(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,M3(t.target),t.g,t.o,t.k)}let qE,dg,fg;Of.bind({g:1});let wi=Of.bind({k:1});function V3(e,t,n,r){zi.p=t,qE=e,dg=n,fg=r}function xs(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:dg&&dg()},a),n.o=/ *go\d+/.test(l),a.className=Of.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),fg&&u[0]&&fg(a),qE(u,a)}return i}}var K3=e=>typeof e=="function",Yd=(e,t)=>K3(e)?e(t):e,W3=(()=>{let e=0;return()=>(++e).toString()})(),GE=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),H3=20,yv="default",QE=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return QE(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},cd=[],YE={toasts:[],pausedAt:void 0,settings:{toastLimit:H3}},Vr={},JE=(e,t=yv)=>{Vr[t]=QE(Vr[t]||YE,e),cd.forEach(([n,r])=>{n===t&&r(Vr[t])})},ZE=e=>Object.keys(Vr).forEach(t=>JE(e,t)),q3=e=>Object.keys(Vr).find(t=>Vr[t].toasts.some(n=>n.id===e)),Rf=(e=yv)=>t=>{JE(t,e)},G3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Q3=(e={},t=yv)=>{let[n,r]=E.useState(Vr[t]||YE),i=E.useRef(Vr[t]);E.useEffect(()=>(i.current!==Vr[t]&&r(Vr[t]),cd.push([t,r]),()=>{let o=cd.findIndex(([a])=>a===t);o>-1&&cd.splice(o,1)}),[t]);let s=n.toasts.map(o=>{var a,l,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||G3[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:s}},Y3=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||W3()}),Fu=e=>(t,n)=>{let r=Y3(t,e,n);return Rf(r.toasterId||q3(r.id))({type:2,toast:r}),r.id},zt=(e,t)=>Fu("blank")(e,t);zt.error=Fu("error");zt.success=Fu("success");zt.loading=Fu("loading");zt.custom=Fu("custom");zt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Rf(t)(n):ZE(n)};zt.dismissAll=e=>zt.dismiss(void 0,e);zt.remove=(e,t)=>{let n={type:4,toastId:e};t?Rf(t)(n):ZE(n)};zt.removeAll=e=>zt.remove(void 0,e);zt.promise=(e,t,n)=>{let r=zt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let s=t.success?Yd(t.success,i):void 0;return s?zt.success(s,{id:r,...n,...n==null?void 0:n.success}):zt.dismiss(r),i}).catch(i=>{let s=t.error?Yd(t.error,i):void 0;s?zt.error(s,{id:r,...n,...n==null?void 0:n.error}):zt.dismiss(r)}),e};var J3=1e3,Z3=(e,t="default")=>{let{toasts:n,pausedAt:r}=Q3(e,t),i=E.useRef(new Map).current,s=E.useCallback((f,p=J3)=>{if(i.has(f))return;let m=setTimeout(()=>{i.delete(f),o({type:4,toastId:f})},p);i.set(f,m)},[]);E.useEffect(()=>{if(r)return;let f=Date.now(),p=n.map(m=>{if(m.duration===1/0)return;let _=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(_<0){m.visible&&zt.dismiss(m.id);return}return setTimeout(()=>zt.dismiss(m.id,t),_)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[n,r,t]);let o=E.useCallback(Rf(t),[t]),a=E.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=E.useCallback((f,p)=>{o({type:1,toast:{id:f,height:p}})},[o]),u=E.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),c=E.useCallback((f,p)=>{let{reverseOrder:m=!1,gutter:_=8,defaultPosition:y}=p||{},x=n.filter(w=>(w.position||y)===(f.position||y)&&w.height),g=x.findIndex(w=>w.id===f.id),v=x.filter((w,C)=>C<g&&w.visible).length;return x.filter(w=>w.visible).slice(...m?[v+1]:[0,v]).reduce((w,C)=>w+(C.height||0)+_,0)},[n]);return E.useEffect(()=>{n.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let p=i.get(f.id);p&&(clearTimeout(p),i.delete(f.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:c}}},X3=wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,eF=wi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tF=wi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nF=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${X3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${eF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${tF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,rF=wi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,iF=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${rF} 1s linear infinite;
`,sF=wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,oF=wi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,aF=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${oF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,lF=xs("div")`
  position: absolute;
`,uF=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,cF=wi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dF=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${cF} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,fF=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?E.createElement(dF,null,t):t:n==="blank"?null:E.createElement(uF,null,E.createElement(iF,{...r}),n!=="loading"&&E.createElement(lF,null,n==="error"?E.createElement(nF,{...r}):E.createElement(aF,{...r})))},hF=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,pF=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,mF="0%{opacity:0;} 100%{opacity:1;}",gF="0%{opacity:1;} 100%{opacity:0;}",yF=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vF=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wF=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=GE()?[mF,gF]:[hF(n),pF(n)];return{animation:t?`${wi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},bF=E.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?wF(e.position||t||"top-center",e.visible):{opacity:0},s=E.createElement(fF,{toast:e}),o=E.createElement(vF,{...e.ariaProps},Yd(e.message,e));return E.createElement(yF,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:s,message:o}):E.createElement(E.Fragment,null,s,o))});V3(E.createElement);var _F=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let s=E.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return E.createElement("div",{ref:s,className:t,style:n},i)},xF=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:GE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},SF=Of`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Uc=16,kF=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=Z3(n,s);return E.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Uc,left:Uc,right:Uc,bottom:Uc,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let f=c.position||t,p=u.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),m=xF(f,p);return E.createElement(_F,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?SF:"",style:m},c.type==="custom"?Yd(c.message,c):i?i(c):E.createElement(bF,{toast:c,position:f}))}))},Ri=zt;const XE=[{code:"devanagari",name:"Devanagari"},{code:"tamil_superscripted",name:"Tamil"},{code:"malayalam",name:"Malayalam"},{code:"telugu",name:"Telugu"},{code:"kannada",name:"Kannada"},{code:"gujarati",name:"Gujarati"},{code:"gurmukhi",name:"Gurmukhi"},{code:"iast",name:"IAST"}];function EF(){const{preferredLanguage:e,setPreferredLanguage:t}=Ba(),[n,r]=E.useState(e);E.useEffect(()=>{localStorage.setItem("preferredLanguage",n),t(n)},[n,t]);const i=s=>{r(s.target.value)};return k.jsxs("div",{children:[k.jsx("h2",{children:"Language Preferences"}),k.jsx("p",{children:"Choose the language for transliteration:"}),k.jsx("select",{value:n,onChange:i,children:XE.map(s=>k.jsx("option",{value:s.code,children:s.name},s.code))})]})}const CF={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},cl={marginRight:"10px"},dl={opacity:.5,cursor:"not-allowed",color:"#888"},TF=async function(e){try{return await cn.from("sankeertan").upsert({id:1,content:e,scroll_position:0}),!0}catch(t){return console.error(t),!1}},PF=async({bookId:e,sourceRow:t,songTitle:n,sessionuser:r})=>{if(!e||!t)throw new Error("bookId or sourceRow is not defined. Cannot fetch songDetails");const i=new URL(vo);i.searchParams.append("mode","api"),i.searchParams.append("apiname","getsongtextforsong"),i.searchParams.append("book",e),i.searchParams.append("sourcerow",t),i.searchParams.append("songtitle",n),r&&i.searchParams.append("sessionuser",r);const s=await fetch(i.toString());if(!s.ok){const o=await s.json();throw new Error(`Failed to fetch song details for book ${e}+row ${t}: ${s.status} - ${JSON.stringify(o)}`)}return await s.json()},AF=async e=>{const t=e.queryKey,n=t[1],r=t[2],i=t[3],s=t[4];if(!n||!r||!s)throw new Error("Missing query parameters for fetching song details.");const o=await DI(n,s);return o&&o.songData&&o.sourceLanguage?(console.log("Using song details from IndexedDB cache."),[o.songData,o.metadata,o.sourceLanguage]):(console.log("Cache miss. Fetching song details from network."),await PF({bookId:n,sourceRow:r,songTitle:s,sessionuser:i}))};function jF(){var Je,jt,qn;const{categoryId:e,bookId:t,sourceRow:n,songTitle:r}=Pu(),i=cr(),s=jr(),{session:o}=bs(),a=(Je=o==null?void 0:o.user)==null?void 0:Je.email,l=(jt=i.state)==null?void 0:jt.filteredSongIndices,u=(qn=i.state)==null?void 0:qn.index,c=Ef(),f=E.useMemo(()=>decodeURIComponent(r||""),[r]),p=["songDetails",t,n,a,f],{preferredLanguage:m,setPreferredLanguage:_}=Ba(),y=E.useMemo(()=>l&&u>0?l[u-1]:null,[l,u]),x=E.useMemo(()=>l&&u<l.length-1?l[u+1]:null,[l,u]),g=E.useCallback(async(Re,Ue)=>{if(!Re||!Re.bookId||!Re.songTitle){Ue(!1);return}const Xe=await tk(Re.bookId,Re.songTitle);Ue(Xe)},[]),[v,w]=E.useState(!1),[C,O]=E.useState(!1);E.useEffect(()=>{g(y,w),g(x,O)},[y,x,g]);const{isLoading:R,isFetching:I,error:M,data:z}=Ry({queryKey:p,queryFn:AF,staleTime:1/0,gcTime:0,refetchOnMount:!1});eN(({swipe:[Re]})=>{Re===1?(console.log("going to prev"),be()):Re===-1&&(console.log("going to next"),De())},{axis:"x",filterTaps:!0});const[W,ve]=E.useState(!1),[F,ee]=E.useState({x:0,y:0}),[A,le]=E.useState(!1),Oe=E.useRef(null),[$,X]=E.useState(""),[Z,ue]=E.useState(null),U=E.useRef(null),K=Re=>{Re.preventDefault();const Ue=window.getSelection(),Xe=(Ue==null?void 0:Ue.toString().trim())??"";Ue&&Ue.rangeCount>0&&!Ue.getRangeAt(0).collapsed?(X(Xe),ue(Ue.getRangeAt(0)),le(!0)):(X(""),ue(null),le(!1)),ee({x:Re.clientX,y:Re.clientY}),le(!!$),ve(!0)};E.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[i]),E.useEffect(()=>{const Re=Ue=>{Oe.current&&!Oe.current.contains(Ue.target)&&ve(!1)};return W?window.addEventListener("mousedown",Re):window.removeEventListener("mousedown",Re),()=>{window.removeEventListener("mousedown",Re)}},[W]),E.useEffect(()=>{i.state||window.location.pathname.startsWith("/sankeertan")},[i,t]),E.useEffect(()=>{const Re=Ue=>{Oe.current&&!Oe.current.contains(Ue.target)&&ve(!1)};return W&&document.addEventListener("mousedown",Re),()=>{document.removeEventListener("mousedown",Re)}},[W]);const de=()=>{const Re=window.location.href;navigator.clipboard.writeText(Re).then(()=>{console.log("URL copied to clipboard:",Re),Ri.success("URL copied to clipboard!")}).catch(Ue=>{console.error("Failed to copy URL: ",Ue)})},we=E.useRef(null);function ye(Re){const _n=new DOMParser().parseFromString(Re,"text/html").querySelectorAll("tr");let fn="";return _n.forEach(Ne=>{const Or=Ne.querySelectorAll("td, th"),Gn=[];Or.forEach(Si=>{var fr;let Ce=Si.innerHTML;Ce=Ce.replace(/<\/p>\s*<p>/gi,`
`),Ce=Ce.replace(/<p>|<\/p>/gi,""),Ce=Ce.replace(/<br\s*\/?>/gi,`
`);const Yr=document.createElement("div");Yr.innerHTML=Ce;const Rr=((fr=Yr.textContent)==null?void 0:fr.trim())||"";Gn.push(Rr)}),fn+=Gn.join(" | ")+`

`}),fn.trim()}const Be=()=>{if(!Z||Z.collapsed){console.warn("No valid selection range to highlight.");return}const Re=document.createElement("span");Re.className="highlighted-text";try{Z.surroundContents(Re),console.log("Text highlighted successfully!")}catch(Ue){console.error("Failed to highlight text:",Ue)}ue(null)},qe=(Re=!1)=>{if(we.current){const Ue=we.current.innerHTML;let Xe="radhekrishna!!";Re?Xe=Ue:Ue.includes("<table")?Xe=ye(Ue):Xe=we.current.textContent||"radhekrishna!!",navigator.clipboard.writeText(Xe).then(()=>{console.log("Song content copied to clipboard:"),Ri.success("Song content copied to clipboard!")}).catch(_n=>{console.error("Failed to copy song: ",_n)})}},De=()=>{if(l&&u!==void 0&&u<l.length-1){const Re=u+1,Ue=l[Re];sessionStorage.setItem("lastClickedSongIndex",Re.toString()),s(`/details/book/${e}/${t}/${Ue.sourceRow}/${encodeURIComponent(Ue.songTitle)}`,{state:{filteredSongIndices:l,index:Re},replace:!0})}},be=()=>{if(l&&u!==void 0&&u>0){const Re=u-1,Ue=l[Re];sessionStorage.setItem("lastClickedSongIndex",Re.toString()),s(`/details/book/${e}/${t}/${Ue.sourceRow}/${encodeURIComponent(Ue.songTitle)}`,{state:{filteredSongIndices:l,index:Re},replace:!0})}},ft=u===0,lt=u===(l==null?void 0:l.length)-1,We=l&&l.length>0,Ft=async Re=>{if($){const Ue=await fetch(`${vo}?mode=api&apiname=reportmistakeinsongtext&book=${t}&sourcerow=${n}&songtitle=${r}&text=${$}&sessionuser=${Re}`);if(!Ue.ok){const _n=await Ue.json();throw new Error(`Failed to fetch song details for book ${t}+row ${n}: ${Ue.status} - ${JSON.stringify(_n)}`)}const Xe=await Ue.json();Ri.success(`Issue/Mistake is reported as ${Xe[1]}!!`)}else console.log("No text was selected.")},P=async()=>{t&&r?(await LI(t,f),console.log("IndexedDB cache cleared. Data will be reloaded from the server."),c.invalidateQueries({queryKey:p})):console.warn("Cannot reload song: bookId or songTitle is missing.")},he=async Re=>{switch(ve(!1),Re){case"broadcast":r&&_e();break;case"copyPageUrl":de();break;case"CopySongAsHtml":qe(!0);break;case"CopySongAsText":qe(!1);break;case"ReportMistake":Ft(a);break;case"Copy":if($)try{await navigator.clipboard.writeText($),Ri.success("Text copied!")}catch(Ue){console.error("Failed to copy text: ",Ue),Ri.error("Failed to copy text.")}break;case"Highlight":Be();break}},ce=E.useMemo(()=>k.jsx(L3.div,{ref:Oe,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.1},style:{position:"fixed",top:F.y,left:F.x,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)",zIndex:10,minWidth:"150px"},onClick:Re=>Re.stopPropagation(),children:k.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:A?k.jsxs(k.Fragment,{children:[k.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>he("Copy"),children:"Copy Selected"}),k.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>he("ReportMistake"),children:"Report Mistake"})]}):k.jsx(k.Fragment,{children:k.jsxs("div",{style:{borderTop:"1px solid #eee",marginTop:"8px",paddingTop:"8px"},children:[k.jsx("li",{style:{padding:"6px 12px",color:"#666"},children:"**Change Language**"}),XE.map(Re=>k.jsx("li",{style:{padding:"6px 12px",cursor:"pointer",fontWeight:Re.code===m?"bold":"normal",backgroundColor:Re.code===m?"#f0f0f0":"transparent"},onClick:()=>Ie(Re),children:Re.name},Re.code))]})})})},"context-menu"),[A,F,m]),[L,N]=E.useState(!1),[ne,pe]=E.useState(null),[me,oe]=E.useState(!0),_e=E.useCallback(async()=>{if(L){console.warn("isBroadcasting already");return}if(!me){Ri.error("Cannot do repeat Broadcast... Pls check if song has changed");return}if(we.current){N(!0),pe("broadcasting");try{const Re=we.current.innerHTML,Ue=await TF(Re);N(!1),pe("success"),Ri.success("Broadcast was successful!"),oe(!1),setTimeout(()=>pe(null),2e3)}catch(Re){console.error("Broadcast failed:",Re),Ri.error("Broadcast had errors!"),N(!1),pe("error"),setTimeout(()=>pe(null),3e3)}}else console.warn("broadcastContentRef.current is null. Cannot broadcast content."),pe("failed"),N(!1)},[we,L,me]);E.useEffect(()=>{oe(!0)},[z]),E.useEffect(()=>{if(z&&z.length>=3&&t&&f&&n){const Re={bookId:t,songTitle:f,sourceRow:n,songData:z[0],metadata:z[1],sourceLanguage:z[2]};NI(Re).catch(Ue=>{console.error("Error saving song details to IndexedDB:",Ue)}),g(y,w),g(x,O)}},[z,t,f,n,y,x,g]);const Ie=Re=>{_(Re.code),ve(!1)},xe={backgroundColor:"green",color:"white"},Fe={backgroundColor:"brown",color:"white"};if(R&&!z)return k.jsx("div",{style:CF,children:k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[k.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),k.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),k.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),k.jsx("p",{style:{marginLeft:"10px"},children:"Loading song text..."})]})});if(M)return k.jsxs("div",{children:["Error loading song details: ",M.message]});if(!z)return k.jsx("div",{children:"No song details available. Please try reloading."});const tt=document.getElementById("context-menu-root");return k.jsxs(k.Fragment,{children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},ref:U,children:[k.jsx(Ly,{}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[k.jsx("button",{onClick:be,disabled:ft||!We,style:{...cl,...ft||!We?dl:{},...v?xe:Fe},children:" Prev"}),k.jsx("button",{onClick:De,disabled:lt||!We,style:{...cl,...lt||!We?dl:{},...C?xe:Fe,marginRight:0},children:"Next "})]})]}),k.jsxs("div",{className:"song-details-container select-text",style:{paddingBottom:"60px",paddingLeft:"20px",cursor:"pointer",userSelect:"auto"},onContextMenu:K,children:[k.jsx("div",{ref:we,children:z&&k.jsx(aD,{data:z[0],className:"my-4",highlightColor:"bg-blue-50",striped:!0,hoverEffect:!1,wrapColumns:[1,2,3],maxWidth:"max-w-6xl",preferredLanguage:m,sourceLanguage:z[2]})}),k.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",backgroundColor:"#fff",borderTop:"1px solid #ccc",padding:"10px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",zIndex:1e3},children:[k.jsxs("div",{children:[k.jsx("button",{onClick:be,disabled:ft||!We,style:{...cl,...ft||!We?dl:{},...v?xe:Fe},children:" Prev"}),k.jsx("button",{onClick:De,disabled:lt||!We,style:{...cl,...lt||!We?dl:{},...C?xe:Fe,marginRight:0},children:"Next "})]}),k.jsxs("div",{children:[k.jsx("button",{onClick:P,style:{marginRight:"10px"},title:"Reload from Server",children:""}),k.jsx("button",{onClick:de,style:{marginRight:"10px"},title:"Copy URL",children:""}),k.jsx("button",{onClick:()=>qe(!1),style:{marginRight:"10px"},title:"Copy Content",children:""}),k.jsx("button",{onClick:_e,disabled:!me,style:{...cl,...me?{}:dl},title:"Broadcast",children:""})]})]}),k.jsx("style",{children:`
          .highlighted-text {
            background-color: #ffeb3b; /* Yellow background */
            padding: 2px 4px;
            border-radius: 4px;
          }
        `}),W&&tt&&R2.createPortal(k.jsx(r$,{children:ce}),tt)]})]})}const OF=({broadcastId:e,session:t,shouldSyncContent:n,shouldSyncScroll:r,onContentUpdated:i,onScrollPositionUpdated:s})=>{const o=E.useRef(null);return E.useEffect(()=>{if(!(t!=null&&t.access_token)||!e){console.log("No access token or broadcast ID, not subscribing to sankeertan updates."),o.current&&(o.current.unsubscribe(),o.current=null);return}return o.current=cn.channel(`broadcast:${e}`),o.current.on("postgres_changes",{event:"UPDATE",schema:"public",table:"sankeertan",filter:`id=eq.${e}`},a=>{a.new&&"content"in a.new&&n&&i(a.new.content),a.new&&"scroll_position"in a.new&&a.new.scroll_position!==null&&r&&s(a.new.scroll_position)}).subscribe(a=>{a==="SUBSCRIBED"?console.log(`Successfully subscribed to sankeertan updates for broadcast: ${e}`):a==="CHANNEL_ERROR"?console.error(`Error subscribing to sankeertan updates for broadcast ${e}:`,a):a==="TIMED_OUT"?console.warn(`Subscription timed out for broadcast ${e}:`,a):a==="CLOSED"&&console.warn(`Subscription closed for broadcast ${e}:`,a)}),()=>{o.current&&(o.current.unsubscribe(),o.current=null)}},[e,t==null?void 0:t.access_token,n,r,i,s]),null},RF=({broadcastId:e})=>{const[t,n]=E.useState(null),[r,i]=E.useState(null),s=E.useRef(null),[o,a]=E.useState(null),[l,u]=E.useState(!0),[c,f]=E.useState(!0),[p,m]=E.useState(!0),[_,y]=E.useState(null),{preferredLanguage:x}=Ba();E.useEffect(()=>{cn.auth.getSession().then(({data:{session:C}})=>{a(C)}),cn.auth.onAuthStateChange((C,O)=>{a(O)})},[]);const g=E.useCallback(async()=>{m(!0),y(null);try{const{data:C,error:O}=await cn.from("sankeertan").select("content, scroll_position").eq("id",e).single();if(O)console.error("Error fetching broadcast data:",O),y(O.message);else if(C){const R=C.content??"";let I=Vd(R,"devanagari",x);n(I)}}finally{m(!1)}},[e,x]);E.useEffect(()=>{o&&e&&g()},[o,e,g]),E.useEffect(()=>{if(r&&s.current){const C=s.current.querySelector(`#trRowAsAnchor-${r}`);C&&C.scrollIntoView({block:"start"}),i(null)}},[r,s]);const v=C=>{C=Vd(C??"","devanagari",x),n(C)},w=C=>{i(`#trRowAsAnchor-${C}`)};return k.jsxs("div",{children:[k.jsx("h2",{children:"Sankeertan Content"}),k.jsx("div",{ref:s,children:t&&k.jsx("div",{dangerouslySetInnerHTML:{__html:t}})}),o&&k.jsx(OF,{broadcastId:e,session:o,shouldSyncContent:l,shouldSyncScroll:c,onContentUpdated:v,onScrollPositionUpdated:w})]})},fl=(e,t)=>{const n=new Set;return e.forEach(r=>{const i=r[t];Array.isArray(i)?i.forEach(s=>{typeof s=="string"&&n.add(s)}):typeof i=="string"&&n.add(i)}),Array.from(n).sort()},IF=[{category:["Spiritual","Sampradaya"],book:["Divine Verses","Speech by Swami"],bookId:"book-1",categoryId:"category-1",title:"Gayatri Mantra",author:"Vishwamitra",language:"Sanskrit",type:"Shloka",sourceRow:0,indexPositionForNavigation:0},{category:["Spiritual","Sampradaya"],book:["Divine Verses","Speech by Swami"],bookId:"book-2",categoryId:"category-1",title:"Maha Mrityunjaya Mantra",author:["Markandeya","Vyaasa"],language:"Sanskrit",type:"Shloka",sourceRow:1,indexPositionForNavigation:0},{category:"Folk",book:"Singing Stories",bookId:"book-3",categoryId:"category-2",title:"Oh Carolina",author:"Folklore",language:["English","German"],type:"Audio",sourceRow:0,indexPositionForNavigation:0},{category:"Folk",book:"Singing Stories",bookId:"book-4",categoryId:"category-2",title:"Home is a feeling",author:"Alan Tofson",language:["English","Italian"],type:["Audio","Video"],sourceRow:1,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-5",categoryId:"category-3",title:"Ode to Joy",author:["Ludwig van Beethoven"],language:"German",type:"Audio",sourceRow:0,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-6",categoryId:"category-3",title:"Fr Elise",author:["Ludwig van Beethoven"],language:"German",type:"Audio",sourceRow:1,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-7",categoryId:"category-3",title:"The Four Seasons",author:"Antonio Vivaldi",language:"Italian",type:"Audio",sourceRow:2,indexPositionForNavigation:0},{category:"Spiritual",book:"The Wisdom of Rumi",bookId:"book-8",categoryId:"category-1",title:"The Guest House",author:"Rumi",language:"English",type:"Audio",sourceRow:2,indexPositionForNavigation:0}],DF=()=>{const e=[],t=[];try{const n=localStorage.getItem("sankeertan_categories_data");if(!n)return t.push("No data found for 'sankeertan_categories_data'. Returning empty list."),{localSongs:e,debugInfo:t};t.push("'sankeertan_categories_data' found.");const r=JSON.parse(n);if(!r||!Array.isArray(r.data))return t.push("Error: 'sankeertan_categories_data' is not a valid JSON array."),{localSongs:e,debugInfo:t};r.data.forEach(i=>{const s=i.name,o=i.name;i.books&&Array.isArray(i.books)&&i.books.forEach(a=>{const l=a.bookName,u=a.bookId,c=`sankeertan_song_indices-${u}`,f=localStorage.getItem(c);if(f){t.push(`Found song indices for key: '${c}'.`);try{const p=JSON.parse(f);p&&Array.isArray(p.data)?p.data.forEach(m=>{if(m.songTitle){const _=`sankeertan_song_details-${u}-${encodeURIComponent(m.songTitle)}`,y=!!localStorage.getItem(_);t.push(`Checking availability for '${m.songTitle}': ${y?"Available":"Not Available"}`),e.push({category:s,categoryId:o,book:l,bookId:u,title:m.songTitle,author:"Unknown",language:"Unknown",type:"Unknown",sourceRow:m.sourceRow,indexPositionForNavigation:m.indexPositionForNavigation,isAvailable:y})}}):t.push(`Error parsing indices for key: '${c}'. Invalid format.`)}catch(p){const m=p instanceof Error?p.message:String(p);t.push(`Error parsing data for key: '${c}': ${m}`)}}else t.push(`No song indices found for key: '${c}'.`)})})}catch(n){const r=n instanceof Error?n.message:String(n);return t.push(`General error processing localStorage: ${r}`),{localSongs:e,debugInfo:t}}return t.push(`Total songs loaded from local storage: ${e.length}.`),{localSongs:e,debugInfo:t}},NF=()=>{const[e,t]=E.useState(""),[n,r]=E.useState({}),[i,s]=E.useState([]),[o,a]=E.useState([]),[l,u]=E.useState([]),[c,f]=E.useState("cards"),[p,m]=E.useState(!0),[_,y]=E.useState([]),[x,g]=E.useState(!1),v=jr(),[w,C]=E.useState({category:!0,book:!0,title:!0,author:!0,language:!0,type:!0});E.useEffect(()=>{m(!0);const{localSongs:$,debugInfo:X}=DF();y(X),$.length>0?s($):s(IF),m(!1)},[]),E.useEffect(()=>{(()=>{let X=i;if(e){const ue=e.toLowerCase();X=X.filter(U=>Object.values(U).filter(de=>de!==void 0).map(de=>Array.isArray(de)?de.join(" "):String(de)).join(" ").toLowerCase().includes(ue))}Object.entries(n).forEach(([ue,U])=>{U&&U.length>0&&(X=X.filter(K=>{const de=K[ue],ye=Array.isArray(de)?de.map(Be=>String(Be).toLowerCase()):[String(de).toLowerCase()];return U.every(Be=>{const qe=Be.value.toLowerCase(),De=ye.includes(qe);return Be.isNot?!De:De})}))}),a(X);const Z=X.map(ue=>({indexPositionForNavigation:ue.indexPositionForNavigation,sourceRow:ue.sourceRow,songTitle:Array.isArray(ue.title)?ue.title.join(", "):ue.title}));u(Z)})()},[e,n,i]);const O=($,X)=>{r(Z=>{const ue=Z[$]||[],U=ue.find(K=>K.value===X);if(U)if(U.isNot){const K=ue.filter(de=>de.value!==X);if(K.length===0){const de={...Z};return delete de[$],de}return{...Z,[$]:K}}else return{...Z,[$]:ue.map(K=>K.value===X?{...K,isNot:!0}:K)};else return{...Z,[$]:[...ue,{value:X,isNot:!1}]}})},R=()=>{r({})},I=($,X)=>{const Z=Array.isArray($.title)?$.title.join(", "):$.title;v(`/details/book/${$.category}/${$.bookId}/${$.sourceRow}/${encodeURIComponent(Z)}`,{state:{filteredSongIndices:l,index:X}})},M=$=>{C(X=>({...X,[$]:!X[$]}))},z=fl(o,"author"),W=fl(o,"language"),ve=fl(o,"type"),F=fl(o,"book"),ee=fl(o,"category"),A={category:new Set,book:new Set,title:new Set,author:new Set,language:new Set,type:new Set};e.length>0&&i.forEach($=>{Object.entries($).forEach(([X,Z])=>{var ue;Array.isArray(Z)?Z.forEach(U=>{var K;typeof U=="string"&&U.toLowerCase().includes(e.toLowerCase())&&((K=A[X])==null||K.add(U))}):typeof Z=="string"&&Z.toLowerCase().includes(e.toLowerCase())&&((ue=A[X])==null||ue.add(Z))})});const le=($,X)=>o.filter(Z=>{const ue=Z[$];return Array.isArray(ue)?ue.includes(X):ue===X}).length,Oe=($,X)=>{var ue;const Z=(ue=n[$])==null?void 0:ue.find(U=>U.value===X);return Z?Z.isNot?"bg-red-500 text-white":"bg-teal-500 text-white":"hover:bg-gray-600"};return k.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4 font-sans flex flex-col items-center",children:k.jsxs("div",{className:"w-full max-w-4xl bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8",children:[k.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-center mb-2 text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-sky-500",children:"Progressive Search"}),k.jsx("div",{className:"mb-6 text-center",children:k.jsx("button",{onClick:()=>g(!x),className:"px-5 py-2 rounded-full font-semibold bg-gray-700 text-gray-400 hover:bg-gray-600 transition-colors text-sm",children:x?"Hide Debug Panel":"Show Debug Panel"})}),x&&k.jsxs("div",{className:"bg-gray-700 p-4 rounded-xl mb-6",children:[k.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-2",children:"Debug Log (Local Storage)"}),k.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside",children:_.map(($,X)=>k.jsx("li",{className:"mb-1",children:$},X))})]}),k.jsxs("div",{className:"relative mb-6",children:[k.jsx("input",{type:"text",placeholder:"Search by title, author, book, language...",className:"w-full px-5 py-3 rounded-xl bg-gray-700 text-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-all",value:e,onChange:$=>t($.target.value)}),e&&Object.values(A).some($=>$.size>0)&&k.jsx("div",{className:"absolute z-10 w-full mt-2 bg-gray-700 rounded-xl shadow-lg border border-gray-600 max-h-64 overflow-y-auto",children:Object.entries(A).map(([$,X])=>X&&X.size>0&&k.jsxs("div",{className:"p-3",children:[k.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-1",children:$}),Array.from(X).map((Z,ue)=>k.jsx("button",{className:"w-full text-left px-3 py-2 text-sm rounded-lg hover:bg-teal-500 hover:text-white transition-colors",onClick:()=>{t(""),O($,Z)},children:Z},ue))]},$))})]}),Object.keys(n).some($=>{const X=n[$];return X&&X.length>0})&&k.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[k.jsx("span",{className:"text-sm text-gray-400 mr-2",children:"Filters:"}),Object.entries(n).map(([$,X])=>X==null?void 0:X.map((Z,ue)=>k.jsxs("span",{className:`${Z.isNot?"bg-red-500":"bg-teal-500"} text-white text-sm px-3 py-1 rounded-full flex items-center gap-1`,children:[k.jsxs("span",{className:"font-semibold",children:[$,":"]})," ",Z.value,k.jsx("button",{onClick:()=>O($,Z.value),className:"ml-1 text-white hover:text-gray-200 transition-colors",children:""})]},`${$}-${ue}`))),k.jsx("button",{onClick:R,className:"text-sm text-gray-400 hover:text-white transition-colors ml-auto",children:"Clear All Filters"})]}),p?k.jsx("div",{className:"text-center py-8",children:k.jsx("p",{className:"text-gray-400",children:"Loading songs from local storage..."})}):k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"grid gap-4 mb-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[k.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[k.jsxs("button",{onClick:()=>M("category"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Category",k.jsx("span",{className:`transform transition-transform duration-300 ${w.category?"":"rotate-180"}`,children:""})]}),k.jsx("div",{className:`overflow-hidden transition-all duration-300 ${w.category?"max-h-0":"max-h-96"}`,children:k.jsx("div",{className:"p-4 pt-0",children:ee.map($=>k.jsxs("button",{onClick:()=>O("category",$),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("category",$)}`,children:[k.jsx("span",{children:$}),k.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:le("category",$)})]},$))})})]}),k.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[k.jsxs("button",{onClick:()=>M("book"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Book",k.jsx("span",{className:`transform transition-transform duration-300 ${w.book?"":"rotate-180"}`,children:""})]}),k.jsx("div",{className:`overflow-hidden transition-all duration-300 ${w.book?"max-h-0":"max-h-96"}`,children:k.jsx("div",{className:"p-4 pt-0",children:F.map($=>k.jsxs("button",{onClick:()=>O("book",$),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("book",$)}`,children:[k.jsx("span",{children:$}),k.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:le("book",$)})]},$))})})]}),k.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[k.jsxs("button",{onClick:()=>M("author"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Author",k.jsx("span",{className:`transform transition-transform duration-300 ${w.author?"":"rotate-180"}`,children:""})]}),k.jsx("div",{className:`overflow-hidden transition-all duration-300 ${w.author?"max-h-0":"max-h-96"}`,children:k.jsx("div",{className:"p-4 pt-0",children:z.map($=>k.jsxs("button",{onClick:()=>O("author",$),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("author",$)}`,children:[k.jsx("span",{children:$}),k.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:le("author",$)})]},$))})})]}),k.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[k.jsxs("button",{onClick:()=>M("language"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Language",k.jsx("span",{className:`transform transition-transform duration-300 ${w.language?"":"rotate-180"}`,children:""})]}),k.jsx("div",{className:`overflow-hidden transition-all duration-300 ${w.language?"max-h-0":"max-h-96"}`,children:k.jsx("div",{className:"p-4 pt-0",children:W.map($=>k.jsxs("button",{onClick:()=>O("language",$),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("language",$)}`,children:[k.jsx("span",{children:$}),k.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:le("language",$)})]},$))})})]}),k.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[k.jsxs("button",{onClick:()=>M("type"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Type",k.jsx("span",{className:`transform transition-transform duration-300 ${w.type?"":"rotate-180"}`,children:""})]}),k.jsx("div",{className:`overflow-hidden transition-all duration-300 ${w.type?"max-h-0":"max-h-96"}`,children:k.jsx("div",{className:"p-4 pt-0",children:ve.map($=>k.jsxs("button",{onClick:()=>O("type",$),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("type",$)}`,children:[k.jsx("span",{children:$}),k.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:le("type",$)})]},$))})})]})]}),k.jsxs("div",{className:"mt-4",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsxs("h2",{className:"text-xl font-bold",children:["Results (",o.length,")"]}),k.jsxs("div",{className:"flex gap-2 text-sm",children:[k.jsx("button",{onClick:()=>f("cards"),className:`px-3 py-1 rounded-full font-semibold transition-colors ${c==="cards"?"bg-sky-500 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Cards"}),k.jsx("button",{onClick:()=>f("grid"),className:`px-3 py-1 rounded-full font-semibold transition-colors ${c==="grid"?"bg-sky-500 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Table"})]})]}),o.length===0?k.jsx("p",{className:"text-gray-400 text-center py-8",children:"No songs match your search and filter criteria."}):k.jsx(k.Fragment,{children:c==="cards"?k.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:o.map(($,X)=>k.jsxs("div",{onClick:()=>I($,X),className:`bg-gray-700 p-4 rounded-xl shadow-md transition-transform hover:scale-105 cursor-pointer border-2 ${$.isAvailable?"border-teal-500":"border-red-500"}`,children:[k.jsx("h3",{className:"text-lg font-bold text-teal-400",children:Array.isArray($.title)?$.title.join(", "):$.title}),k.jsxs("p",{className:"text-sm text-gray-300",children:[k.jsx("span",{className:"font-semibold",children:"Author:"})," ",Array.isArray($.author)?$.author.join(", "):$.author]}),k.jsxs("p",{className:"text-sm text-gray-300",children:[k.jsx("span",{className:"font-semibold",children:"Book:"})," ",Array.isArray($.book)?$.book.join(", "):$.book]}),k.jsxs("p",{className:"text-sm text-gray-300",children:[k.jsx("span",{className:"font-semibold",children:"Category:"})," ",Array.isArray($.category)?$.category.join(", "):$.category]}),k.jsxs("p",{className:"text-sm text-gray-300",children:[k.jsx("span",{className:"font-semibold",children:"Language:"})," ",Array.isArray($.language)?$.language.join(", "):$.language]}),k.jsxs("p",{className:"text-sm text-gray-300",children:[k.jsx("span",{className:"font-semibold",children:"Type:"})," ",Array.isArray($.type)?$.type.join(", "):$.type]})]},X))}):k.jsx("div",{className:"overflow-x-auto rounded-xl",children:k.jsxs("div",{className:"min-w-full",children:[k.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-2 p-4 text-sm font-semibold text-gray-400 uppercase tracking-wider bg-gray-700 border-b border-gray-600 rounded-t-xl",children:[k.jsx("span",{children:"Title"}),k.jsx("span",{className:"hidden md:block",children:"Author"}),k.jsx("span",{className:"hidden md:block",children:"Book"}),k.jsx("span",{className:"hidden md:block",children:"Category"}),k.jsx("span",{className:"hidden md:block",children:"Language"}),k.jsx("span",{className:"hidden md:block",children:"Type"})]}),k.jsx("div",{className:"bg-gray-700",children:o.map(($,X)=>k.jsxs("div",{onClick:()=>I($,X),className:`grid grid-cols-2 md:grid-cols-6 gap-2 p-4 text-sm border-b transition-colors cursor-pointer hover:bg-gray-600 ${$.isAvailable?"border-teal-500":"border-gray-500"}`,children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Title:"}),k.jsx("span",{children:Array.isArray($.title)?$.title.join(", "):$.title})]}),k.jsxs("div",{className:"hidden md:flex flex-col",children:[k.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Author:"}),k.jsx("span",{children:Array.isArray($.author)?$.author.join(", "):$.author})]}),k.jsxs("div",{className:"hidden md:flex flex-col",children:[k.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Book:"}),k.jsx("span",{children:Array.isArray($.book)?$.book.join(", "):$.book})]}),k.jsxs("div",{className:"hidden md:flex flex-col",children:[k.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Category:"}),k.jsx("span",{children:Array.isArray($.category)?$.category.join(", "):$.category})]}),k.jsxs("div",{className:"hidden md:flex flex-col",children:[k.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Language:"}),k.jsx("span",{children:Array.isArray($.language)?$.language.join(", "):$.language})]}),k.jsxs("div",{className:"hidden md:flex flex-col",children:[k.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Type:"}),k.jsx("span",{children:Array.isArray($.type)?$.type.join(", "):$.type})]})]},X))})]})})})]})]})]})})};function zc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var eC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var f=typeof zc=="function"&&zc;if(!c&&f)return f(u,!0);if(a)return a(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[u]={exports:{}};r[u][0].call(m.exports,function(_){var y=r[u][1][_];return o(y||_)},m,m.exports,n,r,i,s)}return i[u].exports}for(var a=typeof zc=="function"&&zc,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,f,p,m,_,y,x=[],g=0,v=l.length,w=v,C=s.getTypeOf(l)!=="string";g<l.length;)w=v-g,f=C?(u=l[g++],c=g<v?l[g++]:0,g<v?l[g++]:0):(u=l.charCodeAt(g++),c=g<v?l.charCodeAt(g++):0,g<v?l.charCodeAt(g++):0),p=u>>2,m=(3&u)<<4|c>>4,_=1<w?(15&c)<<2|f>>6:64,y=2<w?63&f:64,x.push(a.charAt(p)+a.charAt(m)+a.charAt(_)+a.charAt(y));return x.join("")},i.decode=function(l){var u,c,f,p,m,_,y=0,x=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|w):new Array(0|w);y<l.length;)u=a.indexOf(l.charAt(y++))<<2|(p=a.indexOf(l.charAt(y++)))>>4,c=(15&p)<<4|(m=a.indexOf(l.charAt(y++)))>>2,f=(3&m)<<6|(_=a.indexOf(l.charAt(y++))),v[x++]=u,m!==64&&(v[x++]=c),_!==64&&(v[x++]=f);return v}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,f,p,m,_){this.compressedSize=c,this.uncompressedSize=f,this.crc32=p,this.compression=m,this.compressedContent=_}u.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,p){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,c,f,p){var m=o,_=p+f;u^=-1;for(var y=p;y<_;y++)u=u>>>8^m[255&(u^c[y])];return-1^u}(0|l,a,a.length,0):function(u,c,f,p){var m=o,_=p+f;u^=-1;for(var y=p;y<_;y++)u=u>>>8^m[255&(u^c.charCodeAt(y))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=s?"uint8array":"array";function c(f,p){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(m,_){var y,x="";for(y=0;y<_;y++)x+=String.fromCharCode(255&m),m>>>=8;return x}function o(m,_,y,x,g,v){var w,C,O=m.file,R=m.compression,I=v!==u.utf8encode,M=a.transformTo("string",v(O.name)),z=a.transformTo("string",u.utf8encode(O.name)),W=O.comment,ve=a.transformTo("string",v(W)),F=a.transformTo("string",u.utf8encode(W)),ee=z.length!==O.name.length,A=F.length!==W.length,le="",Oe="",$="",X=O.dir,Z=O.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};_&&!y||(ue.crc32=m.crc32,ue.compressedSize=m.compressedSize,ue.uncompressedSize=m.uncompressedSize);var U=0;_&&(U|=8),I||!ee&&!A||(U|=2048);var K=0,de=0;X&&(K|=16),g==="UNIX"?(de=798,K|=function(ye,Be){var qe=ye;return ye||(qe=Be?16893:33204),(65535&qe)<<16}(O.unixPermissions,X)):(de=20,K|=function(ye){return 63&(ye||0)}(O.dosPermissions)),w=Z.getUTCHours(),w<<=6,w|=Z.getUTCMinutes(),w<<=5,w|=Z.getUTCSeconds()/2,C=Z.getUTCFullYear()-1980,C<<=4,C|=Z.getUTCMonth()+1,C<<=5,C|=Z.getUTCDate(),ee&&(Oe=s(1,1)+s(c(M),4)+z,le+="up"+s(Oe.length,2)+Oe),A&&($=s(1,1)+s(c(ve),4)+F,le+="uc"+s($.length,2)+$);var we="";return we+=`
\0`,we+=s(U,2),we+=R.magic,we+=s(w,2),we+=s(C,2),we+=s(ue.crc32,4),we+=s(ue.compressedSize,4),we+=s(ue.uncompressedSize,4),we+=s(M.length,2),we+=s(le.length,2),{fileRecord:f.LOCAL_FILE_HEADER+we+M+le,dirRecord:f.CENTRAL_FILE_HEADER+s(de,2)+we+s(ve.length,2)+"\0\0\0\0"+s(K,4)+s(x,4)+M+le+ve}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),f=n("../signature");function p(m,_,y,x){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=y,this.encodeFileName=x,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,l),p.prototype.push=function(m){var _=m.meta.percent||0,y=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(_+100*(y-x-1))/y:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var _=this.streamFiles&&!m.file.dir;if(_){var y=o(m,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var _=this.streamFiles&&!m.file.dir,y=o(m,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),_)this.push({data:function(x){return f.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var y=this.bytesWritten-m,x=function(g,v,w,C,O){var R=a.transformTo("string",O(C));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(v,4)+s(w,4)+s(R.length,2)+R}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var _=this;return m.on("data",function(y){_.processChunk(y)}),m.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),m.on("error",function(y){_.error(y)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var _=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var y=0;y<_.length;y++)try{_[y].error(m)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,_=0;_<m.length;_++)m[_].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{a.forEach(function(p,m){f++;var _=function(v,w){var C=v||w,O=s[C];if(!O)throw new Error(C+" is not a valid compression method !");return O}(m.options.compression,l.compression),y=m.options.compressionOptions||l.compressionOptions||{},x=m.dir,g=m.date;m._compressWorker(_,y).withStreamInfo("file",{name:p,dir:x,date:g,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(p){c.error(p)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function f(p){return new o.Promise(function(m,_){var y=p.decompressed.getContentWorker().pipe(new u);y.on("error",function(x){_(x)}).on("end",function(){y.streamInfo.crc32!==p.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var _=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(y){var x=new l(m);return x.load(y),x}).then(function(y){var x=[o.Promise.resolve(y)],g=y.files;if(m.checkCRC32)for(var v=0;v<g.length;v++)x.push(f(g[v]));return o.Promise.all(x)}).then(function(y){for(var x=y.shift(),g=x.files,v=0;v<g.length;v++){var w=g[v],C=w.fileNameStr,O=s.resolve(w.fileNameStr);_.file(O,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:m.createFolders}),w.dir||(_.file(O).unsafeOriginalName=C)}return x.zipComment.length&&(_.comment=x.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var c=this;a.on("data",function(f,p){c.push(f)||c._helper.pause(),u&&u(p)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(O,R,I){var M,z=a.getTypeOf(R),W=a.extend(I||{},c);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(O=g(O)),W.createFolders&&(M=x(O))&&v.call(this,M,!0);var ve=z==="string"&&W.binary===!1&&W.base64===!1;I&&I.binary!==void 0||(W.binary=!ve),(R instanceof f&&R.uncompressedSize===0||W.dir||!R||R.length===0)&&(W.base64=!1,W.binary=!0,R="",W.compression="STORE",z="string");var F=null;F=R instanceof f||R instanceof l?R:_.isNode&&_.isStream(R)?new y(O,R):a.prepareContent(O,R,W.binary,W.optimizedBinaryString,W.base64);var ee=new p(O,F,W);this.files[O]=ee}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),f=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),_=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),x=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var R=O.lastIndexOf("/");return 0<R?O.substring(0,R):""},g=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},v=function(O,R){return R=R!==void 0?R:c.createFolders,O=g(O),this.files[O]||s.call(this,O,null,{dir:!0,createFolders:R}),this.files[O]};function w(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var R,I,M;for(R in this.files)M=this.files[R],(I=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&O(I,M)},filter:function(O){var R=[];return this.forEach(function(I,M){O(I,M)&&R.push(M)}),R},file:function(O,R,I){if(arguments.length!==1)return O=this.root+O,s.call(this,O,R,I),this;if(w(O)){var M=O;return this.filter(function(W,ve){return!ve.dir&&M.test(W)})}var z=this.files[this.root+O];return z&&!z.dir?z:null},folder:function(O){if(!O)return this;if(w(O))return this.filter(function(z,W){return W.dir&&O.test(z)});var R=this.root+O,I=v.call(this,R),M=this.clone();return M.root=I.name,M},remove:function(O){O=this.root+O;var R=this.files[O];if(R||(O.slice(-1)!=="/"&&(O+="/"),R=this.files[O]),R&&!R.dir)delete this.files[O];else for(var I=this.filter(function(z,W){return W.name.slice(0,O.length)===O}),M=0;M<I.length;M++)delete this.files[I[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var R,I={};try{if((I=a.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");a.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var M=I.comment||this.comment||"";R=m.generateWorker(this,I,M)}catch(z){(R=new l("error")).error(z)}return new u(R,I.type||"string",I.mimeType)},generateAsync:function(O,R){return this.generateInternalStream(O).accumulate(R)},generateNodeStream:function(O,R){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(R)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===u&&this.data[p+2]===c&&this.data[p+3]===f)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),p=this.readData(4);return l===p[0]&&u===p[1]&&c===p[2]&&f===p[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(f){var p=s.getTypeOf(f);return s.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new u(f):o.uint8array?new c(s.transformTo("uint8array",f)):new a(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(_,y){return new c.Promise(function(x,g){var v=[],w=_._internalType,C=_._outputType,O=_._mimeType;_.on("data",function(R,I){v.push(R),y&&y(I)}).on("error",function(R){v=[],g(R)}).on("end",function(){try{var R=function(I,M,z){switch(I){case"blob":return s.newBlob(s.transformTo("arraybuffer",M),z);case"base64":return l.encode(M);default:return s.transformTo(I,M)}}(C,function(I,M){var z,W=0,ve=null,F=0;for(z=0;z<M.length;z++)F+=M[z].length;switch(I){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(ve=new Uint8Array(F),z=0;z<M.length;z++)ve.set(M[z],W),W+=M[z].length;return ve;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+I+"'")}}(w,v),O);x(R)}catch(I){g(I)}v=[]}).resume()})}function m(_,y,x){var g=y;switch(y){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=y,this._mimeType=x,s.checkSupport(g),this._worker=_.pipe(new o(g)),_.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}m.prototype={accumulate:function(_){return p(this,_)},on:function(_,y){var x=this;return _==="data"?this._worker.on(_,function(g){y.call(x,g.data,g.meta)}):this._worker.on(_,function(){s.delay(y,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},_)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return o.nodebuffer?a.newBufferFrom(m,"utf-8"):function(_){var y,x,g,v,w,C=_.length,O=0;for(v=0;v<C;v++)(64512&(x=_.charCodeAt(v)))==55296&&v+1<C&&(64512&(g=_.charCodeAt(v+1)))==56320&&(x=65536+(x-55296<<10)+(g-56320),v++),O+=x<128?1:x<2048?2:x<65536?3:4;for(y=o.uint8array?new Uint8Array(O):new Array(O),v=w=0;w<O;v++)(64512&(x=_.charCodeAt(v)))==55296&&v+1<C&&(64512&(g=_.charCodeAt(v+1)))==56320&&(x=65536+(x-55296<<10)+(g-56320),v++),x<128?y[w++]=x:(x<2048?y[w++]=192|x>>>6:(x<65536?y[w++]=224|x>>>12:(y[w++]=240|x>>>18,y[w++]=128|x>>>12&63),y[w++]=128|x>>>6&63),y[w++]=128|63&x);return y}(m)},i.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(_){var y,x,g,v,w=_.length,C=new Array(2*w);for(y=x=0;y<w;)if((g=_[y++])<128)C[x++]=g;else if(4<(v=u[g]))C[x++]=65533,y+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&y<w;)g=g<<6|63&_[y++],v--;1<v?C[x++]=65533:g<65536?C[x++]=g:(g-=65536,C[x++]=55296|g>>10&1023,C[x++]=56320|1023&g)}return C.length!==x&&(C.subarray?C=C.subarray(0,x):C.length=x),s.applyFromCharCode(C)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(f,l),f.prototype.processChunk=function(m){var _=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=_;(_=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),_.set(y,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var x=function(v,w){var C;for((w=w||v.length)>v.length&&(w=v.length),C=w-1;0<=C&&(192&v[C])==128;)C--;return C<0||C===0?w:C+u[v[C]]>w?C:w}(_),g=_;x!==_.length&&(o.uint8array?(g=_.subarray(0,x),this.leftOver=_.subarray(x,_.length)):(g=_.slice(0,x),this.leftOver=_.slice(x,_.length))),this.push({data:i.utf8decode(g),meta:m.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(p,l),p.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(y){return y}function c(y,x){for(var g=0;g<y.length;++g)x[g]=255&y.charCodeAt(g);return x}n("setimmediate"),i.newBlob=function(y,x){i.checkSupport("blob");try{return new Blob([y],{type:x})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(y),g.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(y,x,g){var v=[],w=0,C=y.length;if(C<=g)return String.fromCharCode.apply(null,y);for(;w<C;)x==="array"||x==="nodebuffer"?v.push(String.fromCharCode.apply(null,y.slice(w,Math.min(w+g,C)))):v.push(String.fromCharCode.apply(null,y.subarray(w,Math.min(w+g,C)))),w+=g;return v.join("")},stringifyByChar:function(y){for(var x="",g=0;g<y.length;g++)x+=String.fromCharCode(y[g]);return x},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(y){var x=65536,g=i.getTypeOf(y),v=!0;if(g==="uint8array"?v=f.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=f.applyCanBeUsed.nodebuffer),v)for(;1<x;)try{return f.stringifyByChunk(y,g,x)}catch{x=Math.floor(x/2)}return f.stringifyByChar(y)}function m(y,x){for(var g=0;g<y.length;g++)x[g]=y[g];return x}i.applyFromCharCode=p;var _={};_.string={string:u,array:function(y){return c(y,new Array(y.length))},arraybuffer:function(y){return _.string.uint8array(y).buffer},uint8array:function(y){return c(y,new Uint8Array(y.length))},nodebuffer:function(y){return c(y,a.allocBuffer(y.length))}},_.array={string:p,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},_.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},_.uint8array={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return a.newBufferFrom(y)}},_.nodebuffer={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return _.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:u},i.transformTo=function(y,x){if(x=x||"",!y)return x;i.checkSupport(y);var g=i.getTypeOf(x);return _[g][y](x)},i.resolve=function(y){for(var x=y.split("/"),g=[],v=0;v<x.length;v++){var w=x[v];w==="."||w===""&&v!==0&&v!==x.length-1||(w===".."?g.pop():g.push(w))}return g.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var x,g,v="";for(g=0;g<(y||"").length;g++)v+="\\x"+((x=y.charCodeAt(g))<16?"0":"")+x.toString(16).toUpperCase();return v},i.delay=function(y,x,g){setImmediate(function(){y.apply(g||null,x||[])})},i.inherits=function(y,x){function g(){}g.prototype=x.prototype,y.prototype=new g},i.extend=function(){var y,x,g={};for(y=0;y<arguments.length;y++)for(x in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],x)&&g[x]===void 0&&(g[x]=arguments[y][x]);return g},i.prepareContent=function(y,x,g,v,w){return l.Promise.resolve(x).then(function(C){return s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(O,R){var I=new FileReader;I.onload=function(M){O(M.target.result)},I.onerror=function(M){R(M.target.error)},I.readAsArrayBuffer(C)}):C}).then(function(C){var O=i.getTypeOf(C);return O?(O==="arraybuffer"?C=i.transformTo("uint8array",C):O==="string"&&(w?C=o.decode(C):g&&v!==!0&&(C=function(R){return c(R,s.uint8array?new Uint8Array(R.length):new Array(R.length))}(C))),C):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(f)+")")}},isSignature:function(f,p){var m=this.reader.index;this.reader.setIndex(f);var _=this.reader.readString(4)===p;return this.reader.setIndex(m),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",m=o.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,m,_=this.zip64EndOfCentralSize-44;0<_;)f=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var _=p-m;if(0<_)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),f=n("./support");function p(m,_){this.options=m,this.loadOptions=_}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var _,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(x){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===x)return c[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,_,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var _=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(_),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var _,y,x,g=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<g;)_=m.readInt(2),y=m.readInt(2),x=m.readData(y),this.extraFields[_]={id:_,length:y,value:x};m.setIndex(g)},handleUTF8:function(){var m=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var y=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var g=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var _=s(m.value);return _.readInt(1)!==1||l(this.fileName)!==_.readInt(4)?null:u.utf8decode(_.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var _=s(m.value);return _.readInt(1)!==1||l(this.fileComment)!==_.readInt(4)?null:u.utf8decode(_.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(_,y,x){this.name=_,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=y,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");s.prototype={internalStream:function(_){var y=null,x="string";try{if(!_)throw new Error("No output type specified.");var g=(x=_.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),y=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(y=y.pipe(new l.Utf8EncodeWorker)),!v&&g&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(w){(y=new c("error")).error(w)}return new o(y,x,"")},async:function(_,y){return this.internalStream(_).accumulate(y)},nodeStream:function(_,y){return this.internalStream(_||"nodebuffer").toNodejsStream(y)},_compressWorker:function(_,y){if(this._data instanceof u&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(x,_,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<f.length;m++)s.prototype[f[m]]=p;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(_),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){_(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(_,0)};else{var p=new s.MessageChannel;p.port1.onmessage=_,o=function(){p.port2.postMessage(0)}}var m=[];function _(){var y,x;a=!0;for(var g=m.length;g;){for(x=m,m=[],y=-1;++y<g;)x[y]();g=m.length}a=!1}r.exports=function(y){m.push(y)!==1||a||o()}}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==o&&y(this,g)}function p(g,v,w){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function m(g,v,w){s(function(){var C;try{C=v(w)}catch(O){return a.reject(g,O)}C===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,C)})}function _(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function y(g,v){var w=!1;function C(I){w||(w=!0,a.reject(g,I))}function O(I){w||(w=!0,a.resolve(g,I))}var R=x(function(){v(O,C)});R.status==="error"&&C(R.value)}function x(g,v){var w={};try{w.value=g(v),w.status="success"}catch(C){w.status="error",w.value=C}return w}(r.exports=f).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(w){return v.resolve(g()).then(function(){return w})},function(w){return v.resolve(g()).then(function(){throw w})})},f.prototype.catch=function(g){return this.then(null,g)},f.prototype.then=function(g,v){if(typeof g!="function"&&this.state===u||typeof v!="function"&&this.state===l)return this;var w=new this.constructor(o);return this.state!==c?m(w,this.state===u?g:v,this.outcome):this.queue.push(new p(w,g,v)),w},p.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},p.prototype.otherCallFulfilled=function(g){m(this.promise,this.onFulfilled,g)},p.prototype.callRejected=function(g){a.reject(this.promise,g)},p.prototype.otherCallRejected=function(g){m(this.promise,this.onRejected,g)},a.resolve=function(g,v){var w=x(_,v);if(w.status==="error")return a.reject(g,w.value);var C=w.value;if(C)y(g,C);else{g.state=u,g.outcome=v;for(var O=-1,R=g.queue.length;++O<R;)g.queue[O].callFulfilled(v)}return g},a.reject=function(g,v){g.state=l,g.outcome=v;for(var w=-1,C=g.queue.length;++w<C;)g.queue[w].callRejected(v);return g},f.resolve=function(g){return g instanceof this?g:a.resolve(new this(o),g)},f.reject=function(g){var v=new this(o);return a.reject(v,g)},f.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,C=!1;if(!w)return this.resolve([]);for(var O=new Array(w),R=0,I=-1,M=new this(o);++I<w;)z(g[I],I);return M;function z(W,ve){v.resolve(W).then(function(F){O[ve]=F,++R!==w||C||(C=!0,a.resolve(M,O))},function(F){C||(C=!0,a.reject(M,F))})}},f.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,C=!1;if(!w)return this.resolve([]);for(var O=-1,R=new this(o);++O<w;)I=g[O],v.resolve(I).then(function(M){C||(C=!0,a.resolve(R,M))},function(M){C||(C=!0,a.reject(R,M))});var I;return R}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,f=0,p=-1,m=0,_=8;function y(g){if(!(this instanceof y))return new y(g);this.options=o.assign({level:p,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(w!==f)throw new Error(l[w]);if(v.header&&s.deflateSetHeader(this.strm,v.header),v.dictionary){var C;if(C=typeof v.dictionary=="string"?a.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(w=s.deflateSetDictionary(this.strm,C))!==f)throw new Error(l[w]);this._dict_set=!0}}function x(g,v){var w=new y(v);if(w.push(g,!0),w.err)throw w.msg||l[w.err];return w.result}y.prototype.push=function(g,v){var w,C,O=this.strm,R=this.options.chunkSize;if(this.ended)return!1;C=v===~~v?v:v===!0?4:0,typeof g=="string"?O.input=a.string2buf(g):c.call(g)==="[object ArrayBuffer]"?O.input=new Uint8Array(g):O.input=g,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new o.Buf8(R),O.next_out=0,O.avail_out=R),(w=s.deflate(O,C))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(O.output,O.next_out))):this.onData(o.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&w!==1);return C===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):C!==2||(this.onEnd(f),!(O.avail_out=0))},y.prototype.onData=function(g){this.chunks.push(g)},y.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=y,i.deflate=x,i.deflateRaw=function(g,v){return(v=v||{}).raw=!0,x(g,v)},i.gzip=function(g,v){return(v=v||{}).gzip=!0,x(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),f=n("./zlib/gzheader"),p=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||y&&y.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,x.windowBits);if(g!==l.Z_OK)throw new Error(u[g]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function _(y,x){var g=new m(x);if(g.push(y,!0),g.err)throw g.msg||u[g.err];return g.result}m.prototype.push=function(y,x){var g,v,w,C,O,R,I=this.strm,M=this.options.chunkSize,z=this.options.dictionary,W=!1;if(this.ended)return!1;v=x===~~x?x:x===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?I.input=a.binstring2buf(y):p.call(y)==="[object ArrayBuffer]"?I.input=new Uint8Array(y):I.input=y,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new o.Buf8(M),I.next_out=0,I.avail_out=M),(g=s.inflate(I,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&z&&(R=typeof z=="string"?a.string2buf(z):p.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,g=s.inflateSetDictionary(this.strm,R)),g===l.Z_BUF_ERROR&&W===!0&&(g=l.Z_OK,W=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&g!==l.Z_STREAM_END&&(I.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(I.output,I.next_out),C=I.next_out-w,O=a.buf2string(I.output,w),I.next_out=C,I.avail_out=M-C,C&&o.arraySet(I.output,I.output,w,C,0),this.onData(O)):this.onData(o.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(W=!0)}while((0<I.avail_in||I.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(I.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=_,i.inflateRaw=function(y,x){return(x=x||{}).raw=!0,_(y,x)},i.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,f,p){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),p);else for(var m=0;m<f;m++)l[p+m]=u[c+m]},flattenChunks:function(l){var u,c,f,p,m,_;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(_=new Uint8Array(f),u=p=0,c=l.length;u<c;u++)m=l[u],_.set(m,p),p+=m.length;return _}},a={arraySet:function(l,u,c,f,p){for(var m=0;m<f;m++)l[p+m]=u[c+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,p){if(p<65537&&(f.subarray&&a||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,p));for(var m="",_=0;_<p;_++)m+=String.fromCharCode(f[_]);return m}l[254]=l[254]=1,i.string2buf=function(f){var p,m,_,y,x,g=f.length,v=0;for(y=0;y<g;y++)(64512&(m=f.charCodeAt(y)))==55296&&y+1<g&&(64512&(_=f.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(_-56320),y++),v+=m<128?1:m<2048?2:m<65536?3:4;for(p=new s.Buf8(v),y=x=0;x<v;y++)(64512&(m=f.charCodeAt(y)))==55296&&y+1<g&&(64512&(_=f.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(_-56320),y++),m<128?p[x++]=m:(m<2048?p[x++]=192|m>>>6:(m<65536?p[x++]=224|m>>>12:(p[x++]=240|m>>>18,p[x++]=128|m>>>12&63),p[x++]=128|m>>>6&63),p[x++]=128|63&m);return p},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var p=new s.Buf8(f.length),m=0,_=p.length;m<_;m++)p[m]=f.charCodeAt(m);return p},i.buf2string=function(f,p){var m,_,y,x,g=p||f.length,v=new Array(2*g);for(m=_=0;m<g;)if((y=f[m++])<128)v[_++]=y;else if(4<(x=l[y]))v[_++]=65533,m+=x-1;else{for(y&=x===2?31:x===3?15:7;1<x&&m<g;)y=y<<6|63&f[m++],x--;1<x?v[_++]=65533:y<65536?v[_++]=y:(y-=65536,v[_++]=55296|y>>10&1023,v[_++]=56320|1023&y)}return c(v,_)},i.utf8border=function(f,p){var m;for((p=p||f.length)>f.length&&(p=f.length),m=p-1;0<=m&&(192&f[m])==128;)m--;return m<0||m===0?p:m+l[f[m]]>p?m:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var u=65535&s|0,c=s>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var c=s,f=u+l;o^=-1;for(var p=u;p<f;p++)o=o>>>8^c[255&(o^a[p])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),f=0,p=4,m=0,_=-2,y=-1,x=4,g=2,v=8,w=9,C=286,O=30,R=19,I=2*C+1,M=15,z=3,W=258,ve=W+z+1,F=42,ee=113,A=1,le=2,Oe=3,$=4;function X(P,he){return P.msg=c[he],he}function Z(P){return(P<<1)-(4<P?9:0)}function ue(P){for(var he=P.length;0<=--he;)P[he]=0}function U(P){var he=P.state,ce=he.pending;ce>P.avail_out&&(ce=P.avail_out),ce!==0&&(o.arraySet(P.output,he.pending_buf,he.pending_out,ce,P.next_out),P.next_out+=ce,he.pending_out+=ce,P.total_out+=ce,P.avail_out-=ce,he.pending-=ce,he.pending===0&&(he.pending_out=0))}function K(P,he){a._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,he),P.block_start=P.strstart,U(P.strm)}function de(P,he){P.pending_buf[P.pending++]=he}function we(P,he){P.pending_buf[P.pending++]=he>>>8&255,P.pending_buf[P.pending++]=255&he}function ye(P,he){var ce,L,N=P.max_chain_length,ne=P.strstart,pe=P.prev_length,me=P.nice_match,oe=P.strstart>P.w_size-ve?P.strstart-(P.w_size-ve):0,_e=P.window,Ie=P.w_mask,xe=P.prev,Fe=P.strstart+W,tt=_e[ne+pe-1],Je=_e[ne+pe];P.prev_length>=P.good_match&&(N>>=2),me>P.lookahead&&(me=P.lookahead);do if(_e[(ce=he)+pe]===Je&&_e[ce+pe-1]===tt&&_e[ce]===_e[ne]&&_e[++ce]===_e[ne+1]){ne+=2,ce++;do;while(_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&ne<Fe);if(L=W-(Fe-ne),ne=Fe-W,pe<L){if(P.match_start=he,me<=(pe=L))break;tt=_e[ne+pe-1],Je=_e[ne+pe]}}while((he=xe[he&Ie])>oe&&--N!=0);return pe<=P.lookahead?pe:P.lookahead}function Be(P){var he,ce,L,N,ne,pe,me,oe,_e,Ie,xe=P.w_size;do{if(N=P.window_size-P.lookahead-P.strstart,P.strstart>=xe+(xe-ve)){for(o.arraySet(P.window,P.window,xe,xe,0),P.match_start-=xe,P.strstart-=xe,P.block_start-=xe,he=ce=P.hash_size;L=P.head[--he],P.head[he]=xe<=L?L-xe:0,--ce;);for(he=ce=xe;L=P.prev[--he],P.prev[he]=xe<=L?L-xe:0,--ce;);N+=xe}if(P.strm.avail_in===0)break;if(pe=P.strm,me=P.window,oe=P.strstart+P.lookahead,_e=N,Ie=void 0,Ie=pe.avail_in,_e<Ie&&(Ie=_e),ce=Ie===0?0:(pe.avail_in-=Ie,o.arraySet(me,pe.input,pe.next_in,Ie,oe),pe.state.wrap===1?pe.adler=l(pe.adler,me,Ie,oe):pe.state.wrap===2&&(pe.adler=u(pe.adler,me,Ie,oe)),pe.next_in+=Ie,pe.total_in+=Ie,Ie),P.lookahead+=ce,P.lookahead+P.insert>=z)for(ne=P.strstart-P.insert,P.ins_h=P.window[ne],P.ins_h=(P.ins_h<<P.hash_shift^P.window[ne+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[ne+z-1])&P.hash_mask,P.prev[ne&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=ne,ne++,P.insert--,!(P.lookahead+P.insert<z)););}while(P.lookahead<ve&&P.strm.avail_in!==0)}function qe(P,he){for(var ce,L;;){if(P.lookahead<ve){if(Be(P),P.lookahead<ve&&he===f)return A;if(P.lookahead===0)break}if(ce=0,P.lookahead>=z&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+z-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),ce!==0&&P.strstart-ce<=P.w_size-ve&&(P.match_length=ye(P,ce)),P.match_length>=z)if(L=a._tr_tally(P,P.strstart-P.match_start,P.match_length-z),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=z){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+z-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else L=a._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(L&&(K(P,!1),P.strm.avail_out===0))return A}return P.insert=P.strstart<z-1?P.strstart:z-1,he===p?(K(P,!0),P.strm.avail_out===0?Oe:$):P.last_lit&&(K(P,!1),P.strm.avail_out===0)?A:le}function De(P,he){for(var ce,L,N;;){if(P.lookahead<ve){if(Be(P),P.lookahead<ve&&he===f)return A;if(P.lookahead===0)break}if(ce=0,P.lookahead>=z&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+z-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=z-1,ce!==0&&P.prev_length<P.max_lazy_match&&P.strstart-ce<=P.w_size-ve&&(P.match_length=ye(P,ce),P.match_length<=5&&(P.strategy===1||P.match_length===z&&4096<P.strstart-P.match_start)&&(P.match_length=z-1)),P.prev_length>=z&&P.match_length<=P.prev_length){for(N=P.strstart+P.lookahead-z,L=a._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-z),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=N&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+z-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=z-1,P.strstart++,L&&(K(P,!1),P.strm.avail_out===0))return A}else if(P.match_available){if((L=a._tr_tally(P,0,P.window[P.strstart-1]))&&K(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return A}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(L=a._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<z-1?P.strstart:z-1,he===p?(K(P,!0),P.strm.avail_out===0?Oe:$):P.last_lit&&(K(P,!1),P.strm.avail_out===0)?A:le}function be(P,he,ce,L,N){this.good_length=P,this.max_lazy=he,this.nice_length=ce,this.max_chain=L,this.func=N}function ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*I),this.dyn_dtree=new o.Buf16(2*(2*O+1)),this.bl_tree=new o.Buf16(2*(2*R+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(M+1),this.heap=new o.Buf16(2*C+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*C+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function lt(P){var he;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=g,(he=P.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?F:ee,P.adler=he.wrap===2?0:1,he.last_flush=f,a._tr_init(he),m):X(P,_)}function We(P){var he=lt(P);return he===m&&function(ce){ce.window_size=2*ce.w_size,ue(ce.head),ce.max_lazy_match=s[ce.level].max_lazy,ce.good_match=s[ce.level].good_length,ce.nice_match=s[ce.level].nice_length,ce.max_chain_length=s[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=z-1,ce.match_available=0,ce.ins_h=0}(P.state),he}function Ft(P,he,ce,L,N,ne){if(!P)return _;var pe=1;if(he===y&&(he=6),L<0?(pe=0,L=-L):15<L&&(pe=2,L-=16),N<1||w<N||ce!==v||L<8||15<L||he<0||9<he||ne<0||x<ne)return X(P,_);L===8&&(L=9);var me=new ft;return(P.state=me).strm=P,me.wrap=pe,me.gzhead=null,me.w_bits=L,me.w_size=1<<me.w_bits,me.w_mask=me.w_size-1,me.hash_bits=N+7,me.hash_size=1<<me.hash_bits,me.hash_mask=me.hash_size-1,me.hash_shift=~~((me.hash_bits+z-1)/z),me.window=new o.Buf8(2*me.w_size),me.head=new o.Buf16(me.hash_size),me.prev=new o.Buf16(me.w_size),me.lit_bufsize=1<<N+6,me.pending_buf_size=4*me.lit_bufsize,me.pending_buf=new o.Buf8(me.pending_buf_size),me.d_buf=1*me.lit_bufsize,me.l_buf=3*me.lit_bufsize,me.level=he,me.strategy=ne,me.method=ce,We(P)}s=[new be(0,0,0,0,function(P,he){var ce=65535;for(ce>P.pending_buf_size-5&&(ce=P.pending_buf_size-5);;){if(P.lookahead<=1){if(Be(P),P.lookahead===0&&he===f)return A;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var L=P.block_start+ce;if((P.strstart===0||P.strstart>=L)&&(P.lookahead=P.strstart-L,P.strstart=L,K(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-ve&&(K(P,!1),P.strm.avail_out===0))return A}return P.insert=0,he===p?(K(P,!0),P.strm.avail_out===0?Oe:$):(P.strstart>P.block_start&&(K(P,!1),P.strm.avail_out),A)}),new be(4,4,8,4,qe),new be(4,5,16,8,qe),new be(4,6,32,32,qe),new be(4,4,16,16,De),new be(8,16,32,32,De),new be(8,16,128,128,De),new be(8,32,128,256,De),new be(32,128,258,1024,De),new be(32,258,258,4096,De)],i.deflateInit=function(P,he){return Ft(P,he,v,15,8,0)},i.deflateInit2=Ft,i.deflateReset=We,i.deflateResetKeep=lt,i.deflateSetHeader=function(P,he){return P&&P.state?P.state.wrap!==2?_:(P.state.gzhead=he,m):_},i.deflate=function(P,he){var ce,L,N,ne;if(!P||!P.state||5<he||he<0)return P?X(P,_):_;if(L=P.state,!P.output||!P.input&&P.avail_in!==0||L.status===666&&he!==p)return X(P,P.avail_out===0?-5:_);if(L.strm=P,ce=L.last_flush,L.last_flush=he,L.status===F)if(L.wrap===2)P.adler=0,de(L,31),de(L,139),de(L,8),L.gzhead?(de(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),de(L,255&L.gzhead.time),de(L,L.gzhead.time>>8&255),de(L,L.gzhead.time>>16&255),de(L,L.gzhead.time>>24&255),de(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),de(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&(de(L,255&L.gzhead.extra.length),de(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(P.adler=u(P.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):(de(L,0),de(L,0),de(L,0),de(L,0),de(L,0),de(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),de(L,3),L.status=ee);else{var pe=v+(L.w_bits-8<<4)<<8;pe|=(2<=L.strategy||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(pe|=32),pe+=31-pe%31,L.status=ee,we(L,pe),L.strstart!==0&&(we(L,P.adler>>>16),we(L,65535&P.adler)),P.adler=1}if(L.status===69)if(L.gzhead.extra){for(N=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),U(P),N=L.pending,L.pending!==L.pending_buf_size));)de(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){N=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),U(P),N=L.pending,L.pending===L.pending_buf_size)){ne=1;break}ne=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,de(L,ne)}while(ne!==0);L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),ne===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){N=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),U(P),N=L.pending,L.pending===L.pending_buf_size)){ne=1;break}ne=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,de(L,ne)}while(ne!==0);L.gzhead.hcrc&&L.pending>N&&(P.adler=u(P.adler,L.pending_buf,L.pending-N,N)),ne===0&&(L.status=103)}else L.status=103;if(L.status===103&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&U(P),L.pending+2<=L.pending_buf_size&&(de(L,255&P.adler),de(L,P.adler>>8&255),P.adler=0,L.status=ee)):L.status=ee),L.pending!==0){if(U(P),P.avail_out===0)return L.last_flush=-1,m}else if(P.avail_in===0&&Z(he)<=Z(ce)&&he!==p)return X(P,-5);if(L.status===666&&P.avail_in!==0)return X(P,-5);if(P.avail_in!==0||L.lookahead!==0||he!==f&&L.status!==666){var me=L.strategy===2?function(oe,_e){for(var Ie;;){if(oe.lookahead===0&&(Be(oe),oe.lookahead===0)){if(_e===f)return A;break}if(oe.match_length=0,Ie=a._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,Ie&&(K(oe,!1),oe.strm.avail_out===0))return A}return oe.insert=0,_e===p?(K(oe,!0),oe.strm.avail_out===0?Oe:$):oe.last_lit&&(K(oe,!1),oe.strm.avail_out===0)?A:le}(L,he):L.strategy===3?function(oe,_e){for(var Ie,xe,Fe,tt,Je=oe.window;;){if(oe.lookahead<=W){if(Be(oe),oe.lookahead<=W&&_e===f)return A;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=z&&0<oe.strstart&&(xe=Je[Fe=oe.strstart-1])===Je[++Fe]&&xe===Je[++Fe]&&xe===Je[++Fe]){tt=oe.strstart+W;do;while(xe===Je[++Fe]&&xe===Je[++Fe]&&xe===Je[++Fe]&&xe===Je[++Fe]&&xe===Je[++Fe]&&xe===Je[++Fe]&&xe===Je[++Fe]&&xe===Je[++Fe]&&Fe<tt);oe.match_length=W-(tt-Fe),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=z?(Ie=a._tr_tally(oe,1,oe.match_length-z),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(Ie=a._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),Ie&&(K(oe,!1),oe.strm.avail_out===0))return A}return oe.insert=0,_e===p?(K(oe,!0),oe.strm.avail_out===0?Oe:$):oe.last_lit&&(K(oe,!1),oe.strm.avail_out===0)?A:le}(L,he):s[L.level].func(L,he);if(me!==Oe&&me!==$||(L.status=666),me===A||me===Oe)return P.avail_out===0&&(L.last_flush=-1),m;if(me===le&&(he===1?a._tr_align(L):he!==5&&(a._tr_stored_block(L,0,0,!1),he===3&&(ue(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),U(P),P.avail_out===0))return L.last_flush=-1,m}return he!==p?m:L.wrap<=0?1:(L.wrap===2?(de(L,255&P.adler),de(L,P.adler>>8&255),de(L,P.adler>>16&255),de(L,P.adler>>24&255),de(L,255&P.total_in),de(L,P.total_in>>8&255),de(L,P.total_in>>16&255),de(L,P.total_in>>24&255)):(we(L,P.adler>>>16),we(L,65535&P.adler)),U(P),0<L.wrap&&(L.wrap=-L.wrap),L.pending!==0?m:1)},i.deflateEnd=function(P){var he;return P&&P.state?(he=P.state.status)!==F&&he!==69&&he!==73&&he!==91&&he!==103&&he!==ee&&he!==666?X(P,_):(P.state=null,he===ee?X(P,-3):m):_},i.deflateSetDictionary=function(P,he){var ce,L,N,ne,pe,me,oe,_e,Ie=he.length;if(!P||!P.state||(ne=(ce=P.state).wrap)===2||ne===1&&ce.status!==F||ce.lookahead)return _;for(ne===1&&(P.adler=l(P.adler,he,Ie,0)),ce.wrap=0,Ie>=ce.w_size&&(ne===0&&(ue(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),_e=new o.Buf8(ce.w_size),o.arraySet(_e,he,Ie-ce.w_size,ce.w_size,0),he=_e,Ie=ce.w_size),pe=P.avail_in,me=P.next_in,oe=P.input,P.avail_in=Ie,P.next_in=0,P.input=he,Be(ce);ce.lookahead>=z;){for(L=ce.strstart,N=ce.lookahead-(z-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[L+z-1])&ce.hash_mask,ce.prev[L&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=L,L++,--N;);ce.strstart=L,ce.lookahead=z-1,Be(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=z-1,ce.match_available=0,P.next_in=me,P.input=oe,P.avail_in=pe,ce.wrap=ne,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,u,c,f,p,m,_,y,x,g,v,w,C,O,R,I,M,z,W,ve,F,ee,A,le;a=s.state,l=s.next_in,A=s.input,u=l+(s.avail_in-5),c=s.next_out,le=s.output,f=c-(o-s.avail_out),p=c+(s.avail_out-257),m=a.dmax,_=a.wsize,y=a.whave,x=a.wnext,g=a.window,v=a.hold,w=a.bits,C=a.lencode,O=a.distcode,R=(1<<a.lenbits)-1,I=(1<<a.distbits)-1;e:do{w<15&&(v+=A[l++]<<w,w+=8,v+=A[l++]<<w,w+=8),M=C[v&R];t:for(;;){if(v>>>=z=M>>>24,w-=z,(z=M>>>16&255)===0)le[c++]=65535&M;else{if(!(16&z)){if(!(64&z)){M=C[(65535&M)+(v&(1<<z)-1)];continue t}if(32&z){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}W=65535&M,(z&=15)&&(w<z&&(v+=A[l++]<<w,w+=8),W+=v&(1<<z)-1,v>>>=z,w-=z),w<15&&(v+=A[l++]<<w,w+=8,v+=A[l++]<<w,w+=8),M=O[v&I];n:for(;;){if(v>>>=z=M>>>24,w-=z,!(16&(z=M>>>16&255))){if(!(64&z)){M=O[(65535&M)+(v&(1<<z)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(ve=65535&M,w<(z&=15)&&(v+=A[l++]<<w,(w+=8)<z&&(v+=A[l++]<<w,w+=8)),m<(ve+=v&(1<<z)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=z,w-=z,(z=c-f)<ve){if(y<(z=ve-z)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(ee=g,(F=0)===x){if(F+=_-z,z<W){for(W-=z;le[c++]=g[F++],--z;);F=c-ve,ee=le}}else if(x<z){if(F+=_+x-z,(z-=x)<W){for(W-=z;le[c++]=g[F++],--z;);if(F=0,x<W){for(W-=z=x;le[c++]=g[F++],--z;);F=c-ve,ee=le}}}else if(F+=x-z,z<W){for(W-=z;le[c++]=g[F++],--z;);F=c-ve,ee=le}for(;2<W;)le[c++]=ee[F++],le[c++]=ee[F++],le[c++]=ee[F++],W-=3;W&&(le[c++]=ee[F++],1<W&&(le[c++]=ee[F++]))}else{for(F=c-ve;le[c++]=le[F++],le[c++]=le[F++],le[c++]=le[F++],2<(W-=3););W&&(le[c++]=le[F++],1<W&&(le[c++]=le[F++]))}break}}break}}while(l<u&&c<p);l-=W=w>>3,v&=(1<<(w-=W<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<p?p-c+257:257-(c-p),a.hold=v,a.bits=w}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,f=2,p=0,m=-2,_=1,y=852,x=592;function g(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(F){var ee;return F&&F.state?(ee=F.state,F.total_in=F.total_out=ee.total=0,F.msg="",ee.wrap&&(F.adler=1&ee.wrap),ee.mode=_,ee.last=0,ee.havedict=0,ee.dmax=32768,ee.head=null,ee.hold=0,ee.bits=0,ee.lencode=ee.lendyn=new s.Buf32(y),ee.distcode=ee.distdyn=new s.Buf32(x),ee.sane=1,ee.back=-1,p):m}function C(F){var ee;return F&&F.state?((ee=F.state).wsize=0,ee.whave=0,ee.wnext=0,w(F)):m}function O(F,ee){var A,le;return F&&F.state?(le=F.state,ee<0?(A=0,ee=-ee):(A=1+(ee>>4),ee<48&&(ee&=15)),ee&&(ee<8||15<ee)?m:(le.window!==null&&le.wbits!==ee&&(le.window=null),le.wrap=A,le.wbits=ee,C(F))):m}function R(F,ee){var A,le;return F?(le=new v,(F.state=le).window=null,(A=O(F,ee))!==p&&(F.state=null),A):m}var I,M,z=!0;function W(F){if(z){var ee;for(I=new s.Buf32(512),M=new s.Buf32(32),ee=0;ee<144;)F.lens[ee++]=8;for(;ee<256;)F.lens[ee++]=9;for(;ee<280;)F.lens[ee++]=7;for(;ee<288;)F.lens[ee++]=8;for(u(c,F.lens,0,288,I,0,F.work,{bits:9}),ee=0;ee<32;)F.lens[ee++]=5;u(f,F.lens,0,32,M,0,F.work,{bits:5}),z=!1}F.lencode=I,F.lenbits=9,F.distcode=M,F.distbits=5}function ve(F,ee,A,le){var Oe,$=F.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new s.Buf8($.wsize)),le>=$.wsize?(s.arraySet($.window,ee,A-$.wsize,$.wsize,0),$.wnext=0,$.whave=$.wsize):(le<(Oe=$.wsize-$.wnext)&&(Oe=le),s.arraySet($.window,ee,A-le,Oe,$.wnext),(le-=Oe)?(s.arraySet($.window,ee,A-le,le,0),$.wnext=le,$.whave=$.wsize):($.wnext+=Oe,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=Oe))),0}i.inflateReset=C,i.inflateReset2=O,i.inflateResetKeep=w,i.inflateInit=function(F){return R(F,15)},i.inflateInit2=R,i.inflate=function(F,ee){var A,le,Oe,$,X,Z,ue,U,K,de,we,ye,Be,qe,De,be,ft,lt,We,Ft,P,he,ce,L,N=0,ne=new s.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return m;(A=F.state).mode===12&&(A.mode=13),X=F.next_out,Oe=F.output,ue=F.avail_out,$=F.next_in,le=F.input,Z=F.avail_in,U=A.hold,K=A.bits,de=Z,we=ue,he=p;e:for(;;)switch(A.mode){case _:if(A.wrap===0){A.mode=13;break}for(;K<16;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}if(2&A.wrap&&U===35615){ne[A.check=0]=255&U,ne[1]=U>>>8&255,A.check=a(A.check,ne,2,0),K=U=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&U)<<8)+(U>>8))%31){F.msg="incorrect header check",A.mode=30;break}if((15&U)!=8){F.msg="unknown compression method",A.mode=30;break}if(K-=4,P=8+(15&(U>>>=4)),A.wbits===0)A.wbits=P;else if(P>A.wbits){F.msg="invalid window size",A.mode=30;break}A.dmax=1<<P,F.adler=A.check=1,A.mode=512&U?10:12,K=U=0;break;case 2:for(;K<16;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}if(A.flags=U,(255&A.flags)!=8){F.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){F.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=U>>8&1),512&A.flags&&(ne[0]=255&U,ne[1]=U>>>8&255,A.check=a(A.check,ne,2,0)),K=U=0,A.mode=3;case 3:for(;K<32;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}A.head&&(A.head.time=U),512&A.flags&&(ne[0]=255&U,ne[1]=U>>>8&255,ne[2]=U>>>16&255,ne[3]=U>>>24&255,A.check=a(A.check,ne,4,0)),K=U=0,A.mode=4;case 4:for(;K<16;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}A.head&&(A.head.xflags=255&U,A.head.os=U>>8),512&A.flags&&(ne[0]=255&U,ne[1]=U>>>8&255,A.check=a(A.check,ne,2,0)),K=U=0,A.mode=5;case 5:if(1024&A.flags){for(;K<16;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}A.length=U,A.head&&(A.head.extra_len=U),512&A.flags&&(ne[0]=255&U,ne[1]=U>>>8&255,A.check=a(A.check,ne,2,0)),K=U=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(Z<(ye=A.length)&&(ye=Z),ye&&(A.head&&(P=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),s.arraySet(A.head.extra,le,$,ye,P)),512&A.flags&&(A.check=a(A.check,le,ye,$)),Z-=ye,$+=ye,A.length-=ye),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(Z===0)break e;for(ye=0;P=le[$+ye++],A.head&&P&&A.length<65536&&(A.head.name+=String.fromCharCode(P)),P&&ye<Z;);if(512&A.flags&&(A.check=a(A.check,le,ye,$)),Z-=ye,$+=ye,P)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(Z===0)break e;for(ye=0;P=le[$+ye++],A.head&&P&&A.length<65536&&(A.head.comment+=String.fromCharCode(P)),P&&ye<Z;);if(512&A.flags&&(A.check=a(A.check,le,ye,$)),Z-=ye,$+=ye,P)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;K<16;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}if(U!==(65535&A.check)){F.msg="header crc mismatch",A.mode=30;break}K=U=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),F.adler=A.check=0,A.mode=12;break;case 10:for(;K<32;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}F.adler=A.check=g(U),K=U=0,A.mode=11;case 11:if(A.havedict===0)return F.next_out=X,F.avail_out=ue,F.next_in=$,F.avail_in=Z,A.hold=U,A.bits=K,2;F.adler=A.check=1,A.mode=12;case 12:if(ee===5||ee===6)break e;case 13:if(A.last){U>>>=7&K,K-=7&K,A.mode=27;break}for(;K<3;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}switch(A.last=1&U,K-=1,3&(U>>>=1)){case 0:A.mode=14;break;case 1:if(W(A),A.mode=20,ee!==6)break;U>>>=2,K-=2;break e;case 2:A.mode=17;break;case 3:F.msg="invalid block type",A.mode=30}U>>>=2,K-=2;break;case 14:for(U>>>=7&K,K-=7&K;K<32;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}if((65535&U)!=(U>>>16^65535)){F.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&U,K=U=0,A.mode=15,ee===6)break e;case 15:A.mode=16;case 16:if(ye=A.length){if(Z<ye&&(ye=Z),ue<ye&&(ye=ue),ye===0)break e;s.arraySet(Oe,le,$,ye,X),Z-=ye,$+=ye,ue-=ye,X+=ye,A.length-=ye;break}A.mode=12;break;case 17:for(;K<14;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}if(A.nlen=257+(31&U),U>>>=5,K-=5,A.ndist=1+(31&U),U>>>=5,K-=5,A.ncode=4+(15&U),U>>>=4,K-=4,286<A.nlen||30<A.ndist){F.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;K<3;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}A.lens[pe[A.have++]]=7&U,U>>>=3,K-=3}for(;A.have<19;)A.lens[pe[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,ce={bits:A.lenbits},he=u(0,A.lens,0,19,A.lencode,0,A.work,ce),A.lenbits=ce.bits,he){F.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;be=(N=A.lencode[U&(1<<A.lenbits)-1])>>>16&255,ft=65535&N,!((De=N>>>24)<=K);){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}if(ft<16)U>>>=De,K-=De,A.lens[A.have++]=ft;else{if(ft===16){for(L=De+2;K<L;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}if(U>>>=De,K-=De,A.have===0){F.msg="invalid bit length repeat",A.mode=30;break}P=A.lens[A.have-1],ye=3+(3&U),U>>>=2,K-=2}else if(ft===17){for(L=De+3;K<L;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}K-=De,P=0,ye=3+(7&(U>>>=De)),U>>>=3,K-=3}else{for(L=De+7;K<L;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}K-=De,P=0,ye=11+(127&(U>>>=De)),U>>>=7,K-=7}if(A.have+ye>A.nlen+A.ndist){F.msg="invalid bit length repeat",A.mode=30;break}for(;ye--;)A.lens[A.have++]=P}}if(A.mode===30)break;if(A.lens[256]===0){F.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,ce={bits:A.lenbits},he=u(c,A.lens,0,A.nlen,A.lencode,0,A.work,ce),A.lenbits=ce.bits,he){F.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,ce={bits:A.distbits},he=u(f,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,ce),A.distbits=ce.bits,he){F.msg="invalid distances set",A.mode=30;break}if(A.mode=20,ee===6)break e;case 20:A.mode=21;case 21:if(6<=Z&&258<=ue){F.next_out=X,F.avail_out=ue,F.next_in=$,F.avail_in=Z,A.hold=U,A.bits=K,l(F,we),X=F.next_out,Oe=F.output,ue=F.avail_out,$=F.next_in,le=F.input,Z=F.avail_in,U=A.hold,K=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;be=(N=A.lencode[U&(1<<A.lenbits)-1])>>>16&255,ft=65535&N,!((De=N>>>24)<=K);){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}if(be&&!(240&be)){for(lt=De,We=be,Ft=ft;be=(N=A.lencode[Ft+((U&(1<<lt+We)-1)>>lt)])>>>16&255,ft=65535&N,!(lt+(De=N>>>24)<=K);){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}U>>>=lt,K-=lt,A.back+=lt}if(U>>>=De,K-=De,A.back+=De,A.length=ft,be===0){A.mode=26;break}if(32&be){A.back=-1,A.mode=12;break}if(64&be){F.msg="invalid literal/length code",A.mode=30;break}A.extra=15&be,A.mode=22;case 22:if(A.extra){for(L=A.extra;K<L;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}A.length+=U&(1<<A.extra)-1,U>>>=A.extra,K-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;be=(N=A.distcode[U&(1<<A.distbits)-1])>>>16&255,ft=65535&N,!((De=N>>>24)<=K);){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}if(!(240&be)){for(lt=De,We=be,Ft=ft;be=(N=A.distcode[Ft+((U&(1<<lt+We)-1)>>lt)])>>>16&255,ft=65535&N,!(lt+(De=N>>>24)<=K);){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}U>>>=lt,K-=lt,A.back+=lt}if(U>>>=De,K-=De,A.back+=De,64&be){F.msg="invalid distance code",A.mode=30;break}A.offset=ft,A.extra=15&be,A.mode=24;case 24:if(A.extra){for(L=A.extra;K<L;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}A.offset+=U&(1<<A.extra)-1,U>>>=A.extra,K-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){F.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(ue===0)break e;if(ye=we-ue,A.offset>ye){if((ye=A.offset-ye)>A.whave&&A.sane){F.msg="invalid distance too far back",A.mode=30;break}Be=ye>A.wnext?(ye-=A.wnext,A.wsize-ye):A.wnext-ye,ye>A.length&&(ye=A.length),qe=A.window}else qe=Oe,Be=X-A.offset,ye=A.length;for(ue<ye&&(ye=ue),ue-=ye,A.length-=ye;Oe[X++]=qe[Be++],--ye;);A.length===0&&(A.mode=21);break;case 26:if(ue===0)break e;Oe[X++]=A.length,ue--,A.mode=21;break;case 27:if(A.wrap){for(;K<32;){if(Z===0)break e;Z--,U|=le[$++]<<K,K+=8}if(we-=ue,F.total_out+=we,A.total+=we,we&&(F.adler=A.check=A.flags?a(A.check,Oe,we,X-we):o(A.check,Oe,we,X-we)),we=ue,(A.flags?U:g(U))!==A.check){F.msg="incorrect data check",A.mode=30;break}K=U=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;K<32;){if(Z===0)break e;Z--,U+=le[$++]<<K,K+=8}if(U!==(4294967295&A.total)){F.msg="incorrect length check",A.mode=30;break}K=U=0}A.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return m}return F.next_out=X,F.avail_out=ue,F.next_in=$,F.avail_in=Z,A.hold=U,A.bits=K,(A.wsize||we!==F.avail_out&&A.mode<30&&(A.mode<27||ee!==4))&&ve(F,F.output,F.next_out,we-F.avail_out)?(A.mode=31,-4):(de-=F.avail_in,we-=F.avail_out,F.total_in+=de,F.total_out+=we,A.total+=we,A.wrap&&we&&(F.adler=A.check=A.flags?a(A.check,Oe,we,F.next_out-we):o(A.check,Oe,we,F.next_out-we)),F.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(de==0&&we===0||ee===4)&&he===p&&(he=-5),he)},i.inflateEnd=function(F){if(!F||!F.state)return m;var ee=F.state;return ee.window&&(ee.window=null),F.state=null,p},i.inflateGetHeader=function(F,ee){var A;return F&&F.state&&2&(A=F.state).wrap?((A.head=ee).done=!1,p):m},i.inflateSetDictionary=function(F,ee){var A,le=ee.length;return F&&F.state?(A=F.state).wrap!==0&&A.mode!==11?m:A.mode===11&&o(1,ee,le,0)!==A.check?-3:ve(F,ee,le,le)?(A.mode=31,-4):(A.havedict=1,p):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,f,p,m,_,y,x,g){var v,w,C,O,R,I,M,z,W,ve=g.bits,F=0,ee=0,A=0,le=0,Oe=0,$=0,X=0,Z=0,ue=0,U=0,K=null,de=0,we=new s.Buf16(16),ye=new s.Buf16(16),Be=null,qe=0;for(F=0;F<=15;F++)we[F]=0;for(ee=0;ee<m;ee++)we[f[p+ee]]++;for(Oe=ve,le=15;1<=le&&we[le]===0;le--);if(le<Oe&&(Oe=le),le===0)return _[y++]=20971520,_[y++]=20971520,g.bits=1,0;for(A=1;A<le&&we[A]===0;A++);for(Oe<A&&(Oe=A),F=Z=1;F<=15;F++)if(Z<<=1,(Z-=we[F])<0)return-1;if(0<Z&&(c===0||le!==1))return-1;for(ye[1]=0,F=1;F<15;F++)ye[F+1]=ye[F]+we[F];for(ee=0;ee<m;ee++)f[p+ee]!==0&&(x[ye[f[p+ee]]++]=ee);if(I=c===0?(K=Be=x,19):c===1?(K=o,de-=257,Be=a,qe-=257,256):(K=l,Be=u,-1),F=A,R=y,X=ee=U=0,C=-1,O=(ue=1<<($=Oe))-1,c===1&&852<ue||c===2&&592<ue)return 1;for(;;){for(M=F-X,W=x[ee]<I?(z=0,x[ee]):x[ee]>I?(z=Be[qe+x[ee]],K[de+x[ee]]):(z=96,0),v=1<<F-X,A=w=1<<$;_[R+(U>>X)+(w-=v)]=M<<24|z<<16|W|0,w!==0;);for(v=1<<F-1;U&v;)v>>=1;if(v!==0?(U&=v-1,U+=v):U=0,ee++,--we[F]==0){if(F===le)break;F=f[p+x[ee]]}if(Oe<F&&(U&O)!==C){for(X===0&&(X=Oe),R+=A,Z=1<<($=F-X);$+X<le&&!((Z-=we[$+X])<=0);)$++,Z<<=1;if(ue+=1<<$,c===1&&852<ue||c===2&&592<ue)return 1;_[C=U&O]=Oe<<24|$<<16|R-y|0}}return U!==0&&(_[R+U]=F-X<<24|64<<16|0),g.bits=Oe,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(N){for(var ne=N.length;0<=--ne;)N[ne]=0}var u=0,c=29,f=256,p=f+1+c,m=30,_=19,y=2*p+1,x=15,g=16,v=7,w=256,C=16,O=17,R=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ve=new Array(2*(p+2));l(ve);var F=new Array(2*m);l(F);var ee=new Array(512);l(ee);var A=new Array(256);l(A);var le=new Array(c);l(le);var Oe,$,X,Z=new Array(m);function ue(N,ne,pe,me,oe){this.static_tree=N,this.extra_bits=ne,this.extra_base=pe,this.elems=me,this.max_length=oe,this.has_stree=N&&N.length}function U(N,ne){this.dyn_tree=N,this.max_code=0,this.stat_desc=ne}function K(N){return N<256?ee[N]:ee[256+(N>>>7)]}function de(N,ne){N.pending_buf[N.pending++]=255&ne,N.pending_buf[N.pending++]=ne>>>8&255}function we(N,ne,pe){N.bi_valid>g-pe?(N.bi_buf|=ne<<N.bi_valid&65535,de(N,N.bi_buf),N.bi_buf=ne>>g-N.bi_valid,N.bi_valid+=pe-g):(N.bi_buf|=ne<<N.bi_valid&65535,N.bi_valid+=pe)}function ye(N,ne,pe){we(N,pe[2*ne],pe[2*ne+1])}function Be(N,ne){for(var pe=0;pe|=1&N,N>>>=1,pe<<=1,0<--ne;);return pe>>>1}function qe(N,ne,pe){var me,oe,_e=new Array(x+1),Ie=0;for(me=1;me<=x;me++)_e[me]=Ie=Ie+pe[me-1]<<1;for(oe=0;oe<=ne;oe++){var xe=N[2*oe+1];xe!==0&&(N[2*oe]=Be(_e[xe]++,xe))}}function De(N){var ne;for(ne=0;ne<p;ne++)N.dyn_ltree[2*ne]=0;for(ne=0;ne<m;ne++)N.dyn_dtree[2*ne]=0;for(ne=0;ne<_;ne++)N.bl_tree[2*ne]=0;N.dyn_ltree[2*w]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function be(N){8<N.bi_valid?de(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function ft(N,ne,pe,me){var oe=2*ne,_e=2*pe;return N[oe]<N[_e]||N[oe]===N[_e]&&me[ne]<=me[pe]}function lt(N,ne,pe){for(var me=N.heap[pe],oe=pe<<1;oe<=N.heap_len&&(oe<N.heap_len&&ft(ne,N.heap[oe+1],N.heap[oe],N.depth)&&oe++,!ft(ne,me,N.heap[oe],N.depth));)N.heap[pe]=N.heap[oe],pe=oe,oe<<=1;N.heap[pe]=me}function We(N,ne,pe){var me,oe,_e,Ie,xe=0;if(N.last_lit!==0)for(;me=N.pending_buf[N.d_buf+2*xe]<<8|N.pending_buf[N.d_buf+2*xe+1],oe=N.pending_buf[N.l_buf+xe],xe++,me===0?ye(N,oe,ne):(ye(N,(_e=A[oe])+f+1,ne),(Ie=I[_e])!==0&&we(N,oe-=le[_e],Ie),ye(N,_e=K(--me),pe),(Ie=M[_e])!==0&&we(N,me-=Z[_e],Ie)),xe<N.last_lit;);ye(N,w,ne)}function Ft(N,ne){var pe,me,oe,_e=ne.dyn_tree,Ie=ne.stat_desc.static_tree,xe=ne.stat_desc.has_stree,Fe=ne.stat_desc.elems,tt=-1;for(N.heap_len=0,N.heap_max=y,pe=0;pe<Fe;pe++)_e[2*pe]!==0?(N.heap[++N.heap_len]=tt=pe,N.depth[pe]=0):_e[2*pe+1]=0;for(;N.heap_len<2;)_e[2*(oe=N.heap[++N.heap_len]=tt<2?++tt:0)]=1,N.depth[oe]=0,N.opt_len--,xe&&(N.static_len-=Ie[2*oe+1]);for(ne.max_code=tt,pe=N.heap_len>>1;1<=pe;pe--)lt(N,_e,pe);for(oe=Fe;pe=N.heap[1],N.heap[1]=N.heap[N.heap_len--],lt(N,_e,1),me=N.heap[1],N.heap[--N.heap_max]=pe,N.heap[--N.heap_max]=me,_e[2*oe]=_e[2*pe]+_e[2*me],N.depth[oe]=(N.depth[pe]>=N.depth[me]?N.depth[pe]:N.depth[me])+1,_e[2*pe+1]=_e[2*me+1]=oe,N.heap[1]=oe++,lt(N,_e,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Je,jt){var qn,Re,Ue,Xe,_n,fn,Ne=jt.dyn_tree,Or=jt.max_code,Gn=jt.stat_desc.static_tree,Si=jt.stat_desc.has_stree,Ce=jt.stat_desc.extra_bits,Yr=jt.stat_desc.extra_base,Rr=jt.stat_desc.max_length,fr=0;for(Xe=0;Xe<=x;Xe++)Je.bl_count[Xe]=0;for(Ne[2*Je.heap[Je.heap_max]+1]=0,qn=Je.heap_max+1;qn<y;qn++)Rr<(Xe=Ne[2*Ne[2*(Re=Je.heap[qn])+1]+1]+1)&&(Xe=Rr,fr++),Ne[2*Re+1]=Xe,Or<Re||(Je.bl_count[Xe]++,_n=0,Yr<=Re&&(_n=Ce[Re-Yr]),fn=Ne[2*Re],Je.opt_len+=fn*(Xe+_n),Si&&(Je.static_len+=fn*(Gn[2*Re+1]+_n)));if(fr!==0){do{for(Xe=Rr-1;Je.bl_count[Xe]===0;)Xe--;Je.bl_count[Xe]--,Je.bl_count[Xe+1]+=2,Je.bl_count[Rr]--,fr-=2}while(0<fr);for(Xe=Rr;Xe!==0;Xe--)for(Re=Je.bl_count[Xe];Re!==0;)Or<(Ue=Je.heap[--qn])||(Ne[2*Ue+1]!==Xe&&(Je.opt_len+=(Xe-Ne[2*Ue+1])*Ne[2*Ue],Ne[2*Ue+1]=Xe),Re--)}}(N,ne),qe(_e,tt,N.bl_count)}function P(N,ne,pe){var me,oe,_e=-1,Ie=ne[1],xe=0,Fe=7,tt=4;for(Ie===0&&(Fe=138,tt=3),ne[2*(pe+1)+1]=65535,me=0;me<=pe;me++)oe=Ie,Ie=ne[2*(me+1)+1],++xe<Fe&&oe===Ie||(xe<tt?N.bl_tree[2*oe]+=xe:oe!==0?(oe!==_e&&N.bl_tree[2*oe]++,N.bl_tree[2*C]++):xe<=10?N.bl_tree[2*O]++:N.bl_tree[2*R]++,_e=oe,tt=(xe=0)===Ie?(Fe=138,3):oe===Ie?(Fe=6,3):(Fe=7,4))}function he(N,ne,pe){var me,oe,_e=-1,Ie=ne[1],xe=0,Fe=7,tt=4;for(Ie===0&&(Fe=138,tt=3),me=0;me<=pe;me++)if(oe=Ie,Ie=ne[2*(me+1)+1],!(++xe<Fe&&oe===Ie)){if(xe<tt)for(;ye(N,oe,N.bl_tree),--xe!=0;);else oe!==0?(oe!==_e&&(ye(N,oe,N.bl_tree),xe--),ye(N,C,N.bl_tree),we(N,xe-3,2)):xe<=10?(ye(N,O,N.bl_tree),we(N,xe-3,3)):(ye(N,R,N.bl_tree),we(N,xe-11,7));_e=oe,tt=(xe=0)===Ie?(Fe=138,3):oe===Ie?(Fe=6,3):(Fe=7,4)}}l(Z);var ce=!1;function L(N,ne,pe,me){we(N,(u<<1)+(me?1:0),3),function(oe,_e,Ie,xe){be(oe),de(oe,Ie),de(oe,~Ie),s.arraySet(oe.pending_buf,oe.window,_e,Ie,oe.pending),oe.pending+=Ie}(N,ne,pe)}i._tr_init=function(N){ce||(function(){var ne,pe,me,oe,_e,Ie=new Array(x+1);for(oe=me=0;oe<c-1;oe++)for(le[oe]=me,ne=0;ne<1<<I[oe];ne++)A[me++]=oe;for(A[me-1]=oe,oe=_e=0;oe<16;oe++)for(Z[oe]=_e,ne=0;ne<1<<M[oe];ne++)ee[_e++]=oe;for(_e>>=7;oe<m;oe++)for(Z[oe]=_e<<7,ne=0;ne<1<<M[oe]-7;ne++)ee[256+_e++]=oe;for(pe=0;pe<=x;pe++)Ie[pe]=0;for(ne=0;ne<=143;)ve[2*ne+1]=8,ne++,Ie[8]++;for(;ne<=255;)ve[2*ne+1]=9,ne++,Ie[9]++;for(;ne<=279;)ve[2*ne+1]=7,ne++,Ie[7]++;for(;ne<=287;)ve[2*ne+1]=8,ne++,Ie[8]++;for(qe(ve,p+1,Ie),ne=0;ne<m;ne++)F[2*ne+1]=5,F[2*ne]=Be(ne,5);Oe=new ue(ve,I,f+1,p,x),$=new ue(F,M,0,m,x),X=new ue(new Array(0),z,0,_,v)}(),ce=!0),N.l_desc=new U(N.dyn_ltree,Oe),N.d_desc=new U(N.dyn_dtree,$),N.bl_desc=new U(N.bl_tree,X),N.bi_buf=0,N.bi_valid=0,De(N)},i._tr_stored_block=L,i._tr_flush_block=function(N,ne,pe,me){var oe,_e,Ie=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(xe){var Fe,tt=4093624447;for(Fe=0;Fe<=31;Fe++,tt>>>=1)if(1&tt&&xe.dyn_ltree[2*Fe]!==0)return o;if(xe.dyn_ltree[18]!==0||xe.dyn_ltree[20]!==0||xe.dyn_ltree[26]!==0)return a;for(Fe=32;Fe<f;Fe++)if(xe.dyn_ltree[2*Fe]!==0)return a;return o}(N)),Ft(N,N.l_desc),Ft(N,N.d_desc),Ie=function(xe){var Fe;for(P(xe,xe.dyn_ltree,xe.l_desc.max_code),P(xe,xe.dyn_dtree,xe.d_desc.max_code),Ft(xe,xe.bl_desc),Fe=_-1;3<=Fe&&xe.bl_tree[2*W[Fe]+1]===0;Fe--);return xe.opt_len+=3*(Fe+1)+5+5+4,Fe}(N),oe=N.opt_len+3+7>>>3,(_e=N.static_len+3+7>>>3)<=oe&&(oe=_e)):oe=_e=pe+5,pe+4<=oe&&ne!==-1?L(N,ne,pe,me):N.strategy===4||_e===oe?(we(N,2+(me?1:0),3),We(N,ve,F)):(we(N,4+(me?1:0),3),function(xe,Fe,tt,Je){var jt;for(we(xe,Fe-257,5),we(xe,tt-1,5),we(xe,Je-4,4),jt=0;jt<Je;jt++)we(xe,xe.bl_tree[2*W[jt]+1],3);he(xe,xe.dyn_ltree,Fe-1),he(xe,xe.dyn_dtree,tt-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,Ie+1),We(N,N.dyn_ltree,N.dyn_dtree)),De(N),me&&be(N)},i._tr_tally=function(N,ne,pe){return N.pending_buf[N.d_buf+2*N.last_lit]=ne>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&ne,N.pending_buf[N.l_buf+N.last_lit]=255&pe,N.last_lit++,ne===0?N.dyn_ltree[2*pe]++:(N.matches++,ne--,N.dyn_ltree[2*(A[pe]+f+1)]++,N.dyn_dtree[2*K(ne)]++),N.last_lit===N.lit_bufsize-1},i._tr_align=function(N){we(N,2,3),ye(N,w,ve),function(ne){ne.bi_valid===16?(de(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,c,f,p=1,m={},_=!1,y=o.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(o);x=x&&x.setTimeout?x:o,l={}.toString.call(o.process)==="[object process]"?function(C){process.nextTick(function(){v(C)})}:function(){if(o.postMessage&&!o.importScripts){var C=!0,O=o.onmessage;return o.onmessage=function(){C=!1},o.postMessage("","*"),o.onmessage=O,C}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(C){o.postMessage(f+C,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(C){v(C.data)},function(C){c.port2.postMessage(C)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(C){var O=y.createElement("script");O.onreadystatechange=function(){v(C),O.onreadystatechange=null,u.removeChild(O),O=null},u.appendChild(O)}):function(C){setTimeout(v,0,C)},x.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var O=new Array(arguments.length-1),R=0;R<O.length;R++)O[R]=arguments[R+1];var I={callback:C,args:O};return m[p]=I,l(p),p++},x.clearImmediate=g}function g(C){delete m[C]}function v(C){if(_)setTimeout(v,0,C);else{var O=m[C];if(O){_=!0;try{(function(R){var I=R.callback,M=R.args;switch(M.length){case 0:I();break;case 1:I(M[0]);break;case 2:I(M[0],M[1]);break;case 3:I(M[0],M[1],M[2]);break;default:I.apply(a,M)}})(O)}finally{g(C),_=!1}}}}function w(C){C.source===o&&typeof C.data=="string"&&C.data.indexOf(f)===0&&v(+C.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(eC);var LF=eC.exports;const __=ef(LF),$F=()=>{const[e,t]=E.useState(!1),[n,r]=E.useState([]),i=E.useRef(null),s=E.useCallback(async u=>{if(!u||u.length===0){r(f=>[...f,{success:!1,message:"No files selected."}]);return}t(!0);const c=[];try{for(let f=0;f<u.length;f++){const p=u[f];if(p.type==="application/zip"||p.name.endsWith(".zip"))try{const m=await __.loadAsync(p),_=Object.values(m.files);for(const y of _)if(!y.dir&&y.name.endsWith(".json"))try{const x=await y.async("string"),g=JSON.parse(x),v=y.name.split("/").pop()||"unknown.json",w=v.replace(/\.json$/,"");localStorage.setItem(w,JSON.stringify(g)),c.push({success:!0,message:`Successfully extracted and stored "${v}" with key "${w}" from ZIP.`})}catch(x){const g=x instanceof Error?x.message:"Unknown error";c.push({success:!1,message:`Error processing file "${y.name}" from ZIP: ${g}`})}else y.dir||c.push({success:!1,message:`Skipped non-JSON file "${y.name}" from ZIP.`})}catch(m){const _=m instanceof Error?m.message:"Invalid ZIP file";c.push({success:!1,message:`Error processing ZIP file "${p.name}": ${_}`})}else if(p.type==="application/json"||p.name.endsWith(".json"))try{const m=new FileReader,_=await new Promise((v,w)=>{m.onload=()=>v(m.result),m.onerror=w,m.readAsText(p)}),y=JSON.parse(_),g=p.name.replace(/\.json$/,"");localStorage.setItem(g,JSON.stringify(y)),c.push({success:!0,message:`Successfully stored "${p.name}" with key "${g}".`})}catch(m){const _=m instanceof Error?m.message:"Unknown error";c.push({success:!1,message:`Error processing file "${p.name}": ${_}`})}else c.push({success:!1,message:`File "${p.name}" is not a JSON or ZIP file. Skipped.`})}}finally{r(f=>[...f,...c]),t(!1)}},[]),o=u=>{s(u.target.files),i.current&&(i.current.value="")},a=()=>{r([])},l=E.useCallback(async()=>{t(!0);try{debugger;const u=new __;let c=!1,f=null;const p=localStorage.getItem("sankeertan_categories_data");if(p)try{f=JSON.parse(p),u.file("sankeertan_categories_data.json",p),c=!0}catch{console.warn("sankeertan_categories_data.json is not valid JSON, skipping."),f=null}else console.warn("sankeertan_categories_data.json not found in localStorage.");const m={};for(let g=0;g<localStorage.length;g++){debugger;const v=localStorage.key(g);if(console.log(v),v!=="sb-"+vS+"-auth-token"&&v&&v!=="sankeertan_categories_data"){const w=localStorage.getItem(v);if(w)try{JSON.parse(w);let C=u;if(f&&Array.isArray(f.data))for(const O of f.data)for(const R of O.books){const I=R.bookId,M=`sankeertan_song_details-${I.toLowerCase().replace(/ /g,"-")}`,z=`sankeertan_song_indices-${I.toLowerCase().replace(/ /g,"-")}`;if(v.startsWith(M)||v.startsWith(z)){if(!m[I]){const W=u.folder(I);W?m[I]=W:m[I]=u}C=m[I]||u;break}}C.file(`${v}.json`,w),c=!0}catch{console.warn(`Skipping key "${v}" as value is not valid JSON`)}}}if(!c){r(g=>[...g,{success:!1,message:"No valid JSON data found in localStorage to export."}]),t(!1);return}const _=await u.generateAsync({type:"blob",mimeType:"application/zip",compression:"DEFLATE"}),y=URL.createObjectURL(_),x=document.createElement("a");x.href=y,x.download="sankeertan_localStorage_backup.zip",document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(y),r(g=>[...g,{success:!0,message:"Successfully exported localStorage to ZIP file with folder structure."}])}catch(u){const c=u instanceof Error?u.message:"Unknown error during export";r(f=>[...f,{success:!1,message:`Error exporting localStorage: ${c}`}])}finally{t(!1)}},[]);return k.jsxs("div",{className:"p-4",children:[k.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Local Storage Sync"}),k.jsxs("div",{className:"mb-4",children:[k.jsx("input",{type:"file",accept:".json,.zip",onChange:o,disabled:e,"aria-label":"Upload JSON or ZIP Files",multiple:!0,ref:i}),k.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload JSON files or a ZIP file containing JSON files.  Filename will be used as the key."})]}),k.jsx("div",{className:"mb-4",children:k.jsx("button",{onClick:l,disabled:e,className:"px-4 py-2 border rounded-md bg-blue-500 text-white",children:e?"Exporting...":"Export to ZIP"})}),e&&k.jsx("div",{className:"mb-4 flex items-center gap-2",children:k.jsx("span",{children:e?"Processing...":"Exporting..."})}),n.length>0&&k.jsxs("div",{className:"mb-4",children:[k.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Upload Results:"}),n.map((u,c)=>k.jsxs("div",{className:`mb-2 p-3 border rounded-md ${u.success?"border-green-500 bg-green-100 text-green-800":"border-red-500 bg-red-100 text-red-800"}`,children:[u.success?k.jsx("span",{style:{color:"green"},children:""}):k.jsx("span",{style:{color:"red"},children:""}),k.jsx("strong",{className:"mr-1",children:u.success?"Success":"Error"}),k.jsx("span",{children:u.message})]},c)),k.jsx("button",{onClick:a,className:"mt-2 px-4 py-2 border rounded-md",children:"Clear Results"})]}),k.jsxs("div",{className:"mt-8 p-4 border rounded-md bg-gray-50",children:[k.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Important Notes:"}),k.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"ZIP File Handling:"}),"  This page now supports uploading a single ZIP file.  The application will extract JSON files from the ZIP and store them in localStorage."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Key Derivation:"})," The filename of each JSON file is used as the key for storing its content in localStorage."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"File Overwriting:"})," If a key already exists in localStorage, it will be overwritten with the new content."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"ZIP Structure:"})," The ZIP file can contain JSON files in subfolders.  The filename of the file within the ZIP will be used as the localStorage key."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Non-JSON Files in ZIP:"})," Any non-JSON files within the ZIP will be skipped."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Error Handling:"})," The application attempts to provide informative error messages for file processing issues, including problems with individual files within a ZIP archive."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Export Feature:"}),`  A new "Export to ZIP" button has been added.  Clicking this will create a ZIP file containing all key-value pairs from your browser's localStorage (where the values are valid JSON), and prompt you to download it.  The keys will be used as the filenames in the ZIP.`]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Exported Data Format:"})," The exported ZIP file will now contain a folder structure."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Book Folders:"}),"  Data is organized into folders based on the book names found in  `sankeertan_categories_data.json`."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Root Folder:"})," Any keys that do not match the book naming convention will be placed in the root of the ZIP file."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"sankeertan_categories_data.json:"}),"  This file is included in the root of the ZIP."]})]})]})]})},Ii=({children:e,session:t})=>{const n=cr();return t?k.jsx(k.Fragment,{children:e}):(sessionStorage.setItem("redirect_path",n.pathname),k.jsx(fS,{to:"/login",replace:!0}))};function MF(){const{session:e}=bs(),{categories:t,isLoading:n}=Iy(),r=(t==null?void 0:t.flatMap(i=>i.books))||[];return n?k.jsx("div",{children:"Checking authentication..."}):k.jsx(ok,{children:k.jsx(zI,{books:r,children:k.jsxs(xA,{children:[k.jsx(Sn,{path:"/login",element:k.jsx(UR,{})}),k.jsx(Sn,{path:"/signup",element:k.jsx(zR,{})}),k.jsx(Sn,{path:"/change-password",element:k.jsx(VR,{})}),k.jsx(Sn,{path:"/auth/callback",element:k.jsx(WR,{})}),k.jsx(Sn,{path:"/settings",element:k.jsx(Ii,{session:e,children:k.jsx(EF,{})})}),k.jsx(Sn,{path:"/categories",element:k.jsx(Ii,{session:e,children:k.jsx(FI,{})})}),k.jsx(Sn,{path:"/books/:categoryId",element:k.jsx(Ii,{session:e,children:k.jsx(qI,{})})}),k.jsx(Sn,{path:"/book/:categoryId/:bookId",element:k.jsx(Ii,{session:e,children:k.jsx(oD,{})})}),k.jsx(Sn,{path:"/details/book/:categoryId/:bookId/:sourceRow/:songTitle",element:k.jsx(Ii,{session:e,children:k.jsx(jF,{})})}),k.jsx(Sn,{path:"/sankeertan/:broadcastId",element:k.jsx(Ii,{session:e,children:k.jsx(RF,{broadcastId:1})})}),k.jsx(Sn,{path:"/localstoragesync",element:k.jsx(Ii,{session:e,children:k.jsx($F,{})})}),k.jsx(Sn,{path:"/search",element:k.jsx(Ii,{session:e,children:k.jsx(NF,{})})}),k.jsx(Sn,{path:"/",element:e?k.jsx(fS,{to:"/categories",replace:!0}):k.jsx("div",{children:"Welcome!"})})]})})})}const FF=E.createContext({books:[],categories:[],currentBook:null,loadBook:async()=>{},loading:!1,error:null}),BF=({children:e})=>{const[t,n]=E.useState([{id:"book1",name:"The Great Book A",categoryIds:["cat1","cat2"]},{id:"book2",name:"Another Fine Book B",categoryIds:["cat2","cat3"]},{id:"book3",name:"Wonderful Book C",categoryIds:["cat1"]}]),[r,i]=E.useState([{id:"cat1",name:"Fiction"},{id:"cat2",name:"Mystery"},{id:"cat3",name:"Science Fiction"}]),[s,o]=E.useState(null),[a,l]=E.useState(!1),[u,c]=E.useState(null),{bookId:f}=Pu(),p=E.useCallback(async _=>{l(!0),c(null),o(null),await new Promise(x=>setTimeout(x,500));const y=t.find(x=>x.id===_);o(y||null),l(!1)},[t,l,c,o]);E.useEffect(()=>{f&&p(f)},[f,p]);const m={books:t,categories:r,currentBook:s,loadBook:p,loading:a,error:u};return k.jsx(FF.Provider,{value:m,children:e})},UF=({toggleDropdown:e,isDropdownOpen:t,openLanguageSettings:n})=>{var u;const[r,i]=E.useState(null),s=jr();E.useEffect(()=>{cn.auth.getSession().then(({data:{session:c}})=>{i(c)}),cn.auth.onAuthStateChange((c,f)=>{i(f)})},[]);const o=async()=>{const{error:c}=await cn.auth.signOut();c?(console.error("Error signing out:",c),alert("Error signing out. Please try again.")):s("/login")},{isOfflineMode:a,setIsOfflineMode:l}=Dy();return k.jsx("div",{className:"relative inline-block text-left",children:r?k.jsxs("div",{children:[k.jsxs("button",{type:"button",className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",onClick:e,"aria-expanded":t,"aria-haspopup":"true",children:[((u=r.user)==null?void 0:u.email)||"User",k.jsx("svg",{className:"-mr-1 h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:k.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),t&&k.jsx("div",{className:"absolute right-0 z-[1000] mt-2 w-40 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:k.jsxs("div",{className:"py-1",children:[k.jsx("div",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitemcheckbox",children:k.jsxs("label",{className:"flex items-center",children:[k.jsx("input",{type:"checkbox",className:"mr-2 form-checkbox h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:a,onChange:c=>l(c.target.checked)}),k.jsx("span",{children:"Offline Mode"})]})}),k.jsx(Bn,{to:"/sankeertan/1",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Chanting Together"}),k.jsx(Bn,{to:"/categories",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Categories & Books"}),k.jsx(Bn,{to:"/search",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Search"}),k.jsx(Bn,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Settings (Language)"}),k.jsx(Bn,{to:"/localstoragesync",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Local Storage Admin"}),k.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",role:"menuitem",onClick:()=>{e(),n()},children:"Language Settings (Context)"}),k.jsx(Bn,{to:"/change-password",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Change Password"}),k.jsx("button",{onClick:o,className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Sign Out"})]})})]}):k.jsx(Bn,{to:"/login",className:"text-blue-500 hover:underline px-3 py-2 inline-block",children:"Login"})})};var zF=Object.defineProperty,VF=(e,t,n)=>t in e?zF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gp=(e,t,n)=>(VF(e,typeof t!="symbol"?t+"":t,n),n);let KF=class{constructor(){gp(this,"current",this.detect()),gp(this,"handoffState","pending"),gp(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Gr=new KF;function Bu(e){var t;return Gr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function hg(e){var t,n;return Gr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function tC(e){var t,n;return(n=(t=hg(e))==null?void 0:t.activeElement)!=null?n:null}function WF(e){return tC(e)===e}function If(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function xi(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return If(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=xi();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Df(){let[e]=E.useState(xi);return E.useEffect(()=>()=>e.dispose(),[e]),e}let Dn=(e,t)=>{Gr.isServer?E.useEffect(e,t):E.useLayoutEffect(e,t)};function bo(e){let t=E.useRef(e);return Dn(()=>{t.current=e},[e]),t}let dt=function(e){let t=bo(e);return Ke.useCallback((...n)=>t.current(...n),[t])};function Uu(e){return E.useMemo(()=>e,Object.values(e))}let HF=E.createContext(void 0);function qF(){return E.useContext(HF)}function pg(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function bi(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,bi),r}var Jd=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Jd||{}),es=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(es||{});function dr(){let e=QF();return E.useCallback(t=>GF({mergeRefs:e,...t}),[e])}function GF({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??YF;let l=nC(t,e);if(s)return Vc(l,n,r,o,a);let u=i??0;if(u&2){let{static:c=!1,...f}=l;if(c)return Vc(f,n,r,o,a)}if(u&1){let{unmount:c=!0,...f}=l;return bi(c?0:1,{0(){return null},1(){return Vc({...f,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Vc(l,n,r,o,a)}function Vc(e,t={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=yp(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},c=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(t){let p=!1,m=[];for(let[_,y]of Object.entries(t))typeof y=="boolean"&&(p=!0),y===!0&&m.push(_.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(p){f["data-headlessui-state"]=m.join(" ");for(let _ of m)f[`data-${_}`]=""}}if(Bl(s)&&(Object.keys(Ls(l)).length>0||Object.keys(Ls(f)).length>0))if(!E.isValidElement(c)||Array.isArray(c)&&c.length>1||ZF(c)){if(Object.keys(Ls(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ls(l)).concat(Object.keys(Ls(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=c.props,m=p==null?void 0:p.className,_=typeof m=="function"?(...g)=>pg(m(...g),l.className):pg(m,l.className),y=_?{className:_}:{},x=nC(c.props,Ls(yp(l,["ref"])));for(let g in f)g in x&&delete f[g];return E.cloneElement(c,Object.assign({},x,f,u,{ref:i(JF(c),u.ref)},y))}return E.createElement(s,Object.assign({},yp(l,["ref"]),!Bl(s)&&u,!Bl(s)&&f),c)}function QF(){let e=E.useRef([]),t=E.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function YF(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function nC(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return t}function Nn(e){var t;return Object.assign(E.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ls(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function yp(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function JF(e){return Ke.version.split(".")[0]>="19"?e.props.ref:e.ref}function Bl(e){return e===E.Fragment||e===Symbol.for("react.fragment")}function ZF(e){return Bl(e.type)}let XF="span";var Zd=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Zd||{});function e4(e,t){var n;let{features:r=1,...i}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return dr()({ourProps:s,theirProps:i,slot:{},defaultTag:XF,name:"Hidden"})}let mg=Nn(e4);function t4(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ds(e){return t4(e)&&"tagName"in e}function po(e){return ds(e)&&"accessKey"in e}function ts(e){return ds(e)&&"tabIndex"in e}function n4(e){return ds(e)&&"style"in e}function r4(e){return po(e)&&e.nodeName==="IFRAME"}function i4(e){return po(e)&&e.nodeName==="INPUT"}let rC=Symbol();function s4(e,t=!0){return Object.assign(e,{[rC]:t})}function Qr(...e){let t=E.useRef(e);E.useEffect(()=>{t.current=e},[e]);let n=dt(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[rC]))?void 0:n}let vv=E.createContext(null);vv.displayName="DescriptionContext";function iC(){let e=E.useContext(vv);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,iC),t}return e}function o4(){let[e,t]=E.useState([]);return[e.length>0?e.join(" "):void 0,E.useMemo(()=>function(n){let r=dt(s=>(t(o=>[...o,s]),()=>t(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=E.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ke.createElement(vv.Provider,{value:i},n.children)},[t])]}let a4="p";function l4(e,t){let n=E.useId(),r=qF(),{id:i=`headlessui-description-${n}`,...s}=e,o=iC(),a=Qr(t);Dn(()=>o.register(i),[i,o.register]);let l=Uu({...o.slot,disabled:r||!1}),u={ref:a,...o.props,id:i};return dr()({ourProps:u,theirProps:s,slot:l,defaultTag:a4,name:o.name||"Description"})}let u4=Nn(l4),c4=Object.assign(u4,{});var sC=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(sC||{});let d4=E.createContext(()=>{});function f4({value:e,children:t}){return Ke.createElement(d4.Provider,{value:e},t)}let oC=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var h4=Object.defineProperty,p4=(e,t,n)=>t in e?h4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m4=(e,t,n)=>(p4(e,t+"",n),n),aC=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Jn=(e,t,n)=>(aC(e,t,"read from private field"),n?n.call(e):t.get(e)),vp=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},x_=(e,t,n,r)=>(aC(e,t,"write to private field"),t.set(e,n),n),Lr,bl,_l;let g4=class{constructor(t){vp(this,Lr,{}),vp(this,bl,new oC(()=>new Set)),vp(this,_l,new Set),m4(this,"disposables",xi()),x_(this,Lr,t),Gr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Jn(this,Lr)}subscribe(t,n){if(Gr.isServer)return()=>{};let r={selector:t,callback:n,current:t(Jn(this,Lr))};return Jn(this,_l).add(r),this.disposables.add(()=>{Jn(this,_l).delete(r)})}on(t,n){return Gr.isServer?()=>{}:(Jn(this,bl).get(t).add(n),this.disposables.add(()=>{Jn(this,bl).get(t).delete(n)}))}send(t){let n=this.reduce(Jn(this,Lr),t);if(n!==Jn(this,Lr)){x_(this,Lr,n);for(let r of Jn(this,_l)){let i=r.selector(Jn(this,Lr));lC(r.current,i)||(r.current=i,r.callback(i))}for(let r of Jn(this,bl).get(t.type))r(Jn(this,Lr),t)}}};Lr=new WeakMap,bl=new WeakMap,_l=new WeakMap;function lC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:wp(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:wp(e.entries(),t.entries()):S_(e)&&S_(t)?wp(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function wp(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function S_(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var y4=Object.defineProperty,v4=(e,t,n)=>t in e?y4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k_=(e,t,n)=>(v4(e,typeof t!="symbol"?t+"":t,n),n),w4=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(w4||{});let b4={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let s=e.stack.slice();return s.splice(i,1),s.push(n),r=s,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}},_4=class uC extends g4{constructor(){super(...arguments),k_(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),k_(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new uC({stack:[]})}reduce(t,n){return bi(n.type,b4,t,n)}};const cC=new oC(()=>_4.new());var dC={exports:{}},fC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=E;function x4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var S4=typeof Object.is=="function"?Object.is:x4,k4=zu.useSyncExternalStore,E4=zu.useRef,C4=zu.useEffect,T4=zu.useMemo,P4=zu.useDebugValue;fC.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=E4(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=T4(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var _=o.value;if(i(_,m))return f=_}return f=m}if(_=f,S4(c,m))return _;var y=r(m);return i!==void 0&&i(_,y)?(c=m,_):(c=m,f=y)}var u=!1,c,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var a=k4(e,s[0],s[1]);return C4(function(){o.hasValue=!0,o.value=a},[a]),P4(a),a};dC.exports=fC;var A4=dC.exports;function hC(e,t,n=lC){return A4.useSyncExternalStoreWithSelector(dt(r=>e.subscribe(j4,r)),dt(()=>e.state),dt(()=>e.state),dt(t),n)}function j4(e){return e}function Vu(e,t){let n=E.useId(),r=cC.get(t),[i,s]=hC(r,E.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Dn(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?s?i:!0:!1}let gg=new Map,Ul=new Map;function E_(e){var t;let n=(t=Ul.get(e))!=null?t:0;return Ul.set(e,n+1),n!==0?()=>C_(e):(gg.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>C_(e))}function C_(e){var t;let n=(t=Ul.get(e))!=null?t:1;if(n===1?Ul.delete(e):Ul.set(e,n-1),n!==1)return;let r=gg.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,gg.delete(e))}function O4(e,{allowed:t,disallowed:n}={}){let r=Vu(e,"inert-others");Dn(()=>{var i,s;if(!r)return;let o=xi();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(E_(l));let a=(s=t==null?void 0:t())!=null?s:[];for(let l of a){if(!l)continue;let u=Bu(l);if(!u)continue;let c=l.parentElement;for(;c&&c!==u.body;){for(let f of c.children)a.some(p=>f.contains(p))||o.add(E_(f));c=c.parentElement}}return o.dispose},[r,t,n])}function R4(e,t,n){let r=bo(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});E.useEffect(()=>{if(!e)return;let i=t===null?null:po(t)?t:t.current;if(!i)return;let s=xi();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[t,r,e])}let Xd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),I4=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var oi=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(oi||{}),yg=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(yg||{}),D4=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(D4||{});function N4(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Xd)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function L4(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(I4)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var pC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(pC||{});function $4(e,t=0){var n;return e===((n=Bu(e))==null?void 0:n.body)?!1:bi(t,{0(){return e.matches(Xd)},1(){let r=e;for(;r!==null;){if(r.matches(Xd))return!0;r=r.parentElement}return!1}})}var M4=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(M4||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function di(e){e==null||e.focus({preventScroll:!0})}let F4=["textarea","input"].join(",");function B4(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,F4))!=null?n:!1}function U4(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function zl(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?hg(e[0]):document:hg(e),o=Array.isArray(e)?n?U4(e):e:t&64?L4(e):N4(e);i.length>0&&o.length>1&&(o=o.filter(m=>!i.some(_=>_!=null&&"current"in _?(_==null?void 0:_.current)===m:_===m))),r=r??(s==null?void 0:s.activeElement);let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,f=o.length,p;do{if(c>=f||c+f<=0)return 0;let m=l+c;if(t&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}p=o[m],p==null||p.focus(u),c+=a}while(p!==tC(p));return t&6&&B4(p)&&p.select(),2}function mC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function z4(){return/Android/gi.test(window.navigator.userAgent)}function T_(){return mC()||z4()}function Kc(e,t,n,r){let i=bo(n);E.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return document.addEventListener(t,s,r),()=>document.removeEventListener(t,s,r)},[e,t,r])}function gC(e,t,n,r){let i=bo(n);E.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return window.addEventListener(t,s,r),()=>window.removeEventListener(t,s,r)},[e,t,r])}const P_=30;function V4(e,t,n){let r=bo(n),i=E.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let c=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of c)if(f!==null&&(f.contains(u)||a.composed&&a.composedPath().includes(f)))return;return!$4(u,pC.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,t]),s=E.useRef(null);Kc(e,"pointerdown",a=>{var l,u;T_()||(s.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),Kc(e,"pointerup",a=>{if(T_()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=E.useRef({x:0,y:0});Kc(e,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),Kc(e,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=P_||Math.abs(l.y-o.current.y)>=P_))return i(a,()=>ts(a.target)?a.target:null)},!0),gC(e,"blur",a=>i(a,()=>r4(window.document.activeElement)?window.document.activeElement:null),!0)}function wv(...e){return E.useMemo(()=>Bu(...e),[...e])}function yC(e,t,n,r){let i=bo(n);E.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function K4(e){return E.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function W4(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=t[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function H4(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,e-i);n.style(r,"paddingRight",`${s}px`)}}}function q4(){return mC()?{before({doc:e,d:t,meta:n}){function r(i){for(let s of n().containers)for(let o of s())if(o.contains(i))return!0;return!1}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=xi();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",a=>{if(ts(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);ts(c)&&!r(c)&&(o=c)}catch{}},!0),t.group(a=>{t.addEventListener(e,"touchstart",l=>{if(a.dispose(),ts(l.target)&&n4(l.target))if(r(l.target)){let u=l.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;a.style(u,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",a=>{if(ts(a.target)){if(i4(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function G4(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function A_(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let qs=W4(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:xi(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=A_(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=A_(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[q4(),H4(),G4()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});qs.subscribe(()=>{let e=qs.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&qs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&qs.dispatch("TEARDOWN",n)}});function Q4(e,t,n=()=>({containers:[]})){let r=K4(qs),i=t?r.get(t):void 0,s=i?i.count>0:!1;return Dn(()=>{if(!(!t||!e))return qs.dispatch("PUSH",t,n),()=>qs.dispatch("POP",t,n)},[e,t]),s}function Y4(e,t,n=()=>[document.body]){let r=Vu(e,"scroll-lock");Q4(r,t,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function J4(e=0){let[t,n]=E.useState(e),r=E.useCallback(l=>n(l),[]),i=E.useCallback(l=>n(u=>u|l),[]),s=E.useCallback(l=>(t&l)===l,[t]),o=E.useCallback(l=>n(u=>u&~l),[]),a=E.useCallback(l=>n(u=>u^l),[]);return{flags:t,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var Z4={},j_,O_;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((j_=process==null?void 0:Z4)==null?void 0:j_.NODE_ENV)==="test"&&typeof((O_=Element==null?void 0:Element.prototype)==null?void 0:O_.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var X4=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(X4||{});function e5(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function t5(e,t,n,r){let[i,s]=E.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=J4(e&&i?3:0),u=E.useRef(!1),c=E.useRef(!1),f=Df();return Dn(()=>{var p;if(e){if(n&&s(!0),!t){n&&a(3);return}return(p=r==null?void 0:r.start)==null||p.call(r,n),n5(t,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){c.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var m;c.current&&s5(t)||(u.current=!1,l(7),n||s(!1),(m=r==null?void 0:r.end)==null||m.call(r,n))}})}},[e,n,t,f]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function n5(e,{prepare:t,run:n,done:r,inFlight:i}){let s=xi();return i5(e,{prepare:t,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(r5(e,r))})}),s.dispose}function r5(e,t){var n,r;let i=xi();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||t()}),i.dispose)}function i5(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function s5(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function bv(e,t){let n=E.useRef([]),r=dt(e);E.useEffect(()=>{let i=[...n.current];for(let[s,o]of t.entries())if(n.current[s]!==o){let a=r(t,i);return n.current=t,a}},[r,...t])}let Nf=E.createContext(null);Nf.displayName="OpenClosedContext";var Sr=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Sr||{});function Lf(){return E.useContext(Nf)}function o5({value:e,children:t}){return Ke.createElement(Nf.Provider,{value:e},t)}function a5({children:e}){return Ke.createElement(Nf.Provider,{value:null},e)}function l5(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Vi=[];l5(()=>{function e(t){if(!ts(t.target)||t.target===document.body||Vi[0]===t.target)return;let n=t.target;n=n.closest(Xd),Vi.unshift(n??t.target),Vi=Vi.filter(r=>r!=null&&r.isConnected),Vi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function vC(e){let t=dt(e),n=E.useRef(!1);E.useEffect(()=>(n.current=!1,()=>{n.current=!0,If(()=>{n.current&&t()})}),[t])}let wC=E.createContext(!1);function u5(){return E.useContext(wC)}function R_(e){return Ke.createElement(wC.Provider,{value:e.force},e.children)}function c5(e){let t=u5(),n=E.useContext(_C),[r,i]=E.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(Gr.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return E.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),E.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let bC=E.Fragment,d5=Nn(function(e,t){let{ownerDocument:n=null,...r}=e,i=E.useRef(null),s=Qr(s4(p=>{i.current=p}),t),o=wv(i.current),a=n??o,l=c5(a),u=E.useContext(vg),c=Df(),f=dr();return vC(()=>{var p;l&&l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l))}),l?my.createPortal(Ke.createElement("div",{"data-headlessui-portal":"",ref:p=>{c.dispose(),u&&p&&c.add(u.register(p))}},f({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:bC,name:"Portal"})),l):null});function f5(e,t){let n=Qr(t),{enabled:r=!0,ownerDocument:i,...s}=e,o=dr();return r?Ke.createElement(d5,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:bC,name:"Portal"})}let h5=E.Fragment,_C=E.createContext(null);function p5(e,t){let{target:n,...r}=e,i={ref:Qr(t)},s=dr();return Ke.createElement(_C.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:h5,name:"Popover.Group"}))}let vg=E.createContext(null);function m5(){let e=E.useContext(vg),t=E.useRef([]),n=dt(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=dt(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),i=E.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,E.useMemo(()=>function({children:s}){return Ke.createElement(vg.Provider,{value:i},s)},[i])]}let g5=Nn(f5),xC=Nn(p5),y5=Object.assign(g5,{Group:xC});function v5(e,t=typeof document<"u"?document.defaultView:null,n){let r=Vu(e,"escape");yC(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===sC.Escape&&n(i))})}function w5(){var e;let[t]=E.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=E.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Dn(()=>{if(!t)return;function i(s){r(s.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function b5({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=dt(()=>{var i,s;let o=Bu(n),a=[];for(let l of e)l!==null&&(ds(l)?a.push(l):"current"in l&&ds(l.current)&&a.push(l.current));if(t!=null&&t.current)for(let l of t.current)a.push(l);for(let l of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&ds(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:r,contains:dt(i=>r().some(s=>s.contains(i)))}}let SC=E.createContext(null);function I_({children:e,node:t}){let[n,r]=E.useState(null),i=kC(t??n);return Ke.createElement(SC.Provider,{value:i},e,i===null&&Ke.createElement(mg,{features:Zd.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=Bu(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&ds(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function kC(e=null){var t;return(t=E.useContext(SC))!=null?t:e}function _5(){let e=typeof document>"u";return"useSyncExternalStore"in o0?(t=>t.useSyncExternalStore)(o0)(()=>()=>{},()=>!1,()=>!e):!1}function $f(){let e=_5(),[t,n]=E.useState(Gr.isHandoffComplete);return t&&Gr.isHandoffComplete===!1&&n(!1),E.useEffect(()=>{t!==!0&&n(!0)},[t]),E.useEffect(()=>Gr.handoff(),[]),e?!1:t}function _v(){let e=E.useRef(!1);return Dn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var xl=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(xl||{});function x5(){let e=E.useRef(0);return gC(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function EC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)ds(n.current)&&t.add(n.current);return t}let S5="div";var Fs=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Fs||{});function k5(e,t){let n=E.useRef(null),r=Qr(n,t),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=e;$f()||(a=0);let u=wv(n.current);P5(a,{ownerDocument:u});let c=A5(a,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:s});j5(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:c});let f=x5(),p=dt(v=>{if(!po(n.current))return;let w=n.current;(C=>C())(()=>{bi(f.current,{[xl.Forwards]:()=>{zl(w,oi.First,{skipElements:[v.relatedTarget,s]})},[xl.Backwards]:()=>{zl(w,oi.Last,{skipElements:[v.relatedTarget,s]})}})})}),m=Vu(!!(a&2),"focus-trap#tab-lock"),_=Df(),y=E.useRef(!1),x={ref:r,onKeyDown(v){v.key=="Tab"&&(y.current=!0,_.requestAnimationFrame(()=>{y.current=!1}))},onBlur(v){if(!(a&4))return;let w=EC(o);po(n.current)&&w.add(n.current);let C=v.relatedTarget;ts(C)&&C.dataset.headlessuiFocusGuard!=="true"&&(CC(w,C)||(y.current?zl(n.current,bi(f.current,{[xl.Forwards]:()=>oi.Next,[xl.Backwards]:()=>oi.Previous})|oi.WrapAround,{relativeTo:v.target}):ts(v.target)&&di(v.target)))}},g=dr();return Ke.createElement(Ke.Fragment,null,m&&Ke.createElement(mg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Zd.Focusable}),g({ourProps:x,theirProps:l,defaultTag:S5,name:"FocusTrap"}),m&&Ke.createElement(mg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Zd.Focusable}))}let E5=Nn(k5),C5=Object.assign(E5,{features:Fs});function T5(e=!0){let t=E.useRef(Vi.slice());return bv(([n],[r])=>{r===!0&&n===!1&&If(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Vi.slice())},[e,Vi,t]),dt(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function P5(e,{ownerDocument:t}){let n=!!(e&8),r=T5(n);bv(()=>{n||WF(t==null?void 0:t.body)&&di(r())},[n]),vC(()=>{n&&di(r())})}function A5(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let s=E.useRef(null),o=Vu(!!(e&1),"focus-trap#initial-focus"),a=_v();return bv(()=>{if(e===0)return;if(!o){i!=null&&i.current&&di(i.current);return}let l=n.current;l&&If(()=>{if(!a.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){s.current=u;return}}else if(l.contains(u)){s.current=u;return}if(r!=null&&r.current)di(r.current);else{if(e&16){if(zl(l,oi.First|oi.AutoFocus)!==yg.Error)return}else if(zl(l,oi.First)!==yg.Error)return;if(i!=null&&i.current&&(di(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t==null?void 0:t.activeElement})},[i,o,e]),s}function j5(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let s=_v(),o=!!(e&4);yC(t==null?void 0:t.defaultView,"focus",a=>{if(!o||!s.current)return;let l=EC(r);po(n.current)&&l.add(n.current);let u=i.current;if(!u)return;let c=a.target;po(c)?CC(l,c)?(i.current=c,di(c)):(a.preventDefault(),a.stopPropagation(),di(u)):di(i.current)},!0)}function CC(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function TC(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Bl((t=e.as)!=null?t:AC)||Ke.Children.count(e.children)===1}let Mf=E.createContext(null);Mf.displayName="TransitionContext";var O5=(e=>(e.Visible="visible",e.Hidden="hidden",e))(O5||{});function R5(){let e=E.useContext(Mf);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function I5(){let e=E.useContext(Ff);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ff=E.createContext(null);Ff.displayName="NestingContext";function Bf(e){return"children"in e?Bf(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function PC(e,t){let n=bo(e),r=E.useRef([]),i=_v(),s=Df(),o=dt((m,_=es.Hidden)=>{let y=r.current.findIndex(({el:x})=>x===m);y!==-1&&(bi(_,{[es.Unmount](){r.current.splice(y,1)},[es.Hidden](){r.current[y].state="hidden"}}),s.microTask(()=>{var x;!Bf(r)&&i.current&&((x=n.current)==null||x.call(n))}))}),a=dt(m=>{let _=r.current.find(({el:y})=>y===m);return _?_.state!=="visible"&&(_.state="visible"):r.current.push({el:m,state:"visible"}),()=>o(m,es.Unmount)}),l=E.useRef([]),u=E.useRef(Promise.resolve()),c=E.useRef({enter:[],leave:[]}),f=dt((m,_,y)=>{l.current.splice(0),t&&(t.chains.current[_]=t.chains.current[_].filter(([x])=>x!==m)),t==null||t.chains.current[_].push([m,new Promise(x=>{l.current.push(x)})]),t==null||t.chains.current[_].push([m,new Promise(x=>{Promise.all(c.current[_].map(([g,v])=>v)).then(()=>x())})]),_==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>y(_)):y(_)}),p=dt((m,_,y)=>{Promise.all(c.current[_].splice(0).map(([x,g])=>g)).then(()=>{var x;(x=l.current.shift())==null||x()}).then(()=>y(_))});return E.useMemo(()=>({children:r,register:a,unregister:o,onStart:f,onStop:p,wait:u,chains:c}),[a,o,r,f,p,c,u])}let AC=E.Fragment,jC=Jd.RenderStrategy;function D5(e,t){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:c,enterTo:f,entered:p,leave:m,leaveFrom:_,leaveTo:y,...x}=e,[g,v]=E.useState(null),w=E.useRef(null),C=TC(e),O=Qr(...C?[w,t,v]:t===null?[]:[t]),R=(n=x.unmount)==null||n?es.Unmount:es.Hidden,{show:I,appear:M,initial:z}=R5(),[W,ve]=E.useState(I?"visible":"hidden"),F=I5(),{register:ee,unregister:A}=F;Dn(()=>ee(w),[ee,w]),Dn(()=>{if(R===es.Hidden&&w.current){if(I&&W!=="visible"){ve("visible");return}return bi(W,{hidden:()=>A(w),visible:()=>ee(w)})}},[W,w,ee,A,I,R]);let le=$f();Dn(()=>{if(C&&le&&W==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,W,le,C]);let Oe=z&&!M,$=M&&I&&z,X=E.useRef(!1),Z=PC(()=>{X.current||(ve("hidden"),A(w))},F),ue=dt(qe=>{X.current=!0;let De=qe?"enter":"leave";Z.onStart(w,De,be=>{be==="enter"?s==null||s():be==="leave"&&(a==null||a())})}),U=dt(qe=>{let De=qe?"enter":"leave";X.current=!1,Z.onStop(w,De,be=>{be==="enter"?o==null||o():be==="leave"&&(l==null||l())}),De==="leave"&&!Bf(Z)&&(ve("hidden"),A(w))});E.useEffect(()=>{C&&i||(ue(I),U(I))},[I,C,i]);let K=!(!i||!C||!le||Oe),[,de]=t5(K,g,I,{start:ue,end:U}),we=Ls({ref:O,className:((r=pg(x.className,$&&u,$&&c,de.enter&&u,de.enter&&de.closed&&c,de.enter&&!de.closed&&f,de.leave&&m,de.leave&&!de.closed&&_,de.leave&&de.closed&&y,!de.transition&&I&&p))==null?void 0:r.trim())||void 0,...e5(de)}),ye=0;W==="visible"&&(ye|=Sr.Open),W==="hidden"&&(ye|=Sr.Closed),I&&W==="hidden"&&(ye|=Sr.Opening),!I&&W==="visible"&&(ye|=Sr.Closing);let Be=dr();return Ke.createElement(Ff.Provider,{value:Z},Ke.createElement(o5,{value:ye},Be({ourProps:we,theirProps:x,defaultTag:AC,features:jC,visible:W==="visible",name:"Transition.Child"})))}function N5(e,t){let{show:n,appear:r=!1,unmount:i=!0,...s}=e,o=E.useRef(null),a=TC(e),l=Qr(...a?[o,t]:t===null?[]:[t]);$f();let u=Lf();if(n===void 0&&u!==null&&(n=(u&Sr.Open)===Sr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,f]=E.useState(n?"visible":"hidden"),p=PC(()=>{n||f("hidden")}),[m,_]=E.useState(!0),y=E.useRef([n]);Dn(()=>{m!==!1&&y.current[y.current.length-1]!==n&&(y.current.push(n),_(!1))},[y,n]);let x=E.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);Dn(()=>{n?f("visible"):!Bf(p)&&o.current!==null&&f("hidden")},[n,p]);let g={unmount:i},v=dt(()=>{var O;m&&_(!1),(O=e.beforeEnter)==null||O.call(e)}),w=dt(()=>{var O;m&&_(!1),(O=e.beforeLeave)==null||O.call(e)}),C=dr();return Ke.createElement(Ff.Provider,{value:p},Ke.createElement(Mf.Provider,{value:x},C({ourProps:{...g,as:E.Fragment,children:Ke.createElement(OC,{ref:l,...g,...s,beforeEnter:v,beforeLeave:w})},theirProps:{},defaultTag:E.Fragment,features:jC,visible:c==="visible",name:"Transition"})))}function L5(e,t){let n=E.useContext(Mf)!==null,r=Lf()!==null;return Ke.createElement(Ke.Fragment,null,!n&&r?Ke.createElement(wg,{ref:t,...e}):Ke.createElement(OC,{ref:t,...e}))}let wg=Nn(N5),OC=Nn(D5),xv=Nn(L5),dd=Object.assign(wg,{Child:xv,Root:wg});var $5=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($5||{}),M5=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(M5||{});let F5={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Sv=E.createContext(null);Sv.displayName="DialogContext";function Uf(e){let t=E.useContext(Sv);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Uf),n}return t}function B5(e,t){return bi(t.type,F5,e,t)}let D_=Nn(function(e,t){let n=E.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:c=!1,...f}=e,p=E.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(p.current||(p.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=Lf();i===void 0&&m!==null&&(i=(m&Sr.Open)===Sr.Open);let _=E.useRef(null),y=Qr(_,t),x=wv(_.current),g=i?0:1,[v,w]=E.useReducer(B5,{titleId:null,descriptionId:null,panelRef:E.createRef()}),C=dt(()=>s(!1)),O=dt(de=>w({type:0,id:de})),R=$f()?g===0:!1,[I,M]=m5(),z={get current(){var de;return(de=v.panelRef.current)!=null?de:_.current}},W=kC(),{resolveContainers:ve}=b5({mainTreeNode:W,portals:I,defaultContainers:[z]}),F=m!==null?(m&Sr.Closing)===Sr.Closing:!1;O4(u||F?!1:R,{allowed:dt(()=>{var de,we;return[(we=(de=_.current)==null?void 0:de.closest("[data-headlessui-portal]"))!=null?we:null]}),disallowed:dt(()=>{var de;return[(de=W==null?void 0:W.closest("body > *:not(#headlessui-portal-root)"))!=null?de:null]})});let ee=cC.get(null);Dn(()=>{if(R)return ee.actions.push(r),()=>ee.actions.pop(r)},[ee,r,R]);let A=hC(ee,E.useCallback(de=>ee.selectors.isTop(de,r),[ee,r]));V4(A,ve,de=>{de.preventDefault(),C()}),v5(A,x==null?void 0:x.defaultView,de=>{de.preventDefault(),de.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),C()}),Y4(u||F?!1:R,x,ve),R4(R,_,C);let[le,Oe]=o4(),$=E.useMemo(()=>[{dialogState:g,close:C,setTitleId:O,unmount:c},v],[g,C,O,c,v]),X=Uu({open:g===0}),Z={ref:y,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:g===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":le,unmount:c},ue=!w5(),U=Fs.None;R&&!u&&(U|=Fs.RestoreFocus,U|=Fs.TabLock,l&&(U|=Fs.AutoFocus),ue&&(U|=Fs.InitialFocus));let K=dr();return Ke.createElement(a5,null,Ke.createElement(R_,{force:!0},Ke.createElement(y5,null,Ke.createElement(Sv.Provider,{value:$},Ke.createElement(xC,{target:_},Ke.createElement(R_,{force:!1},Ke.createElement(Oe,{slot:X},Ke.createElement(M,null,Ke.createElement(C5,{initialFocus:o,initialFocusFallback:_,containers:ve,features:U},Ke.createElement(f4,{value:C},K({ourProps:Z,theirProps:f,slot:X,defaultTag:U5,features:z5,visible:g===0,name:"Dialog"})))))))))))}),U5="div",z5=Jd.RenderStrategy|Jd.Static;function V5(e,t){let{transition:n=!1,open:r,...i}=e,s=Lf(),o=e.hasOwnProperty("open")||s!==null,a=e.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?Ke.createElement(I_,null,Ke.createElement(dd,{show:r,transition:n,unmount:i.unmount},Ke.createElement(D_,{ref:t,...i}))):Ke.createElement(I_,null,Ke.createElement(D_,{ref:t,open:r,...i}))}let K5="div";function W5(e,t){let n=E.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=e,[{dialogState:o,unmount:a},l]=Uf("Dialog.Panel"),u=Qr(t,l.panelRef),c=Uu({open:o===0}),f=dt(x=>{x.stopPropagation()}),p={ref:u,id:r,onClick:f},m=i?xv:E.Fragment,_=i?{unmount:a}:{},y=dr();return Ke.createElement(m,{..._},y({ourProps:p,theirProps:s,slot:c,defaultTag:K5,name:"Dialog.Panel"}))}let H5="div";function q5(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:s}]=Uf("Dialog.Backdrop"),o=Uu({open:i===0}),a={ref:t,"aria-hidden":!0},l=n?xv:E.Fragment,u=n?{unmount:s}:{},c=dr();return Ke.createElement(l,{...u},c({ourProps:a,theirProps:r,slot:o,defaultTag:H5,name:"Dialog.Backdrop"}))}let G5="h2";function Q5(e,t){let n=E.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:s,setTitleId:o}]=Uf("Dialog.Title"),a=Qr(t);E.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=Uu({open:s===0}),u={ref:a,id:r};return dr()({ourProps:u,theirProps:i,slot:l,defaultTag:G5,name:"Dialog.Title"})}let Y5=Nn(V5),J5=Nn(W5);Nn(q5);let Z5=Nn(Q5),bp=Object.assign(Y5,{Panel:J5,Title:Z5,Description:c4});const X5=({isOpen:e,onClose:t,onLanguageSave:n,currentLanguage:r})=>{const[i,s]=E.useState(r),o=l=>{s(l.target.value)},a=()=>{n(i),t()};return k.jsx(dd,{appear:!0,show:e,as:E.Fragment,children:k.jsxs(bp,{as:"div",className:"relative z-10",onClose:t,children:[k.jsxs(dd.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})," "]}),k.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:k.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:k.jsx(dd.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:k.jsxs(bp.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[k.jsx(bp.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Language Settings"}),k.jsxs("div",{className:"mt-2",children:[k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"iast",checked:i==="iast",onChange:o,className:"mr-2"}),"IAST"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"tamil_superscripted",checked:i==="tamil_superscripted",onChange:o,className:"mr-2"}),"Tamil"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"malayalam",checked:i==="malayalam",onChange:o,className:"mr-2"}),"Malayalam"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"devanagari",checked:i==="devanagari",onChange:o,className:"mr-2"}),"Devanagari"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"itrans",checked:i==="itrans",onChange:o,className:"mr-2"}),"ITrans"]}),k.jsx("br",{})]}),k.jsxs("div",{className:"mt-4",children:[k.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 mr-2",onClick:t,children:"Close"}),k.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:a,children:"Save"})]})]})})})})]})})},eB=()=>{const[e,t]=E.useState(navigator.onLine);E.useEffect(()=>{const p=()=>t(!0),m=()=>t(!1);return window.addEventListener("online",p),window.addEventListener("offline",m),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(_=>{console.log("Service Worker is active:",_.active)}),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",m)}},[]);const{preferredLanguage:n,setPreferredLanguage:r}=Ba(),{session:i}=bs(),[s,o]=E.useState(!1),a=()=>o(!s),[l,u]=E.useState(!1),c=()=>u(!0),f=()=>u(!1);return E.useEffect(()=>{i&&o(!1)},[i]),k.jsx(BI,{children:k.jsx(BR,{children:k.jsxs("div",{className:"app-layout",children:[" ",k.jsx("div",{className:"flex justify-end p-4 bg-gray-100",children:k.jsx(UF,{toggleDropdown:a,isDropdownOpen:s,openLanguageSettings:c})}),k.jsx(X5,{isOpen:l,onClose:f,onLanguageSave:r,currentLanguage:n}),k.jsx(MI,{children:k.jsxs(BF,{children:[k.jsx(MF,{}),k.jsx(kF,{})]})})]})})})};function tB(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e;let a,l;const u=async(f=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(a=await $a(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/new-sankeertan/sw.js",{scope:"/new-sankeertan/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;a.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),a.addEventListener("installed",f=>{f.isUpdate||r==null||r()}),a.register({immediate:t}).then(f=>{s?s("/new-sankeertan/sw.js",f):i==null||i(f)}).catch(f=>{o==null||o(f)})}}return l=c(),u}tB();const nB=new mI({defaultOptions:{queries:{staleTime:1/0,gcTime:1/0}}}),rB=_p.createRoot(document.getElementById("root"));rB.render(k.jsx(Ke.StrictMode,{children:k.jsx(gI,{client:nB,children:k.jsx(HA,{children:k.jsx(ok,{children:k.jsx(eB,{})})})})}));
