var BT=Object.defineProperty;var g0=e=>{throw TypeError(e)};var UT=(e,t,n)=>t in e?BT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var il=(e,t,n)=>UT(e,typeof t!="symbol"?t+"":t,n),Rf=(e,t,n)=>t.has(e)||g0("Cannot "+n);var Q=(e,t,n)=>(Rf(e,t,"read from private field"),n?n.call(e):t.get(e)),Ge=(e,t,n)=>t.has(e)?g0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$e=(e,t,n,r)=>(Rf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),it=(e,t,n)=>(Rf(e,t,"access private method"),n);var kc=(e,t,n,r)=>({set _(s){$e(e,t,s,n)},get _(){return Q(e,t,r)}});function zT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function VT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var g_={exports:{}},ch={},y_={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),KT=Symbol.for("react.portal"),WT=Symbol.for("react.fragment"),HT=Symbol.for("react.strict_mode"),qT=Symbol.for("react.profiler"),GT=Symbol.for("react.provider"),YT=Symbol.for("react.context"),QT=Symbol.for("react.forward_ref"),JT=Symbol.for("react.suspense"),ZT=Symbol.for("react.memo"),XT=Symbol.for("react.lazy"),y0=Symbol.iterator;function eP(e){return e===null||typeof e!="object"?null:(e=y0&&e[y0]||e["@@iterator"],typeof e=="function"?e:null)}var v_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w_=Object.assign,b_={};function Na(e,t,n){this.props=e,this.context=t,this.refs=b_,this.updater=n||v_}Na.prototype.isReactComponent={};Na.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Na.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x_(){}x_.prototype=Na.prototype;function Lg(e,t,n){this.props=e,this.context=t,this.refs=b_,this.updater=n||v_}var Mg=Lg.prototype=new x_;Mg.constructor=Lg;w_(Mg,Na.prototype);Mg.isPureReactComponent=!0;var v0=Array.isArray,__=Object.prototype.hasOwnProperty,$g={current:null},k_={key:!0,ref:!0,__self:!0,__source:!0};function S_(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)__.call(t,r)&&!k_.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ou,type:e,key:i,ref:o,props:s,_owner:$g.current}}function tP(e,t){return{$$typeof:Ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ou}function nP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var w0=/\/+/g;function jf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nP(""+e.key):t.toString(36)}function td(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ou:case KT:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+jf(o,0):r,v0(s)?(n="",e!=null&&(n=e.replace(w0,"$&/")+"/"),td(s,t,n,"",function(u){return u})):s!=null&&(Fg(s)&&(s=tP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(w0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",v0(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+jf(i,a);o+=td(i,t,n,l,s)}else if(l=eP(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+jf(i,a++),o+=td(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Sc(e,t,n){if(e==null)return e;var r=[],s=0;return td(e,r,"","",function(i){return t.call(n,i,s++)}),r}function rP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cn={current:null},nd={transition:null},sP={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:nd,ReactCurrentOwner:$g};function E_(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:Sc,forEach:function(e,t,n){Sc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sc(e,function(){t++}),t},toArray:function(e){return Sc(e,function(t){return t})||[]},only:function(e){if(!Fg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nt.Component=Na;nt.Fragment=WT;nt.Profiler=qT;nt.PureComponent=Lg;nt.StrictMode=HT;nt.Suspense=JT;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sP;nt.act=E_;nt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=w_({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$g.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)__.call(t,l)&&!k_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ou,type:e.type,key:s,ref:i,props:r,_owner:o}};nt.createContext=function(e){return e={$$typeof:YT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GT,_context:e},e.Consumer=e};nt.createElement=S_;nt.createFactory=function(e){var t=S_.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:QT,render:e}};nt.isValidElement=Fg;nt.lazy=function(e){return{$$typeof:XT,_payload:{_status:-1,_result:e},_init:rP}};nt.memo=function(e,t){return{$$typeof:ZT,type:e,compare:t===void 0?null:t}};nt.startTransition=function(e){var t=nd.transition;nd.transition={};try{e()}finally{nd.transition=t}};nt.unstable_act=E_;nt.useCallback=function(e,t){return Cn.current.useCallback(e,t)};nt.useContext=function(e){return Cn.current.useContext(e)};nt.useDebugValue=function(){};nt.useDeferredValue=function(e){return Cn.current.useDeferredValue(e)};nt.useEffect=function(e,t){return Cn.current.useEffect(e,t)};nt.useId=function(){return Cn.current.useId()};nt.useImperativeHandle=function(e,t,n){return Cn.current.useImperativeHandle(e,t,n)};nt.useInsertionEffect=function(e,t){return Cn.current.useInsertionEffect(e,t)};nt.useLayoutEffect=function(e,t){return Cn.current.useLayoutEffect(e,t)};nt.useMemo=function(e,t){return Cn.current.useMemo(e,t)};nt.useReducer=function(e,t,n){return Cn.current.useReducer(e,t,n)};nt.useRef=function(e){return Cn.current.useRef(e)};nt.useState=function(e){return Cn.current.useState(e)};nt.useSyncExternalStore=function(e,t,n){return Cn.current.useSyncExternalStore(e,t,n)};nt.useTransition=function(){return Cn.current.useTransition()};nt.version="18.3.1";y_.exports=nt;var S=y_.exports;const We=Au(S),b0=zT({__proto__:null,default:We},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP=S,oP=Symbol.for("react.element"),aP=Symbol.for("react.fragment"),lP=Object.prototype.hasOwnProperty,uP=iP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cP={key:!0,ref:!0,__self:!0,__source:!0};function C_(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)lP.call(t,r)&&!cP.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:oP,type:e,key:i,ref:o,props:s,_owner:uP.current}}ch.Fragment=aP;ch.jsx=C_;ch.jsxs=C_;g_.exports=ch;var k=g_.exports,Np={},T_={exports:{}},Qn={},P_={exports:{}},R_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,ee){var he=X.length;X.push(ee);e:for(;0<he;){var K=he-1>>>1,q=X[K];if(0<s(q,ee))X[K]=ee,X[he]=q,he=K;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ee=X[0],he=X.pop();if(he!==ee){X[0]=he;e:for(var K=0,q=X.length,we=q>>>1;K<we;){var H=2*(K+1)-1,se=X[H],pe=H+1,Se=X[pe];if(0>s(se,he))pe<q&&0>s(Se,se)?(X[K]=Se,X[pe]=he,K=pe):(X[K]=se,X[H]=he,K=H);else if(pe<q&&0>s(Se,he))X[K]=Se,X[pe]=he,K=pe;else break e}}return ee}function s(X,ee){var he=X.sortIndex-ee.sortIndex;return he!==0?he:X.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,p=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(X){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=X)r(u),ee.sortIndex=ee.expirationTime,t(l,ee);else break;ee=n(u)}}function C(X){if(y=!1,x(X),!w)if(n(l)!==null)w=!0,ve(j);else{var ee=n(u);ee!==null&&G(C,ee.startTime-X)}}function j(X,ee){w=!1,y&&(y=!1,g(D),D=-1),p=!0;var he=f;try{for(x(ee),h=n(l);h!==null&&(!(h.expirationTime>ee)||X&&!ue());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var q=K(h.expirationTime<=ee);ee=e.unstable_now(),typeof q=="function"?h.callback=q:h===n(l)&&r(l),x(ee)}else r(l);h=n(l)}if(h!==null)var we=!0;else{var H=n(u);H!==null&&G(C,H.startTime-ee),we=!1}return we}finally{h=null,f=he,p=!1}}var I=!1,A=null,D=-1,$=5,B=-1;function ue(){return!(e.unstable_now()-B<$)}function N(){if(A!==null){var X=e.unstable_now();B=X;var ee=!0;try{ee=A(!0,X)}finally{ee?V():(I=!1,A=null)}}else I=!1}var V;if(typeof v=="function")V=function(){v(N)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,Z=T.port2;T.port1.onmessage=N,V=function(){Z.postMessage(null)}}else V=function(){b(N,0)};function ve(X){A=X,I||(I=!0,V())}function G(X,ee){D=b(function(){X(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,ve(j))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(X){switch(f){case 1:case 2:case 3:var ee=3;break;default:ee=f}var he=f;f=ee;try{return X()}finally{f=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,ee){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=f;f=X;try{return ee()}finally{f=he}},e.unstable_scheduleCallback=function(X,ee,he){var K=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?K+he:K):he=K,X){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=he+q,X={id:c++,callback:ee,priorityLevel:X,startTime:he,expirationTime:q,sortIndex:-1},he>K?(X.sortIndex=he,t(u,X),n(l)===null&&X===n(u)&&(y?(g(D),D=-1):y=!0,G(C,he-K))):(X.sortIndex=q,t(l,X),w||p||(w=!0,ve(j))),X},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(X){var ee=f;return function(){var he=f;f=ee;try{return X.apply(this,arguments)}finally{f=he}}}})(R_);P_.exports=R_;var dP=P_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP=S,Gn=dP;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j_=new Set,Zl={};function go(e,t){ka(e,t),ka(e+"Capture",t)}function ka(e,t){for(Zl[e]=t,e=0;e<t.length;e++)j_.add(t[e])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,fP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x0={},_0={};function pP(e){return Lp.call(_0,e)?!0:Lp.call(x0,e)?!1:fP.test(e)?_0[e]=!0:(x0[e]=!0,!1)}function mP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gP(e,t,n,r){if(t===null||typeof t>"u"||mP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){on[e]=new Tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];on[t]=new Tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){on[e]=new Tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){on[e]=new Tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){on[e]=new Tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){on[e]=new Tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){on[e]=new Tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){on[e]=new Tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){on[e]=new Tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bg=/[\-:]([a-z])/g;function Ug(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bg,Ug);on[t]=new Tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bg,Ug);on[t]=new Tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bg,Ug);on[t]=new Tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){on[e]=new Tn(e,1,!1,e.toLowerCase(),null,!1,!1)});on.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){on[e]=new Tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function zg(e,t,n,r){var s=on.hasOwnProperty(t)?on[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gP(t,n,s,r)&&(n=null),r||s===null?pP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ss=hP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),Uo=Symbol.for("react.fragment"),Vg=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),A_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),Wg=Symbol.for("react.memo"),Ms=Symbol.for("react.lazy"),I_=Symbol.for("react.offscreen"),k0=Symbol.iterator;function ol(e){return e===null||typeof e!="object"?null:(e=k0&&e[k0]||e["@@iterator"],typeof e=="function"?e:null)}var Pt=Object.assign,Af;function xl(e){if(Af===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Af=t&&t[1]||""}return`
`+Af+e}var Of=!1;function If(e,t){if(!e||Of)return"";Of=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Of=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xl(e):""}function yP(e){switch(e.tag){case 5:return xl(e.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return e=If(e.type,!1),e;case 11:return e=If(e.type.render,!1),e;case 1:return e=If(e.type,!0),e;default:return""}}function Bp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Uo:return"Fragment";case Bo:return"Portal";case Mp:return"Profiler";case Vg:return"StrictMode";case $p:return"Suspense";case Fp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O_:return(e.displayName||"Context")+".Consumer";case A_:return(e._context.displayName||"Context")+".Provider";case Kg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wg:return t=e.displayName||null,t!==null?t:Bp(e.type)||"Memo";case Ms:t=e._payload,e=e._init;try{return Bp(e(t))}catch{}}return null}function vP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bp(t);case 8:return t===Vg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function D_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wP(e){var t=D_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cc(e){e._valueTracker||(e._valueTracker=wP(e))}function N_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=D_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function kd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Up(e,t){var n=t.checked;return Pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function S0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function L_(e,t){t=t.checked,t!=null&&zg(e,"checked",t,!1)}function zp(e,t){L_(e,t);var n=hi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vp(e,t.type,hi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function E0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vp(e,t,n){(t!=="number"||kd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _l=Array.isArray;function ra(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Kp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function C0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ee(92));if(_l(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hi(n)}}function M_(e,t){var n=hi(t.value),r=hi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function T0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tc,F_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tc=Tc||document.createElement("div"),Tc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bP=["Webkit","ms","Moz","O"];Object.keys(Ol).forEach(function(e){bP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ol[t]=Ol[e]})});function B_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ol.hasOwnProperty(e)&&Ol[e]?(""+t).trim():t+"px"}function U_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=B_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var xP=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hp(e,t){if(t){if(xP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function qp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=null;function Hg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yp=null,sa=null,ia=null;function P0(e){if(e=Nu(e)){if(typeof Yp!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=mh(t),Yp(e.stateNode,e.type,t))}}function z_(e){sa?ia?ia.push(e):ia=[e]:sa=e}function V_(){if(sa){var e=sa,t=ia;if(ia=sa=null,P0(e),t)for(e=0;e<t.length;e++)P0(t[e])}}function K_(e,t){return e(t)}function W_(){}var Df=!1;function H_(e,t,n){if(Df)return e(t,n);Df=!0;try{return K_(e,t,n)}finally{Df=!1,(sa!==null||ia!==null)&&(W_(),V_())}}function eu(e,t){var n=e.stateNode;if(n===null)return null;var r=mh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ee(231,t,typeof n));return n}var Qp=!1;if(ms)try{var al={};Object.defineProperty(al,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Qp=!1}function _P(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Il=!1,Sd=null,Ed=!1,Jp=null,kP={onError:function(e){Il=!0,Sd=e}};function SP(e,t,n,r,s,i,o,a,l){Il=!1,Sd=null,_P.apply(kP,arguments)}function EP(e,t,n,r,s,i,o,a,l){if(SP.apply(this,arguments),Il){if(Il){var u=Sd;Il=!1,Sd=null}else throw Error(Ee(198));Ed||(Ed=!0,Jp=u)}}function yo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function q_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function R0(e){if(yo(e)!==e)throw Error(Ee(188))}function CP(e){var t=e.alternate;if(!t){if(t=yo(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return R0(s),e;if(i===r)return R0(s),t;i=i.sibling}throw Error(Ee(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Ee(189))}}if(n.alternate!==r)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?e:t}function G_(e){return e=CP(e),e!==null?Y_(e):null}function Y_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Y_(e);if(t!==null)return t;e=e.sibling}return null}var Q_=Gn.unstable_scheduleCallback,j0=Gn.unstable_cancelCallback,TP=Gn.unstable_shouldYield,PP=Gn.unstable_requestPaint,Nt=Gn.unstable_now,RP=Gn.unstable_getCurrentPriorityLevel,qg=Gn.unstable_ImmediatePriority,J_=Gn.unstable_UserBlockingPriority,Cd=Gn.unstable_NormalPriority,jP=Gn.unstable_LowPriority,Z_=Gn.unstable_IdlePriority,dh=null,Hr=null;function AP(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(dh,e,void 0,(e.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:DP,OP=Math.log,IP=Math.LN2;function DP(e){return e>>>=0,e===0?32:31-(OP(e)/IP|0)|0}var Pc=64,Rc=4194304;function kl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Td(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=kl(a):(i&=o,i!==0&&(r=kl(i)))}else o=n&~s,o!==0?r=kl(o):i!==0&&(r=kl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rr(t),s=1<<n,r|=e[n],t&=~s;return r}function NP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Rr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=NP(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Zp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X_(){var e=Pc;return Pc<<=1,!(Pc&4194240)&&(Pc=64),e}function Nf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Iu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rr(t),e[t]=n}function MP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Rr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Gg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ht=0;function ek(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tk,Yg,nk,rk,sk,Xp=!1,jc=[],ni=null,ri=null,si=null,tu=new Map,nu=new Map,Fs=[],$P="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A0(e,t){switch(e){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":tu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(t.pointerId)}}function ll(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Nu(t),t!==null&&Yg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function FP(e,t,n,r,s){switch(t){case"focusin":return ni=ll(ni,e,t,n,r,s),!0;case"dragenter":return ri=ll(ri,e,t,n,r,s),!0;case"mouseover":return si=ll(si,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return tu.set(i,ll(tu.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,nu.set(i,ll(nu.get(i)||null,e,t,n,r,s)),!0}return!1}function ik(e){var t=Ui(e.target);if(t!==null){var n=yo(t);if(n!==null){if(t=n.tag,t===13){if(t=q_(n),t!==null){e.blockedOn=t,sk(e.priority,function(){nk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=em(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gp=r,n.target.dispatchEvent(r),Gp=null}else return t=Nu(n),t!==null&&Yg(t),e.blockedOn=n,!1;t.shift()}return!0}function O0(e,t,n){rd(e)&&n.delete(t)}function BP(){Xp=!1,ni!==null&&rd(ni)&&(ni=null),ri!==null&&rd(ri)&&(ri=null),si!==null&&rd(si)&&(si=null),tu.forEach(O0),nu.forEach(O0)}function ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Xp||(Xp=!0,Gn.unstable_scheduleCallback(Gn.unstable_NormalPriority,BP)))}function ru(e){function t(s){return ul(s,e)}if(0<jc.length){ul(jc[0],e);for(var n=1;n<jc.length;n++){var r=jc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ni!==null&&ul(ni,e),ri!==null&&ul(ri,e),si!==null&&ul(si,e),tu.forEach(t),nu.forEach(t),n=0;n<Fs.length;n++)r=Fs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fs.length&&(n=Fs[0],n.blockedOn===null);)ik(n),n.blockedOn===null&&Fs.shift()}var oa=Ss.ReactCurrentBatchConfig,Pd=!0;function UP(e,t,n,r){var s=ht,i=oa.transition;oa.transition=null;try{ht=1,Qg(e,t,n,r)}finally{ht=s,oa.transition=i}}function zP(e,t,n,r){var s=ht,i=oa.transition;oa.transition=null;try{ht=4,Qg(e,t,n,r)}finally{ht=s,oa.transition=i}}function Qg(e,t,n,r){if(Pd){var s=em(e,t,n,r);if(s===null)Wf(e,t,r,Rd,n),A0(e,r);else if(FP(s,e,t,n,r))r.stopPropagation();else if(A0(e,r),t&4&&-1<$P.indexOf(e)){for(;s!==null;){var i=Nu(s);if(i!==null&&tk(i),i=em(e,t,n,r),i===null&&Wf(e,t,r,Rd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wf(e,t,r,null,n)}}var Rd=null;function em(e,t,n,r){if(Rd=null,e=Hg(r),e=Ui(e),e!==null)if(t=yo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=q_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rd=e,null}function ok(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RP()){case qg:return 1;case J_:return 4;case Cd:case jP:return 16;case Z_:return 536870912;default:return 16}default:return 16}}var Zs=null,Jg=null,sd=null;function ak(){if(sd)return sd;var e,t=Jg,n=t.length,r,s="value"in Zs?Zs.value:Zs.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return sd=s.slice(e,1<r?1-r:void 0)}function id(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ac(){return!0}function I0(){return!1}function Jn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ac:I0,this.isPropagationStopped=I0,this}return Pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),t}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zg=Jn(La),Du=Pt({},La,{view:0,detail:0}),VP=Jn(Du),Lf,Mf,cl,hh=Pt({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cl&&(cl&&e.type==="mousemove"?(Lf=e.screenX-cl.screenX,Mf=e.screenY-cl.screenY):Mf=Lf=0,cl=e),Lf)},movementY:function(e){return"movementY"in e?e.movementY:Mf}}),D0=Jn(hh),KP=Pt({},hh,{dataTransfer:0}),WP=Jn(KP),HP=Pt({},Du,{relatedTarget:0}),$f=Jn(HP),qP=Pt({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),GP=Jn(qP),YP=Pt({},La,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QP=Jn(YP),JP=Pt({},La,{data:0}),N0=Jn(JP),ZP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=e2[e])?!!t[e]:!1}function Xg(){return t2}var n2=Pt({},Du,{key:function(e){if(e.key){var t=ZP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=id(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(e){return e.type==="keypress"?id(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?id(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),r2=Jn(n2),s2=Pt({},hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L0=Jn(s2),i2=Pt({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),o2=Jn(i2),a2=Pt({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),l2=Jn(a2),u2=Pt({},hh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c2=Jn(u2),d2=[9,13,27,32],ey=ms&&"CompositionEvent"in window,Dl=null;ms&&"documentMode"in document&&(Dl=document.documentMode);var h2=ms&&"TextEvent"in window&&!Dl,lk=ms&&(!ey||Dl&&8<Dl&&11>=Dl),M0=" ",$0=!1;function uk(e,t){switch(e){case"keyup":return d2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ck(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zo=!1;function f2(e,t){switch(e){case"compositionend":return ck(t);case"keypress":return t.which!==32?null:($0=!0,M0);case"textInput":return e=t.data,e===M0&&$0?null:e;default:return null}}function p2(e,t){if(zo)return e==="compositionend"||!ey&&uk(e,t)?(e=ak(),sd=Jg=Zs=null,zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lk&&t.locale!=="ko"?null:t.data;default:return null}}var m2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!m2[e.type]:t==="textarea"}function dk(e,t,n,r){z_(r),t=jd(t,"onChange"),0<t.length&&(n=new Zg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nl=null,su=null;function g2(e){_k(e,0)}function fh(e){var t=Wo(e);if(N_(t))return e}function y2(e,t){if(e==="change")return t}var hk=!1;if(ms){var Ff;if(ms){var Bf="oninput"in document;if(!Bf){var B0=document.createElement("div");B0.setAttribute("oninput","return;"),Bf=typeof B0.oninput=="function"}Ff=Bf}else Ff=!1;hk=Ff&&(!document.documentMode||9<document.documentMode)}function U0(){Nl&&(Nl.detachEvent("onpropertychange",fk),su=Nl=null)}function fk(e){if(e.propertyName==="value"&&fh(su)){var t=[];dk(t,su,e,Hg(e)),H_(g2,t)}}function v2(e,t,n){e==="focusin"?(U0(),Nl=t,su=n,Nl.attachEvent("onpropertychange",fk)):e==="focusout"&&U0()}function w2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fh(su)}function b2(e,t){if(e==="click")return fh(t)}function x2(e,t){if(e==="input"||e==="change")return fh(t)}function _2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ar=typeof Object.is=="function"?Object.is:_2;function iu(e,t){if(Ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Lp.call(t,s)||!Ar(e[s],t[s]))return!1}return!0}function z0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function V0(e,t){var n=z0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z0(n)}}function pk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mk(){for(var e=window,t=kd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=kd(e.document)}return t}function ty(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function k2(e){var t=mk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pk(n.ownerDocument.documentElement,n)){if(r!==null&&ty(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=V0(n,i);var o=V0(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var S2=ms&&"documentMode"in document&&11>=document.documentMode,Vo=null,tm=null,Ll=null,nm=!1;function K0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nm||Vo==null||Vo!==kd(r)||(r=Vo,"selectionStart"in r&&ty(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ll&&iu(Ll,r)||(Ll=r,r=jd(tm,"onSelect"),0<r.length&&(t=new Zg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vo)))}function Oc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ko={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionend:Oc("Transition","TransitionEnd")},Uf={},gk={};ms&&(gk=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function ph(e){if(Uf[e])return Uf[e];if(!Ko[e])return e;var t=Ko[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gk)return Uf[e]=t[n];return e}var yk=ph("animationend"),vk=ph("animationiteration"),wk=ph("animationstart"),bk=ph("transitionend"),xk=new Map,W0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(e,t){xk.set(e,t),go(t,[e])}for(var zf=0;zf<W0.length;zf++){var Vf=W0[zf],E2=Vf.toLowerCase(),C2=Vf[0].toUpperCase()+Vf.slice(1);gi(E2,"on"+C2)}gi(yk,"onAnimationEnd");gi(vk,"onAnimationIteration");gi(wk,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(bk,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function H0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,EP(r,t,void 0,e),e.currentTarget=null}function _k(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;H0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;H0(s,a,u),i=l}}}if(Ed)throw e=Jp,Ed=!1,Jp=null,e}function yt(e,t){var n=t[am];n===void 0&&(n=t[am]=new Set);var r=e+"__bubble";n.has(r)||(kk(t,e,2,!1),n.add(r))}function Kf(e,t,n){var r=0;t&&(r|=4),kk(n,e,r,t)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[Ic]){e[Ic]=!0,j_.forEach(function(n){n!=="selectionchange"&&(T2.has(n)||Kf(n,!1,e),Kf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ic]||(t[Ic]=!0,Kf("selectionchange",!1,t))}}function kk(e,t,n,r){switch(ok(t)){case 1:var s=UP;break;case 4:s=zP;break;default:s=Qg}n=s.bind(null,t,n,e),s=void 0,!Qp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wf(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ui(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}H_(function(){var u=i,c=Hg(n),h=[];e:{var f=xk.get(e);if(f!==void 0){var p=Zg,w=e;switch(e){case"keypress":if(id(n)===0)break e;case"keydown":case"keyup":p=r2;break;case"focusin":w="focus",p=$f;break;case"focusout":w="blur",p=$f;break;case"beforeblur":case"afterblur":p=$f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=D0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=WP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=o2;break;case yk:case vk:case wk:p=GP;break;case bk:p=l2;break;case"scroll":p=VP;break;case"wheel":p=c2;break;case"copy":case"cut":case"paste":p=QP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=L0}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,x;v!==null;){x=v;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,g!==null&&(C=eu(v,g),C!=null&&y.push(au(v,C,x)))),b)break;v=v.return}0<y.length&&(f=new p(f,w,null,n,c),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Gp&&(w=n.relatedTarget||n.fromElement)&&(Ui(w)||w[gs]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?Ui(w):null,w!==null&&(b=yo(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(y=D0,C="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=L0,C="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:Wo(p),x=w==null?f:Wo(w),f=new y(C,v+"leave",p,n,c),f.target=b,f.relatedTarget=x,C=null,Ui(c)===u&&(y=new y(g,v+"enter",w,n,c),y.target=x,y.relatedTarget=b,C=y),b=C,p&&w)t:{for(y=p,g=w,v=0,x=y;x;x=jo(x))v++;for(x=0,C=g;C;C=jo(C))x++;for(;0<v-x;)y=jo(y),v--;for(;0<x-v;)g=jo(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=jo(y),g=jo(g)}y=null}else y=null;p!==null&&q0(h,f,p,y,!1),w!==null&&b!==null&&q0(h,b,w,y,!0)}}e:{if(f=u?Wo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=y2;else if(F0(f))if(hk)j=x2;else{j=w2;var I=v2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=b2);if(j&&(j=j(e,u))){dk(h,j,n,c);break e}I&&I(e,f,u),e==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&Vp(f,"number",f.value)}switch(I=u?Wo(u):window,e){case"focusin":(F0(I)||I.contentEditable==="true")&&(Vo=I,tm=u,Ll=null);break;case"focusout":Ll=tm=Vo=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,K0(h,n,c);break;case"selectionchange":if(S2)break;case"keydown":case"keyup":K0(h,n,c)}var A;if(ey)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else zo?uk(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(lk&&n.locale!=="ko"&&(zo||D!=="onCompositionStart"?D==="onCompositionEnd"&&zo&&(A=ak()):(Zs=c,Jg="value"in Zs?Zs.value:Zs.textContent,zo=!0)),I=jd(u,D),0<I.length&&(D=new N0(D,e,null,n,c),h.push({event:D,listeners:I}),A?D.data=A:(A=ck(n),A!==null&&(D.data=A)))),(A=h2?f2(e,n):p2(e,n))&&(u=jd(u,"onBeforeInput"),0<u.length&&(c=new N0("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}_k(h,t)})}function au(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=eu(e,n),i!=null&&r.unshift(au(e,i,s)),i=eu(e,t),i!=null&&r.push(au(e,i,s))),e=e.return}return r}function jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function q0(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=eu(n,i),l!=null&&o.unshift(au(n,l,a))):s||(l=eu(n,i),l!=null&&o.push(au(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var P2=/\r\n?/g,R2=/\u0000|\uFFFD/g;function G0(e){return(typeof e=="string"?e:""+e).replace(P2,`
`).replace(R2,"")}function Dc(e,t,n){if(t=G0(t),G0(e)!==t&&n)throw Error(Ee(425))}function Ad(){}var rm=null,sm=null;function im(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var om=typeof setTimeout=="function"?setTimeout:void 0,j2=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,A2=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(e){return Y0.resolve(null).then(e).catch(O2)}:om;function O2(e){setTimeout(function(){throw e})}function Hf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ru(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ru(t)}function ii(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Q0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Ma,lu="__reactProps$"+Ma,gs="__reactContainer$"+Ma,am="__reactEvents$"+Ma,I2="__reactListeners$"+Ma,D2="__reactHandles$"+Ma;function Ui(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gs]||n[Kr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Q0(e);e!==null;){if(n=e[Kr])return n;e=Q0(e)}return t}e=n,n=e.parentNode}return null}function Nu(e){return e=e[Kr]||e[gs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function mh(e){return e[lu]||null}var lm=[],Ho=-1;function yi(e){return{current:e}}function vt(e){0>Ho||(e.current=lm[Ho],lm[Ho]=null,Ho--)}function gt(e,t){Ho++,lm[Ho]=e.current,e.current=t}var fi={},vn=yi(fi),Ln=yi(!1),lo=fi;function Sa(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Mn(e){return e=e.childContextTypes,e!=null}function Od(){vt(Ln),vt(vn)}function J0(e,t,n){if(vn.current!==fi)throw Error(Ee(168));gt(vn,t),gt(Ln,n)}function Sk(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Ee(108,vP(e)||"Unknown",s));return Pt({},n,r)}function Id(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,lo=vn.current,gt(vn,e),gt(Ln,Ln.current),!0}function Z0(e,t,n){var r=e.stateNode;if(!r)throw Error(Ee(169));n?(e=Sk(e,t,lo),r.__reactInternalMemoizedMergedChildContext=e,vt(Ln),vt(vn),gt(vn,e)):vt(Ln),gt(Ln,n)}var os=null,gh=!1,qf=!1;function Ek(e){os===null?os=[e]:os.push(e)}function N2(e){gh=!0,Ek(e)}function vi(){if(!qf&&os!==null){qf=!0;var e=0,t=ht;try{var n=os;for(ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}os=null,gh=!1}catch(s){throw os!==null&&(os=os.slice(e+1)),Q_(qg,vi),s}finally{ht=t,qf=!1}}return null}var qo=[],Go=0,Dd=null,Nd=0,lr=[],ur=0,uo=null,cs=1,ds="";function Ii(e,t){qo[Go++]=Nd,qo[Go++]=Dd,Dd=e,Nd=t}function Ck(e,t,n){lr[ur++]=cs,lr[ur++]=ds,lr[ur++]=uo,uo=e;var r=cs;e=ds;var s=32-Rr(r)-1;r&=~(1<<s),n+=1;var i=32-Rr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,cs=1<<32-Rr(t)+s|n<<s|r,ds=i+e}else cs=1<<i|n<<s|r,ds=e}function ny(e){e.return!==null&&(Ii(e,1),Ck(e,1,0))}function ry(e){for(;e===Dd;)Dd=qo[--Go],qo[Go]=null,Nd=qo[--Go],qo[Go]=null;for(;e===uo;)uo=lr[--ur],lr[ur]=null,ds=lr[--ur],lr[ur]=null,cs=lr[--ur],lr[ur]=null}var qn=null,Hn=null,bt=!1,Tr=null;function Tk(e,t){var n=dr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function X0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qn=e,Hn=ii(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qn=e,Hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=uo!==null?{id:cs,overflow:ds}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qn=e,Hn=null,!0):!1;default:return!1}}function um(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cm(e){if(bt){var t=Hn;if(t){var n=t;if(!X0(e,t)){if(um(e))throw Error(Ee(418));t=ii(n.nextSibling);var r=qn;t&&X0(e,t)?Tk(r,n):(e.flags=e.flags&-4097|2,bt=!1,qn=e)}}else{if(um(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,bt=!1,qn=e}}}function ew(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qn=e}function Nc(e){if(e!==qn)return!1;if(!bt)return ew(e),bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!im(e.type,e.memoizedProps)),t&&(t=Hn)){if(um(e))throw Pk(),Error(Ee(418));for(;t;)Tk(e,t),t=ii(t.nextSibling)}if(ew(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Hn=ii(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Hn=null}}else Hn=qn?ii(e.stateNode.nextSibling):null;return!0}function Pk(){for(var e=Hn;e;)e=ii(e.nextSibling)}function Ea(){Hn=qn=null,bt=!1}function sy(e){Tr===null?Tr=[e]:Tr.push(e)}var L2=Ss.ReactCurrentBatchConfig;function dl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var r=n.stateNode}if(!r)throw Error(Ee(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,e))}return e}function Lc(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tw(e){var t=e._init;return t(e._payload)}function Rk(e){function t(g,v){if(e){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=ui(g,v),g.index=0,g.sibling=null,g}function i(g,v,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,x,C){return v===null||v.tag!==6?(v=ep(x,g.mode,C),v.return=g,v):(v=s(v,x),v.return=g,v)}function l(g,v,x,C){var j=x.type;return j===Uo?c(g,v,x.props.children,C,x.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ms&&tw(j)===v.type)?(C=s(v,x.props),C.ref=dl(g,v,x),C.return=g,C):(C=hd(x.type,x.key,x.props,null,g.mode,C),C.ref=dl(g,v,x),C.return=g,C)}function u(g,v,x,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=tp(x,g.mode,C),v.return=g,v):(v=s(v,x.children||[]),v.return=g,v)}function c(g,v,x,C,j){return v===null||v.tag!==7?(v=io(x,g.mode,C,j),v.return=g,v):(v=s(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ep(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ec:return x=hd(v.type,v.key,v.props,null,g.mode,x),x.ref=dl(g,null,v),x.return=g,x;case Bo:return v=tp(v,g.mode,x),v.return=g,v;case Ms:var C=v._init;return h(g,C(v._payload),x)}if(_l(v)||ol(v))return v=io(v,g.mode,x,null),v.return=g,v;Lc(g,v)}return null}function f(g,v,x,C){var j=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:a(g,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ec:return x.key===j?l(g,v,x,C):null;case Bo:return x.key===j?u(g,v,x,C):null;case Ms:return j=x._init,f(g,v,j(x._payload),C)}if(_l(x)||ol(x))return j!==null?null:c(g,v,x,C,null);Lc(g,x)}return null}function p(g,v,x,C,j){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(x)||null,a(v,g,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ec:return g=g.get(C.key===null?x:C.key)||null,l(v,g,C,j);case Bo:return g=g.get(C.key===null?x:C.key)||null,u(v,g,C,j);case Ms:var I=C._init;return p(g,v,x,I(C._payload),j)}if(_l(C)||ol(C))return g=g.get(x)||null,c(v,g,C,j,null);Lc(v,C)}return null}function w(g,v,x,C){for(var j=null,I=null,A=v,D=v=0,$=null;A!==null&&D<x.length;D++){A.index>D?($=A,A=null):$=A.sibling;var B=f(g,A,x[D],C);if(B===null){A===null&&(A=$);break}e&&A&&B.alternate===null&&t(g,A),v=i(B,v,D),I===null?j=B:I.sibling=B,I=B,A=$}if(D===x.length)return n(g,A),bt&&Ii(g,D),j;if(A===null){for(;D<x.length;D++)A=h(g,x[D],C),A!==null&&(v=i(A,v,D),I===null?j=A:I.sibling=A,I=A);return bt&&Ii(g,D),j}for(A=r(g,A);D<x.length;D++)$=p(A,g,D,x[D],C),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?D:$.key),v=i($,v,D),I===null?j=$:I.sibling=$,I=$);return e&&A.forEach(function(ue){return t(g,ue)}),bt&&Ii(g,D),j}function y(g,v,x,C){var j=ol(x);if(typeof j!="function")throw Error(Ee(150));if(x=j.call(x),x==null)throw Error(Ee(151));for(var I=j=null,A=v,D=v=0,$=null,B=x.next();A!==null&&!B.done;D++,B=x.next()){A.index>D?($=A,A=null):$=A.sibling;var ue=f(g,A,B.value,C);if(ue===null){A===null&&(A=$);break}e&&A&&ue.alternate===null&&t(g,A),v=i(ue,v,D),I===null?j=ue:I.sibling=ue,I=ue,A=$}if(B.done)return n(g,A),bt&&Ii(g,D),j;if(A===null){for(;!B.done;D++,B=x.next())B=h(g,B.value,C),B!==null&&(v=i(B,v,D),I===null?j=B:I.sibling=B,I=B);return bt&&Ii(g,D),j}for(A=r(g,A);!B.done;D++,B=x.next())B=p(A,g,D,B.value,C),B!==null&&(e&&B.alternate!==null&&A.delete(B.key===null?D:B.key),v=i(B,v,D),I===null?j=B:I.sibling=B,I=B);return e&&A.forEach(function(N){return t(g,N)}),bt&&Ii(g,D),j}function b(g,v,x,C){if(typeof x=="object"&&x!==null&&x.type===Uo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ec:e:{for(var j=x.key,I=v;I!==null;){if(I.key===j){if(j=x.type,j===Uo){if(I.tag===7){n(g,I.sibling),v=s(I,x.props.children),v.return=g,g=v;break e}}else if(I.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ms&&tw(j)===I.type){n(g,I.sibling),v=s(I,x.props),v.ref=dl(g,I,x),v.return=g,g=v;break e}n(g,I);break}else t(g,I);I=I.sibling}x.type===Uo?(v=io(x.props.children,g.mode,C,x.key),v.return=g,g=v):(C=hd(x.type,x.key,x.props,null,g.mode,C),C.ref=dl(g,v,x),C.return=g,g=C)}return o(g);case Bo:e:{for(I=x.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(g,v.sibling),v=s(v,x.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=tp(x,g.mode,C),v.return=g,g=v}return o(g);case Ms:return I=x._init,b(g,v,I(x._payload),C)}if(_l(x))return w(g,v,x,C);if(ol(x))return y(g,v,x,C);Lc(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,x),v.return=g,g=v):(n(g,v),v=ep(x,g.mode,C),v.return=g,g=v),o(g)):n(g,v)}return b}var Ca=Rk(!0),jk=Rk(!1),Ld=yi(null),Md=null,Yo=null,iy=null;function oy(){iy=Yo=Md=null}function ay(e){var t=Ld.current;vt(Ld),e._currentValue=t}function dm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function aa(e,t){Md=e,iy=Yo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dn=!0),e.firstContext=null)}function mr(e){var t=e._currentValue;if(iy!==e)if(e={context:e,memoizedValue:t,next:null},Yo===null){if(Md===null)throw Error(Ee(308));Yo=e,Md.dependencies={lanes:0,firstContext:e}}else Yo=Yo.next=e;return t}var zi=null;function ly(e){zi===null?zi=[e]:zi.push(e)}function Ak(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ly(t)):(n.next=s.next,s.next=n),t.interleaved=n,ys(e,r)}function ys(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $s=!1;function uy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ok(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ys(e,n)}return s=r.interleaved,s===null?(t.next=t,ly(r)):(t.next=s.next,s.next=t),r.interleaved=t,ys(e,n)}function od(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gg(e,n)}}function nw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $d(e,t,n,r){var s=e.updateQueue;$s=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(f=t,p=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(p,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(p,h,f):w,f==null)break e;h=Pt({},h,f);break e;case 2:$s=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ho|=o,e.lanes=o,e.memoizedState=h}}function rw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Ee(191,s));s.call(r)}}}var Lu={},qr=yi(Lu),uu=yi(Lu),cu=yi(Lu);function Vi(e){if(e===Lu)throw Error(Ee(174));return e}function cy(e,t){switch(gt(cu,t),gt(uu,e),gt(qr,Lu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wp(t,e)}vt(qr),gt(qr,t)}function Ta(){vt(qr),vt(uu),vt(cu)}function Ik(e){Vi(cu.current);var t=Vi(qr.current),n=Wp(t,e.type);t!==n&&(gt(uu,e),gt(qr,n))}function dy(e){uu.current===e&&(vt(qr),vt(uu))}var St=yi(0);function Fd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gf=[];function hy(){for(var e=0;e<Gf.length;e++)Gf[e]._workInProgressVersionPrimary=null;Gf.length=0}var ad=Ss.ReactCurrentDispatcher,Yf=Ss.ReactCurrentBatchConfig,co=0,Tt=null,Vt=null,Xt=null,Bd=!1,Ml=!1,du=0,M2=0;function fn(){throw Error(Ee(321))}function fy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ar(e[n],t[n]))return!1;return!0}function py(e,t,n,r,s,i){if(co=i,Tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ad.current=e===null||e.memoizedState===null?U2:z2,e=n(r,s),Ml){i=0;do{if(Ml=!1,du=0,25<=i)throw Error(Ee(301));i+=1,Xt=Vt=null,t.updateQueue=null,ad.current=V2,e=n(r,s)}while(Ml)}if(ad.current=Ud,t=Vt!==null&&Vt.next!==null,co=0,Xt=Vt=Tt=null,Bd=!1,t)throw Error(Ee(300));return e}function my(){var e=du!==0;return du=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Tt.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function gr(){if(Vt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Vt.next;var t=Xt===null?Tt.memoizedState:Xt.next;if(t!==null)Xt=t,Vt=e;else{if(e===null)throw Error(Ee(310));Vt=e,e={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Xt===null?Tt.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function hu(e,t){return typeof t=="function"?t(e):t}function Qf(e){var t=gr(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=Vt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((co&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Tt.lanes|=c,ho|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Ar(r,t.memoizedState)||(Dn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Tt.lanes|=i,ho|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jf(e){var t=gr(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ar(i,t.memoizedState)||(Dn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Dk(){}function Nk(e,t){var n=Tt,r=gr(),s=t(),i=!Ar(r.memoizedState,s);if(i&&(r.memoizedState=s,Dn=!0),r=r.queue,gy($k.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,fu(9,Mk.bind(null,n,r,s,t),void 0,null),en===null)throw Error(Ee(349));co&30||Lk(n,t,s)}return s}function Lk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mk(e,t,n,r){t.value=n,t.getSnapshot=r,Fk(t)&&Bk(e)}function $k(e,t,n){return n(function(){Fk(t)&&Bk(e)})}function Fk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ar(e,n)}catch{return!0}}function Bk(e){var t=ys(e,1);t!==null&&jr(t,e,1,-1)}function sw(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:e},t.queue=e,e=e.dispatch=B2.bind(null,Tt,e),[t.memoizedState,e]}function fu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Uk(){return gr().memoizedState}function ld(e,t,n,r){var s=Fr();Tt.flags|=e,s.memoizedState=fu(1|t,n,void 0,r===void 0?null:r)}function yh(e,t,n,r){var s=gr();r=r===void 0?null:r;var i=void 0;if(Vt!==null){var o=Vt.memoizedState;if(i=o.destroy,r!==null&&fy(r,o.deps)){s.memoizedState=fu(t,n,i,r);return}}Tt.flags|=e,s.memoizedState=fu(1|t,n,i,r)}function iw(e,t){return ld(8390656,8,e,t)}function gy(e,t){return yh(2048,8,e,t)}function zk(e,t){return yh(4,2,e,t)}function Vk(e,t){return yh(4,4,e,t)}function Kk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wk(e,t,n){return n=n!=null?n.concat([e]):null,yh(4,4,Kk.bind(null,t,e),n)}function yy(){}function Hk(e,t){var n=gr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qk(e,t){var n=gr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gk(e,t,n){return co&21?(Ar(n,t)||(n=X_(),Tt.lanes|=n,ho|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dn=!0),e.memoizedState=n)}function $2(e,t){var n=ht;ht=n!==0&&4>n?n:4,e(!0);var r=Yf.transition;Yf.transition={};try{e(!1),t()}finally{ht=n,Yf.transition=r}}function Yk(){return gr().memoizedState}function F2(e,t,n){var r=li(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qk(e))Jk(t,n);else if(n=Ak(e,t,n,r),n!==null){var s=En();jr(n,e,r,s),Zk(n,t,r)}}function B2(e,t,n){var r=li(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qk(e))Jk(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ar(a,o)){var l=t.interleaved;l===null?(s.next=s,ly(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Ak(e,t,s,r),n!==null&&(s=En(),jr(n,e,r,s),Zk(n,t,r))}}function Qk(e){var t=e.alternate;return e===Tt||t!==null&&t===Tt}function Jk(e,t){Ml=Bd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gg(e,n)}}var Ud={readContext:mr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},U2={readContext:mr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:mr,useEffect:iw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ld(4194308,4,Kk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ld(4194308,4,e,t)},useInsertionEffect:function(e,t){return ld(4,2,e,t)},useMemo:function(e,t){var n=Fr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=F2.bind(null,Tt,e),[r.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:sw,useDebugValue:yy,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=sw(!1),t=e[0];return e=$2.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Tt,s=Fr();if(bt){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=t(),en===null)throw Error(Ee(349));co&30||Lk(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,iw($k.bind(null,r,i,e),[e]),r.flags|=2048,fu(9,Mk.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Fr(),t=en.identifierPrefix;if(bt){var n=ds,r=cs;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=du++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=M2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},z2={readContext:mr,useCallback:Hk,useContext:mr,useEffect:gy,useImperativeHandle:Wk,useInsertionEffect:zk,useLayoutEffect:Vk,useMemo:qk,useReducer:Qf,useRef:Uk,useState:function(){return Qf(hu)},useDebugValue:yy,useDeferredValue:function(e){var t=gr();return Gk(t,Vt.memoizedState,e)},useTransition:function(){var e=Qf(hu)[0],t=gr().memoizedState;return[e,t]},useMutableSource:Dk,useSyncExternalStore:Nk,useId:Yk,unstable_isNewReconciler:!1},V2={readContext:mr,useCallback:Hk,useContext:mr,useEffect:gy,useImperativeHandle:Wk,useInsertionEffect:zk,useLayoutEffect:Vk,useMemo:qk,useReducer:Jf,useRef:Uk,useState:function(){return Jf(hu)},useDebugValue:yy,useDeferredValue:function(e){var t=gr();return Vt===null?t.memoizedState=e:Gk(t,Vt.memoizedState,e)},useTransition:function(){var e=Jf(hu)[0],t=gr().memoizedState;return[e,t]},useMutableSource:Dk,useSyncExternalStore:Nk,useId:Yk,unstable_isNewReconciler:!1};function _r(e,t){if(e&&e.defaultProps){t=Pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vh={isMounted:function(e){return(e=e._reactInternals)?yo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=En(),s=li(e),i=hs(r,s);i.payload=t,n!=null&&(i.callback=n),t=oi(e,i,s),t!==null&&(jr(t,e,s,r),od(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=En(),s=li(e),i=hs(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=oi(e,i,s),t!==null&&(jr(t,e,s,r),od(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=En(),r=li(e),s=hs(n,r);s.tag=2,t!=null&&(s.callback=t),t=oi(e,s,r),t!==null&&(jr(t,e,r,n),od(t,e,r))}};function ow(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!iu(n,r)||!iu(s,i):!0}function Xk(e,t,n){var r=!1,s=fi,i=t.contextType;return typeof i=="object"&&i!==null?i=mr(i):(s=Mn(t)?lo:vn.current,r=t.contextTypes,i=(r=r!=null)?Sa(e,s):fi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function aw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vh.enqueueReplaceState(t,t.state,null)}function fm(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},uy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=mr(i):(i=Mn(t)?lo:vn.current,s.context=Sa(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hm(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&vh.enqueueReplaceState(s,s.state,null),$d(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Pa(e,t){try{var n="",r=t;do n+=yP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Zf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var K2=typeof WeakMap=="function"?WeakMap:Map;function eS(e,t,n){n=hs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vd||(Vd=!0,Sm=r),pm(e,t)},n}function tS(e,t,n){n=hs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){pm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){pm(e,t),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function lw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new K2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=sR.bind(null,e,t,n),t.then(e,e))}function uw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cw(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hs(-1,1),t.tag=2,oi(n,t,1))),n.lanes|=1),e)}var W2=Ss.ReactCurrentOwner,Dn=!1;function kn(e,t,n,r){t.child=e===null?jk(t,null,n,r):Ca(t,e.child,n,r)}function dw(e,t,n,r,s){n=n.render;var i=t.ref;return aa(t,s),r=py(e,t,n,r,i,s),n=my(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vs(e,t,s)):(bt&&n&&ny(t),t.flags|=1,kn(e,t,r,s),t.child)}function hw(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ey(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,nS(e,t,i,r,s)):(e=hd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:iu,n(o,r)&&e.ref===t.ref)return vs(e,t,s)}return t.flags|=1,e=ui(i,r),e.ref=t.ref,e.return=t,t.child=e}function nS(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(iu(i,r)&&e.ref===t.ref)if(Dn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Dn=!0);else return t.lanes=e.lanes,vs(e,t,s)}return mm(e,t,n,r,s)}function rS(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Jo,Kn),Kn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gt(Jo,Kn),Kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,gt(Jo,Kn),Kn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,gt(Jo,Kn),Kn|=r;return kn(e,t,s,n),t.child}function sS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mm(e,t,n,r,s){var i=Mn(n)?lo:vn.current;return i=Sa(t,i),aa(t,s),n=py(e,t,n,r,i,s),r=my(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vs(e,t,s)):(bt&&r&&ny(t),t.flags|=1,kn(e,t,n,s),t.child)}function fw(e,t,n,r,s){if(Mn(n)){var i=!0;Id(t)}else i=!1;if(aa(t,s),t.stateNode===null)ud(e,t),Xk(t,n,r),fm(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=Mn(n)?lo:vn.current,u=Sa(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&aw(t,o,r,u),$s=!1;var f=t.memoizedState;o.state=f,$d(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Ln.current||$s?(typeof c=="function"&&(hm(t,n,c,r),l=t.memoizedState),(a=$s||ow(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ok(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:_r(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=Mn(n)?lo:vn.current,l=Sa(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&aw(t,o,r,l),$s=!1,f=t.memoizedState,o.state=f,$d(t,r,o,s);var w=t.memoizedState;a!==h||f!==w||Ln.current||$s?(typeof p=="function"&&(hm(t,n,p,r),w=t.memoizedState),(u=$s||ow(t,n,u,r,f,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return gm(e,t,n,r,i,s)}function gm(e,t,n,r,s,i){sS(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Z0(t,n,!1),vs(e,t,i);r=t.stateNode,W2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ca(t,e.child,null,i),t.child=Ca(t,null,a,i)):kn(e,t,a,i),t.memoizedState=r.state,s&&Z0(t,n,!0),t.child}function iS(e){var t=e.stateNode;t.pendingContext?J0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&J0(e,t.context,!1),cy(e,t.containerInfo)}function pw(e,t,n,r,s){return Ea(),sy(s),t.flags|=256,kn(e,t,n,r),t.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function vm(e){return{baseLanes:e,cachePool:null,transitions:null}}function oS(e,t,n){var r=t.pendingProps,s=St.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),gt(St,s&1),e===null)return cm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xh(o,r,0,null),e=io(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vm(n),t.memoizedState=ym,e):vy(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return H2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ui(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ui(a,i):(i=io(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?vm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ym,r}return i=e.child,e=i.sibling,r=ui(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vy(e,t){return t=xh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mc(e,t,n,r){return r!==null&&sy(r),Ca(t,e.child,null,n),e=vy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function H2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Zf(Error(Ee(422))),Mc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=xh({mode:"visible",children:r.children},s,0,null),i=io(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ca(t,e.child,null,o),t.child.memoizedState=vm(o),t.memoizedState=ym,i);if(!(t.mode&1))return Mc(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Ee(419)),r=Zf(i,r,void 0),Mc(e,t,o,r)}if(a=(o&e.childLanes)!==0,Dn||a){if(r=en,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ys(e,s),jr(r,e,s,-1))}return Sy(),r=Zf(Error(Ee(421))),Mc(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=iR.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Hn=ii(s.nextSibling),qn=t,bt=!0,Tr=null,e!==null&&(lr[ur++]=cs,lr[ur++]=ds,lr[ur++]=uo,cs=e.id,ds=e.overflow,uo=t),t=vy(t,r.children),t.flags|=4096,t)}function mw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dm(e.return,t,n)}function Xf(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function aS(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(kn(e,t,r.children,n),r=St.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mw(e,n,t);else if(e.tag===19)mw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(gt(St,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Fd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xf(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xf(t,!0,n,null,i);break;case"together":Xf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ud(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ho|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,n=ui(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ui(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function q2(e,t,n){switch(t.tag){case 3:iS(t),Ea();break;case 5:Ik(t);break;case 1:Mn(t.type)&&Id(t);break;case 4:cy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;gt(Ld,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(gt(St,St.current&1),t.flags|=128,null):n&t.child.childLanes?oS(e,t,n):(gt(St,St.current&1),e=vs(e,t,n),e!==null?e.sibling:null);gt(St,St.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return aS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gt(St,St.current),r)break;return null;case 22:case 23:return t.lanes=0,rS(e,t,n)}return vs(e,t,n)}var lS,wm,uS,cS;lS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wm=function(){};uS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Vi(qr.current);var i=null;switch(n){case"input":s=Up(e,s),r=Up(e,r),i=[];break;case"select":s=Pt({},s,{value:void 0}),r=Pt({},r,{value:void 0}),i=[];break;case"textarea":s=Kp(e,s),r=Kp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ad)}Hp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yt("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};cS=function(e,t,n,r){n!==r&&(t.flags|=4)};function hl(e,t){if(!bt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function G2(e,t,n){var r=t.pendingProps;switch(ry(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(t),null;case 1:return Mn(t.type)&&Od(),pn(t),null;case 3:return r=t.stateNode,Ta(),vt(Ln),vt(vn),hy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Nc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tr!==null&&(Tm(Tr),Tr=null))),wm(e,t),pn(t),null;case 5:dy(t);var s=Vi(cu.current);if(n=t.type,e!==null&&t.stateNode!=null)uS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ee(166));return pn(t),null}if(e=Vi(qr.current),Nc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Kr]=t,r[lu]=i,e=(t.mode&1)!==0,n){case"dialog":yt("cancel",r),yt("close",r);break;case"iframe":case"object":case"embed":yt("load",r);break;case"video":case"audio":for(s=0;s<Sl.length;s++)yt(Sl[s],r);break;case"source":yt("error",r);break;case"img":case"image":case"link":yt("error",r),yt("load",r);break;case"details":yt("toggle",r);break;case"input":S0(r,i),yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},yt("invalid",r);break;case"textarea":C0(r,i),yt("invalid",r)}Hp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Dc(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Dc(r.textContent,a,e),s=["children",""+a]):Zl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&yt("scroll",r)}switch(n){case"input":Cc(r),E0(r,i,!0);break;case"textarea":Cc(r),T0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ad)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Kr]=t,e[lu]=r,lS(e,t,!1,!1),t.stateNode=e;e:{switch(o=qp(n,r),n){case"dialog":yt("cancel",e),yt("close",e),s=r;break;case"iframe":case"object":case"embed":yt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Sl.length;s++)yt(Sl[s],e);s=r;break;case"source":yt("error",e),s=r;break;case"img":case"image":case"link":yt("error",e),yt("load",e),s=r;break;case"details":yt("toggle",e),s=r;break;case"input":S0(e,r),s=Up(e,r),yt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Pt({},r,{value:void 0}),yt("invalid",e);break;case"textarea":C0(e,r),s=Kp(e,r),yt("invalid",e);break;default:s=r}Hp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?U_(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&F_(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xl(e,l):typeof l=="number"&&Xl(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&yt("scroll",e):l!=null&&zg(e,i,l,o))}switch(n){case"input":Cc(e),E0(e,r,!1);break;case"textarea":Cc(e),T0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hi(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ra(e,!!r.multiple,i,!1):r.defaultValue!=null&&ra(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pn(t),null;case 6:if(e&&t.stateNode!=null)cS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ee(166));if(n=Vi(cu.current),Vi(qr.current),Nc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,(i=r.nodeValue!==n)&&(e=qn,e!==null))switch(e.tag){case 3:Dc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kr]=t,t.stateNode=r}return pn(t),null;case 13:if(vt(St),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bt&&Hn!==null&&t.mode&1&&!(t.flags&128))Pk(),Ea(),t.flags|=98560,i=!1;else if(i=Nc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ee(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ee(317));i[Kr]=t}else Ea(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pn(t),i=!1}else Tr!==null&&(Tm(Tr),Tr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||St.current&1?Ht===0&&(Ht=3):Sy())),t.updateQueue!==null&&(t.flags|=4),pn(t),null);case 4:return Ta(),wm(e,t),e===null&&ou(t.stateNode.containerInfo),pn(t),null;case 10:return ay(t.type._context),pn(t),null;case 17:return Mn(t.type)&&Od(),pn(t),null;case 19:if(vt(St),i=t.memoizedState,i===null)return pn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)hl(i,!1);else{if(Ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Fd(e),o!==null){for(t.flags|=128,hl(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return gt(St,St.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nt()>Ra&&(t.flags|=128,r=!0,hl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Fd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!bt)return pn(t),null}else 2*Nt()-i.renderingStartTime>Ra&&n!==1073741824&&(t.flags|=128,r=!0,hl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nt(),t.sibling=null,n=St.current,gt(St,r?n&1|2:n&1),t):(pn(t),null);case 22:case 23:return ky(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Kn&1073741824&&(pn(t),t.subtreeFlags&6&&(t.flags|=8192)):pn(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function Y2(e,t){switch(ry(t),t.tag){case 1:return Mn(t.type)&&Od(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(),vt(Ln),vt(vn),hy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dy(t),null;case 13:if(vt(St),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));Ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vt(St),null;case 4:return Ta(),null;case 10:return ay(t.type._context),null;case 22:case 23:return ky(),null;case 24:return null;default:return null}}var $c=!1,mn=!1,Q2=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Qo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(e,t,r)}else n.current=null}function bm(e,t,n){try{n()}catch(r){At(e,t,r)}}var gw=!1;function J2(e,t){if(rm=Pd,e=mk(),ty(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++c===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(sm={focusedElem:e,selectionRange:n},Pd=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){t=Be;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:_r(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(C){At(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}return w=gw,gw=!1,w}function $l(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&bm(t,n,i)}s=s.next}while(s!==r)}}function wh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dS(e){var t=e.alternate;t!==null&&(e.alternate=null,dS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[lu],delete t[am],delete t[I2],delete t[D2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hS(e){return e.tag===5||e.tag===3||e.tag===4}function yw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _m(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ad));else if(r!==4&&(e=e.child,e!==null))for(_m(e,t,n),e=e.sibling;e!==null;)_m(e,t,n),e=e.sibling}function km(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(km(e,t,n),e=e.sibling;e!==null;)km(e,t,n),e=e.sibling}var tn=null,Er=!1;function Os(e,t,n){for(n=n.child;n!==null;)fS(e,t,n),n=n.sibling}function fS(e,t,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(dh,n)}catch{}switch(n.tag){case 5:mn||Qo(n,t);case 6:var r=tn,s=Er;tn=null,Os(e,t,n),tn=r,Er=s,tn!==null&&(Er?(e=tn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(Er?(e=tn,n=n.stateNode,e.nodeType===8?Hf(e.parentNode,n):e.nodeType===1&&Hf(e,n),ru(e)):Hf(tn,n.stateNode));break;case 4:r=tn,s=Er,tn=n.stateNode.containerInfo,Er=!0,Os(e,t,n),tn=r,Er=s;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bm(n,t,o),s=s.next}while(s!==r)}Os(e,t,n);break;case 1:if(!mn&&(Qo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,t,a)}Os(e,t,n);break;case 21:Os(e,t,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,Os(e,t,n),mn=r):Os(e,t,n);break;default:Os(e,t,n)}}function vw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Q2),t.forEach(function(r){var s=oR.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:tn=a.stateNode,Er=!1;break e;case 3:tn=a.stateNode.containerInfo,Er=!0;break e;case 4:tn=a.stateNode.containerInfo,Er=!0;break e}a=a.return}if(tn===null)throw Error(Ee(160));fS(i,o,s),tn=null,Er=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){At(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pS(t,e),t=t.sibling}function pS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vr(t,e),Mr(e),r&4){try{$l(3,e,e.return),wh(3,e)}catch(y){At(e,e.return,y)}try{$l(5,e,e.return)}catch(y){At(e,e.return,y)}}break;case 1:vr(t,e),Mr(e),r&512&&n!==null&&Qo(n,n.return);break;case 5:if(vr(t,e),Mr(e),r&512&&n!==null&&Qo(n,n.return),e.flags&32){var s=e.stateNode;try{Xl(s,"")}catch(y){At(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&L_(s,i),qp(a,o);var u=qp(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?U_(s,h):c==="dangerouslySetInnerHTML"?F_(s,h):c==="children"?Xl(s,h):zg(s,c,h,u)}switch(a){case"input":zp(s,i);break;case"textarea":M_(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ra(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ra(s,!!i.multiple,i.defaultValue,!0):ra(s,!!i.multiple,i.multiple?[]:"",!1))}s[lu]=i}catch(y){At(e,e.return,y)}}break;case 6:if(vr(t,e),Mr(e),r&4){if(e.stateNode===null)throw Error(Ee(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){At(e,e.return,y)}}break;case 3:if(vr(t,e),Mr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ru(t.containerInfo)}catch(y){At(e,e.return,y)}break;case 4:vr(t,e),Mr(e);break;case 13:vr(t,e),Mr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xy=Nt())),r&4&&vw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(mn=(u=mn)||c,vr(t,e),mn=u):vr(t,e),Mr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Be=e,c=e.child;c!==null;){for(h=Be=c;Be!==null;){switch(f=Be,p=f.child,f.tag){case 0:case 11:case 14:case 15:$l(4,f,f.return);break;case 1:Qo(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){At(r,n,y)}}break;case 5:Qo(f,f.return);break;case 22:if(f.memoizedState!==null){bw(h);continue}}p!==null?(p.return=f,Be=p):bw(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=B_("display",o))}catch(y){At(e,e.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){At(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vr(t,e),Mr(e),r&4&&vw(e);break;case 21:break;default:vr(t,e),Mr(e)}}function Mr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hS(n)){var r=n;break e}n=n.return}throw Error(Ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xl(s,""),r.flags&=-33);var i=yw(e);km(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yw(e);_m(e,a,o);break;default:throw Error(Ee(161))}}catch(l){At(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Z2(e,t,n){Be=e,mS(e)}function mS(e,t,n){for(var r=(e.mode&1)!==0;Be!==null;){var s=Be,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$c;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||mn;a=$c;var u=mn;if($c=o,(mn=l)&&!u)for(Be=s;Be!==null;)o=Be,l=o.child,o.tag===22&&o.memoizedState!==null?xw(s):l!==null?(l.return=o,Be=l):xw(s);for(;i!==null;)Be=i,mS(i),i=i.sibling;Be=s,$c=a,mn=u}ww(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Be=i):ww(e)}}function ww(e){for(;Be!==null;){var t=Be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mn||wh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!mn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:_r(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rw(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ru(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}mn||t.flags&512&&xm(t)}catch(f){At(t,t.return,f)}}if(t===e){Be=null;break}if(n=t.sibling,n!==null){n.return=t.return,Be=n;break}Be=t.return}}function bw(e){for(;Be!==null;){var t=Be;if(t===e){Be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Be=n;break}Be=t.return}}function xw(e){for(;Be!==null;){var t=Be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wh(4,t)}catch(l){At(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){At(t,s,l)}}var i=t.return;try{xm(t)}catch(l){At(t,i,l)}break;case 5:var o=t.return;try{xm(t)}catch(l){At(t,o,l)}}}catch(l){At(t,t.return,l)}if(t===e){Be=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Be=a;break}Be=t.return}}var X2=Math.ceil,zd=Ss.ReactCurrentDispatcher,wy=Ss.ReactCurrentOwner,fr=Ss.ReactCurrentBatchConfig,at=0,en=null,Bt=null,sn=0,Kn=0,Jo=yi(0),Ht=0,pu=null,ho=0,bh=0,by=0,Fl=null,On=null,xy=0,Ra=1/0,ss=null,Vd=!1,Sm=null,ai=null,Fc=!1,Xs=null,Kd=0,Bl=0,Em=null,cd=-1,dd=0;function En(){return at&6?Nt():cd!==-1?cd:cd=Nt()}function li(e){return e.mode&1?at&2&&sn!==0?sn&-sn:L2.transition!==null?(dd===0&&(dd=X_()),dd):(e=ht,e!==0||(e=window.event,e=e===void 0?16:ok(e.type)),e):1}function jr(e,t,n,r){if(50<Bl)throw Bl=0,Em=null,Error(Ee(185));Iu(e,n,r),(!(at&2)||e!==en)&&(e===en&&(!(at&2)&&(bh|=n),Ht===4&&Bs(e,sn)),$n(e,r),n===1&&at===0&&!(t.mode&1)&&(Ra=Nt()+500,gh&&vi()))}function $n(e,t){var n=e.callbackNode;LP(e,t);var r=Td(e,e===en?sn:0);if(r===0)n!==null&&j0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&j0(n),t===1)e.tag===0?N2(_w.bind(null,e)):Ek(_w.bind(null,e)),A2(function(){!(at&6)&&vi()}),n=null;else{switch(ek(r)){case 1:n=qg;break;case 4:n=J_;break;case 16:n=Cd;break;case 536870912:n=Z_;break;default:n=Cd}n=kS(n,gS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gS(e,t){if(cd=-1,dd=0,at&6)throw Error(Ee(327));var n=e.callbackNode;if(la()&&e.callbackNode!==n)return null;var r=Td(e,e===en?sn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wd(e,r);else{t=r;var s=at;at|=2;var i=vS();(en!==e||sn!==t)&&(ss=null,Ra=Nt()+500,so(e,t));do try{nR();break}catch(a){yS(e,a)}while(!0);oy(),zd.current=i,at=s,Bt!==null?t=0:(en=null,sn=0,t=Ht)}if(t!==0){if(t===2&&(s=Zp(e),s!==0&&(r=s,t=Cm(e,s))),t===1)throw n=pu,so(e,0),Bs(e,r),$n(e,Nt()),n;if(t===6)Bs(e,r);else{if(s=e.current.alternate,!(r&30)&&!eR(s)&&(t=Wd(e,r),t===2&&(i=Zp(e),i!==0&&(r=i,t=Cm(e,i))),t===1))throw n=pu,so(e,0),Bs(e,r),$n(e,Nt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Ee(345));case 2:Di(e,On,ss);break;case 3:if(Bs(e,r),(r&130023424)===r&&(t=xy+500-Nt(),10<t)){if(Td(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){En(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=om(Di.bind(null,e,On,ss),t);break}Di(e,On,ss);break;case 4:if(Bs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Rr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*X2(r/1960))-r,10<r){e.timeoutHandle=om(Di.bind(null,e,On,ss),r);break}Di(e,On,ss);break;case 5:Di(e,On,ss);break;default:throw Error(Ee(329))}}}return $n(e,Nt()),e.callbackNode===n?gS.bind(null,e):null}function Cm(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(so(e,t).flags|=256),e=Wd(e,t),e!==2&&(t=On,On=n,t!==null&&Tm(t)),e}function Tm(e){On===null?On=e:On.push.apply(On,e)}function eR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ar(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bs(e,t){for(t&=~by,t&=~bh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rr(t),r=1<<n;e[n]=-1,t&=~r}}function _w(e){if(at&6)throw Error(Ee(327));la();var t=Td(e,0);if(!(t&1))return $n(e,Nt()),null;var n=Wd(e,t);if(e.tag!==0&&n===2){var r=Zp(e);r!==0&&(t=r,n=Cm(e,r))}if(n===1)throw n=pu,so(e,0),Bs(e,t),$n(e,Nt()),n;if(n===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Di(e,On,ss),$n(e,Nt()),null}function _y(e,t){var n=at;at|=1;try{return e(t)}finally{at=n,at===0&&(Ra=Nt()+500,gh&&vi())}}function fo(e){Xs!==null&&Xs.tag===0&&!(at&6)&&la();var t=at;at|=1;var n=fr.transition,r=ht;try{if(fr.transition=null,ht=1,e)return e()}finally{ht=r,fr.transition=n,at=t,!(at&6)&&vi()}}function ky(){Kn=Jo.current,vt(Jo)}function so(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,j2(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(ry(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Od();break;case 3:Ta(),vt(Ln),vt(vn),hy();break;case 5:dy(r);break;case 4:Ta();break;case 13:vt(St);break;case 19:vt(St);break;case 10:ay(r.type._context);break;case 22:case 23:ky()}n=n.return}if(en=e,Bt=e=ui(e.current,null),sn=Kn=t,Ht=0,pu=null,by=bh=ho=0,On=Fl=null,zi!==null){for(t=0;t<zi.length;t++)if(n=zi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}zi=null}return e}function yS(e,t){do{var n=Bt;try{if(oy(),ad.current=Ud,Bd){for(var r=Tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bd=!1}if(co=0,Xt=Vt=Tt=null,Ml=!1,du=0,wy.current=null,n===null||n.return===null){Ht=1,pu=t,Bt=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=uw(o);if(p!==null){p.flags&=-257,cw(p,o,a,i,t),p.mode&1&&lw(i,u,t),t=p,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){lw(i,u,t),Sy();break e}l=Error(Ee(426))}}else if(bt&&a.mode&1){var b=uw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),cw(b,o,a,i,t),sy(Pa(l,a));break e}}i=l=Pa(l,a),Ht!==4&&(Ht=2),Fl===null?Fl=[i]:Fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=eS(i,l,t);nw(i,g);break e;case 1:a=l;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ai===null||!ai.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=tS(i,a,t);nw(i,C);break e}}i=i.return}while(i!==null)}bS(n)}catch(j){t=j,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function vS(){var e=zd.current;return zd.current=Ud,e===null?Ud:e}function Sy(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),en===null||!(ho&268435455)&&!(bh&268435455)||Bs(en,sn)}function Wd(e,t){var n=at;at|=2;var r=vS();(en!==e||sn!==t)&&(ss=null,so(e,t));do try{tR();break}catch(s){yS(e,s)}while(!0);if(oy(),at=n,zd.current=r,Bt!==null)throw Error(Ee(261));return en=null,sn=0,Ht}function tR(){for(;Bt!==null;)wS(Bt)}function nR(){for(;Bt!==null&&!TP();)wS(Bt)}function wS(e){var t=_S(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?bS(e):Bt=t,wy.current=null}function bS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Y2(n,t),n!==null){n.flags&=32767,Bt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ht=6,Bt=null;return}}else if(n=G2(n,t,Kn),n!==null){Bt=n;return}if(t=t.sibling,t!==null){Bt=t;return}Bt=t=e}while(t!==null);Ht===0&&(Ht=5)}function Di(e,t,n){var r=ht,s=fr.transition;try{fr.transition=null,ht=1,rR(e,t,n,r)}finally{fr.transition=s,ht=r}return null}function rR(e,t,n,r){do la();while(Xs!==null);if(at&6)throw Error(Ee(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(MP(e,i),e===en&&(Bt=en=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fc||(Fc=!0,kS(Cd,function(){return la(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fr.transition,fr.transition=null;var o=ht;ht=1;var a=at;at|=4,wy.current=null,J2(e,n),pS(n,e),k2(sm),Pd=!!rm,sm=rm=null,e.current=n,Z2(n),PP(),at=a,ht=o,fr.transition=i}else e.current=n;if(Fc&&(Fc=!1,Xs=e,Kd=s),i=e.pendingLanes,i===0&&(ai=null),AP(n.stateNode),$n(e,Nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vd)throw Vd=!1,e=Sm,Sm=null,e;return Kd&1&&e.tag!==0&&la(),i=e.pendingLanes,i&1?e===Em?Bl++:(Bl=0,Em=e):Bl=0,vi(),null}function la(){if(Xs!==null){var e=ek(Kd),t=fr.transition,n=ht;try{if(fr.transition=null,ht=16>e?16:e,Xs===null)var r=!1;else{if(e=Xs,Xs=null,Kd=0,at&6)throw Error(Ee(331));var s=at;for(at|=4,Be=e.current;Be!==null;){var i=Be,o=i.child;if(Be.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Be=u;Be!==null;){var c=Be;switch(c.tag){case 0:case 11:case 15:$l(8,c,i)}var h=c.child;if(h!==null)h.return=c,Be=h;else for(;Be!==null;){c=Be;var f=c.sibling,p=c.return;if(dS(c),c===u){Be=null;break}if(f!==null){f.return=p,Be=f;break}Be=p}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Be=o;else e:for(;Be!==null;){if(i=Be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$l(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Be=g;break e}Be=i.return}}var v=e.current;for(Be=v;Be!==null;){o=Be;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Be=x;else e:for(o=v;Be!==null;){if(a=Be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wh(9,a)}}catch(j){At(a,a.return,j)}if(a===o){Be=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Be=C;break e}Be=a.return}}if(at=s,vi(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(dh,e)}catch{}r=!0}return r}finally{ht=n,fr.transition=t}}return!1}function kw(e,t,n){t=Pa(n,t),t=eS(e,t,1),e=oi(e,t,1),t=En(),e!==null&&(Iu(e,1,t),$n(e,t))}function At(e,t,n){if(e.tag===3)kw(e,e,n);else for(;t!==null;){if(t.tag===3){kw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){e=Pa(n,e),e=tS(t,e,1),t=oi(t,e,1),e=En(),t!==null&&(Iu(t,1,e),$n(t,e));break}}t=t.return}}function sR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=En(),e.pingedLanes|=e.suspendedLanes&n,en===e&&(sn&n)===n&&(Ht===4||Ht===3&&(sn&130023424)===sn&&500>Nt()-xy?so(e,0):by|=n),$n(e,t)}function xS(e,t){t===0&&(e.mode&1?(t=Rc,Rc<<=1,!(Rc&130023424)&&(Rc=4194304)):t=1);var n=En();e=ys(e,t),e!==null&&(Iu(e,t,n),$n(e,n))}function iR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xS(e,n)}function oR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ee(314))}r!==null&&r.delete(t),xS(e,n)}var _S;_S=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ln.current)Dn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dn=!1,q2(e,t,n);Dn=!!(e.flags&131072)}else Dn=!1,bt&&t.flags&1048576&&Ck(t,Nd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ud(e,t),e=t.pendingProps;var s=Sa(t,vn.current);aa(t,n),s=py(null,t,r,e,s,n);var i=my();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mn(r)?(i=!0,Id(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uy(t),s.updater=vh,t.stateNode=s,s._reactInternals=t,fm(t,r,e,n),t=gm(null,t,r,!0,i,n)):(t.tag=0,bt&&i&&ny(t),kn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ud(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=lR(r),e=_r(r,e),s){case 0:t=mm(null,t,r,e,n);break e;case 1:t=fw(null,t,r,e,n);break e;case 11:t=dw(null,t,r,e,n);break e;case 14:t=hw(null,t,r,_r(r.type,e),n);break e}throw Error(Ee(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_r(r,s),mm(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_r(r,s),fw(e,t,r,s,n);case 3:e:{if(iS(t),e===null)throw Error(Ee(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Ok(e,t),$d(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Pa(Error(Ee(423)),t),t=pw(e,t,r,n,s);break e}else if(r!==s){s=Pa(Error(Ee(424)),t),t=pw(e,t,r,n,s);break e}else for(Hn=ii(t.stateNode.containerInfo.firstChild),qn=t,bt=!0,Tr=null,n=jk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ea(),r===s){t=vs(e,t,n);break e}kn(e,t,r,n)}t=t.child}return t;case 5:return Ik(t),e===null&&cm(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,im(r,s)?o=null:i!==null&&im(r,i)&&(t.flags|=32),sS(e,t),kn(e,t,o,n),t.child;case 6:return e===null&&cm(t),null;case 13:return oS(e,t,n);case 4:return cy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ca(t,null,r,n):kn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_r(r,s),dw(e,t,r,s,n);case 7:return kn(e,t,t.pendingProps,n),t.child;case 8:return kn(e,t,t.pendingProps.children,n),t.child;case 12:return kn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,gt(Ld,r._currentValue),r._currentValue=o,i!==null)if(Ar(i.value,o)){if(i.children===s.children&&!Ln.current){t=vs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=hs(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),dm(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dm(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,aa(t,n),s=mr(s),r=r(s),t.flags|=1,kn(e,t,r,n),t.child;case 14:return r=t.type,s=_r(r,t.pendingProps),s=_r(r.type,s),hw(e,t,r,s,n);case 15:return nS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_r(r,s),ud(e,t),t.tag=1,Mn(r)?(e=!0,Id(t)):e=!1,aa(t,n),Xk(t,r,s),fm(t,r,s,n),gm(null,t,r,!0,e,n);case 19:return aS(e,t,n);case 22:return rS(e,t,n)}throw Error(Ee(156,t.tag))};function kS(e,t){return Q_(e,t)}function aR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,n,r){return new aR(e,t,n,r)}function Ey(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lR(e){if(typeof e=="function")return Ey(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kg)return 11;if(e===Wg)return 14}return 2}function ui(e,t){var n=e.alternate;return n===null?(n=dr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hd(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ey(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Uo:return io(n.children,s,i,t);case Vg:o=8,s|=8;break;case Mp:return e=dr(12,n,t,s|2),e.elementType=Mp,e.lanes=i,e;case $p:return e=dr(13,n,t,s),e.elementType=$p,e.lanes=i,e;case Fp:return e=dr(19,n,t,s),e.elementType=Fp,e.lanes=i,e;case I_:return xh(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A_:o=10;break e;case O_:o=9;break e;case Kg:o=11;break e;case Wg:o=14;break e;case Ms:o=16,r=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=dr(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function io(e,t,n,r){return e=dr(7,e,r,t),e.lanes=n,e}function xh(e,t,n,r){return e=dr(22,e,r,t),e.elementType=I_,e.lanes=n,e.stateNode={isHidden:!1},e}function ep(e,t,n){return e=dr(6,e,null,t),e.lanes=n,e}function tp(e,t,n){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uR(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nf(0),this.expirationTimes=Nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cy(e,t,n,r,s,i,o,a,l){return e=new uR(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=dr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uy(i),e}function cR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function SS(e){if(!e)return fi;e=e._reactInternals;e:{if(yo(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var n=e.type;if(Mn(n))return Sk(e,n,t)}return t}function ES(e,t,n,r,s,i,o,a,l){return e=Cy(n,r,!0,e,s,i,o,a,l),e.context=SS(null),n=e.current,r=En(),s=li(n),i=hs(r,s),i.callback=t??null,oi(n,i,s),e.current.lanes=s,Iu(e,s,r),$n(e,r),e}function _h(e,t,n,r){var s=t.current,i=En(),o=li(s);return n=SS(n),t.context===null?t.context=n:t.pendingContext=n,t=hs(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=oi(s,t,o),e!==null&&(jr(e,s,o,i),od(e,s,o)),o}function Hd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ty(e,t){Sw(e,t),(e=e.alternate)&&Sw(e,t)}function dR(){return null}var CS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Py(e){this._internalRoot=e}kh.prototype.render=Py.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));_h(e,t,null,null)};kh.prototype.unmount=Py.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fo(function(){_h(null,e,null,null)}),t[gs]=null}};function kh(e){this._internalRoot=e}kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=rk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fs.length&&t!==0&&t<Fs[n].priority;n++);Fs.splice(n,0,e),n===0&&ik(e)}};function Ry(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ew(){}function hR(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Hd(o);i.call(u)}}var o=ES(t,r,e,0,null,!1,!1,"",Ew);return e._reactRootContainer=o,e[gs]=o.current,ou(e.nodeType===8?e.parentNode:e),fo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Hd(l);a.call(u)}}var l=Cy(e,0,!1,null,null,!1,!1,"",Ew);return e._reactRootContainer=l,e[gs]=l.current,ou(e.nodeType===8?e.parentNode:e),fo(function(){_h(t,l,n,r)}),l}function Eh(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Hd(o);a.call(l)}}_h(t,o,e,s)}else o=hR(n,t,e,s,r);return Hd(o)}tk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kl(t.pendingLanes);n!==0&&(Gg(t,n|1),$n(t,Nt()),!(at&6)&&(Ra=Nt()+500,vi()))}break;case 13:fo(function(){var r=ys(e,1);if(r!==null){var s=En();jr(r,e,1,s)}}),Ty(e,1)}};Yg=function(e){if(e.tag===13){var t=ys(e,134217728);if(t!==null){var n=En();jr(t,e,134217728,n)}Ty(e,134217728)}};nk=function(e){if(e.tag===13){var t=li(e),n=ys(e,t);if(n!==null){var r=En();jr(n,e,t,r)}Ty(e,t)}};rk=function(){return ht};sk=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}};Yp=function(e,t,n){switch(t){case"input":if(zp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=mh(r);if(!s)throw Error(Ee(90));N_(r),zp(r,s)}}}break;case"textarea":M_(e,n);break;case"select":t=n.value,t!=null&&ra(e,!!n.multiple,t,!1)}};K_=_y;W_=fo;var fR={usingClientEntryPoint:!1,Events:[Nu,Wo,mh,z_,V_,_y]},fl={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pR={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=G_(e),e===null?null:e.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||dR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{dh=Bc.inject(pR),Hr=Bc}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fR;Qn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ry(t))throw Error(Ee(200));return cR(e,t,null,n)};Qn.createRoot=function(e,t){if(!Ry(e))throw Error(Ee(299));var n=!1,r="",s=CS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cy(e,1,!1,null,null,n,!1,r,s),e[gs]=t.current,ou(e.nodeType===8?e.parentNode:e),new Py(t)};Qn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=G_(t),e=e===null?null:e.stateNode,e};Qn.flushSync=function(e){return fo(e)};Qn.hydrate=function(e,t,n){if(!Sh(t))throw Error(Ee(200));return Eh(null,e,t,!0,n)};Qn.hydrateRoot=function(e,t,n){if(!Ry(e))throw Error(Ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=CS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ES(t,null,e,1,n??null,s,!1,i,o),e[gs]=t.current,ou(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new kh(t)};Qn.render=function(e,t,n){if(!Sh(t))throw Error(Ee(200));return Eh(null,e,t,!1,n)};Qn.unmountComponentAtNode=function(e){if(!Sh(e))throw Error(Ee(40));return e._reactRootContainer?(fo(function(){Eh(null,null,e,!1,function(){e._reactRootContainer=null,e[gs]=null})}),!0):!1};Qn.unstable_batchedUpdates=_y;Qn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sh(n))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return Eh(e,t,n,!1,r)};Qn.version="18.3.1-next-f1338f8080-20240426";function TS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TS)}catch(e){console.error(e)}}TS(),T_.exports=Qn;var jy=T_.exports;const mR=Au(jy);var Cw=jy;Np.createRoot=Cw.createRoot,Np.hydrateRoot=Cw.hydrateRoot;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tw="popstate";function gR(e={}){function t(s,i){let{pathname:o="/",search:a="",hash:l=""}=vo(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Pm("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:mu(i))}function r(s,i){Yn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return vR(t,n,r,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yR(){return Math.random().toString(36).substring(2,10)}function Pw(e,t){return{usr:e.state,key:e.key,idx:t}}function Pm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vo(t):t,state:n,key:t&&t.key||r||yR()}}function mu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function vR(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function h(){a="POP";let b=c(),g=b==null?null:b-u;u=b,l&&l({action:a,location:y.location,delta:g})}function f(b,g){a="PUSH";let v=Pm(y.location,b,g);n&&n(v,b),u=c()+1;let x=Pw(v,u),C=y.createHref(v);try{o.pushState(x,"",C)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(C)}i&&l&&l({action:a,location:y.location,delta:1})}function p(b,g){a="REPLACE";let v=Pm(y.location,b,g);n&&n(v,b),u=c();let x=Pw(v,u),C=y.createHref(v);o.replaceState(x,"",C),i&&l&&l({action:a,location:y.location,delta:0})}function w(b){return wR(b)}let y={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Tw,h),l=b,()=>{s.removeEventListener(Tw,h),l=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return o.go(b)}};return y}function wR(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:mu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function PS(e,t,n="/"){return bR(e,t,n,!1)}function bR(e,t,n,r){let s=typeof t=="string"?vo(t):t,i=ws(s.pathname||"/",n);if(i==null)return null;let o=RS(e);xR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=OR(i);a=jR(o[l],u,r)}return a}function RS(e,t=[],n=[],r="",s=!1){let i=(o,a,l=s,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;_t(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let h=fs([r,c.relativePath]),f=n.concat(c);o.children&&o.children.length>0&&(_t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),RS(o.children,t,f,h,l)),!(o.path==null&&!o.index)&&t.push({path:h,score:PR(h,o.index),routesMeta:f})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of jS(o.path))i(o,a,!0,u)}),t}function jS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=jS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function xR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:RR(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _R=/^:[\w-]+$/,kR=3,SR=2,ER=1,CR=10,TR=-2,Rw=e=>e==="*";function PR(e,t){let n=e.split("/"),r=n.length;return n.some(Rw)&&(r+=TR),t&&(r+=SR),n.filter(s=>!Rw(s)).reduce((s,i)=>s+(_R.test(i)?kR:i===""?ER:CR),r)}function RR(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function jR(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",h=qd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=qd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:fs([i,h.pathname]),pathnameBase:LR(fs([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=fs([i,h.pathnameBase]))}return o}function qd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=AR(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:h},f)=>{if(c==="*"){let w=a[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function AR(e,t=!1,n=!0){Yn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function OR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ws(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function IR(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?vo(e):e;return{pathname:n?n.startsWith("/")?n:DR(n,t):t,search:MR(r),hash:$R(s)}}function DR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function np(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ay(e){let t=NR(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Oy(e,t,n,r=!1){let s;typeof e=="string"?s=vo(e):(s={...e},_t(!s.pathname||!s.pathname.includes("?"),np("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),np("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),np("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=IR(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var fs=e=>e.join("/").replace(/\/\/+/g,"/"),LR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$R=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var AS=["POST","PUT","PATCH","DELETE"];new Set(AS);var BR=["GET",...AS];new Set(BR);var $a=S.createContext(null);$a.displayName="DataRouter";var Ch=S.createContext(null);Ch.displayName="DataRouterState";S.createContext(!1);var OS=S.createContext({isTransitioning:!1});OS.displayName="ViewTransition";var UR=S.createContext(new Map);UR.displayName="Fetchers";var zR=S.createContext(null);zR.displayName="Await";var Or=S.createContext(null);Or.displayName="Navigation";var Mu=S.createContext(null);Mu.displayName="Location";var Ir=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var Iy=S.createContext(null);Iy.displayName="RouteError";function VR(e,{relative:t}={}){_t(Fa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Or),{hash:s,pathname:i,search:o}=$u(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:fs([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Fa(){return S.useContext(Mu)!=null}function Zn(){return _t(Fa(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Mu).location}var IS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DS(e){S.useContext(Or).static||S.useLayoutEffect(e)}function Xn(){let{isDataRoute:e}=S.useContext(Ir);return e?nj():KR()}function KR(){_t(Fa(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext($a),{basename:t,navigator:n}=S.useContext(Or),{matches:r}=S.useContext(Ir),{pathname:s}=Zn(),i=JSON.stringify(Ay(r)),o=S.useRef(!1);return DS(()=>{o.current=!0}),S.useCallback((l,u={})=>{if(Yn(o.current,IS),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Oy(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:fs([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,i,s,e])}S.createContext(null);function Ba(){let{matches:e}=S.useContext(Ir),t=e[e.length-1];return t?t.params:{}}function $u(e,{relative:t}={}){let{matches:n}=S.useContext(Ir),{pathname:r}=Zn(),s=JSON.stringify(Ay(n));return S.useMemo(()=>Oy(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function WR(e,t){return NS(e,t)}function NS(e,t,n,r,s){var v;_t(Fa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Or),{matches:o}=S.useContext(Ir),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",h=a&&a.route;{let x=h&&h.path||"";LS(u,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=Zn(),p;if(t){let x=typeof t=="string"?vo(t):t;_t(c==="/"||((v=x.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=f;let w=p.pathname||"/",y=w;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=PS(e,{pathname:y});Yn(h||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Yn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=QR(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:fs([c,i.encodeLocation?i.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:fs([c,i.encodeLocation?i.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),o,n,r,s);return t&&g?S.createElement(Mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},g):g}function HR(){let e=tj(),t=FR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,o)}var qR=S.createElement(HR,null),GR=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(Ir.Provider,{value:this.props.routeContext},S.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YR({routeContext:e,match:t,children:n}){let r=S.useContext($a);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Ir.Provider,{value:e},n)}function QR(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);_t(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:h,errors:f}=n,p=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||p){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,h)=>{let f,p=!1,w=null,y=null;n&&(f=o&&c.route.id?o[c.route.id]:void 0,w=c.route.errorElement||qR,a&&(l<0&&h===0?(LS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):l===h&&(p=!0,y=c.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,h+1)),g=()=>{let v;return f?v=w:p?v=y:c.route.Component?v=S.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=u,S.createElement(YR,{match:c,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?S.createElement(GR,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):g()},null)}function Dy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JR(e){let t=S.useContext($a);return _t(t,Dy(e)),t}function ZR(e){let t=S.useContext(Ch);return _t(t,Dy(e)),t}function XR(e){let t=S.useContext(Ir);return _t(t,Dy(e)),t}function Ny(e){let t=XR(e),n=t.matches[t.matches.length-1];return _t(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ej(){return Ny("useRouteId")}function tj(){var r;let e=S.useContext(Iy),t=ZR("useRouteError"),n=Ny("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function nj(){let{router:e}=JR("useNavigate"),t=Ny("useNavigate"),n=S.useRef(!1);return DS(()=>{n.current=!0}),S.useCallback(async(s,i={})=>{Yn(n.current,IS),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var jw={};function LS(e,t,n){!t&&!jw[e]&&(jw[e]=!0,Yn(!1,n))}S.memo(rj);function rj({routes:e,future:t,state:n,unstable_onError:r}){return NS(e,void 0,n,r,t)}function MS({to:e,replace:t,state:n,relative:r}){_t(Fa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(Or);Yn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(Ir),{pathname:o}=Zn(),a=Xn(),l=Oy(e,Ay(i),o,r==="path"),u=JSON.stringify(l);return S.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function Qt(e){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sj({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){_t(!Fa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=vo(n));let{pathname:l="/",search:u="",hash:c="",state:h=null,key:f="default"}=n,p=S.useMemo(()=>{let w=ws(l,o);return w==null?null:{location:{pathname:w,search:u,hash:c,state:h,key:f},navigationType:r}},[o,l,u,c,h,f,r]);return Yn(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:S.createElement(Or.Provider,{value:a},S.createElement(Mu.Provider,{children:t,value:p}))}function ij({children:e,location:t}){return WR(Rm(e),t)}function Rm(e,t=[]){let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let i=[...t,s];if(r.type===S.Fragment){n.push.apply(n,Rm(r.props.children,i));return}_t(r.type===Qt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Rm(r.props.children,i)),n.push(o)}),n}var fd="get",pd="application/x-www-form-urlencoded";function Th(e){return e!=null&&typeof e.tagName=="string"}function oj(e){return Th(e)&&e.tagName.toLowerCase()==="button"}function aj(e){return Th(e)&&e.tagName.toLowerCase()==="form"}function lj(e){return Th(e)&&e.tagName.toLowerCase()==="input"}function uj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cj(e,t){return e.button===0&&(!t||t==="_self")&&!uj(e)}function jm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function dj(e,t){let n=jm(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Uc=null;function hj(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var fj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rp(e){return e!=null&&!fj.has(e)?(Yn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):e}function pj(e,t){let n,r,s,i,o;if(aj(e)){let a=e.getAttribute("action");r=a?ws(a,t):null,n=e.getAttribute("method")||fd,s=rp(e.getAttribute("enctype"))||pd,i=new FormData(e)}else if(oj(e)||lj(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?ws(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||fd,s=rp(e.getAttribute("formenctype"))||rp(a.getAttribute("enctype"))||pd,i=new FormData(a,e),!hj()){let{name:u,type:c,value:h}=e;if(c==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(Th(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fd,r=null,s=pd,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ly(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mj(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ws(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function gj(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function vj(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await gj(i,n);return o.links?o.links():[]}return[]}));return _j(r.flat(1).filter(yj).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Aw(e,t,n,r,s,i){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?t.filter((l,u)=>{var h;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function wj(e,t,{includeHydrateFallback:n}={}){return bj(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function bj(e){return[...new Set(e)]}function xj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function _j(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(xj(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function $S(){let e=S.useContext($a);return Ly(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function kj(){let e=S.useContext(Ch);return Ly(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var My=S.createContext(void 0);My.displayName="FrameworkContext";function FS(){let e=S.useContext(My);return Ly(e,"You must render this element inside a <HydratedRouter> element"),e}function Sj(e,t){let n=S.useContext(My),[r,s]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:h}=t,f=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=g=>{g.forEach(v=>{o(v.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),S.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{s(!0)},w=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,f,{}]:[i,f,{onFocus:pl(a,p),onBlur:pl(l,w),onMouseEnter:pl(u,p),onMouseLeave:pl(c,w),onTouchStart:pl(h,p)}]:[!1,f,{}]}function pl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ej({page:e,...t}){let{router:n}=$S(),r=S.useMemo(()=>PS(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(Tj,{page:e,matches:r,...t}):null}function Cj(e){let{manifest:t,routeModules:n}=FS(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return vj(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function Tj({page:e,matches:t,...n}){let r=Zn(),{manifest:s,routeModules:i}=FS(),{basename:o}=$S(),{loaderData:a,matches:l}=kj(),u=S.useMemo(()=>Aw(e,t,l,s,r,"data"),[e,t,l,s,r]),c=S.useMemo(()=>Aw(e,t,l,s,r,"assets"),[e,t,l,s,r]),h=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,y=!1;if(t.forEach(g=>{var x;let v=s.routes[g.route.id];!v||!v.hasLoader||(!u.some(C=>C.route.id===g.route.id)&&g.route.id in a&&((x=i[g.route.id])!=null&&x.shouldRevalidate)||v.hasClientLoader?y=!0:w.add(g.route.id))}),w.size===0)return[];let b=mj(e,o,"data");return y&&w.size>0&&b.searchParams.set("_routes",t.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[b.pathname+b.search]},[o,a,r,s,u,t,e,i]),f=S.useMemo(()=>wj(c,s),[c,s]),p=Cj(c);return S.createElement(S.Fragment,null,h.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),f.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),p.map(({key:w,link:y})=>S.createElement("link",{key:w,nonce:n.nonce,...y})))}function Pj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var BS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BS&&(window.__reactRouterVersion="7.9.3")}catch{}function Rj({basename:e,children:t,window:n}){let r=S.useRef();r.current==null&&(r.current=gR({window:n,v5Compat:!0}));let s=r.current,[i,o]=S.useState({action:s.action,location:s.location}),a=S.useCallback(l=>{S.startTransition(()=>o(l))},[o]);return S.useLayoutEffect(()=>s.listen(a),[s,a]),S.createElement(sj,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var US=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h,...f},p){let{basename:w}=S.useContext(Or),y=typeof u=="string"&&US.test(u),b,g=!1;if(typeof u=="string"&&y&&(b=u,BS))try{let $=new URL(window.location.href),B=u.startsWith("//")?new URL($.protocol+u):new URL(u),ue=ws(B.pathname,w);B.origin===$.origin&&ue!=null?u=ue+B.search+B.hash:g=!0}catch{Yn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=VR(u,{relative:s}),[x,C,j]=Sj(r,f),I=Ij(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:h});function A($){t&&t($),$.defaultPrevented||I($)}let D=S.createElement("a",{...f,...j,href:b||v,onClick:g||i?t:A,ref:Pj(p,C),target:l,"data-discover":!y&&n==="render"?"true":void 0});return x&&!y?S.createElement(S.Fragment,null,D,S.createElement(Ej,{page:v})):D});Wn.displayName="Link";var jj=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},c){let h=$u(o,{relative:u.relative}),f=Zn(),p=S.useContext(Ch),{navigator:w,basename:y}=S.useContext(Or),b=p!=null&&Fj(h)&&a===!0,g=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,v=f.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&y&&(x=ws(x,y)||x);const C=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let j=v===g||!s&&v.startsWith(g)&&v.charAt(C)==="/",I=x!=null&&(x===g||!s&&x.startsWith(g)&&x.charAt(g.length)==="/"),A={isActive:j,isPending:I,isTransitioning:b},D=j?t:void 0,$;typeof r=="function"?$=r(A):$=[r,j?"active":null,I?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(A):i;return S.createElement(Wn,{...u,"aria-current":D,className:$,ref:c,style:B,to:o,viewTransition:a},typeof l=="function"?l(A):l)});jj.displayName="NavLink";var Aj=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=fd,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:h,...f},p)=>{let w=Mj(),y=$j(a,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&US.test(a),v=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let C=x.nativeEvent.submitter,j=(C==null?void 0:C.getAttribute("formmethod"))||o;w(C||x.currentTarget,{fetcherKey:t,method:j,navigate:n,replace:s,state:i,relative:u,preventScrollReset:c,viewTransition:h})};return S.createElement("form",{ref:p,method:b,action:y,onSubmit:r?l:v,...f,"data-discover":!g&&e==="render"?"true":void 0})});Aj.displayName="Form";function Oj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zS(e){let t=S.useContext($a);return _t(t,Oj(e)),t}function Ij(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Xn(),l=Zn(),u=$u(e,{relative:i});return S.useCallback(c=>{if(cj(c,t)){c.preventDefault();let h=n!==void 0?n:mu(l)===mu(u);a(e,{replace:h,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,u,n,r,t,e,s,i,o])}function Dj(e){Yn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=S.useRef(jm(e)),n=S.useRef(!1),r=Zn(),s=S.useMemo(()=>dj(r.search,n.current?null:t.current),[r.search]),i=Xn(),o=S.useCallback((a,l)=>{const u=jm(typeof a=="function"?a(new URLSearchParams(s)):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}var Nj=0,Lj=()=>`__${String(++Nj)}__`;function Mj(){let{router:e}=zS("useSubmit"),{basename:t}=S.useContext(Or),n=ej();return S.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:u}=pj(r,t);if(s.navigate===!1){let c=s.fetcherKey||Lj();await e.fetch(c,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function $j(e,{relative:t}={}){let{basename:n}=S.useContext(Or),r=S.useContext(Ir);_t(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...$u(e||".",{relative:t})},o=Zn();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let c=a.toString();i.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:fs([n,i.pathname])),mu(i)}function Fj(e,{relative:t}={}){let n=S.useContext(OS);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zS("useViewTransitionState"),s=$u(e,{relative:t});if(!n.isTransitioning)return!1;let i=ws(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ws(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qd(s.pathname,o)!=null||qd(s.pathname,i)!=null}const wi="https://script.google.com/macros/s/AKfycbzcaAE9OcLaqxKYvLyMdH4HwodXdw1zSY5QtKmztDNd9Bfaj90URCzWB1j1i6A9a2a5Bw/exec",VS="radtpoqypgqetijvopho",Bj=["searchIndex","allSongs"],Uj=e=>["book-download-status",e],zj="modulepreload",Vj=function(e){return"/new-sankeertan/"+e},Ow={},Ua=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Vj(l),l in Ow)return;Ow[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":zj,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Kj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ua(async()=>{const{default:r}=await Promise.resolve().then(()=>za);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class $y extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Iw extends $y{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Dw extends $y{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Nw extends $y{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Am;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Am||(Am={}));var Wj=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Hj{constructor(t,{headers:n={},customFetch:r,region:s=Am.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Kj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Wj(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:a,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const h=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,h.searchParams.set("forceFunctionRegion",c));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)));const p=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new Iw(g)}),w=p.headers.get("x-relay-error");if(w&&w==="true")throw new Dw(p);if(!p.ok)throw new Nw(p);let y=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield p.json():y==="application/octet-stream"?b=yield p.blob():y==="text/event-stream"?b=p:y==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Iw(i)}:{data:null,error:i,response:i instanceof Nw||i instanceof Dw?i.context:void 0}}})}}var In={},Fy={},Ph={},Fu={},Rh={},jh={},qj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ja=qj();const Gj=ja.fetch,KS=ja.fetch.bind(ja),WS=ja.Headers,Yj=ja.Request,Qj=ja.Response,za=Object.freeze(Object.defineProperty({__proto__:null,Headers:WS,Request:Yj,Response:Qj,default:KS,fetch:Gj},Symbol.toStringTag,{value:"Module"})),Jj=VT(za);var Ah={};Object.defineProperty(Ah,"__esModule",{value:!0});let Zj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ah.default=Zj;var HS=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jh,"__esModule",{value:!0});const Xj=HS(Jj),eA=HS(Ah);let tA=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Xj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let c=null,h=null,f=null,p=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=v:h=JSON.parse(v))}const b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await i.text();try{c=JSON.parse(b),Array.isArray(c)&&i.status===404&&(h=[],c=null,p=200,w="OK")}catch{i.status===404&&b===""?(p=204,w="No Content"):c={message:b}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,p=200,w="OK"),c&&this.shouldThrowOnError)throw new eA.default(c)}return{error:c,data:h,count:f,status:p,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};jh.default=tA;var nA=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rh,"__esModule",{value:!0});const rA=nA(jh);let sA=class extends rA.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Rh.default=sA;var iA=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fu,"__esModule",{value:!0});const oA=iA(Rh);let aA=class extends oA.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Fu.default=aA;var lA=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ph,"__esModule",{value:!0});const ml=lA(Fu);let uA=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,n){const{head:r=!1,count:s}=n??{},i=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),s&&this.headers.append("Prefer",`count=${s}`),new ml.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ml.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ml.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ml.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ml.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ph.default=uA;var qS=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fy,"__esModule",{value:!0});const cA=qS(Ph),dA=qS(Fu);let hA=class GS{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new cA.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new GS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new dA.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Fy.default=hA;var Va=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(In,"__esModule",{value:!0});In.PostgrestError=In.PostgrestBuilder=In.PostgrestTransformBuilder=In.PostgrestFilterBuilder=In.PostgrestQueryBuilder=In.PostgrestClient=void 0;const YS=Va(Fy);In.PostgrestClient=YS.default;const QS=Va(Ph);In.PostgrestQueryBuilder=QS.default;const JS=Va(Fu);In.PostgrestFilterBuilder=JS.default;const ZS=Va(Rh);In.PostgrestTransformBuilder=ZS.default;const XS=Va(jh);In.PostgrestBuilder=XS.default;const e1=Va(Ah);In.PostgrestError=e1.default;var fA=In.default={PostgrestClient:YS.default,PostgrestQueryBuilder:QS.default,PostgrestFilterBuilder:JS.default,PostgrestTransformBuilder:ZS.default,PostgrestBuilder:XS.default,PostgrestError:e1.default};const{PostgrestClient:pA,PostgrestQueryBuilder:PU,PostgrestFilterBuilder:RU,PostgrestTransformBuilder:jU,PostgrestBuilder:AU,PostgrestError:OU}=fA;class mA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const gA="2.74.0",yA=`realtime-js/${gA}`,vA="1.0.0",Om=1e4,wA=1e3,bA=100;var Ul;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ul||(Ul={}));var zt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(zt||(zt={}));var Cr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Cr||(Cr={}));var Im;(function(e){e.websocket="websocket"})(Im||(Im={}));var $i;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($i||($i={}));class xA{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class t1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(mt||(mt={}));const Lw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=_A(o,e,t,s),i),{}):{}},_A=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?n1(i,o):Dm(o)},n1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return CA(t,n)}switch(e){case mt.bool:return kA(t);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return SA(t);case mt.json:case mt.jsonb:return EA(t);case mt.timestamp:return TA(t);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return Dm(t);default:return Dm(t)}},Dm=e=>e,kA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},SA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},EA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},CA=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>n1(t,a))}return e},TA=e=>typeof e=="string"?e.replace(" ","T"):e,r1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class sp{constructor(t,n,r={},s=Om){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mw||(Mw={}));class zl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=zl.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zl.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),w=c.filter(b=>p.indexOf(b.presence_ref)<0),y=h.filter(b=>f.indexOf(b.presence_ref)<0);w.length>0&&(a[u]=w),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(p=>p.presence_ref),f=c.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $w;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($w||($w={}));var Vl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vl||(Vl={}));var is;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(is||(is={}));class By{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new sp(this,Cr.join,this.params,this.timeout),this.rejoinTimer=new t1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new zl(this),this.broadcastEndpointURL=r1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Vl.PRESENCE]&&this.bindings[Vl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(is.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(is.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket.setAuth(),p===void 0){t==null||t(is.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,g=[];for(let v=0;v<b;v++){const x=y[v],{filter:{event:C,schema:j,table:I,filter:A}}=x,D=p&&p[v];if(D&&D.event===C&&D.schema===j&&D.table===I&&D.filter===A)g.push(Object.assign(Object.assign({},x),{id:D.id}));else{this.unsubscribe(),this.state=zt.errored,t==null||t(is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(is.SUBSCRIBED);return}}).receive("error",p=>{this.state=zt.errored,t==null||t(is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===zt.joined&&t===Vl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=zt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new sp(this,Cr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sp(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>bA){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Cr;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,y,b;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(y=p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,y,b,g,v,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const C=p.id,j=(w=p.filter)===null||w===void 0?void 0:w.event;return C&&((y=n.ids)===null||y===void 0?void 0:y.includes(C))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const C=(v=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return C==="*"||C===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:y,table:b,commit_timestamp:g,type:v,errors:x}=w;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:g,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(w))}p.callback(f,r)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&By.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cr.close,{},t)}_onError(t){this._on(Cr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Lw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Lw(t.columns,t.old_record)),n}}const ip=()=>{},zc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},PA=[1e3,2e3,5e3,1e4],RA=1e4,jA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AA{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Om,this.transport=null,this.heartbeatIntervalMs=zc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ip,this.ref=0,this.reconnectTimer=null,this.logger=ip,this.conn=null,this.sendBuffer=[],this.serializer=new xA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Ua(async()=>{const{default:a}=await Promise.resolve().then(()=>za);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Im.websocket}`,this.httpEndpoint=r1(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vA}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ul.connecting:return $i.Connecting;case Ul.open:return $i.Open;case Ul.closing:return $i.Closing;default:return $i.Closed}}isConnected(){return this.connectionState()===$i.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new By(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wA,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},zc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([jA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:yA};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Cr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new t1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,c;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Om,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:zc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:ip,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:h=>PA[h-1]||RA,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Uy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $t(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class OA extends Uy{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nm extends Uy{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var IA=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const s1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ua(async()=>{const{default:r}=await Promise.resolve().then(()=>za);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},DA=()=>IA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ua(()=>Promise.resolve().then(()=>za),void 0)).Response:Response}),Lm=e=>{if(Array.isArray(e))return e.map(n=>Lm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Lm(r)}),t},NA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var wo=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const op=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LA=(e,t,n)=>wo(void 0,void 0,void 0,function*(){const r=yield DA();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new OA(op(s),i,o))}).catch(s=>{t(new Nm(op(s),s))}):t(new Nm(op(e),e))}),MA=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(NA(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Bu(e,t,n,r,s,i){return wo(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,MA(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>LA(l,a,r))})})}function Gd(e,t,n,r){return wo(this,void 0,void 0,function*(){return Bu(e,"GET",t,n,r)})}function Br(e,t,n,r,s){return wo(this,void 0,void 0,function*(){return Bu(e,"POST",t,r,s,n)})}function Mm(e,t,n,r,s){return wo(this,void 0,void 0,function*(){return Bu(e,"PUT",t,r,s,n)})}function $A(e,t,n,r){return wo(this,void 0,void 0,function*(){return Bu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function i1(e,t,n,r,s){return wo(this,void 0,void 0,function*(){return Bu(e,"DELETE",t,r,s,n)})}var FA=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class BA{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return FA(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}}var UA=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class zA{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new BA(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return UA(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}}var Pn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const VA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class KA{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=s1(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return Pn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Fw),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield(t=="PUT"?Mm:Br)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Pn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Fw.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield Mm(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($t(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Pn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Br(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Uy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}update(t,n,r){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Pn(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Pn(this,void 0,void 0,function*(){try{return{data:{path:(yield Br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Pn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Br(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Pn(this,void 0,void 0,function*(){try{const s=yield Br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>Gd(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new zA(l,this.shouldThrowOnError)}info(t){return Pn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Gd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Lm(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}exists(t){return Pn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield $A(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r)&&r instanceof Nm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Pn(this,void 0,void 0,function*(){try{return{data:yield i1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}list(t,n,r){return Pn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},VA),n),{prefix:t||""});return{data:yield Br(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}listV2(t,n){return Pn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Br(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const WA="2.74.0",HA={"X-Client-Info":`storage-js/${WA}`};var Ao=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class qA{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},HA),n),this.fetch=s1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ao(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}getBucket(t){return Ao(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}createBucket(t){return Ao(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Br(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Ao(this,void 0,void 0,function*(){try{return{data:yield Mm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ao(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ao(this,void 0,void 0,function*(){try{return{data:yield i1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}}class GA extends qA{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new KA(this.url,this.headers,t,this.fetch)}}const YA="2.74.0";let El="";typeof Deno<"u"?El="deno":typeof document<"u"?El="web":typeof navigator<"u"&&navigator.product==="ReactNative"?El="react-native":El="node";const QA={"X-Client-Info":`supabase-js-${El}/${YA}`},JA={headers:QA},ZA={schema:"public"},XA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eO={};var tO=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const nO=e=>{let t;return e?t=e:typeof fetch>"u"?t=KS:t=fetch,(...n)=>t(...n)},rO=()=>typeof Headers>"u"?WS:Headers,sO=(e,t,n)=>{const r=nO(n),s=rO();return(i,o)=>tO(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var iO=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function oO(e){return e.endsWith("/")?e:e+"/"}function aO(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>iO(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function lO(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(oO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const o1="2.74.0",$o=30*1e3,$m=3,ap=$m*$o,uO="http://localhost:9999",cO="supabase.auth.token",dO={"X-Client-Info":`gotrue-js/${o1}`},Fm="X-Supabase-Api-Version",a1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fO=10*60*1e3;class gu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pO extends gu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function mO(e){return qe(e)&&e.name==="AuthApiError"}class Fi extends gu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class bi extends gu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ds extends bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gO(e){return qe(e)&&e.name==="AuthSessionMissingError"}class Oo extends bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vc extends bi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kc extends bi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yO(e){return qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bw extends bi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bm extends bi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function lp(e){return qe(e)&&e.name==="AuthRetryableFetchError"}class Uw extends bi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Um extends bi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zw=` 	
\r=`.split(""),vO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zw.length;t+=1)e[zw[t].charCodeAt(0)]=-2;for(let t=0;t<Yd.length;t+=1)e[Yd[t].charCodeAt(0)]=t;return e})();function Vw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yd[r]),t.queuedBits-=6}}function l1(e,t,n){const r=vO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Kw(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{xO(o,r,n)};for(let o=0;o<e.length;o+=1)l1(e.charCodeAt(o),s,i);return t.join("")}function wO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bO(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}wO(r,t)}}function xO(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ua(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)l1(e.charCodeAt(s),n,r);return new Uint8Array(t)}function _O(e){const t=[];return bO(e,n=>t.push(n)),new Uint8Array(t)}function Ki(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Vw(s,n,r)),Vw(null,n,r),t.join("")}function kO(e){return Math.round(Date.now()/1e3)+e}function SO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vn=()=>typeof window<"u"&&typeof document<"u",ji={tested:!1,writable:!1},u1=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ji.tested)return ji.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ji.tested=!0,ji.writable=!0}catch{ji.tested=!0,ji.writable=!1}return ji.writable};function EO(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const c1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ua(async()=>{const{default:r}=await Promise.resolve().then(()=>za);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},CO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ai=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Is=async(e,t)=>{await e.removeItem(t)};class Oh{constructor(){this.promise=new Oh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Oh.promiseConstructor=Promise;function up(e){const t=e.split(".");if(t.length!==3)throw new Um("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!hO.test(t[r]))throw new Um("JWT not in base64url format");return{header:JSON.parse(Kw(t[0])),payload:JSON.parse(Kw(t[1])),signature:ua(t[2]),raw:{header:t[0],payload:t[1]}}}async function TO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function PO(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function RO(e){return("0"+e.toString(16)).substr(-2)}function jO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,RO).join("")}async function AO(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function OO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await AO(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Io(e,t,n=!1){const r=jO();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Fo(e,`${t}-code-verifier`,s);const i=await OO(r);return[i,r===i?"plain":"s256"]}const IO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DO(e){const t=e.headers.get(Fm);if(!t||!t.match(IO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const MO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Do(e){if(!MO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cp(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ww(e){return JSON.parse(JSON.stringify(e))}var $O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Ni=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FO=[502,503,504];async function Hw(e){var t;if(!CO(e))throw new Bm(Ni(e),0);if(FO.includes(e.status))throw new Bm(Ni(e),e.status);let n;try{n=await e.json()}catch(i){throw new Fi(Ni(i),i)}let r;const s=DO(e);if(s&&s.getTime()>=a1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Uw(Ni(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ds}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Uw(Ni(n),e.status,n.weak_password.reasons);throw new pO(Ni(n),e.status||500,r)}const BO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Qe(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Fm]||(i[Fm]=a1["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await UO(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function UO(e,t,n,r,s,i){const o=BO(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Bm(Ni(l),0)}if(a.ok||await Hw(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Hw(l)}}function br(e){var t;let n=null;KO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=kO(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function qw(e){const t=br(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Us(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zO(e){return{data:e,error:null}}function VO(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=$O(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Gw(e){return e}function KO(e){return e.access_token&&e.refresh_token&&e.expires_in}const dp=["global","local","others"];var WO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class HO{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=c1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=dp[0]){if(dp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dp.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Us})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=WO(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:VO,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Us})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Gw});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(qe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Do(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Us})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Do(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Us})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Do(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Us})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Do(t.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Do(t.userId),Do(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Gw});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(qe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}}function Yw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const No={debug:!!(globalThis&&u1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class d1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qO extends d1{}async function GO(e,t,n){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),No.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{No.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw No.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(No.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function YO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function h1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function QO(e){return parseInt(e,16)}function JO(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function ZO(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=h1(e.address),w=c?`${c}://${r}`:r,y=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${p}

${y}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let v=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);v+=`
- ${x}`}g+=v}return`${b}
${g}`}class Mt extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Qd extends Mt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function XO({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(p1(o)){if(i.rp.id!==o)return new Mt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function eI({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(p1(r)){if(n.rpId!==r)return new Mt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var f1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class tI{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const nI=new tI;function rI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=f1(e,["challenge","user","excludeCredentials"]),i=ua(t).buffer,o=Object.assign(Object.assign({},n),{id:ua(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ua(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function sI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=f1(e,["challenge","allowCredentials"]),s=ua(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ua(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function iI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ki(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ki(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function oI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ki(new Uint8Array(s.authenticatorData)),clientDataJSON:Ki(new Uint8Array(s.clientDataJSON)),signature:Ki(new Uint8Array(s.signature)),userHandle:s.userHandle?Ki(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function p1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Qw(){var e,t;return!!(Vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function aI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qd("Browser returned unexpected credential type",t)}:{data:null,error:new Qd("Empty credential response",t)}}catch(t){return{data:null,error:XO({error:t,options:e})}}}async function lI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qd("Browser returned unexpected credential type",t)}:{data:null,error:new Qd("Empty credential response",t)}}catch(t){return{data:null,error:eI({error:t,options:e})}}}const uI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},cI={userVerification:"preferred",hints:["security-key"]};function Jd(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=Jd(a,o):r[i]=Jd(o)}else r[i]=o}return r}function dI(e,t){return Jd(uI,e,t||{})}function hI(e,t){return Jd(cI,e,t||{})}class fI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??nI.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=dI(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:h}=await aI({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=hI(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:h}=await lI(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return qe(o)?{data:null,error:o}:{data:null,error:new Fi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new gu("rpId is required for WebAuthn authentication")};try{if(!Qw())return{data:null,error:new Fi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return qe(o)?{data:null,error:o}:{data:null,error:new Fi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new gu("rpId is required for WebAuthn registration")};try{if(!Qw())return{data:null,error:new Fi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return qe(o)?{data:null,error:o}:{data:null,error:new Fi("Unexpected error in register",o)}}}}YO();const pI={url:uO,storageKey:cO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jw(e,t,n){return await n()}const Lo={};class yu{get jwks(){var t,n;return(n=(t=Lo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Lo[this.storageKey]=Object.assign(Object.assign({},Lo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Lo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Lo[this.storageKey]=Object.assign(Object.assign({},Lo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yu.nextInstanceID,yu.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},pI),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new HO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=c1(s.fetch),this.lock=s.lock||Jw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Vn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=GO:this.lock=Jw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fI(this)},this.persistSession?(s.storage?this.storage=s.storage:u1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Yw(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${o1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=EO(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Vn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),yO(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return qe(n)?{error:n}:{error:new Fi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:br}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(qe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:h,options:f}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Io(this.storage,this.storageKey)),i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:w},xform:br})}else if("phone"in t){const{phone:c,password:h,options:f}=t;i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:br})}else throw new Vc("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(qe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:qw})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:qw})}else throw new Vc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Oo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,c,h,f;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:y,wallet:b,statement:g,options:v}=t;let x;if(Vn())if(typeof b=="object")x=b;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")x=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const C=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),j=await x.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=h1(j[0]);let A=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const $=await x.request({method:"eth_chainId"});A=QO($)}const D={domain:C.host,address:I,statement:g,uri:C.href,version:"1",chainId:A,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=ZO(D),w=await x.request({method:"personal_sign",params:[JO(p),I]})}try{const{data:y,error:b}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:br});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Oo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(qe(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,h,f,p;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:b,wallet:g,statement:v,options:x}=t;let C;if(Vn())if(typeof g=="object")C=g;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))C=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=g}const j=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const I=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let A;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")A=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)A=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)w=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${j.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(c=x==null?void 0:x.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const I=await C.signMessage(new TextEncoder().encode(w),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=I}}try{const{data:b,error:g}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ki(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:br});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Oo}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(qe(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await Ai(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:br});if(await Is(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Oo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(qe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:br}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Oo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Io(this.storage,this.storageKey));const{error:h}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Vc("You must provide either an email or phone number.")}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:br});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(qe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Io(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:zO})}catch(i){if(qe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ds;const{error:s}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(qe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Vc("You must provide either an email or phone number and a type")}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ai(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ap:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Ai(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=cp()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Us}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ds}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Us})})}catch(n){if(qe(n))return gO(n)&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ds;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Io(this.storage,this.storageKey));const{data:u,error:c}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Us});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ds;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=up(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(qe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ds;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Vn())throw new Kc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bw("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Kc("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const p=f-c;p*1e3<=$o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=f-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,c);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(qe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ai(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(mO(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=SO(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Io(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(qe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Vn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(qe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,h=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:br}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Oo}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(s){if(qe(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await PO(async s=>(s>0&&await TO(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:br})),(s,i)=>{const o=200*Math.pow(2,s);return i&&lp(i)&&Date.now()+o-r<$o})}catch(r){if(this._debug(n,"error",r),qe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ai(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ai(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Fo(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:cp()}else if(s&&!s.user&&!s.user){const o=await Ai(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Is(this.storage,this.storageKey+"-user"),await Fo(this.storage,this.storageKey,s)):s.user=cp()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ap;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ap}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),lp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ds;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Oh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ds;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),qe(i)){const o={data:null,error:i};return lp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Fo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Ww(s);await Fo(this.storage,this.storageKey,i)}else{const s=Ww(n);await Fo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Is(this.storage,this.storageKey),await Is(this.storage,this.storageKey+"-code-verifier"),await Is(this.storage,this.storageKey+"-user"),this.userStorage&&await Is(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$o);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/$o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$o}ms, refresh threshold is ${$m} ticks`),s<=$m&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof d1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Io(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?iI(t.webauthn.credential_response):oI(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(qe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:rI(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:sI(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(qe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=up(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+fO>s)return r;const{data:i,error:o}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=up(r);n!=null&&n.allowExpired||NO(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=LO(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,_O(`${a}.${l}`)))throw new Um("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}}yu.nextInstanceID=0;const mI=yu;class gI extends mI{constructor(t){super(t)}}var yI=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class vI{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const a=lO(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:ZA,realtime:eO,auth:Object.assign(Object.assign({},XA),{storageKey:l}),global:JA},c=aO(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=sO(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new pA(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new GA(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Hj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return yI(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gI({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new AA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wI=(e,t,n)=>new vI(e,t,n);function bI(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}bI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xI="https://"+VS+".supabase.co",_I="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhZHRwb3F5cGdxZXRpanZvcGhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE3ODAwNjAsImV4cCI6MjA1NzM1NjA2MH0.dAIWitCyN4TVv3n4PTvhqJlUXsAGVSjOPm-L2jw818k",kI=xI,SI=_I,Ut=wI(kI,SI),zy=S.createContext({session:null,setSession:()=>{},isLoading:!0}),EI=({children:e})=>{const[t,n]=S.useState(null),[r,s]=S.useState(!0);S.useEffect(()=>{Ut.auth.getSession().then(({data:{session:a}})=>{n(a),s(!1)});const{data:{subscription:o}}=Ut.auth.onAuthStateChange((a,l)=>{n(l)});return()=>{console.log("AUTH_DEBUG: 5. Cleanup function running."),o.unsubscribe()}},[]);const i={session:t,setSession:n,isLoading:r};return k.jsx(zy.Provider,{value:i,children:e})},xi=()=>S.useContext(zy),CI=()=>{const[e,t]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState(null),l=Xn(),{setSession:u}=xi(),c=async h=>{h.preventDefault(),i(!0),a(null);try{const{data:{session:f},error:p}=await Ut.auth.signInWithPassword({email:e,password:n});if(p)a(p.message);else if(f){u(f);const w=sessionStorage.getItem("redirect_path");sessionStorage.removeItem("redirect_path"),l(w||"/categories",{replace:!0})}}catch(f){a(f.message||"An unexpected error occurred during login.")}finally{i(!1)}};return k.jsx("div",{className:"min-h-screen bg-gray-100 py-6 flex flex-col justify-center sm:py-12",children:k.jsxs("div",{className:"relative py-3 sm:max-w-xl sm:mx-auto",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-300 to-blue-600 shadow-lg transform -skew-y-6 sm:skew-x-6 sm:rounded-3xl"}),k.jsx("div",{className:"relative bg-white px-4 py-10 shadow-lg sm:rounded-3xl sm:px-20",children:k.jsxs("div",{className:"max-w-md mx-auto",children:[k.jsxs("div",{className:"text-center",children:[k.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Login"}),k.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"-------------"})]}),k.jsx("div",{children:o&&k.jsx("p",{className:"text-red-500",children:o})}),k.jsxs("div",{className:"divide-y divide-gray-200",children:[k.jsx("form",{onSubmit:c,children:k.jsxs("div",{className:"py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[k.jsxs("div",{className:"relative",children:[k.jsx("input",{autoComplete:"off",id:"email",name:"email",type:"email",value:e,onChange:h=>t(h.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Email address"}),k.jsx("label",{htmlFor:"email",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Email address"})]}),k.jsxs("div",{className:"relative",children:[k.jsx("input",{autoComplete:"off",id:"password",name:"password",type:"password",value:n,onChange:h=>r(h.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Password"}),k.jsx("label",{htmlFor:"password",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Password"})]}),k.jsx("div",{className:"relative",children:k.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-500 px-4 py-2 font-bold text-white shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2",disabled:s,children:s?"Logging in...":"Login"})})]})}),k.jsxs("p",{children:["Don't have an account? ",k.jsx("button",{type:"button",onClick:()=>l("/signup"),children:"Sign Up"})]}),k.jsxs("p",{children:["Forgot your password? ",k.jsx("button",{type:"button",onClick:()=>l("/change-password"),children:"Change Password"})]})]})]})})]})})},TI=()=>{const[e,t]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState(null),l=async u=>{u.preventDefault(),i(!0),a(null);try{const{error:c}=await Ut.auth.signUp({email:e,password:n});c?a(c.message):alert("Signup successful! Please check your email to confirm your account.")}catch(c){a(c.message||"An unexpected error occurred")}finally{i(!1)}};return k.jsxs("div",{children:[k.jsx("h2",{children:"Sign Up"}),o&&k.jsx("p",{style:{color:"red"},children:o}),k.jsxs("form",{onSubmit:l,children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",children:"Email:"}),k.jsx("input",{type:"email",id:"email",value:e,onChange:u=>t(u.target.value),required:!0})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"password",children:"Password:"}),k.jsx("input",{type:"password",id:"password",value:n,onChange:u=>r(u.target.value),required:!0})]}),k.jsx("button",{type:"submit",disabled:s,children:s?"Signing up...":"Sign Up"})]})]})},PI=()=>{const[e,t]=S.useState(""),[n,r]=S.useState(!1),[s,i]=S.useState(null),[o,a]=S.useState(null),l=async u=>{u.preventDefault(),r(!0),i(null),a(null);try{const{error:c}=await Ut.auth.updateUser({password:e});c?i(c.message):(a("Password updated successfully!"),t(""))}catch(c){i(c.message||"An unexpected error occurred")}finally{r(!1)}};return k.jsxs("div",{children:[k.jsx("h2",{children:"Change Password"}),s&&k.jsx("p",{style:{color:"red"},children:s}),o&&k.jsx("p",{style:{color:"green"},children:o}),k.jsxs("form",{onSubmit:l,children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"newPassword",children:"New Password:"}),k.jsx("input",{type:"password",id:"newPassword",value:e,onChange:u=>t(u.target.value),required:!0})]}),k.jsx("button",{type:"submit",disabled:n,children:n?"Updating password...":"Update Password"})]})]})},RI="auth_redirect_sankeertan",jI=()=>{const e=Xn(),[t]=Dj(),[n,r]=S.useState(!0),[s,i]=S.useState(null),{setSession:o}=S.useContext(zy);return S.useEffect(()=>{const a=t.get("token"),l=t.get("type"),u=t.get("email"),c=async(h,f,p)=>{r(!0),i(null);try{let w;if(f==="invite"||f==="signup"||f==="email_change"||f==="magiclink"){const y=p;if(!y){i("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}w=await Ut.auth.verifyOtp({token:h,type:f,email:y})}else if(f==="recover"){e(`/reset-password?token=${h}`,{replace:!0});return}else if(f==="sms"){const y=p;if(!y){i("Phone number is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}w=await Ut.auth.verifyOtp({token:h,type:"sms",phone:y})}else{i(`Unsupported authentication type: ${f}`),r(!1),e("/login",{replace:!0});return}if(w!=null&&w.error)i(w.error.message);else{const{data:{session:y}}=await Ut.auth.getSession();y&&o(y),localStorage.setItem(RI,"true"),e("/",{replace:!0})}}catch(w){i(w.message||"An unexpected error occurred during authentication.")}finally{r(!1)}};a&&l?l==="recover"?c(a,l,""):l==="invite"||l==="signup"||l==="email_change"||l==="magiclink"?u?c(a,l,u):(i("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0})):c(a,l,""):(i("Invalid authentication link."),r(!1),e("/login",{replace:!0}))},[e,t,o]),n?k.jsx("div",{children:"Verifying your account..."}):s?k.jsxs("div",{children:["Error verifying account: ",s]}):null};var Uu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},AI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ks,Ng,o_,OI=(o_=class{constructor(){Ge(this,Ks,AI);Ge(this,Ng,!1)}setTimeoutProvider(e){$e(this,Ks,e)}setTimeout(e,t){return Q(this,Ks).setTimeout(e,t)}clearTimeout(e){Q(this,Ks).clearTimeout(e)}setInterval(e,t){return Q(this,Ks).setInterval(e,t)}clearInterval(e){Q(this,Ks).clearInterval(e)}},Ks=new WeakMap,Ng=new WeakMap,o_),Wi=new OI;function II(e){setTimeout(e,0)}var po=typeof window>"u"||"Deno"in globalThis;function An(){}function DI(e,t){return typeof e=="function"?e(t):e}function zm(e){return typeof e=="number"&&e>=0&&e!==1/0}function m1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ci(e,t){return typeof e=="function"?e(t):e}function ar(e,t){return typeof e=="function"?e(t):e}function Zw(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Vy(o,t.options))return!1}else if(!wu(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Xw(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(vu(t.options.mutationKey)!==vu(i))return!1}else if(!wu(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Vy(e,t){return((t==null?void 0:t.queryKeyHashFn)||vu)(e)}function vu(e){return JSON.stringify(e,(t,n)=>Km(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function wu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>wu(e[n],t[n])):!1}var NI=Object.prototype.hasOwnProperty;function g1(e,t){if(e===t)return e;const n=eb(e)&&eb(t);if(!n&&!(Km(e)&&Km(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=n?u:i[u],h=e[c],f=t[c];if(h===f){a[c]=h,(n?u<s:NI.call(e,c))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[c]=f;continue}const p=g1(h,f);a[c]=p,p===h&&l++}return s===o&&l===s?e:a}function Vm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function eb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Km(e){if(!tb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!tb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tb(e){return Object.prototype.toString.call(e)==="[object Object]"}function LI(e){return new Promise(t=>{Wi.setTimeout(t,e)})}function Wm(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?g1(e,t):t}function MI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function $I(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ky=Symbol();function y1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ky?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function FI(e,t){return typeof e=="function"?e(...t):!!e}var Yi,Ws,da,a_,BI=(a_=class extends Uu{constructor(){super();Ge(this,Yi);Ge(this,Ws);Ge(this,da);$e(this,da,t=>{if(!po&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,Ws)||this.setEventListener(Q(this,da))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Ws))==null||t.call(this),$e(this,Ws,void 0))}setEventListener(t){var n;$e(this,da,t),(n=Q(this,Ws))==null||n.call(this),$e(this,Ws,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Q(this,Yi)!==t&&($e(this,Yi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Q(this,Yi)=="boolean"?Q(this,Yi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Yi=new WeakMap,Ws=new WeakMap,da=new WeakMap,a_),Wy=new BI;function Hm(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var UI=II;function zI(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=UI;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var rn=zI(),ha,Hs,fa,l_,VI=(l_=class extends Uu{constructor(){super();Ge(this,ha,!0);Ge(this,Hs);Ge(this,fa);$e(this,fa,t=>{if(!po&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Q(this,Hs)||this.setEventListener(Q(this,fa))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Hs))==null||t.call(this),$e(this,Hs,void 0))}setEventListener(t){var n;$e(this,fa,t),(n=Q(this,Hs))==null||n.call(this),$e(this,Hs,t(this.setOnline.bind(this)))}setOnline(t){Q(this,ha)!==t&&($e(this,ha,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Q(this,ha)}},ha=new WeakMap,Hs=new WeakMap,fa=new WeakMap,l_),Zd=new VI;function KI(e){return Math.min(1e3*2**e,3e4)}function v1(e){return(e??"online")==="online"?Zd.isOnline():!0}var qm=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function w1(e){let t=!1,n=0,r;const s=Hm(),i=()=>s.status!=="pending",o=y=>{var b;if(!i()){const g=new qm(y);f(g),(b=e.onCancel)==null||b.call(e,g)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>Wy.isFocused()&&(e.networkMode==="always"||Zd.isOnline())&&e.canRun(),c=()=>v1(e.networkMode)&&e.canRun(),h=y=>{i()||(r==null||r(),s.resolve(y))},f=y=>{i()||(r==null||r(),s.reject(y))},p=()=>new Promise(y=>{var b;r=g=>{(i()||u())&&y(g)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;r=void 0,i()||(y=e.onContinue)==null||y.call(e)}),w=()=>{if(i())return;let y;const b=n===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var I;if(i())return;const v=e.retry??(po?0:3),x=e.retryDelay??KI,C=typeof x=="function"?x(n,g):x,j=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(t||!j){f(g);return}n++,(I=e.onFail)==null||I.call(e,n,g),LI(C).then(()=>u()?void 0:p()).then(()=>{t?f(g):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?w():p().then(w),s)}}var Qi,u_,b1=(u_=class{constructor(){Ge(this,Qi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zm(this.gcTime)&&$e(this,Qi,Wi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(po?1/0:5*60*1e3))}clearGcTimeout(){Q(this,Qi)&&(Wi.clearTimeout(Q(this,Qi)),$e(this,Qi,void 0))}},Qi=new WeakMap,u_),Ji,pa,or,Zi,Jt,Cu,Xi,kr,rs,c_,WI=(c_=class extends b1{constructor(t){super();Ge(this,kr);Ge(this,Ji);Ge(this,pa);Ge(this,or);Ge(this,Zi);Ge(this,Jt);Ge(this,Cu);Ge(this,Xi);$e(this,Xi,!1),$e(this,Cu,t.defaultOptions),this.setOptions(t.options),this.observers=[],$e(this,Zi,t.client),$e(this,or,Q(this,Zi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$e(this,Ji,nb(this.options)),this.state=t.state??Q(this,Ji),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,Jt))==null?void 0:t.promise}setOptions(t){if(this.options={...Q(this,Cu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=nb(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),$e(this,Ji,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,or).remove(this)}setData(t,n){const r=Wm(this.state.data,t,this.options);return it(this,kr,rs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){it(this,kr,rs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=Q(this,Jt))==null?void 0:r.promise;return(s=Q(this,Jt))==null||s.cancel(t),n?n.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,Ji))}isActive(){return this.observers.some(t=>ar(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ky||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ci(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!m1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Jt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Jt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,or).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Q(this,Jt)&&(Q(this,Xi)?Q(this,Jt).cancel({revert:!0}):Q(this,Jt).cancelRetry()),this.scheduleGc()),Q(this,or).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,kr,rs).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,c,h,f,p,w,y,b,g,v,x;if(this.state.fetchStatus!=="idle"&&((l=Q(this,Jt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Jt))return Q(this,Jt).continueRetry(),Q(this,Jt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(j=>j.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,s=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>($e(this,Xi,!0),r.signal)})},i=()=>{const C=y1(this.options,n),I=(()=>{const A={client:Q(this,Zi),queryKey:this.queryKey,meta:this.meta};return s(A),A})();return $e(this,Xi,!1),this.options.persister?this.options.persister(C,I,this):C(I)},a=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Q(this,Zi),state:this.state,fetchFn:i};return s(C),C})();(u=this.options.behavior)==null||u.onFetch(a,this),$e(this,pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&it(this,kr,rs).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),$e(this,Jt,w1({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:C=>{C instanceof qm&&C.revert&&this.setState({...Q(this,pa),fetchStatus:"idle"}),r.abort()},onFail:(C,j)=>{it(this,kr,rs).call(this,{type:"failed",failureCount:C,error:j})},onPause:()=>{it(this,kr,rs).call(this,{type:"pause"})},onContinue:()=>{it(this,kr,rs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const C=await Q(this,Jt).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(p=(f=Q(this,or).config).onSuccess)==null||p.call(f,C,this),(y=(w=Q(this,or).config).onSettled)==null||y.call(w,C,this.state.error,this),C}catch(C){if(C instanceof qm){if(C.silent)return Q(this,Jt).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw it(this,kr,rs).call(this,{type:"error",error:C}),(g=(b=Q(this,or).config).onError)==null||g.call(b,C,this),(x=(v=Q(this,or).config).onSettled)==null||x.call(v,this.state.data,C,this),C}finally{this.scheduleGc()}}},Ji=new WeakMap,pa=new WeakMap,or=new WeakMap,Zi=new WeakMap,Jt=new WeakMap,Cu=new WeakMap,Xi=new WeakMap,kr=new WeakSet,rs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...x1(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $e(this,pa,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),rn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Q(this,or).notify({query:this,type:"updated",action:t})})},c_);function x1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rn,ot,Tu,xn,eo,ma,as,qs,Pu,ga,ya,to,no,Gs,va,ut,Cl,Gm,Ym,Qm,Jm,Zm,Xm,eg,_1,d_,HI=(d_=class extends Uu{constructor(t,n){super();Ge(this,ut);Ge(this,Rn);Ge(this,ot);Ge(this,Tu);Ge(this,xn);Ge(this,eo);Ge(this,ma);Ge(this,as);Ge(this,qs);Ge(this,Pu);Ge(this,ga);Ge(this,ya);Ge(this,to);Ge(this,no);Ge(this,Gs);Ge(this,va,new Set);this.options=n,$e(this,Rn,t),$e(this,qs,null),$e(this,as,Hm()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,ot).addObserver(this),rb(Q(this,ot),this.options)?it(this,ut,Cl).call(this):this.updateResult(),it(this,ut,Jm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tg(Q(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tg(Q(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,it(this,ut,Zm).call(this),it(this,ut,Xm).call(this),Q(this,ot).removeObserver(this)}setOptions(t){const n=this.options,r=Q(this,ot);if(this.options=Q(this,Rn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ar(this.options.enabled,Q(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");it(this,ut,eg).call(this),Q(this,ot).setOptions(this.options),n._defaulted&&!Vm(this.options,n)&&Q(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,ot),observer:this});const s=this.hasListeners();s&&sb(Q(this,ot),r,this.options,n)&&it(this,ut,Cl).call(this),this.updateResult(),s&&(Q(this,ot)!==r||ar(this.options.enabled,Q(this,ot))!==ar(n.enabled,Q(this,ot))||ci(this.options.staleTime,Q(this,ot))!==ci(n.staleTime,Q(this,ot)))&&it(this,ut,Gm).call(this);const i=it(this,ut,Ym).call(this);s&&(Q(this,ot)!==r||ar(this.options.enabled,Q(this,ot))!==ar(n.enabled,Q(this,ot))||i!==Q(this,Gs))&&it(this,ut,Qm).call(this,i)}getOptimisticResult(t){const n=Q(this,Rn).getQueryCache().build(Q(this,Rn),t),r=this.createResult(n,t);return GI(this,r)&&($e(this,xn,r),$e(this,ma,this.options),$e(this,eo,Q(this,ot).state)),r}getCurrentResult(){return Q(this,xn)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&Q(this,as).status==="pending"&&Q(this,as).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(t){Q(this,va).add(t)}getCurrentQuery(){return Q(this,ot)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Q(this,Rn).defaultQueryOptions(t),r=Q(this,Rn).getQueryCache().build(Q(this,Rn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return it(this,ut,Cl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,xn)))}createResult(t,n){var $;const r=Q(this,ot),s=this.options,i=Q(this,xn),o=Q(this,eo),a=Q(this,ma),u=t!==r?t.state:Q(this,Tu),{state:c}=t;let h={...c},f=!1,p;if(n._optimisticResults){const B=this.hasListeners(),ue=!B&&rb(t,n),N=B&&sb(t,r,n,s);(ue||N)&&(h={...h,...x1(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:b}=h;p=h.data;let g=!1;if(n.placeholderData!==void 0&&p===void 0&&b==="pending"){let B;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(B=i.data,g=!0):B=typeof n.placeholderData=="function"?n.placeholderData(($=Q(this,ya))==null?void 0:$.state.data,Q(this,ya)):n.placeholderData,B!==void 0&&(b="success",p=Wm(i==null?void 0:i.data,B,n),f=!0)}if(n.select&&p!==void 0&&!g)if(i&&p===(o==null?void 0:o.data)&&n.select===Q(this,Pu))p=Q(this,ga);else try{$e(this,Pu,n.select),p=n.select(p),p=Wm(i==null?void 0:i.data,p,n),$e(this,ga,p),$e(this,qs,null)}catch(B){$e(this,qs,B)}Q(this,qs)&&(w=Q(this,qs),p=Q(this,ga),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",x=b==="pending",C=b==="error",j=x&&v,I=p!==void 0,D={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:C,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:C&&!I,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:C&&I,isStale:Hy(t,n),refetch:this.refetch,promise:Q(this,as),isEnabled:ar(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const B=V=>{D.status==="error"?V.reject(D.error):D.data!==void 0&&V.resolve(D.data)},ue=()=>{const V=$e(this,as,D.promise=Hm());B(V)},N=Q(this,as);switch(N.status){case"pending":t.queryHash===r.queryHash&&B(N);break;case"fulfilled":(D.status==="error"||D.data!==N.value)&&ue();break;case"rejected":(D.status!=="error"||D.error!==N.reason)&&ue();break}}return D}updateResult(){const t=Q(this,xn),n=this.createResult(Q(this,ot),this.options);if($e(this,eo,Q(this,ot).state),$e(this,ma,this.options),Q(this,eo).data!==void 0&&$e(this,ya,Q(this,ot)),Vm(n,t))return;$e(this,xn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Q(this,va).size)return!0;const o=new Set(i??Q(this,va));return this.options.throwOnError&&o.add("error"),Object.keys(Q(this,xn)).some(a=>{const l=a;return Q(this,xn)[l]!==t[l]&&o.has(l)})};it(this,ut,_1).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&it(this,ut,Jm).call(this)}},Rn=new WeakMap,ot=new WeakMap,Tu=new WeakMap,xn=new WeakMap,eo=new WeakMap,ma=new WeakMap,as=new WeakMap,qs=new WeakMap,Pu=new WeakMap,ga=new WeakMap,ya=new WeakMap,to=new WeakMap,no=new WeakMap,Gs=new WeakMap,va=new WeakMap,ut=new WeakSet,Cl=function(t){it(this,ut,eg).call(this);let n=Q(this,ot).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(An)),n},Gm=function(){it(this,ut,Zm).call(this);const t=ci(this.options.staleTime,Q(this,ot));if(po||Q(this,xn).isStale||!zm(t))return;const r=m1(Q(this,xn).dataUpdatedAt,t)+1;$e(this,to,Wi.setTimeout(()=>{Q(this,xn).isStale||this.updateResult()},r))},Ym=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,ot)):this.options.refetchInterval)??!1},Qm=function(t){it(this,ut,Xm).call(this),$e(this,Gs,t),!(po||ar(this.options.enabled,Q(this,ot))===!1||!zm(Q(this,Gs))||Q(this,Gs)===0)&&$e(this,no,Wi.setInterval(()=>{(this.options.refetchIntervalInBackground||Wy.isFocused())&&it(this,ut,Cl).call(this)},Q(this,Gs)))},Jm=function(){it(this,ut,Gm).call(this),it(this,ut,Qm).call(this,it(this,ut,Ym).call(this))},Zm=function(){Q(this,to)&&(Wi.clearTimeout(Q(this,to)),$e(this,to,void 0))},Xm=function(){Q(this,no)&&(Wi.clearInterval(Q(this,no)),$e(this,no,void 0))},eg=function(){const t=Q(this,Rn).getQueryCache().build(Q(this,Rn),this.options);if(t===Q(this,ot))return;const n=Q(this,ot);$e(this,ot,t),$e(this,Tu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},_1=function(t){rn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Q(this,xn))}),Q(this,Rn).getQueryCache().notify({query:Q(this,ot),type:"observerResultsUpdated"})})},d_);function qI(e,t){return ar(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function rb(e,t){return qI(e,t)||e.state.data!==void 0&&tg(e,t,t.refetchOnMount)}function tg(e,t,n){if(ar(t.enabled,e)!==!1&&ci(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Hy(e,t)}return!1}function sb(e,t,n,r){return(e!==t||ar(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Hy(e,n)}function Hy(e,t){return ar(t.enabled,e)!==!1&&e.isStaleByTime(ci(t.staleTime,e))}function GI(e,t){return!Vm(e.getCurrentResult(),t)}function ib(e){return{onFetch:(t,n)=>{var c,h,f,p,w;const r=t.options,s=(f=(h=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=y1(t.options,t.fetchOptions),v=async(x,C,j)=>{if(y)return Promise.reject();if(C==null&&x.pages.length)return Promise.resolve(x);const A=(()=>{const ue={client:t.client,queryKey:t.queryKey,pageParam:C,direction:j?"backward":"forward",meta:t.options.meta};return b(ue),ue})(),D=await g(A),{maxPages:$}=t.options,B=j?$I:MI;return{pages:B(x.pages,D,$),pageParams:B(x.pageParams,C,$)}};if(s&&i.length){const x=s==="backward",C=x?YI:ob,j={pages:i,pageParams:o},I=C(r,j);a=await v(j,I,x)}else{const x=e??i.length;do{const C=l===0?o[0]??r.initialPageParam:ob(r,a);if(l>0&&C==null)break;a=await v(a,C),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function ob(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function YI(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ru,Ur,_n,ro,zr,Ns,h_,QI=(h_=class extends b1{constructor(t){super();Ge(this,zr);Ge(this,Ru);Ge(this,Ur);Ge(this,_n);Ge(this,ro);$e(this,Ru,t.client),this.mutationId=t.mutationId,$e(this,_n,t.mutationCache),$e(this,Ur,[]),this.state=t.state||JI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,Ur).includes(t)||(Q(this,Ur).push(t),this.clearGcTimeout(),Q(this,_n).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$e(this,Ur,Q(this,Ur).filter(n=>n!==t)),this.scheduleGc(),Q(this,_n).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,Ur).length||(this.state.status==="pending"?this.scheduleGc():Q(this,_n).remove(this))}continue(){var t;return((t=Q(this,ro))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,c,h,f,p,w,y,b,g,v,x,C,j,I,A,D,$;const n=()=>{it(this,zr,Ns).call(this,{type:"continue"})},r={client:Q(this,Ru),meta:this.options.meta,mutationKey:this.options.mutationKey};$e(this,ro,w1({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(B,ue)=>{it(this,zr,Ns).call(this,{type:"failed",failureCount:B,error:ue})},onPause:()=>{it(this,zr,Ns).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,_n).canRun(this)}));const s=this.state.status==="pending",i=!Q(this,ro).canStart();try{if(s)n();else{it(this,zr,Ns).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=Q(this,_n).config).onMutate)==null?void 0:a.call(o,t,this,r));const ue=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));ue!==this.state.context&&it(this,zr,Ns).call(this,{type:"pending",context:ue,variables:t,isPaused:i})}const B=await Q(this,ro).start();return await((h=(c=Q(this,_n).config).onSuccess)==null?void 0:h.call(c,B,t,this.state.context,this,r)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,B,t,this.state.context,r)),await((y=(w=Q(this,_n).config).onSettled)==null?void 0:y.call(w,B,null,this.state.variables,this.state.context,this,r)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,B,null,t,this.state.context,r)),it(this,zr,Ns).call(this,{type:"success",data:B}),B}catch(B){try{throw await((x=(v=Q(this,_n).config).onError)==null?void 0:x.call(v,B,t,this.state.context,this,r)),await((j=(C=this.options).onError)==null?void 0:j.call(C,B,t,this.state.context,r)),await((A=(I=Q(this,_n).config).onSettled)==null?void 0:A.call(I,void 0,B,this.state.variables,this.state.context,this,r)),await(($=(D=this.options).onSettled)==null?void 0:$.call(D,void 0,B,t,this.state.context,r)),B}finally{it(this,zr,Ns).call(this,{type:"error",error:B})}}finally{Q(this,_n).runNext(this)}}},Ru=new WeakMap,Ur=new WeakMap,_n=new WeakMap,ro=new WeakMap,zr=new WeakSet,Ns=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),rn.batch(()=>{Q(this,Ur).forEach(r=>{r.onMutationUpdate(t)}),Q(this,_n).notify({mutation:this,type:"updated",action:t})})},h_);function JI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ls,Sr,ju,f_,ZI=(f_=class extends Uu{constructor(t={}){super();Ge(this,ls);Ge(this,Sr);Ge(this,ju);this.config=t,$e(this,ls,new Set),$e(this,Sr,new Map),$e(this,ju,0)}build(t,n,r){const s=new QI({client:t,mutationCache:this,mutationId:++kc(this,ju)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){Q(this,ls).add(t);const n=Wc(t);if(typeof n=="string"){const r=Q(this,Sr).get(n);r?r.push(t):Q(this,Sr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Q(this,ls).delete(t)){const n=Wc(t);if(typeof n=="string"){const r=Q(this,Sr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&Q(this,Sr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Wc(t);if(typeof n=="string"){const r=Q(this,Sr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Wc(t);if(typeof n=="string"){const s=(r=Q(this,Sr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rn.batch(()=>{Q(this,ls).forEach(t=>{this.notify({type:"removed",mutation:t})}),Q(this,ls).clear(),Q(this,Sr).clear()})}getAll(){return Array.from(Q(this,ls))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Xw(n,r))}findAll(t={}){return this.getAll().filter(n=>Xw(t,n))}notify(t){rn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return rn.batch(()=>Promise.all(t.map(n=>n.continue().catch(An))))}},ls=new WeakMap,Sr=new WeakMap,ju=new WeakMap,f_);function Wc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Vr,p_,XI=(p_=class extends Uu{constructor(t={}){super();Ge(this,Vr);this.config=t,$e(this,Vr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Vy(s,n);let o=this.get(i);return o||(o=new WI({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Q(this,Vr).has(t.queryHash)||(Q(this,Vr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Q(this,Vr).get(t.queryHash);n&&(t.destroy(),n===t&&Q(this,Vr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,Vr).get(t)}getAll(){return[...Q(this,Vr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Zw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Zw(t,r)):n}notify(t){rn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Vr=new WeakMap,p_),Rt,Ys,Qs,wa,ba,Js,xa,_a,m_,eD=(m_=class{constructor(e={}){Ge(this,Rt);Ge(this,Ys);Ge(this,Qs);Ge(this,wa);Ge(this,ba);Ge(this,Js);Ge(this,xa);Ge(this,_a);$e(this,Rt,e.queryCache||new XI),$e(this,Ys,e.mutationCache||new ZI),$e(this,Qs,e.defaultOptions||{}),$e(this,wa,new Map),$e(this,ba,new Map),$e(this,Js,0)}mount(){kc(this,Js)._++,Q(this,Js)===1&&($e(this,xa,Wy.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,Rt).onFocus())})),$e(this,_a,Zd.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,Rt).onOnline())})))}unmount(){var e,t;kc(this,Js)._--,Q(this,Js)===0&&((e=Q(this,xa))==null||e.call(this),$e(this,xa,void 0),(t=Q(this,_a))==null||t.call(this),$e(this,_a,void 0))}isFetching(e){return Q(this,Rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,Ys).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,Rt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Q(this,Rt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ci(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Q(this,Rt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Q(this,Rt).get(r.queryHash),i=s==null?void 0:s.state.data,o=DI(t,i);if(o!==void 0)return Q(this,Rt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return rn.batch(()=>Q(this,Rt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,Rt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Q(this,Rt);rn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Q(this,Rt);return rn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=rn.batch(()=>Q(this,Rt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(An).catch(An)}invalidateQueries(e,t={}){return rn.batch(()=>(Q(this,Rt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=rn.batch(()=>Q(this,Rt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(An)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(An)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Q(this,Rt).build(this,t);return n.isStaleByTime(ci(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(An).catch(An)}fetchInfiniteQuery(e){return e.behavior=ib(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(An).catch(An)}ensureInfiniteQueryData(e){return e.behavior=ib(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Zd.isOnline()?Q(this,Ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,Rt)}getMutationCache(){return Q(this,Ys)}getDefaultOptions(){return Q(this,Qs)}setDefaultOptions(e){$e(this,Qs,e)}setQueryDefaults(e,t){Q(this,wa).set(vu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,wa).values()],n={};return t.forEach(r=>{wu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Q(this,ba).set(vu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,ba).values()],n={};return t.forEach(r=>{wu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,Qs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ky&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,Qs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,Rt).clear(),Q(this,Ys).clear()}},Rt=new WeakMap,Ys=new WeakMap,Qs=new WeakMap,wa=new WeakMap,ba=new WeakMap,Js=new WeakMap,xa=new WeakMap,_a=new WeakMap,m_),k1=S.createContext(void 0),Ih=e=>{const t=S.useContext(k1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tD=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),k.jsx(k1.Provider,{value:e,children:t})),S1=S.createContext(!1),nD=()=>S.useContext(S1);S1.Provider;function rD(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sD=S.createContext(rD()),iD=()=>S.useContext(sD),oD=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},aD=e=>{S.useEffect(()=>{e.clearReset()},[e])},lD=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||FI(n,[e.error,r])),uD=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},cD=(e,t)=>e.isLoading&&e.isFetching&&!t,dD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ab=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function hD(e,t,n){var h,f,p,w,y;const r=nD(),s=iD(),i=Ih(),o=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",uD(o),oD(o,s),aD(s);const a=!i.getQueryCache().get(o.queryHash),[l]=S.useState(()=>new t(i,o)),u=l.getOptimisticResult(o),c=!r&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(b=>{const g=c?l.subscribe(rn.batchCalls(b)):An;return l.updateResult(),g},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),S.useEffect(()=>{l.setOptions(o)},[o,l]),dD(o,u))throw ab(o,l,s);if(lD({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,o,u),o.experimental_prefetchInRender&&!po&&cD(u,r)){const b=a?ab(o,l,s):(y=i.getQueryCache().get(o.queryHash))==null?void 0:y.promise;b==null||b.catch(An).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Dh(e,t){return hD(e,HI)}var E1={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Wt,function(){var n=function(d,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&(_[R]=E[R])})(d,m)},r=function(){return(r=Object.assign||function(d){for(var m,_=1,E=arguments.length;_<E;_++)for(var R in m=arguments[_])Object.prototype.hasOwnProperty.call(m,R)&&(d[R]=m[R]);return d}).apply(this,arguments)};function s(d,m,_){for(var E,R=0,O=m.length;R<O;R++)!E&&R in m||((E=E||Array.prototype.slice.call(m,0,R))[R]=m[R]);return d.concat(E||Array.prototype.slice.call(m))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Wt,o=Object.keys,a=Array.isArray;function l(d,m){return typeof m!="object"||o(m).forEach(function(_){d[_]=m[_]}),d}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var u=Object.getPrototypeOf,c={}.hasOwnProperty;function h(d,m){return c.call(d,m)}function f(d,m){typeof m=="function"&&(m=m(u(d))),(typeof Reflect>"u"?o:Reflect.ownKeys)(m).forEach(function(_){w(d,_,m[_])})}var p=Object.defineProperty;function w(d,m,_,E){p(d,m,l(_&&h(_,"get")&&typeof _.get=="function"?{get:_.get,set:_.set,configurable:!0}:{value:_,configurable:!0,writable:!0},E))}function y(d){return{from:function(m){return d.prototype=Object.create(m.prototype),w(d.prototype,"constructor",d),{extend:f.bind(null,d.prototype)}}}}var b=Object.getOwnPropertyDescriptor,g=[].slice;function v(d,m,_){return g.call(d,m,_)}function x(d,m){return m(d)}function C(d){if(!d)throw new Error("Assertion Failed")}function j(d){i.setImmediate?setImmediate(d):setTimeout(d,0)}function I(d,m){if(typeof m=="string"&&h(d,m))return d[m];if(!m)return d;if(typeof m!="string"){for(var _=[],E=0,R=m.length;E<R;++E){var O=I(d,m[E]);_.push(O)}return _}var L=m.indexOf(".");if(L!==-1){var U=d[m.substr(0,L)];return U==null?void 0:I(U,m.substr(L+1))}}function A(d,m,_){if(d&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof m!="string"&&"length"in m){C(typeof _!="string"&&"length"in _);for(var E=0,R=m.length;E<R;++E)A(d,m[E],_[E])}else{var O,L,U=m.indexOf(".");U!==-1?(O=m.substr(0,U),(L=m.substr(U+1))===""?_===void 0?a(d)&&!isNaN(parseInt(O))?d.splice(O,1):delete d[O]:d[O]=_:A(U=!(U=d[O])||!h(d,O)?d[O]={}:U,L,_)):_===void 0?a(d)&&!isNaN(parseInt(m))?d.splice(m,1):delete d[m]:d[m]=_}}function D(d){var m,_={};for(m in d)h(d,m)&&(_[m]=d[m]);return _}var $=[].concat;function B(d){return $.apply([],d)}var Ue="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(B([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(m){return m+d+"Array"})}))).filter(function(d){return i[d]}),ue=new Set(Ue.map(function(d){return i[d]})),N=null;function V(d){return N=new WeakMap,d=function m(_){if(!_||typeof _!="object")return _;var E=N.get(_);if(E)return E;if(a(_)){E=[],N.set(_,E);for(var R=0,O=_.length;R<O;++R)E.push(m(_[R]))}else if(ue.has(_.constructor))E=_;else{var L,U=u(_);for(L in E=U===Object.prototype?{}:Object.create(U),N.set(_,E),_)h(_,L)&&(E[L]=m(_[L]))}return E}(d),N=null,d}var T={}.toString;function Z(d){return T.call(d).slice(8,-1)}var ve=typeof Symbol<"u"?Symbol.iterator:"@@iterator",G=typeof ve=="symbol"?function(d){var m;return d!=null&&(m=d[ve])&&m.apply(d)}:function(){return null};function X(d,m){return m=d.indexOf(m),0<=m&&d.splice(m,1),0<=m}var ee={};function he(d){var m,_,E,R;if(arguments.length===1){if(a(d))return d.slice();if(this===ee&&typeof d=="string")return[d];if(R=G(d)){for(_=[];!(E=R.next()).done;)_.push(E.value);return _}if(d==null)return[d];if(typeof(m=d.length)!="number")return[d];for(_=new Array(m);m--;)_[m]=d[m];return _}for(m=arguments.length,_=new Array(m);m--;)_[m]=arguments[m];return _}var K=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ce=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ce),q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function we(d,m){this.name=d,this.message=m}function H(d,m){return d+". Errors: "+Object.keys(m).map(function(_){return m[_].toString()}).filter(function(_,E,R){return R.indexOf(_)===E}).join(`
`)}function se(d,m,_,E){this.failures=m,this.failedKeys=E,this.successCount=_,this.message=H(d,m)}function pe(d,m){this.name="BulkError",this.failures=Object.keys(m).map(function(_){return m[_]}),this.failuresByPos=m,this.message=H(d,this.failures)}y(we).from(Error).extend({toString:function(){return this.name+": "+this.message}}),y(se).from(we),y(pe).from(we);var Se=tr.reduce(function(d,m){return d[m]=m+"Error",d},{}),je=we,ce=tr.reduce(function(d,m){var _=m+"Error";function E(R,O){this.name=_,R?typeof R=="string"?(this.message="".concat(R).concat(O?`
 `+O:""),this.inner=O||null):typeof R=="object"&&(this.message="".concat(R.name," ").concat(R.message),this.inner=R):(this.message=q[m]||_,this.inner=null)}return y(E).from(je),d[m]=E,d},{});ce.Syntax=SyntaxError,ce.Type=TypeError,ce.Range=RangeError;var ze=Ce.reduce(function(d,m){return d[m+"Error"]=ce[m],d},{}),Ve=tr.reduce(function(d,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(d[m+"Error"]=ce[m]),d},{});function Ke(){}function ct(d){return d}function P(d,m){return d==null||d===ct?m:function(_){return m(d(_))}}function ge(d,m){return function(){d.apply(this,arguments),m.apply(this,arguments)}}function me(d,m){return d===Ke?m:function(){var _=d.apply(this,arguments);_!==void 0&&(arguments[0]=_);var E=this.onsuccess,R=this.onerror;this.onsuccess=null,this.onerror=null;var O=m.apply(this,arguments);return E&&(this.onsuccess=this.onsuccess?ge(E,this.onsuccess):E),R&&(this.onerror=this.onerror?ge(R,this.onerror):R),O!==void 0?O:_}}function F(d,m){return d===Ke?m:function(){d.apply(this,arguments);var _=this.onsuccess,E=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?ge(_,this.onsuccess):_),E&&(this.onerror=this.onerror?ge(E,this.onerror):E)}}function M(d,m){return d===Ke?m:function(_){var E=d.apply(this,arguments);l(_,E);var R=this.onsuccess,O=this.onerror;return this.onsuccess=null,this.onerror=null,_=m.apply(this,arguments),R&&(this.onsuccess=this.onsuccess?ge(R,this.onsuccess):R),O&&(this.onerror=this.onerror?ge(O,this.onerror):O),E===void 0?_===void 0?void 0:_:l(E,_)}}function re(d,m){return d===Ke?m:function(){return m.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function xe(d,m){return d===Ke?m:function(){var _=d.apply(this,arguments);if(_&&typeof _.then=="function"){for(var E=this,R=arguments.length,O=new Array(R);R--;)O[R]=arguments[R];return _.then(function(){return m.apply(E,O)})}return m.apply(this,arguments)}}Ve.ModifyError=se,Ve.DexieError=we,Ve.BulkError=pe;var be=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function de(d){be=d}var ke={},Le=100,Ue=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,u(d),d];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,u(m),d]}(),Ce=Ue[0],tr=Ue[1],Ue=Ue[2],tr=tr&&tr.then,rt=Ce&&Ce.constructor,Je=!!Ue,kt=function(d,m){ln.push([d,m]),qt&&(queueMicrotask(gT),qt=!1)},er=!0,qt=!0,an=[],dt=[],Me=ct,He={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ke,pgp:!1,env:{},finalize:Ke},Ae=He,ln=[],wn=0,Zr=[];function Ie(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=Ae;if(typeof d!="function"){if(d!==ke)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&un(this,this._value))}this._state=null,this._value=null,++m.ref,function _(E,R){try{R(function(O){if(E._state===null){if(O===E)throw new TypeError("A promise cannot be resolved with itself.");var L=E._lib&&_o();O&&typeof O.then=="function"?_(E,function(U,W){O instanceof Ie?O._then(U,W):O.then(U,W)}):(E._state=!0,E._value=O,Ga(E)),L&&ko()}},un.bind(null,E))}catch(O){un(E,O)}}(this,d)}var Xr={get:function(){var d=Ae,m=rc;function _(E,R){var O=this,L=!d.global&&(d!==Ae||m!==rc),U=L&&!Ts(),W=new Ie(function(Y,ie){Ya(O,new Dr(Bv(E,d,L,U),Bv(R,d,L,U),Y,ie,d))});return this._consoleTask&&(W._consoleTask=this._consoleTask),W}return _.prototype=ke,_},set:function(d){w(this,"then",d&&d.prototype===ke?Xr:{get:function(){return d},set:Xr.set})}};function Dr(d,m,_,E,R){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof m=="function"?m:null,this.resolve=_,this.reject=E,this.psd=R}function un(d,m){var _,E;dt.push(m),d._state===null&&(_=d._lib&&_o(),m=Me(m),d._state=!1,d._value=m,E=d,an.some(function(R){return R._value===E._value})||an.push(E),Ga(d),_&&ko())}function Ga(d){var m=d._listeners;d._listeners=[];for(var _=0,E=m.length;_<E;++_)Ya(d,m[_]);var R=d._PSD;--R.ref||R.finalize(),wn===0&&(++wn,kt(function(){--wn==0&&ef()},[]))}function Ya(d,m){if(d._state!==null){var _=d._state?m.onFulfilled:m.onRejected;if(_===null)return(d._state?m.resolve:m.reject)(d._value);++m.psd.ref,++wn,kt(Xu,[_,d,m])}else d._listeners.push(m)}function Xu(d,m,_){try{var E,R=m._value;!m._state&&dt.length&&(dt=[]),E=be&&m._consoleTask?m._consoleTask.run(function(){return d(R)}):d(R),m._state||dt.indexOf(R)!==-1||function(O){for(var L=an.length;L;)if(an[--L]._value===O._value)return an.splice(L,1)}(m),_.resolve(E)}catch(O){_.reject(O)}finally{--wn==0&&ef(),--_.psd.ref||_.psd.finalize()}}function gT(){Si(He,function(){_o()&&ko()})}function _o(){var d=er;return qt=er=!1,d}function ko(){var d,m,_;do for(;0<ln.length;)for(d=ln,ln=[],_=d.length,m=0;m<_;++m){var E=d[m];E[0].apply(null,E[1])}while(0<ln.length);qt=er=!0}function ef(){var d=an;an=[],d.forEach(function(E){E._PSD.onunhandled.call(null,E._value,E)});for(var m=Zr.slice(0),_=m.length;_;)m[--_]()}function ec(d){return new Ie(ke,!1,d)}function wt(d,m){var _=Ae;return function(){var E=_o(),R=Ae;try{return Ps(_,!0),d.apply(this,arguments)}catch(O){m&&m(O)}finally{Ps(R,!1),E&&ko()}}}f(Ie.prototype,{then:Xr,_then:function(d,m){Ya(this,new Dr(null,null,d,m,Ae))},catch:function(d){if(arguments.length===1)return this.then(null,d);var m=d,_=arguments[1];return typeof m=="function"?this.then(null,function(E){return(E instanceof m?_:ec)(E)}):this.then(null,function(E){return(E&&E.name===m?_:ec)(E)})},finally:function(d){return this.then(function(m){return Ie.resolve(d()).then(function(){return m})},function(m){return Ie.resolve(d()).then(function(){return ec(m)})})},timeout:function(d,m){var _=this;return d<1/0?new Ie(function(E,R){var O=setTimeout(function(){return R(new ce.Timeout(m))},d);_.then(E,R).finally(clearTimeout.bind(null,O))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(Ie.prototype,Symbol.toStringTag,"Dexie.Promise"),He.env=Fv(),f(Ie,{all:function(){var d=he.apply(null,arguments).map(sc);return new Ie(function(m,_){d.length===0&&m([]);var E=d.length;d.forEach(function(R,O){return Ie.resolve(R).then(function(L){d[O]=L,--E||m(d)},_)})})},resolve:function(d){return d instanceof Ie?d:d&&typeof d.then=="function"?new Ie(function(m,_){d.then(m,_)}):new Ie(ke,!0,d)},reject:ec,race:function(){var d=he.apply(null,arguments).map(sc);return new Ie(function(m,_){d.map(function(E){return Ie.resolve(E).then(m,_)})})},PSD:{get:function(){return Ae},set:function(d){return Ae=d}},totalEchoes:{get:function(){return rc}},newPSD:Cs,usePSD:Si,scheduler:{get:function(){return kt},set:function(d){kt=d}},rejectionMapper:{get:function(){return Me},set:function(d){Me=d}},follow:function(d,m){return new Ie(function(_,E){return Cs(function(R,O){var L=Ae;L.unhandleds=[],L.onunhandled=O,L.finalize=ge(function(){var U,W=this;U=function(){W.unhandleds.length===0?R():O(W.unhandleds[0])},Zr.push(function Y(){U(),Zr.splice(Zr.indexOf(Y),1)}),++wn,kt(function(){--wn==0&&ef()},[])},L.finalize),d()},m,_,E)})}}),rt&&(rt.allSettled&&w(Ie,"allSettled",function(){var d=he.apply(null,arguments).map(sc);return new Ie(function(m){d.length===0&&m([]);var _=d.length,E=new Array(_);d.forEach(function(R,O){return Ie.resolve(R).then(function(L){return E[O]={status:"fulfilled",value:L}},function(L){return E[O]={status:"rejected",reason:L}}).then(function(){return--_||m(E)})})})}),rt.any&&typeof AggregateError<"u"&&w(Ie,"any",function(){var d=he.apply(null,arguments).map(sc);return new Ie(function(m,_){d.length===0&&_(new AggregateError([]));var E=d.length,R=new Array(E);d.forEach(function(O,L){return Ie.resolve(O).then(function(U){return m(U)},function(U){R[L]=U,--E||_(new AggregateError(R))})})})}),rt.withResolvers&&(Ie.withResolvers=rt.withResolvers));var Gt={awaits:0,echoes:0,id:0},yT=0,tc=[],nc=0,rc=0,vT=0;function Cs(d,m,_,E){var R=Ae,O=Object.create(R);return O.parent=R,O.ref=0,O.global=!1,O.id=++vT,He.env,O.env=Je?{Promise:Ie,PromiseProp:{value:Ie,configurable:!0,writable:!0},all:Ie.all,race:Ie.race,allSettled:Ie.allSettled,any:Ie.any,resolve:Ie.resolve,reject:Ie.reject}:{},m&&l(O,m),++R.ref,O.finalize=function(){--this.parent.ref||this.parent.finalize()},E=Si(O,d,_,E),O.ref===0&&O.finalize(),E}function So(){return Gt.id||(Gt.id=++yT),++Gt.awaits,Gt.echoes+=Le,Gt.id}function Ts(){return!!Gt.awaits&&(--Gt.awaits==0&&(Gt.id=0),Gt.echoes=Gt.awaits*Le,!0)}function sc(d){return Gt.echoes&&d&&d.constructor===rt?(So(),d.then(function(m){return Ts(),m},function(m){return Ts(),Ot(m)})):d}function wT(){var d=tc[tc.length-1];tc.pop(),Ps(d,!1)}function Ps(d,m){var _,E=Ae;(m?!Gt.echoes||nc++&&d===Ae:!nc||--nc&&d===Ae)||queueMicrotask(m?(function(R){++rc,Gt.echoes&&--Gt.echoes!=0||(Gt.echoes=Gt.awaits=Gt.id=0),tc.push(Ae),Ps(R,!0)}).bind(null,d):wT),d!==Ae&&(Ae=d,E===He&&(He.env=Fv()),Je&&(_=He.env.Promise,m=d.env,(E.global||d.global)&&(Object.defineProperty(i,"Promise",m.PromiseProp),_.all=m.all,_.race=m.race,_.resolve=m.resolve,_.reject=m.reject,m.allSettled&&(_.allSettled=m.allSettled),m.any&&(_.any=m.any))))}function Fv(){var d=i.Promise;return Je?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function Si(d,m,_,E,R){var O=Ae;try{return Ps(d,!0),m(_,E,R)}finally{Ps(O,!1)}}function Bv(d,m,_,E){return typeof d!="function"?d:function(){var R=Ae;_&&So(),Ps(m,!0);try{return d.apply(this,arguments)}finally{Ps(R,!1),E&&queueMicrotask(Ts)}}}function tf(d){Promise===rt&&Gt.echoes===0?nc===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+tr).indexOf("[native code]")===-1&&(So=Ts=Ke);var Ot=Ie.reject,Ei="",es="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Uv="String expected.",Eo=[],ic="__dbnames",nf="readonly",rf="readwrite";function Ci(d,m){return d?m?function(){return d.apply(this,arguments)&&m.apply(this,arguments)}:d:m}var zv={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function oc(d){return typeof d!="string"||/\./.test(d)?function(m){return m}:function(m){return m[d]===void 0&&d in m&&delete(m=V(m))[d],m}}function Vv(){throw ce.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function st(d,m){try{var _=Kv(d),E=Kv(m);if(_!==E)return _==="Array"?1:E==="Array"?-1:_==="binary"?1:E==="binary"?-1:_==="string"?1:E==="string"?-1:_==="Date"?1:E!=="Date"?NaN:-1;switch(_){case"number":case"Date":case"string":return m<d?1:d<m?-1:0;case"binary":return function(R,O){for(var L=R.length,U=O.length,W=L<U?L:U,Y=0;Y<W;++Y)if(R[Y]!==O[Y])return R[Y]<O[Y]?-1:1;return L===U?0:L<U?-1:1}(Wv(d),Wv(m));case"Array":return function(R,O){for(var L=R.length,U=O.length,W=L<U?L:U,Y=0;Y<W;++Y){var ie=st(R[Y],O[Y]);if(ie!==0)return ie}return L===U?0:L<U?-1:1}(d,m)}}catch{}return NaN}function Kv(d){var m=typeof d;return m!="object"?m:ArrayBuffer.isView(d)?"binary":(d=Z(d),d==="ArrayBuffer"?"binary":d)}function Wv(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}function ac(d,m,_){var E=d.schema.yProps;return E?(m&&0<_.numFailures&&(m=m.filter(function(R,O){return!_.failures[O]})),Promise.all(E.map(function(R){return R=R.updatesTable,m?d.db.table(R).where("k").anyOf(m).delete():d.db.table(R).clear()})).then(function(){return _})):_}var Qa=(Hv.prototype.execute=function(d){var m=this["@@propmod"];if(m.add!==void 0){var _=m.add;if(a(_))return s(s([],a(d)?d:[],!0),_).sort();if(typeof _=="number")return(Number(d)||0)+_;if(typeof _=="bigint")try{return BigInt(d)+_}catch{return BigInt(0)+_}throw new TypeError("Invalid term ".concat(_))}if(m.remove!==void 0){var E=m.remove;if(a(E))return a(d)?d.filter(function(R){return!E.includes(R)}).sort():[];if(typeof E=="number")return Number(d)-E;if(typeof E=="bigint")try{return BigInt(d)-E}catch{return BigInt(0)-E}throw new TypeError("Invalid subtrahend ".concat(E))}return _=(_=m.replacePrefix)===null||_===void 0?void 0:_[0],_&&typeof d=="string"&&d.startsWith(_)?m.replacePrefix[1]+d.substring(_.length):d},Hv);function Hv(d){this["@@propmod"]=d}function qv(d,m){for(var _=o(m),E=_.length,R=!1,O=0;O<E;++O){var L=_[O],U=m[L],W=I(d,L);U instanceof Qa?(A(d,L,U.execute(W)),R=!0):W!==U&&(A(d,L,U),R=!0)}return R}var Gv=(pt.prototype._trans=function(d,m,_){var E=this._tx||Ae.trans,R=this.name,O=be&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function L(Y,ie,z){if(!z.schema[R])throw new ce.NotFound("Table "+R+" not part of transaction");return m(z.idbtrans,z)}var U=_o();try{var W=E&&E.db._novip===this.db._novip?E===Ae.trans?E._promise(d,L,_):Cs(function(){return E._promise(d,L,_)},{trans:E,transless:Ae.transless||Ae}):function Y(ie,z,ae,J){if(ie.idbdb&&(ie._state.openComplete||Ae.letThrough||ie._vip)){var te=ie._createTransaction(z,ae,ie._dbSchema);try{te.create(),ie._state.PR1398_maxLoop=3}catch(ne){return ne.name===Se.InvalidState&&ie.isOpen()&&0<--ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ie.close({disableAutoOpen:!1}),ie.open().then(function(){return Y(ie,z,ae,J)})):Ot(ne)}return te._promise(z,function(ne,oe){return Cs(function(){return Ae.trans=te,J(ne,oe,te)})}).then(function(ne){if(z==="readwrite")try{te.idbtrans.commit()}catch{}return z==="readonly"?ne:te._completion.then(function(){return ne})})}if(ie._state.openComplete)return Ot(new ce.DatabaseClosed(ie._state.dbOpenError));if(!ie._state.isBeingOpened){if(!ie._state.autoOpen)return Ot(new ce.DatabaseClosed);ie.open().catch(Ke)}return ie._state.dbReadyPromise.then(function(){return Y(ie,z,ae,J)})}(this.db,d,[this.name],L);return O&&(W._consoleTask=O,W=W.catch(function(Y){return console.trace(Y),Ot(Y)})),W}finally{U&&ko()}},pt.prototype.get=function(d,m){var _=this;return d&&d.constructor===Object?this.where(d).first(m):d==null?Ot(new ce.Type("Invalid argument to Table.get()")):this._trans("readonly",function(E){return _.core.get({trans:E,key:d}).then(function(R){return _.hook.reading.fire(R)})}).then(m)},pt.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(a(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var m=o(d);if(m.length===1)return this.where(m[0]).equals(d[m[0]]);var _=this.schema.indexes.concat(this.schema.primKey).filter(function(U){if(U.compound&&m.every(function(Y){return 0<=U.keyPath.indexOf(Y)})){for(var W=0;W<m.length;++W)if(m.indexOf(U.keyPath[W])===-1)return!1;return!0}return!1}).sort(function(U,W){return U.keyPath.length-W.keyPath.length})[0];if(_&&this.db._maxKey!==Ei){var O=_.keyPath.slice(0,m.length);return this.where(O).equals(O.map(function(W){return d[W]}))}!_&&be&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var E=this.schema.idxByName;function R(U,W){return st(U,W)===0}var L=m.reduce(function(z,W){var Y=z[0],ie=z[1],z=E[W],ae=d[W];return[Y||z,Y||!z?Ci(ie,z&&z.multi?function(J){return J=I(J,W),a(J)&&J.some(function(te){return R(ae,te)})}:function(J){return R(ae,I(J,W))}):ie]},[null,null]),O=L[0],L=L[1];return O?this.where(O.name).equals(d[O.keyPath]).filter(L):_?this.filter(L):this.where(m).equals("")},pt.prototype.filter=function(d){return this.toCollection().and(d)},pt.prototype.count=function(d){return this.toCollection().count(d)},pt.prototype.offset=function(d){return this.toCollection().offset(d)},pt.prototype.limit=function(d){return this.toCollection().limit(d)},pt.prototype.each=function(d){return this.toCollection().each(d)},pt.prototype.toArray=function(d){return this.toCollection().toArray(d)},pt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pt.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,a(d)?"[".concat(d.join("+"),"]"):d))},pt.prototype.reverse=function(){return this.toCollection().reverse()},pt.prototype.mapToClass=function(d){var m,_=this.db,E=this.name;function R(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof Vv&&(function(W,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function ie(){this.constructor=W}n(W,Y),W.prototype=Y===null?Object.create(Y):(ie.prototype=Y.prototype,new ie)}(R,m=d),Object.defineProperty(R.prototype,"db",{get:function(){return _},enumerable:!1,configurable:!0}),R.prototype.table=function(){return E},d=R);for(var O=new Set,L=d.prototype;L;L=u(L))Object.getOwnPropertyNames(L).forEach(function(W){return O.add(W)});function U(W){if(!W)return W;var Y,ie=Object.create(d.prototype);for(Y in W)if(!O.has(Y))try{ie[Y]=W[Y]}catch{}return ie}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=U,this.hook("reading",U),d},pt.prototype.defineClass=function(){return this.mapToClass(function(d){l(this,d)})},pt.prototype.add=function(d,m){var _=this,E=this.schema.primKey,R=E.auto,O=E.keyPath,L=d;return O&&R&&(L=oc(O)(d)),this._trans("readwrite",function(U){return _.core.mutate({trans:U,type:"add",keys:m!=null?[m]:null,values:[L]})}).then(function(U){return U.numFailures?Ie.reject(U.failures[0]):U.lastResult}).then(function(U){if(O)try{A(d,O,U)}catch{}return U})},pt.prototype.upsert=function(d,m){var _=this,E=this.schema.primKey.keyPath;return this._trans("readwrite",function(R){return _.core.get({trans:R,key:d}).then(function(O){var L=O??{};return qv(L,m),E&&A(L,E,d),_.core.mutate({trans:R,type:"put",values:[L],keys:[d],upsert:!0,updates:{keys:[d],changeSpecs:[m]}}).then(function(U){return U.numFailures?Ie.reject(U.failures[0]):!!O})})})},pt.prototype.update=function(d,m){return typeof d!="object"||a(d)?this.where(":id").equals(d).modify(m):(d=I(d,this.schema.primKey.keyPath),d===void 0?Ot(new ce.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(m))},pt.prototype.put=function(d,m){var _=this,E=this.schema.primKey,R=E.auto,O=E.keyPath,L=d;return O&&R&&(L=oc(O)(d)),this._trans("readwrite",function(U){return _.core.mutate({trans:U,type:"put",values:[L],keys:m!=null?[m]:null})}).then(function(U){return U.numFailures?Ie.reject(U.failures[0]):U.lastResult}).then(function(U){if(O)try{A(d,O,U)}catch{}return U})},pt.prototype.delete=function(d){var m=this;return this._trans("readwrite",function(_){return m.core.mutate({trans:_,type:"delete",keys:[d]}).then(function(E){return ac(m,[d],E)}).then(function(E){return E.numFailures?Ie.reject(E.failures[0]):void 0})})},pt.prototype.clear=function(){var d=this;return this._trans("readwrite",function(m){return d.core.mutate({trans:m,type:"deleteRange",range:zv}).then(function(_){return ac(d,null,_)})}).then(function(m){return m.numFailures?Ie.reject(m.failures[0]):void 0})},pt.prototype.bulkGet=function(d){var m=this;return this._trans("readonly",function(_){return m.core.getMany({keys:d,trans:_}).then(function(E){return E.map(function(R){return m.hook.reading.fire(R)})})})},pt.prototype.bulkAdd=function(d,m,_){var E=this,R=Array.isArray(m)?m:void 0,O=(_=_||(R?void 0:m))?_.allKeys:void 0;return this._trans("readwrite",function(L){var Y=E.schema.primKey,U=Y.auto,Y=Y.keyPath;if(Y&&R)throw new ce.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(R&&R.length!==d.length)throw new ce.InvalidArgument("Arguments objects and keys must have the same length");var W=d.length,Y=Y&&U?d.map(oc(Y)):d;return E.core.mutate({trans:L,type:"add",keys:R,values:Y,wantResults:O}).then(function(te){var z=te.numFailures,ae=te.results,J=te.lastResult,te=te.failures;if(z===0)return O?ae:J;throw new pe("".concat(E.name,".bulkAdd(): ").concat(z," of ").concat(W," operations failed"),te)})})},pt.prototype.bulkPut=function(d,m,_){var E=this,R=Array.isArray(m)?m:void 0,O=(_=_||(R?void 0:m))?_.allKeys:void 0;return this._trans("readwrite",function(L){var Y=E.schema.primKey,U=Y.auto,Y=Y.keyPath;if(Y&&R)throw new ce.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(R&&R.length!==d.length)throw new ce.InvalidArgument("Arguments objects and keys must have the same length");var W=d.length,Y=Y&&U?d.map(oc(Y)):d;return E.core.mutate({trans:L,type:"put",keys:R,values:Y,wantResults:O}).then(function(te){var z=te.numFailures,ae=te.results,J=te.lastResult,te=te.failures;if(z===0)return O?ae:J;throw new pe("".concat(E.name,".bulkPut(): ").concat(z," of ").concat(W," operations failed"),te)})})},pt.prototype.bulkUpdate=function(d){var m=this,_=this.core,E=d.map(function(L){return L.key}),R=d.map(function(L){return L.changes}),O=[];return this._trans("readwrite",function(L){return _.getMany({trans:L,keys:E,cache:"clone"}).then(function(U){var W=[],Y=[];d.forEach(function(z,ae){var J=z.key,te=z.changes,ne=U[ae];if(ne){for(var oe=0,le=Object.keys(te);oe<le.length;oe++){var fe=le[oe],ye=te[fe];if(fe===m.schema.primKey.keyPath){if(st(ye,J)!==0)throw new ce.Constraint("Cannot update primary key in bulkUpdate()")}else A(ne,fe,ye)}O.push(ae),W.push(J),Y.push(ne)}});var ie=W.length;return _.mutate({trans:L,type:"put",keys:W,values:Y,updates:{keys:E,changeSpecs:R}}).then(function(z){var ae=z.numFailures,J=z.failures;if(ae===0)return ie;for(var te=0,ne=Object.keys(J);te<ne.length;te++){var oe,le=ne[te],fe=O[Number(le)];fe!=null&&(oe=J[le],delete J[le],J[fe]=oe)}throw new pe("".concat(m.name,".bulkUpdate(): ").concat(ae," of ").concat(ie," operations failed"),J)})})})},pt.prototype.bulkDelete=function(d){var m=this,_=d.length;return this._trans("readwrite",function(E){return m.core.mutate({trans:E,type:"delete",keys:d}).then(function(R){return ac(m,d,R)})}).then(function(L){var R=L.numFailures,O=L.lastResult,L=L.failures;if(R===0)return O;throw new pe("".concat(m.name,".bulkDelete(): ").concat(R," of ").concat(_," operations failed"),L)})},pt);function pt(){}function Ja(d){function m(L,U){if(U){for(var W=arguments.length,Y=new Array(W-1);--W;)Y[W-1]=arguments[W];return _[L].subscribe.apply(null,Y),d}if(typeof L=="string")return _[L]}var _={};m.addEventType=O;for(var E=1,R=arguments.length;E<R;++E)O(arguments[E]);return m;function O(L,U,W){if(typeof L!="object"){var Y;U=U||re;var ie={subscribers:[],fire:W=W||Ke,subscribe:function(z){ie.subscribers.indexOf(z)===-1&&(ie.subscribers.push(z),ie.fire=U(ie.fire,z))},unsubscribe:function(z){ie.subscribers=ie.subscribers.filter(function(ae){return ae!==z}),ie.fire=ie.subscribers.reduce(U,W)}};return _[L]=m[L]=ie}o(Y=L).forEach(function(z){var ae=Y[z];if(a(ae))O(z,Y[z][0],Y[z][1]);else{if(ae!=="asap")throw new ce.InvalidArgument("Invalid event config");var J=O(z,ct,function(){for(var te=arguments.length,ne=new Array(te);te--;)ne[te]=arguments[te];J.subscribers.forEach(function(oe){j(function(){oe.apply(null,ne)})})})}})}}function Za(d,m){return y(m).from({prototype:d}),m}function Co(d,m){return!(d.filter||d.algorithm||d.or)&&(m?d.justLimit:!d.replayFilter)}function sf(d,m){d.filter=Ci(d.filter,m)}function of(d,m,_){var E=d.replayFilter;d.replayFilter=E?function(){return Ci(E(),m())}:m,d.justLimit=_&&!E}function lc(d,m){if(d.isPrimKey)return m.primaryKey;var _=m.getIndexByKeyPath(d.index);if(!_)throw new ce.Schema("KeyPath "+d.index+" on object store "+m.name+" is not indexed");return _}function Yv(d,m,_){var E=lc(d,m.schema);return m.openCursor({trans:_,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:E,range:d.range}})}function uc(d,m,_,E){var R=d.replayFilter?Ci(d.filter,d.replayFilter()):d.filter;if(d.or){var O={},L=function(U,W,Y){var ie,z;R&&!R(W,Y,function(ae){return W.stop(ae)},function(ae){return W.fail(ae)})||((z=""+(ie=W.primaryKey))=="[object ArrayBuffer]"&&(z=""+new Uint8Array(ie)),h(O,z)||(O[z]=!0,m(U,W,Y)))};return Promise.all([d.or._iterate(L,_),Qv(Yv(d,E,_),d.algorithm,L,!d.keysOnly&&d.valueMapper)])}return Qv(Yv(d,E,_),Ci(d.algorithm,R),m,!d.keysOnly&&d.valueMapper)}function Qv(d,m,_,E){var R=wt(E?function(O,L,U){return _(E(O),L,U)}:_);return d.then(function(O){if(O)return O.start(function(){var L=function(){return O.continue()};m&&!m(O,function(U){return L=U},function(U){O.stop(U),L=Ke},function(U){O.fail(U),L=Ke})||R(O.value,O,function(U){return L=U}),L()})})}var bT=(lt.prototype._read=function(d,m){var _=this._ctx;return _.error?_.table._trans(null,Ot.bind(null,_.error)):_.table._trans("readonly",d).then(m)},lt.prototype._write=function(d){var m=this._ctx;return m.error?m.table._trans(null,Ot.bind(null,m.error)):m.table._trans("readwrite",d,"locked")},lt.prototype._addAlgorithm=function(d){var m=this._ctx;m.algorithm=Ci(m.algorithm,d)},lt.prototype._iterate=function(d,m){return uc(this._ctx,d,m,this._ctx.table.core)},lt.prototype.clone=function(d){var m=Object.create(this.constructor.prototype),_=Object.create(this._ctx);return d&&l(_,d),m._ctx=_,m},lt.prototype.raw=function(){return this._ctx.valueMapper=null,this},lt.prototype.each=function(d){var m=this._ctx;return this._read(function(_){return uc(m,d,_,m.table.core)})},lt.prototype.count=function(d){var m=this;return this._read(function(_){var E=m._ctx,R=E.table.core;if(Co(E,!0))return R.count({trans:_,query:{index:lc(E,R.schema),range:E.range}}).then(function(L){return Math.min(L,E.limit)});var O=0;return uc(E,function(){return++O,!1},_,R).then(function(){return O})}).then(d)},lt.prototype.sortBy=function(d,m){var _=d.split(".").reverse(),E=_[0],R=_.length-1;function O(W,Y){return Y?O(W[_[Y]],Y-1):W[E]}var L=this._ctx.dir==="next"?1:-1;function U(W,Y){return st(O(W,R),O(Y,R))*L}return this.toArray(function(W){return W.sort(U)}).then(m)},lt.prototype.toArray=function(d){var m=this;return this._read(function(_){var E=m._ctx;if(E.dir==="next"&&Co(E,!0)&&0<E.limit){var R=E.valueMapper,O=lc(E,E.table.core.schema);return E.table.core.query({trans:_,limit:E.limit,values:!0,query:{index:O,range:E.range}}).then(function(U){return U=U.result,R?U.map(R):U})}var L=[];return uc(E,function(U){return L.push(U)},_,E.table.core).then(function(){return L})},d)},lt.prototype.offset=function(d){var m=this._ctx;return d<=0||(m.offset+=d,Co(m)?of(m,function(){var _=d;return function(E,R){return _===0||(_===1?--_:R(function(){E.advance(_),_=0}),!1)}}):of(m,function(){var _=d;return function(){return--_<0}})),this},lt.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),of(this._ctx,function(){var m=d;return function(_,E,R){return--m<=0&&E(R),0<=m}},!0),this},lt.prototype.until=function(d,m){return sf(this._ctx,function(_,E,R){return!d(_.value)||(E(R),m)}),this},lt.prototype.first=function(d){return this.limit(1).toArray(function(m){return m[0]}).then(d)},lt.prototype.last=function(d){return this.reverse().first(d)},lt.prototype.filter=function(d){var m;return sf(this._ctx,function(_){return d(_.value)}),(m=this._ctx).isMatch=Ci(m.isMatch,d),this},lt.prototype.and=function(d){return this.filter(d)},lt.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},lt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},lt.prototype.desc=function(){return this.reverse()},lt.prototype.eachKey=function(d){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(_,E){d(E.key,E)})},lt.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},lt.prototype.eachPrimaryKey=function(d){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(_,E){d(E.primaryKey,E)})},lt.prototype.keys=function(d){var m=this._ctx;m.keysOnly=!m.isMatch;var _=[];return this.each(function(E,R){_.push(R.key)}).then(function(){return _}).then(d)},lt.prototype.primaryKeys=function(d){var m=this._ctx;if(m.dir==="next"&&Co(m,!0)&&0<m.limit)return this._read(function(E){var R=lc(m,m.table.core.schema);return m.table.core.query({trans:E,values:!1,limit:m.limit,query:{index:R,range:m.range}})}).then(function(E){return E.result}).then(d);m.keysOnly=!m.isMatch;var _=[];return this.each(function(E,R){_.push(R.primaryKey)}).then(function(){return _}).then(d)},lt.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},lt.prototype.firstKey=function(d){return this.limit(1).keys(function(m){return m[0]}).then(d)},lt.prototype.lastKey=function(d){return this.reverse().firstKey(d)},lt.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var m={};return sf(this._ctx,function(R){var E=R.primaryKey.toString(),R=h(m,E);return m[E]=!0,!R}),this},lt.prototype.modify=function(d){var m=this,_=this._ctx;return this._write(function(E){var R=typeof d=="function"?d:function(ne){return qv(ne,d)},O=_.table.core,Y=O.schema.primaryKey,L=Y.outbound,U=Y.extractKey,W=200,Y=m.db._options.modifyChunkSize;Y&&(W=typeof Y=="object"?Y[O.name]||Y["*"]||200:Y);function ie(ne,fe){var le=fe.failures,fe=fe.numFailures;ae+=ne-fe;for(var ye=0,_e=o(le);ye<_e.length;ye++){var Pe=_e[ye];z.push(le[Pe])}}var z=[],ae=0,J=[],te=d===Jv;return m.clone().primaryKeys().then(function(ne){function oe(fe){var ye=Math.min(W,ne.length-fe),_e=ne.slice(fe,fe+ye);return(te?Promise.resolve([]):O.getMany({trans:E,keys:_e,cache:"immutable"})).then(function(Pe){var De=[],Te=[],Re=L?[]:null,Ne=te?_e:[];if(!te)for(var Oe=0;Oe<ye;++Oe){var Fe=Pe[Oe],Xe={value:V(Fe),primKey:ne[fe+Oe]};R.call(Xe,Xe.value,Xe)!==!1&&(Xe.value==null?Ne.push(ne[fe+Oe]):L||st(U(Fe),U(Xe.value))===0?(Te.push(Xe.value),L&&Re.push(ne[fe+Oe])):(Ne.push(ne[fe+Oe]),De.push(Xe.value)))}return Promise.resolve(0<De.length&&O.mutate({trans:E,type:"add",values:De}).then(function(et){for(var tt in et.failures)Ne.splice(parseInt(tt),1);ie(De.length,et)})).then(function(){return(0<Te.length||le&&typeof d=="object")&&O.mutate({trans:E,type:"put",keys:Re,values:Te,criteria:le,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<fe}).then(function(et){return ie(Te.length,et)})}).then(function(){return(0<Ne.length||le&&te)&&O.mutate({trans:E,type:"delete",keys:Ne,criteria:le,isAdditionalChunk:0<fe}).then(function(et){return ac(_.table,Ne,et)}).then(function(et){return ie(Ne.length,et)})}).then(function(){return ne.length>fe+ye&&oe(fe+W)})})}var le=Co(_)&&_.limit===1/0&&(typeof d!="function"||te)&&{index:_.index,range:_.range};return oe(0).then(function(){if(0<z.length)throw new se("Error modifying one or more objects",z,ae,J);return ne.length})})})},lt.prototype.delete=function(){var d=this._ctx,m=d.range;return!Co(d)||d.table.schema.yProps||!d.isPrimKey&&m.type!==3?this.modify(Jv):this._write(function(_){var E=d.table.core.schema.primaryKey,R=m;return d.table.core.count({trans:_,query:{index:E,range:R}}).then(function(O){return d.table.core.mutate({trans:_,type:"deleteRange",range:R}).then(function(W){var U=W.failures,W=W.numFailures;if(W)throw new se("Could not delete some values",Object.keys(U).map(function(Y){return U[Y]}),O-W);return O-W})})})},lt);function lt(){}var Jv=function(d,m){return m.value=null};function xT(d,m){return d<m?-1:d===m?0:1}function _T(d,m){return m<d?-1:d===m?0:1}function Un(d,m,_){return d=d instanceof Xv?new d.Collection(d):d,d._ctx.error=new(_||TypeError)(m),d}function To(d){return new d.Collection(d,function(){return Zv("")}).limit(0)}function cc(d,m,_,E){var R,O,L,U,W,Y,ie,z=_.length;if(!_.every(function(te){return typeof te=="string"}))return Un(d,Uv);function ae(te){R=te==="next"?function(oe){return oe.toUpperCase()}:function(oe){return oe.toLowerCase()},O=te==="next"?function(oe){return oe.toLowerCase()}:function(oe){return oe.toUpperCase()},L=te==="next"?xT:_T;var ne=_.map(function(oe){return{lower:O(oe),upper:R(oe)}}).sort(function(oe,le){return L(oe.lower,le.lower)});U=ne.map(function(oe){return oe.upper}),W=ne.map(function(oe){return oe.lower}),ie=(Y=te)==="next"?"":E}ae("next"),d=new d.Collection(d,function(){return Rs(U[0],W[z-1]+E)}),d._ondirectionchange=function(te){ae(te)};var J=0;return d._addAlgorithm(function(te,ne,oe){var le=te.key;if(typeof le!="string")return!1;var fe=O(le);if(m(fe,W,J))return!0;for(var ye=null,_e=J;_e<z;++_e){var Pe=function(De,Te,Re,Ne,Oe,Fe){for(var Xe=Math.min(De.length,Ne.length),et=-1,tt=0;tt<Xe;++tt){var zn=Te[tt];if(zn!==Ne[tt])return Oe(De[tt],Re[tt])<0?De.substr(0,tt)+Re[tt]+Re.substr(tt+1):Oe(De[tt],Ne[tt])<0?De.substr(0,tt)+Ne[tt]+Re.substr(tt+1):0<=et?De.substr(0,et)+Te[et]+Re.substr(et+1):null;Oe(De[tt],zn)<0&&(et=tt)}return Xe<Ne.length&&Fe==="next"?De+Re.substr(De.length):Xe<De.length&&Fe==="prev"?De.substr(0,Re.length):et<0?null:De.substr(0,et)+Ne[et]+Re.substr(et+1)}(le,fe,U[_e],W[_e],L,Y);Pe===null&&ye===null?J=_e+1:(ye===null||0<L(ye,Pe))&&(ye=Pe)}return ne(ye!==null?function(){te.continue(ye+ie)}:oe),!1}),d}function Rs(d,m,_,E){return{type:2,lower:d,upper:m,lowerOpen:_,upperOpen:E}}function Zv(d){return{type:1,lower:d,upper:d}}var Xv=(Object.defineProperty(Yt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Yt.prototype.between=function(d,m,_,E){_=_!==!1,E=E===!0;try{return 0<this._cmp(d,m)||this._cmp(d,m)===0&&(_||E)&&(!_||!E)?To(this):new this.Collection(this,function(){return Rs(d,m,!_,!E)})}catch{return Un(this,es)}},Yt.prototype.equals=function(d){return d==null?Un(this,es):new this.Collection(this,function(){return Zv(d)})},Yt.prototype.above=function(d){return d==null?Un(this,es):new this.Collection(this,function(){return Rs(d,void 0,!0)})},Yt.prototype.aboveOrEqual=function(d){return d==null?Un(this,es):new this.Collection(this,function(){return Rs(d,void 0,!1)})},Yt.prototype.below=function(d){return d==null?Un(this,es):new this.Collection(this,function(){return Rs(void 0,d,!1,!0)})},Yt.prototype.belowOrEqual=function(d){return d==null?Un(this,es):new this.Collection(this,function(){return Rs(void 0,d)})},Yt.prototype.startsWith=function(d){return typeof d!="string"?Un(this,Uv):this.between(d,d+Ei,!0,!0)},Yt.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):cc(this,function(m,_){return m.indexOf(_[0])===0},[d],Ei)},Yt.prototype.equalsIgnoreCase=function(d){return cc(this,function(m,_){return m===_[0]},[d],"")},Yt.prototype.anyOfIgnoreCase=function(){var d=he.apply(ee,arguments);return d.length===0?To(this):cc(this,function(m,_){return _.indexOf(m)!==-1},d,"")},Yt.prototype.startsWithAnyOfIgnoreCase=function(){var d=he.apply(ee,arguments);return d.length===0?To(this):cc(this,function(m,_){return _.some(function(E){return m.indexOf(E)===0})},d,Ei)},Yt.prototype.anyOf=function(){var d=this,m=he.apply(ee,arguments),_=this._cmp;try{m.sort(_)}catch{return Un(this,es)}if(m.length===0)return To(this);var E=new this.Collection(this,function(){return Rs(m[0],m[m.length-1])});E._ondirectionchange=function(O){_=O==="next"?d._ascending:d._descending,m.sort(_)};var R=0;return E._addAlgorithm(function(O,L,U){for(var W=O.key;0<_(W,m[R]);)if(++R===m.length)return L(U),!1;return _(W,m[R])===0||(L(function(){O.continue(m[R])}),!1)}),E},Yt.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Yt.prototype.noneOf=function(){var d=he.apply(ee,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return Un(this,es)}var m=d.reduce(function(_,E){return _?_.concat([[_[_.length-1][1],E]]):[[-1/0,E]]},null);return m.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},Yt.prototype.inAnyRange=function(le,m){var _=this,E=this._cmp,R=this._ascending,O=this._descending,L=this._min,U=this._max;if(le.length===0)return To(this);if(!le.every(function(fe){return fe[0]!==void 0&&fe[1]!==void 0&&R(fe[0],fe[1])<=0}))return Un(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ce.InvalidArgument);var W=!m||m.includeLowers!==!1,Y=m&&m.includeUppers===!0,ie,z=R;function ae(fe,ye){return z(fe[0],ye[0])}try{(ie=le.reduce(function(fe,ye){for(var _e=0,Pe=fe.length;_e<Pe;++_e){var De=fe[_e];if(E(ye[0],De[1])<0&&0<E(ye[1],De[0])){De[0]=L(De[0],ye[0]),De[1]=U(De[1],ye[1]);break}}return _e===Pe&&fe.push(ye),fe},[])).sort(ae)}catch{return Un(this,es)}var J=0,te=Y?function(fe){return 0<R(fe,ie[J][1])}:function(fe){return 0<=R(fe,ie[J][1])},ne=W?function(fe){return 0<O(fe,ie[J][0])}:function(fe){return 0<=O(fe,ie[J][0])},oe=te,le=new this.Collection(this,function(){return Rs(ie[0][0],ie[ie.length-1][1],!W,!Y)});return le._ondirectionchange=function(fe){z=fe==="next"?(oe=te,R):(oe=ne,O),ie.sort(ae)},le._addAlgorithm(function(fe,ye,_e){for(var Pe,De=fe.key;oe(De);)if(++J===ie.length)return ye(_e),!1;return!te(Pe=De)&&!ne(Pe)||(_._cmp(De,ie[J][1])===0||_._cmp(De,ie[J][0])===0||ye(function(){z===R?fe.continue(ie[J][0]):fe.continue(ie[J][1])}),!1)}),le},Yt.prototype.startsWithAnyOf=function(){var d=he.apply(ee,arguments);return d.every(function(m){return typeof m=="string"})?d.length===0?To(this):this.inAnyRange(d.map(function(m){return[m,m+Ei]})):Un(this,"startsWithAnyOf() only works with strings")},Yt);function Yt(){}function Nr(d){return wt(function(m){return Xa(m),d(m.target.error),!1})}function Xa(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var el="storagemutated",af="x-storagemutated-1",js=Ja(null,el),kT=(Lr.prototype._lock=function(){return C(!Ae.global),++this._reculock,this._reculock!==1||Ae.global||(Ae.lockOwnerFor=this),this},Lr.prototype._unlock=function(){if(C(!Ae.global),--this._reculock==0)for(Ae.global||(Ae.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{Si(d[1],d[0])}catch{}}return this},Lr.prototype._locked=function(){return this._reculock&&Ae.lockOwnerFor!==this},Lr.prototype.create=function(d){var m=this;if(!this.mode)return this;var _=this.db.idbdb,E=this.db._state.dbOpenError;if(C(!this.idbtrans),!d&&!_)switch(E&&E.name){case"DatabaseClosedError":throw new ce.DatabaseClosed(E);case"MissingAPIError":throw new ce.MissingAPI(E.message,E);default:throw new ce.OpenFailed(E)}if(!this.active)throw new ce.TransactionInactive;return C(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||_).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=wt(function(R){Xa(R),m._reject(d.error)}),d.onabort=wt(function(R){Xa(R),m.active&&m._reject(new ce.Abort(d.error)),m.active=!1,m.on("abort").fire(R)}),d.oncomplete=wt(function(){m.active=!1,m._resolve(),"mutatedParts"in d&&js.storagemutated.fire(d.mutatedParts)}),this},Lr.prototype._promise=function(d,m,_){var E=this;if(d==="readwrite"&&this.mode!=="readwrite")return Ot(new ce.ReadOnly("Transaction is readonly"));if(!this.active)return Ot(new ce.TransactionInactive);if(this._locked())return new Ie(function(O,L){E._blockedFuncs.push([function(){E._promise(d,m,_).then(O,L)},Ae])});if(_)return Cs(function(){var O=new Ie(function(L,U){E._lock();var W=m(L,U,E);W&&W.then&&W.then(L,U)});return O.finally(function(){return E._unlock()}),O._lib=!0,O});var R=new Ie(function(O,L){var U=m(O,L,E);U&&U.then&&U.then(O,L)});return R._lib=!0,R},Lr.prototype._root=function(){return this.parent?this.parent._root():this},Lr.prototype.waitFor=function(d){var m,_=this._root(),E=Ie.resolve(d);_._waitingFor?_._waitingFor=_._waitingFor.then(function(){return E}):(_._waitingFor=E,_._waitingQueue=[],m=_.idbtrans.objectStore(_.storeNames[0]),function O(){for(++_._spinCount;_._waitingQueue.length;)_._waitingQueue.shift()();_._waitingFor&&(m.get(-1/0).onsuccess=O)}());var R=_._waitingFor;return new Ie(function(O,L){E.then(function(U){return _._waitingQueue.push(wt(O.bind(null,U)))},function(U){return _._waitingQueue.push(wt(L.bind(null,U)))}).finally(function(){_._waitingFor===R&&(_._waitingFor=null)})})},Lr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ce.Abort))},Lr.prototype.table=function(d){var m=this._memoizedTables||(this._memoizedTables={});if(h(m,d))return m[d];var _=this.schema[d];if(!_)throw new ce.NotFound("Table "+d+" not part of transaction");return _=new this.db.Table(d,_,this),_.core=this.db.core.table(d),m[d]=_},Lr);function Lr(){}function lf(d,m,_,E,R,O,L,U){return{name:d,keyPath:m,unique:_,multi:E,auto:R,compound:O,src:(_&&!L?"&":"")+(E?"*":"")+(R?"++":"")+e0(m),type:U}}function e0(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function uf(d,m,_){return{name:d,primKey:m,indexes:_,mappedClass:null,idxByName:(E=function(R){return[R.name,R]},_.reduce(function(R,O,L){return L=E(O,L),L&&(R[L[0]]=L[1]),R},{}))};var E}var tl=function(d){try{return d.only([[]]),tl=function(){return[[]]},[[]]}catch{return tl=function(){return Ei},Ei}};function cf(d){return d==null?function(){}:typeof d=="string"?(m=d).split(".").length===1?function(_){return _[m]}:function(_){return I(_,m)}:function(_){return I(_,d)};var m}function t0(d){return[].slice.call(d)}var ST=0;function nl(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function ET(d,m,W){function E(oe){if(oe.type===3)return null;if(oe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var J=oe.lower,te=oe.upper,ne=oe.lowerOpen,oe=oe.upperOpen;return J===void 0?te===void 0?null:m.upperBound(te,!!oe):te===void 0?m.lowerBound(J,!!ne):m.bound(J,te,!!ne,!!oe)}function R(ae){var J,te=ae.name;return{name:te,schema:ae,mutate:function(ne){var oe=ne.trans,le=ne.type,fe=ne.keys,ye=ne.values,_e=ne.range;return new Promise(function(Pe,De){Pe=wt(Pe);var Te=oe.objectStore(te),Re=Te.keyPath==null,Ne=le==="put"||le==="add";if(!Ne&&le!=="delete"&&le!=="deleteRange")throw new Error("Invalid operation type: "+le);var Oe,Fe=(fe||ye||{length:1}).length;if(fe&&ye&&fe.length!==ye.length)throw new Error("Given keys array must have same length as given values array.");if(Fe===0)return Pe({numFailures:0,failures:{},results:[],lastResult:void 0});function Xe(bn){++zn,Xa(bn)}var et=[],tt=[],zn=0;if(le==="deleteRange"){if(_e.type===4)return Pe({numFailures:zn,failures:tt,results:[],lastResult:void 0});_e.type===3?et.push(Oe=Te.clear()):et.push(Oe=Te.delete(E(_e)))}else{var Re=Ne?Re?[ye,fe]:[ye,null]:[fe,null],Ze=Re[0],dn=Re[1];if(Ne)for(var hn=0;hn<Fe;++hn)et.push(Oe=dn&&dn[hn]!==void 0?Te[le](Ze[hn],dn[hn]):Te[le](Ze[hn])),Oe.onerror=Xe;else for(hn=0;hn<Fe;++hn)et.push(Oe=Te[le](Ze[hn])),Oe.onerror=Xe}function _c(bn){bn=bn.target.result,et.forEach(function(Ri,Pf){return Ri.error!=null&&(tt[Pf]=Ri.error)}),Pe({numFailures:zn,failures:tt,results:le==="delete"?fe:et.map(function(Ri){return Ri.result}),lastResult:bn})}Oe.onerror=function(bn){Xe(bn),_c(bn)},Oe.onsuccess=_c})},getMany:function(ne){var oe=ne.trans,le=ne.keys;return new Promise(function(fe,ye){fe=wt(fe);for(var _e,Pe=oe.objectStore(te),De=le.length,Te=new Array(De),Re=0,Ne=0,Oe=function(et){et=et.target,Te[et._pos]=et.result,++Ne===Re&&fe(Te)},Fe=Nr(ye),Xe=0;Xe<De;++Xe)le[Xe]!=null&&((_e=Pe.get(le[Xe]))._pos=Xe,_e.onsuccess=Oe,_e.onerror=Fe,++Re);Re===0&&fe(Te)})},get:function(ne){var oe=ne.trans,le=ne.key;return new Promise(function(fe,ye){fe=wt(fe);var _e=oe.objectStore(te).get(le);_e.onsuccess=function(Pe){return fe(Pe.target.result)},_e.onerror=Nr(ye)})},query:(J=Y,function(ne){return new Promise(function(oe,le){oe=wt(oe);var fe,ye,_e,Re=ne.trans,Pe=ne.values,De=ne.limit,Oe=ne.query,Te=De===1/0?void 0:De,Ne=Oe.index,Oe=Oe.range,Re=Re.objectStore(te),Ne=Ne.isPrimaryKey?Re:Re.index(Ne.name),Oe=E(Oe);if(De===0)return oe({result:[]});J?((Te=Pe?Ne.getAll(Oe,Te):Ne.getAllKeys(Oe,Te)).onsuccess=function(Fe){return oe({result:Fe.target.result})},Te.onerror=Nr(le)):(fe=0,ye=!Pe&&"openKeyCursor"in Ne?Ne.openKeyCursor(Oe):Ne.openCursor(Oe),_e=[],ye.onsuccess=function(Fe){var Xe=ye.result;return Xe?(_e.push(Pe?Xe.value:Xe.primaryKey),++fe===De?oe({result:_e}):void Xe.continue()):oe({result:_e})},ye.onerror=Nr(le))})}),openCursor:function(ne){var oe=ne.trans,le=ne.values,fe=ne.query,ye=ne.reverse,_e=ne.unique;return new Promise(function(Pe,De){Pe=wt(Pe);var Ne=fe.index,Te=fe.range,Re=oe.objectStore(te),Re=Ne.isPrimaryKey?Re:Re.index(Ne.name),Ne=ye?_e?"prevunique":"prev":_e?"nextunique":"next",Oe=!le&&"openKeyCursor"in Re?Re.openKeyCursor(E(Te),Ne):Re.openCursor(E(Te),Ne);Oe.onerror=Nr(De),Oe.onsuccess=wt(function(Fe){var Xe,et,tt,zn,Ze=Oe.result;Ze?(Ze.___id=++ST,Ze.done=!1,Xe=Ze.continue.bind(Ze),et=(et=Ze.continuePrimaryKey)&&et.bind(Ze),tt=Ze.advance.bind(Ze),zn=function(){throw new Error("Cursor not stopped")},Ze.trans=oe,Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=function(){throw new Error("Cursor not started")},Ze.fail=wt(De),Ze.next=function(){var dn=this,hn=1;return this.start(function(){return hn--?dn.continue():dn.stop()}).then(function(){return dn})},Ze.start=function(dn){function hn(){if(Oe.result)try{dn()}catch(bn){Ze.fail(bn)}else Ze.done=!0,Ze.start=function(){throw new Error("Cursor behind last entry")},Ze.stop()}var _c=new Promise(function(bn,Ri){bn=wt(bn),Oe.onerror=Nr(Ri),Ze.fail=Ri,Ze.stop=function(Pf){Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=zn,bn(Pf)}});return Oe.onsuccess=wt(function(bn){Oe.onsuccess=hn,hn()}),Ze.continue=Xe,Ze.continuePrimaryKey=et,Ze.advance=tt,hn(),_c},Pe(Ze)):Pe(null)},De)})},count:function(ne){var oe=ne.query,le=ne.trans,fe=oe.index,ye=oe.range;return new Promise(function(_e,Pe){var De=le.objectStore(te),Te=fe.isPrimaryKey?De:De.index(fe.name),De=E(ye),Te=De?Te.count(De):Te.count();Te.onsuccess=wt(function(Re){return _e(Re.target.result)}),Te.onerror=Nr(Pe)})}}}var O,L,U,ie=(L=W,U=t0((O=d).objectStoreNames),{schema:{name:O.name,tables:U.map(function(ae){return L.objectStore(ae)}).map(function(ae){var J=ae.keyPath,oe=ae.autoIncrement,te=a(J),ne={},oe={name:ae.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:J==null,compound:te,keyPath:J,autoIncrement:oe,unique:!0,extractKey:cf(J)},indexes:t0(ae.indexNames).map(function(le){return ae.index(le)}).map(function(_e){var fe=_e.name,ye=_e.unique,Pe=_e.multiEntry,_e=_e.keyPath,Pe={name:fe,compound:a(_e),keyPath:_e,unique:ye,multiEntry:Pe,extractKey:cf(_e)};return ne[nl(_e)]=Pe}),getIndexByKeyPath:function(le){return ne[nl(le)]}};return ne[":id"]=oe.primaryKey,J!=null&&(ne[nl(J)]=oe.primaryKey),oe})},hasGetAll:0<U.length&&"getAll"in L.objectStore(U[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),W=ie.schema,Y=ie.hasGetAll,ie=W.tables.map(R),z={};return ie.forEach(function(ae){return z[ae.name]=ae}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(ae){if(!z[ae])throw new Error("Table '".concat(ae,"' not found"));return z[ae]},MIN_KEY:-1/0,MAX_KEY:tl(m),schema:W}}function CT(d,m,_,E){var R=_.IDBKeyRange;return _.indexedDB,{dbcore:(E=ET(m,R,E),d.dbcore.reduce(function(O,L){return L=L.create,r(r({},O),L(O))},E))}}function dc(d,E){var _=E.db,E=CT(d._middlewares,_,d._deps,E);d.core=E.dbcore,d.tables.forEach(function(R){var O=R.name;d.core.schema.tables.some(function(L){return L.name===O})&&(R.core=d.core.table(O),d[O]instanceof d.Table&&(d[O].core=R.core))})}function hc(d,m,_,E){_.forEach(function(R){var O=E[R];m.forEach(function(L){var U=function W(Y,ie){return b(Y,ie)||(Y=u(Y))&&W(Y,ie)}(L,R);(!U||"value"in U&&U.value===void 0)&&(L===d.Transaction.prototype||L instanceof d.Transaction?w(L,R,{get:function(){return this.table(R)},set:function(W){p(this,R,{value:W,writable:!0,configurable:!0,enumerable:!0})}}):L[R]=new d.Table(R,O))})})}function df(d,m){m.forEach(function(_){for(var E in _)_[E]instanceof d.Table&&delete _[E]})}function TT(d,m){return d._cfg.version-m._cfg.version}function PT(d,m,_,E){var R=d._dbSchema;_.objectStoreNames.contains("$meta")&&!R.$meta&&(R.$meta=uf("$meta",r0("")[0],[]),d._storeNames.push("$meta"));var O=d._createTransaction("readwrite",d._storeNames,R);O.create(_),O._completion.catch(E);var L=O._reject.bind(O),U=Ae.transless||Ae;Cs(function(){return Ae.trans=O,Ae.transless=U,m!==0?(dc(d,_),Y=m,((W=O).storeNames.includes("$meta")?W.table("$meta").get("version").then(function(ie){return ie??Y}):Ie.resolve(Y)).then(function(ie){return ae=ie,J=O,te=_,ne=[],ie=(z=d)._versions,oe=z._dbSchema=pc(0,z.idbdb,te),(ie=ie.filter(function(le){return le._cfg.version>=ae})).length!==0?(ie.forEach(function(le){ne.push(function(){var fe=oe,ye=le._cfg.dbschema;mc(z,fe,te),mc(z,ye,te),oe=z._dbSchema=ye;var _e=hf(fe,ye);_e.add.forEach(function(Ne){ff(te,Ne[0],Ne[1].primKey,Ne[1].indexes)}),_e.change.forEach(function(Ne){if(Ne.recreate)throw new ce.Upgrade("Not yet support for changing primary key");var Oe=te.objectStore(Ne.name);Ne.add.forEach(function(Fe){return fc(Oe,Fe)}),Ne.change.forEach(function(Fe){Oe.deleteIndex(Fe.name),fc(Oe,Fe)}),Ne.del.forEach(function(Fe){return Oe.deleteIndex(Fe)})});var Pe=le._cfg.contentUpgrade;if(Pe&&le._cfg.version>ae){dc(z,te),J._memoizedTables={};var De=D(ye);_e.del.forEach(function(Ne){De[Ne]=fe[Ne]}),df(z,[z.Transaction.prototype]),hc(z,[z.Transaction.prototype],o(De),De),J.schema=De;var Te,Re=K(Pe);return Re&&So(),_e=Ie.follow(function(){var Ne;(Te=Pe(J))&&Re&&(Ne=Ts.bind(null,null),Te.then(Ne,Ne))}),Te&&typeof Te.then=="function"?Ie.resolve(Te):_e.then(function(){return Te})}}),ne.push(function(fe){var ye,_e,Pe=le._cfg.dbschema;ye=Pe,_e=fe,[].slice.call(_e.db.objectStoreNames).forEach(function(De){return ye[De]==null&&_e.db.deleteObjectStore(De)}),df(z,[z.Transaction.prototype]),hc(z,[z.Transaction.prototype],z._storeNames,z._dbSchema),J.schema=z._dbSchema}),ne.push(function(fe){z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(z.idbdb.version/10)===le._cfg.version?(z.idbdb.deleteObjectStore("$meta"),delete z._dbSchema.$meta,z._storeNames=z._storeNames.filter(function(ye){return ye!=="$meta"})):fe.objectStore("$meta").put(le._cfg.version,"version"))})}),function le(){return ne.length?Ie.resolve(ne.shift()(J.idbtrans)).then(le):Ie.resolve()}().then(function(){n0(oe,te)})):Ie.resolve();var z,ae,J,te,ne,oe}).catch(L)):(o(R).forEach(function(ie){ff(_,ie,R[ie].primKey,R[ie].indexes)}),dc(d,_),void Ie.follow(function(){return d.on.populate.fire(O)}).catch(L));var W,Y})}function RT(d,m){n0(d._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var _=pc(0,d.idbdb,m);mc(d,d._dbSchema,m);for(var E=0,R=hf(_,d._dbSchema).change;E<R.length;E++){var O=function(L){if(L.change.length||L.recreate)return console.warn("Unable to patch indexes of table ".concat(L.name," because it has changes on the type of index or primary key.")),{value:void 0};var U=m.objectStore(L.name);L.add.forEach(function(W){be&&console.debug("Dexie upgrade patch: Creating missing index ".concat(L.name,".").concat(W.src)),fc(U,W)})}(R[E]);if(typeof O=="object")return O.value}}function hf(d,m){var _,E={del:[],add:[],change:[]};for(_ in d)m[_]||E.del.push(_);for(_ in m){var R=d[_],O=m[_];if(R){var L={name:_,def:O,recreate:!1,del:[],add:[],change:[]};if(""+(R.primKey.keyPath||"")!=""+(O.primKey.keyPath||"")||R.primKey.auto!==O.primKey.auto)L.recreate=!0,E.change.push(L);else{var U=R.idxByName,W=O.idxByName,Y=void 0;for(Y in U)W[Y]||L.del.push(Y);for(Y in W){var ie=U[Y],z=W[Y];ie?ie.src!==z.src&&L.change.push(z):L.add.push(z)}(0<L.del.length||0<L.add.length||0<L.change.length)&&E.change.push(L)}}else E.add.push([_,O])}return E}function ff(d,m,_,E){var R=d.db.createObjectStore(m,_.keyPath?{keyPath:_.keyPath,autoIncrement:_.auto}:{autoIncrement:_.auto});return E.forEach(function(O){return fc(R,O)}),R}function n0(d,m){o(d).forEach(function(_){m.db.objectStoreNames.contains(_)||(be&&console.debug("Dexie: Creating missing table",_),ff(m,_,d[_].primKey,d[_].indexes))})}function fc(d,m){d.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function pc(d,m,_){var E={};return v(m.objectStoreNames,0).forEach(function(R){for(var O=_.objectStore(R),L=lf(e0(Y=O.keyPath),Y||"",!0,!1,!!O.autoIncrement,Y&&typeof Y!="string",!0),U=[],W=0;W<O.indexNames.length;++W){var ie=O.index(O.indexNames[W]),Y=ie.keyPath,ie=lf(ie.name,Y,!!ie.unique,!!ie.multiEntry,!1,Y&&typeof Y!="string",!1);U.push(ie)}E[R]=uf(R,L,U)}),E}function mc(d,m,_){for(var E=_.db.objectStoreNames,R=0;R<E.length;++R){var O=E[R],L=_.objectStore(O);d._hasGetAll="getAll"in L;for(var U=0;U<L.indexNames.length;++U){var W=L.indexNames[U],Y=L.index(W).keyPath,ie=typeof Y=="string"?Y:"["+v(Y).join("+")+"]";!m[O]||(Y=m[O].idxByName[ie])&&(Y.name=W,delete m[O].idxByName[ie],m[O].idxByName[W]=Y)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function r0(d){return d.split(",").map(function(m,_){var O=m.split(":"),E=(R=O[1])===null||R===void 0?void 0:R.trim(),R=(m=O[0].trim()).replace(/([&*]|\+\+)/g,""),O=/^\[/.test(R)?R.match(/^\[(.*)\]$/)[1].split("+"):R;return lf(R,O||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),a(O),_===0,E)})}var jT=(Po.prototype._createTableSchema=uf,Po.prototype._parseIndexSyntax=r0,Po.prototype._parseStoresSpec=function(d,m){var _=this;o(d).forEach(function(E){if(d[E]!==null){var R=_._parseIndexSyntax(d[E]),O=R.shift();if(!O)throw new ce.Schema("Invalid schema for table "+E+": "+d[E]);if(O.unique=!0,O.multi)throw new ce.Schema("Primary key cannot be multiEntry*");R.forEach(function(L){if(L.auto)throw new ce.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new ce.Schema("Index must have a name and cannot be an empty string")}),R=_._createTableSchema(E,O,R),m[E]=R}})},Po.prototype.stores=function(_){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,_):_;var _=m._versions,E={},R={};return _.forEach(function(O){l(E,O._cfg.storesSource),R=O._cfg.dbschema={},O._parseStoresSpec(E,R)}),m._dbSchema=R,df(m,[m._allTables,m,m.Transaction.prototype]),hc(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],o(R),R),m._storeNames=o(R),this},Po.prototype.upgrade=function(d){return this._cfg.contentUpgrade=xe(this._cfg.contentUpgrade||Ke,d),this},Po);function Po(){}function pf(d,m){var _=d._dbNamesDB;return _||(_=d._dbNamesDB=new ts(ic,{addons:[],indexedDB:d,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),_.table("dbnames")}function mf(d){return d&&typeof d.databases=="function"}function gf(d){return Cs(function(){return Ae.letThrough=!0,d()})}function yf(d){return!("from"in d)}var cn=function(d,m){if(!this){var _=new cn;return d&&"d"in d&&l(_,d),_}l(this,arguments.length?{d:1,from:d,to:1<arguments.length?m:d}:{d:0})};function rl(d,m,_){var E=st(m,_);if(!isNaN(E)){if(0<E)throw RangeError();if(yf(d))return l(d,{from:m,to:_,d:1});var R=d.l,E=d.r;if(st(_,d.from)<0)return R?rl(R,m,_):d.l={from:m,to:_,d:1,l:null,r:null},i0(d);if(0<st(m,d.to))return E?rl(E,m,_):d.r={from:m,to:_,d:1,l:null,r:null},i0(d);st(m,d.from)<0&&(d.from=m,d.l=null,d.d=E?E.d+1:1),0<st(_,d.to)&&(d.to=_,d.r=null,d.d=d.l?d.l.d+1:1),_=!d.r,R&&!d.l&&sl(d,R),E&&_&&sl(d,E)}}function sl(d,m){yf(m)||function _(E,W){var O=W.from,L=W.to,U=W.l,W=W.r;rl(E,O,L),U&&_(E,U),W&&_(E,W)}(d,m)}function s0(d,m){var _=gc(m),E=_.next();if(E.done)return!1;for(var R=E.value,O=gc(d),L=O.next(R.from),U=L.value;!E.done&&!L.done;){if(st(U.from,R.to)<=0&&0<=st(U.to,R.from))return!0;st(R.from,U.from)<0?R=(E=_.next(U.from)).value:U=(L=O.next(R.from)).value}return!1}function gc(d){var m=yf(d)?null:{s:0,n:d};return{next:function(_){for(var E=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,E)for(;m.n.l&&st(_,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!E||st(_,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function i0(d){var m,_,E=(((m=d.r)===null||m===void 0?void 0:m.d)||0)-(((_=d.l)===null||_===void 0?void 0:_.d)||0),R=1<E?"r":E<-1?"l":"";R&&(m=R=="r"?"l":"r",_=r({},d),E=d[R],d.from=E.from,d.to=E.to,d[R]=E[R],_[R]=E[m],(d[m]=_).d=o0(_)),d.d=o0(d)}function o0(_){var m=_.r,_=_.l;return(m?_?Math.max(m.d,_.d):m.d:_?_.d:0)+1}function yc(d,m){return o(m).forEach(function(_){d[_]?sl(d[_],m[_]):d[_]=function E(R){var O,L,U={};for(O in R)h(R,O)&&(L=R[O],U[O]=!L||typeof L!="object"||ue.has(L.constructor)?L:E(L));return U}(m[_])}),d}function vf(d,m){return d.all||m.all||Object.keys(d).some(function(_){return m[_]&&s0(m[_],d[_])})}f(cn.prototype,((tr={add:function(d){return sl(this,d),this},addKey:function(d){return rl(this,d,d),this},addKeys:function(d){var m=this;return d.forEach(function(_){return rl(m,_,_)}),this},hasKey:function(d){var m=gc(this).next(d).value;return m&&st(m.from,d)<=0&&0<=st(m.to,d)}})[ve]=function(){return gc(this)},tr));var Ti={},wf={},bf=!1;function vc(d){yc(wf,d),bf||(bf=!0,setTimeout(function(){bf=!1,xf(wf,!(wf={}))},0))}function xf(d,m){m===void 0&&(m=!1);var _=new Set;if(d.all)for(var E=0,R=Object.values(Ti);E<R.length;E++)a0(L=R[E],d,_,m);else for(var O in d){var L,U=/^idb\:\/\/(.*)\/(.*)\//.exec(O);U&&(O=U[1],U=U[2],(L=Ti["idb://".concat(O,"/").concat(U)])&&a0(L,d,_,m))}_.forEach(function(W){return W()})}function a0(d,m,_,E){for(var R=[],O=0,L=Object.entries(d.queries.query);O<L.length;O++){for(var U=L[O],W=U[0],Y=[],ie=0,z=U[1];ie<z.length;ie++){var ae=z[ie];vf(m,ae.obsSet)?ae.subscribers.forEach(function(oe){return _.add(oe)}):E&&Y.push(ae)}E&&R.push([W,Y])}if(E)for(var J=0,te=R;J<te.length;J++){var ne=te[J],W=ne[0],Y=ne[1];d.queries.query[W]=Y}}function AT(d){var m=d._state,_=d._deps.indexedDB;if(m.isBeingOpened||d.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?Ot(m.dbOpenError):d});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var E=m.openCanceller,R=Math.round(10*d.verno),O=!1;function L(){if(m.openCanceller!==E)throw new ce.DatabaseClosed("db.open() was cancelled")}function U(){return new Ie(function(ae,J){if(L(),!_)throw new ce.MissingAPI;var te=d.name,ne=m.autoSchema||!R?_.open(te):_.open(te,R);if(!ne)throw new ce.MissingAPI;ne.onerror=Nr(J),ne.onblocked=wt(d._fireOnBlocked),ne.onupgradeneeded=wt(function(oe){var le;ie=ne.transaction,m.autoSchema&&!d._options.allowEmptyDB?(ne.onerror=Xa,ie.abort(),ne.result.close(),(le=_.deleteDatabase(te)).onsuccess=le.onerror=wt(function(){J(new ce.NoSuchDatabase("Database ".concat(te," doesnt exist")))})):(ie.onerror=Nr(J),oe=oe.oldVersion>Math.pow(2,62)?0:oe.oldVersion,z=oe<1,d.idbdb=ne.result,O&&RT(d,ie),PT(d,oe/10,ie,J))},J),ne.onsuccess=wt(function(){ie=null;var oe,le,fe,ye,_e,Pe=d.idbdb=ne.result,De=v(Pe.objectStoreNames);if(0<De.length)try{var Te=Pe.transaction((ye=De).length===1?ye[0]:ye,"readonly");if(m.autoSchema)le=Pe,fe=Te,(oe=d).verno=le.version/10,fe=oe._dbSchema=pc(0,le,fe),oe._storeNames=v(le.objectStoreNames,0),hc(oe,[oe._allTables],o(fe),fe);else if(mc(d,d._dbSchema,Te),((_e=hf(pc(0,(_e=d).idbdb,Te),_e._dbSchema)).add.length||_e.change.some(function(Re){return Re.add.length||Re.change.length}))&&!O)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Pe.close(),R=Pe.version+1,O=!0,ae(U());dc(d,Te)}catch{}Eo.push(d),Pe.onversionchange=wt(function(Re){m.vcFired=!0,d.on("versionchange").fire(Re)}),Pe.onclose=wt(function(){d.close({disableAutoOpen:!1})}),z&&(_e=d._deps,Te=te,Pe=_e.indexedDB,_e=_e.IDBKeyRange,mf(Pe)||Te===ic||pf(Pe,_e).put({name:Te}).catch(Ke)),ae()},J)}).catch(function(ae){switch(ae==null?void 0:ae.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),U();break;case"VersionError":if(0<R)return R=0,U()}return Ie.reject(ae)})}var W,Y=m.dbReadyResolve,ie=null,z=!1;return Ie.race([E,(typeof navigator>"u"?Ie.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ae){function J(){return indexedDB.databases().finally(ae)}W=setInterval(J,100),J()}).finally(function(){return clearInterval(W)}):Promise.resolve()).then(U)]).then(function(){return L(),m.onReadyBeingFired=[],Ie.resolve(gf(function(){return d.on.ready.fire(d.vip)})).then(function ae(){if(0<m.onReadyBeingFired.length){var J=m.onReadyBeingFired.reduce(xe,Ke);return m.onReadyBeingFired=[],Ie.resolve(gf(function(){return J(d.vip)})).then(ae)}})}).finally(function(){m.openCanceller===E&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function(ae){m.dbOpenError=ae;try{ie&&ie.abort()}catch{}return E===m.openCanceller&&d._close(),Ot(ae)}).finally(function(){m.openComplete=!0,Y()}).then(function(){var ae;return z&&(ae={},d.tables.forEach(function(J){J.schema.indexes.forEach(function(te){te.name&&(ae["idb://".concat(d.name,"/").concat(J.name,"/").concat(te.name)]=new cn(-1/0,[[[]]]))}),ae["idb://".concat(d.name,"/").concat(J.name,"/")]=ae["idb://".concat(d.name,"/").concat(J.name,"/:dels")]=new cn(-1/0,[[[]]])}),js(el).fire(ae),xf(ae,!0)),d})}function _f(d){function m(O){return d.next(O)}var _=R(m),E=R(function(O){return d.throw(O)});function R(O){return function(W){var U=O(W),W=U.value;return U.done?W:W&&typeof W.then=="function"?W.then(_,E):a(W)?Promise.all(W).then(_,E):_(W)}}return R(m)()}function wc(d,m,_){for(var E=a(d)?d.slice():[d],R=0;R<_;++R)E.push(m);return E}var OT={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return r(r({},d),{table:function(m){var _=d.table(m),E=_.schema,R={},O=[];function L(z,ae,J){var te=nl(z),ne=R[te]=R[te]||[],oe=z==null?0:typeof z=="string"?1:z.length,le=0<ae,le=r(r({},J),{name:le?"".concat(te,"(virtual-from:").concat(J.name,")"):J.name,lowLevelIndex:J,isVirtual:le,keyTail:ae,keyLength:oe,extractKey:cf(z),unique:!le&&J.unique});return ne.push(le),le.isPrimaryKey||O.push(le),1<oe&&L(oe===2?z[0]:z.slice(0,oe-1),ae+1,J),ne.sort(function(fe,ye){return fe.keyTail-ye.keyTail}),le}m=L(E.primaryKey.keyPath,0,E.primaryKey),R[":id"]=[m];for(var U=0,W=E.indexes;U<W.length;U++){var Y=W[U];L(Y.keyPath,0,Y)}function ie(z){var ae,J=z.query.index;return J.isVirtual?r(r({},z),{query:{index:J.lowLevelIndex,range:(ae=z.query.range,J=J.keyTail,{type:ae.type===1?2:ae.type,lower:wc(ae.lower,ae.lowerOpen?d.MAX_KEY:d.MIN_KEY,J),lowerOpen:!0,upper:wc(ae.upper,ae.upperOpen?d.MIN_KEY:d.MAX_KEY,J),upperOpen:!0})}}):z}return r(r({},_),{schema:r(r({},E),{primaryKey:m,indexes:O,getIndexByKeyPath:function(z){return(z=R[nl(z)])&&z[0]}}),count:function(z){return _.count(ie(z))},query:function(z){return _.query(ie(z))},openCursor:function(z){var ae=z.query.index,J=ae.keyTail,te=ae.isVirtual,ne=ae.keyLength;return te?_.openCursor(ie(z)).then(function(le){return le&&oe(le)}):_.openCursor(z);function oe(le){return Object.create(le,{continue:{value:function(fe){fe!=null?le.continue(wc(fe,z.reverse?d.MAX_KEY:d.MIN_KEY,J)):z.unique?le.continue(le.key.slice(0,ne).concat(z.reverse?d.MIN_KEY:d.MAX_KEY,J)):le.continue()}},continuePrimaryKey:{value:function(fe,ye){le.continuePrimaryKey(wc(fe,d.MAX_KEY,J),ye)}},primaryKey:{get:function(){return le.primaryKey}},key:{get:function(){var fe=le.key;return ne===1?fe[0]:fe.slice(0,ne)}},value:{get:function(){return le.value}}})}}})}})}};function kf(d,m,_,E){return _=_||{},E=E||"",o(d).forEach(function(R){var O,L,U;h(m,R)?(O=d[R],L=m[R],typeof O=="object"&&typeof L=="object"&&O&&L?(U=Z(O))!==Z(L)?_[E+R]=m[R]:U==="Object"?kf(O,L,_,E+R+"."):O!==L&&(_[E+R]=m[R]):O!==L&&(_[E+R]=m[R])):_[E+R]=void 0}),o(m).forEach(function(R){h(d,R)||(_[E+R]=m[R])}),_}function Sf(d,m){return m.type==="delete"?m.keys:m.keys||m.values.map(d.extractKey)}var IT={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return r(r({},d),{table:function(m){var _=d.table(m),E=_.schema.primaryKey;return r(r({},_),{mutate:function(R){var O=Ae.trans,L=O.table(m).hook,U=L.deleting,W=L.creating,Y=L.updating;switch(R.type){case"add":if(W.fire===Ke)break;return O._promise("readwrite",function(){return ie(R)},!0);case"put":if(W.fire===Ke&&Y.fire===Ke)break;return O._promise("readwrite",function(){return ie(R)},!0);case"delete":if(U.fire===Ke)break;return O._promise("readwrite",function(){return ie(R)},!0);case"deleteRange":if(U.fire===Ke)break;return O._promise("readwrite",function(){return function z(ae,J,te){return _.query({trans:ae,values:!1,query:{index:E,range:J},limit:te}).then(function(ne){var oe=ne.result;return ie({type:"delete",keys:oe,trans:ae}).then(function(le){return 0<le.numFailures?Promise.reject(le.failures[0]):oe.length<te?{failures:[],numFailures:0,lastResult:void 0}:z(ae,r(r({},J),{lower:oe[oe.length-1],lowerOpen:!0}),te)})})}(R.trans,R.range,1e4)},!0)}return _.mutate(R);function ie(z){var ae,J,te,ne=Ae.trans,oe=z.keys||Sf(E,z);if(!oe)throw new Error("Keys missing");return(z=z.type==="add"||z.type==="put"?r(r({},z),{keys:oe}):r({},z)).type!=="delete"&&(z.values=s([],z.values)),z.keys&&(z.keys=s([],z.keys)),ae=_,te=oe,((J=z).type==="add"?Promise.resolve([]):ae.getMany({trans:J.trans,keys:te,cache:"immutable"})).then(function(le){var fe=oe.map(function(ye,_e){var Pe,De,Te,Re=le[_e],Ne={onerror:null,onsuccess:null};return z.type==="delete"?U.fire.call(Ne,ye,Re,ne):z.type==="add"||Re===void 0?(Pe=W.fire.call(Ne,ye,z.values[_e],ne),ye==null&&Pe!=null&&(z.keys[_e]=ye=Pe,E.outbound||A(z.values[_e],E.keyPath,ye))):(Pe=kf(Re,z.values[_e]),(De=Y.fire.call(Ne,Pe,ye,Re,ne))&&(Te=z.values[_e],Object.keys(De).forEach(function(Oe){h(Te,Oe)?Te[Oe]=De[Oe]:A(Te,Oe,De[Oe])}))),Ne});return _.mutate(z).then(function(ye){for(var _e=ye.failures,Pe=ye.results,De=ye.numFailures,ye=ye.lastResult,Te=0;Te<oe.length;++Te){var Re=(Pe||oe)[Te],Ne=fe[Te];Re==null?Ne.onerror&&Ne.onerror(_e[Te]):Ne.onsuccess&&Ne.onsuccess(z.type==="put"&&le[Te]?z.values[Te]:Re)}return{failures:_e,results:Pe,numFailures:De,lastResult:ye}}).catch(function(ye){return fe.forEach(function(_e){return _e.onerror&&_e.onerror(ye)}),Promise.reject(ye)})})}}})}})}};function l0(d,m,_){try{if(!m||m.keys.length<d.length)return null;for(var E=[],R=0,O=0;R<m.keys.length&&O<d.length;++R)st(m.keys[R],d[O])===0&&(E.push(_?V(m.values[R]):m.values[R]),++O);return E.length===d.length?E:null}catch{return null}}var DT={stack:"dbcore",level:-1,create:function(d){return{table:function(m){var _=d.table(m);return r(r({},_),{getMany:function(E){if(!E.cache)return _.getMany(E);var R=l0(E.keys,E.trans._cache,E.cache==="clone");return R?Ie.resolve(R):_.getMany(E).then(function(O){return E.trans._cache={keys:E.keys,values:E.cache==="clone"?V(O):O},O})},mutate:function(E){return E.type!=="add"&&(E.trans._cache=null),_.mutate(E)}})}}}};function u0(d,m){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function c0(d,m){switch(d){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var NT={stack:"dbcore",level:0,name:"Observability",create:function(d){var m=d.schema.name,_=new cn(d.MIN_KEY,d.MAX_KEY);return r(r({},d),{transaction:function(E,R,O){if(Ae.subscr&&R!=="readonly")throw new ce.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ae.querier));return d.transaction(E,R,O)},table:function(E){var R=d.table(E),O=R.schema,L=O.primaryKey,z=O.indexes,U=L.extractKey,W=L.outbound,Y=L.autoIncrement&&z.filter(function(J){return J.compound&&J.keyPath.includes(L.keyPath)}),ie=r(r({},R),{mutate:function(J){function te(Oe){return Oe="idb://".concat(m,"/").concat(E,"/").concat(Oe),ye[Oe]||(ye[Oe]=new cn)}var ne,oe,le,fe=J.trans,ye=J.mutatedParts||(J.mutatedParts={}),_e=te(""),Pe=te(":dels"),De=J.type,Ne=J.type==="deleteRange"?[J.range]:J.type==="delete"?[J.keys]:J.values.length<50?[Sf(L,J).filter(function(Oe){return Oe}),J.values]:[],Te=Ne[0],Re=Ne[1],Ne=J.trans._cache;return a(Te)?(_e.addKeys(Te),(Ne=De==="delete"||Te.length===Re.length?l0(Te,Ne):null)||Pe.addKeys(Te),(Ne||Re)&&(ne=te,oe=Ne,le=Re,O.indexes.forEach(function(Oe){var Fe=ne(Oe.name||"");function Xe(tt){return tt!=null?Oe.extractKey(tt):null}function et(tt){return Oe.multiEntry&&a(tt)?tt.forEach(function(zn){return Fe.addKey(zn)}):Fe.addKey(tt)}(oe||le).forEach(function(tt,dn){var Ze=oe&&Xe(oe[dn]),dn=le&&Xe(le[dn]);st(Ze,dn)!==0&&(Ze!=null&&et(Ze),dn!=null&&et(dn))})}))):Te?(Re={from:(Re=Te.lower)!==null&&Re!==void 0?Re:d.MIN_KEY,to:(Re=Te.upper)!==null&&Re!==void 0?Re:d.MAX_KEY},Pe.add(Re),_e.add(Re)):(_e.add(_),Pe.add(_),O.indexes.forEach(function(Oe){return te(Oe.name).add(_)})),R.mutate(J).then(function(Oe){return!Te||J.type!=="add"&&J.type!=="put"||(_e.addKeys(Oe.results),Y&&Y.forEach(function(Fe){for(var Xe=J.values.map(function(Ze){return Fe.extractKey(Ze)}),et=Fe.keyPath.findIndex(function(Ze){return Ze===L.keyPath}),tt=0,zn=Oe.results.length;tt<zn;++tt)Xe[tt][et]=Oe.results[tt];te(Fe.name).addKeys(Xe)})),fe.mutatedParts=yc(fe.mutatedParts||{},ye),Oe})}}),z=function(te){var ne=te.query,te=ne.index,ne=ne.range;return[te,new cn((te=ne.lower)!==null&&te!==void 0?te:d.MIN_KEY,(ne=ne.upper)!==null&&ne!==void 0?ne:d.MAX_KEY)]},ae={get:function(J){return[L,new cn(J.key)]},getMany:function(J){return[L,new cn().addKeys(J.keys)]},count:z,query:z,openCursor:z};return o(ae).forEach(function(J){ie[J]=function(te){var ne=Ae.subscr,oe=!!ne,le=u0(Ae,R)&&c0(J,te)?te.obsSet={}:ne;if(oe){var fe=function(Re){return Re="idb://".concat(m,"/").concat(E,"/").concat(Re),le[Re]||(le[Re]=new cn)},ye=fe(""),_e=fe(":dels"),ne=ae[J](te),oe=ne[0],ne=ne[1];if((J==="query"&&oe.isPrimaryKey&&!te.values?_e:fe(oe.name||"")).add(ne),!oe.isPrimaryKey){if(J!=="count"){var Pe=J==="query"&&W&&te.values&&R.query(r(r({},te),{values:!1}));return R[J].apply(this,arguments).then(function(Re){if(J==="query"){if(W&&te.values)return Pe.then(function(Xe){return Xe=Xe.result,ye.addKeys(Xe),Re});var Ne=te.values?Re.result.map(U):Re.result;(te.values?ye:_e).addKeys(Ne)}else if(J==="openCursor"){var Oe=Re,Fe=te.values;return Oe&&Object.create(Oe,{key:{get:function(){return _e.addKey(Oe.primaryKey),Oe.key}},primaryKey:{get:function(){var Xe=Oe.primaryKey;return _e.addKey(Xe),Xe}},value:{get:function(){return Fe&&ye.addKey(Oe.primaryKey),Oe.value}}})}return Re})}_e.add(_)}}return R[J].apply(this,arguments)}}),ie}})}};function d0(d,m,_){if(_.numFailures===0)return m;if(m.type==="deleteRange")return null;var E=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return _.numFailures===E?null:(m=r({},m),a(m.keys)&&(m.keys=m.keys.filter(function(R,O){return!(O in _.failures)})),"values"in m&&a(m.values)&&(m.values=m.values.filter(function(R,O){return!(O in _.failures)})),m)}function Ef(d,m){return _=d,((E=m).lower===void 0||(E.lowerOpen?0<st(_,E.lower):0<=st(_,E.lower)))&&(d=d,(m=m).upper===void 0||(m.upperOpen?st(d,m.upper)<0:st(d,m.upper)<=0));var _,E}function h0(d,m,ae,E,R,O){if(!ae||ae.length===0)return d;var L=m.query.index,U=L.multiEntry,W=m.query.range,Y=E.schema.primaryKey.extractKey,ie=L.extractKey,z=(L.lowLevelIndex||L).extractKey,ae=ae.reduce(function(J,te){var ne=J,oe=[];if(te.type==="add"||te.type==="put")for(var le=new cn,fe=te.values.length-1;0<=fe;--fe){var ye,_e=te.values[fe],Pe=Y(_e);le.hasKey(Pe)||(ye=ie(_e),(U&&a(ye)?ye.some(function(Oe){return Ef(Oe,W)}):Ef(ye,W))&&(le.addKey(Pe),oe.push(_e)))}switch(te.type){case"add":var De=new cn().addKeys(m.values?J.map(function(Fe){return Y(Fe)}):J),ne=J.concat(m.values?oe.filter(function(Fe){return Fe=Y(Fe),!De.hasKey(Fe)&&(De.addKey(Fe),!0)}):oe.map(function(Fe){return Y(Fe)}).filter(function(Fe){return!De.hasKey(Fe)&&(De.addKey(Fe),!0)}));break;case"put":var Te=new cn().addKeys(te.values.map(function(Fe){return Y(Fe)}));ne=J.filter(function(Fe){return!Te.hasKey(m.values?Y(Fe):Fe)}).concat(m.values?oe:oe.map(function(Fe){return Y(Fe)}));break;case"delete":var Re=new cn().addKeys(te.keys);ne=J.filter(function(Fe){return!Re.hasKey(m.values?Y(Fe):Fe)});break;case"deleteRange":var Ne=te.range;ne=J.filter(function(Fe){return!Ef(Y(Fe),Ne)})}return ne},d);return ae===d?d:(ae.sort(function(J,te){return st(z(J),z(te))||st(Y(J),Y(te))}),m.limit&&m.limit<1/0&&(ae.length>m.limit?ae.length=m.limit:d.length===m.limit&&ae.length<m.limit&&(R.dirty=!0)),O?Object.freeze(ae):ae)}function f0(d,m){return st(d.lower,m.lower)===0&&st(d.upper,m.upper)===0&&!!d.lowerOpen==!!m.lowerOpen&&!!d.upperOpen==!!m.upperOpen}function LT(d,m){return function(_,E,R,O){if(_===void 0)return E!==void 0?-1:0;if(E===void 0)return 1;if((E=st(_,E))===0){if(R&&O)return 0;if(R)return 1;if(O)return-1}return E}(d.lower,m.lower,d.lowerOpen,m.lowerOpen)<=0&&0<=function(_,E,R,O){if(_===void 0)return E!==void 0?1:0;if(E===void 0)return-1;if((E=st(_,E))===0){if(R&&O)return 0;if(R)return-1;if(O)return 1}return E}(d.upper,m.upper,d.upperOpen,m.upperOpen)}function MT(d,m,_,E){d.subscribers.add(_),E.addEventListener("abort",function(){var R,O;d.subscribers.delete(_),d.subscribers.size===0&&(R=d,O=m,setTimeout(function(){R.subscribers.size===0&&X(O,R)},3e3))})}var $T={stack:"dbcore",level:0,name:"Cache",create:function(d){var m=d.schema.name;return r(r({},d),{transaction:function(_,E,R){var O,L,U=d.transaction(_,E,R);return E==="readwrite"&&(L=(O=new AbortController).signal,R=function(W){return function(){if(O.abort(),E==="readwrite"){for(var Y=new Set,ie=0,z=_;ie<z.length;ie++){var ae=z[ie],J=Ti["idb://".concat(m,"/").concat(ae)];if(J){var te=d.table(ae),ne=J.optimisticOps.filter(function(Fe){return Fe.trans===U});if(U._explicit&&W&&U.mutatedParts)for(var oe=0,le=Object.values(J.queries.query);oe<le.length;oe++)for(var fe=0,ye=(De=le[oe]).slice();fe<ye.length;fe++)vf((Te=ye[fe]).obsSet,U.mutatedParts)&&(X(De,Te),Te.subscribers.forEach(function(Fe){return Y.add(Fe)}));else if(0<ne.length){J.optimisticOps=J.optimisticOps.filter(function(Fe){return Fe.trans!==U});for(var _e=0,Pe=Object.values(J.queries.query);_e<Pe.length;_e++)for(var De,Te,Re,Ne=0,Oe=(De=Pe[_e]).slice();Ne<Oe.length;Ne++)(Te=Oe[Ne]).res!=null&&U.mutatedParts&&(W&&!Te.dirty?(Re=Object.isFrozen(Te.res),Re=h0(Te.res,Te.req,ne,te,Te,Re),Te.dirty?(X(De,Te),Te.subscribers.forEach(function(Fe){return Y.add(Fe)})):Re!==Te.res&&(Te.res=Re,Te.promise=Ie.resolve({result:Re}))):(Te.dirty&&X(De,Te),Te.subscribers.forEach(function(Fe){return Y.add(Fe)})))}}}Y.forEach(function(Fe){return Fe()})}}},U.addEventListener("abort",R(!1),{signal:L}),U.addEventListener("error",R(!1),{signal:L}),U.addEventListener("complete",R(!0),{signal:L})),U},table:function(_){var E=d.table(_),R=E.schema.primaryKey;return r(r({},E),{mutate:function(O){var L=Ae.trans;if(R.outbound||L.db._options.cache==="disabled"||L.explicit||L.idbtrans.mode!=="readwrite")return E.mutate(O);var U=Ti["idb://".concat(m,"/").concat(_)];return U?(L=E.mutate(O),O.type!=="add"&&O.type!=="put"||!(50<=O.values.length||Sf(R,O).some(function(W){return W==null}))?(U.optimisticOps.push(O),O.mutatedParts&&vc(O.mutatedParts),L.then(function(W){0<W.numFailures&&(X(U.optimisticOps,O),(W=d0(0,O,W))&&U.optimisticOps.push(W),O.mutatedParts&&vc(O.mutatedParts))}),L.catch(function(){X(U.optimisticOps,O),O.mutatedParts&&vc(O.mutatedParts)})):L.then(function(W){var Y=d0(0,r(r({},O),{values:O.values.map(function(ie,z){var ae;return W.failures[z]?ie:(ie=(ae=R.keyPath)!==null&&ae!==void 0&&ae.includes(".")?V(ie):r({},ie),A(ie,R.keyPath,W.results[z]),ie)})}),W);U.optimisticOps.push(Y),queueMicrotask(function(){return O.mutatedParts&&vc(O.mutatedParts)})}),L):E.mutate(O)},query:function(O){if(!u0(Ae,E)||!c0("query",O))return E.query(O);var L=((Y=Ae.trans)===null||Y===void 0?void 0:Y.db._options.cache)==="immutable",z=Ae,U=z.requery,W=z.signal,Y=function(te,ne,oe,le){var fe=Ti["idb://".concat(te,"/").concat(ne)];if(!fe)return[];if(!(ne=fe.queries[oe]))return[null,!1,fe,null];var ye=ne[(le.query?le.query.index.name:null)||""];if(!ye)return[null,!1,fe,null];switch(oe){case"query":var _e=ye.find(function(Pe){return Pe.req.limit===le.limit&&Pe.req.values===le.values&&f0(Pe.req.query.range,le.query.range)});return _e?[_e,!0,fe,ye]:[ye.find(function(Pe){return("limit"in Pe.req?Pe.req.limit:1/0)>=le.limit&&(!le.values||Pe.req.values)&&LT(Pe.req.query.range,le.query.range)}),!1,fe,ye];case"count":return _e=ye.find(function(Pe){return f0(Pe.req.query.range,le.query.range)}),[_e,!!_e,fe,ye]}}(m,_,"query",O),ie=Y[0],z=Y[1],ae=Y[2],J=Y[3];return ie&&z?ie.obsSet=O.obsSet:(z=E.query(O).then(function(te){var ne=te.result;if(ie&&(ie.res=ne),L){for(var oe=0,le=ne.length;oe<le;++oe)Object.freeze(ne[oe]);Object.freeze(ne)}else te.result=V(ne);return te}).catch(function(te){return J&&ie&&X(J,ie),Promise.reject(te)}),ie={obsSet:O.obsSet,promise:z,subscribers:new Set,type:"query",req:O,dirty:!1},J?J.push(ie):(J=[ie],(ae=ae||(Ti["idb://".concat(m,"/").concat(_)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[O.query.index.name||""]=J)),MT(ie,J,U,W),ie.promise.then(function(te){return{result:h0(te.result,O,ae==null?void 0:ae.optimisticOps,E,ie,L)}})}})}})}};function bc(d,m){return new Proxy(d,{get:function(_,E,R){return E==="db"?m:Reflect.get(_,E,R)}})}var ts=(It.prototype.version=function(d){if(isNaN(d)||d<.1)throw new ce.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new ce.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var m=this._versions,_=m.filter(function(E){return E._cfg.version===d})[0];return _||(_=new this.Version(d),m.push(_),m.sort(TT),_.stores({}),this._state.autoSchema=!1,_)},It.prototype._whenReady=function(d){var m=this;return this.idbdb&&(this._state.openComplete||Ae.letThrough||this._vip)?d():new Ie(function(_,E){if(m._state.openComplete)return E(new ce.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void E(new ce.DatabaseClosed);m.open().catch(Ke)}m._state.dbReadyPromise.then(_,E)}).then(d)},It.prototype.use=function(d){var m=d.stack,_=d.create,E=d.level,R=d.name;return R&&this.unuse({stack:m,name:R}),d=this._middlewares[m]||(this._middlewares[m]=[]),d.push({stack:m,create:_,level:E??10,name:R}),d.sort(function(O,L){return O.level-L.level}),this},It.prototype.unuse=function(d){var m=d.stack,_=d.name,E=d.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(R){return E?R.create!==E:!!_&&R.name!==_})),this},It.prototype.open=function(){var d=this;return Si(He,function(){return AT(d)})},It.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var d=this._state,m=Eo.indexOf(this);if(0<=m&&Eo.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new Ie(function(_){d.dbReadyResolve=_}),d.openCanceller=new Ie(function(_,E){d.cancelOpen=E}))},It.prototype.close=function(_){var m=(_===void 0?{disableAutoOpen:!0}:_).disableAutoOpen,_=this._state;m?(_.isBeingOpened&&_.cancelOpen(new ce.DatabaseClosed),this._close(),_.autoOpen=!1,_.dbOpenError=new ce.DatabaseClosed):(this._close(),_.autoOpen=this._options.autoOpen||_.isBeingOpened,_.openComplete=!1,_.dbOpenError=null)},It.prototype.delete=function(d){var m=this;d===void 0&&(d={disableAutoOpen:!0});var _=0<arguments.length&&typeof arguments[0]!="object",E=this._state;return new Ie(function(R,O){function L(){m.close(d);var U=m._deps.indexedDB.deleteDatabase(m.name);U.onsuccess=wt(function(){var W,Y,ie;W=m._deps,Y=m.name,ie=W.indexedDB,W=W.IDBKeyRange,mf(ie)||Y===ic||pf(ie,W).delete(Y).catch(Ke),R()}),U.onerror=Nr(O),U.onblocked=m._fireOnBlocked}if(_)throw new ce.InvalidArgument("Invalid closeOptions argument to db.delete()");E.isBeingOpened?E.dbReadyPromise.then(L):L()})},It.prototype.backendDB=function(){return this.idbdb},It.prototype.isOpen=function(){return this.idbdb!==null},It.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},It.prototype.hasFailed=function(){return this._state.dbOpenError!==null},It.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(It.prototype,"tables",{get:function(){var d=this;return o(this._allTables).map(function(m){return d._allTables[m]})},enumerable:!1,configurable:!0}),It.prototype.transaction=function(){var d=(function(m,_,E){var R=arguments.length;if(R<2)throw new ce.InvalidArgument("Too few arguments");for(var O=new Array(R-1);--R;)O[R-1]=arguments[R];return E=O.pop(),[m,B(O),E]}).apply(this,arguments);return this._transaction.apply(this,d)},It.prototype._transaction=function(d,m,_){var E=this,R=Ae.trans;R&&R.db===this&&d.indexOf("!")===-1||(R=null);var O,L,U=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(L=m.map(function(Y){if(Y=Y instanceof E.Table?Y.name:Y,typeof Y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Y}),d=="r"||d===nf)O=nf;else{if(d!="rw"&&d!=rf)throw new ce.InvalidArgument("Invalid transaction mode: "+d);O=rf}if(R){if(R.mode===nf&&O===rf){if(!U)throw new ce.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");R=null}R&&L.forEach(function(Y){if(R&&R.storeNames.indexOf(Y)===-1){if(!U)throw new ce.SubTransaction("Table "+Y+" not included in parent transaction.");R=null}}),U&&R&&!R.active&&(R=null)}}catch(Y){return R?R._promise(null,function(ie,z){z(Y)}):Ot(Y)}var W=(function Y(ie,z,ae,J,te){return Ie.resolve().then(function(){var ne=Ae.transless||Ae,oe=ie._createTransaction(z,ae,ie._dbSchema,J);if(oe.explicit=!0,ne={trans:oe,transless:ne},J)oe.idbtrans=J.idbtrans;else try{oe.create(),oe.idbtrans._explicit=!0,ie._state.PR1398_maxLoop=3}catch(ye){return ye.name===Se.InvalidState&&ie.isOpen()&&0<--ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ie.close({disableAutoOpen:!1}),ie.open().then(function(){return Y(ie,z,ae,null,te)})):Ot(ye)}var le,fe=K(te);return fe&&So(),ne=Ie.follow(function(){var ye;(le=te.call(oe,oe))&&(fe?(ye=Ts.bind(null,null),le.then(ye,ye)):typeof le.next=="function"&&typeof le.throw=="function"&&(le=_f(le)))},ne),(le&&typeof le.then=="function"?Ie.resolve(le).then(function(ye){return oe.active?ye:Ot(new ce.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ne.then(function(){return le})).then(function(ye){return J&&oe._resolve(),oe._completion.then(function(){return ye})}).catch(function(ye){return oe._reject(ye),Ot(ye)})})}).bind(null,this,O,L,R,_);return R?R._promise(O,W,"lock"):Ae.trans?Si(Ae.transless,function(){return E._whenReady(W)}):this._whenReady(W)},It.prototype.table=function(d){if(!h(this._allTables,d))throw new ce.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},It);function It(d,m){var _=this;this._middlewares={},this.verno=0;var E=It.dependencies;this._options=m=r({addons:It.addons,autoOpen:!0,indexedDB:E.indexedDB,IDBKeyRange:E.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},E=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var R,O,L,U,W,Y={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ke,dbReadyPromise:null,cancelOpen:Ke,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};Y.dbReadyPromise=new Ie(function(z){Y.dbReadyResolve=z}),Y.openCanceller=new Ie(function(z,ae){Y.cancelOpen=ae}),this._state=Y,this.name=d,this.on=Ja(this,"populate","blocked","versionchange","close",{ready:[xe,Ke]}),this.once=function(z,ae){var J=function(){for(var te=[],ne=0;ne<arguments.length;ne++)te[ne]=arguments[ne];_.on(z).unsubscribe(J),ae.apply(_,te)};return _.on(z,J)},this.on.ready.subscribe=x(this.on.ready.subscribe,function(z){return function(ae,J){It.vip(function(){var te,ne=_._state;ne.openComplete?(ne.dbOpenError||Ie.resolve().then(ae),J&&z(ae)):ne.onReadyBeingFired?(ne.onReadyBeingFired.push(ae),J&&z(ae)):(z(ae),te=_,J||z(function oe(){te.on.ready.unsubscribe(ae),te.on.ready.unsubscribe(oe)}))})}}),this.Collection=(R=this,Za(bT.prototype,function(le,oe){this.db=R;var J=zv,te=null;if(oe)try{J=oe()}catch(fe){te=fe}var ne=le._ctx,oe=ne.table,le=oe.hook.reading.fire;this._ctx={table:oe,index:ne.index,isPrimKey:!ne.index||oe.schema.primKey.keyPath&&ne.index===oe.schema.primKey.name,range:J,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:te,or:ne.or,valueMapper:le!==ct?le:null}})),this.Table=(O=this,Za(Gv.prototype,function(z,ae,J){this.db=O,this._tx=J,this.name=z,this.schema=ae,this.hook=O._allTables[z]?O._allTables[z].hook:Ja(null,{creating:[me,Ke],reading:[P,ct],updating:[M,Ke],deleting:[F,Ke]})})),this.Transaction=(L=this,Za(kT.prototype,function(z,ae,J,te,ne){var oe=this;z!=="readonly"&&ae.forEach(function(le){le=(le=J[le])===null||le===void 0?void 0:le.yProps,le&&(ae=ae.concat(le.map(function(fe){return fe.updatesTable})))}),this.db=L,this.mode=z,this.storeNames=ae,this.schema=J,this.chromeTransactionDurability=te,this.idbtrans=null,this.on=Ja(this,"complete","error","abort"),this.parent=ne||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ie(function(le,fe){oe._resolve=le,oe._reject=fe}),this._completion.then(function(){oe.active=!1,oe.on.complete.fire()},function(le){var fe=oe.active;return oe.active=!1,oe.on.error.fire(le),oe.parent?oe.parent._reject(le):fe&&oe.idbtrans&&oe.idbtrans.abort(),Ot(le)})})),this.Version=(U=this,Za(jT.prototype,function(z){this.db=U,this._cfg={version:z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(W=this,Za(Xv.prototype,function(z,ae,J){if(this.db=W,this._ctx={table:z,index:ae===":id"?null:ae,or:J},this._cmp=this._ascending=st,this._descending=function(te,ne){return st(ne,te)},this._max=function(te,ne){return 0<st(te,ne)?te:ne},this._min=function(te,ne){return st(te,ne)<0?te:ne},this._IDBKeyRange=W._deps.IDBKeyRange,!this._IDBKeyRange)throw new ce.MissingAPI})),this.on("versionchange",function(z){0<z.newVersion?console.warn("Another connection wants to upgrade database '".concat(_.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(_.name,"'. Closing db now to resume the delete request.")),_.close({disableAutoOpen:!1})}),this.on("blocked",function(z){!z.newVersion||z.newVersion<z.oldVersion?console.warn("Dexie.delete('".concat(_.name,"') was blocked")):console.warn("Upgrade '".concat(_.name,"' blocked by other connection holding version ").concat(z.oldVersion/10))}),this._maxKey=tl(m.IDBKeyRange),this._createTransaction=function(z,ae,J,te){return new _.Transaction(z,ae,J,_._options.chromeTransactionDurability,te)},this._fireOnBlocked=function(z){_.on("blocked").fire(z),Eo.filter(function(ae){return ae.name===_.name&&ae!==_&&!ae._state.vcFired}).map(function(ae){return ae.on("versionchange").fire(z)})},this.use(DT),this.use($T),this.use(NT),this.use(OT),this.use(IT);var ie=new Proxy(this,{get:function(z,ae,J){if(ae==="_vip")return!0;if(ae==="table")return function(ne){return bc(_.table(ne),ie)};var te=Reflect.get(z,ae,J);return te instanceof Gv?bc(te,ie):ae==="tables"?te.map(function(ne){return bc(ne,ie)}):ae==="_createTransaction"?function(){return bc(te.apply(this,arguments),ie)}:te}});this.vip=ie,E.forEach(function(z){return z(_)})}var xc,tr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",FT=(Cf.prototype.subscribe=function(d,m,_){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:m,complete:_})},Cf.prototype[tr]=function(){return this},Cf);function Cf(d){this._subscribe=d}try{xc={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{xc={indexedDB:null,IDBKeyRange:null}}function p0(d){var m,_=!1,E=new FT(function(R){var O=K(d),L,U=!1,W={},Y={},ie={get closed(){return U},unsubscribe:function(){U||(U=!0,L&&L.abort(),z&&js.storagemutated.unsubscribe(J))}};R.start&&R.start(ie);var z=!1,ae=function(){return tf(te)},J=function(ne){yc(W,ne),vf(Y,W)&&ae()},te=function(){var ne,oe,le;!U&&xc.indexedDB&&(W={},ne={},L&&L.abort(),L=new AbortController,le=function(fe){var ye=_o();try{O&&So();var _e=Cs(d,fe);return _e=O?_e.finally(Ts):_e}finally{ye&&ko()}}(oe={subscr:ne,signal:L.signal,requery:ae,querier:d,trans:null}),Promise.resolve(le).then(function(fe){_=!0,m=fe,U||oe.signal.aborted||(W={},function(ye){for(var _e in ye)if(h(ye,_e))return;return 1}(Y=ne)||z||(js(el,J),z=!0),tf(function(){return!U&&R.next&&R.next(fe)}))},function(fe){_=!1,["DatabaseClosedError","AbortError"].includes(fe==null?void 0:fe.name)||U||tf(function(){U||R.error&&R.error(fe)})}))};return setTimeout(ae,0),ie});return E.hasValue=function(){return _},E.getValue=function(){return m},E}var Pi=ts;function Tf(d){var m=As;try{As=!0,js.storagemutated.fire(d),xf(d,!0)}finally{As=m}}f(Pi,r(r({},Ve),{delete:function(d){return new Pi(d,{addons:[]}).delete()},exists:function(d){return new Pi(d,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return m=Pi.dependencies,_=m.indexedDB,m=m.IDBKeyRange,(mf(_)?Promise.resolve(_.databases()).then(function(E){return E.map(function(R){return R.name}).filter(function(R){return R!==ic})}):pf(_,m).toCollection().primaryKeys()).then(d)}catch{return Ot(new ce.MissingAPI)}var m,_},defineClass:function(){return function(d){l(this,d)}},ignoreTransaction:function(d){return Ae.trans?Si(Ae.transless,d):d()},vip:gf,async:function(d){return function(){try{var m=_f(d.apply(this,arguments));return m&&typeof m.then=="function"?m:Ie.resolve(m)}catch(_){return Ot(_)}}},spawn:function(d,m,_){try{var E=_f(d.apply(_,m||[]));return E&&typeof E.then=="function"?E:Ie.resolve(E)}catch(R){return Ot(R)}},currentTransaction:{get:function(){return Ae.trans||null}},waitFor:function(d,m){return m=Ie.resolve(typeof d=="function"?Pi.ignoreTransaction(d):d).timeout(m||6e4),Ae.trans?Ae.trans.waitFor(m):m},Promise:Ie,debug:{get:function(){return be},set:function(d){de(d)}},derive:y,extend:l,props:f,override:x,Events:Ja,on:js,liveQuery:p0,extendObservabilitySet:yc,getByKeyPath:I,setByKeyPath:A,delByKeyPath:function(d,m){typeof m=="string"?A(d,m,void 0):"length"in m&&[].map.call(m,function(_){A(d,_,void 0)})},shallowClone:D,deepClone:V,getObjectDiff:kf,cmp:st,asap:j,minKey:-1/0,addons:[],connections:Eo,errnames:Se,dependencies:xc,cache:Ti,semVer:"4.2.1",version:"4.2.1".split(".").map(function(d){return parseInt(d)}).reduce(function(d,m,_){return d+m/Math.pow(10,2*_)})})),Pi.maxKey=tl(Pi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(js(el,function(d){As||(d=new CustomEvent(af,{detail:d}),As=!0,dispatchEvent(d),As=!1)}),addEventListener(af,function(d){d=d.detail,As||Tf(d)}));var Ro,As=!1,m0=function(){};return typeof BroadcastChannel<"u"&&((m0=function(){(Ro=new BroadcastChannel(af)).onmessage=function(d){return d.data&&Tf(d.data)}})(),typeof Ro.unref=="function"&&Ro.unref(),js(el,function(d){As||Ro.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!ts.disableBfCache&&d.persisted){be&&console.debug("Dexie: handling persisted pagehide"),Ro!=null&&Ro.close();for(var m=0,_=Eo;m<_.length;m++)_[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!ts.disableBfCache&&d.persisted&&(be&&console.debug("Dexie: handling persisted pageshow"),m0(),Tf({all:new cn(-1/0,[[]])}))})),Ie.rejectionMapper=function(d,m){return!d||d instanceof we||d instanceof TypeError||d instanceof SyntaxError||!d.name||!ze[d.name]?d:(m=new ze[d.name](m||d.message,d),"stack"in d&&w(m,"stack",{get:function(){return this.inner.stack}}),m)},de(be),r(ts,Object.freeze({__proto__:null,Dexie:ts,liveQuery:p0,Entity:Vv,cmp:st,PropModification:Qa,replacePrefix:function(d,m){return new Qa({replacePrefix:[d,m]})},add:function(d){return new Qa({add:d})},remove:function(d){return new Qa({remove:d})},default:ts,RangeSet:cn,mergeRanges:sl,rangesOverlap:s0}),{default:ts}),ts})})(E1);var fD=E1.exports;const ng=Au(fD),lb=Symbol.for("Dexie"),Aa=globalThis[lb]||(globalThis[lb]=ng);if(ng.semVer!==Aa.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ng.semVer} and ${Aa.semVer}`);const{liveQuery:IU,mergeRanges:DU,rangesOverlap:NU,RangeSet:LU,cmp:MU,Entity:$U,PropModification:FU,replacePrefix:BU,add:UU,remove:zU,DexieYProvider:VU}=Aa;function pD(e,t,n){var r,s;typeof e=="function"?(r=t||[],s=n):(r=[],s=t);var i=We.useRef({hasResult:!1,result:s,error:null}),o=We.useReducer(function(u){return u+1},0);o[0];var a=o[1],l=We.useMemo(function(){var u=typeof e=="function"?e():e;if(!u||typeof u.subscribe!="function")throw e===u?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!i.current.hasResult&&typeof window<"u"&&(typeof u.hasValue!="function"||u.hasValue()))if(typeof u.getValue=="function")i.current.result=u.getValue(),i.current.hasResult=!0;else{var c=u.subscribe(function(h){i.current.result=h,i.current.hasResult=!0});typeof c=="function"?c():c.unsubscribe()}return u},r);if(We.useDebugValue(i.current.result),We.useEffect(function(){var u=l.subscribe(function(c){var h=i.current;(h.error!==null||h.result!==c)&&(h.error=null,h.result=c,h.hasResult=!0,a())},function(c){var h=i.current;h.error!==c&&(h.error=c,a())});return typeof u=="function"?u:u.unsubscribe.bind(u)},r),i.current.error)throw i.current.error;return i.current.result}function mD(e,t,n){return pD(function(){return Aa.liveQuery(e)},[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=Aa.DexieYProvider;t&&t.release(e)});class C1 extends Aa{constructor(){super("SankeertanDB");il(this,"categories");il(this,"songIndices");il(this,"songDetails");il(this,"books");this.version(1).stores({categories:"++id",songIndices:"++insertionId, &[bookId+songTitle], bookId",songDetails:"[bookId+songTitle], bookId",books:"bookId, categoryId"})}}let md=null;function Lt(){return md===null&&(md=new C1,console.log("Database initialized or re-initialized.")),md}md=new C1;async function Nh(e){try{const n=await Lt().songIndices.where("bookId").equals(e).sortBy("insertionId");return n.length>0?n:void 0}catch(t){console.error(`Error retrieving song indices for book ${e} from DB:`,t);return}}async function qy(e,t){try{const n=Lt();await n.songIndices.where("bookId").equals(e).delete();const r=t.map(s=>({...s,bookId:e,tags:s.tags||[]}));await n.songIndices.bulkAdd(r)}catch(n){console.error(`Error saving song indices for book ${e} to DB:`,n)}}const Ka=async e=>{try{return await Lt().songIndices.where("bookId").equals(e).count()>0}catch(t){return console.error(`Error checking song indices cache status for book ${e} from DB:`,t),!1}};async function gD(e){try{const n=await Lt().songIndices.where("bookId").equals(e).delete();console.log(`Successfully deleted ${n} song index records for book: ${e}`)}catch(t){console.error(`Error deleting song indices for book ${e} from DB:`,t)}}async function yD(e){try{return await Lt().songIndices.where("bookId").equals(e).count()}catch(t){return console.error(`Error counting song indices for book ${e}:`,t),0}}async function Lh(e,t){try{const n=[e,t];return await Lt().songDetails.where("[bookId+songTitle]").equals(n).count()>0}catch(n){return console.error(`Error checking download status for ${t} in ${e}:`,n),!1}}async function T1(e,t){try{const n=Lt(),r=[e,t];return await n.songDetails.where("[bookId+songTitle]").equals(r).first()}catch(n){console.error(`Error retrieving song detail for ${t} in ${e} from DB:`,n);return}}const P1=(e,t)=>`${e}-${encodeURIComponent(t)}`;async function R1(e){const t=P1(e.bookId,e.songTitle);try{const n={cacheId:t,...e};await Lt().songDetails.put(n)}catch(n){throw console.error(`Error saving song detail for ${t} to DB:`,n),n}}async function vD(e,t){try{const n=Lt(),r=[e,t];await n.songDetails.delete(r)}catch(n){console.error(`Error deleting song detail for ${t} in ${e} from DB:`,n)}}async function j1(e){try{return await Lt().songDetails.where("bookId").equals(e).count()}catch(t){return console.error(`Error counting downloaded songs for book ${e} from DB:`,t),0}}async function A1(e){try{const t=Lt(),n=await t.songDetails.where("bookId").equals(e).delete(),r=await t.songIndices.where("bookId").equals(e).delete();console.log(`Successfully deleted cached book data for ${e}. 
                 Details removed: ${n}, Indices removed: ${r}`)}catch(t){console.error(`Error deleting all book data for book ${e} from DB:`,t)}}async function wD(e){try{await Lt().songDetails.bulkPut(e)}catch(t){throw console.error("Error bulk saving song details:",t),t}}async function bD(e){try{await Lt().songIndices.bulkPut(e)}catch(t){throw console.error("Error bulk saving song indices:",t),t}}function xD(e){const t=[];return e.forEach(n=>{const r=n.id;n.books&&Array.isArray(n.books)&&n.books.forEach(s=>{const i={...s,categoryId:r};t.push(i)})}),t}async function _D(e){const t=Lt(),n=xD(e);if(n.length===0){console.warn("No books found after transformation. Skipping 'books' table refresh.");return}try{await t.transaction("rw",t.books,async()=>{await t.books.clear(),await t.books.bulkPut(n)}),console.log(`Successfully saved ${n.length} books to the 'books' table.`)}catch(r){console.error("Error saving books to DB:",r)}}async function Xd(e){try{return await Lt().books.get(e)}catch(t){console.error(`Error retrieving metadata for book ${e}:`,t);return}}async function O1(e){try{const t=await Xd(e);if(!t)return!1;const n=Number(t.songCount)||0;if(n===0)return!1;const[r,s]=await Promise.all([Ka(e),j1(e)]);return r&&s>=n}catch(t){return console.error(`Error checking download status for book ${e}:`,t),!1}}async function kD(){try{const n=(await Lt().books.toArray()).map(async s=>({bookId:s.bookId,isDownloaded:await O1(s.bookId)}));return(await Promise.all(n)).filter(s=>s.isDownloaded).map(s=>s.bookId)}catch(e){return console.error("Error getting all fully downloaded book IDs:",e),[]}}async function SD(e){try{const t=Lt(),n=await t.songIndices.where("bookId").equals(e).toArray(),r=await t.songDetails.where("bookId").equals(e).toArray();return!n.length&&!r.length?null:{bookId:e,songIndices:n,songDetails:r}}catch(t){return console.error(`Error exporting full book structure for ${e}:`,t),null}}async function ED(e){try{const t=Lt();await t.categories.clear(),await t.categories.bulkAdd(e),await _D(e),console.log("Categories saved successfully.")}catch(t){console.error("Error saving categories to DB:",t)}}const hp=new Map;async function CD(e,t,n,r){const{sourceRow:s,songTitle:i}=t,o=P1(e,i);if(await Lh(e,i))return;const l=hp.get(o);if(l)return l;const u=String(s),c=Number(s),h=(async()=>{if(!e||!i||isNaN(c)||c<0)throw new Error(`Missing or invalid critical song parameters for fetching: Book ID: ${e}, Title: ${i}, Row: ${s}, User: ${n}`);try{const f=await r({bookId:e,sourceRow:u,songTitle:i,sessionuser:n});if(f.length<3)throw new Error("API response is incomplete. Expected [songData, metadata, sourceLanguage].");const[p,w,y,b]=f;await R1({bookId:e,songTitle:i,sourceRow:u,indexPosition:b,songData:p,metadata:w,sourceLanguage:y})}catch(f){throw console.error(`Failed to download and cache song ${i} in book ${e}:`,f),f}})();hp.set(o,h);try{await h}finally{hp.delete(o)}}async function ub(e){const t=e.map(async s=>{const i=s.bookId,o=s.songCount||0,[a,l,u]=await Promise.all([Ka(i),j1(i),yD(i)]);let c=0;a&&u>0?c=u:c=Number(o)||0;const h=c>0?l:0;return{bookId:i,status:{totalSongs:c,downloadedSongs:h,downloadingSongs:{},isIndexDownloaded:a}}}),n=await Promise.all(t),r={};return n.forEach(s=>{r[s.bookId]=s.status}),r}const TD=async e=>{const t=new URL(`${wi}`);t.searchParams.append("mode","api"),t.searchParams.append("apiname","getcategoriesandbooks"),t.searchParams.append("sessionuser",e??"dummyfornow");const n=await fetch(t.toString());if(!n.ok){const i=await n.json().catch(()=>({message:"No detailed error message"}));throw new Error(`Failed to fetch categories and books: ${n.status} - ${JSON.stringify(i)}`)}const r=await n.json();return Object.keys(r).filter(i=>i!=="books").map(i=>({name:i,bookCount:Array.isArray(r[i])?r[i].length:0,books:Array.isArray(r[i])?r[i].map(o=>({bookId:o["Book Id"],bookName:o["Book Name"],Type:o.Type,songCount:o["Song Count"],verseCount:o["Verse Count"],author:o.author,language:o.language,isFullBookDownloadable:o.isFullBookDownloadable==="true"||o.isFullBookDownloadable===!0,isBookSourceSupabase:o.isBookSourceSupabase==="true"||o.isBookSourceSupabase===!0})):[],id:i.toLowerCase().replace(/ /g,"-"),image:`https://placehold.co/800/orange/black?text=${encodeURIComponent(i)}&font=lora`}))},I1=S.createContext({categories:[],isLoading:!1,isFetching:!1,error:null,refresh:()=>{}}),PD=Lt(),RD=({children:e})=>{var u;const{session:t}=xi(),n=(u=t==null?void 0:t.user)==null?void 0:u.email,r=mD(()=>PD.categories.toArray());S.useEffect(()=>{console.log("CategoryContext: Dexie categories loaded:",r==null?void 0:r.length)},[r]);const{isLoading:s,isFetching:i,error:o,data:a,refetch:l}=Dh({queryKey:["categories",n],queryFn:()=>TD(n??null),enabled:!!n&&r!==void 0&&r.length===0,networkMode:"always",staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1});return S.useEffect(()=>{a&&(console.log("CategoryContext: Fetched new categories from API, saving to Dexie..."),ED(a).catch(c=>console.error("Failed to sync categories to Dexie:",c)))},[a]),k.jsx(I1.Provider,{value:{categories:r??[],isLoading:r===void 0||((r==null?void 0:r.length)??0)===0&&s,isFetching:i,error:o,refresh:l},children:e})},Mh=()=>S.useContext(I1),cb=e=>{const[t,n]=S.useState(!1);return S.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;const r=window.matchMedia(e),s=i=>n(i.matches);return n(r.matches),r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}},[e]),t},D1=()=>{const e=Xn();return{handleSignOut:async()=>{const{error:n}=await Ut.auth.signOut();n?console.error("Error signing out:",n):(console.log("User signed out successfully. Navigating to /login."),e("/login"))}}},jD=Lt();function AD(){const[e,t]=S.useState(!1),{categories:n,isLoading:r,isFetching:s,error:i,refresh:o}=Mh(),a=Xn(),[l,u]=S.useState([]),c=cb("(max-width: 600px) and (orientation: portrait)"),h=cb("(max-width: 900px) and (orientation: landscape)"),{session:f}=xi(),{handleSignOut:p}=D1();S.useEffect(()=>{n&&u((D=>{const $=[],B=360/D;for(let ue=0;ue<D;ue++){const N=ue*B;$.push(`hsl(${N}, 70%, 60%)`)}return $})(n.length))},[n==null?void 0:n.length]);const w=async()=>{console.log("Categories & Books -> Triggering manual refresh from server..."),o()},y=S.useCallback(async()=>{t(!1);try{console.warn("[DB ACTION] Attempting to delete entire database..."),await jD.delete(),await p()}catch(A){console.error("[DB ERROR] Could not delete the database:",A)}},[p]),b=S.useCallback(A=>{A.stopPropagation(),t(!0)},[]);if(r||s)return k.jsx("div",{children:"Loading categories..."});if(i instanceof Error)return k.jsxs("div",{children:["Error loading categories: ",i.message]});const g=(A,D)=>{A.stopPropagation(),a(`/books/${D}`)},v={container:{maxWidth:"1000px",margin:"0 auto",padding:"20px",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",backgroundColor:"#f5f7fa",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)"},heading:{textAlign:"center",color:"#2c3e50",marginBottom:"25px",fontSize:"32px",fontWeight:"700",paddingBottom:"15px",borderBottom:"2px solid #eaeaea",display:"flex",justifyContent:"space-between",alignItems:"center"},categoryGrid:{display:"grid",gap:"20px"},categoryItem:{borderRadius:"12px",padding:"20px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)",border:"1px solid #eaeaea",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},categoryIcon:{marginRight:"15px",width:"50px",height:"50px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"white",flexShrink:"0",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},categoryName:{fontWeight:"600",color:"#2c3e50",fontSize:"18px"},actionButton:{border:"none",background:"none",cursor:"pointer",fontSize:"1.5rem",padding:"5px",borderRadius:"5px",transition:"background-color 0.2s",color:"#666",lineHeight:"1.5rem"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modalContent:{backgroundColor:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)",maxWidth:"400px",textAlign:"center"},buttonGroup:{display:"flex",justifyContent:"space-around",marginTop:"20px"}};let x;c?x="repeat(2, 1fr)":h?x="repeat(3, 1fr)":x="repeat(auto-fill, minmax(280px, 1fr))";const C={...v.categoryGrid,gridTemplateColumns:x},j=n==null?void 0:n.filter(A=>{var D;return(D=A.books)==null?void 0:D.some($=>$.Type==="book")}),I=()=>e?k.jsx("div",{style:v.modalOverlay,children:k.jsxs("div",{style:v.modalContent,children:[k.jsx("h3",{className:"text-xl font-bold mb-3 text-red-600",children:" Confirm Permanent Deletion"}),k.jsx("p",{className:"text-gray-700",children:"Are you absolutely sure you want to delete **ALL** stored data (Categories, Books, Songs)? This action cannot be undone."}),k.jsxs("div",{style:v.buttonGroup,children:[k.jsx("button",{onClick:y,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-150",children:"Yes, Delete Everything"}),k.jsx("button",{onClick:()=>t(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg shadow-md transition duration-150",children:"Cancel"})]})]})}):null;return k.jsxs("div",{style:v.container,children:[k.jsxs("h2",{style:v.heading,children:[k.jsx("span",{style:{marginRight:"auto"},children:"Book Categories"}),k.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[k.jsx("button",{onClick:w,style:{...v.actionButton,color:"#3498db",marginRight:"10px"},title:"Reload",children:""}),k.jsx("button",{onClick:b,style:{...v.actionButton,color:"#e74c3c"},title:"Delete ALL Data",children:""})]})]}),k.jsx("div",{style:C,children:j==null?void 0:j.map((A,D)=>k.jsxs("div",{onClick:$=>g($,A.id),style:{...v.categoryItem,backgroundColor:D%2===0?"#f8f9fa":"#ffffff",borderLeft:`5px solid ${l[D]||"#3498db"}`},className:"category-item",children:[k.jsx("div",{style:{...v.categoryIcon,backgroundColor:l[D]||"#3498db"},children:""}),k.jsx("span",{style:v.categoryName,children:A.name})]},A.id))}),k.jsx("style",{children:`
                    .category-item:hover {
                        transform: translateY(-5px);
                        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
                        border-color: #3498db;
                    }
                `}),k.jsx(I,{})]})}const OD=S.createContext({isOfflineMode:!1,setIsOfflineMode:()=>{},isEffectivelyOffline:!1}),Gy=()=>S.useContext(OD);console.log("DownloadStatusProvider Function Running!");const db={},N1=S.createContext(void 0),ID=({children:e,books:t})=>{const n=S.useMemo(()=>t.reduce((b,g)=>(b[g.bookId]={totalSongs:g.songCount||0,downloadedSongs:0,downloadingSongs:{},isIndexDownloaded:!1},b),{}),[t]),[r,s]=S.useState(n),[i,o]=S.useState(!1);S.useEffect(()=>{if(!t||t.length===0){s({}),o(!0);return}(async()=>{try{const g=await ub(t),v={};for(const x of t){const C=x.bookId,j=g[C]||{},I=await Ka(C);v[C]={totalSongs:x.songCount||j.totalSongs||0,downloadedSongs:j.downloadedSongs||0,isIndexDownloaded:I,downloadingSongs:{}}}s(v),o(!0)}catch(g){console.error("Failed to load or initialize download status:",g),s({}),o(!0)}})()},[t]);const a=S.useMemo(()=>t.map(b=>b.bookId).join(","),[t]);S.useEffect(()=>{if(!t||t.length===0){s(db);return}(async()=>{try{const g=await ub(t);s(g)}catch(g){console.error("Failed to load initial download status from DB:",g),s(db)}})()},[a,t]);const l=S.useCallback((b,g)=>{s(v=>({...v,[b]:{...v[b],totalSongs:g}}))},[]),u=S.useCallback((b,g)=>{s(v=>({...v,[b]:{...v[b],downloadedSongs:g}}))},[]),c=S.useCallback((b,g)=>{s(v=>({...v,[b]:{...v[b],isIndexDownloaded:g}}))},[]),h=S.useCallback((b,g)=>{s(v=>{var x;return{...v,[b]:{...v[b],downloadingSongs:{...(x=v[b])==null?void 0:x.downloadingSongs,[g]:!0}}}})},[]),f=S.useCallback((b,g)=>{s(v=>{const x=v[b];if(!x)return v;const C={...x.downloadingSongs};return delete C[g],{...v,[b]:{...x,downloadedSongs:(x.downloadedSongs||0)+1,downloadingSongs:C}}})},[]),p=S.useCallback((b,g,v)=>{s(x=>{const C=x[b]||{},j=C.downloadedSongs||0;return{...x,[b]:{...C,totalSongs:g,downloadedSongs:j,downloadingSongs:v}}})},[]),w=S.useCallback(b=>{s(g=>{const v=g[b];return v?{...g,[b]:{...v,downloadedSongs:v.totalSongs,downloadingSongs:{}}}:g})},[]),y={downloadStatus:r,updateDownloadProgress:l,updateDownloadedCount:u,markSongAsDownloading:h,markSongAsDownloaded:f,updateIndexStatus:c,markBookDownloadStart:p,markBookDownloadComplete:w,isLoaded:i};return k.jsx(N1.Provider,{value:y,children:e})},Yy=()=>{const e=S.useContext(N1);if(!e)throw new Error("useDownloadStatus must be used within a DownloadStatusProvider");return e},DD=3e3,ND=1,LD=5,Qy=async({bookId:e,sourceRow:t,songTitle:n,sessionuser:r})=>{if(!e||!t)throw new Error("bookId or sourceRow is not defined. Cannot fetch songDetails");const s=new URL(wi);s.searchParams.append("mode","api"),s.searchParams.append("apiname","getsongtextforsong"),s.searchParams.append("book",e),s.searchParams.append("sourcerow",t),s.searchParams.append("songtitle",n),r&&s.searchParams.append("sessionuser",r);const i=await fetch(s.toString());if(!i.ok){const o=await i.json();throw new Error(`Failed to fetch song details for book ${e}+row ${t}: ${i.status} - ${JSON.stringify(o)}`)}return await i.json()},MD=async({bookId:e,songTitle:t,text:n,sessionuser:r})=>{const s=new URL(wi);s.searchParams.append("mode","api"),s.searchParams.append("apiname","savesongtextfromui"),s.searchParams.append("book",e),s.searchParams.append("songtitle",t),r&&s.searchParams.append("sessionuser",r);const i=await fetch(s.toString(),{method:"POST",body:JSON.stringify({text:n})});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(`Failed to save song text: ${i.status} - ${JSON.stringify(o)}`)}return await i.json()},$D=(e,t,n)=>{const{downloadStatus:r,markSongAsDownloaded:s,markBookDownloadStart:i,markBookDownloadComplete:o}=Yy(),a=S.useCallback(c=>{const h=r[c];if(!h)return!1;const f=h.downloadingSongs??{};return Object.keys(f).length>0},[r]),l=S.useMemo(()=>Object.values(r).some(c=>Object.keys(c.downloadingSongs??{}).length>0),[r]),u=S.useCallback(async(c,h)=>{if(a(c))return 0;let f=[],p=0;if(await Ka(c)){const v=await Nh(c);v&&Array.isArray(v)&&(f=v.map(x=>({sourceRow:x.sourceRow,songTitle:x.songTitle,tags:x.tags})),p=f.length)}else try{const v=new URL(wi);v.searchParams.append("mode","api"),v.searchParams.append("apiname","getsongsforbook"),v.searchParams.append("book",c),h&&v.searchParams.append("sessionuser",h);const x=await fetch(v.toString());if(!x.ok){const I=await x.json();throw new Error(`Failed to fetch song indices: ${x.status} - ${JSON.stringify(I)}`)}const j=(await x.json()).map(I=>({...I,sourceRow:typeof I.sourceRow=="string"?parseInt(I.sourceRow,10):I.sourceRow,tags:I.tags??void 0}));f=j,p=f.length,await qy(c,j)}catch{return 0}if(f.length===0)return 0;const w=[];for(const v of f)await Lh(c,v.songTitle)?s(c,v.songTitle):w.push(v);const y=w.slice(0,LD),b={};for(const v of y)b[v.songTitle]="pending";i(c,p,b);let g=0;for(const v of y)try{g>=ND&&(await new Promise(x=>setTimeout(x,DD)),g=0),await CD(c,v,h??null,Qy),s(c,v.songTitle),g++}catch{}return p},[e,t,n,a,s,i]);return{isDownloadingBook:a,downloadAllSongsForBook:u,isAnyBookDownloading:l}},wr={container:{fontFamily:"sans-serif",fontSize:"14px",color:"#555",marginBottom:"20px"},link:{color:"#007bff",textDecoration:"none",transition:"color 0.2s ease-in-out"},separator:{margin:"0 5px",color:"#999"},currentPage:{fontWeight:"bold",color:"#333",cursor:"default",textDecoration:"none"}},Jy=()=>{const e=Zn(),{categoryId:t,bookId:n,songTitle:r}=Ba(),s=r?decodeURIComponent(r):"",[i,o]=We.useState(!1),a={...wr.link,color:i?"#0056b3":"#007bff",textDecoration:i?"underline":"none"},l=k.jsx(Wn,{to:"/",style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:"Home"}),u=(c,h)=>c?c.length>h?c.substring(0,h)+"...":c:"";return e.pathname.startsWith("/books/")?k.jsxs("div",{style:wr.container,children:[l,k.jsx("span",{style:wr.separator,children:">"}),k.jsx("span",{title:t,children:u(t,20)})]}):e.pathname.startsWith("/book/")?k.jsxs("div",{style:wr.container,children:[l,k.jsx("span",{style:wr.separator,children:">"}),k.jsx(Wn,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),title:t,children:u(t,20)}),k.jsx("span",{style:wr.separator,children:">"}),k.jsx("span",{title:n,children:u(n,25)})]}):e.pathname.startsWith("/details/book/")?k.jsxs("div",{style:wr.container,children:[l,k.jsx("span",{style:wr.separator,children:">"}),k.jsx(Wn,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),title:t,children:u(t,20)}),k.jsx("span",{style:wr.separator,children:">"}),k.jsx(Wn,{to:`/book/${t}/${n}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),title:n,children:u(n,25)}),k.jsx("span",{style:wr.separator,children:">"}),k.jsx("span",{style:wr.currentPage,title:s,children:u(s,40)})]}):null},L1=S.createContext({preferredLanguage:"devanagari",setPreferredLanguage:()=>{},isMarathiMode:!1,setIsMarathiMode:()=>{},retainEnglishNumerals:!0,setRetainEnglishNumerals:()=>{}}),M1=({children:e})=>{const t=localStorage.getItem("preferredLanguage"),[n,r]=S.useState(t||"devanagari"),s=localStorage.getItem("isMarathiMode"),[i,o]=S.useState(s==="true"),a=localStorage.getItem("retainEnglishNumerals"),[l,u]=S.useState(a===null?!0:a==="true");return S.useEffect(()=>{localStorage.setItem("preferredLanguage",n)},[n]),S.useEffect(()=>{localStorage.setItem("isMarathiMode",String(i))},[i]),S.useEffect(()=>{localStorage.setItem("retainEnglishNumerals",String(l))},[l]),k.jsx(L1.Provider,{value:{preferredLanguage:n,setPreferredLanguage:r,isMarathiMode:i,setIsMarathiMode:o,retainEnglishNumerals:l,setRetainEnglishNumerals:u},children:e})},bo=()=>S.useContext(L1);async function $1(e,t){const n=[];let r=0;for(;r<e.length;){const s=e.slice(r,r+t),i=await Promise.all(s.map(o=>o()));n.push(...i),r+=t}return n}const hb=3,FD=10;async function BD(e,t,n,r,s){const i=n||new Set,o=UD(r,e);if(o.length>0){const a=o.slice(0,FD);console.log(`[RECURSION START] Found ${o.length} linked books in ${e}. Queuing ${a.length} for batched download...`);const l=a.filter(u=>!i.has(u)).map(u=>()=>s(u,t,n));l.length>0?(console.log(`[BATCH EXECUTION] Queued ${l.length} unique downloads with batch size ${hb}.`),await $1(l,hb),console.log(`[RECURSION COMPLETE] All batched linked books for ${e} have been processed.`)):console.log(`[RECURSION SKIP] All queued linked books in ${e} are already being processed or downloaded.`)}}function UD(e,t){return e.filter(s=>s.type==="link"&&s.link).map(s=>{try{return JSON.parse(s.link).bookId}catch(i){return console.error("Failed to parse link JSON:",s.link,i),null}}).filter(s=>s!==null).filter((s,i,o)=>s!==t&&o.indexOf(s)===i)}async function F1(e,t,n=new Set,r){if(!e)return 0;if(n.has(e))return console.warn(`[SKIP] Book ${e} is already in the download chain. Skipping.`),0;const s=await Xd(e);if(!s||!s.isFullBookDownloadable)return console.warn(`[SKIP] Book ${e} is not configured as full-book downloadable. Skipping.`),0;if(await O1(e))return console.log(`[SKIP] Book ${e} is already fully downloaded (from Dexie check). Skipping.`),0;n.add(e),console.log(`[DOWNLOAD START] Initiating bulk download for book ID: ${e}`);const i=new URL(wi);i.searchParams.append("mode","api"),i.searchParams.append("apiname","getentirebookasjson"),i.searchParams.append("book",e),i.searchParams.append("sessionuser",t??"dummyfornow"),console.log(`[FETCH] URL for ${e}: ${i.toString()}`);try{const o=await fetch(i.toString());if(!o.ok){let c={};try{c=await o.json()}catch{c={message:"No detailed error message, raw response status error."}}throw new Error(`Failed to fetch content for book ${e}: ${o.status} - ${JSON.stringify(c)}`)}const a=await o.json(),{songIndices:l,songDetails:u}=a;return!u||u.length===0?(console.log(`[DOWNLOAD] No song details found for book: ${e}. Returning 0.`),0):(await wD(u),await bD(l),console.log(`[DOWNLOAD SUCCESS] Data for ${e} saved to IndexedDB. Songs downloaded: ${u.length}`),console.log(`[RECURSION CHECK] Checking for linked books in ${e}...`),await BD(e,t,n,l,F1),u.length)}catch(o){throw console.error(`[DOWNLOAD ERROR] Failed during processing for ${e}:`,o),o}finally{console.log(`[DOWNLOAD END] Finished processing book ID: ${e}.`)}}const B1=(e,t)=>{const n=Ih(),[r,s]=S.useState({status:"idle",downloadedCount:null,error:null}),i=S.useCallback(async()=>{if(r.status!=="loading"){s({status:"loading",downloadedCount:null,error:null});try{const o=await F1(e,t);return console.log("Bulk download successful. Invalidating React Query cache..."),await n.invalidateQueries({queryKey:Uj(e)}),await n.invalidateQueries({queryKey:Bj}),console.log("Cache invalidated and refetched successfully."),s({status:"success",downloadedCount:o,error:null}),o}catch(o){const a=o.message||"Bulk download failed.";return s({status:"error",downloadedCount:null,error:a}),0}}},[e,t,r.status,n]);return{...r,startBulkDownload:i,isDownloading:r.status==="loading"}},U1=We.memo(e=>{const{book:t,status:n,indexDownloadStatus:r,userEmail:s,isEffectivelyOffline:i,isAnyBookDownloading:o,isDownloadingBook:a,isDownloadingBookIndex:l,handleBookClick:u,handleDownloadBookIndexClick:c,handleDownloadBookClick:h,handleDeleteIndexClick:f,handleDeleteBookClick:p,DownloadNotAvailableIcon:w,DownloadIndexIcon:y,DownloadedIcon:b,DownloadBookIcon:g,DeleteIndexIcon:v,DeleteBookIcon:x}=e,{status:C,isDownloading:j,startBulkDownload:I}=B1(t.bookId,s),A=a(t.bookId),D=Object.keys((n==null?void 0:n.downloadingSongs)??{}).length,$=n.downloadedSongs||0,B=n.totalSongs||t.songCount||0,ue=Math.max(Number(B),$),N=ue>0?Math.floor($/ue*100):0,V=r[t.bookId]??!1,T=$===ue&&ue>0,Z=t.isFullBookDownloadable;return k.jsx("li",{onClick:ve=>u(ve,t.bookId),className:"relative overflow-hidden cursor-pointer border-b border-gray-300 py-2 px-4",children:k.jsxs("div",{className:"z-20 relative grid grid-cols-[1fr_auto] gap-4 items-center divide-x divide-gray-300",children:[k.jsxs("div",{className:"relative text-lg font-medium pr-4",children:[k.jsx("div",{className:"absolute inset-0 bg-gray-200 z-0 rounded-md",style:{width:"100%"}}),k.jsx("div",{className:"absolute inset-0 bg-green-200 z-10 rounded-md",style:{width:`${N}%`}}),k.jsx("span",{className:`relative z-20 px-2 ${N>25,"text-black-900"}`,children:A?k.jsxs("span",{className:"font-bold",children:[k.jsxs("span",{className:"text-black-900 mr-2",children:[t.bookName,":"]}),k.jsxs("span",{className:"text-green-700",children:["Downloading... (",D," remaining)"]})]}):k.jsx("span",{className:"text-black-900",children:t.bookName})})]}),k.jsxs("div",{className:"flex items-center space-x-4 divide-x divide-gray-300 pl-4",children:[k.jsx("div",{className:"flex items-center text-sm text-gray-600 pr-4 min-w-[150px]",children:k.jsxs("span",{children:["(",$,"/",ue," downloaded)"]})}),k.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:V?k.jsxs("span",{className:"flex items-center text-green-500",children:[b," ",k.jsx("span",{className:"ml-1",children:"Index"})]}):k.jsx("button",{onClick:ve=>{ve.stopPropagation(),c(ve,t.bookId)},disabled:i||o||a(t.bookId)||V,className:"flex items-center text-brown-600",children:l===t.bookId?"DownloadingI...":k.jsxs(k.Fragment,{children:[y," ",k.jsx("span",{className:"ml-1",children:"Index"})]})})}),k.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:T?k.jsxs("span",{className:"flex items-center text-green-500",children:[b," ",k.jsx("span",{className:"ml-1",children:"Book"})]}):k.jsx(k.Fragment,{children:Z?k.jsx("button",{onClick:ve=>{ve.stopPropagation(),I()},disabled:i||o||a(t.bookId),className:"btn-primary-fast",title:"Download all songs instantly in one go.",children:k.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[g," ",j?"Downloading (Fast)...":C==="success"?"Downloaded ":"Book"]})}):k.jsxs("span",{className:"flex items-center text-red-500 cursor-help",title:"Bulk download is restricted for this book.",children:[w,k.jsx("span",{className:"ml-1 text-sm font-medium",children:"Not Available"})]})})}),k.jsxs("div",{className:"flex items-center space-x-2 pl-4",children:[k.jsxs("button",{onClick:ve=>{ve.stopPropagation(),f(ve,t.bookId)},disabled:!V,className:"flex items-center text-red-500 border border-red-500 px-2 py-1 rounded-md hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:text-gray-400 disabled:border-gray-400",children:[v," ",k.jsx("span",{className:"ml-1",children:"Index"})]}),k.jsxs("button",{onClick:ve=>{ve.stopPropagation(),p(ve,t.bookId)},disabled:a(t.bookId)||N===0,className:"flex items-center bg-red-500 text-white border border-red-500 px-2 py-1 rounded-md hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-600 disabled:border-gray-400",children:[x," ",k.jsx("span",{className:"ml-1",children:"Book"})]})]})]})]})})});U1.displayName="BookListItem";const zD=3;function VD(e,t){return t?t.filter(n=>n.type==="link"&&n.link).map(n=>{try{return JSON.parse(n.link).bookId}catch(r){return console.error("Error parsing link in song index:",r),null}}).filter(n=>n!==null&&n!==e).filter((n,r,s)=>s.indexOf(n)===r):[]}async function z1(e,t){if(t.has(e)){console.log(`[DELETION SKIP] Already processed ${e}.`);return}t.add(e),console.log(`[DELETION START] Analyzing dependencies for book: ${e}`);const n=await Nh(e),r=VD(e,n);if(r.length>0){console.log(`[RECURSION CHECK] Book ${e} links to ${r.length} unique books.`);const o=r,l=(await Promise.all(o.map(async u=>{const c=await Xd(u);return{id:u,type:c&&c.Type?c.Type:"mini-book"}}))).filter(u=>u.type==="mini-book").map(u=>u.id);if(l.length>0){const u=l.filter(c=>!t.has(c)).map(c=>()=>z1(c,t));u.length>0&&(console.log(`[BATCH EXECUTION] Queuing ${u.length} *mini-book* dependency deletions.`),await $1(u,zD),console.log(`[RECURSION COMPLETE] All mini-book dependencies for ${e} have been processed.`))}}const s=await Xd(e);(s&&s.Type?s.Type:"book")==="mini-book"?(await A1(e),console.log(`[DELETION SUCCESS] Successfully deleted mini-book ${e} and its dependencies.`)):console.log(`[CLEANUP COMPLETE] Book ${e} is type 'Book'. Only dependencies were deleted.`)}function KD(e,t){const n=S.useMemo(()=>((e==null?void 0:e.books)??[]).filter(a=>a.Type==="book"),[e==null?void 0:e.books]),[r,s]=S.useState(n);return S.useEffect(()=>{if(!t){s(n);return}(async()=>{const l=(await Promise.all(n.map(async u=>({...u,isCached:await Ka(u.bookId)})))).filter(u=>u.isCached);s(l)})()},[n,t]),S.useMemo(()=>t?r:n,[t,n,r])}function WD(){var we,H;const{categoryId:e}=Ba(),t=Xn(),{categories:n,isLoading:r,isFetching:s,error:i}=Mh(),{isEffectivelyOffline:o}=Gy(),a=S.useMemo(()=>{if(n&&e)return n.find(se=>se.id===e)},[n,e]),l=KD(a,o),{downloadAllSongsForBook:u,isDownloadingBook:c,isAnyBookDownloading:h}=$D(),[f,p]=S.useState(null),[w,y]=S.useState(!1),[b,g]=S.useState({});Ih();const{preferredLanguage:v}=bo(),{downloadStatus:x,isLoaded:C,updateDownloadProgress:j,updateDownloadedCount:I}=Yy(),{session:A}=xi(),D=(we=A==null?void 0:A.user)==null?void 0:we.email;S.useEffect(()=>{if(!l||l.length===0){g({});return}(async()=>{const pe=l.map(ce=>Ka(ce.bookId)),Se=await Promise.all(pe),je={};l.forEach((ce,ze)=>{je[ce.bookId]=Se[ze]}),g(je)})()},[l]);const $=S.useCallback(async(se,pe)=>{let je;for(let ce=0;ce<1;ce++)try{const ze=new URL(wi);ze.searchParams.append("mode","api"),ze.searchParams.append("apiname","getsongsforbook"),ze.searchParams.append("book",se),ze.searchParams.append("sessionuser",pe??"dummyfornow");const Ve=await fetch(ze.toString());if(!Ve.ok){const P=await Ve.text();throw new Error(`Fetch failed (Status: ${Ve.status}). Body: ${P}`)}const ct=(await Ve.json()).map(P=>({...P,sourceRow:typeof P.sourceRow=="string"?parseInt(P.sourceRow,10):P.sourceRow,tags:P.tags||null}));return await qy(se,ct),ct}catch(ze){if(je=ze,ce<0){const Ve=Math.pow(2,ce)*1e3;console.log(`Retrying fetch in ${Ve}ms...`),await new Promise(Ke=>setTimeout(Ke,Ve))}}throw je},[]),B=S.useCallback(async(se,pe)=>{se.stopPropagation(),console.warn(`[ACTION REQUIRED: Custom Modal] Confirm deletion of book index [${pe}]. Proceeding with deletion assuming user confirmed.`),await gD(pe),g(Se=>({...Se,[pe]:!1})),j(pe,0),I(pe,0)},[j,I]),ue=S.useCallback(async(se,pe)=>{se.stopPropagation(),console.warn(`[ACTION REQUIRED: Custom Modal] WARNING: This will permanently delete the ENTIRE book "${pe}". Proceeding with deletion assuming user confirmed.`);const Se=new Set;try{await z1(pe,Se),await A1(pe),j(pe,0),I(pe,0)}catch(je){console.error(`Failed to delete book ${pe} recursively:`,je)}},[j,I]),N=S.useCallback((se,pe)=>{console.log(`categoryId:${e}, bookId:${pe}`),se.stopPropagation(),t(`/book/${e}/${pe}`)},[e,t]),V=async()=>{var pe;y(!0);const se=(pe=A==null?void 0:A.user)==null?void 0:pe.email;try{for(const je of l)console.log(`Downloading index for book: ${je.bookId}`),await $(je.bookId,se);console.log("All song indices downloaded successfully.");const Se=l.reduce((je,ce)=>(je[ce.bookId]=!0,je),{});g(Se)}catch(Se){console.error("Failed to download all indices:",Se),g({})}finally{y(!1)}},T=S.useCallback(async(se,pe)=>{var je;se.stopPropagation(),p(pe);const Se=(je=A==null?void 0:A.user)==null?void 0:je.email;try{await $(pe,Se),console.log(`Index for Book ${pe} downloaded successfully and cached.`),g(ce=>({...ce,[pe]:!0}))}catch(ce){console.error(`Failed to download index for Book ${pe}:`,ce),g(ze=>({...ze,[pe]:!1}))}finally{p(null)}},[(H=A==null?void 0:A.user)==null?void 0:H.email,$]),Z=S.useCallback((se,pe,Se)=>{se.stopPropagation(),u(pe,D)},[u,D]),ve=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6zM13 15h-2v3h-2v-3H7l3.5-3.5L14 15h-2z"})]}),[]),G=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h12v16H6V4zM16 13h-3v3h-2v-3H8l4-4 4 4zM14 20h-4v-2h4v2z"})]}),[]),X=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18h14v2H5v-2z"})]}),[]),ee=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})]}),[]),he=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})]}),[]),K=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})]}),[]),q=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 4h7v5h5v11H6V4zm-2 16h16V4h-3V1h-4v3h-3v-3H4v3H1v2h3v12zM12 9l-4 4h3v4h2v-4h3l-4-4z"})]}),[]);return r||s?k.jsx("div",{children:"Loading books..."}):i instanceof Error?k.jsxs("div",{children:["Error loading books: ",i.message]}):C?k.jsxs(k.Fragment,{children:[k.jsx(Jy,{}),k.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 rounded-xl shadow-inner",children:[k.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Books in ",(a==null?void 0:a.name)||"Category"]}),l.length>0?k.jsx("ul",{className:"list-none p-0 space-y-3",children:l.map(se=>k.jsx(U1,{book:se,status:x[se.bookId]||{},indexDownloadStatus:b,userEmail:D??null,isEffectivelyOffline:o,isAnyBookDownloading:h,isDownloadingBook:c,isDownloadingBookIndex:f,handleBookClick:N,handleDownloadBookIndexClick:T,handleDownloadBookClick:Z,handleDeleteIndexClick:B,handleDeleteBookClick:ue,DownloadNotAvailableIcon:ee,DownloadIndexIcon:ve,DownloadedIcon:he,DownloadBookIcon:X,DeleteIndexIcon:q,DeleteBookIcon:K},se.bookId))}):k.jsx("div",{className:"text-center py-10 text-gray-500 bg-white rounded-lg shadow-md",children:o?"No cached books found. Connect to the internet to download content.":"No books found in this category."})]}),k.jsx("div",{className:"mt-6 flex justify-end",children:k.jsxs("button",{onClick:V,disabled:w,className:`px-4 py-2 rounded-lg text-sm font-semibold text-white transition-colors duration-300 flex items-center justify-center space-x-2 shadow-md ${w?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:[w?k.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):G,k.jsx("span",{children:w?"Downloading All Indices...":"Download All Indices"})]})})]}):k.jsx("div",{className:"flex justify-center items-center h-40",children:k.jsx("p",{children:"Loading download status..."})})}var rg={exports:{}};(function(e,t){function n(p){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},n(p)}function r(p,w){var y=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!y){if(Array.isArray(p)||(y=o(p))||w){y&&(p=y);var b=0,g=function(){};return{s:g,n:function(){return b>=p.length?{done:!0}:{done:!1,value:p[b++]}},e:function(I){throw I},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=!0,x=!1,C;return{s:function(){y=y.call(p)},n:function(){var I=y.next();return v=I.done,I},e:function(I){x=!0,C=I},f:function(){try{!v&&y.return!=null&&y.return()}finally{if(x)throw C}}}}function s(p,w){return u(p)||l(p,w)||o(p,w)||i()}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(p,w){if(p){if(typeof p=="string")return a(p,w);var y=Object.prototype.toString.call(p).slice(8,-1);if(y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set")return Array.from(p);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return a(p,w)}}function a(p,w){(w==null||w>p.length)&&(w=p.length);for(var y=0,b=new Array(w);y<w;y++)b[y]=p[y];return b}function l(p,w){var y=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(y!=null){var b,g,v,x,C=[],j=!0,I=!1;try{if(v=(y=y.call(p)).next,w!==0)for(;!(j=(b=v.call(y)).done)&&(C.push(b.value),C.length!==w);j=!0);}catch(A){I=!0,g=A}finally{try{if(!j&&y.return!=null&&(x=y.return(),Object(x)!==x))return}finally{if(I)throw g}}return C}}function u(p){if(Array.isArray(p))return p}var c={};c.ahom={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.assamese={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.balinese={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.bengali={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.bhaiksuki={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.brahmi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.brahmi_tamil={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"'","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.burmese={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.cham={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.devanagari={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":"","":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},zwnj:{"":""},skip:{undefined:""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},alternates:{:[""],:[""],:[""],:[""],:[""],:[""],:[""],:[""],:[""],:[""],:[""]}},c.dogra={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.gondi_gunjala={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":".","":".."},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.gondi_masaram={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.grantha={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.grantha_pandya={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.gujarati={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.gurmukhi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},alternates:{"":[""]},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},accents:{"":"","":""}},c.javanese={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.kannada={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},alternates:{"":[""]}},c.khamti_shan={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.kharoshthi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.khmer={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.khom_thai={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.khudawadi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.lao={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.lao_pali={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.lepcha={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.limbu={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.malayalam={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.manipuri={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.marchen={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.modi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.mon={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.mro={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.newa={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.ol_chiki={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.oriya={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.phags_pa={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":"","":""},candra:{"":""}},c.ranjana={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.rohingya={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.shan={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.sharada={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.siddham={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.sinhala={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"()","":".","":".."},candra:{"":""}},c.sora_sompeng={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tai_laing={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.takri={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tamil={vowels:{:"",:"",:"",:"",:"",:"",:"'",:"'",:"'",:"'",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"'","":"'","":"'","":"'","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},extra_consonants:{:"'",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tamil_extended={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tamil_superscripted={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"()","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.telugu={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.thai={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tibetan={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tirhuta_maithili={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.urdu={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.vattelutu={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.wancho={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.warang_citi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.zanbazar_square={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.avestan={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""},isRomanScheme:!0},c.baraha={_vowel_comment:["omissions  from optitrans_dravidian","ea","oa"],_yogavaahas_comment:["omissions  from optitrans_dravidian","kH","pH"],vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"Ru",:"RU",:"~lu",:"~lU",:"e",:"E",:"ai",:"o",:"O",:"au",:"",:""},yogavaahas:{"":"M","":"H","":"~M","":"","":"","":"(gg)"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~g",:"ch",:"Ch",:"j",:"jh",:"~j",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"kSh",:"j~ja"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:"&","":"|","":"||"},candra:{"":"~M"},zwj:{"":"^"},zwnj:{"":"^^"},skip:{undefined:"_"},accents:{"":"#","":"q","":"Q","":"V","":"W","":"$"},alternates:{A:["aa"],I:["ee"],U:["oo"],kh:["K"],gh:["G"],ch:["c"],Ch:["C"],jh:["J"],ph:["P"],bh:["B"],"~n":["JN"],v:["w"],sh:["S"],h:["~h"],V:["x"],"|":["."],"||":[".."]},isRomanScheme:!0},c.cyrillic={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},yogavaahas:{"":"","":"","":""},virama:{"":""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"'","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""},isRomanScheme:!0},c.hk={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"R",:"RR",:"lR",:"lRR",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":"M","":"H","":"~"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"G",:"c",:"ch",:"j",:"jh",:"J",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"z",:"S",:"s",:"h",:"L",:"kS",:"jJ"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:"'","":"|","":"||"},extra_consonants:{:"q",:"qh",:"g2",:"z2",:"r3",:"r3h",:"f",:"Y",:"r2",:"zh",:"n2"},isRomanScheme:!0},c.hk_dravidian={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"R",:"RR",:"lR",:"lRR",:"e",:"E",:"ai",:"o",:"O",:"au"},yogavaahas:{"":"M","":"H","":"~"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"G",:"c",:"ch",:"j",:"jh",:"J",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"z",:"S",:"s",:"h",:"L",:"kS",:"jJ"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:"'","":"|","":"||"},extra_consonants:{:"q",:"qh",:"g2",:"z2",:"r3",:"r3h",:"f",:"Y",:"r2",:"zh",:"n2"},isRomanScheme:!0},c.iast={vowels:{:"a",:"",:"i",:"",:"u",:"",:"",:"",:"",:"",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":"","":"","":"~","":"m"},virama:{"":""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"k",:"kh",:"g",:"gh",:"",:"c",:"ch",:"j",:"jh",:"",:"",:"h",:"",:"h",:"",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"l",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"o",:"'","":"|","":"||"},extra_consonants:{:"q",:"kh",:"",:"z",:"r",:"rh",:"f",:"",:"",:"",:""},alternates:{"|":[".","/"],"||":["..","//"],"'":["`"],m:["m",""],:["m"],:["h"],:["t"],h:["th"],:["d"],h:["dh"],:["n"],:["s"],:["n"],:["n"],:["r","r"],:["","r","r","r","r"],"":[""]},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],:["r","r"]},isRomanScheme:!0},c.iast_iso_m={vowels:{:"a",:"",:"i",:"",:"u",:"",:"",:"",:"",:"",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":"","":"","":"~","":"m"},virama:{"":""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"k",:"kh",:"g",:"gh",:"",:"c",:"ch",:"j",:"jh",:"",:"",:"h",:"",:"h",:"",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"l",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"o",:"'","":"|","":"||"},extra_consonants:{:"q",:"kh",:"",:"z",:"r",:"rh",:"f",:"",:"",:"",:""},alternates:{"|":[".","/"],"||":["..","//"],"'":["`"],:["m","m",""],:["h"],:["t"],h:["th"],:["d"],h:["dh"],:["n"],:["s"],:["n"],:["n"],:["r","r"],:["","r","r","r","r"],"":[""]},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],:["r","r"]},isRomanScheme:!0},c.iso={vowels:{:"a",:"",:"i",:"",:"u",:"",:"r",:"r",:"l",:"l",:"e",:"",:"ai",:"o",:"",:"au",:"",:""},yogavaahas:{"":"","":"","":"",:"","":"m"},virama:{"":""},zwj:{"":"{}"},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"k",:"kh",:"g",:"gh",:"",:"c",:"ch",:"j",:"jh",:"",:"",:"h",:"",:"h",:"",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"'","":"","":""},extra_consonants:{:"q",:"kh",:"",:"z",:"",:"h",:"f",:"",:"",:"",:"",:"r",:"s",:"s",:"h",:"t",:"",:"",:"h",:"",:"",:"",:"w"},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],r:["","r"],r:["","","r","r","r","r","r"],a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],r:["r"],r:["r","r","r","r","r"]},alternates:{"|":[".","/"],"||":["..","//"],"'":["`"],m:["m"],:["","r","r","r","r"],:["m"],:["h"],:["t"],h:["th"],:["d"],h:["dh"],:["n"],:["n"],:["n"],:["s"],:["r"],h:["rh"],"kh":["","h"],q:[""],w:[""],:["g"],"":[""],r:["ri"]},isRomanScheme:!0},c.iso_vedic={vowels:{:"a",:"",:"i",:"",:"u",:"",:"r",:"r",:"l",:"l",:"e",:"ai",:"i",:"o",:"au",:"u",:"",:""},yogavaahas:{"":"","":"","":"",:"","":"m"},virama:{"":""},zwj:{"":"{}"},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"k",:"kh",:"g",:"gh",:"",:"c",:"ch",:"j",:"jh",:"",:"",:"h",:"",:"h",:"",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"'","":"","":""},extra_consonants:{:"q",:"kh",:"",:"z",:"",:"h",:"f",:"",:"",:"",:"",:"r",:"s",:"s",:"h",:"t",:"",:"",:"h",:"",:"",:"",:"w"},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],r:["","r"],r:["","","r","r","r","r","r"],a:[""],i:[""],ai:["a"],i:[""],u:[""],au:["a"],u:[""],r:["r"],r:["r","r","r","r","r"]},alternates:{"|":[".","/"],"||":["..","//"],"'":["`"],m:["m"],:["","r","r","r","r"],:["m"],:["h"],:["t"],h:["th"],:["d"],h:["dh"],:["n"],:["n"],:["n"],:["s"],:["r"],h:["rh"],"kh":["","h"],q:[""],w:[""],:["g"],"":[""],r:["ri"]},isRomanScheme:!0},c.itrans={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"RRi",:"RRI",:"LLi",:"LLI",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":"M","":"H","":".N"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~N",:"ch",:"Ch",:"j",:"jh",:"~n",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"kSh",:"j~n"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:".a","":"|","":"||"},candra:{"":".c"},zwj:{"":"{}"},skip:{undefined:"_"},accents:{"":"\\'","":"\\_"},extra_consonants:{:"q",:"K",:"G",:"z",:".D",:".Dh",:"f",:"Y",:"R",:"zh"},alternates:{A:["aa"],I:["ii","ee"],U:["uu","oo"],RRi:["R^i"],RRI:["R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],"~N":["N^"],ch:["c"],Ch:["C","chh"],"~n":["JN"],v:["w"],Sh:["S","shh"],kSh:["kS","x"],"j~n":["GY","dny"],OM:["AUM"],"\\_":["\\`"],"\\_H":["\\`H"],"\\'M":["\\'.m","\\'.n"],"\\_M":["\\_.m","\\_.n","\\`M","\\`.m","\\`.n"],".a":["~"],"|":["."],"||":[".."],z:["J"]},isRomanScheme:!0},c.itrans_dravidian={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"RRi",:"RRI",:"LLi",:"LLI",:"e",:"E",:"ai",:"o",:"O",:"au"},yogavaahas:{"":"M","":"H","":".N"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~N",:"ch",:"Ch",:"j",:"jh",:"~n",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"kSh",:"j~n"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:".a","":"|","":"||"},candra:{"":".c"},zwj:{"":"{}"},skip:{undefined:"_"},accents:{"":"\\'","":"\\_"},extra_consonants:{:"q",:"K",:"G",:"z",:".D",:".Dh",:"f",:"Y",:"R",:"zh",:"n2"},alternates:{A:["aa"],I:["ii","ee"],U:["uu","oo"],RRi:["R^i"],RRI:["R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],"~N":["N^"],ch:["c"],Ch:["C","chh"],"~n":["JN"],v:["w"],Sh:["S","shh"],kSh:["kS","x"],"j~n":["GY","dny"],OM:["AUM"],"\\_":["\\`"],"\\_H":["\\`H"],"\\'M":["\\'.m","\\'.n"],"\\_M":["\\_.m","\\_.n","\\`M","\\`.m","\\`.n"],".a":["~"],"|":["."],"||":[".."],z:["J"]},isRomanScheme:!0},c.itrans_lowercase={vowels:{:"a",:"aa",:"i",:"ii",:"u",:"uu",:"RRi",:"RRI",:"LLi",:"LLI",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":"M","":"H","":".N"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~N",:"ch",:"Ch",:"j",:"jh",:"~n",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"kSh",:"GY"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:".a","":"|","":"||"},candra:{"":".c"},zwj:{"":"{}"},skip:{undefined:"_"},accents:{"":"\\'","":"\\_"},extra_consonants:{:"q",:"K",:"G",:"z",:".D",:".Dh",:"f",:"Y",:"R",:"zh"},alternates:{A:["A"],I:["I","ee"],U:["U","oo"],RRi:["R^i"],RRI:["R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],"~N":["N^"],ch:["c"],Ch:["C","chh"],"~n":["JN"],v:["w"],Sh:["S","shh"],kSh:["kS","x"],GY:["j~n","dny"],OM:["AUM"],"\\_":["\\`"],"\\_H":["\\`H"],"\\'M":["\\'.m","\\'.n"],"\\_M":["\\_.m","\\_.n","\\`M","\\`.m","\\`.n"],".a":["~"],"|":["."],"||":[".."],z:["J"]},isRomanScheme:!0},c.kolkata_v2={vowels:{:"a",:"",:"i",:"",:"u",:"",:"",:"",:"",:"",:"e",:"",:"ai",:"o",:"",:"au"},yogavaahas:{"":"","":"","":"~"},virama:{"":""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"k",:"kh",:"g",:"gh",:"",:"c",:"ch",:"j",:"jh",:"",:"",:"h",:"",:"h",:"",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"l",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"'","":"|","":"||"},extra_consonants:{:"q",:"kh",:"",:"z",:"r",:"rh",:"f",:"",:"",:"",:""},alternates:{"|":[".","/"],"||":["..","//"],"'":["`"],m:["m"],:["m"],:["h"],:["t"],h:["th"],:["d"],h:["dh"],:["n"],:["n"],:["n"],:["s"],:["r","r"],:["","r","r","r","r"],"":[""]},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],:["r","r"]},isRomanScheme:!0},c.mahajani={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""},isRomanScheme:!0},c.multani={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},isRomanScheme:!0},c.optitrans={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"R",:"RR",:"LLi",:"LLI",:"E",:"e",:"ai",:"O",:"o",:"au",:"ea",:"oa"},yogavaahas:{"":"M","":"H","":".N","":"kH","":"pH"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~N",:"ch",:"Ch",:"j",:"jh",:"~n",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"x",:"jn"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:".a","":"|","":"||"},candra:{"":".c"},zwj:{"":"{}"},skip:{undefined:"_"},accents:{"":"\\'","":"\\_"},extra_consonants:{:"q",:".kh",:".g",:"z",:".D",:".Dh",:"f",:"Y",:".Rh",:".L"},alternates:{A:["aa"],I:["ii","ee"],U:["uu"],R:["RRi","R^i"],RR:["RRI","R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],ch:["c"],Ch:["C"],jh:["J"],ph:["P"],bh:["B"],"~n":["JN"],v:["w"],Sh:["S"],x:["kS","ksh"],jn:["GY","dny"],"|":["."],"||":[".."],z:["J"]},shortcuts:{"~nc":"nc","~nC":"nC","~nj":"nj","~nJ":"nJ","~Nk":"nk","~NK":"nK","~Ng":"ng","~NG":"nG","~Nx":"nx"},isRomanScheme:!0},c.optitrans_dravidian={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"R",:"RR",:"LLi",:"LLI",:"e",:"E",:"ai",:"o",:"O",:"au",:"ea",:"oa"},yogavaahas:{"":"M","":"H","":".N","":"kH","":"pH"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~N",:"ch",:"Ch",:"j",:"jh",:"~n",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"x",:"jn"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:".a","":"|","":"||"},candra:{"":".c"},zwj:{"":"{}"},skip:{undefined:"_"},accents:{"":"\\'","":"\\_"},extra_consonants:{:".k",:"q",:".g",:"z",:".D",:".Dh",:"f",:"Y",:".Rh",:".L",:"n2"},alternates:{A:["aa"],I:["ii","ee"],U:["uu"],R:["RRi","R^i"],RR:["RRI","R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],ch:["c"],Ch:["C"],jh:["J"],ph:["P"],bh:["B"],"~n":["JN"],v:["w"],Sh:["S"],x:["kS","ksh"],jn:["GY","dny"],"|":["."],"||":[".."],z:["J"]},shortcuts:{"~nc":"nc","~nC":"nC","~nj":"nj","~nJ":"nJ","~Nk":"nk","~NK":"nK","~Ng":"ng","~NG":"nG","~Nx":"nx"},isRomanScheme:!0},c.persian_old={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},isRomanScheme:!0},c.slp1={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"f",:"F",:"x",:"X",:"",:"e",:"E",:"",:"o",:"O"},yogavaahas:{"":"M","":"H","":"~"},virama:{"":""},consonants:{:"k",:"K",:"g",:"G",:"N",:"c",:"C",:"j",:"J",:"Y",:"w",:"W",:"q",:"Q",:"R",:"t",:"T",:"d",:"D",:"n",:"p",:"P",:"b",:"B",:"m",:"y",:"r",:"l",:"v",:"S",:"z",:"s",:"h",:"L",:"kz",:"jY"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"AUM",:"'","":".","":".."},extra_consonants:{:"k0",:"K0",:"g0",:"j0",:"q0",:"Q0",:"P0",:"Y0",:"r2",:"L0",:"n0"},shortcuts:{Lh:"|"},isRomanScheme:!0},c.slp1_accented={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"f",:"F",:"x",:"X",:"",:"e",:"E",:"",:"o",:"O"},yogavaahas:{"":"M","":"H","":"~","":"M"},virama:{"":""},consonants:{:"k",:"K",:"g",:"G",:"N",:"c",:"C",:"j",:"J",:"Y",:"w",:"W",:"q",:"Q",:"R",:"t",:"T",:"d",:"D",:"n",:"p",:"P",:"b",:"B",:"m",:"y",:"r",:"l",:"v",:"S",:"z",:"s",:"h",:"L",:"kz",:"jY"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"AUM",:"'","":".","":".."},accents:{"":"","":"\\","":"^","":"/","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},extra_consonants:{:"k0",:"K0",:"g0",:"j0",:"q0",:"Q0",:"P0",:"Y0",:"r2",:"L0"},shortcuts:{Lh:"|"},isRomanScheme:!0},c.titus={vowels:{:"a",:"",:"i",:"",:"u",:"",:"r",:"r",:"l",:"l",:"",:"e",:"ai",:"",:"o",:"au",:"",:""},yogavaahas:{"":"","":"","":"m"},virama:{"":""},consonants:{:"k",:"k",:"g",:"g",:"",:"c",:"c",:"j",:"j",:"",:"",:"",:"",:"",:"",:"t",:"t",:"d",:"d",:"n",:"p",:"p",:"b",:"b",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"o",:"'","":".","":".."},zwj:{"":""},skip:{undefined:""},candra:{"":""},extra_consonants:{:"q",:"k",:"",:"z",:"",:"",:"f",:"",:"",:""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],r:["","r"],r:["","","r","r","r","r","r"],a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],r:["r"],r:["r","r","r","r","r"]},alternates:{m:["m"],o:[""],r:["r"],".":["|","/"],"..":["||","//"]},isRomanScheme:!0},c.velthuis={vowels:{:"a",:"aa",:"i",:"ii",:"u",:"uu",:".r",:".rr",:".l",:".ll",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":".m","":".h","":"~m"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:'"n',:"c",:"ch",:"j",:"jh",:"~n",:".t",:".th",:".d",:".dh",:".n",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:'"s',:".s",:"s",:"h",:"L",:"k.s",:"j~n"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"O",:".a","":"|","":"||"},isRomanScheme:!0},c.wx={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"q",:"Q",:"L",:"",:"",:"e",:"E",:"",:"o",:"O"},yogavaahas:{"":"M","":"H","":"z"},virama:{"":""},consonants:{:"k",:"K",:"g",:"G",:"f",:"c",:"C",:"j",:"J",:"F",:"t",:"T",:"d",:"D",:"N",:"w",:"W",:"x",:"X",:"n",:"p",:"P",:"b",:"B",:"m",:"y",:"r",:"l",:"v",:"S",:"R",:"s",:"h",:"l",:"kR",:"jF"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"oM",:"'","":".","":".."},isRomanScheme:!0};var h={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function f(p,w,y){var b={};b.defaults={skip_sgml:!1,syncope:!1,preferred_alternates:{}};var g={SCHEMES:[["Bengali",2432],["Devanagari",2304],["Gujarati",2688],["Gurmukhi",2560],["Kannada",3200],["Malayalam",3328],["Oriya",2816],["Tamil",2944],["Telugu",3072],["HK",null],["IAST",null],["ITRANS",null],["Kolkata",null],["SLP1",null],["Velthuis",null]],BRAHMIC_FIRST_CODE_POINT:2304,BRAHMIC_LAST_CODE_POINT:3455,RE_IAST_OR_KOLKATA_ONLY:/[]/,RE_ITRANS_OR_VELTHUIS_ONLY:/aa|ii|uu|~n/,RE_ITRANS_ONLY:/ee|oo|\^[iI]|RR[iI]|L[iI]|~N|N\^|Ch|chh|JN|sh|Sh|\.a/,RE_KOLKATA_ONLY:/[]/,RE_SLP1_ONLY:RegExp(["[fFxXEOCYwWqQPB]|kz|Nk|Ng|tT|dD|Sc|Sn|","[aAiIuUfFxXeEoO]R|","G[yr]|(\\W|^)G"].join("")),RE_VELTHUIS_ONLY:/\.[mhnrlntds]|"n|~s/};b.detect=function(I){for(var A={},D=0;D<g.SCHEMES.length;D++){var $=g.SCHEMES[D][0];A[$]=$}for(var B=g.SCHEMES.filter(function(ve){return ve[1]}).sort(function(ve,G){return G[1]-ve[1]}),ue=0;ue<I.length;ue++){var N=I[ue],V=N.charCodeAt(N);if(V>=g.BRAHMIC_FIRST_CODE_POINT&&V<=g.BRAHMIC_LAST_CODE_POINT)for(var T=0;T<B.length;T++){var Z=B[T];if(V>=Z[1])return Z[0]}}return g.RE_IAST_OR_KOLKATA_ONLY.test(I)?g.RE_KOLKATA_ONLY.test(I)?A.Kolkata:A.IAST:g.RE_ITRANS_ONLY.test(I)?A.ITRANS:g.RE_SLP1_ONLY.test(I)?A.SLP1:g.RE_VELTHUIS_ONLY.test(I)?A.Velthuis:g.RE_ITRANS_OR_VELTHUIS_ONLY.test(I)?A.ITRANS:A.HK},b.schemes=w;var v={};b.addBrahmicScheme=function(I,A){b.schemes[I]=A},b.addRomanScheme=function(I,A){if(!("vowel_marks"in A)){A.vowel_marks={};for(var D=0,$=Object.entries(A.vowels);D<$.length;D++){var B=s($[D],2),ue=B[0],N=B[1];ue!=""&&(A.vowel_marks[y[ue]]=N)}}b.schemes[I]=A},function(){var I=function(T){return T.charAt(0).toUpperCase()+T.substring(1,T.length)},A=function(T,Z){var ve=r(T),G;try{for(ve.s();!(G=ve.n()).done;){var X=G.value,ee=Z[X]||[],he=ee;he=he.concat(I(X));var K=r(ee),q;try{for(K.s();!(q=K.n()).done;){var we=q.value;he=he.concat(I(we))}}catch(H){K.e(H)}finally{K.f()}Z[X]=he}}catch(H){ve.e(H)}finally{ve.f()}};A(Object.values(w.iast.vowels),w.iast.alternates),A(Object.values(w.iast.consonants),w.iast.alternates),A(Object.values(w.iast.extra_consonants),w.iast.alternates),A(["o"],w.iast.alternates),A(Object.values(w.kolkata_v2.vowels),w.kolkata_v2.alternates),A(Object.values(w.kolkata_v2.consonants),w.kolkata_v2.alternates),A(Object.values(w.kolkata_v2.extra_consonants),w.kolkata_v2.alternates),A(Object.values(w.iso.vowels),w.iso.alternates),A(Object.values(w.iso.consonants),w.iso.alternates),A(Object.values(w.iso.extra_consonants),w.iso.alternates),A([""],w.iso.alternates);for(var D=0,$=Object.entries(w);D<$.length;D++){var B=s($[D],2),ue=B[0],N=B[1];N.isRomanScheme&&b.addRomanScheme(ue,N)}}();var x=function(A,D,$){var B={},ue=b.schemes[A],N={},V=[],T={},Z={},ve=b.schemes[D],G=ue.alternates||{};for(var X in ue)if({}.hasOwnProperty.call(ue,X)&&!["alternates","accented_vowel_alternates","isRomanScheme"].includes(X)){var ee=ue[X],he=ve[X];if(he!==void 0)for(var K=0,q=Object.entries(ee);K<q.length;K++){var we=s(q[K],2),H=we[0],se=we[1],pe=he[H];if(pe!==void 0){pe==""&&!["virama","zwj","skip"].includes(X)&&(pe=se);var Se=G[se]||[],je=Se.length,ce=0;for(V.push(se.length),ce=0;ce<je;ce++)V.push(Se[ce].length);if(X==="vowel_marks"||X==="virama")for(T[se]=pe,ce=0;ce<je;ce++)T[Se[ce]]=pe;else{for(N[se]=pe,ce=0;ce<je;ce++)N[Se[ce]]=pe;if(X==="consonants"||X==="extra_consonants")for(B[se]=pe,ce=0;ce<je;ce++)B[Se[ce]]=pe;if(X==="accents")for(Z[se]=pe,ce=0;ce<je;ce++)Z[Se[ce]]=pe}}}}if(ue.accented_vowel_alternates)for(var ze=0,Ve=Object.keys(ue.accented_vowel_alternates);ze<Ve.length;ze++){var Ke=Ve[ze],ct=ue.accented_vowel_alternates[Ke],P=r(ct),ge;try{for(P.s();!(ge=P.n()).done;){var me=ge.value,F=Ke.substring(0,Ke.length-1),M=Ke[Ke.length-1],re=Z[M]||M;T[me]=(T[F]||"")+re,N[F]||console.error(F,re,N),N[me]=N[F].concat(re)}}catch(xe){P.e(xe)}finally{P.f()}}return{consonants:B,accents:Z,fromRoman:ue.isRomanScheme,letters:N,marks:T,maxTokenLength:Math.max.apply(Math,V),toRoman:ve.isRomanScheme,virama:ve.virama[""],toSchemeA:ve.vowels.,fromSchemeA:ue.vowels.,from:A,to:D}},C=function(A,D,$){for(var B=[],ue=D.consonants,N=A.length,V=D.letters,T=D.marks,Z=D.maxTokenLength,ve=$.skip_sgml,G=$.syncope,X=D.toRoman,ee=D.virama,he=!1,K,q,we="",H=!1,se=!1,pe=!1,Se=0,je;(je=A.charAt(Se))||we;Se++){var ce=Z-we.length;if(!(ce>0&&Se<N&&(we+=je,ce>1)))for(var ze=0;ze<Z;ze++){var Ve=we.substr(0,Z-ze);if(H===!0)H=Ve!==">";else if(Ve==="<")H=ve;else if(Ve==="##"){pe=!pe,we=we.substr(2);break}if(se=H||pe,(K=V[Ve])!==void 0&&!se){X?B.push(K):(he?(q=T[Ve])?B.push(q):Ve!==D.fromSchemeA&&(B.push(ee),B.push(K)):B.push(K),he=Ve in ue),we=we.substr(Z-ze);break}else ze===Z-1&&(he&&(he=!1,G||B.push(ee)),B.push(Ve),we=we.substr(1))}}he&&!G&&B.push(ee);var Ke=B.join(""),ct=w[D.to];if(!X&&Object.keys(D.accents).length>0){var P=new RegExp("([".concat(Object.values(D.accents).join(""),"])([").concat(Object.values(ct.yogavaahas).join(""),"])"),"g");Ke=Ke.replace(P,"$2$1")}return Ke},j=function(A,D,$){var B=[],ue=D.consonants,N=D.letters,V=D.marks,T=D.toRoman,Z=!1,ve=!1,G,X=!1,ee=w[D.to];if(T&&Object.keys(D.accents).length>0){var he=new RegExp("([".concat(Object.values(ee.yogavaahas).join(""),"])([").concat(Object.values(D.accents).join(""),"])"),"g");A=A.replace(he,"$2$1")}for(var K=0,q;q=A.charAt(K);K++){if(q==="#"){Z?(X=!X,Z=!1):Z=!0,ve&&(B.push(D.toSchemeA),ve=!1);continue}else if(X){B.push(q);continue}(G=V[q])!==void 0?(B.push(G),ve=!1):(Z&&(B.push("#"),Z=!1),ve&&(B.push(D.toSchemeA),ve=!1),(G=N[q])?(B.push(G),ve=T&&q in ue):B.push(q))}return ve&&B.push(D.toSchemeA),B.join("")};b.t=function(I,A,D,$){A||(A=b.detect(I).toLowerCase()),$=$||{};var B=v.options||{},ue=b.defaults,N=v.from===A&&v.to===D,V;for(var T in ue)if({}.hasOwnProperty.call(ue,T)){var Z=ue[T];T in $&&(Z=$[T]),$[T]=Z,Z!==B[T]&&(N=!1)}if(N?V=v.map:(V=x(A,D),v={from:A,map:V,options:$,to:D}),A==="itrans"&&(I=I.replace(/\{\\m\+\}/g,".h.N"),I=I.replace(/\.h/g,""),I=I.replace(/\\([^'`_]|$)/g,"##$1##")),A==="tamil_superscripted"){var ve="(["+Object.values(w.tamil_superscripted.vowel_marks).join("")+w.tamil_superscripted.virama[""]+"]+)([])";I=I.replace(new RegExp(ve,"g"),"$2$1"),console.error("transliteration from tamil_superscripted not fully implemented!")}var G=w[A].shortcuts;if(G)for(var X in G){var ee=G[X];X.includes(ee)&&(I=I.replace(X,ee)),I=I.replace(ee,X)}var he="";V.fromRoman?he=C(I,V,$):he=j(I,V);var K=w[D].shortcuts;if(K)for(var q in K){var we=K[q];we.includes(q)&&(he=he.replace(we,q)),he=he.replace(q,we)}if(D==="tamil_superscripted"){var H="([])(["+Object.values(w.tamil_superscripted.vowel_marks).join("")+w.tamil_superscripted.virama[""]+"]+)";he=he.replace(new RegExp(H,"g"),"$2$1")}if(n($.preferred_alternates[D])=="object")for(var se=Object.keys($.preferred_alternates[D]),pe=0;pe<se.length;pe++)he=he.split(se[pe]).join($.preferred_alternates[D][se[pe]]);return he},b.transliterateWordwise=function(I,A,D,$){$=$||{};var B=I.split(/\s+/),ue=B.map(function(N){var V=b.t(N,A,D,$);return[N,V]});return ue},e.exports&&(t=b,e.exports=b),t.Sanscript=b}f(Wt,c,h)})(rg,rg.exports);var HD=rg.exports;const Tl=Au(HD),qD=e=>{const t=e.default||e;if(!t||!t.addBrahmicScheme){console.error("Sanscript not found or addBrahmicScheme not supported");return}if(console.log("CustomSchemes: Checking for Devanagari scheme..."),t.schemes&&t.schemes.devanagari)if(Array.isArray(t.schemes.devanagari.consonants)){const y=t.schemes.devanagari.consonants;y.indexOf("")===-1&&y.push(""),y.indexOf("")===-1&&y.push(""),y.indexOf("")===-1&&y.push(""),console.log("CustomSchemes: Patched Devanagari scheme with , , ")}else console.warn("CustomSchemes: Devanagari consonants is not an array. It is:",typeof t.schemes.devanagari.consonants);else console.warn("CustomSchemes: Could not patch Devanagari scheme. S.schemes.devanagari not found."),t.schemes&&console.log("CustomSchemes: Available schemes:",Object.keys(t.schemes));t.addBrahmicScheme("devanagari_extended",{vowels:["","","","","","","","","","","","","","","",""],vowel_marks:["","","","","","","","","","","","","","",""],other:["","","","","",""],virama:[""],consonants:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],symbols:["","","","","","","","","","","",""],c_specials:{l3:"",r2:"",n2:""}}),t.addBrahmicScheme("malayalam_extended",{vowels:["","","","","","","","","","","","","","","",""],vowel_marks:["","","","","","","","","","","","","","",""],other:["","","","","",""],virama:[""],consonants:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],symbols:["","","","","","","","","","","",""],c_specials:{l3:"",r2:"",n2:""}}),t.addRomanScheme("itrans_extended",{vowels:["a","A","i","I","u","U","R","RR","LL","lRR","e","E","ai","o","O","au"],vowel_marks:["A","i","I","u","U","R","RR","LL","lRR","e","E","ai","o","O","au"],other:["M","H",".N",".a","OM",".."],virama:[""],consonants:["k","kh","g","gh","ng","c","ch","j","jh","nj","T","Th","D","Dh","N","t","th","d","dh","n","p","ph","b","bh","m","y","r","l","v","S","sh","s","h","L","ksh","jn","zh","R","n2"],c_specials:{l3:"zh",r2:"R",n2:"n2"}});const n=["","","","",""],r=["","","","",""],s=["","","","",""],i=["","","","",""],o=["","","","",""],a=["","","",""],l=["","","",""],u=["","",""],c=["","",""],h=[...n,...r,...s,...i,...o,...a,...l,...u,...c],f=["","","","","","","","","","","","","","","",""],p=["","","","","","","","","","","","","","",""];if(t.schemes.tamil&&t.schemes.devanagari){const y=t.schemes.tamil,b=t.schemes.devanagari,g=(x,C)=>Array.isArray(x)?x.map(j=>C[j]||""):[],v={vowels:f,vowel_marks:p,other:g(b.other,y.other||{}),virama:[""],consonants:h,symbols:g(b.symbols,y.symbols||{}),c_specials:{l3:"",r2:"",n2:""}};t.addBrahmicScheme("tamil_extended",v),console.log("CustomSchemes: Registered 'tamil_extended' scheme.")}else console.error("CustomSchemes: Failed to register 'tamil_extended'. Tamil or Devanagari schemes missing.");const w={vowels:["","","","","","","","","","","","","","","",""],vowel_marks:["","","","","","","","","","","","","","",""],other:["","","","","",""],virama:[""],consonants:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],symbols:["","","","","","","","","","",".",".."],c_specials:{l3:"",r2:"",n2:""}};t.addBrahmicScheme("tamil_superscripted",w),console.log("CustomSchemes: Registered 'tamil_superscripted' scheme.")},fb={:"",:"",:"",:"",:"",:""},GD=["","","","",""],YD=["","","","",""],gl="",QD="",pb="",JD=e=>{let t=e;const n=Object.keys(fb);let r=0,s="";for(;r<t.length;){let i=!1;for(const o of n)if(t.startsWith(o,r)){const a=fb[o],l=t[r+o.length];let u=!1;if(o===""?(l&&GD.includes(l)&&(u=!0),(l===gl||l===pb)&&(u=!0)):o===""?(l&&YD.includes(l)&&(u=!0),l===gl&&(u=!0)):o===""?(l===""&&(u=!0),(l===QD||l===gl)&&(u=!0)):o===""?l===""&&(u=!0):o===""?l===gl&&(u=!0):o===""&&(l===pb&&(u=!0),l===gl&&(u=!0)),!u){s+=a,r+=o.length,i=!0;break}}i||(s+=t[r],r++)}return s},fp=(e,t,n=!1)=>{const r="",s=[...n?[{nasal:"",chars:""}]:[{nasal:"",chars:""}],...n?[]:[{nasal:"",chars:""}],{nasal:"",chars:""},{nasal:"",chars:""},...n?[{nasal:"",chars:""}]:[{nasal:"",chars:""}]];let i="";for(let o=0;o<e.length;o++){const a=e[o];if(a===r&&o+1<e.length){const l=e[o+1];let u=!1;for(const c of s)if(c.chars.includes(l)){i+=c.nasal,u=!0;break}u||(i+=a)}else i+=a}return i},mb=e=>{let t=e;const n="",r="",s=new RegExp(`([${n}])${r}(?![\\u0900-\\u097F])`,"g");t=t.replace(s,"$1");const i="--",o=new RegExp(`([${n}])${r}([${i}])`,"g");return t=t.replace(o,"$1$2"),t},ZD={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":""},XD=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];t+=ZD[r]||r}return t};qD(Tl);function eN(e){return e.replace(/~nja?/g,"~n").replace(/~nca?/g,"~nca").replace(/[]?/g,"n").replace(/jh/g,"c").replace(/bh/g,"p").replace(/gh/g,"k").replace(/dh/g,"t").replace(/([kctp])a(?![aiueo])/g,"$1").replace(//g,"").replace(//g,"i").replace(//g,"").replace(//g,"u").replace(//g,"").replace(/n([ctkp])/g,"$1").replace(//g,"").replace(//g,"r").replace(/aa/g,"A").replace(/ii/g,"I").replace(/uu/g,"U")}const Oa=(e,t,n,r={})=>{const s=t.toLowerCase(),i=n.toLowerCase();if(i==="original")return e;let o=e,a=e;try{s==="devanagari"?(r.isMarathiMode&&(o=mb(o)),o=fp(o,"devanagari",r.isMarathiMode)):(s==="tamil"||s==="tamil_superscripted")&&(o=o.normalize("NFC"));let l=s,u=i;s==="tamil_superscripted"&&(l="tamil"),l==="tamil"&&(o=XD(o),r.isMarathiMode?(o=mb(o),o=fp(o,"devanagari",!0)):o=fp(o,"devanagari",!1),l="devanagari_extended");const c=["devanagari","malayalam","tamil","tamil_superscripted"];if(c.includes(l)&&c.includes(u)&&(l==="devanagari"&&(l="devanagari_extended"),l==="malayalam"&&(l="malayalam_extended"),l==="tamil"&&(l="tamil_extended"),u==="devanagari"&&(u="devanagari_extended"),u==="malayalam"&&(u="malayalam_extended"),u==="tamil"&&(u="tamil_extended")),u==="tamil"&&(u="tamil_superscripted"),l!==u){let f=Tl.default||Tl;if((!f||!f.t)&&(f=window.Sanscript),f&&f.t){const p=["itrans","iast","hk","slp1","velthuis","wx","kolkata"].includes(l),w=["tamil_superscripted","tamil_extended","malayalam_extended"].includes(u);if(p&&w){console.log(`[Transliteration] Manual Pivot 3-Step: Source=${l}, Target=${u}`);let y=f.t(o,l,"devanagari");console.log("[Transliteration] Step 1 (Dev Standard):",y),f.schemes.devanagari_extended?(y=f.t(y,"devanagari","devanagari_extended"),console.log("[Transliteration] Step 2 (Dev Extended):",y)):console.error("[Transliteration] 'devanagari_extended' missing! Skipping Step 2."),f.schemes[u]?(f.schemes.devanagari_extended?a=f.t(y,"devanagari_extended",u):a=f.t(y,"devanagari",u),console.log("[Transliteration] Step 3 (Final):",a)):(console.error(`[Transliteration] Scheme '${u}' not found!`),a=y)}else a=f.t(o,l,u)}else return e}else a=o;if(i.includes("malayalam")&&(a=JD(a)),r.retainEnglishNumerals!==!1){const f="0123456789";let p="",w=Tl.default||Tl;if((!w||!w.t)&&(w=window.Sanscript),w&&w.t&&l!==u){const y="itrans";if(["tamil_superscripted","tamil_extended","malayalam_extended"].includes(u)){let g=w.t(f,y,"devanagari");w.schemes.devanagari_extended&&(g=w.t(g,"devanagari","devanagari_extended")),w.schemes[u]&&(w.schemes.devanagari_extended?p=w.t(g,"devanagari_extended",u):p=w.t(g,"devanagari",u))}else p=w.t(f,y,u)}if(p&&p!==f&&p.length===10)for(let y=0;y<10;y++){const b=p[y],g=f[y];b!==g&&(a=a.split(b).join(g))}}return i==="itrans"&&s==="tamil"&&(a=eN(a)),a}catch(l){return console.error("Transliteration Error:",l),e}},tN=()=>localStorage.getItem("isMarathiMode")==="true",nN={color:"#059669",background:"#E6FFEE"},rN={color:"#EF4444",background:"#FEEEEE"},sN={color:"green"},iN={color:"black"},gb={backgroundColor:"#e0e0e0",fontWeight:"bold",color:"blue"},oN={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},V1={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 15px",marginBottom:"2px",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.2s ease",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid #e2e8f0"},aN={backgroundColor:"#f0f4f8"},lN={backgroundColor:"#f5f5f5",fontWeight:"bold",fontSize:"1.2em",padding:"15px 15px 5px 15px",cursor:"default",marginBottom:"10px",marginTop:"15px",borderBottom:"2px solid #ddd",boxShadow:"none"},yb={...V1,backgroundColor:"#eaf2ff",color:"#1e40af",fontWeight:"500",border:"1px solid #c3dafe"},uN=async(e,t)=>{if(!e)return[];const n=new URL(wi);n.searchParams.append("mode","api"),n.searchParams.append("apiname","getsongsforbook"),n.searchParams.append("book",e),n.searchParams.append("sessionuser",t??"dummyfornow");const r=await fetch(n.toString());if(!r.ok){const i=await r.json().catch(()=>({message:"No detailed error message"}));throw new Error(`Failed to fetch song indices for book ${e}: ${r.status} - ${JSON.stringify(i)}`)}const s=await r.json();return s.data||s},cN=(e,t)=>{const[n,r]=S.useState({});return S.useEffect(()=>{if(r({}),!e||!t||t.length===0)return;(async()=>{const i=t.map(async l=>{const u=await Lh(e,l.songTitle);return{title:l.songTitle,isDownloaded:u}}),a=(await Promise.all(i)).reduce((l,u)=>(l[u.title]=u.isDownloaded,l),{});r(a)})()},[e,t]),n},dN=(e,t)=>{const n=t==="itrans"?e.songTitle:(()=>{if(window.Sanscript)try{return Oa(e.songTitle,"itrans",t,{isMarathiMode:tN()})}catch(i){return console.error("Error during transliteration",i),e.songTitle}return e.songTitle})(),r=n.length>50?n.substring(0,50)+"...":n,s=e.raagam?t==="itrans"?e.raagam:(()=>{if(window.Sanscript)try{return Oa(e.raagam,"itrans",t)}catch(i){return console.error("Error during raagam transliteration",i),e.raagam}return e.raagam})():null;return e.type==="link"?k.jsxs("div",{style:{display:"flex",alignItems:"center",flexGrow:1},children:[k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"10px",minWidth:"20px"},children:[k.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2V3z"}),k.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7V3z"})]}),k.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[k.jsx("span",{style:{fontSize:"1.2em"},title:n,children:r}),s&&k.jsxs(k.Fragment,{children:[k.jsx("span",{style:{margin:"0 8px",color:"#ccc"},children:"|"}),k.jsx("span",{style:{fontSize:"0.95em",color:"#666",fontStyle:"italic"},children:s})]})]})]}):k.jsxs("div",{style:{flexGrow:1,display:"flex",alignItems:"center",flexWrap:"wrap"},children:[k.jsx("span",{style:{fontSize:"1.2em"},title:n,children:r}),s&&k.jsxs(k.Fragment,{children:[k.jsx("span",{style:{margin:"0 8px",color:"#ccc"},children:"|"}),k.jsx("span",{style:{fontSize:"0.95em",color:"#666",fontStyle:"italic"},children:s})]})]})},vb=e=>{if(e.type!=="link"||!e.link)return null;try{return JSON.parse(e.link).bookId||null}catch{return null}};function hN(){var V;const{categoryId:e,bookId:t}=Ba(),n=Xn(),{isEffectivelyOffline:r}=Gy(),{session:s}=xi(),i=(V=s==null?void 0:s.user)==null?void 0:V.email,[o,a]=S.useState(null),{preferredLanguage:l}=bo(),[,u]=S.useState({}),[c,h]=S.useState(!0),[f,p]=S.useState([]);S.useEffect(()=>{(async()=>{h(!0);try{const Z=await kD();p(Z)}catch(Z){console.error("Failed to fetch downloaded book IDs:",Z)}finally{h(!1)}})()},[]),S.useEffect(()=>{u({})},[l]);const{isLoading:w,error:y,data:b,isFetching:g}=Dh({queryKey:["songIndices",t,i],queryFn:async()=>{if(!t||!i)return[];const T=await Nh(t);return T&&T.length>0?T:uN(t,i)},staleTime:1/0,gcTime:0,networkMode:"always",refetchOnWindowFocus:!1,refetchOnMount:!1,enabled:!!t&&!!i}),v=b,{downloadStatus:x}=Yy(),C=cN(t,v);if(S.useEffect(()=>{t&&b&&!g&&qy(t,b).catch(T=>{console.error("Error saving song indices data to IndexedDB:",T)})},[t,b,g]),S.useEffect(()=>{const T=sessionStorage.getItem("lastClickedSongIndex");T!==null&&(a(parseInt(T,10)),sessionStorage.removeItem("lastClickedSongIndex"))},[]),w)return k.jsx("div",{style:oN,children:k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[k.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),k.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),k.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),k.jsx("p",{style:{marginLeft:"10px"},children:"Loading song indices..."})]})});if(y instanceof Error)return k.jsxs("div",{children:["Error loading song indices: ",y.message]});const I=(T,Z,ve,G)=>{switch(T.stopPropagation(),Z[ve].type){case"title":break;case"link":const ee=Z[ve].link,he=JSON.parse(ee),K=he.categoryId.trim(),q=he.bookId.trim(),we=`/book/${K}/${q}`;console.log(we),K&&q&&(sessionStorage.setItem("lastClickedSongIndex",ve.toString()),n(we));break;default:const H=Z[ve].sourceRow,se=Z[ve].songTitle;G&&(sessionStorage.setItem("lastClickedSongIndex",ve.toString()),n(`/details/book/${e}/${G}/${H}/${encodeURIComponent(se)}`,{state:{filteredSongIndices:Z,index:ve}}))}},A=T=>C[T]===!0,D=T=>f.includes(T),$=(v==null?void 0:v.filter(T=>r?A(T.songTitle):!0))??[],B=(T,Z)=>{if(T.type==="title")return lN;if(T.type==="link"){const G=vb(T),X=G?D(G):!1;return{...yb,...X?nN:rN,...Z===o&&gb}}const ve=A(T.songTitle);return{...V1,...ve?sN:iN,...Z===o&&gb}},ue=(T,Z)=>{Z!=="title"&&(T.currentTarget.style.backgroundColor=aN.backgroundColor)},N=(T,Z)=>{Z!=="title"&&(Z==="link"?T.currentTarget.style.backgroundColor=yb.backgroundColor:T.currentTarget.style.backgroundColor="")};return k.jsxs(k.Fragment,{children:[k.jsx(Jy,{}),k.jsxs("div",{children:[k.jsxs("h2",{children:["Song Indices for Book:"," ",`bookId: ${t} (${$.length} items)`]}),k.jsx("ul",{className:"list-none p-0 m-0",children:$==null?void 0:$.map((T,Z)=>{var ve;return vb(T),k.jsxs("li",{onClick:G=>{T.type!=="title"&&I(G,$,Z,t)},style:B(T,Z),onMouseEnter:G=>ue(G,T.type),onMouseLeave:G=>N(G,T.type),className:`transition-all duration-150 ease-in-out ${T.type!=="title"?"hover:shadow-md":""}`,children:[dN(T,l),T.type==="song"&&k.jsx("span",{style:{marginLeft:"10px",color:"#EF4444"},children:t&&((ve=x[t])==null?void 0:ve.downloadingSongs[T.songTitle||""])&&"..downloading song.."}),T.type==="link"&&D(t)&&k.jsx("span",{style:{marginLeft:"10px",color:"orange",fontSize:"0.85em",fontWeight:"600"},children:"..downloading linked book.."})]},T.sourceRow)})})]})]})}const fN=e=>e,pN=e=>{const t=/<link\s+categoryId="([^"]+)"\s+bookId="([^"]+)"\s+sourceRow=(?:\"([^\"]+)\"|(\S+))\s+songTitle="([^"]+)">([\s\S]*?)<\/link>/gi;return e.replace(t,(n,r,s,i,o,a,l)=>{const u=i||o,c=r.replace(/"/g,"&quot;"),h=s.replace(/"/g,"&quot;"),f=u.replace(/"/g,"&quot;"),p=a.replace(/"/g,"&quot;");return`
      <a 
        href="#"
        class="text-indigo-600 hover:text-indigo-800 font-medium underline cursor-pointer transition-colors duration-150"
        onclick="event.preventDefault(); window.handleInternalNavigation(
          '${c}', 
          '${h}', 
          '${f}', 
          '${p}'
        );"
      >
        ${l}
      </a>
    `})},mN=({data:e,className:t="",highlightColor:n="bg-amber-50",highlightColumns:r=[],wrapColumns:s=[],striped:i=!0,hoverEffect:o=!0,maxWidth:a="screen",fontSize:l="3xl",preferredLanguage:u,sourceLanguage:c,isMarathiMode:h=!1,retainEnglishNumerals:f=!0})=>{if(!Array.isArray(e)||e.length<1)return k.jsx("div",{className:"p-2 text-red-500 bg-red-50 rounded",children:"Invalid data: Must be a non-empty array"});const[p,...w]=e,y=g=>{let v=String(g).replace(/ \s*\/?>/gi,"<br/>").replace(/\n/g,"<br/>");if(typeof g=="string"&&u!==c)try{const x=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let C=Oa(x,c,u,{isMarathiMode:h,retainEnglishNumerals:f});(u.toLowerCase()==="devanagari"||u.toLowerCase()==="devanagari")&&(C=fN(C)),v=C}catch(x){return console.error("Error during transliteration:",x),{__html:v}}return v=v.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"),v=pN(v),{__html:v}},b=a==="screen"?"max-w-screen":a==="full"?"w-full":a;return k.jsx("div",{className:`overflow-x-auto rounded-lg border bg-gray-300 ${b} ${t}`,children:k.jsxs("table",{className:"min-w-full divide-y divide-gray-200 font-devanagari",children:[k.jsx("thead",{className:"bg-gray-50",children:k.jsx("tr",{children:p.map((g,v)=>k.jsx("th",{className:`
         px-4 py-4 text-left text-${l} font-medium text-gray-700
         ${r.includes(v)?n:""}
         sticky top-0 bg-gray-100
        `,dangerouslySetInnerHTML:y(g)},`th-${v}`))})}),k.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((g,v)=>k.jsx("tr",{id:`trRowAsAnchor-${v}`,className:`
    ${i&&v%2===0?"bg-white":"bg-gray-100"}
    ${o?"hover:bg-indigo-50":""}
   `,children:g.map((x,C)=>k.jsx("td",{className:`
      px-4 py-3.5 text-${l} align-top
      ${s.includes(C)?"whitespace-normal break-all max-w-full":"whitespace-nowrap"}
      ${r.includes(C)?n:""}
     `,dangerouslySetInnerHTML:y(x)},`td-${v}-${C}`))},`row-${v}`))})]})})};function gN(e,t,n){return Math.max(t,Math.min(e,n))}const gn={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function wb(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function bb(e,t,n,r=.15){return r===0?gN(e,t,n):e<t?-wb(t-e,n-t,r)+t:e>n?+wb(e-n,n-t,r)+n:e}function yN(e,[t,n],[r,s]){const[[i,o],[a,l]]=e;return[bb(t,i,o,r),bb(n,a,l,s)]}function vN(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wN(e){var t=vN(e,"string");return typeof t=="symbol"?t:String(t)}function jn(e,t,n){return t=wN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(n),!0).forEach(function(r){jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const K1={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function _b(e){return e?e[0].toUpperCase()+e.slice(1):""}const bN=["enter","leave"];function xN(e=!1,t){return e&&!bN.includes(t)}function _N(e,t="",n=!1){const r=K1[e],s=r&&r[t]||t;return"on"+_b(e)+_b(s)+(xN(n,s)?"Capture":"")}const kN=["gotpointercapture","lostpointercapture"];function SN(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=kN.includes(t)?"capturecapture":"capture",s=!!~t.indexOf(r);return s&&(t=t.replace("capture","")),{device:t,capture:s,passive:n}}function EN(e,t=""){const n=K1[e],r=n&&n[t]||t;return e+r}function $h(e){return"touches"in e}function W1(e){return $h(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function CN(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function TN(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function H1(e){return $h(e)?TN(e)[0]:e}function PN(e){return CN(e).map(t=>t.identifier)}function pp(e){const t=H1(e);return $h(e)?t.identifier:t.pointerId}function kb(e){const t=H1(e);return[t.clientX,t.clientY]}function RN(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i})}return t}function eh(e,...t){return typeof e=="function"?e(...t):e}function jN(){}function AN(...e){return e.length===0?jN:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function Sb(e,t){return Object.assign({},t,e||{})}const ON=32;class IN{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:s}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=s,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?eh(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:s}=this;n.args=this.args;let i=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,RN(t)),s.down=s.pressed=s.buttons%2===1||s.touches>0,i=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const I=n._delta.map(Math.abs);gn.addTo(n._distance,I)}this.axisIntent&&this.axisIntent(t);const[o,a]=n._movement,[l,u]=r.threshold,{_step:c,values:h}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&h[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&h[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const f=[0,0];if(r.hasCustomTransform){const[I,A]=h;f[0]=c[0]!==!1?I-c[0]:0,f[1]=c[1]!==!1?A-c[1]:0}else f[0]=c[0]!==!1?o-c[0]:0,f[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(f);const p=n.offset,w=n._active&&!n._blocked||n.active;w&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=s[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=eh(r.bounds,n)),this.setup&&this.setup()),n.movement=f,this.computeOffset()));const[y,b]=n.offset,[[g,v],[x,C]]=n._bounds;n.overflow=[y<g?-1:y>v?1:0,b<x?-1:b>C?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const j=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=yN(n._bounds,n.offset,j),n.delta=gn.sub(n.offset,p),this.computeMovement(),w&&(!n.last||i>ON)){n.delta=gn.sub(n.offset,p);const I=n.delta.map(Math.abs);gn.addTo(n.distance,I),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&i>0&&(n.velocity=[I[0]/i,I[1]/i],n.timeDelta=i)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const s=this.handler(Ct(Ct(Ct({},n),t),{},{[this.aliasKey]:t.values}));s!==void 0&&(t.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function DN([e,t],n){const r=Math.abs(e),s=Math.abs(t);if(r>s&&r>n)return"x";if(s>r&&s>n)return"y"}class NN extends IN{constructor(...t){super(...t),jn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=gn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=gn.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const s=typeof r.axisThreshold=="object"?r.axisThreshold[W1(t)]:r.axisThreshold;n.axis=DN(n._movement,s)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const LN=e=>e,Eb=.15,q1={enabled(e=!0){return e},eventOptions(e,t,n){return Ct(Ct({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[Eb,Eb];case!1:return[0,0];default:return gn.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return gn.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||LN},threshold(e){return gn.toVector(e,0)}},MN=0,zu=Ct(Ct({},q1),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=MN){return e},bounds(e={}){if(typeof e=="function")return i=>zu.bounds(e(i));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:s=1/0}=e;return[[t,n],[r,s]]}}),Cb={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class $N extends NN{constructor(...t){super(...t),jn(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),s={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=zu.bounds(s)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const s=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(s&&s.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=pp(t),r._pointerActive=!0,this.computeValues(kb(t)),this.computeInitial(),n.preventScrollAxis&&W1(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const s=pp(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;const i=kb(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=gn.sub(i,n._values),this.computeValues(i)),gn.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const s=pp(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[i,o]=n._distance;if(n.tap=i<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[u,c]=n._movement,[h,f]=r.swipe.velocity,[p,w]=r.swipe.distance,y=r.swipe.duration;if(n.elapsedTime<y){const b=Math.abs(a/n.timeDelta),g=Math.abs(l/n.timeDelta);b>h&&Math.abs(u)>p&&(n.swipe[0]=Math.sign(a)),g>f&&Math.abs(c)>w&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,FN(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=Cb[t.key];if(n){const r=this.state,s=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,s),r._keyboardActive=!0,gn.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Cb&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function FN(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Vu=typeof window<"u"&&window.document&&window.document.createElement;function G1(){return Vu&&"ontouchstart"in window}function BN(){return G1()||Vu&&window.navigator.maxTouchPoints>1}function UN(){return Vu&&"onpointerdown"in window}function zN(){return Vu&&"exitPointerLock"in window.document}function VN(){try{return"constructor"in GestureEvent}catch{return!1}}const cr={isBrowser:Vu,gesture:VN(),touch:G1(),touchscreen:BN(),pointer:UN(),pointerLock:zN()},KN=250,WN=180,HN=.5,qN=50,GN=250,YN=10,Tb={mouse:0,touch:0,pen:8},QN=Ct(Ct({},zu),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:s=!1}={}}){return this.pointerLock=r&&cr.pointerLock,cr.touch&&n?"touch":this.pointerLock?"mouse":cr.pointer&&!s?"pointer":cr.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?KN:void 0,!(!cr.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:s=!0}={}}){return this.pointerButtons=r,this.keys=s,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:s=void 0}){const i=gn.toVector(e,n?r:s?1:0);return this.filterTaps=n,this.tapsThreshold=r,i},swipe({velocity:e=HN,distance:t=qN,duration:n=GN}={}){return{velocity:this.transform(gn.toVector(e)),distance:this.transform(gn.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return WN;case!1:return 0;default:return e}},axisThreshold(e){return e?Ct(Ct({},Tb),e):Tb},keyboardDisplacement(e=YN){return e}});Ct(Ct({},q1),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!cr.touch&&cr.gesture)return"gesture";if(cr.touch&&r)return"touch";if(cr.touchscreen){if(cr.pointer)return"pointer";if(cr.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const s=o=>{const a=Sb(eh(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},i=o=>{const a=Sb(eh(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[s(),i()]:o=>[s(o),i(o)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",gn.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});Ct(Ct({},zu),{},{mouseOnly:(e=!0)=>e});Ct(Ct({},zu),{},{mouseOnly:(e=!0)=>e});const Y1=new Map,sg=new Map;function JN(e){Y1.set(e.key,e.engine),sg.set(e.key,e.resolver)}const ZN={key:"drag",engine:$N,resolver:QN};function XN(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function eL(e,t){if(e==null)return{};var n=XN(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const tL={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=cr.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},nL=["target","eventOptions","window","enabled","transform"];function gd(e={},t){const n={};for(const[r,s]of Object.entries(t))switch(typeof s){case"function":n[r]=s.call(n,e[r],r,e);break;case"object":n[r]=gd(e[r],s);break;case"boolean":s&&(n[r]=e[r]);break}return n}function rL(e,t,n={}){const r=e,{target:s,eventOptions:i,window:o,enabled:a,transform:l}=r,u=eL(r,nL);if(n.shared=gd({target:s,eventOptions:i,window:o,enabled:a,transform:l},tL),t){const c=sg.get(t);n[t]=gd(Ct({shared:n.shared},u),c)}else for(const c in u){const h=sg.get(c);h&&(n[c]=gd(Ct({shared:n.shared},u[c]),h))}return n}class Q1{constructor(t,n){jn(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,s,i){const o=this._listeners,a=EN(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Ct(Ct({},l),i);t.addEventListener(a,s,u);const c=()=>{t.removeEventListener(a,s,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class sL{constructor(){jn(this,"_timeouts",new Map)}add(t,n,r=140,...s){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...s))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class iL{constructor(t){jn(this,"gestures",new Set),jn(this,"_targetEventStore",new Q1(this)),jn(this,"gestureEventStores",{}),jn(this,"gestureTimeoutStores",{}),jn(this,"handlers",{}),jn(this,"config",{}),jn(this,"pointerIds",new Set),jn(this,"touchIds",new Set),jn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),oL(this,t)}setEventIds(t){if($h(t))return this.touchIds=new Set(PN(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=rL(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let s;if(!(n.target&&(s=n.target(),!s))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=Pb(r,a.eventOptions,!!s);if(a.enabled){const u=Y1.get(o);new u(this,t,o).bind(l)}}const i=Pb(r,n.eventOptions,!!s);for(const o in this.nativeHandlers)i(o,"",a=>this.nativeHandlers[o](Ct(Ct({},this.state.shared),{},{event:a,args:t})),void 0,!0)}for(const i in r)r[i]=AN(...r[i]);if(!s)return r;for(const i in r){const{device:o,capture:a,passive:l}=SN(i);this._targetEventStore.add(s,o,"",r[i],{capture:a,passive:l})}}}}function Mo(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Q1(e,t),e.gestureTimeoutStores[t]=new sL}function oL(e,t){t.drag&&Mo(e,"drag"),t.wheel&&Mo(e,"wheel"),t.scroll&&Mo(e,"scroll"),t.move&&Mo(e,"move"),t.pinch&&Mo(e,"pinch"),t.hover&&Mo(e,"hover")}const Pb=(e,t,n)=>(r,s,i,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:t.capture,h=(u=o.passive)!==null&&u!==void 0?u:t.passive;let f=a?r:_N(r,s,c);n&&h&&(f+="Passive"),e[f]=e[f]||[],e[f].push(i)};function aL(e,t={},n,r){const s=We.useMemo(()=>new iL(e),[]);if(s.applyHandlers(e,r),s.applyConfig(t,n),We.useEffect(s.effect.bind(s)),We.useEffect(()=>s.clean.bind(s),[]),t.target===void 0)return s.bind.bind(s)}function lL(e,t){return JN(ZN),aL({drag:e},t||{},"drag")}const Zy=S.createContext({});function Xy(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const ev=typeof window<"u",J1=ev?S.useLayoutEffect:S.useEffect,Fh=S.createContext(null);function tv(e,t){e.indexOf(t)===-1&&e.push(t)}function nv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const bs=(e,t,n)=>n>t?t:n<e?e:n;let rv=()=>{};const xs={},Z1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function X1(e){return typeof e=="object"&&e!==null}const eE=e=>/^0[^.\s]+$/u.test(e);function sv(e){let t;return()=>(t===void 0&&(t=e()),t)}const pr=e=>e,uL=(e,t)=>n=>t(e(n)),Ku=(...e)=>e.reduce(uL),bu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class iv{constructor(){this.subscriptions=[]}add(t){return tv(this.subscriptions,t),()=>nv(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gr=e=>e*1e3,hr=e=>e/1e3;function tE(e,t){return t?e*(1e3/t):0}const nE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,cL=1e-7,dL=12;function hL(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=nE(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>cL&&++a<dL);return o}function Wu(e,t,n,r){if(e===t&&n===r)return pr;const s=i=>hL(i,0,1,e,n);return i=>i===0||i===1?i:nE(s(i),t,r)}const rE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sE=e=>t=>1-e(1-t),iE=Wu(.33,1.53,.69,.99),ov=sE(iE),oE=rE(ov),aE=e=>(e*=2)<1?.5*ov(e):.5*(2-Math.pow(2,-10*(e-1))),av=e=>1-Math.sin(Math.acos(e)),lE=sE(av),uE=rE(av),fL=Wu(.42,0,1,1),pL=Wu(0,0,.58,1),cE=Wu(.42,0,.58,1),mL=e=>Array.isArray(e)&&typeof e[0]!="number",dE=e=>Array.isArray(e)&&typeof e[0]=="number",gL={linear:pr,easeIn:fL,easeInOut:cE,easeOut:pL,circIn:av,circInOut:uE,circOut:lE,backIn:ov,backInOut:oE,backOut:iE,anticipate:aE},yL=e=>typeof e=="string",Rb=e=>{if(dE(e)){rv(e.length===4);const[t,n,r,s]=e;return Wu(t,n,r,s)}else if(yL(e))return gL[e];return e},Hc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vL(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,h=!1,f=!1)=>{const w=f&&s?n:r;return h&&o.add(c),w.has(c)||w.add(c),c},cancel:c=>{r.delete(c),o.delete(c)},process:c=>{if(a=c,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,u.process(c))}};return u}const wL=40;function hE(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Hc.reduce((x,C)=>(x[C]=vL(i),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:f,render:p,postRender:w}=o,y=()=>{const x=xs.useManualTiming?s.timestamp:performance.now();n=!1,xs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,wL),1)),s.timestamp=x,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),c.process(s),h.process(s),f.process(s),p.process(s),w.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(y))},b=()=>{n=!0,r=!0,s.isProcessing||e(y)};return{schedule:Hc.reduce((x,C)=>{const j=o[C];return x[C]=(I,A=!1,D=!1)=>(n||b(),j.schedule(I,A,D)),x},{}),cancel:x=>{for(let C=0;C<Hc.length;C++)o[Hc[C]].cancel(x)},state:s,steps:o}}const{schedule:xt,cancel:pi,state:nn,steps:mp}=hE(typeof requestAnimationFrame<"u"?requestAnimationFrame:pr,!0);let yd;function bL(){yd=void 0}const Nn={now:()=>(yd===void 0&&Nn.set(nn.isProcessing||xs.useManualTiming?nn.timestamp:performance.now()),yd),set:e=>{yd=e,queueMicrotask(bL)}},fE=e=>t=>typeof t=="string"&&t.startsWith(e),lv=fE("--"),xL=fE("var(--"),uv=e=>xL(e)?_L.test(e.split("/*")[0].trim()):!1,_L=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},xu={...Wa,transform:e=>bs(0,1,e)},qc={...Wa,default:1},Kl=e=>Math.round(e*1e5)/1e5,cv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kL(e){return e==null}const SL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dv=(e,t)=>n=>!!(typeof n=="string"&&SL.test(n)&&n.startsWith(e)||t&&!kL(n)&&Object.prototype.hasOwnProperty.call(n,t)),pE=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(cv);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},EL=e=>bs(0,255,e),gp={...Wa,transform:e=>Math.round(EL(e))},Hi={test:dv("rgb","red"),parse:pE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+gp.transform(e)+", "+gp.transform(t)+", "+gp.transform(n)+", "+Kl(xu.transform(r))+")"};function CL(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ig={test:dv("#"),parse:CL,transform:Hi.transform},Hu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ls=Hu("deg"),Yr=Hu("%"),Ye=Hu("px"),TL=Hu("vh"),PL=Hu("vw"),jb={...Yr,parse:e=>Yr.parse(e)/100,transform:e=>Yr.transform(e*100)},Zo={test:dv("hsl","hue"),parse:pE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Yr.transform(Kl(t))+", "+Yr.transform(Kl(n))+", "+Kl(xu.transform(r))+")"},Ft={test:e=>Hi.test(e)||ig.test(e)||Zo.test(e),parse:e=>Hi.test(e)?Hi.parse(e):Zo.test(e)?Zo.parse(e):ig.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Hi.transform(e):Zo.transform(e),getAnimatableNone:e=>{const t=Ft.parse(e);return t.alpha=0,Ft.transform(t)}},RL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jL(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(cv))==null?void 0:t.length)||0)+(((n=e.match(RL))==null?void 0:n.length)||0)>0}const mE="number",gE="color",AL="var",OL="var(",Ab="${}",IL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _u(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(IL,l=>(Ft.test(l)?(r.color.push(i),s.push(gE),n.push(Ft.parse(l))):l.startsWith(OL)?(r.var.push(i),s.push(AL),n.push(l)):(r.number.push(i),s.push(mE),n.push(parseFloat(l))),++i,Ab)).split(Ab);return{values:n,split:a,indexes:r,types:s}}function yE(e){return _u(e).values}function vE(e){const{split:t,types:n}=_u(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===mE?i+=Kl(s[o]):a===gE?i+=Ft.transform(s[o]):i+=s[o]}return i}}const DL=e=>typeof e=="number"?0:Ft.test(e)?Ft.getAnimatableNone(e):e;function NL(e){const t=yE(e);return vE(e)(t.map(DL))}const mi={test:jL,parse:yE,createTransformer:vE,getAnimatableNone:NL};function yp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function LL({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=yp(l,a,e+1/3),i=yp(l,a,e),o=yp(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function th(e,t){return n=>n>0?t:e}const Et=(e,t,n)=>e+(t-e)*n,vp=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},ML=[ig,Hi,Zo],$L=e=>ML.find(t=>t.test(e));function Ob(e){const t=$L(e);if(!t)return!1;let n=t.parse(e);return t===Zo&&(n=LL(n)),n}const Ib=(e,t)=>{const n=Ob(e),r=Ob(t);if(!n||!r)return th(e,t);const s={...n};return i=>(s.red=vp(n.red,r.red,i),s.green=vp(n.green,r.green,i),s.blue=vp(n.blue,r.blue,i),s.alpha=Et(n.alpha,r.alpha,i),Hi.transform(s))},og=new Set(["none","hidden"]);function FL(e,t){return og.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function BL(e,t){return n=>Et(e,t,n)}function hv(e){return typeof e=="number"?BL:typeof e=="string"?uv(e)?th:Ft.test(e)?Ib:VL:Array.isArray(e)?wE:typeof e=="object"?Ft.test(e)?Ib:UL:th}function wE(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>hv(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function UL(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=hv(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function zL(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const VL=(e,t)=>{const n=mi.createTransformer(t),r=_u(e),s=_u(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?og.has(e)&&!s.values.length||og.has(t)&&!r.values.length?FL(e,t):Ku(wE(zL(r,s),s.values),n):th(e,t)};function bE(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Et(e,t,n):hv(e)(e,t)}const KL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>xt.update(t,n),stop:()=>pi(t),now:()=>nn.isProcessing?nn.timestamp:Nn.now()}},xE=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},nh=2e4;function fv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<nh;)t+=n,r=e.next(t);return t>=nh?1/0:t}function WL(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(fv(r),nh);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:hr(s)}}const HL=5;function _E(e,t,n){const r=Math.max(t-HL,0);return tE(n-e(r),t-r)}const jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wp=.001;function qL({duration:e=jt.duration,bounce:t=jt.bounce,velocity:n=jt.velocity,mass:r=jt.mass}){let s,i,o=1-t;o=bs(jt.minDamping,jt.maxDamping,o),e=bs(jt.minDuration,jt.maxDuration,hr(e)),o<1?(s=u=>{const c=u*o,h=c*e,f=c-n,p=ag(u,o),w=Math.exp(-h);return wp-f/p*w},i=u=>{const h=u*o*e,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-h),y=ag(Math.pow(u,2),o);return(-s(u)+wp>0?-1:1)*((f-p)*w)/y}):(s=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-wp+c*h},i=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const a=5/e,l=YL(s,i,a);if(e=Gr(e),isNaN(l))return{stiffness:jt.stiffness,damping:jt.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const GL=12;function YL(e,t,n){let r=n;for(let s=1;s<GL;s++)r=r-e(r)/t(r);return r}function ag(e,t){return e*Math.sqrt(1-t*t)}const QL=["duration","bounce"],JL=["stiffness","damping","mass"];function Db(e,t){return t.some(n=>e[n]!==void 0)}function ZL(e){let t={velocity:jt.velocity,stiffness:jt.stiffness,damping:jt.damping,mass:jt.mass,isResolvedFromDuration:!1,...e};if(!Db(e,JL)&&Db(e,QL))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*bs(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:jt.mass,stiffness:s,damping:i}}else{const n=qL(e);t={...t,...n,mass:jt.mass},t.isResolvedFromDuration=!0}return t}function rh(e=jt.visualDuration,t=jt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:h,velocity:f,isResolvedFromDuration:p}=ZL({...n,velocity:-hr(n.velocity||0)}),w=f||0,y=u/(2*Math.sqrt(l*c)),b=o-i,g=hr(Math.sqrt(l/c)),v=Math.abs(b)<5;r||(r=v?jt.restSpeed.granular:jt.restSpeed.default),s||(s=v?jt.restDelta.granular:jt.restDelta.default);let x;if(y<1){const j=ag(g,y);x=I=>{const A=Math.exp(-y*g*I);return o-A*((w+y*g*b)/j*Math.sin(j*I)+b*Math.cos(j*I))}}else if(y===1)x=j=>o-Math.exp(-g*j)*(b+(w+g*b)*j);else{const j=g*Math.sqrt(y*y-1);x=I=>{const A=Math.exp(-y*g*I),D=Math.min(j*I,300);return o-A*((w+y*g*b)*Math.sinh(D)+j*b*Math.cosh(D))/j}}const C={calculatedDuration:p&&h||null,next:j=>{const I=x(j);if(p)a.done=j>=h;else{let A=j===0?w:0;y<1&&(A=j===0?Gr(w):_E(x,j,I));const D=Math.abs(A)<=r,$=Math.abs(o-I)<=s;a.done=D&&$}return a.value=a.done?o:I,a},toString:()=>{const j=Math.min(fv(C),nh),I=xE(A=>C.next(j*A).value,j,30);return j+"ms "+I},toTransition:()=>{}};return C}rh.applyToOptions=e=>{const t=WL(e,100,rh);return e.ease=t.ease,e.duration=Gr(t.duration),e.type="keyframes",e};function lg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=e[0],f={done:!1,value:h},p=D=>a!==void 0&&D<a||l!==void 0&&D>l,w=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let y=n*t;const b=h+y,g=o===void 0?b:o(b);g!==b&&(y=g-h);const v=D=>-y*Math.exp(-D/r),x=D=>g+v(D),C=D=>{const $=v(D),B=x(D);f.done=Math.abs($)<=u,f.value=f.done?g:B};let j,I;const A=D=>{p(f.value)&&(j=D,I=rh({keyframes:[f.value,w(f.value)],velocity:_E(x,D,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return A(0),{calculatedDuration:null,next:D=>{let $=!1;return!I&&j===void 0&&($=!0,C(D),A(D)),j!==void 0&&D>=j?I.next(D-j):(!$&&C(D),f)}}}function XL(e,t,n){const r=[],s=n||xs.mix||bE,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||pr:t;a=Ku(l,a)}r.push(a)}return r}function eM(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(rv(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=XL(t,r,s),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(c<e[h+1]);h++);const f=bu(e[h],e[h+1],c);return a[h](f)};return n?c=>u(bs(e[0],e[i-1],c)):u}function tM(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=bu(0,t,r);e.push(Et(n,1,s))}}function nM(e){const t=[0];return tM(t,e.length-1),t}function rM(e,t){return e.map(n=>n*t)}function sM(e,t){return e.map(()=>t||cE).splice(0,e.length-1)}function Wl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=mL(r)?r.map(Rb):Rb(r),i={done:!1,value:t[0]},o=rM(n&&n.length===t.length?n:nM(t),e),a=eM(o,t,{ease:Array.isArray(s)?s:sM(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const iM=e=>e!==null;function pv(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(iM),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const oM={decay:lg,inertia:lg,tween:Wl,keyframes:Wl,spring:rh};function kE(e){typeof e.type=="string"&&(e.type=oM[e.type])}class mv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const aM=e=>e/100;class gv extends mv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;kE(t);const{type:n=Wl,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Wl;l!==Wl&&typeof a[0]!="number"&&(this.mixKeyframes=Ku(aM,bE(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=fv(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:h,repeatType:f,repeatDelay:p,type:w,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,C=r;if(h){const D=Math.min(this.currentTime,s)/a;let $=Math.floor(D),B=D%1;!B&&D>=1&&(B=1),B===1&&$--,$=Math.min($,h+1),!!($%2)&&(f==="reverse"?(B=1-B,p&&(B-=p/a)):f==="mirror"&&(C=o)),x=bs(0,1,B)*a}const j=v?{done:!1,value:c[0]}:C.next(x);i&&(j.value=i(j.value));let{done:I}=j;!v&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return A&&w!==lg&&(j.value=pv(c,this.options,b,this.speed)),y&&y(j.value),A&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return hr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+hr(t)}get time(){return hr(this.currentTime)}set time(t){var n;t=Gr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Nn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=hr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=KL,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function lM(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const qi=e=>e*180/Math.PI,ug=e=>{const t=qi(Math.atan2(e[1],e[0]));return cg(t)},uM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ug,rotateZ:ug,skewX:e=>qi(Math.atan(e[1])),skewY:e=>qi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},cg=e=>(e=e%360,e<0&&(e+=360),e),Nb=ug,Lb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Mb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),cM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Lb,scaleY:Mb,scale:e=>(Lb(e)+Mb(e))/2,rotateX:e=>cg(qi(Math.atan2(e[6],e[5]))),rotateY:e=>cg(qi(Math.atan2(-e[2],e[0]))),rotateZ:Nb,rotate:Nb,skewX:e=>qi(Math.atan(e[4])),skewY:e=>qi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function dg(e){return e.includes("scale")?1:0}function hg(e,t){if(!e||e==="none")return dg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=cM,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=uM,s=a}if(!s)return dg(t);const i=r[t],o=s[1].split(",").map(hM);return typeof i=="function"?i(o):o[i]}const dM=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return hg(n,t)};function hM(e){return parseFloat(e.trim())}const Ha=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qa=new Set(Ha),$b=e=>e===Wa||e===Ye,fM=new Set(["x","y","z"]),pM=Ha.filter(e=>!fM.has(e));function mM(e){const t=[];return pM.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const oo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hg(t,"x"),y:(e,{transform:t})=>hg(t,"y")};oo.translateX=oo.x;oo.translateY=oo.y;const ao=new Set;let fg=!1,pg=!1,mg=!1;function SE(){if(pg){const e=Array.from(ao).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=mM(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pg=!1,fg=!1,ao.forEach(e=>e.complete(mg)),ao.clear()}function EE(){ao.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pg=!0)})}function gM(){mg=!0,EE(),SE(),mg=!1}class yv{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ao.add(this),fg||(fg=!0,xt.read(EE),xt.resolveKeyframes(SE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}lM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ao.delete(this)}cancel(){this.state==="scheduled"&&(ao.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yM=e=>e.startsWith("--");function vM(e,t,n){yM(t)?e.style.setProperty(t,n):e.style[t]=n}const wM=sv(()=>window.ScrollTimeline!==void 0),bM={};function xM(e,t){const n=sv(e);return()=>bM[t]??n()}const CE=xM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Fb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pl([0,.65,.55,1]),circOut:Pl([.55,0,1,.45]),backIn:Pl([.31,.01,.66,-.59]),backOut:Pl([.33,1.53,.69,.99])};function TE(e,t){if(e)return typeof e=="function"?CE()?xE(e,t):"ease-out":dE(e)?Pl(e):Array.isArray(e)?e.map(n=>TE(n,t)||Fb.easeOut):Fb[e]}function _M(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const h=TE(a,s);Array.isArray(h)&&(c.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(c,f)}function PE(e){return typeof e=="function"&&"applyToOptions"in e}function kM({type:e,...t}){return PE(e)&&CE()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class SM extends mv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,rv(typeof t.type!="string");const u=kM(t);this.animation=_M(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=pv(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):vM(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return hr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+hr(t)}get time(){return hr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Gr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&wM()?(this.animation.timeline=t,pr):n(this)}}const RE={anticipate:aE,backInOut:oE,circInOut:uE};function EM(e){return e in RE}function CM(e){typeof e.ease=="string"&&EM(e.ease)&&(e.ease=RE[e.ease])}const Bb=10;class TM extends SM{constructor(t){CM(t),kE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new gv({...o,autoplay:!1}),l=Gr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Bb).value,a.sample(l).value,Bb),a.stop()}}const Ub=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mi.test(e)||e==="0")&&!e.startsWith("url("));function PM(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function RM(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Ub(s,t),a=Ub(i,t);return!o||!a?!1:PM(e)||(n==="spring"||PE(n))&&r}function gg(e){e.duration=0,e.type="keyframes"}const jM=new Set(["opacity","clipPath","filter","transform"]),AM=sv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OM(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return AM()&&n&&jM.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const IM=40;class DM extends mv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...h}){var w;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Nn.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:c,...h},p=(c==null?void 0:c.KeyframeResolver)||yv;this.keyframeResolver=new p(a,(y,b,g)=>this.onKeyframesResolved(y,b,f,!g),l,u,c),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Nn.now(),RM(t,i,o,a)||((xs.instantAnimations||!l)&&(c==null||c(pv(t,r,n))),t[0]=t[t.length-1],gg(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>IM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!u&&OM(f)?new TM({...f,element:f.motionValue.owner.current}):new gv(f);p.finished.then(()=>this.notifyFinished()).catch(pr),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),gM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const NM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LM(e){const t=NM.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function jE(e,t,n=1){const[r,s]=LM(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Z1(o)?parseFloat(o):o}return uv(s)?jE(s,t,n+1):s}function vv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const AE=new Set(["width","height","top","left","right","bottom",...Ha]),MM={test:e=>e==="auto",parse:e=>e},OE=e=>t=>t.test(e),IE=[Wa,Ye,Yr,Ls,PL,TL,MM],zb=e=>IE.find(OE(e));function $M(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||eE(e):!0}const FM=new Set(["brightness","contrast","saturate","opacity"]);function BM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(cv)||[];if(!r)return e;const s=n.replace(r,"");let i=FM.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const UM=/\b([a-z-]*)\(.*?\)/gu,yg={...mi,getAnimatableNone:e=>{const t=e.match(UM);return t?t.map(BM).join(" "):e}},Vb={...Wa,transform:Math.round},zM={rotate:Ls,rotateX:Ls,rotateY:Ls,rotateZ:Ls,scale:qc,scaleX:qc,scaleY:qc,scaleZ:qc,skew:Ls,skewX:Ls,skewY:Ls,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:xu,originX:jb,originY:jb,originZ:Ye},wv={borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,radius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye,...zM,zIndex:Vb,fillOpacity:xu,strokeOpacity:xu,numOctaves:Vb},VM={...wv,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:yg,WebkitFilter:yg},DE=e=>VM[e];function NE(e,t){let n=DE(e);return n!==yg&&(n=mi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const KM=new Set(["auto","none","0"]);function WM(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!KM.has(i)&&_u(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=NE(n,s)}class HM extends yv{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),uv(u))){const c=jE(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!AE.has(r)||t.length!==2)return;const[s,i]=t,o=zb(s),a=zb(i);if(o!==a)if($b(o)&&$b(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else oo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||$M(t[s]))&&r.push(s);r.length&&WM(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=oo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function qM(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const LE=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ME(e){return X1(e)&&"offsetHeight"in e}const Kb=30,GM=e=>!isNaN(parseFloat(e));class YM{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Nn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=GM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new iv);const r=this.events[t].add(n);return t==="change"?()=>{r(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Kb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Kb);return tE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ia(e,t){return new YM(e,t)}const{schedule:bv}=hE(queueMicrotask,!1),xr={x:!1,y:!1};function $E(){return xr.x||xr.y}function QM(e){return e==="x"||e==="y"?xr[e]?null:(xr[e]=!0,()=>{xr[e]=!1}):xr.x||xr.y?null:(xr.x=xr.y=!0,()=>{xr.x=xr.y=!1})}function FE(e,t){const n=qM(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Wb(e){return!(e.pointerType==="touch"||$E())}function JM(e,t,n={}){const[r,s,i]=FE(e,n),o=a=>{if(!Wb(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const c=h=>{Wb(h)&&(u(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const BE=(e,t)=>t?e===t?!0:BE(e,t.parentElement):!1,xv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ZM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XM(e){return ZM.has(e.tagName)||e.tabIndex!==-1}const vd=new WeakSet;function Hb(e){return t=>{t.key==="Enter"&&e(t)}}function bp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const e$=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Hb(()=>{if(vd.has(n))return;bp(n,"down");const s=Hb(()=>{bp(n,"up")}),i=()=>bp(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function qb(e){return xv(e)&&!$E()}function t$(e,t,n={}){const[r,s,i]=FE(e,n),o=a=>{const l=a.currentTarget;if(!qb(a))return;vd.add(l);const u=t(l,a),c=(p,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),vd.has(l)&&vd.delete(l),qb(p)&&typeof u=="function"&&u(p,{success:w})},h=p=>{c(p,l===window||l===document||n.useGlobalTarget||BE(l,p.target))},f=p=>{c(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),ME(a)&&(a.addEventListener("focus",u=>e$(u,s)),!XM(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function UE(e){return X1(e)&&"ownerSVGElement"in e}function n$(e){return UE(e)&&e.tagName==="svg"}const yn=e=>!!(e&&e.getVelocity),r$=[...IE,Ft,mi],s$=e=>r$.find(OE(e)),_v=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Gb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function i$(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Gb(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Gb(e[s],null)}}}}function o$(...e){return S.useCallback(i$(...e),e)}class a$ extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=ME(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function l$({children:e,isPresent:t,anchorX:n,root:r}){const s=S.useId(),i=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=S.useContext(_v),l=o$(i,e==null?void 0:e.ref);return S.useInsertionEffect(()=>{const{width:u,height:c,top:h,left:f,right:p}=o.current;if(t||!i.current||!u||!c)return;const w=n==="left"?`left: ${f}`:`right: ${p}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");a&&(y.nonce=a);const b=r??document.head;return b.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${w}px !important;
            top: ${h}px !important;
          }
        `),()=>{b.contains(y)&&b.removeChild(y)}},[t]),k.jsx(a$,{isPresent:t,childRef:i,sizeRef:o,children:S.cloneElement(e,{ref:l})})}const u$=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const u=Xy(c$),c=S.useId();let h=!0,f=S.useMemo(()=>(h=!1,{id:c,initial:t,isPresent:n,custom:s,onExitComplete:p=>{u.set(p,!0);for(const w of u.values())if(!w)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return i&&h&&(f={...f}),S.useMemo(()=>{u.forEach((p,w)=>u.set(w,!1))},[n]),S.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=k.jsx(l$,{isPresent:n,anchorX:a,root:l,children:e})),k.jsx(Fh.Provider,{value:f,children:e})};function c$(){return new Map}function zE(e=!0){const t=S.useContext(Fh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=S.useId();S.useEffect(()=>{if(e)return s(i)},[e]);const o=S.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Gc=e=>e.key||"";function Yb(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const d$=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=zE(o),h=S.useMemo(()=>Yb(e),[e]),f=o&&!u?[]:h.map(Gc),p=S.useRef(!0),w=S.useRef(h),y=Xy(()=>new Map),[b,g]=S.useState(h),[v,x]=S.useState(h);J1(()=>{p.current=!1,w.current=h;for(let I=0;I<v.length;I++){const A=Gc(v[I]);f.includes(A)?y.delete(A):y.get(A)!==!0&&y.set(A,!1)}},[v,f.length,f.join("-")]);const C=[];if(h!==b){let I=[...h];for(let A=0;A<v.length;A++){const D=v[A],$=Gc(D);f.includes($)||(I.splice(A,0,D),C.push(D))}return i==="wait"&&C.length&&(I=C),x(Yb(I)),g(h),null}const{forceRender:j}=S.useContext(Zy);return k.jsx(k.Fragment,{children:v.map(I=>{const A=Gc(I),D=o&&!u?!1:h===v||f.includes(A),$=()=>{if(y.has(A))y.set(A,!0);else return;let B=!0;y.forEach(ue=>{ue||(B=!1)}),B&&(j==null||j(),x(w.current),o&&(c==null||c()),r&&r())};return k.jsx(u$,{isPresent:D,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:D?void 0:$,anchorX:a,children:I},A)})})},VE=S.createContext({strict:!1}),Qb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Da={};for(const e in Qb)Da[e]={isEnabled:t=>Qb[e].some(n=>!!t[n])};function h$(e){for(const t in e)Da[t]={...Da[t],...e[t]}}const f$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||f$.has(e)}let KE=e=>!sh(e);function p$(e){typeof e=="function"&&(KE=t=>t.startsWith("on")?!sh(t):e(t))}try{p$(require("@emotion/is-prop-valid").default)}catch{}function m$(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(KE(s)||n===!0&&sh(s)||!t&&!sh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Bh=S.createContext({});function Uh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ku(e){return typeof e=="string"||Array.isArray(e)}const kv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sv=["initial",...kv];function zh(e){return Uh(e.animate)||Sv.some(t=>ku(e[t]))}function WE(e){return!!(zh(e)||e.variants)}function g$(e,t){if(zh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ku(n)?n:void 0,animate:ku(r)?r:void 0}}return e.inherit!==!1?t:{}}function y$(e){const{initial:t,animate:n}=g$(e,S.useContext(Bh));return S.useMemo(()=>({initial:t,animate:n}),[Jb(t),Jb(n)])}function Jb(e){return Array.isArray(e)?e.join(" "):e}const Su={};function v$(e){for(const t in e)Su[t]=e[t],lv(t)&&(Su[t].isCSSVariable=!0)}function HE(e,{layout:t,layoutId:n}){return qa.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Su[e]||e==="opacity")}const w$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},b$=Ha.length;function x$(e,t,n){let r="",s=!0;for(let i=0;i<b$;i++){const o=Ha[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=LE(a,wv[o]);if(!l){s=!1;const c=w$[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Ev(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(qa.has(l)){o=!0;continue}else if(lv(l)){s[l]=u;continue}else{const c=LE(u,wv[l]);l.startsWith("origin")?(a=!0,i[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=x$(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}const Cv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qE(e,t,n){for(const r in t)!yn(t[r])&&!HE(r,n)&&(e[r]=t[r])}function _$({transformTemplate:e},t){return S.useMemo(()=>{const n=Cv();return Ev(n,t,e),Object.assign({},n.vars,n.style)},[t])}function k$(e,t){const n=e.style||{},r={};return qE(r,n,e),Object.assign(r,_$(e,t)),r}function S$(e,t){const n={},r=k$(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const E$={offset:"stroke-dashoffset",array:"stroke-dasharray"},C$={offset:"strokeDashoffset",array:"strokeDasharray"};function T$(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?E$:C$;e[i.offset]=Ye.transform(-r);const o=Ye.transform(t),a=Ye.transform(n);e[i.array]=`${o} ${a}`}function GE(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,c){if(Ev(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&T$(h,s,i,o,!1)}const YE=()=>({...Cv(),attrs:{}}),QE=e=>typeof e=="string"&&e.toLowerCase()==="svg";function P$(e,t,n,r){const s=S.useMemo(()=>{const i=YE();return GE(i,t,QE(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};qE(i,e.style,e),s.style={...i,...s.style}}return s}const R$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tv(e){return typeof e!="string"||e.includes("-")?!1:!!(R$.indexOf(e)>-1||/[A-Z]/u.test(e))}function j$(e,t,n,{latestValues:r},s,i=!1){const a=(Tv(e)?P$:S$)(t,r,s,e),l=m$(t,typeof e=="string",i),u=e!==S.Fragment?{...l,...a,ref:n}:{},{children:c}=t,h=S.useMemo(()=>yn(c)?c.get():c,[c]);return S.createElement(e,{...u,children:h})}function Zb(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Pv(e,t,n,r){if(typeof t=="function"){const[s,i]=Zb(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Zb(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function wd(e){return yn(e)?e.get():e}function A$({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:O$(n,r,s,e),renderState:t()}}function O$(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=wd(i[f]);let{initial:o,animate:a}=e;const l=zh(e),u=WE(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!Uh(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const w=Pv(e,f[p]);if(w){const{transitionEnd:y,transition:b,...g}=w;for(const v in g){let x=g[v];if(Array.isArray(x)){const C=c?x.length-1:0;x=x[C]}x!==null&&(s[v]=x)}for(const v in y)s[v]=y[v]}}}return s}const JE=e=>(t,n)=>{const r=S.useContext(Bh),s=S.useContext(Fh),i=()=>A$(e,t,r,s);return n?i():Xy(i)};function Rv(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(yn(r[o])||t.style&&yn(t.style[o])||HE(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const I$=JE({scrapeMotionValuesFromProps:Rv,createRenderState:Cv});function ZE(e,t,n){const r=Rv(e,t,n);for(const s in e)if(yn(e[s])||yn(t[s])){const i=Ha.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const D$=JE({scrapeMotionValuesFromProps:ZE,createRenderState:YE}),N$=Symbol.for("motionComponentSymbol");function Xo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function L$(e,t,n){return S.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Xo(n)&&(n.current=r))},[t])}const jv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M$="framerAppearId",XE="data-"+jv(M$),eC=S.createContext({});function $$(e,t,n,r,s){var y,b;const{visualElement:i}=S.useContext(Bh),o=S.useContext(VE),a=S.useContext(Fh),l=S.useContext(_v).reducedMotion,u=S.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,h=S.useContext(eC);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&F$(u.current,n,s,h);const f=S.useRef(!1);S.useInsertionEffect(()=>{c&&f.current&&c.update(n,a)});const p=n[XE],w=S.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return J1(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),w.current&&c.animationState&&c.animationState.animateChanges())}),S.useEffect(()=>{c&&(!w.current&&c.animationState&&c.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,p)}),w.current=!1),c.enteringChildren=void 0)}),c}function F$(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:tC(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Xo(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function tC(e){if(e)return e.options.allowProjection!==!1?e.projection:tC(e.parent)}function xp(e,{forwardMotionProps:t=!1}={},n,r){n&&h$(n);const s=Tv(e)?D$:I$;function i(a,l){let u;const c={...S.useContext(_v),...a,layoutId:B$(a)},{isStatic:h}=c,f=y$(a),p=s(a,h);if(!h&&ev){U$();const w=z$(c);u=w.MeasureLayout,f.visualElement=$$(e,p,c,r,w.ProjectionNode)}return k.jsxs(Bh.Provider,{value:f,children:[u&&f.visualElement?k.jsx(u,{visualElement:f.visualElement,...c}):null,j$(e,a,L$(p,f.visualElement,l),p,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=S.forwardRef(i);return o[N$]=e,o}function B$({layoutId:e}){const t=S.useContext(Zy).id;return t&&e!==void 0?t+"-"+e:e}function U$(e,t){S.useContext(VE).strict}function z$(e){const{drag:t,layout:n}=Da;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function V$(e,t){if(typeof Proxy>"u")return xp;const n=new Map,r=(i,o)=>xp(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,xp(o,void 0,e,t)),n.get(o))})}function nC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function K$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function W$(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _p(e){return e===void 0||e===1}function vg({scale:e,scaleX:t,scaleY:n}){return!_p(e)||!_p(t)||!_p(n)}function Li(e){return vg(e)||rC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rC(e){return Xb(e.x)||Xb(e.y)}function Xb(e){return e&&e!=="0%"}function ih(e,t,n){const r=e-n,s=t*r;return n+s}function ex(e,t,n,r,s){return s!==void 0&&(e=ih(e,s,r)),ih(e,n,r)+t}function wg(e,t=0,n=1,r,s){e.min=ex(e.min,t,n,r,s),e.max=ex(e.max,t,n,r,s)}function sC(e,{x:t,y:n}){wg(e.x,t.translate,t.scale,t.originPoint),wg(e.y,n.translate,n.scale,n.originPoint)}const tx=.999999999999,nx=1.0000000000001;function H$(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ta(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,sC(e,o)),r&&Li(i.latestValues)&&ta(e,i.latestValues))}t.x<nx&&t.x>tx&&(t.x=1),t.y<nx&&t.y>tx&&(t.y=1)}function ea(e,t){e.min=e.min+t,e.max=e.max+t}function rx(e,t,n,r,s=.5){const i=Et(e.min,e.max,s);wg(e,t,n,i,r)}function ta(e,t){rx(e.x,t.x,t.scaleX,t.scale,t.originX),rx(e.y,t.y,t.scaleY,t.scale,t.originY)}function iC(e,t){return nC(W$(e.getBoundingClientRect(),t))}function q$(e,t,n){const r=iC(e,n),{scroll:s}=t;return s&&(ea(r.x,s.offset.x),ea(r.y,s.offset.y)),r}const sx=()=>({translate:0,scale:1,origin:0,originPoint:0}),na=()=>({x:sx(),y:sx()}),ix=()=>({min:0,max:0}),Dt=()=>({x:ix(),y:ix()}),bg={current:null},oC={current:!1};function G$(){if(oC.current=!0,!!ev)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bg.current=e.matches;e.addEventListener("change",t),t()}else bg.current=!1}const Y$=new WeakMap;function Q$(e,t,n){for(const r in t){const s=t[r],i=n[r];if(yn(s))e.addValue(r,s);else if(yn(i))e.addValue(r,Ia(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ia(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const ox=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class J${scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Nn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,xt.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=zh(n),this.isVariantNode=WE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&yn(p)&&p.set(l[f])}}mount(t){var n;this.current=t,Y$.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),oC.current||G$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),pi(this.notifyUpdate),pi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=qa.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&xt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Da){const n=Da[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ox.length;r++){const s=ox[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Q$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ia(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Z1(r)||eE(r))?r=parseFloat(r):!s$(r)&&mi.test(n)&&(r=NE(t,n)),this.setBaseTarget(t,yn(r)?r.get():r)),yn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Pv(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!yn(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new iv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){bv.render(this.render)}}class aC extends J${constructor(){super(...arguments),this.KeyframeResolver=HM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lC(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function Z$(e){return window.getComputedStyle(e)}class X$ extends aC{constructor(){super(...arguments),this.type="html",this.renderInstance=lC}readValueFromInstance(t,n){var r;if(qa.has(n))return(r=this.projection)!=null&&r.isProjecting?dg(n):dM(t,n);{const s=Z$(t),i=(lv(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return iC(t,n)}build(t,n,r){Ev(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Rv(t,n,r)}}const uC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e3(e,t,n,r){lC(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(uC.has(s)?s:jv(s),t.attrs[s])}class t3 extends aC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(qa.has(n)){const r=DE(n);return r&&r.default||0}return n=uC.has(n)?n:jv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return ZE(t,n,r)}build(t,n,r){GE(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){e3(t,n,r,s)}mount(t){this.isSVGTag=QE(t.tagName),super.mount(t)}}const n3=(e,t)=>Tv(e)?new t3(t):new X$(t,{allowProjection:e!==S.Fragment});function ca(e,t,n){const r=e.getProps();return Pv(r,t,n!==void 0?n:r.custom,e)}const xg=e=>Array.isArray(e);function r3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ia(n))}function s3(e){return xg(e)?e[e.length-1]||0:e}function i3(e,t){const n=ca(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=s3(i[o]);r3(e,o,a)}}function o3(e){return!!(yn(e)&&e.add)}function _g(e,t){const n=e.getValue("willChange");if(o3(n))return n.add(t);if(!n&&xs.WillChange){const r=new xs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function cC(e){return e.props[XE]}const a3=e=>e!==null;function l3(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(a3),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const u3={type:"spring",stiffness:500,damping:25,restSpeed:10},c3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),d3={type:"keyframes",duration:.8},h3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f3=(e,{keyframes:t})=>t.length>2?d3:qa.has(e)?e.startsWith("scale")?c3(t[1]):u3:h3;function p3({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Av=(e,t,n,r={},s,i)=>o=>{const a=vv(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Gr(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};p3(a)||Object.assign(c,f3(e,c)),c.duration&&(c.duration=Gr(c.duration)),c.repeatDelay&&(c.repeatDelay=Gr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(gg(c),c.delay===0&&(h=!0)),(xs.instantAnimations||xs.skipAnimations)&&(h=!0,gg(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const f=l3(c.keyframes,a);if(f!==void 0){xt.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new gv(c):new DM(c)};function m3({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function dC(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const c in a){const h=e.getValue(c,e.latestValues[c]??null),f=a[c];if(f===void 0||u&&m3(u,c))continue;const p={delay:n,...vv(i||{},c)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=cC(e);if(g){const v=window.MotionHandoffAnimation(g,c,xt);v!==null&&(p.startTime=v,y=!0)}}_g(e,c),h.start(Av(c,h,f,e.shouldReduceMotion&&AE.has(c)?{type:!1}:p,e,y));const b=h.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{xt.update(()=>{o&&i3(e,o)})}),l}function hC(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function kg(e,t,n={}){var l;const r=ca(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(dC(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=s;return g3(e,t,u,c,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,c]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function g3(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(kg(l,t,{...o,delay:n+(typeof r=="function"?0:r)+hC(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function y3(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>kg(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=kg(e,t,n);else{const s=typeof t=="function"?ca(e,t,n.custom):t;r=Promise.all(dC(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function fC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const v3=Sv.length;function pC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?pC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<v3;n++){const r=Sv[n],s=e.props[r];(ku(s)||s===!1)&&(t[r]=s)}return t}const w3=[...kv].reverse(),b3=kv.length;function x3(e){return t=>Promise.all(t.map(({animation:n,options:r})=>y3(e,n,r)))}function _3(e){let t=x3(e),n=ax(),r=!0;const s=l=>(u,c)=>{var f;const h=ca(e,c,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:w,...y}=h;u={...u,...y,...w}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,c=pC(e.parent)||{},h=[],f=new Set;let p={},w=1/0;for(let b=0;b<b3;b++){const g=w3[b],v=n[g],x=u[g]!==void 0?u[g]:c[g],C=ku(x),j=g===l?v.isActive:null;j===!1&&(w=b);let I=x===c[g]&&x!==u[g]&&C;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),v.protectedKeys={...p},!v.isActive&&j===null||!x&&!v.prevProp||Uh(x)||typeof x=="boolean")continue;const A=k3(v.prevProp,x);let D=A||g===l&&v.isActive&&!I&&C||b>w&&C,$=!1;const B=Array.isArray(x)?x:[x];let ue=B.reduce(s(g),{});j===!1&&(ue={});const{prevResolvedValues:N={}}=v,V={...N,...ue},T=G=>{D=!0,f.has(G)&&($=!0,f.delete(G)),v.needsAnimating[G]=!0;const X=e.getValue(G);X&&(X.liveStyle=!1)};for(const G in V){const X=ue[G],ee=N[G];if(p.hasOwnProperty(G))continue;let he=!1;xg(X)&&xg(ee)?he=!fC(X,ee):he=X!==ee,he?X!=null?T(G):f.add(G):X!==void 0&&f.has(G)?T(G):v.protectedKeys[G]=!0}v.prevProp=x,v.prevResolvedValues=ue,v.isActive&&(p={...p,...ue}),r&&e.blockInitialAnimation&&(D=!1);const Z=I&&A;D&&(!Z||$)&&h.push(...B.map(G=>{const X={type:g};if(typeof G=="string"&&r&&!Z&&e.manuallyAnimateOnMount&&e.parent){const{parent:ee}=e,he=ca(ee,G);if(ee.enteringChildren&&he){const{delayChildren:K}=he.transition||{};X.delay=hC(ee.enteringChildren,e,K)}}return{animation:G,options:X}}))}if(f.size){const b={};if(typeof u.initial!="boolean"){const g=ca(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(b.transition=g.transition)}f.forEach(g=>{const v=e.getBaseTarget(g),x=e.getValue(g);x&&(x.liveStyle=!0),b[g]=v??null}),h.push({animation:b})}let y=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=ax(),r=!0}}}function k3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fC(t,e):!1}function Oi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ax(){return{animate:Oi(!0),whileInView:Oi(),whileHover:Oi(),whileTap:Oi(),whileDrag:Oi(),whileFocus:Oi(),exit:Oi()}}class _i{constructor(t){this.isMounted=!1,this.node=t}update(){}}class S3 extends _i{constructor(t){super(t),t.animationState||(t.animationState=_3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Uh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let E3=0;class C3 extends _i{constructor(){super(...arguments),this.id=E3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const T3={animation:{Feature:S3},exit:{Feature:C3}};function Eu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function qu(e){return{point:{x:e.pageX,y:e.pageY}}}const P3=e=>t=>xv(t)&&e(t,qu(t));function Hl(e,t,n,r){return Eu(e,t,P3(n),r)}const mC=1e-4,R3=1-mC,j3=1+mC,gC=.01,A3=0-gC,O3=0+gC;function Sn(e){return e.max-e.min}function I3(e,t,n){return Math.abs(e-t)<=n}function lx(e,t,n,r=.5){e.origin=r,e.originPoint=Et(t.min,t.max,e.origin),e.scale=Sn(n)/Sn(t),e.translate=Et(n.min,n.max,e.origin)-e.originPoint,(e.scale>=R3&&e.scale<=j3||isNaN(e.scale))&&(e.scale=1),(e.translate>=A3&&e.translate<=O3||isNaN(e.translate))&&(e.translate=0)}function ql(e,t,n,r){lx(e.x,t.x,n.x,r?r.originX:void 0),lx(e.y,t.y,n.y,r?r.originY:void 0)}function ux(e,t,n){e.min=n.min+t.min,e.max=e.min+Sn(t)}function D3(e,t,n){ux(e.x,t.x,n.x),ux(e.y,t.y,n.y)}function cx(e,t,n){e.min=t.min-n.min,e.max=e.min+Sn(t)}function Gl(e,t,n){cx(e.x,t.x,n.x),cx(e.y,t.y,n.y)}function ir(e){return[e("x"),e("y")]}const yC=({current:e})=>e?e.ownerDocument.defaultView:null,dx=(e,t)=>Math.abs(e-t);function N3(e,t){const n=dx(e.x,t.x),r=dx(e.y,t.y);return Math.sqrt(n**2+r**2)}class vC{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Sp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,w=N3(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!w)return;const{point:y}=f,{timestamp:b}=nn;this.history.push({...y,timestamp:b});const{onStart:g,onMove:v}=this.handlers;p||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=kp(p,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:w,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Sp(f.type==="pointercancel"?this.lastMoveEventInfo:kp(p,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,g),y&&y(f,g)},!xv(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=qu(t),l=kp(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=nn;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(t,Sp(l,this.history)),this.removeListeners=Ku(Hl(this.contextWindow,"pointermove",this.handlePointerMove),Hl(this.contextWindow,"pointerup",this.handlePointerUp),Hl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),pi(this.updatePoint)}}function kp(e,t){return t?{point:t(e.point)}:e}function hx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sp({point:e},t){return{point:e,delta:hx(e,wC(t)),offset:hx(e,L3(t)),velocity:M3(t,.1)}}function L3(e){return e[0]}function wC(e){return e[e.length-1]}function M3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=wC(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Gr(t)));)n--;if(!r)return{x:0,y:0};const i=hr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $3(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Et(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Et(n,e,r.max):Math.min(e,n)),e}function fx(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function F3(e,{top:t,left:n,bottom:r,right:s}){return{x:fx(e.x,n,s),y:fx(e.y,t,r)}}function px(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function B3(e,t){return{x:px(e.x,t.x),y:px(e.y,t.y)}}function U3(e,t){let n=.5;const r=Sn(e),s=Sn(t);return s>r?n=bu(t.min,t.max-r,e.min):r>s&&(n=bu(e.min,e.max-s,t.min)),bs(0,1,n)}function z3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Sg=.35;function V3(e=Sg){return e===!1?e=0:e===!0&&(e=Sg),{x:mx(e,"left","right"),y:mx(e,"top","bottom")}}function mx(e,t,n){return{min:gx(e,t),max:gx(e,n)}}function gx(e,t){return typeof e=="number"?e:e[t]||0}const K3=new WeakMap;class W3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qu(h).point)},o=(h,f)=>{const{drag:p,dragPropagation:w,onDragStart:y}=this.getProps();if(p&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QM(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ir(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Yr.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const C=x.layout.layoutBox[g];C&&(v=Sn(C)*(parseFloat(v)/100))}}this.originPoint[g]=v}),y&&xt.postRender(()=>y(h,f)),_g(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:w,onDirectionLock:y,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=f;if(w&&this.currentDirection===null){this.currentDirection=H3(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),b&&b(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ir(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new vC(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:yC(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&xt.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Yc(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=$3(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Xo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=F3(r.layoutBox,t):this.constraints=!1,this.elastic=V3(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ir(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=z3(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xo(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=q$(r,s.root,this.visualElement.getTransformPagePoint());let o=B3(s.layout.layoutBox,i);if(n){const a=n(K$(o));this.hasMutatedConstraints=!!a,a&&(o=nC(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=ir(c=>{if(!Yc(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(c,w)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return _g(this.visualElement,t),r.start(Av(t,r,0,n,this.visualElement,!1))}stopAnimation(){ir(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ir(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ir(n=>{const{drag:r}=this.getProps();if(!Yc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-Et(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ir(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=U3({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ir(o=>{if(!Yc(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Et(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;K3.set(this.visualElement,this);const t=this.visualElement.current,n=Hl(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Xo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xt.read(r);const o=Eu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ir(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Sg,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Yc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function H3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class q3 extends _i{constructor(t){super(t),this.removeGroupControls=pr,this.removeListeners=pr,this.controls=new W3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const yx=e=>(t,n)=>{e&&xt.postRender(()=>e(t,n))};class G3 extends _i{constructor(){super(...arguments),this.removePointerDownListener=pr}onPointerDown(t){this.session=new vC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:yx(t),onStart:yx(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&xt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Hl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ye.test(e))e=parseFloat(e);else return e;const n=vx(e,t.target.x),r=vx(e,t.target.y);return`${n}% ${r}%`}},Y3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=mi.parse(e);if(s.length>5)return r;const i=mi.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=Et(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let Ep=!1;class Q3 extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;v$(J3),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Ep&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),bd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Ep=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||xt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Ep=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bC(e){const[t,n]=zE(),r=S.useContext(Zy);return k.jsx(Q3,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(eC),isPresent:t,safeToRemove:n})}const J3={borderRadius:{...yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yl,borderTopRightRadius:yl,borderBottomLeftRadius:yl,borderBottomRightRadius:yl,boxShadow:Y3};function Z3(e,t,n){const r=yn(e)?e:Ia(e);return r.start(Av("",r,t,n)),r.animation}const X3=(e,t)=>e.depth-t.depth;class eF{constructor(){this.children=[],this.isDirty=!1}add(t){tv(this.children,t),this.isDirty=!0}remove(t){nv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(X3),this.isDirty=!1,this.children.forEach(t)}}function tF(e,t){const n=Nn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(pi(r),e(i-t))};return xt.setup(r,!0),()=>pi(r)}const xC=["TopLeft","TopRight","BottomLeft","BottomRight"],nF=xC.length,wx=e=>typeof e=="string"?parseFloat(e):e,bx=e=>typeof e=="number"||Ye.test(e);function rF(e,t,n,r,s,i){s?(e.opacity=Et(0,n.opacity??1,sF(r)),e.opacityExit=Et(t.opacity??1,0,iF(r))):i&&(e.opacity=Et(t.opacity??1,n.opacity??1,r));for(let o=0;o<nF;o++){const a=`border${xC[o]}Radius`;let l=xx(t,a),u=xx(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||bx(l)===bx(u)?(e[a]=Math.max(Et(wx(l),wx(u),r),0),(Yr.test(u)||Yr.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Et(t.rotate||0,n.rotate||0,r))}function xx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const sF=_C(0,.5,lE),iF=_C(.5,.95,pr);function _C(e,t,n){return r=>r<e?0:r>t?1:n(bu(e,t,r))}function _x(e,t){e.min=t.min,e.max=t.max}function nr(e,t){_x(e.x,t.x),_x(e.y,t.y)}function kx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Sx(e,t,n,r,s){return e-=t,e=ih(e,1/n,r),s!==void 0&&(e=ih(e,1/s,r)),e}function oF(e,t=0,n=1,r=.5,s,i=e,o=e){if(Yr.test(t)&&(t=parseFloat(t),t=Et(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Et(i.min,i.max,r);e===i&&(a-=t),e.min=Sx(e.min,t,n,a,s),e.max=Sx(e.max,t,n,a,s)}function Ex(e,t,[n,r,s],i,o){oF(e,t[n],t[r],t[s],t.scale,i,o)}const aF=["x","scaleX","originX"],lF=["y","scaleY","originY"];function Cx(e,t,n,r){Ex(e.x,t,aF,n?n.x:void 0,r?r.x:void 0),Ex(e.y,t,lF,n?n.y:void 0,r?r.y:void 0)}function Tx(e){return e.translate===0&&e.scale===1}function kC(e){return Tx(e.x)&&Tx(e.y)}function Px(e,t){return e.min===t.min&&e.max===t.max}function uF(e,t){return Px(e.x,t.x)&&Px(e.y,t.y)}function Rx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function SC(e,t){return Rx(e.x,t.x)&&Rx(e.y,t.y)}function jx(e){return Sn(e.x)/Sn(e.y)}function Ax(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cF{constructor(){this.members=[]}add(t){tv(this.members,t),t.scheduleRender()}remove(t){if(nv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dF(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:f,skewX:p,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Cp=["","X","Y","Z"],hF=1e3;let fF=0;function Tp(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function EC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=cC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&EC(r)}function CC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=fF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gF),this.nodes.forEach(bF),this.nodes.forEach(xF),this.nodes.forEach(yF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new eF)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new iv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=UE(o)&&!n$(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,h=0;const f=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{h=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,c&&c(),c=tF(f,250),bd.hasAnimatedSinceResize&&(bd.hasAnimatedSinceResize=!1,this.nodes.forEach(Dx)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||CF,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),g=!this.targetLayout||!SC(this.targetLayout,p),v=!h&&f;if(this.options.layoutRoot||this.resumeFrom||v||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...vv(w,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(c,v)}else h||Dx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_F),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&EC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ox);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ix);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wF),this.nodes.forEach(pF),this.nodes.forEach(mF)):this.nodes.forEach(Ix),this.clearAllSnapshots();const a=Nn.now();nn.delta=bs(0,1e3/60,a-nn.timestamp),nn.timestamp=a,nn.isProcessing=!0,mp.update.process(nn),mp.preRender.process(nn),mp.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vF),this.sharedNodes.forEach(kF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!kC(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Li(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),TF(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Dt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(PF))){const{scroll:c}=this.root;c&&(ea(a.x,c.offset.x),ea(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=Dt();if(nr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:f}=c;c!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&nr(a,o),ea(a.x,h.offset.x),ea(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Dt();nr(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ta(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Li(c.latestValues)&&ta(l,c.latestValues)}return Li(this.latestValues)&&ta(l,this.latestValues),l}removeTransform(o){const a=Dt();nr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Li(u.latestValues))continue;vg(u.latestValues)&&u.updateSnapshot();const c=Dt(),h=u.measurePageBox();nr(c,h),Cx(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Li(this.latestValues)&&Cx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Gl(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),D3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),sC(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Gl(this.relativeTargetOrigin,this.target,p.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vg(this.parent.latestValues)||rC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;nr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;H$(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Dt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kx(this.prevProjectionDelta.x,this.projectionDelta.x),kx(this.prevProjectionDelta.y,this.projectionDelta.y)),ql(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Ax(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ax(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=na(),this.projectionDelta=na(),this.projectionDeltaWithTransform=na()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=na();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Dt(),p=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=p!==w,b=this.getStack(),g=!b||b.members.length<=1,v=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(EF));this.animationProgress=0;let x;this.mixTargetDelta=C=>{const j=C/1e3;Nx(h.x,o.x,j),Nx(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SF(this.relativeTarget,this.relativeTargetOrigin,f,j),x&&uF(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Dt()),nr(x,this.relativeTarget)),y&&(this.animationValues=c,rF(c,u,this.latestValues,j,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(pi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{bd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ia(0)),this.currentAnimation=Z3(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&TC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Dt();const h=Sn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Sn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}nr(a,l),ta(a,c),ql(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cF),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Tp("z",o,u,this.animationValues);for(let c=0;c<Cp.length;c++)Tp(`rotate${Cp[c]}`,o,u,this.animationValues),Tp(`skew${Cp[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=wd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=wd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Li(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=dF(this.projectionDeltaWithTransform,this.treeScale,c);l&&(h=l(c,h)),o.transform=h;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const w in Su){if(c[w]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:g}=Su[w],v=h==="none"?c[w]:y(c[w],u);if(b){const x=b.length;for(let C=0;C<x;C++)o[b[C]]=v}else g?this.options.visualElement.renderState.vars[w]=v:o[w]=v}this.options.layoutId&&(o.pointerEvents=u===this?wd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Ox),this.root.sharedNodes.clear()}}}function pF(e){e.updateLayout()}function mF(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?ir(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],p=Sn(f);f.min=r[h].min,f.max=f.min+p}):TC(i,t.layoutBox,r)&&ir(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],p=Sn(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=na();ql(a,r,t.layoutBox);const l=na();o?ql(l,e.applyTransform(s,!0),t.measuredBox):ql(l,r,t.layoutBox);const u=!kC(a);let c=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const w=Dt();Gl(w,t.layoutBox,f.layoutBox);const y=Dt();Gl(y,r,p.layoutBox),SC(w,y)||(c=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function gF(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vF(e){e.clearSnapshot()}function Ox(e){e.clearMeasurements()}function Ix(e){e.isLayoutDirty=!1}function wF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Dx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bF(e){e.resolveTargetDelta()}function xF(e){e.calcProjection()}function _F(e){e.resetSkewAndRotation()}function kF(e){e.removeLeadSnapshot()}function Nx(e,t,n){e.translate=Et(t.translate,0,n),e.scale=Et(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Lx(e,t,n,r){e.min=Et(t.min,n.min,r),e.max=Et(t.max,n.max,r)}function SF(e,t,n,r){Lx(e.x,t.x,n.x,r),Lx(e.y,t.y,n.y,r)}function EF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const CF={duration:.45,ease:[.4,0,.1,1]},Mx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$x=Mx("applewebkit/")&&!Mx("chrome/")?Math.round:pr;function Fx(e){e.min=$x(e.min),e.max=$x(e.max)}function TF(e){Fx(e.x),Fx(e.y)}function TC(e,t,n){return e==="position"||e==="preserve-aspect"&&!I3(jx(t),jx(n),.2)}function PF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const RF=CC({attachResizeListener:(e,t)=>Eu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pp={current:void 0},PC=CC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Pp.current){const e=new RF({});e.mount(window),e.setOptions({layoutScroll:!0}),Pp.current=e}return Pp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jF={pan:{Feature:G3},drag:{Feature:q3,ProjectionNode:PC,MeasureLayout:bC}};function Bx(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&xt.postRender(()=>i(t,qu(t)))}class AF extends _i{mount(){const{current:t}=this.node;t&&(this.unmount=JM(t,(n,r)=>(Bx(this.node,r,"Start"),s=>Bx(this.node,s,"End"))))}unmount(){}}class OF extends _i{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ku(Eu(this.node.current,"focus",()=>this.onFocus()),Eu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ux(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&xt.postRender(()=>i(t,qu(t)))}class IF extends _i{mount(){const{current:t}=this.node;t&&(this.unmount=t$(t,(n,r)=>(Ux(this.node,r,"Start"),(s,{success:i})=>Ux(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Eg=new WeakMap,Rp=new WeakMap,DF=e=>{const t=Eg.get(e.target);t&&t(e)},NF=e=>{e.forEach(DF)};function LF({root:e,...t}){const n=e||document;Rp.has(n)||Rp.set(n,{});const r=Rp.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(NF,{root:e,...t})),r[s]}function MF(e,t,n){const r=LF(t);return Eg.set(e,n),r.observe(e),()=>{Eg.delete(e),r.unobserve(e)}}const $F={some:0,all:1};class FF extends _i{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:$F[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return MF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(BF(t,n))&&this.startObserver()}unmount(){}}function BF({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const UF={inView:{Feature:FF},tap:{Feature:IF},focus:{Feature:OF},hover:{Feature:AF}},zF={layout:{ProjectionNode:PC,MeasureLayout:bC}},VF={...T3,...UF,...jF,...zF},KF=V$(VF,n3);let WF={data:""},HF=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||WF},qF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,GF=/\/\*[^]*?\*\/|  +/g,zx=/\n+/g,zs=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?zs(o,i):i+"{"+zs(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=zs(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=zs.p?zs.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},ns={},RC=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+RC(e[n]);return t}return e},YF=(e,t,n,r,s)=>{let i=RC(e),o=ns[i]||(ns[i]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(i));if(!ns[o]){let l=i!==e?e:(u=>{let c,h,f=[{}];for(;c=qF.exec(u.replace(GF,""));)c[4]?f.shift():c[3]?(h=c[3].replace(zx," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][c[1]]=c[2].replace(zx," ").trim();return f[0]})(e);ns[o]=zs(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&ns.g?ns.g:null;return n&&(ns.g=ns[o]),((l,u,c,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(ns[o],t,r,a),o},QF=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":zs(a,""):a===!1?"":a}return r+s+(o??"")},"");function Vh(e){let t=this||{},n=e.call?e(t.p):e;return YF(n.unshift?n.raw?QF(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,HF(t.target),t.g,t.o,t.k)}let jC,Cg,Tg;Vh.bind({g:1});let _s=Vh.bind({k:1});function JF(e,t,n,r){zs.p=t,jC=e,Cg=n,Tg=r}function ki(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Cg&&Cg()},a),n.o=/ *go\d+/.test(l),a.className=Vh.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),Tg&&u[0]&&Tg(a),jC(u,a)}return s}}var ZF=e=>typeof e=="function",oh=(e,t)=>ZF(e)?e(t):e,XF=(()=>{let e=0;return()=>(++e).toString()})(),AC=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),e5=20,Ov="default",OC=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return OC(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},xd=[],IC={toasts:[],pausedAt:void 0,settings:{toastLimit:e5}},Wr={},DC=(e,t=Ov)=>{Wr[t]=OC(Wr[t]||IC,e),xd.forEach(([n,r])=>{n===t&&r(Wr[t])})},NC=e=>Object.keys(Wr).forEach(t=>DC(e,t)),t5=e=>Object.keys(Wr).find(t=>Wr[t].toasts.some(n=>n.id===e)),Kh=(e=Ov)=>t=>{DC(t,e)},n5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},r5=(e={},t=Ov)=>{let[n,r]=S.useState(Wr[t]||IC),s=S.useRef(Wr[t]);S.useEffect(()=>(s.current!==Wr[t]&&r(Wr[t]),xd.push([t,r]),()=>{let o=xd.findIndex(([a])=>a===t);o>-1&&xd.splice(o,1)}),[t]);let i=n.toasts.map(o=>{var a,l,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||n5[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:i}},s5=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||XF()}),Gu=e=>(t,n)=>{let r=s5(t,e,n);return Kh(r.toasterId||t5(r.id))({type:2,toast:r}),r.id},Kt=(e,t)=>Gu("blank")(e,t);Kt.error=Gu("error");Kt.success=Gu("success");Kt.loading=Gu("loading");Kt.custom=Gu("custom");Kt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Kh(t)(n):NC(n)};Kt.dismissAll=e=>Kt.dismiss(void 0,e);Kt.remove=(e,t)=>{let n={type:4,toastId:e};t?Kh(t)(n):NC(n)};Kt.removeAll=e=>Kt.remove(void 0,e);Kt.promise=(e,t,n)=>{let r=Kt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?oh(t.success,s):void 0;return i?Kt.success(i,{id:r,...n,...n==null?void 0:n.success}):Kt.dismiss(r),s}).catch(s=>{let i=t.error?oh(t.error,s):void 0;i?Kt.error(i,{id:r,...n,...n==null?void 0:n.error}):Kt.dismiss(r)}),e};var i5=1e3,o5=(e,t="default")=>{let{toasts:n,pausedAt:r}=r5(e,t),s=S.useRef(new Map).current,i=S.useCallback((h,f=i5)=>{if(s.has(h))return;let p=setTimeout(()=>{s.delete(h),o({type:4,toastId:h})},f);s.set(h,p)},[]);S.useEffect(()=>{if(r)return;let h=Date.now(),f=n.map(p=>{if(p.duration===1/0)return;let w=(p.duration||0)+p.pauseDuration-(h-p.createdAt);if(w<0){p.visible&&Kt.dismiss(p.id);return}return setTimeout(()=>Kt.dismiss(p.id,t),w)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[n,r,t]);let o=S.useCallback(Kh(t),[t]),a=S.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=S.useCallback((h,f)=>{o({type:1,toast:{id:h,height:f}})},[o]),u=S.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),c=S.useCallback((h,f)=>{let{reverseOrder:p=!1,gutter:w=8,defaultPosition:y}=f||{},b=n.filter(x=>(x.position||y)===(h.position||y)&&x.height),g=b.findIndex(x=>x.id===h.id),v=b.filter((x,C)=>C<g&&x.visible).length;return b.filter(x=>x.visible).slice(...p?[v+1]:[0,v]).reduce((x,C)=>x+(C.height||0)+w,0)},[n]);return S.useEffect(()=>{n.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let f=s.get(h.id);f&&(clearTimeout(f),s.delete(h.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:c}}},a5=_s`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,l5=_s`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,u5=_s`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,c5=ki("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${a5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${l5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${u5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,d5=_s`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,h5=ki("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${d5} 1s linear infinite;
`,f5=_s`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,p5=_s`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,m5=ki("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${f5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${p5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,g5=ki("div")`
  position: absolute;
`,y5=ki("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,v5=_s`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,w5=ki("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${v5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,b5=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?S.createElement(w5,null,t):t:n==="blank"?null:S.createElement(y5,null,S.createElement(h5,{...r}),n!=="loading"&&S.createElement(g5,null,n==="error"?S.createElement(c5,{...r}):S.createElement(m5,{...r})))},x5=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_5=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,k5="0%{opacity:0;} 100%{opacity:1;}",S5="0%{opacity:1;} 100%{opacity:0;}",E5=ki("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,C5=ki("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,T5=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=AC()?[k5,S5]:[x5(n),_5(n)];return{animation:t?`${_s(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_s(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},P5=S.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?T5(e.position||t||"top-center",e.visible):{opacity:0},i=S.createElement(b5,{toast:e}),o=S.createElement(C5,{...e.ariaProps},oh(e.message,e));return S.createElement(E5,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):S.createElement(S.Fragment,null,i,o))});JF(S.createElement);var R5=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=S.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return S.createElement("div",{ref:i,className:t,style:n},s)},j5=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:AC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},A5=Vh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qc=16,O5=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=o5(n,i);return S.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Qc,left:Qc,right:Qc,bottom:Qc,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let h=c.position||t,f=u.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),p=j5(h,f);return S.createElement(R5,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?A5:"",style:p},c.type==="custom"?oh(c.message,c):s?s(c):S.createElement(P5,{toast:c,position:h}))}))},Zt=Kt;const LC=({isMarathiMode:e,retainEnglishNumerals:t,onMarathiModeChange:n,onRetainNumeralsChange:r})=>k.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[k.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer mb-2",children:[k.jsx("input",{type:"checkbox",checked:t,onChange:r,className:"form-checkbox h-5 w-5 text-blue-600 rounded"}),k.jsx("span",{className:"text-gray-900 font-medium",children:"Retain English Numerals (0-9)"})]}),k.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[k.jsx("input",{type:"checkbox",checked:e,onChange:n,className:"form-checkbox h-5 w-5 text-blue-600 rounded"}),k.jsx("span",{className:"text-gray-900 font-medium",children:"Treat content as Marathi"})]}),k.jsx("p",{className:"text-xs text-gray-500 ml-7 mt-1",children:"Drops silent Anusvaras (e.g., 'sga'  'sga') for cleaner pronunciation."})]}),MC=[{code:"original",name:"Original Script"},{code:"devanagari",name:"Devanagari"},{code:"tamil_superscripted",name:"Tamil"},{code:"malayalam",name:"Malayalam"},{code:"itrans",name:"ITRANS"},{code:"iast",name:"IAST"},{code:"telugu",name:"Telugu"},{code:"kannada",name:"Kannada"},{code:"gujarati",name:"Gujarati"}];function I5(){const{preferredLanguage:e,setPreferredLanguage:t,isMarathiMode:n,setIsMarathiMode:r,retainEnglishNumerals:s,setRetainEnglishNumerals:i}=bo(),[o,a]=S.useState(e);S.useEffect(()=>{localStorage.setItem("preferredLanguage",o),t(o)},[o,t]);const l=h=>{a(h.target.value)},u=h=>{const f=h.target.checked;r(f),localStorage.setItem("isMarathiMode",String(f))},c=h=>{const f=h.target.checked;i(f),localStorage.setItem("retainEnglishNumerals",String(f))};return k.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md max-w-md mx-auto mt-10",children:[k.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Language Preferences"}),k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose Script / Language:"}),k.jsx("select",{value:o,onChange:l,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 py-2 px-3 border",children:MC.map(h=>k.jsx("option",{value:h.code,children:h.name},h.code))})]}),k.jsx(LC,{isMarathiMode:n,retainEnglishNumerals:s,onMarathiModeChange:u,onRetainNumeralsChange:c})]})}const D5=0,N5={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},vl={marginRight:"10px"},wl={opacity:.5,cursor:"not-allowed",color:"#888"},L5=async function(e){try{return await Ut.from("sankeertan").upsert({id:1,content:e,scroll_position:0}),!0}catch(t){return console.error(t),!1}},M5=async e=>{const t=e.queryKey,n=t[1],r=t[2],s=t[3],i=t[4];if(!n||!r||!i)throw new Error("Missing query parameters for fetching song details.");const o=await T1(n,i);if(o&&o.songData&&o.sourceLanguage)return console.log("Using song details from IndexedDB cache."),[o.songData,o.metadata,o.sourceLanguage];console.log("Cache miss. Fetching song details from network.");const a=await Qy({bookId:n,sourceRow:r,songTitle:i,sessionuser:s});if(a&&a.length===3){const[l,u,c,h]=a;await R1({bookId:n,songTitle:i,sourceRow:r.toString(),indexPosition:h,songData:l,metadata:u,sourceLanguage:c}),console.log(`Successfully cached song: ${i}`)}else console.warn("Network data structure was unexpected. Skipping cache save.");return a};function $5(){var qt,an,dt;const{categoryId:e,bookId:t,sourceRow:n,songTitle:r}=Ba(),s=Zn(),i=Xn(),{session:o}=xi(),a=(qt=o==null?void 0:o.user)==null?void 0:qt.email,l=(an=s.state)==null?void 0:an.filteredSongIndices,u=(dt=s.state)==null?void 0:dt.index,c=Ih(),h=S.useMemo(()=>decodeURIComponent(r||""),[r]),f=["songDetails",t,n,a,h],{preferredLanguage:p,setPreferredLanguage:w,isMarathiMode:y,retainEnglishNumerals:b}=bo(),g=S.useMemo(()=>l&&u>0?l[u-1]:null,[l,u]),v=S.useMemo(()=>l&&u<l.length-1?l[u+1]:null,[l,u]),x=S.useCallback(async(Me,He)=>{if(!Me||!Me.bookId||!Me.songTitle){He(!1);return}const Ae=await Lh(Me.bookId,Me.songTitle);He(Ae)},[]),[C,j]=S.useState(!1),[I,A]=S.useState(!1);S.useEffect(()=>(window.handleInternalNavigation=(Me,He,Ae,ln)=>{const wn=`/details/book/${Me}/${He}/${Ae}/${encodeURIComponent(ln)}`;i(wn,{state:{filteredSongIndices:l||[],index:D5},replace:!1}),console.log(`Internal navigation triggered: ${wn}`)},()=>{delete window.handleInternalNavigation}),[i,l,u]),S.useEffect(()=>{x(g,j),x(v,A)},[g,v,x]);const{isLoading:D,isFetching:$,error:B,data:ue}=Dh({queryKey:f,queryFn:M5,staleTime:1/0,gcTime:0,refetchOnMount:!1,networkMode:"always",refetchOnWindowFocus:!1});lL(({swipe:[Me]})=>{Me===1?(console.log("going to prev"),Ke()):Me===-1&&(console.log("going to next"),Ve())},{axis:"x",filterTaps:!0});const[N,V]=S.useState(!1),[T,Z]=S.useState({x:0,y:0}),[ve,G]=S.useState(!1),X=S.useRef(null),[ee,he]=S.useState(""),[K,q]=S.useState(null),we=S.useRef(null),H=Me=>{Me.preventDefault();const He=window.getSelection(),Ae=(He==null?void 0:He.toString().trim())??"";He&&He.rangeCount>0&&!He.getRangeAt(0).collapsed?(he(Ae),q(He.getRangeAt(0)),G(!0)):(he(""),q(null),G(!1)),Z({x:Me.clientX,y:Me.clientY}),G(!!ee),V(!0)};S.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[s]),S.useEffect(()=>{const Me=He=>{X.current&&!X.current.contains(He.target)&&V(!1)};return N?window.addEventListener("mousedown",Me):window.removeEventListener("mousedown",Me),()=>{window.removeEventListener("mousedown",Me)}},[N]),S.useEffect(()=>{s.state||window.location.pathname.startsWith("/sankeertan")},[s,t]),S.useEffect(()=>{const Me=He=>{X.current&&!X.current.contains(He.target)&&V(!1)};return N&&document.addEventListener("mousedown",Me),()=>{document.removeEventListener("mousedown",Me)}},[N]);const se=()=>{const Me=window.location.href;navigator.clipboard.writeText(Me).then(()=>{console.log("URL copied to clipboard:",Me),Zt.success("URL copied to clipboard!")}).catch(He=>{console.error("Failed to copy URL: ",He)})},pe=S.useRef(null);function Se(Me){const ln=new DOMParser().parseFromString(Me,"text/html").querySelectorAll("tr");let wn="";return ln.forEach(Zr=>{const Ie=Zr.querySelectorAll("td, th"),Xr=[];Ie.forEach(Dr=>{var Xu;let un=Dr.innerHTML;un=un.replace(/<\/p>\s*<p>/gi,`
`),un=un.replace(/<p>|<\/p>/gi,""),un=un.replace(/<br\s*\/?>/gi,`
`);const Ga=document.createElement("div");Ga.innerHTML=un;const Ya=((Xu=Ga.textContent)==null?void 0:Xu.trim())||"";Xr.push(Ya)}),wn+=Xr.join(" | ")+`

`}),wn.trim()}const je=()=>{if(!K||K.collapsed){console.warn("No valid selection range to highlight.");return}const Me=document.createElement("span");Me.className="highlighted-text";try{K.surroundContents(Me),console.log("Text highlighted successfully!")}catch(He){console.error("Failed to highlight text:",He)}q(null)},ce=()=>{if(!pe.current)return"";const Me=pe.current.innerHTML;return Me.includes("<table")?Se(Me):pe.current.textContent||""},ze=(Me=!1)=>{if(pe.current){const He=pe.current.innerHTML;let Ae="radhekrishna!!";Me?Ae=He:He.includes("<table")?Ae=Se(He):Ae=pe.current.textContent||"radhekrishna!!",navigator.clipboard.writeText(Ae).then(()=>{console.log("Song content copied to clipboard:"),Zt.success("Song content copied to clipboard!")}).catch(ln=>{console.error("Failed to copy song: ",ln)})}},Ve=()=>{if(l&&u!==void 0&&u<l.length-1){const Me=u+1,He=l[Me];sessionStorage.setItem("lastClickedSongIndex",Me.toString()),i(`/details/book/${e}/${t}/${He.sourceRow}/${encodeURIComponent(He.songTitle)}`,{state:{filteredSongIndices:l,index:Me},replace:!0})}},Ke=()=>{if(l&&u!==void 0&&u>0){const Me=u-1,He=l[Me];sessionStorage.setItem("lastClickedSongIndex",Me.toString()),i(`/details/book/${e}/${t}/${He.sourceRow}/${encodeURIComponent(He.songTitle)}`,{state:{filteredSongIndices:l,index:Me},replace:!0})}},ct=u===0,P=u===(l==null?void 0:l.length)-1,ge=l&&l.length>0,me=async Me=>{if(ee){const He=await fetch(`${wi}?mode=api&apiname=reportmistakeinsongtext&book=${t}&sourcerow=${n}&songtitle=${r}&text=${ee}&sessionuser=${Me}`);if(!He.ok){const ln=await He.json();throw new Error(`Failed to fetch song details for book ${t}+row ${n}: ${He.status} - ${JSON.stringify(ln)}`)}const Ae=await He.json();Zt.success(`Issue/Mistake is reported as ${Ae[1]}!!`)}else console.log("No text was selected.")},F=async()=>{t&&r?(await vD(t,h),Zt.success("Local cache cleared. Reloading from server..."),console.log("IndexedDB cache cleared. Data will be reloaded from the server."),c.invalidateQueries({queryKey:f})):console.warn("Cannot reload song: bookId or songTitle is missing.")},M=async Me=>{switch(V(!1),Me){case"broadcast":r&&Ue();break;case"copyPageUrl":se();break;case"CopySongAsHtml":ze(!0);break;case"CopySongAsText":ze(!1);break;case"ReportMistake":me(a);break;case"Copy":if(ee)try{await navigator.clipboard.writeText(ee),Zt.success("Text copied!")}catch(He){console.error("Failed to copy text: ",He),Zt.error("Failed to copy text.")}break;case"Highlight":je();break}},re=S.useMemo(()=>k.jsx(KF.div,{ref:X,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.1},style:{position:"fixed",top:T.y,left:T.x,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)",zIndex:10,minWidth:"150px"},onClick:Me=>Me.stopPropagation(),children:k.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:ve?k.jsxs(k.Fragment,{children:[k.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>M("Copy"),children:"Copy Selected"}),k.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>M("ReportMistake"),children:"Report Mistake"})]}):k.jsx(k.Fragment,{children:k.jsxs("div",{style:{borderTop:"1px solid #eee",marginTop:"8px",paddingTop:"8px"},children:[k.jsx("li",{style:{padding:"6px 12px",color:"#666"},children:"**Change Language**"}),MC.map(Me=>k.jsx("li",{style:{padding:"6px 12px",cursor:"pointer",fontWeight:Me.code===p?"bold":"normal",backgroundColor:Me.code===p?"#f0f0f0":"transparent"},onClick:()=>rt(Me),children:Me.name},Me.code))]})})})},"context-menu"),[ve,T,p]),[xe,be]=S.useState(!1),[de,ke]=S.useState(null),[Le,Ce]=S.useState(!0),Ue=S.useCallback(async()=>{if(xe){console.warn("isBroadcasting already");return}if(!Le){Zt.error("Cannot do repeat Broadcast... Pls check if song has changed");return}if(pe.current){be(!0),ke("broadcasting");try{const Me=pe.current.innerHTML,He=await L5(Me);be(!1),ke("success"),Zt.success("Broadcast was successful!"),Ce(!1),setTimeout(()=>ke(null),2e3)}catch(Me){console.error("Broadcast failed:",Me),Zt.error("Broadcast had errors!"),be(!1),ke("error"),setTimeout(()=>ke(null),3e3)}}else console.warn("broadcastContentRef.current is null. Cannot broadcast content."),ke("failed"),be(!1)},[pe,xe,Le]);S.useEffect(()=>{Ce(!0)},[ue]),S.useEffect(()=>{ue&&ue.length>=3&&t&&h&&n&&(x(g,j),x(v,A))},[ue,t,h,n,g,v,x]);const rt=Me=>{w(Me.code),V(!1)},Je={backgroundColor:"green",color:"white"},kt={backgroundColor:"brown",color:"white"};if(D&&!ue)return k.jsx("div",{style:N5,children:k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[k.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),k.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),k.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),k.jsx("p",{style:{marginLeft:"10px"},children:"Loading song text..."})]})});if(B)return k.jsxs("div",{children:["Error loading song details: ",B.message]});if(!ue)return k.jsx("div",{children:"No song details available. Please try reloading."});const er=document.getElementById("context-menu-root");return k.jsxs(k.Fragment,{children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},ref:we,children:[k.jsx(Jy,{}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[k.jsx("button",{onClick:Ke,disabled:ct||!ge,style:{...vl,...ct||!ge?wl:{},...C?Je:kt},children:" Prev"}),k.jsx("button",{onClick:Ve,disabled:P||!ge,style:{...vl,...P||!ge?wl:{},...I?Je:kt,marginRight:0},children:"Next "})]})]}),k.jsxs("div",{className:"song-details-container select-text",style:{paddingBottom:"60px",paddingLeft:"20px",cursor:"pointer",userSelect:"auto"},onContextMenu:H,children:[k.jsx("div",{ref:pe,children:ue&&k.jsx(mN,{data:ue[0],className:"my-4",highlightColor:"bg-blue-50",striped:!0,hoverEffect:!1,wrapColumns:[0,1,2,3,4],maxWidth:"max-w-6xl",preferredLanguage:p,sourceLanguage:ue[2],isMarathiMode:y,retainEnglishNumerals:b})}),k.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",backgroundColor:"#fff",borderTop:"1px solid #ccc",padding:"10px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",zIndex:1e3},children:[k.jsxs("div",{children:[k.jsx("button",{onClick:Ke,disabled:ct||!ge,style:{...vl,...ct||!ge?wl:{},...C?Je:kt},children:" Prev"}),k.jsx("button",{onClick:Ve,disabled:P||!ge,style:{...vl,...P||!ge?wl:{},...I?Je:kt,marginRight:0},children:"Next "})]}),k.jsxs("div",{children:[k.jsx("button",{onClick:()=>{const Me=ce();i(`/editor/book/${e}/${t}/${n}/${encodeURIComponent(r||"")}`,{state:{initialContent:Me}})},style:{marginRight:"10px"},title:"Edit Song",children:""}),k.jsx("button",{onClick:F,disabled:$,style:{marginRight:"10px",backgroundColor:$?"#ccc":"#f0f0f0",color:$?"#666":"inherit",cursor:$?"not-allowed":"pointer"},title:"Reload from Server (Clears local cache)",children:$?k.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[k.jsxs("svg",{className:"animate-spin",style:{width:"16px",height:"16px",marginRight:"5px"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),k.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Reloading..."]}):""}),k.jsx("button",{onClick:se,style:{marginRight:"10px"},title:"Copy URL",children:""}),k.jsx("button",{onClick:()=>ze(!1),style:{marginRight:"10px"},title:"Copy Content",children:""}),k.jsx("button",{onClick:Ue,disabled:!Le,style:{...vl,...Le?{}:wl},title:"Broadcast",children:""})]})]}),k.jsx("style",{children:`
          .highlighted-text {
            background-color: #ffeb3b; /* Yellow background */
            padding: 2px 4px;
            border-radius: 4px;
          }
          .animate-spin {
            animation: spin 1s linear infinite;
          }
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `}),N&&er&&mR.createPortal(k.jsx(d$,{children:re}),er)]})]})}const F5=" || ",Vx=e=>!e||!Array.isArray(e)?"":e.map(t=>Array.isArray(t)?t.map(n=>n==null?"":String(n)).join(F5):"").join(`
`),Kx=()=>{const e=Zn(),t=Xn(),{categoryId:n,bookId:r,sourceRow:s,songTitle:i}=Ba(),{categories:o}=Mh(),{session:a}=xi(),l=!r,[u,c]=S.useState(n||""),[h,f]=S.useState(r||""),[p,w]=S.useState(i?decodeURIComponent(i):""),[y,b]=S.useState(!1),[g,v]=S.useState(""),[x,C]=S.useState(null),[j,I]=S.useState(!1);S.useEffect(()=>{const N=e.state;if(N!=null&&N.initialContent){console.log("Using passed text content"),v(N.initialContent),b(!0);return}!l&&r&&i&&s&&A(r,decodeURIComponent(i),s)},[r,i,s,l,e.state]);const A=async(N,V,T)=>{var Z;I(!0);try{const ve=await T1(N,V);if(ve&&ve.songData)C(ve.songData),v(Vx(ve.songData)),b(!0),Zt.success("Loaded from local cache");else if(T)try{const G=await Qy({bookId:N,sourceRow:T,songTitle:V,sessionuser:(Z=a==null?void 0:a.user)==null?void 0:Z.email});G&&G[0]&&(C(G[0]),v(Vx(G[0])),b(!0),Zt.success("Loaded from server"))}catch(G){console.error("Network fetch failed",G),Zt.error("Failed to fetch song from server.")}else v(""),C(null),b(!0),Zt("Creating a new song",{icon:""})}catch(ve){console.error("Error loading song:",ve),Zt.error("Error loading song data.")}finally{I(!1)}},D=async()=>{if(!h||!p){Zt.error("Please select a book and enter a song title.");return}I(!0);try{let N;const V=await Nh(h);if(V){const T=V.find(Z=>Z.songTitle.toLowerCase()===p.toLowerCase());T&&(N=T.sourceRow.toString())}await A(h,p,N)}catch(N){console.error(N),Zt.error("Failed to initialize editor."),I(!1)}},$=async()=>{var N;try{const V=g;console.log("--------------------------------------------------"),console.log("SUBMITTING EDITED CONTENT (RAW TEXT):"),console.log("Book:",h),console.log("Song:",p),console.log(V),console.log("--------------------------------------------------"),await MD({bookId:h,songTitle:p,text:V,sessionuser:(N=a==null?void 0:a.user)==null?void 0:N.email}),Zt.success("Content saved successfully!"),l||t(-1)}catch(V){console.error("Error saving content:",V),Zt.error("Failed to save content.")}},B=()=>{l?(b(!1),C(null),v("")):t(-1)},ue=()=>{const N=o==null?void 0:o.find(T=>T.id===u||T.name===u),V=(N==null?void 0:N.books)||[];return k.jsxs("div",{className:"max-w-2xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[k.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Song Editor"}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Category"}),k.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",value:u,onChange:T=>{c(T.target.value),f("")},children:[k.jsx("option",{value:"",children:"-- Select Category --"}),o==null?void 0:o.map(T=>k.jsx("option",{value:T.id||T.name,children:T.name},T.id||T.name))]})]}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Book"}),k.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",value:h,onChange:T=>f(T.target.value),disabled:!u,children:[k.jsx("option",{value:"",children:"-- Select Book --"}),V.map(T=>k.jsx("option",{value:T.bookId,children:T.bookName},T.bookId))]})]}),k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Song Title"}),k.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Enter exact song title",value:p,onChange:T=>w(T.target.value)}),k.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter an existing title to edit, or a new one to create."})]}),k.jsx("button",{onClick:D,disabled:!h||!p||j,className:`w-full py-2 px-4 rounded text-white font-bold transition-colors ${!h||!p||j?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:j?"Loading...":"Start Editing"})]})};return y?k.jsxs("div",{className:"p-4 h-screen flex flex-col bg-gray-50",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsxs("div",{children:[k.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:[x?"Edit Song":"Create Song",": ",p]}),k.jsxs("p",{className:"text-sm text-gray-600",children:["Book: ",h]})]}),k.jsxs("div",{className:"space-x-2",children:[k.jsx("button",{onClick:B,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors",children:l?"Back":"Cancel"}),k.jsx("button",{onClick:$,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Submit Changes"})]})]}),k.jsxs("div",{className:"flex-grow flex flex-col",children:[k.jsxs("div",{className:"bg-blue-50 p-3 mb-2 rounded text-sm text-blue-800 border border-blue-200",children:[k.jsx("strong",{children:"Instructions:"})," Edit the text below. Use ",k.jsx("code",{children:" || "})," (space-pipe-pipe-space) to separate columns. Each line represents a new row."]}),k.jsx("textarea",{value:g,onChange:N=>v(N.target.value),className:"flex-grow w-full p-4 font-mono text-base border border-gray-300 rounded shadow-inner focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",spellCheck:!1,placeholder:"Start typing song content here..."})]})]}):k.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:ue()})},B5=({broadcastId:e,session:t,shouldSyncScroll:n,onContentUpdated:r,onScrollPositionUpdated:s,onConnectionStatusChange:i})=>{const o=S.useRef(n);S.useEffect(()=>{o.current=n},[n]);const a=S.useRef(null);return S.useEffect(()=>{if(!(t!=null&&t.access_token)||!e){console.log("No access token or broadcast ID, Listener skipping subscription setup."),i("DISCONNECTED");return}return a.current&&(Ut.removeChannel(a.current),a.current=null),i("CONNECTING"),a.current=Ut.channel(`broadcast:${e}`),a.current.on("postgres_changes",{event:"UPDATE",schema:"public",table:"sankeertan",filter:`id=eq.${e}`},l=>{l.new&&"content"in l.new&&r(l.new.content),l.new&&"scroll_position"in l.new&&l.new.scroll_position!==null&&o.current&&s(l.new.scroll_position)}).subscribe((l,u)=>{switch(l){case"SUBSCRIBED":i("CONNECTED");break;case"CHANNEL_ERROR":case"TIMED_OUT":case"CLOSED":i(l==="CLOSED"?"DISCONNECTED":"ERROR"),console.error(`Subscription issue for broadcast ${e}:`,u||l);break;case"CONNECTING":i("CONNECTING");break}}),()=>{a.current&&(Ut.removeChannel(a.current),a.current=null)}},[e,t==null?void 0:t.access_token,r,s,i]),null},U5=(e,t)=>{let n;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>{e.apply(null,r)},t)}},z5=({broadcastId:e})=>{const[t,n]=S.useState(null),[r,s]=S.useState(null),i=S.useRef(null),[o,a]=S.useState(null),[l,u]=S.useState(!1),[c,h]=S.useState(!0),[f,p]=S.useState(!1),[w,y]=S.useState(null),[b,g]=S.useState("none"),[v,x]=S.useState(!1),[C,j]=S.useState("CONNECTING"),{preferredLanguage:I,isMarathiMode:A,retainEnglishNumerals:D}=bo(),$=S.useCallback(G=>{j(G),console.log(`Realtime Connection Status Updated: ${G}`)},[]),B=S.useCallback(G=>{const ee=Oa(G??"","devanagari",I,{isMarathiMode:A,retainEnglishNumerals:D});n(ee)},[I,A,D]),ue=S.useCallback(G=>{l&&G!==null&&s(`trRowAsAnchor-${G}`)},[l]);S.useEffect(()=>{Ut.auth.getSession().then(({data:{session:X}})=>{a(X)});const{data:G}=Ut.auth.onAuthStateChange((X,ee)=>{a(ee)});return()=>{G.subscription.unsubscribe()}},[]);const N=S.useCallback(async()=>{f||h(!0),y(null);try{const{data:G,error:X}=await Ut.from("sankeertan").select("content, scroll_position, is_broadcasting_scroll").eq("id",e).single();if(X)console.error("Error fetching broadcast data:",X),y(X.message);else if(G){const ee=G.content??"";let he=Oa(ee,"devanagari",I,{isMarathiMode:A,retainEnglishNumerals:D});n(he),x(G.is_broadcasting_scroll??!1),p(!0)}}finally{h(!1)}},[e,I,A,D,f]);S.useEffect(()=>{o&&e&&!f&&N()},[o,e,N,f]),S.useEffect(()=>{if(r&&i.current){const G=r,X=i.current.querySelector(`#${G}`);X&&X.scrollIntoView({block:"start",behavior:"smooth"}),s(null)}},[r,i]);const V=S.useCallback(async G=>{if(b==="leader"&&v){const{error:X}=await Ut.from("sankeertan").update({scroll_position:G}).eq("id",e);X&&console.error("Error broadcasting scroll position:",X)}},[b,v,e]);S.useEffect(()=>{if(b!=="leader"||!v||!i.current)return;const G=i.current,X=U5(V,200),ee=G.querySelectorAll("tr[id^='trRowAsAnchor-']"),he=new Set;let K=null;const q=se=>{se.forEach(ce=>{ce.isIntersecting?he.add(ce.target):he.delete(ce.target)});let pe=null,Se=1/0;const je=G.getBoundingClientRect().top;if(he.forEach(ce=>{if(typeof ce.id!="string"||ce.id==="")return;const Ve=ce.getBoundingClientRect().top-je;Ve>=0&&Ve<Se&&(Se=Ve,pe=ce.id)}),pe){const ze=pe.split("-").pop();if(ze){const Ve=parseInt(ze);pe!==K&&(K=pe,X(Ve))}}},we={root:G,rootMargin:"0px",threshold:.1},H=new IntersectionObserver(q,we);return ee.forEach(se=>{H.observe(se)}),()=>{H.disconnect()}},[b,v,V]);const T=async()=>{const G=!v,{error:X}=await Ut.from("sankeertan").update({is_broadcasting_scroll:G}).eq("id",e);X?console.error("Failed to update broadcast scroll status:",X):x(G)},Z=G=>{G==="none"&&(x(!1),u(!1)),g(G),G==="follower"&&u(!0)},ve=G=>{switch(G){case"CONNECTED":return"green";case"DISCONNECTED":case"ERROR":return"red";case"CONNECTING":return"yellow";default:return"gray"}};return k.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh"},children:[k.jsxs("div",{style:{flexGrow:1,overflowY:"auto",paddingBottom:"70px",padding:"10px"},ref:i,children:[k.jsxs("h2",{style:{display:"flex",alignItems:"center"},children:["Sankeertan Content",k.jsx("span",{style:{height:"12px",width:"12px",borderRadius:"50%",backgroundColor:ve(C),marginLeft:"10px",display:"inline-block",border:"1px solid #333"},title:`Realtime Status: ${C}`}),k.jsxs("span",{style:{marginLeft:"5px",fontSize:"0.8em",color:"#666"},children:["(",C,")"]})]}),c&&!f?k.jsx("p",{children:"Loading content..."}):w?k.jsxs("p",{style:{color:"red"},children:["Error loading data: ",w]}):t&&k.jsx("div",{dangerouslySetInnerHTML:{__html:t}})]}),o&&b==="follower"&&k.jsx(B5,{broadcastId:e,session:o,shouldSyncScroll:l,onContentUpdated:B,onScrollPositionUpdated:ue,onConnectionStatusChange:$}),k.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"60px",backgroundColor:"#f8f8f8",borderTop:"1px solid #eee",display:"flex",justifyContent:"space-around",alignItems:"center",padding:"0 10px",boxShadow:"0 -2px 5px rgba(0,0,0,0.1)",zIndex:100},children:[k.jsx("button",{onClick:()=>Z(b==="leader"?"none":"leader"),style:{backgroundColor:b==="leader"?"#FF5733":"#4CAF50",color:"white",padding:"10px 15px",border:"none",borderRadius:"5px",fontWeight:"bold"},children:b==="leader"?"Disengage (Leader)":"Become a Leader"}),b==="none"&&k.jsx("div",{style:{color:"#666",fontWeight:"bold",textAlign:"center"},children:"Choose a Role to Participate"}),b==="leader"&&k.jsx("button",{onClick:T,style:{backgroundColor:v?"#FF9800":"#f44336",color:"white",padding:"10px 15px",border:"none",borderRadius:"5px",fontWeight:"bold"},children:v?"Pause Scroll Broadcast":"Start Scroll Broadcast"}),k.jsx("button",{onClick:()=>Z(b==="follower"?"none":"follower"),style:{backgroundColor:b==="follower"?"#FF5733":"#2196F3",color:"white",padding:"10px 15px",border:"none",borderRadius:"5px",fontWeight:"bold"},children:b==="follower"?"Disengage (Follower)":"Become a Follower"})]})]})},Jc=Lt(),Wx=(e,t)=>`${e.trim()}|${t.trim()}`;async function V5(){var u,c;console.log("[Dexie Load] Preparing availability check set...");const e=await Jc.songDetails.toCollection().primaryKeys(),t=new Set;for(const[h,f]of e)t.add(Wx(h,f));console.log(`[Dexie Load] Found ${t.size} available SongDetails.`);const n=await Jc.songIndices.toArray();let r=await Jc.categories.toArray();r.length===0&&(console.warn("Categories table empty on first read. Waiting 500ms and retrying..."),await new Promise(h=>setTimeout(h,500)),r=await Jc.categories.toArray(),r.length===0&&console.error("Categories table STILL empty after retry. Data seeding failed."));const s=new Map,i=new Map;for(const h of r){const f=(u=h.id)==null?void 0:u.trim();if(f&&i.set(f,h),Array.isArray(h.books))for(const p of h.books){const w=(c=p.bookId)==null?void 0:c.trim();if(w){let y=s.get(w);if(y){const b=Array.isArray(y.categoryId)?y.categoryId:y.categoryId?[y.categoryId]:[];f&&!b.includes(f)&&(y.categoryId=[...b,f])}else y={...p,bookId:w,bookName:p.bookName||"Unknown Book",categoryId:f?[f]:[],author:p.author||h.author,language:p.language||h.language,type:p.type||h.type,raagam:p.raagam||h.raagam,taaLam:p.taaLam||h.taaLam},s.set(w,y)}}}console.log("Book Map Keys (Flattened):",Array.from(s.keys()).length),console.log("Category Map Keys:",Array.from(i.keys()).length);const o=n.map((h,f)=>{var ue,N;const p=(ue=h.bookId)==null?void 0:ue.trim(),w=(N=h.songTitle)==null?void 0:N.trim(),y=s.get(p);let b=[],g=[];if(y&&y.categoryId){const V=Array.isArray(y.categoryId)?y.categoryId:[y.categoryId];g=V,b=V.map(T=>{var Z;return((Z=i.get(T))==null?void 0:Z.name)||"Unknown Category"})}else b=["Unknown Category"],g=["unknown-category"];y||console.error(`[FATAL MISMATCH] Book lookup failed for Song: ${h.songTitle} | Index Book ID: '${p}'`);let v=!1;if(p&&w){const V=Wx(p,w);v=t.has(V)}const x=(y==null?void 0:y.bookName)||"Unknown Book",C=g.length>0?i.get(g[0]):void 0,j=h.author||(y==null?void 0:y.author)||(C==null?void 0:C.author)||"Unknown Author",I=h.sourceLanguage||(y==null?void 0:y.language)||(C==null?void 0:C.language)||"Unknown Language",A=h.type||(y==null?void 0:y.type)||(C==null?void 0:C.type)||"Unknown Type",D=h.raagam||(y==null?void 0:y.raagam)||(C==null?void 0:C.raagam)||"Unknown Type",$=h.taaLam||(y==null?void 0:y.taaLam)||(C==null?void 0:C.taaLam)||"Unknown Type";return{uniqueSongId:`${h.bookId}-${h.songTitle}`,indexPositionForNavigation:f,isAvailable:v,bookId:h.bookId,categoryId:g,title:h.songTitle,sourceRow:h.sourceRow,tags:h.tags||null,verseCount:h.verseCount||null,category:b,book:x,author:j,language:I,type:A,raagam:D,taaLam:$,link:h.link}}),a=new Map;for(const h of o){const f=`${h.title.toLowerCase().trim()}|${h.author.toLowerCase().trim()}`;if(a.has(f)){const p=a.get(f),w=(y,b)=>{const g=Array.isArray(y)?y:[y],v=Array.isArray(b)?b:[b];return Array.from(new Set([...g,...v]))};p.book=w(p.book,h.book),p.bookId=w(p.bookId,h.bookId),p.category=w(p.category,h.category),p.categoryId=w(p.categoryId,h.categoryId)}else a.set(f,h)}const l=Array.from(a.values());return console.log(`[Dexie Load] Deduplicated ${o.length} raw songs into ${l.length} unique songs.`),l}const K5=["searchIndex","allSongs"],W5=()=>Dh({queryKey:K5,queryFn:async()=>{console.log("TanStack Query: Starting load of search index from Dexie...");const e=await V5();return console.log(`TanStack Query: Successfully loaded ${e.length} songs.`),e},staleTime:1/0,refetchOnMount:!0,gcTime:1e3*60*60*4,networkMode:"always",refetchOnWindowFocus:!1}),H5=(e,t)=>{if(Object.keys(t).length===0)return e;let n=e;return Object.keys(t).forEach(r=>{const s=t[r];if(s&&s.length>0){const i=s.map(o=>o.value.toLowerCase());n=n.filter(o=>{const a=o[r];return(Array.isArray(a)?a.map(u=>String(u).toLowerCase()):[String(a).toLowerCase()]).some(u=>i.includes(u))})}}),n},q5=(e,t)=>{const n=t.trim().toLowerCase();return n?e.filter(r=>{const s=i=>Array.isArray(i)?i.some(o=>String(o).toLowerCase().includes(n)):String(i).toLowerCase().includes(n);return s(r.title)||s(r.author)||s(r.book)||s(r.category)}):e},bl=(e,t)=>{const n=new Set;return e.forEach(r=>{const s=r[t];Array.isArray(s)?s.forEach(i=>{typeof i=="string"&&n.add(i)}):typeof s=="string"&&n.add(s)}),Array.from(n).sort()},G5=()=>{const[e,t]=S.useState(""),[n,r]=S.useState({}),[s,i]=S.useState([]),[o,a]=S.useState([]),[l,u]=S.useState("cards"),[c,h]=S.useState(!1),f=Xn(),p=30,[w,y]=S.useState({category:!0,book:!0,title:!0,author:!0,language:!0,raagam:!0}),{preferredLanguage:b,isMarathiMode:g}=bo(),v=(H,se="itrans")=>{const pe=Array.isArray(H)?H.join(", "):H;return Oa(pe,se,b,{isMarathiMode:g})},{data:x,isLoading:C,isError:j,error:I}=W5(),A=S.useMemo(()=>x||[],[x]);S.useEffect(()=>{if(A.length===0){i([]),a([]);return}let H=H5(A,n),se=q5(H,e);i(se),h(!1);const pe=se.map(Se=>({indexPositionForNavigation:Se.indexPositionForNavigation,sourceRow:String(Se.sourceRow),bookId:Array.isArray(Se.bookId)?Se.bookId[0]:Se.bookId,songTitle:Array.isArray(Se.title)?Se.title.join(", "):Se.title}));a(pe)},[A,n,e]);const D=(H,se)=>{r(pe=>{const Se=pe[H]||[],je=Se.find(ce=>ce.value===se);if(je)if(je.isNot){const ce=Se.filter(ze=>ze.value!==se);if(ce.length===0){const ze={...pe};return delete ze[H],ze}return{...pe,[H]:ce}}else return{...pe,[H]:Se.map(ce=>ce.value===se?{...ce,isNot:!0}:ce)};else return{...pe,[H]:[...Se,{value:se,isNot:!1}]}})},$=()=>{r({})},B=(H,se)=>{if(H.type==="link"&&H.link)try{const ze=JSON.parse(H.link),Ve=ze.bookId,Ke=ze.categoryId;if(Ve&&Ke){f(`/book/${Ke}/${Ve}`);return}}catch(ze){console.error("Failed to parse link data for song:",H.title,ze)}const pe=Array.isArray(H.title)?H.title.join(", "):H.title,Se=Array.isArray(H.categoryId)?H.categoryId[0]:H.categoryId,je=Array.isArray(H.bookId)?H.bookId[0]:H.bookId,ce=H.sourceRow;f(`/details/book/${Se}/${je}/${ce}/${encodeURIComponent(pe)}`,{state:{filteredSongIndices:o,index:se}})},ue=H=>{y(se=>({...se,[H]:!se[H]}))},N=bl(s,"author"),V=bl(s,"language"),T=bl(s,"raagam"),Z=bl(s,"book"),ve=bl(s,"category"),G={category:new Set,book:new Set,title:new Set,author:new Set,language:new Set,type:new Set,raagam:new Set};e.length>0&&A.forEach(H=>{Object.entries(H).forEach(([se,pe])=>{var Se;Array.isArray(pe)?pe.forEach(je=>{var ce;typeof je=="string"&&je.toLowerCase().includes(e.toLowerCase())&&((ce=G[se])==null||ce.add(je))}):typeof pe=="string"&&pe.toLowerCase().includes(e.toLowerCase())&&((Se=G[se])==null||Se.add(pe))})});const X=(H,se)=>s.filter(pe=>{const Se=pe[H];return Array.isArray(Se)?Se.includes(se):Se===se}).length,ee=(H,se)=>{var Se;const pe=(Se=n[H])==null?void 0:Se.find(je=>je.value===se);return pe?pe.isNot?"bg-red-500 text-white":"bg-[#3498db] text-white":"hover:bg-gray-100 text-gray-700"};if(C)return k.jsx("div",{className:"flex justify-center items-center h-screen text-lg text-gray-500 bg-[#f5f7fa]",children:"Loading search index..."});if(j)return k.jsxs("div",{className:"text-center p-4 text-red-600 border border-red-300 bg-red-50 m-4 rounded-lg",children:["Error loading search index: ",(I==null?void 0:I.message)||"Unknown error."]});const he=H=>`${Array.isArray(H.bookId)?H.bookId.join("-"):H.bookId}-${H.title}`,K=H=>Array.isArray(H)?H.join(", "):H,q="bg-white rounded-xl shadow-[0_4px_10px_rgba(0,0,0,0.08)] border border-[#eaeaea] transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_8px_25px_rgba(0,0,0,0.15)]";return k.jsx("div",{className:"min-h-screen bg-[#f5f7fa] p-4 font-sans flex flex-col items-center",children:k.jsxs("div",{className:"w-full max-w-[1400px] bg-[#f5f7fa] p-2 md:p-4",children:[k.jsx("div",{className:"text-2xl font-bold text-[#2c3e50] border-b-2 border-[#eaeaea] pb-4 mb-6 flex justify-between items-center",children:k.jsx("span",{children:"Search Songs"})}),k.jsxs("div",{className:"relative mb-6",children:[k.jsx("input",{type:"text",placeholder:"Search by title, author, book, language...",className:"w-full px-5 py-4 rounded-xl bg-white text-lg text-[#2c3e50] placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#3498db] shadow-sm border border-gray-200 transition-all",value:e,onChange:H=>t(H.target.value)}),e&&Object.values(G).some(H=>H.size>0)&&k.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white rounded-xl shadow-xl border border-gray-200 max-h-64 overflow-y-auto",children:Object.entries(G).map(([H,se])=>se&&se.size>0&&k.jsxs("div",{className:"p-3 border-b border-gray-100 last:border-0",children:[k.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-2 tracking-wider ml-2",children:H}),Array.from(se).map((pe,Se)=>k.jsx("button",{className:"w-full text-left px-3 py-2 text-sm rounded-lg hover:bg-[#f0f9ff] hover:text-[#3498db] text-gray-700 transition-colors",onClick:()=>{t(""),D(H,pe)},children:pe},Se))]},H))})]}),Object.keys(n).some(H=>{const se=n[H];return se&&se.length>0})&&k.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2 bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[k.jsx("span",{className:"text-sm font-semibold text-gray-500 mr-2",children:"Active Filters:"}),Object.entries(n).map(([H,se])=>se==null?void 0:se.map((pe,Se)=>k.jsxs("span",{className:`${pe.isNot?"bg-red-500":"bg-[#3498db]"} text-white text-sm px-3 py-1 rounded-full flex items-center gap-2 shadow-sm`,children:[k.jsxs("span",{className:"font-medium opacity-90 capitalize",children:[H,":"]}),k.jsx("span",{className:"font-bold",children:pe.value}),k.jsx("button",{onClick:()=>D(H,pe.value),className:"ml-1 hover:text-gray-200 transition-colors font-bold",children:""})]},`${H}-${Se}`))),k.jsx("button",{onClick:$,className:"text-sm text-[#3498db] hover:text-[#2980b9] font-semibold transition-colors ml-auto px-3 py-1",children:"Clear All"})]}),k.jsx("div",{className:"grid gap-4 mb-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[{key:"category",label:"Category",data:ve},{key:"book",label:"Book",data:Z},{key:"author",label:"Author",data:N},{key:"language",label:"Language",data:V},{key:"raagam",label:"Raagam",data:T}].map(({key:H,label:se,data:pe})=>k.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[k.jsxs("button",{onClick:()=>ue(H),className:"w-full text-left px-4 py-3 text-sm font-bold text-[#2c3e50] flex justify-between items-center hover:bg-gray-50 transition-colors bg-gray-50/50",children:[se,k.jsx("span",{className:`transform transition-transform duration-300 text-gray-400 ${w[H]?"":"rotate-180"}`,children:""})]}),k.jsx("div",{className:`overflow-hidden transition-all duration-300 ${w[H]?"max-h-0":"max-h-64 overflow-y-auto custom-scrollbar"}`,children:k.jsx("div",{className:"p-2",children:pe.map(Se=>k.jsxs("button",{onClick:()=>D(H,Se),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors text-sm mb-1 ${ee(H,Se)}`,children:[k.jsx("span",{className:"truncate mr-2",children:Se}),k.jsx("span",{className:"text-xs font-medium bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full",children:X(H,Se)})]},Se))})})]},H))}),k.jsx("div",{className:"mt-4",children:!e.trim()&&!Object.values(n).some(H=>H&&H.length>0)?k.jsxs("div",{className:"text-center py-20 bg-white rounded-xl border-2 border-dashed border-gray-200",children:[k.jsx("div",{className:"text-6xl mb-4 opacity-20",children:""}),k.jsx("p",{className:"text-xl text-gray-400 font-semibold",children:"Ready to Search"}),k.jsx("p",{className:"text-gray-400 mt-2 text-sm",children:"Enter a keyword or select a filter to find songs."})]}):k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsxs("h2",{className:"text-xl font-bold text-[#2c3e50]",children:["Results ",k.jsxs("span",{className:"text-gray-400 text-lg font-normal ml-2",children:["(",s.length,")"]})]}),k.jsxs("div",{className:"flex bg-white rounded-lg p-1 shadow-sm border border-gray-200",children:[k.jsx("button",{onClick:()=>u("cards"),className:`px-4 py-1.5 rounded-md text-sm font-semibold transition-all ${l==="cards"?"bg-[#3498db] text-white shadow-sm":"text-gray-500 hover:bg-gray-50"}`,children:"Cards"}),k.jsx("button",{onClick:()=>u("grid"),className:`px-4 py-1.5 rounded-md text-sm font-semibold transition-all ${l==="grid"?"bg-[#3498db] text-white shadow-sm":"text-gray-500 hover:bg-gray-50"}`,children:"List"})]})]}),s.length===0?k.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-200",children:[k.jsx("p",{className:"text-gray-400 text-lg",children:"No songs match your search."}),k.jsx("button",{onClick:$,className:"mt-4 text-[#3498db] font-semibold hover:underline",children:"Clear filters"})]}):k.jsx(k.Fragment,{children:!c&&s.length>p?k.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200 shadow-sm",children:[k.jsxs("p",{className:"text-lg text-gray-600 mb-2",children:["Found ",k.jsx("span",{className:"font-bold text-[#2c3e50]",children:s.length})," matches."]}),k.jsx("p",{className:"text-gray-400 mb-8 text-sm",children:"Refine your search or view all results."}),k.jsx("button",{onClick:()=>h(!0),className:"px-8 py-3 bg-[#3498db] hover:bg-[#2980b9] text-white rounded-full font-bold shadow-lg shadow-blue-200 transition-transform transform hover:scale-105",children:"Show All Results"})]}):k.jsx(k.Fragment,{children:l==="cards"?k.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.map((H,se)=>{const pe=he(H);return k.jsxs("div",{onClick:()=>B(H,se),className:`${q} p-5 cursor-pointer relative overflow-hidden group`,children:[k.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${H.isAvailable?"bg-[#3498db]":"bg-red-400"}`}),k.jsxs("div",{className:"pl-3",children:[k.jsx("h3",{className:"text-lg font-bold text-[#2c3e50] mb-3 leading-tight group-hover:text-[#3498db] transition-colors",children:v(H.title,H.language)}),k.jsxs("div",{className:"space-y-1.5",children:[k.jsxs("div",{className:"flex items-start text-sm",children:[k.jsx("span",{className:"text-gray-400 w-20 flex-shrink-0 text-xs uppercase tracking-wide mt-0.5",children:"Author"}),k.jsx("span",{className:"text-gray-700 font-medium",children:H.author})]}),k.jsxs("div",{className:"flex items-start text-sm",children:[k.jsx("span",{className:"text-gray-400 w-20 flex-shrink-0 text-xs uppercase tracking-wide mt-0.5",children:"Raagam"}),k.jsx("span",{className:"text-gray-700",children:H.raagam||"-"})]}),k.jsxs("div",{className:"flex items-start text-sm",children:[k.jsx("span",{className:"text-gray-400 w-20 flex-shrink-0 text-xs uppercase tracking-wide mt-0.5",children:"Taalam"}),k.jsx("span",{className:"text-gray-700",children:H.taaLam||"-"})]}),k.jsxs("div",{className:"flex items-start text-sm",children:[k.jsx("span",{className:"text-gray-400 w-20 flex-shrink-0 text-xs uppercase tracking-wide mt-0.5",children:"Book"}),k.jsx("span",{className:"text-gray-600 truncate",title:Array.isArray(H.book)?H.book.join(", "):H.book,children:K(H.book)})]})]})]})]},pe)})}):k.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:k.jsx("div",{className:"overflow-x-auto",children:k.jsxs("table",{className:"w-full text-left border-collapse",children:[k.jsx("thead",{children:k.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200 text-xs uppercase tracking-wider text-gray-500 font-semibold",children:[k.jsx("th",{className:"p-4",children:"Title"}),k.jsx("th",{className:"p-4 hidden md:table-cell",children:"Author"}),k.jsx("th",{className:"p-4 hidden md:table-cell",children:"Raagam"}),k.jsx("th",{className:"p-4 hidden md:table-cell",children:"Taalam"}),k.jsx("th",{className:"p-4 hidden lg:table-cell",children:"Book"}),k.jsx("th",{className:"p-4 hidden xl:table-cell",children:"Category"})]})}),k.jsx("tbody",{className:"text-sm text-[#2c3e50]",children:s.map((H,se)=>{const pe=he(H);return k.jsxs("tr",{onClick:()=>B(H,se),className:"border-b border-gray-100 hover:bg-blue-50/50 cursor-pointer transition-colors last:border-0",children:[k.jsxs("td",{className:"p-4 font-bold group",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx("div",{className:`w-1.5 h-8 rounded-full mr-3 ${H.isAvailable?"bg-[#3498db]":"bg-red-400"}`}),k.jsx("span",{className:"group-hover:text-[#3498db] transition-colors",children:v(H.title,H.language)})]}),k.jsxs("div",{className:"md:hidden mt-1 ml-4 text-xs text-gray-500 space-y-0.5",children:[k.jsx("div",{children:H.author}),k.jsx("div",{children:H.raagam})]})]}),k.jsx("td",{className:"p-4 hidden md:table-cell",children:H.author}),k.jsx("td",{className:"p-4 hidden md:table-cell",children:H.raagam||"-"}),k.jsx("td",{className:"p-4 hidden md:table-cell",children:H.taaLam||"-"}),k.jsx("td",{className:"p-4 hidden lg:table-cell text-gray-600",children:k.jsx("div",{className:"truncate max-w-xs",title:Array.isArray(H.book)?H.book.join(", "):H.book,children:K(H.book)})}),k.jsx("td",{className:"p-4 hidden xl:table-cell text-gray-600",children:k.jsx("div",{className:"truncate max-w-xs",children:K(H.category)})})]},pe)})})]})})})})})]})})]})})},Y5="thodaya-mangalam",Q5=()=>{const[e,t]=S.useState(""),n=async()=>{t("Exporting...");try{const r=await SD(Y5);if(!r){t("No data found for this book or download failed.");return}const s=r.songDetails.map(u=>u),i=r.songIndices.map(u=>{const{indexId:c,timestamp:h,...f}=u;return f}),o=r.songDetails.map(u=>{const{cacheId:c,timestamp:h,...f}=u;return f}),a={bookId:r.bookId,songIndices:i,songDetails:o},l=JSON.stringify(a,null,2);t(l)}catch(r){t(`Export failed: ${r.message}`)}};return k.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"20px"},children:[k.jsx("div",{style:{marginTop:"20px"},children:k.jsx("button",{onClick:n,style:{padding:"10px 20px",backgroundColor:"#58a",color:"white",border:"none",cursor:"pointer",marginRight:"10px"},children:"Export Book JSON (Debug)"})}),e&&k.jsxs("div",{style:{marginTop:"15px"},children:[k.jsx("h4",{children:"Exported JSON Structure:"}),k.jsx("pre",{style:{backgroundColor:"#f4f4f4",padding:"10px",maxHeight:"300px",overflow:"auto",fontSize:"small"},children:e})]})]})},J5=[{bookId:"ashtapadi",bookName:"ashtapadi"},{bookId:"thodaya-mangalam",bookName:"thodaya-mangalam"},{bookId:"guru-traya-dhyanam",bookName:"guru-traya-dhyanam"}],Z5=({book:e,userEmail:t})=>{const{status:n,downloadedCount:r,error:s,isDownloading:i,startBulkDownload:o}=B1(e.bookId,t),a=()=>i?"Downloading... ":n==="success"?`Complete! ${r} songs stored. `:n==="error"?`Failed! ${s} `:"Ready to Download";return k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px",borderBottom:"1px solid #eee"},children:[k.jsx("div",{style:{fontWeight:"bold"},children:e.bookName}),k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx("span",{style:{marginRight:"15px",fontSize:"small",color:i?"orange":n==="success"?"green":"gray"},children:a()}),k.jsx("button",{onClick:o,disabled:i,style:{padding:"5px 10px",backgroundColor:i?"#aaa":"#007bff",color:"white",border:"none",cursor:"pointer"},children:i?"Processing":"Bulk Download"})]})]})},X5=()=>{const e="test@example.com";return k.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[k.jsx("h2",{children:"Offline Content Manager"}),k.jsx("p",{children:"Manage and download full book content directly to local storage (Dexie)."}),k.jsx("div",{style:{border:"1px solid #ccc",borderRadius:"5px",marginTop:"15px"},children:J5.map(t=>k.jsx(Z5,{book:t,userEmail:e},t.bookId))})]})};function Zc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $C={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(u,c){if(!s[u]){if(!r[u]){var h=typeof Zc=="function"&&Zc;if(!c&&h)return h(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var p=s[u]={exports:{}};r[u][0].call(p.exports,function(w){var y=r[u][1][w];return o(y||w)},p,p.exports,n,r,s,i)}return s[u].exports}for(var a=typeof Zc=="function"&&Zc,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(n,r,s){var i=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var u,c,h,f,p,w,y,b=[],g=0,v=l.length,x=v,C=i.getTypeOf(l)!=="string";g<l.length;)x=v-g,h=C?(u=l[g++],c=g<v?l[g++]:0,g<v?l[g++]:0):(u=l.charCodeAt(g++),c=g<v?l.charCodeAt(g++):0,g<v?l.charCodeAt(g++):0),f=u>>2,p=(3&u)<<4|c>>4,w=1<x?(15&c)<<2|h>>6:64,y=2<x?63&h:64,b.push(a.charAt(f)+a.charAt(p)+a.charAt(w)+a.charAt(y));return b.join("")},s.decode=function(l){var u,c,h,f,p,w,y=0,b=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&x--,l.charAt(l.length-2)===a.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|x):new Array(0|x);y<l.length;)u=a.indexOf(l.charAt(y++))<<2|(f=a.indexOf(l.charAt(y++)))>>4,c=(15&f)<<4|(p=a.indexOf(l.charAt(y++)))>>2,h=(3&p)<<6|(w=a.indexOf(l.charAt(y++))),v[b++]=u,p!==64&&(v[b++]=c),w!==64&&(v[b++]=h);return v}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,h,f,p,w){this.compressedSize=c,this.uncompressedSize=h,this.crc32=f,this.compression=p,this.compressedContent=w}u.prototype={getContentWorker:function(){var c=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,f){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,c,h,f){var p=o,w=f+h;u^=-1;for(var y=f;y<w;y++)u=u>>>8^p[255&(u^c[y])];return-1^u}(0|l,a,a.length,0):function(u,c,h,f){var p=o,w=f+h;u^=-1;for(var y=f;y<w;y++)u=u>>>8^p[255&(u^c.charCodeAt(y))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=i?"uint8array":"array";function c(h,f){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}s.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},s.compressWorker=function(h){return new c("Deflate",h)},s.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(p,w){var y,b="";for(y=0;y<w;y++)b+=String.fromCharCode(255&p),p>>>=8;return b}function o(p,w,y,b,g,v){var x,C,j=p.file,I=p.compression,A=v!==u.utf8encode,D=a.transformTo("string",v(j.name)),$=a.transformTo("string",u.utf8encode(j.name)),B=j.comment,ue=a.transformTo("string",v(B)),N=a.transformTo("string",u.utf8encode(B)),V=$.length!==j.name.length,T=N.length!==B.length,Z="",ve="",G="",X=j.dir,ee=j.date,he={crc32:0,compressedSize:0,uncompressedSize:0};w&&!y||(he.crc32=p.crc32,he.compressedSize=p.compressedSize,he.uncompressedSize=p.uncompressedSize);var K=0;w&&(K|=8),A||!V&&!T||(K|=2048);var q=0,we=0;X&&(q|=16),g==="UNIX"?(we=798,q|=function(se,pe){var Se=se;return se||(Se=pe?16893:33204),(65535&Se)<<16}(j.unixPermissions,X)):(we=20,q|=function(se){return 63&(se||0)}(j.dosPermissions)),x=ee.getUTCHours(),x<<=6,x|=ee.getUTCMinutes(),x<<=5,x|=ee.getUTCSeconds()/2,C=ee.getUTCFullYear()-1980,C<<=4,C|=ee.getUTCMonth()+1,C<<=5,C|=ee.getUTCDate(),V&&(ve=i(1,1)+i(c(D),4)+$,Z+="up"+i(ve.length,2)+ve),T&&(G=i(1,1)+i(c(ue),4)+N,Z+="uc"+i(G.length,2)+G);var H="";return H+=`
\0`,H+=i(K,2),H+=I.magic,H+=i(x,2),H+=i(C,2),H+=i(he.crc32,4),H+=i(he.compressedSize,4),H+=i(he.uncompressedSize,4),H+=i(D.length,2),H+=i(Z.length,2),{fileRecord:h.LOCAL_FILE_HEADER+H+D+Z,dirRecord:h.CENTRAL_FILE_HEADER+i(we,2)+H+i(ue.length,2)+"\0\0\0\0"+i(q,4)+i(b,4)+D+Z+ue}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),h=n("../signature");function f(p,w,y,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(p){var w=p.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:y?(w+100*(y-b-1))/y:100}}))},f.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var w=this.streamFiles&&!p.file.dir;if(w){var y=o(p,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(p){this.accumulate=!1;var w=this.streamFiles&&!p.file.dir,y=o(p,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),w)this.push({data:function(b){return h.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var p=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var y=this.bytesWritten-p,b=function(g,v,x,C,j){var I=a.transformTo("string",j(C));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(g,2)+i(g,2)+i(v,4)+i(x,4)+i(I.length,2)+I}(this.dirRecords.length,y,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(p){this._sources.push(p);var w=this;return p.on("data",function(y){w.processChunk(y)}),p.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),p.on("error",function(y){w.error(y)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(p){var w=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var y=0;y<w.length;y++)try{w[y].error(p)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,w=0;w<p.length;w++)p[w].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{a.forEach(function(f,p){h++;var w=function(v,x){var C=v||x,j=i[C];if(!j)throw new Error(C+" is not a valid compression method !");return j}(p.options.compression,l.compression),y=p.options.compressionOptions||l.compressionOptions||{},b=p.dir,g=p.date;p._compressWorker(w,y).withStreamInfo("file",{name:f,dir:b,date:g,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(f){c.error(f)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function h(f){return new o.Promise(function(p,w){var y=f.decompressed.getContentWorker().pipe(new u);y.on("error",function(b){w(b)}).on("end",function(){y.streamInfo.crc32!==f.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(f,p){var w=this;return p=i.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",f,!0,p.optimizedBinaryString,p.base64).then(function(y){var b=new l(p);return b.load(y),b}).then(function(y){var b=[o.Promise.resolve(y)],g=y.files;if(p.checkCRC32)for(var v=0;v<g.length;v++)b.push(h(g[v]));return o.Promise.all(b)}).then(function(y){for(var b=y.shift(),g=b.files,v=0;v<g.length;v++){var x=g[v],C=x.fileNameStr,j=i.resolve(x.fileNameStr);w.file(j,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:p.createFolders}),x.dir||(w.file(j).unsafeOriginalName=C)}return b.zipComment.length&&(w.comment=b.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function o(a,l,u){i.call(this,l),this._helper=a;var c=this;a.on("data",function(h,f){c.push(h)||c._helper.pause(),u&&u(f)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(j,I,A){var D,$=a.getTypeOf(I),B=a.extend(A||{},c);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(j=g(j)),B.createFolders&&(D=b(j))&&v.call(this,D,!0);var ue=$==="string"&&B.binary===!1&&B.base64===!1;A&&A.binary!==void 0||(B.binary=!ue),(I instanceof h&&I.uncompressedSize===0||B.dir||!I||I.length===0)&&(B.base64=!1,B.binary=!0,I="",B.compression="STORE",$="string");var N=null;N=I instanceof h||I instanceof l?I:w.isNode&&w.isStream(I)?new y(j,I):a.prepareContent(j,I,B.binary,B.optimizedBinaryString,B.base64);var V=new f(j,N,B);this.files[j]=V}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),h=n("./compressedObject"),f=n("./zipObject"),p=n("./generate"),w=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),b=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var I=j.lastIndexOf("/");return 0<I?j.substring(0,I):""},g=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},v=function(j,I){return I=I!==void 0?I:c.createFolders,j=g(j),this.files[j]||i.call(this,j,null,{dir:!0,createFolders:I}),this.files[j]};function x(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var I,A,D;for(I in this.files)D=this.files[I],(A=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&j(A,D)},filter:function(j){var I=[];return this.forEach(function(A,D){j(A,D)&&I.push(D)}),I},file:function(j,I,A){if(arguments.length!==1)return j=this.root+j,i.call(this,j,I,A),this;if(x(j)){var D=j;return this.filter(function(B,ue){return!ue.dir&&D.test(B)})}var $=this.files[this.root+j];return $&&!$.dir?$:null},folder:function(j){if(!j)return this;if(x(j))return this.filter(function($,B){return B.dir&&j.test($)});var I=this.root+j,A=v.call(this,I),D=this.clone();return D.root=A.name,D},remove:function(j){j=this.root+j;var I=this.files[j];if(I||(j.slice(-1)!=="/"&&(j+="/"),I=this.files[j]),I&&!I.dir)delete this.files[j];else for(var A=this.filter(function($,B){return B.name.slice(0,j.length)===j}),D=0;D<A.length;D++)delete this.files[A[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var I,A={};try{if((A=a.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");a.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var D=A.comment||this.comment||"";I=p.generateWorker(this,A,D)}catch($){(I=new l("error")).error($)}return new u(I,A.type||"string",A.mimeType)},generateAsync:function(j,I){return this.generateInternalStream(j).accumulate(I)},generateNodeStream:function(j,I){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(I)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),h=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===u&&this.data[f+2]===c&&this.data[f+3]===h)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),h=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&u===f[1]&&c===f[2]&&h===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(h){var f=i.getTypeOf(h);return i.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new u(h):o.uint8array?new c(i.transformTo("uint8array",h)):new a(i.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),o=n("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),o=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=i.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(w,y){return new c.Promise(function(b,g){var v=[],x=w._internalType,C=w._outputType,j=w._mimeType;w.on("data",function(I,A){v.push(I),y&&y(A)}).on("error",function(I){v=[],g(I)}).on("end",function(){try{var I=function(A,D,$){switch(A){case"blob":return i.newBlob(i.transformTo("arraybuffer",D),$);case"base64":return l.encode(D);default:return i.transformTo(A,D)}}(C,function(A,D){var $,B=0,ue=null,N=0;for($=0;$<D.length;$++)N+=D[$].length;switch(A){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(ue=new Uint8Array(N),$=0;$<D.length;$++)ue.set(D[$],B),B+=D[$].length;return ue;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+A+"'")}}(x,v),j);b(I)}catch(A){g(A)}v=[]}).resume()})}function p(w,y,b){var g=y;switch(y){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=y,this._mimeType=b,i.checkSupport(g),this._worker=w.pipe(new o(g)),w.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}p.prototype={accumulate:function(w){return f(this,w)},on:function(w,y){var b=this;return w==="data"?this._worker.on(w,function(g){y.call(b,g.data,g.meta)}):this._worker.on(w,function(){i.delay(y,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},w)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}s.utf8encode=function(p){return o.nodebuffer?a.newBufferFrom(p,"utf-8"):function(w){var y,b,g,v,x,C=w.length,j=0;for(v=0;v<C;v++)(64512&(b=w.charCodeAt(v)))==55296&&v+1<C&&(64512&(g=w.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),v++),j+=b<128?1:b<2048?2:b<65536?3:4;for(y=o.uint8array?new Uint8Array(j):new Array(j),v=x=0;x<j;v++)(64512&(b=w.charCodeAt(v)))==55296&&v+1<C&&(64512&(g=w.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),v++),b<128?y[x++]=b:(b<2048?y[x++]=192|b>>>6:(b<65536?y[x++]=224|b>>>12:(y[x++]=240|b>>>18,y[x++]=128|b>>>12&63),y[x++]=128|b>>>6&63),y[x++]=128|63&b);return y}(p)},s.utf8decode=function(p){return o.nodebuffer?i.transformTo("nodebuffer",p).toString("utf-8"):function(w){var y,b,g,v,x=w.length,C=new Array(2*x);for(y=b=0;y<x;)if((g=w[y++])<128)C[b++]=g;else if(4<(v=u[g]))C[b++]=65533,y+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&y<x;)g=g<<6|63&w[y++],v--;1<v?C[b++]=65533:g<65536?C[b++]=g:(g-=65536,C[b++]=55296|g>>10&1023,C[b++]=56320|1023&g)}return C.length!==b&&(C.subarray?C=C.subarray(0,b):C.length=b),i.applyFromCharCode(C)}(p=i.transformTo(o.uint8array?"uint8array":"array",p))},i.inherits(h,l),h.prototype.processChunk=function(p){var w=i.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=w;(w=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),w.set(y,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var b=function(v,x){var C;for((x=x||v.length)>v.length&&(x=v.length),C=x-1;0<=C&&(192&v[C])==128;)C--;return C<0||C===0?x:C+u[v[C]]>x?C:x}(w),g=w;b!==w.length&&(o.uint8array?(g=w.subarray(0,b),this.leftOver=w.subarray(b,w.length)):(g=w.slice(0,b),this.leftOver=w.slice(b,w.length))),this.push({data:s.utf8decode(g),meta:p.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=h,i.inherits(f,l),f.prototype.processChunk=function(p){this.push({data:s.utf8encode(p.data),meta:p.meta})},s.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(y){return y}function c(y,b){for(var g=0;g<y.length;++g)b[g]=255&y.charCodeAt(g);return b}n("setimmediate"),s.newBlob=function(y,b){s.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(y),g.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(y,b,g){var v=[],x=0,C=y.length;if(C<=g)return String.fromCharCode.apply(null,y);for(;x<C;)b==="array"||b==="nodebuffer"?v.push(String.fromCharCode.apply(null,y.slice(x,Math.min(x+g,C)))):v.push(String.fromCharCode.apply(null,y.subarray(x,Math.min(x+g,C)))),x+=g;return v.join("")},stringifyByChar:function(y){for(var b="",g=0;g<y.length;g++)b+=String.fromCharCode(y[g]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(y){var b=65536,g=s.getTypeOf(y),v=!0;if(g==="uint8array"?v=h.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=h.applyCanBeUsed.nodebuffer),v)for(;1<b;)try{return h.stringifyByChunk(y,g,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(y)}function p(y,b){for(var g=0;g<y.length;g++)b[g]=y[g];return b}s.applyFromCharCode=f;var w={};w.string={string:u,array:function(y){return c(y,new Array(y.length))},arraybuffer:function(y){return w.string.uint8array(y).buffer},uint8array:function(y){return c(y,new Uint8Array(y.length))},nodebuffer:function(y){return c(y,a.allocBuffer(y.length))}},w.array={string:f,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},w.arraybuffer={string:function(y){return f(new Uint8Array(y))},array:function(y){return p(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},w.uint8array={string:f,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return a.newBufferFrom(y)}},w.nodebuffer={string:f,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return w.nodebuffer.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:u},s.transformTo=function(y,b){if(b=b||"",!y)return b;s.checkSupport(y);var g=s.getTypeOf(b);return w[g][y](b)},s.resolve=function(y){for(var b=y.split("/"),g=[],v=0;v<b.length;v++){var x=b[v];x==="."||x===""&&v!==0&&v!==b.length-1||(x===".."?g.pop():g.push(x))}return g.join("/")},s.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(y)?"nodebuffer":i.uint8array&&y instanceof Uint8Array?"uint8array":i.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(y){if(!i[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(y){var b,g,v="";for(g=0;g<(y||"").length;g++)v+="\\x"+((b=y.charCodeAt(g))<16?"0":"")+b.toString(16).toUpperCase();return v},s.delay=function(y,b,g){setImmediate(function(){y.apply(g||null,b||[])})},s.inherits=function(y,b){function g(){}g.prototype=b.prototype,y.prototype=new g},s.extend=function(){var y,b,g={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&g[b]===void 0&&(g[b]=arguments[y][b]);return g},s.prepareContent=function(y,b,g,v,x){return l.Promise.resolve(b).then(function(C){return i.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(j,I){var A=new FileReader;A.onload=function(D){j(D.target.result)},A.onerror=function(D){I(D.target.error)},A.readAsArrayBuffer(C)}):C}).then(function(C){var j=s.getTypeOf(C);return j?(j==="arraybuffer"?C=s.transformTo("uint8array",C):j==="string"&&(x?C=o.decode(C):g&&v!==!0&&(C=function(I){return c(I,i.uint8array?new Uint8Array(I.length):new Array(I.length))}(C))),C):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(h)+")")}},isSignature:function(h,f){var p=this.reader.index;this.reader.setIndex(h);var w=this.reader.readString(4)===f;return this.reader.setIndex(p),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",p=o.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,p,w=this.zip64EndOfCentralSize-44;0<w;)h=this.reader.readInt(2),f=this.reader.readInt(4),p=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var w=f-p;if(0<w)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),h=n("./support");function f(p,w){this.options=p,this.loadOptions=w}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var w,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(b){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===b)return c[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,w,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var w=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(w),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var w,y,b,g=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<g;)w=p.readInt(2),y=p.readInt(2),b=p.readData(y),this.extraFields[w]={id:w,length:y,value:b};p.setIndex(g)},handleUTF8:function(){var p=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var y=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var g=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var w=i(p.value);return w.readInt(1)!==1||l(this.fileName)!==w.readInt(4)?null:u.utf8decode(w.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var w=i(p.value);return w.readInt(1)!==1||l(this.fileComment)!==w.readInt(4)?null:u.utf8decode(w.readData(p.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(w,y,b){this.name=w,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");i.prototype={internalStream:function(w){var y=null,b="string";try{if(!w)throw new Error("No output type specified.");var g=(b=w.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(y=y.pipe(new l.Utf8EncodeWorker)),!v&&g&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(x){(y=new c("error")).error(x)}return new o(y,b,"")},async:function(w,y){return this.internalStream(w).accumulate(y)},nodeStream:function(w,y){return this.internalStream(w||"nodebuffer").toNodejsStream(y)},_compressWorker:function(w,y){if(this._data instanceof u&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(b,w,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<h.length;p++)i.prototype[h[p]]=f;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var o,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var u=0,c=new l(w),h=i.document.createTextNode("");c.observe(h,{characterData:!0}),o=function(){h.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var y=i.document.createElement("script");y.onreadystatechange=function(){w(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},i.document.documentElement.appendChild(y)}:function(){setTimeout(w,0)};else{var f=new i.MessageChannel;f.port1.onmessage=w,o=function(){f.port2.postMessage(0)}}var p=[];function w(){var y,b;a=!0;for(var g=p.length;g;){for(b=p,p=[],y=-1;++y<g;)b[y]();g=p.length}a=!1}r.exports=function(y){p.push(y)!==1||a||o()}}).call(this,typeof Wt<"u"?Wt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==o&&y(this,g)}function f(g,v,x){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function p(g,v,x){i(function(){var C;try{C=v(x)}catch(j){return a.reject(g,j)}C===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,C)})}function w(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function y(g,v){var x=!1;function C(A){x||(x=!0,a.reject(g,A))}function j(A){x||(x=!0,a.resolve(g,A))}var I=b(function(){v(j,C)});I.status==="error"&&C(I.value)}function b(g,v){var x={};try{x.value=g(v),x.status="success"}catch(C){x.status="error",x.value=C}return x}(r.exports=h).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(x){return v.resolve(g()).then(function(){return x})},function(x){return v.resolve(g()).then(function(){throw x})})},h.prototype.catch=function(g){return this.then(null,g)},h.prototype.then=function(g,v){if(typeof g!="function"&&this.state===u||typeof v!="function"&&this.state===l)return this;var x=new this.constructor(o);return this.state!==c?p(x,this.state===u?g:v,this.outcome):this.queue.push(new f(x,g,v)),x},f.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},f.prototype.otherCallFulfilled=function(g){p(this.promise,this.onFulfilled,g)},f.prototype.callRejected=function(g){a.reject(this.promise,g)},f.prototype.otherCallRejected=function(g){p(this.promise,this.onRejected,g)},a.resolve=function(g,v){var x=b(w,v);if(x.status==="error")return a.reject(g,x.value);var C=x.value;if(C)y(g,C);else{g.state=u,g.outcome=v;for(var j=-1,I=g.queue.length;++j<I;)g.queue[j].callFulfilled(v)}return g},a.reject=function(g,v){g.state=l,g.outcome=v;for(var x=-1,C=g.queue.length;++x<C;)g.queue[x].callRejected(v);return g},h.resolve=function(g){return g instanceof this?g:a.resolve(new this(o),g)},h.reject=function(g){var v=new this(o);return a.reject(v,g)},h.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,C=!1;if(!x)return this.resolve([]);for(var j=new Array(x),I=0,A=-1,D=new this(o);++A<x;)$(g[A],A);return D;function $(B,ue){v.resolve(B).then(function(N){j[ue]=N,++I!==x||C||(C=!0,a.resolve(D,j))},function(N){C||(C=!0,a.reject(D,N))})}},h.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,C=!1;if(!x)return this.resolve([]);for(var j=-1,I=new this(o);++j<x;)A=g[j],v.resolve(A).then(function(D){C||(C=!0,a.resolve(I,D))},function(D){C||(C=!0,a.reject(I,D))});var A;return I}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,h=0,f=-1,p=0,w=8;function y(g){if(!(this instanceof y))return new y(g);this.options=o.assign({level:f,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(x!==h)throw new Error(l[x]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var C;if(C=typeof v.dictionary=="string"?a.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(x=i.deflateSetDictionary(this.strm,C))!==h)throw new Error(l[x]);this._dict_set=!0}}function b(g,v){var x=new y(v);if(x.push(g,!0),x.err)throw x.msg||l[x.err];return x.result}y.prototype.push=function(g,v){var x,C,j=this.strm,I=this.options.chunkSize;if(this.ended)return!1;C=v===~~v?v:v===!0?4:0,typeof g=="string"?j.input=a.string2buf(g):c.call(g)==="[object ArrayBuffer]"?j.input=new Uint8Array(g):j.input=g,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new o.Buf8(I),j.next_out=0,j.avail_out=I),(x=i.deflate(j,C))!==1&&x!==h)return this.onEnd(x),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(j.output,j.next_out))):this.onData(o.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&x!==1);return C===4?(x=i.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h):C!==2||(this.onEnd(h),!(j.avail_out=0))},y.prototype.onData=function(g){this.chunks.push(g)},y.prototype.onEnd=function(g){g===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Deflate=y,s.deflate=b,s.deflateRaw=function(g,v){return(v=v||{}).raw=!0,b(g,v)},s.gzip=function(g,v){return(v=v||{}).gzip=!0,b(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),h=n("./zlib/gzheader"),f=Object.prototype.toString;function p(y){if(!(this instanceof p))return new p(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var g=i.inflateInit2(this.strm,b.windowBits);if(g!==l.Z_OK)throw new Error(u[g]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function w(y,b){var g=new p(b);if(g.push(y,!0),g.err)throw g.msg||u[g.err];return g.result}p.prototype.push=function(y,b){var g,v,x,C,j,I,A=this.strm,D=this.options.chunkSize,$=this.options.dictionary,B=!1;if(this.ended)return!1;v=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?A.input=a.binstring2buf(y):f.call(y)==="[object ArrayBuffer]"?A.input=new Uint8Array(y):A.input=y,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(D),A.next_out=0,A.avail_out=D),(g=i.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&$&&(I=typeof $=="string"?a.string2buf($):f.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,g=i.inflateSetDictionary(this.strm,I)),g===l.Z_BUF_ERROR&&B===!0&&(g=l.Z_OK,B=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&g!==l.Z_STREAM_END&&(A.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=a.utf8border(A.output,A.next_out),C=A.next_out-x,j=a.buf2string(A.output,x),A.next_out=C,A.avail_out=D-C,C&&o.arraySet(A.output,A.output,x,C,0),this.onData(j)):this.onData(o.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(B=!0)}while((0<A.avail_in||A.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(g=i.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Inflate=p,s.inflate=w,s.inflateRaw=function(y,b){return(b=b||{}).raw=!0,w(y,b)},s.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},s.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,h,f){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),f);else for(var p=0;p<h;p++)l[f+p]=u[c+p]},flattenChunks:function(l){var u,c,h,f,p,w;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(w=new Uint8Array(h),u=f=0,c=l.length;u<c;u++)p=l[u],w.set(p,f),f+=p.length;return w}},a={arraySet:function(l,u,c,h,f){for(var p=0;p<h;p++)l[f+p]=u[c+p]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,f){if(f<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(h,f));for(var p="",w=0;w<f;w++)p+=String.fromCharCode(h[w]);return p}l[254]=l[254]=1,s.string2buf=function(h){var f,p,w,y,b,g=h.length,v=0;for(y=0;y<g;y++)(64512&(p=h.charCodeAt(y)))==55296&&y+1<g&&(64512&(w=h.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(w-56320),y++),v+=p<128?1:p<2048?2:p<65536?3:4;for(f=new i.Buf8(v),y=b=0;b<v;y++)(64512&(p=h.charCodeAt(y)))==55296&&y+1<g&&(64512&(w=h.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(w-56320),y++),p<128?f[b++]=p:(p<2048?f[b++]=192|p>>>6:(p<65536?f[b++]=224|p>>>12:(f[b++]=240|p>>>18,f[b++]=128|p>>>12&63),f[b++]=128|p>>>6&63),f[b++]=128|63&p);return f},s.buf2binstring=function(h){return c(h,h.length)},s.binstring2buf=function(h){for(var f=new i.Buf8(h.length),p=0,w=f.length;p<w;p++)f[p]=h.charCodeAt(p);return f},s.buf2string=function(h,f){var p,w,y,b,g=f||h.length,v=new Array(2*g);for(p=w=0;p<g;)if((y=h[p++])<128)v[w++]=y;else if(4<(b=l[y]))v[w++]=65533,p+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&p<g;)y=y<<6|63&h[p++],b--;1<b?v[w++]=65533:y<65536?v[w++]=y:(y-=65536,v[w++]=55296|y>>10&1023,v[w++]=56320|1023&y)}return c(v,w)},s.utf8border=function(h,f){var p;for((f=f||h.length)>h.length&&(f=h.length),p=f-1;0<=p&&(192&h[p])==128;)p--;return p<0||p===0?f:p+l[h[p]]>f?p:f}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,o,a,l){for(var u=65535&i|0,c=i>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var c=i,h=u+l;o^=-1;for(var f=u;f<h;f++)o=o>>>8^c[255&(o^a[f])];return-1^o}},{}],46:[function(n,r,s){var i,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),h=0,f=4,p=0,w=-2,y=-1,b=4,g=2,v=8,x=9,C=286,j=30,I=19,A=2*C+1,D=15,$=3,B=258,ue=B+$+1,N=42,V=113,T=1,Z=2,ve=3,G=4;function X(P,ge){return P.msg=c[ge],ge}function ee(P){return(P<<1)-(4<P?9:0)}function he(P){for(var ge=P.length;0<=--ge;)P[ge]=0}function K(P){var ge=P.state,me=ge.pending;me>P.avail_out&&(me=P.avail_out),me!==0&&(o.arraySet(P.output,ge.pending_buf,ge.pending_out,me,P.next_out),P.next_out+=me,ge.pending_out+=me,P.total_out+=me,P.avail_out-=me,ge.pending-=me,ge.pending===0&&(ge.pending_out=0))}function q(P,ge){a._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,ge),P.block_start=P.strstart,K(P.strm)}function we(P,ge){P.pending_buf[P.pending++]=ge}function H(P,ge){P.pending_buf[P.pending++]=ge>>>8&255,P.pending_buf[P.pending++]=255&ge}function se(P,ge){var me,F,M=P.max_chain_length,re=P.strstart,xe=P.prev_length,be=P.nice_match,de=P.strstart>P.w_size-ue?P.strstart-(P.w_size-ue):0,ke=P.window,Le=P.w_mask,Ce=P.prev,Ue=P.strstart+B,rt=ke[re+xe-1],Je=ke[re+xe];P.prev_length>=P.good_match&&(M>>=2),be>P.lookahead&&(be=P.lookahead);do if(ke[(me=ge)+xe]===Je&&ke[me+xe-1]===rt&&ke[me]===ke[re]&&ke[++me]===ke[re+1]){re+=2,me++;do;while(ke[++re]===ke[++me]&&ke[++re]===ke[++me]&&ke[++re]===ke[++me]&&ke[++re]===ke[++me]&&ke[++re]===ke[++me]&&ke[++re]===ke[++me]&&ke[++re]===ke[++me]&&ke[++re]===ke[++me]&&re<Ue);if(F=B-(Ue-re),re=Ue-B,xe<F){if(P.match_start=ge,be<=(xe=F))break;rt=ke[re+xe-1],Je=ke[re+xe]}}while((ge=Ce[ge&Le])>de&&--M!=0);return xe<=P.lookahead?xe:P.lookahead}function pe(P){var ge,me,F,M,re,xe,be,de,ke,Le,Ce=P.w_size;do{if(M=P.window_size-P.lookahead-P.strstart,P.strstart>=Ce+(Ce-ue)){for(o.arraySet(P.window,P.window,Ce,Ce,0),P.match_start-=Ce,P.strstart-=Ce,P.block_start-=Ce,ge=me=P.hash_size;F=P.head[--ge],P.head[ge]=Ce<=F?F-Ce:0,--me;);for(ge=me=Ce;F=P.prev[--ge],P.prev[ge]=Ce<=F?F-Ce:0,--me;);M+=Ce}if(P.strm.avail_in===0)break;if(xe=P.strm,be=P.window,de=P.strstart+P.lookahead,ke=M,Le=void 0,Le=xe.avail_in,ke<Le&&(Le=ke),me=Le===0?0:(xe.avail_in-=Le,o.arraySet(be,xe.input,xe.next_in,Le,de),xe.state.wrap===1?xe.adler=l(xe.adler,be,Le,de):xe.state.wrap===2&&(xe.adler=u(xe.adler,be,Le,de)),xe.next_in+=Le,xe.total_in+=Le,Le),P.lookahead+=me,P.lookahead+P.insert>=$)for(re=P.strstart-P.insert,P.ins_h=P.window[re],P.ins_h=(P.ins_h<<P.hash_shift^P.window[re+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[re+$-1])&P.hash_mask,P.prev[re&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=re,re++,P.insert--,!(P.lookahead+P.insert<$)););}while(P.lookahead<ue&&P.strm.avail_in!==0)}function Se(P,ge){for(var me,F;;){if(P.lookahead<ue){if(pe(P),P.lookahead<ue&&ge===h)return T;if(P.lookahead===0)break}if(me=0,P.lookahead>=$&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,me=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),me!==0&&P.strstart-me<=P.w_size-ue&&(P.match_length=se(P,me)),P.match_length>=$)if(F=a._tr_tally(P,P.strstart-P.match_start,P.match_length-$),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=$){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,me=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else F=a._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(F&&(q(P,!1),P.strm.avail_out===0))return T}return P.insert=P.strstart<$-1?P.strstart:$-1,ge===f?(q(P,!0),P.strm.avail_out===0?ve:G):P.last_lit&&(q(P,!1),P.strm.avail_out===0)?T:Z}function je(P,ge){for(var me,F,M;;){if(P.lookahead<ue){if(pe(P),P.lookahead<ue&&ge===h)return T;if(P.lookahead===0)break}if(me=0,P.lookahead>=$&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,me=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=$-1,me!==0&&P.prev_length<P.max_lazy_match&&P.strstart-me<=P.w_size-ue&&(P.match_length=se(P,me),P.match_length<=5&&(P.strategy===1||P.match_length===$&&4096<P.strstart-P.match_start)&&(P.match_length=$-1)),P.prev_length>=$&&P.match_length<=P.prev_length){for(M=P.strstart+P.lookahead-$,F=a._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-$),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=M&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,me=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=$-1,P.strstart++,F&&(q(P,!1),P.strm.avail_out===0))return T}else if(P.match_available){if((F=a._tr_tally(P,0,P.window[P.strstart-1]))&&q(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return T}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(F=a._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<$-1?P.strstart:$-1,ge===f?(q(P,!0),P.strm.avail_out===0?ve:G):P.last_lit&&(q(P,!1),P.strm.avail_out===0)?T:Z}function ce(P,ge,me,F,M){this.good_length=P,this.max_lazy=ge,this.nice_length=me,this.max_chain=F,this.func=M}function ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*A),this.dyn_dtree=new o.Buf16(2*(2*j+1)),this.bl_tree=new o.Buf16(2*(2*I+1)),he(this.dyn_ltree),he(this.dyn_dtree),he(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(D+1),this.heap=new o.Buf16(2*C+1),he(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*C+1),he(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ve(P){var ge;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=g,(ge=P.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?N:V,P.adler=ge.wrap===2?0:1,ge.last_flush=h,a._tr_init(ge),p):X(P,w)}function Ke(P){var ge=Ve(P);return ge===p&&function(me){me.window_size=2*me.w_size,he(me.head),me.max_lazy_match=i[me.level].max_lazy,me.good_match=i[me.level].good_length,me.nice_match=i[me.level].nice_length,me.max_chain_length=i[me.level].max_chain,me.strstart=0,me.block_start=0,me.lookahead=0,me.insert=0,me.match_length=me.prev_length=$-1,me.match_available=0,me.ins_h=0}(P.state),ge}function ct(P,ge,me,F,M,re){if(!P)return w;var xe=1;if(ge===y&&(ge=6),F<0?(xe=0,F=-F):15<F&&(xe=2,F-=16),M<1||x<M||me!==v||F<8||15<F||ge<0||9<ge||re<0||b<re)return X(P,w);F===8&&(F=9);var be=new ze;return(P.state=be).strm=P,be.wrap=xe,be.gzhead=null,be.w_bits=F,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=M+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+$-1)/$),be.window=new o.Buf8(2*be.w_size),be.head=new o.Buf16(be.hash_size),be.prev=new o.Buf16(be.w_size),be.lit_bufsize=1<<M+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new o.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=ge,be.strategy=re,be.method=me,Ke(P)}i=[new ce(0,0,0,0,function(P,ge){var me=65535;for(me>P.pending_buf_size-5&&(me=P.pending_buf_size-5);;){if(P.lookahead<=1){if(pe(P),P.lookahead===0&&ge===h)return T;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var F=P.block_start+me;if((P.strstart===0||P.strstart>=F)&&(P.lookahead=P.strstart-F,P.strstart=F,q(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-ue&&(q(P,!1),P.strm.avail_out===0))return T}return P.insert=0,ge===f?(q(P,!0),P.strm.avail_out===0?ve:G):(P.strstart>P.block_start&&(q(P,!1),P.strm.avail_out),T)}),new ce(4,4,8,4,Se),new ce(4,5,16,8,Se),new ce(4,6,32,32,Se),new ce(4,4,16,16,je),new ce(8,16,32,32,je),new ce(8,16,128,128,je),new ce(8,32,128,256,je),new ce(32,128,258,1024,je),new ce(32,258,258,4096,je)],s.deflateInit=function(P,ge){return ct(P,ge,v,15,8,0)},s.deflateInit2=ct,s.deflateReset=Ke,s.deflateResetKeep=Ve,s.deflateSetHeader=function(P,ge){return P&&P.state?P.state.wrap!==2?w:(P.state.gzhead=ge,p):w},s.deflate=function(P,ge){var me,F,M,re;if(!P||!P.state||5<ge||ge<0)return P?X(P,w):w;if(F=P.state,!P.output||!P.input&&P.avail_in!==0||F.status===666&&ge!==f)return X(P,P.avail_out===0?-5:w);if(F.strm=P,me=F.last_flush,F.last_flush=ge,F.status===N)if(F.wrap===2)P.adler=0,we(F,31),we(F,139),we(F,8),F.gzhead?(we(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),we(F,255&F.gzhead.time),we(F,F.gzhead.time>>8&255),we(F,F.gzhead.time>>16&255),we(F,F.gzhead.time>>24&255),we(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),we(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(we(F,255&F.gzhead.extra.length),we(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(P.adler=u(P.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(we(F,0),we(F,0),we(F,0),we(F,0),we(F,0),we(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),we(F,3),F.status=V);else{var xe=v+(F.w_bits-8<<4)<<8;xe|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(xe|=32),xe+=31-xe%31,F.status=V,H(F,xe),F.strstart!==0&&(H(F,P.adler>>>16),H(F,65535&P.adler)),P.adler=1}if(F.status===69)if(F.gzhead.extra){for(M=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>M&&(P.adler=u(P.adler,F.pending_buf,F.pending-M,M)),K(P),M=F.pending,F.pending!==F.pending_buf_size));)we(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>M&&(P.adler=u(P.adler,F.pending_buf,F.pending-M,M)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){M=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>M&&(P.adler=u(P.adler,F.pending_buf,F.pending-M,M)),K(P),M=F.pending,F.pending===F.pending_buf_size)){re=1;break}re=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,we(F,re)}while(re!==0);F.gzhead.hcrc&&F.pending>M&&(P.adler=u(P.adler,F.pending_buf,F.pending-M,M)),re===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){M=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>M&&(P.adler=u(P.adler,F.pending_buf,F.pending-M,M)),K(P),M=F.pending,F.pending===F.pending_buf_size)){re=1;break}re=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,we(F,re)}while(re!==0);F.gzhead.hcrc&&F.pending>M&&(P.adler=u(P.adler,F.pending_buf,F.pending-M,M)),re===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&K(P),F.pending+2<=F.pending_buf_size&&(we(F,255&P.adler),we(F,P.adler>>8&255),P.adler=0,F.status=V)):F.status=V),F.pending!==0){if(K(P),P.avail_out===0)return F.last_flush=-1,p}else if(P.avail_in===0&&ee(ge)<=ee(me)&&ge!==f)return X(P,-5);if(F.status===666&&P.avail_in!==0)return X(P,-5);if(P.avail_in!==0||F.lookahead!==0||ge!==h&&F.status!==666){var be=F.strategy===2?function(de,ke){for(var Le;;){if(de.lookahead===0&&(pe(de),de.lookahead===0)){if(ke===h)return T;break}if(de.match_length=0,Le=a._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++,Le&&(q(de,!1),de.strm.avail_out===0))return T}return de.insert=0,ke===f?(q(de,!0),de.strm.avail_out===0?ve:G):de.last_lit&&(q(de,!1),de.strm.avail_out===0)?T:Z}(F,ge):F.strategy===3?function(de,ke){for(var Le,Ce,Ue,rt,Je=de.window;;){if(de.lookahead<=B){if(pe(de),de.lookahead<=B&&ke===h)return T;if(de.lookahead===0)break}if(de.match_length=0,de.lookahead>=$&&0<de.strstart&&(Ce=Je[Ue=de.strstart-1])===Je[++Ue]&&Ce===Je[++Ue]&&Ce===Je[++Ue]){rt=de.strstart+B;do;while(Ce===Je[++Ue]&&Ce===Je[++Ue]&&Ce===Je[++Ue]&&Ce===Je[++Ue]&&Ce===Je[++Ue]&&Ce===Je[++Ue]&&Ce===Je[++Ue]&&Ce===Je[++Ue]&&Ue<rt);de.match_length=B-(rt-Ue),de.match_length>de.lookahead&&(de.match_length=de.lookahead)}if(de.match_length>=$?(Le=a._tr_tally(de,1,de.match_length-$),de.lookahead-=de.match_length,de.strstart+=de.match_length,de.match_length=0):(Le=a._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++),Le&&(q(de,!1),de.strm.avail_out===0))return T}return de.insert=0,ke===f?(q(de,!0),de.strm.avail_out===0?ve:G):de.last_lit&&(q(de,!1),de.strm.avail_out===0)?T:Z}(F,ge):i[F.level].func(F,ge);if(be!==ve&&be!==G||(F.status=666),be===T||be===ve)return P.avail_out===0&&(F.last_flush=-1),p;if(be===Z&&(ge===1?a._tr_align(F):ge!==5&&(a._tr_stored_block(F,0,0,!1),ge===3&&(he(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),K(P),P.avail_out===0))return F.last_flush=-1,p}return ge!==f?p:F.wrap<=0?1:(F.wrap===2?(we(F,255&P.adler),we(F,P.adler>>8&255),we(F,P.adler>>16&255),we(F,P.adler>>24&255),we(F,255&P.total_in),we(F,P.total_in>>8&255),we(F,P.total_in>>16&255),we(F,P.total_in>>24&255)):(H(F,P.adler>>>16),H(F,65535&P.adler)),K(P),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?p:1)},s.deflateEnd=function(P){var ge;return P&&P.state?(ge=P.state.status)!==N&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==V&&ge!==666?X(P,w):(P.state=null,ge===V?X(P,-3):p):w},s.deflateSetDictionary=function(P,ge){var me,F,M,re,xe,be,de,ke,Le=ge.length;if(!P||!P.state||(re=(me=P.state).wrap)===2||re===1&&me.status!==N||me.lookahead)return w;for(re===1&&(P.adler=l(P.adler,ge,Le,0)),me.wrap=0,Le>=me.w_size&&(re===0&&(he(me.head),me.strstart=0,me.block_start=0,me.insert=0),ke=new o.Buf8(me.w_size),o.arraySet(ke,ge,Le-me.w_size,me.w_size,0),ge=ke,Le=me.w_size),xe=P.avail_in,be=P.next_in,de=P.input,P.avail_in=Le,P.next_in=0,P.input=ge,pe(me);me.lookahead>=$;){for(F=me.strstart,M=me.lookahead-($-1);me.ins_h=(me.ins_h<<me.hash_shift^me.window[F+$-1])&me.hash_mask,me.prev[F&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=F,F++,--M;);me.strstart=F,me.lookahead=$-1,pe(me)}return me.strstart+=me.lookahead,me.block_start=me.strstart,me.insert=me.lookahead,me.lookahead=0,me.match_length=me.prev_length=$-1,me.match_available=0,P.next_in=be,P.input=de,P.avail_in=xe,me.wrap=re,p},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,o){var a,l,u,c,h,f,p,w,y,b,g,v,x,C,j,I,A,D,$,B,ue,N,V,T,Z;a=i.state,l=i.next_in,T=i.input,u=l+(i.avail_in-5),c=i.next_out,Z=i.output,h=c-(o-i.avail_out),f=c+(i.avail_out-257),p=a.dmax,w=a.wsize,y=a.whave,b=a.wnext,g=a.window,v=a.hold,x=a.bits,C=a.lencode,j=a.distcode,I=(1<<a.lenbits)-1,A=(1<<a.distbits)-1;e:do{x<15&&(v+=T[l++]<<x,x+=8,v+=T[l++]<<x,x+=8),D=C[v&I];t:for(;;){if(v>>>=$=D>>>24,x-=$,($=D>>>16&255)===0)Z[c++]=65535&D;else{if(!(16&$)){if(!(64&$)){D=C[(65535&D)+(v&(1<<$)-1)];continue t}if(32&$){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}B=65535&D,($&=15)&&(x<$&&(v+=T[l++]<<x,x+=8),B+=v&(1<<$)-1,v>>>=$,x-=$),x<15&&(v+=T[l++]<<x,x+=8,v+=T[l++]<<x,x+=8),D=j[v&A];n:for(;;){if(v>>>=$=D>>>24,x-=$,!(16&($=D>>>16&255))){if(!(64&$)){D=j[(65535&D)+(v&(1<<$)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(ue=65535&D,x<($&=15)&&(v+=T[l++]<<x,(x+=8)<$&&(v+=T[l++]<<x,x+=8)),p<(ue+=v&(1<<$)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=$,x-=$,($=c-h)<ue){if(y<($=ue-$)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(V=g,(N=0)===b){if(N+=w-$,$<B){for(B-=$;Z[c++]=g[N++],--$;);N=c-ue,V=Z}}else if(b<$){if(N+=w+b-$,($-=b)<B){for(B-=$;Z[c++]=g[N++],--$;);if(N=0,b<B){for(B-=$=b;Z[c++]=g[N++],--$;);N=c-ue,V=Z}}}else if(N+=b-$,$<B){for(B-=$;Z[c++]=g[N++],--$;);N=c-ue,V=Z}for(;2<B;)Z[c++]=V[N++],Z[c++]=V[N++],Z[c++]=V[N++],B-=3;B&&(Z[c++]=V[N++],1<B&&(Z[c++]=V[N++]))}else{for(N=c-ue;Z[c++]=Z[N++],Z[c++]=Z[N++],Z[c++]=Z[N++],2<(B-=3););B&&(Z[c++]=Z[N++],1<B&&(Z[c++]=Z[N++]))}break}}break}}while(l<u&&c<f);l-=B=x>>3,v&=(1<<(x-=B<<3))-1,i.next_in=l,i.next_out=c,i.avail_in=l<u?u-l+5:5-(l-u),i.avail_out=c<f?f-c+257:257-(c-f),a.hold=v,a.bits=x}},{}],49:[function(n,r,s){var i=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,h=2,f=0,p=-2,w=1,y=852,b=592;function g(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(N){var V;return N&&N.state?(V=N.state,N.total_in=N.total_out=V.total=0,N.msg="",V.wrap&&(N.adler=1&V.wrap),V.mode=w,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new i.Buf32(y),V.distcode=V.distdyn=new i.Buf32(b),V.sane=1,V.back=-1,f):p}function C(N){var V;return N&&N.state?((V=N.state).wsize=0,V.whave=0,V.wnext=0,x(N)):p}function j(N,V){var T,Z;return N&&N.state?(Z=N.state,V<0?(T=0,V=-V):(T=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?p:(Z.window!==null&&Z.wbits!==V&&(Z.window=null),Z.wrap=T,Z.wbits=V,C(N))):p}function I(N,V){var T,Z;return N?(Z=new v,(N.state=Z).window=null,(T=j(N,V))!==f&&(N.state=null),T):p}var A,D,$=!0;function B(N){if($){var V;for(A=new i.Buf32(512),D=new i.Buf32(32),V=0;V<144;)N.lens[V++]=8;for(;V<256;)N.lens[V++]=9;for(;V<280;)N.lens[V++]=7;for(;V<288;)N.lens[V++]=8;for(u(c,N.lens,0,288,A,0,N.work,{bits:9}),V=0;V<32;)N.lens[V++]=5;u(h,N.lens,0,32,D,0,N.work,{bits:5}),$=!1}N.lencode=A,N.lenbits=9,N.distcode=D,N.distbits=5}function ue(N,V,T,Z){var ve,G=N.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new i.Buf8(G.wsize)),Z>=G.wsize?(i.arraySet(G.window,V,T-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(Z<(ve=G.wsize-G.wnext)&&(ve=Z),i.arraySet(G.window,V,T-Z,ve,G.wnext),(Z-=ve)?(i.arraySet(G.window,V,T-Z,Z,0),G.wnext=Z,G.whave=G.wsize):(G.wnext+=ve,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=ve))),0}s.inflateReset=C,s.inflateReset2=j,s.inflateResetKeep=x,s.inflateInit=function(N){return I(N,15)},s.inflateInit2=I,s.inflate=function(N,V){var T,Z,ve,G,X,ee,he,K,q,we,H,se,pe,Se,je,ce,ze,Ve,Ke,ct,P,ge,me,F,M=0,re=new i.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return p;(T=N.state).mode===12&&(T.mode=13),X=N.next_out,ve=N.output,he=N.avail_out,G=N.next_in,Z=N.input,ee=N.avail_in,K=T.hold,q=T.bits,we=ee,H=he,ge=f;e:for(;;)switch(T.mode){case w:if(T.wrap===0){T.mode=13;break}for(;q<16;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}if(2&T.wrap&&K===35615){re[T.check=0]=255&K,re[1]=K>>>8&255,T.check=a(T.check,re,2,0),q=K=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&K)<<8)+(K>>8))%31){N.msg="incorrect header check",T.mode=30;break}if((15&K)!=8){N.msg="unknown compression method",T.mode=30;break}if(q-=4,P=8+(15&(K>>>=4)),T.wbits===0)T.wbits=P;else if(P>T.wbits){N.msg="invalid window size",T.mode=30;break}T.dmax=1<<P,N.adler=T.check=1,T.mode=512&K?10:12,q=K=0;break;case 2:for(;q<16;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}if(T.flags=K,(255&T.flags)!=8){N.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){N.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=K>>8&1),512&T.flags&&(re[0]=255&K,re[1]=K>>>8&255,T.check=a(T.check,re,2,0)),q=K=0,T.mode=3;case 3:for(;q<32;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}T.head&&(T.head.time=K),512&T.flags&&(re[0]=255&K,re[1]=K>>>8&255,re[2]=K>>>16&255,re[3]=K>>>24&255,T.check=a(T.check,re,4,0)),q=K=0,T.mode=4;case 4:for(;q<16;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}T.head&&(T.head.xflags=255&K,T.head.os=K>>8),512&T.flags&&(re[0]=255&K,re[1]=K>>>8&255,T.check=a(T.check,re,2,0)),q=K=0,T.mode=5;case 5:if(1024&T.flags){for(;q<16;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}T.length=K,T.head&&(T.head.extra_len=K),512&T.flags&&(re[0]=255&K,re[1]=K>>>8&255,T.check=a(T.check,re,2,0)),q=K=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(ee<(se=T.length)&&(se=ee),se&&(T.head&&(P=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),i.arraySet(T.head.extra,Z,G,se,P)),512&T.flags&&(T.check=a(T.check,Z,se,G)),ee-=se,G+=se,T.length-=se),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(ee===0)break e;for(se=0;P=Z[G+se++],T.head&&P&&T.length<65536&&(T.head.name+=String.fromCharCode(P)),P&&se<ee;);if(512&T.flags&&(T.check=a(T.check,Z,se,G)),ee-=se,G+=se,P)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(ee===0)break e;for(se=0;P=Z[G+se++],T.head&&P&&T.length<65536&&(T.head.comment+=String.fromCharCode(P)),P&&se<ee;);if(512&T.flags&&(T.check=a(T.check,Z,se,G)),ee-=se,G+=se,P)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;q<16;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}if(K!==(65535&T.check)){N.msg="header crc mismatch",T.mode=30;break}q=K=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),N.adler=T.check=0,T.mode=12;break;case 10:for(;q<32;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}N.adler=T.check=g(K),q=K=0,T.mode=11;case 11:if(T.havedict===0)return N.next_out=X,N.avail_out=he,N.next_in=G,N.avail_in=ee,T.hold=K,T.bits=q,2;N.adler=T.check=1,T.mode=12;case 12:if(V===5||V===6)break e;case 13:if(T.last){K>>>=7&q,q-=7&q,T.mode=27;break}for(;q<3;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}switch(T.last=1&K,q-=1,3&(K>>>=1)){case 0:T.mode=14;break;case 1:if(B(T),T.mode=20,V!==6)break;K>>>=2,q-=2;break e;case 2:T.mode=17;break;case 3:N.msg="invalid block type",T.mode=30}K>>>=2,q-=2;break;case 14:for(K>>>=7&q,q-=7&q;q<32;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}if((65535&K)!=(K>>>16^65535)){N.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&K,q=K=0,T.mode=15,V===6)break e;case 15:T.mode=16;case 16:if(se=T.length){if(ee<se&&(se=ee),he<se&&(se=he),se===0)break e;i.arraySet(ve,Z,G,se,X),ee-=se,G+=se,he-=se,X+=se,T.length-=se;break}T.mode=12;break;case 17:for(;q<14;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}if(T.nlen=257+(31&K),K>>>=5,q-=5,T.ndist=1+(31&K),K>>>=5,q-=5,T.ncode=4+(15&K),K>>>=4,q-=4,286<T.nlen||30<T.ndist){N.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;q<3;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}T.lens[xe[T.have++]]=7&K,K>>>=3,q-=3}for(;T.have<19;)T.lens[xe[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,me={bits:T.lenbits},ge=u(0,T.lens,0,19,T.lencode,0,T.work,me),T.lenbits=me.bits,ge){N.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;ce=(M=T.lencode[K&(1<<T.lenbits)-1])>>>16&255,ze=65535&M,!((je=M>>>24)<=q);){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}if(ze<16)K>>>=je,q-=je,T.lens[T.have++]=ze;else{if(ze===16){for(F=je+2;q<F;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}if(K>>>=je,q-=je,T.have===0){N.msg="invalid bit length repeat",T.mode=30;break}P=T.lens[T.have-1],se=3+(3&K),K>>>=2,q-=2}else if(ze===17){for(F=je+3;q<F;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}q-=je,P=0,se=3+(7&(K>>>=je)),K>>>=3,q-=3}else{for(F=je+7;q<F;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}q-=je,P=0,se=11+(127&(K>>>=je)),K>>>=7,q-=7}if(T.have+se>T.nlen+T.ndist){N.msg="invalid bit length repeat",T.mode=30;break}for(;se--;)T.lens[T.have++]=P}}if(T.mode===30)break;if(T.lens[256]===0){N.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,me={bits:T.lenbits},ge=u(c,T.lens,0,T.nlen,T.lencode,0,T.work,me),T.lenbits=me.bits,ge){N.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,me={bits:T.distbits},ge=u(h,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,me),T.distbits=me.bits,ge){N.msg="invalid distances set",T.mode=30;break}if(T.mode=20,V===6)break e;case 20:T.mode=21;case 21:if(6<=ee&&258<=he){N.next_out=X,N.avail_out=he,N.next_in=G,N.avail_in=ee,T.hold=K,T.bits=q,l(N,H),X=N.next_out,ve=N.output,he=N.avail_out,G=N.next_in,Z=N.input,ee=N.avail_in,K=T.hold,q=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;ce=(M=T.lencode[K&(1<<T.lenbits)-1])>>>16&255,ze=65535&M,!((je=M>>>24)<=q);){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}if(ce&&!(240&ce)){for(Ve=je,Ke=ce,ct=ze;ce=(M=T.lencode[ct+((K&(1<<Ve+Ke)-1)>>Ve)])>>>16&255,ze=65535&M,!(Ve+(je=M>>>24)<=q);){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}K>>>=Ve,q-=Ve,T.back+=Ve}if(K>>>=je,q-=je,T.back+=je,T.length=ze,ce===0){T.mode=26;break}if(32&ce){T.back=-1,T.mode=12;break}if(64&ce){N.msg="invalid literal/length code",T.mode=30;break}T.extra=15&ce,T.mode=22;case 22:if(T.extra){for(F=T.extra;q<F;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}T.length+=K&(1<<T.extra)-1,K>>>=T.extra,q-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;ce=(M=T.distcode[K&(1<<T.distbits)-1])>>>16&255,ze=65535&M,!((je=M>>>24)<=q);){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}if(!(240&ce)){for(Ve=je,Ke=ce,ct=ze;ce=(M=T.distcode[ct+((K&(1<<Ve+Ke)-1)>>Ve)])>>>16&255,ze=65535&M,!(Ve+(je=M>>>24)<=q);){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}K>>>=Ve,q-=Ve,T.back+=Ve}if(K>>>=je,q-=je,T.back+=je,64&ce){N.msg="invalid distance code",T.mode=30;break}T.offset=ze,T.extra=15&ce,T.mode=24;case 24:if(T.extra){for(F=T.extra;q<F;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}T.offset+=K&(1<<T.extra)-1,K>>>=T.extra,q-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){N.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(he===0)break e;if(se=H-he,T.offset>se){if((se=T.offset-se)>T.whave&&T.sane){N.msg="invalid distance too far back",T.mode=30;break}pe=se>T.wnext?(se-=T.wnext,T.wsize-se):T.wnext-se,se>T.length&&(se=T.length),Se=T.window}else Se=ve,pe=X-T.offset,se=T.length;for(he<se&&(se=he),he-=se,T.length-=se;ve[X++]=Se[pe++],--se;);T.length===0&&(T.mode=21);break;case 26:if(he===0)break e;ve[X++]=T.length,he--,T.mode=21;break;case 27:if(T.wrap){for(;q<32;){if(ee===0)break e;ee--,K|=Z[G++]<<q,q+=8}if(H-=he,N.total_out+=H,T.total+=H,H&&(N.adler=T.check=T.flags?a(T.check,ve,H,X-H):o(T.check,ve,H,X-H)),H=he,(T.flags?K:g(K))!==T.check){N.msg="incorrect data check",T.mode=30;break}q=K=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;q<32;){if(ee===0)break e;ee--,K+=Z[G++]<<q,q+=8}if(K!==(4294967295&T.total)){N.msg="incorrect length check",T.mode=30;break}q=K=0}T.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return p}return N.next_out=X,N.avail_out=he,N.next_in=G,N.avail_in=ee,T.hold=K,T.bits=q,(T.wsize||H!==N.avail_out&&T.mode<30&&(T.mode<27||V!==4))&&ue(N,N.output,N.next_out,H-N.avail_out)?(T.mode=31,-4):(we-=N.avail_in,H-=N.avail_out,N.total_in+=we,N.total_out+=H,T.total+=H,T.wrap&&H&&(N.adler=T.check=T.flags?a(T.check,ve,H,N.next_out-H):o(T.check,ve,H,N.next_out-H)),N.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(we==0&&H===0||V===4)&&ge===f&&(ge=-5),ge)},s.inflateEnd=function(N){if(!N||!N.state)return p;var V=N.state;return V.window&&(V.window=null),N.state=null,f},s.inflateGetHeader=function(N,V){var T;return N&&N.state&&2&(T=N.state).wrap?((T.head=V).done=!1,f):p},s.inflateSetDictionary=function(N,V){var T,Z=V.length;return N&&N.state?(T=N.state).wrap!==0&&T.mode!==11?p:T.mode===11&&o(1,V,Z,0)!==T.check?-3:ue(N,V,Z,Z)?(T.mode=31,-4):(T.havedict=1,f):p},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,h,f,p,w,y,b,g){var v,x,C,j,I,A,D,$,B,ue=g.bits,N=0,V=0,T=0,Z=0,ve=0,G=0,X=0,ee=0,he=0,K=0,q=null,we=0,H=new i.Buf16(16),se=new i.Buf16(16),pe=null,Se=0;for(N=0;N<=15;N++)H[N]=0;for(V=0;V<p;V++)H[h[f+V]]++;for(ve=ue,Z=15;1<=Z&&H[Z]===0;Z--);if(Z<ve&&(ve=Z),Z===0)return w[y++]=20971520,w[y++]=20971520,g.bits=1,0;for(T=1;T<Z&&H[T]===0;T++);for(ve<T&&(ve=T),N=ee=1;N<=15;N++)if(ee<<=1,(ee-=H[N])<0)return-1;if(0<ee&&(c===0||Z!==1))return-1;for(se[1]=0,N=1;N<15;N++)se[N+1]=se[N]+H[N];for(V=0;V<p;V++)h[f+V]!==0&&(b[se[h[f+V]]++]=V);if(A=c===0?(q=pe=b,19):c===1?(q=o,we-=257,pe=a,Se-=257,256):(q=l,pe=u,-1),N=T,I=y,X=V=K=0,C=-1,j=(he=1<<(G=ve))-1,c===1&&852<he||c===2&&592<he)return 1;for(;;){for(D=N-X,B=b[V]<A?($=0,b[V]):b[V]>A?($=pe[Se+b[V]],q[we+b[V]]):($=96,0),v=1<<N-X,T=x=1<<G;w[I+(K>>X)+(x-=v)]=D<<24|$<<16|B|0,x!==0;);for(v=1<<N-1;K&v;)v>>=1;if(v!==0?(K&=v-1,K+=v):K=0,V++,--H[N]==0){if(N===Z)break;N=h[f+b[V]]}if(ve<N&&(K&j)!==C){for(X===0&&(X=ve),I+=T,ee=1<<(G=N-X);G+X<Z&&!((ee-=H[G+X])<=0);)G++,ee<<=1;if(he+=1<<G,c===1&&852<he||c===2&&592<he)return 1;w[C=K&j]=ve<<24|G<<16|I-y|0}}return K!==0&&(w[I+K]=N-X<<24|64<<16|0),g.bits=ve,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),o=0,a=1;function l(M){for(var re=M.length;0<=--re;)M[re]=0}var u=0,c=29,h=256,f=h+1+c,p=30,w=19,y=2*f+1,b=15,g=16,v=7,x=256,C=16,j=17,I=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ue=new Array(2*(f+2));l(ue);var N=new Array(2*p);l(N);var V=new Array(512);l(V);var T=new Array(256);l(T);var Z=new Array(c);l(Z);var ve,G,X,ee=new Array(p);function he(M,re,xe,be,de){this.static_tree=M,this.extra_bits=re,this.extra_base=xe,this.elems=be,this.max_length=de,this.has_stree=M&&M.length}function K(M,re){this.dyn_tree=M,this.max_code=0,this.stat_desc=re}function q(M){return M<256?V[M]:V[256+(M>>>7)]}function we(M,re){M.pending_buf[M.pending++]=255&re,M.pending_buf[M.pending++]=re>>>8&255}function H(M,re,xe){M.bi_valid>g-xe?(M.bi_buf|=re<<M.bi_valid&65535,we(M,M.bi_buf),M.bi_buf=re>>g-M.bi_valid,M.bi_valid+=xe-g):(M.bi_buf|=re<<M.bi_valid&65535,M.bi_valid+=xe)}function se(M,re,xe){H(M,xe[2*re],xe[2*re+1])}function pe(M,re){for(var xe=0;xe|=1&M,M>>>=1,xe<<=1,0<--re;);return xe>>>1}function Se(M,re,xe){var be,de,ke=new Array(b+1),Le=0;for(be=1;be<=b;be++)ke[be]=Le=Le+xe[be-1]<<1;for(de=0;de<=re;de++){var Ce=M[2*de+1];Ce!==0&&(M[2*de]=pe(ke[Ce]++,Ce))}}function je(M){var re;for(re=0;re<f;re++)M.dyn_ltree[2*re]=0;for(re=0;re<p;re++)M.dyn_dtree[2*re]=0;for(re=0;re<w;re++)M.bl_tree[2*re]=0;M.dyn_ltree[2*x]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function ce(M){8<M.bi_valid?we(M,M.bi_buf):0<M.bi_valid&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function ze(M,re,xe,be){var de=2*re,ke=2*xe;return M[de]<M[ke]||M[de]===M[ke]&&be[re]<=be[xe]}function Ve(M,re,xe){for(var be=M.heap[xe],de=xe<<1;de<=M.heap_len&&(de<M.heap_len&&ze(re,M.heap[de+1],M.heap[de],M.depth)&&de++,!ze(re,be,M.heap[de],M.depth));)M.heap[xe]=M.heap[de],xe=de,de<<=1;M.heap[xe]=be}function Ke(M,re,xe){var be,de,ke,Le,Ce=0;if(M.last_lit!==0)for(;be=M.pending_buf[M.d_buf+2*Ce]<<8|M.pending_buf[M.d_buf+2*Ce+1],de=M.pending_buf[M.l_buf+Ce],Ce++,be===0?se(M,de,re):(se(M,(ke=T[de])+h+1,re),(Le=A[ke])!==0&&H(M,de-=Z[ke],Le),se(M,ke=q(--be),xe),(Le=D[ke])!==0&&H(M,be-=ee[ke],Le)),Ce<M.last_lit;);se(M,x,re)}function ct(M,re){var xe,be,de,ke=re.dyn_tree,Le=re.stat_desc.static_tree,Ce=re.stat_desc.has_stree,Ue=re.stat_desc.elems,rt=-1;for(M.heap_len=0,M.heap_max=y,xe=0;xe<Ue;xe++)ke[2*xe]!==0?(M.heap[++M.heap_len]=rt=xe,M.depth[xe]=0):ke[2*xe+1]=0;for(;M.heap_len<2;)ke[2*(de=M.heap[++M.heap_len]=rt<2?++rt:0)]=1,M.depth[de]=0,M.opt_len--,Ce&&(M.static_len-=Le[2*de+1]);for(re.max_code=rt,xe=M.heap_len>>1;1<=xe;xe--)Ve(M,ke,xe);for(de=Ue;xe=M.heap[1],M.heap[1]=M.heap[M.heap_len--],Ve(M,ke,1),be=M.heap[1],M.heap[--M.heap_max]=xe,M.heap[--M.heap_max]=be,ke[2*de]=ke[2*xe]+ke[2*be],M.depth[de]=(M.depth[xe]>=M.depth[be]?M.depth[xe]:M.depth[be])+1,ke[2*xe+1]=ke[2*be+1]=de,M.heap[1]=de++,Ve(M,ke,1),2<=M.heap_len;);M.heap[--M.heap_max]=M.heap[1],function(Je,kt){var er,qt,an,dt,Me,He,Ae=kt.dyn_tree,ln=kt.max_code,wn=kt.stat_desc.static_tree,Zr=kt.stat_desc.has_stree,Ie=kt.stat_desc.extra_bits,Xr=kt.stat_desc.extra_base,Dr=kt.stat_desc.max_length,un=0;for(dt=0;dt<=b;dt++)Je.bl_count[dt]=0;for(Ae[2*Je.heap[Je.heap_max]+1]=0,er=Je.heap_max+1;er<y;er++)Dr<(dt=Ae[2*Ae[2*(qt=Je.heap[er])+1]+1]+1)&&(dt=Dr,un++),Ae[2*qt+1]=dt,ln<qt||(Je.bl_count[dt]++,Me=0,Xr<=qt&&(Me=Ie[qt-Xr]),He=Ae[2*qt],Je.opt_len+=He*(dt+Me),Zr&&(Je.static_len+=He*(wn[2*qt+1]+Me)));if(un!==0){do{for(dt=Dr-1;Je.bl_count[dt]===0;)dt--;Je.bl_count[dt]--,Je.bl_count[dt+1]+=2,Je.bl_count[Dr]--,un-=2}while(0<un);for(dt=Dr;dt!==0;dt--)for(qt=Je.bl_count[dt];qt!==0;)ln<(an=Je.heap[--er])||(Ae[2*an+1]!==dt&&(Je.opt_len+=(dt-Ae[2*an+1])*Ae[2*an],Ae[2*an+1]=dt),qt--)}}(M,re),Se(ke,rt,M.bl_count)}function P(M,re,xe){var be,de,ke=-1,Le=re[1],Ce=0,Ue=7,rt=4;for(Le===0&&(Ue=138,rt=3),re[2*(xe+1)+1]=65535,be=0;be<=xe;be++)de=Le,Le=re[2*(be+1)+1],++Ce<Ue&&de===Le||(Ce<rt?M.bl_tree[2*de]+=Ce:de!==0?(de!==ke&&M.bl_tree[2*de]++,M.bl_tree[2*C]++):Ce<=10?M.bl_tree[2*j]++:M.bl_tree[2*I]++,ke=de,rt=(Ce=0)===Le?(Ue=138,3):de===Le?(Ue=6,3):(Ue=7,4))}function ge(M,re,xe){var be,de,ke=-1,Le=re[1],Ce=0,Ue=7,rt=4;for(Le===0&&(Ue=138,rt=3),be=0;be<=xe;be++)if(de=Le,Le=re[2*(be+1)+1],!(++Ce<Ue&&de===Le)){if(Ce<rt)for(;se(M,de,M.bl_tree),--Ce!=0;);else de!==0?(de!==ke&&(se(M,de,M.bl_tree),Ce--),se(M,C,M.bl_tree),H(M,Ce-3,2)):Ce<=10?(se(M,j,M.bl_tree),H(M,Ce-3,3)):(se(M,I,M.bl_tree),H(M,Ce-11,7));ke=de,rt=(Ce=0)===Le?(Ue=138,3):de===Le?(Ue=6,3):(Ue=7,4)}}l(ee);var me=!1;function F(M,re,xe,be){H(M,(u<<1)+(be?1:0),3),function(de,ke,Le,Ce){ce(de),we(de,Le),we(de,~Le),i.arraySet(de.pending_buf,de.window,ke,Le,de.pending),de.pending+=Le}(M,re,xe)}s._tr_init=function(M){me||(function(){var re,xe,be,de,ke,Le=new Array(b+1);for(de=be=0;de<c-1;de++)for(Z[de]=be,re=0;re<1<<A[de];re++)T[be++]=de;for(T[be-1]=de,de=ke=0;de<16;de++)for(ee[de]=ke,re=0;re<1<<D[de];re++)V[ke++]=de;for(ke>>=7;de<p;de++)for(ee[de]=ke<<7,re=0;re<1<<D[de]-7;re++)V[256+ke++]=de;for(xe=0;xe<=b;xe++)Le[xe]=0;for(re=0;re<=143;)ue[2*re+1]=8,re++,Le[8]++;for(;re<=255;)ue[2*re+1]=9,re++,Le[9]++;for(;re<=279;)ue[2*re+1]=7,re++,Le[7]++;for(;re<=287;)ue[2*re+1]=8,re++,Le[8]++;for(Se(ue,f+1,Le),re=0;re<p;re++)N[2*re+1]=5,N[2*re]=pe(re,5);ve=new he(ue,A,h+1,f,b),G=new he(N,D,0,p,b),X=new he(new Array(0),$,0,w,v)}(),me=!0),M.l_desc=new K(M.dyn_ltree,ve),M.d_desc=new K(M.dyn_dtree,G),M.bl_desc=new K(M.bl_tree,X),M.bi_buf=0,M.bi_valid=0,je(M)},s._tr_stored_block=F,s._tr_flush_block=function(M,re,xe,be){var de,ke,Le=0;0<M.level?(M.strm.data_type===2&&(M.strm.data_type=function(Ce){var Ue,rt=4093624447;for(Ue=0;Ue<=31;Ue++,rt>>>=1)if(1&rt&&Ce.dyn_ltree[2*Ue]!==0)return o;if(Ce.dyn_ltree[18]!==0||Ce.dyn_ltree[20]!==0||Ce.dyn_ltree[26]!==0)return a;for(Ue=32;Ue<h;Ue++)if(Ce.dyn_ltree[2*Ue]!==0)return a;return o}(M)),ct(M,M.l_desc),ct(M,M.d_desc),Le=function(Ce){var Ue;for(P(Ce,Ce.dyn_ltree,Ce.l_desc.max_code),P(Ce,Ce.dyn_dtree,Ce.d_desc.max_code),ct(Ce,Ce.bl_desc),Ue=w-1;3<=Ue&&Ce.bl_tree[2*B[Ue]+1]===0;Ue--);return Ce.opt_len+=3*(Ue+1)+5+5+4,Ue}(M),de=M.opt_len+3+7>>>3,(ke=M.static_len+3+7>>>3)<=de&&(de=ke)):de=ke=xe+5,xe+4<=de&&re!==-1?F(M,re,xe,be):M.strategy===4||ke===de?(H(M,2+(be?1:0),3),Ke(M,ue,N)):(H(M,4+(be?1:0),3),function(Ce,Ue,rt,Je){var kt;for(H(Ce,Ue-257,5),H(Ce,rt-1,5),H(Ce,Je-4,4),kt=0;kt<Je;kt++)H(Ce,Ce.bl_tree[2*B[kt]+1],3);ge(Ce,Ce.dyn_ltree,Ue-1),ge(Ce,Ce.dyn_dtree,rt-1)}(M,M.l_desc.max_code+1,M.d_desc.max_code+1,Le+1),Ke(M,M.dyn_ltree,M.dyn_dtree)),je(M),be&&ce(M)},s._tr_tally=function(M,re,xe){return M.pending_buf[M.d_buf+2*M.last_lit]=re>>>8&255,M.pending_buf[M.d_buf+2*M.last_lit+1]=255&re,M.pending_buf[M.l_buf+M.last_lit]=255&xe,M.last_lit++,re===0?M.dyn_ltree[2*xe]++:(M.matches++,re--,M.dyn_ltree[2*(T[xe]+h+1)]++,M.dyn_dtree[2*q(re)]++),M.last_lit===M.lit_bufsize-1},s._tr_align=function(M){H(M,2,3),se(M,x,ue),function(re){re.bi_valid===16?(we(re,re.bi_buf),re.bi_buf=0,re.bi_valid=0):8<=re.bi_valid&&(re.pending_buf[re.pending++]=255&re.bi_buf,re.bi_buf>>=8,re.bi_valid-=8)}(M)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(o,a){if(!o.setImmediate){var l,u,c,h,f=1,p={},w=!1,y=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,l={}.toString.call(o.process)==="[object process]"?function(C){process.nextTick(function(){v(C)})}:function(){if(o.postMessage&&!o.importScripts){var C=!0,j=o.onmessage;return o.onmessage=function(){C=!1},o.postMessage("","*"),o.onmessage=j,C}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(C){o.postMessage(h+C,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(C){v(C.data)},function(C){c.port2.postMessage(C)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(C){var j=y.createElement("script");j.onreadystatechange=function(){v(C),j.onreadystatechange=null,u.removeChild(j),j=null},u.appendChild(j)}):function(C){setTimeout(v,0,C)},b.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var j=new Array(arguments.length-1),I=0;I<j.length;I++)j[I]=arguments[I+1];var A={callback:C,args:j};return p[f]=A,l(f),f++},b.clearImmediate=g}function g(C){delete p[C]}function v(C){if(w)setTimeout(v,0,C);else{var j=p[C];if(j){w=!0;try{(function(I){var A=I.callback,D=I.args;switch(D.length){case 0:A();break;case 1:A(D[0]);break;case 2:A(D[0],D[1]);break;case 3:A(D[0],D[1],D[2]);break;default:A.apply(a,D)}})(j)}finally{g(C),w=!1}}}}function x(C){C.source===o&&typeof C.data=="string"&&C.data.indexOf(h)===0&&v(+C.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Wt<"u"?Wt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})($C);var e4=$C.exports;const Hx=Au(e4),t4=()=>{const[e,t]=S.useState(!1),[n,r]=S.useState([]),s=S.useRef(null),i=S.useCallback(async u=>{if(!u||u.length===0){r(h=>[...h,{success:!1,message:"No files selected."}]);return}t(!0);const c=[];try{for(let h=0;h<u.length;h++){const f=u[h];if(f.type==="application/zip"||f.name.endsWith(".zip"))try{const p=await Hx.loadAsync(f),w=Object.values(p.files);for(const y of w)if(!y.dir&&y.name.endsWith(".json"))try{const b=await y.async("string"),g=JSON.parse(b),v=y.name.split("/").pop()||"unknown.json",x=v.replace(/\.json$/,"");localStorage.setItem(x,JSON.stringify(g)),c.push({success:!0,message:`Successfully extracted and stored "${v}" with key "${x}" from ZIP.`})}catch(b){const g=b instanceof Error?b.message:"Unknown error";c.push({success:!1,message:`Error processing file "${y.name}" from ZIP: ${g}`})}else y.dir||c.push({success:!1,message:`Skipped non-JSON file "${y.name}" from ZIP.`})}catch(p){const w=p instanceof Error?p.message:"Invalid ZIP file";c.push({success:!1,message:`Error processing ZIP file "${f.name}": ${w}`})}else if(f.type==="application/json"||f.name.endsWith(".json"))try{const p=new FileReader,w=await new Promise((v,x)=>{p.onload=()=>v(p.result),p.onerror=x,p.readAsText(f)}),y=JSON.parse(w),g=f.name.replace(/\.json$/,"");localStorage.setItem(g,JSON.stringify(y)),c.push({success:!0,message:`Successfully stored "${f.name}" with key "${g}".`})}catch(p){const w=p instanceof Error?p.message:"Unknown error";c.push({success:!1,message:`Error processing file "${f.name}": ${w}`})}else c.push({success:!1,message:`File "${f.name}" is not a JSON or ZIP file. Skipped.`})}}finally{r(h=>[...h,...c]),t(!1)}},[]),o=u=>{i(u.target.files),s.current&&(s.current.value="")},a=()=>{r([])},l=S.useCallback(async()=>{t(!0);try{debugger;const u=new Hx;let c=!1,h=null;const f=localStorage.getItem("sankeertan_categories_data");if(f)try{h=JSON.parse(f),u.file("sankeertan_categories_data.json",f),c=!0}catch{console.warn("sankeertan_categories_data.json is not valid JSON, skipping."),h=null}else console.warn("sankeertan_categories_data.json not found in localStorage.");const p={};for(let g=0;g<localStorage.length;g++){debugger;const v=localStorage.key(g);if(console.log(v),v!=="sb-"+VS+"-auth-token"&&v&&v!=="sankeertan_categories_data"){const x=localStorage.getItem(v);if(x)try{JSON.parse(x);let C=u;if(h&&Array.isArray(h.data))for(const j of h.data)for(const I of j.books){const A=I.bookId,D=`sankeertan_song_details-${A.toLowerCase().replace(/ /g,"-")}`,$=`sankeertan_song_indices-${A.toLowerCase().replace(/ /g,"-")}`;if(v.startsWith(D)||v.startsWith($)){if(!p[A]){const B=u.folder(A);B?p[A]=B:p[A]=u}C=p[A]||u;break}}C.file(`${v}.json`,x),c=!0}catch{console.warn(`Skipping key "${v}" as value is not valid JSON`)}}}if(!c){r(g=>[...g,{success:!1,message:"No valid JSON data found in localStorage to export."}]),t(!1);return}const w=await u.generateAsync({type:"blob",mimeType:"application/zip",compression:"DEFLATE"}),y=URL.createObjectURL(w),b=document.createElement("a");b.href=y,b.download="sankeertan_localStorage_backup.zip",document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(y),r(g=>[...g,{success:!0,message:"Successfully exported localStorage to ZIP file with folder structure."}])}catch(u){const c=u instanceof Error?u.message:"Unknown error during export";r(h=>[...h,{success:!1,message:`Error exporting localStorage: ${c}`}])}finally{t(!1)}},[]);return k.jsxs("div",{className:"p-4",children:[k.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Local Storage Sync"}),k.jsxs("div",{className:"mb-4",children:[k.jsx("input",{type:"file",accept:".json,.zip",onChange:o,disabled:e,"aria-label":"Upload JSON or ZIP Files",multiple:!0,ref:s}),k.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload JSON files or a ZIP file containing JSON files.  Filename will be used as the key."})]}),k.jsx("div",{className:"mb-4",children:k.jsx("button",{onClick:l,disabled:e,className:"px-4 py-2 border rounded-md bg-blue-500 text-white",children:e?"Exporting...":"Export to ZIP"})}),e&&k.jsx("div",{className:"mb-4 flex items-center gap-2",children:k.jsx("span",{children:e?"Processing...":"Exporting..."})}),n.length>0&&k.jsxs("div",{className:"mb-4",children:[k.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Upload Results:"}),n.map((u,c)=>k.jsxs("div",{className:`mb-2 p-3 border rounded-md ${u.success?"border-green-500 bg-green-100 text-green-800":"border-red-500 bg-red-100 text-red-800"}`,children:[u.success?k.jsx("span",{style:{color:"green"},children:""}):k.jsx("span",{style:{color:"red"},children:""}),k.jsx("strong",{className:"mr-1",children:u.success?"Success":"Error"}),k.jsx("span",{children:u.message})]},c)),k.jsx("button",{onClick:a,className:"mt-2 px-4 py-2 border rounded-md",children:"Clear Results"})]}),k.jsxs("div",{className:"mt-8 p-4 border rounded-md bg-gray-50",children:[k.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Important Notes:"}),k.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"ZIP File Handling:"}),"  This page now supports uploading a single ZIP file.  The application will extract JSON files from the ZIP and store them in localStorage."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Key Derivation:"})," The filename of each JSON file is used as the key for storing its content in localStorage."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"File Overwriting:"})," If a key already exists in localStorage, it will be overwritten with the new content."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"ZIP Structure:"})," The ZIP file can contain JSON files in subfolders.  The filename of the file within the ZIP will be used as the localStorage key."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Non-JSON Files in ZIP:"})," Any non-JSON files within the ZIP will be skipped."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Error Handling:"})," The application attempts to provide informative error messages for file processing issues, including problems with individual files within a ZIP archive."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Export Feature:"}),`  A new "Export to ZIP" button has been added.  Clicking this will create a ZIP file containing all key-value pairs from your browser's localStorage (where the values are valid JSON), and prompt you to download it.  The keys will be used as the filenames in the ZIP.`]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Exported Data Format:"})," The exported ZIP file will now contain a folder structure."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Book Folders:"}),"  Data is organized into folders based on the book names found in  `sankeertan_categories_data.json`."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Root Folder:"})," Any keys that do not match the book naming convention will be placed in the root of the ZIP file."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"sankeertan_categories_data.json:"}),"  This file is included in the root of the ZIP."]})]})]})]})},rr=({children:e,session:t})=>{const n=Zn();return t?k.jsx(k.Fragment,{children:e}):(sessionStorage.setItem("redirect_path",n.pathname),k.jsx(MS,{to:"/login",replace:!0}))};function n4(){const{session:e}=xi(),{categories:t,isLoading:n}=Mh(),r=(t==null?void 0:t.flatMap(s=>s.books))||[];return n?k.jsx("div",{children:"Checking authentication..."}):k.jsx(M1,{children:k.jsx(ID,{books:r,children:k.jsxs(ij,{children:[k.jsx(Qt,{path:"/login",element:k.jsx(CI,{})}),k.jsx(Qt,{path:"/signup",element:k.jsx(TI,{})}),k.jsx(Qt,{path:"/change-password",element:k.jsx(PI,{})}),k.jsx(Qt,{path:"/auth/callback",element:k.jsx(jI,{})}),k.jsx(Qt,{path:"/settings",element:k.jsx(rr,{session:e,children:k.jsx(I5,{})})}),k.jsx(Qt,{path:"/categories",element:k.jsx(rr,{session:e,children:k.jsx(AD,{})})}),k.jsx(Qt,{path:"/books/:categoryId",element:k.jsx(rr,{session:e,children:k.jsx(WD,{})})}),k.jsx(Qt,{path:"/book/:categoryId/:bookId",element:k.jsx(rr,{session:e,children:k.jsx(hN,{})})}),k.jsx(Qt,{path:"/details/book/:categoryId/:bookId/:sourceRow/:songTitle",element:k.jsx(rr,{session:e,children:k.jsx($5,{})})}),k.jsx(Qt,{path:"/editor/book/:categoryId/:bookId/:sourceRow/:songTitle",element:k.jsx(rr,{session:e,children:k.jsx(Kx,{})})}),k.jsx(Qt,{path:"/song-editor",element:k.jsx(rr,{session:e,children:k.jsx(Kx,{})})}),k.jsx(Qt,{path:"/sankeertan/:broadcastId",element:k.jsx(rr,{session:e,children:k.jsx(z5,{broadcastId:1})})}),k.jsx(Qt,{path:"/localstoragesync",element:k.jsx(rr,{session:e,children:k.jsx(t4,{})})}),k.jsx(Qt,{path:"/bulkDownloadTester",element:k.jsx(rr,{session:e,children:k.jsx(Q5,{})})}),k.jsx(Qt,{path:"/offlineContentManager",element:k.jsx(rr,{session:e,children:k.jsx(X5,{})})}),k.jsx(Qt,{path:"/search",element:k.jsx(rr,{session:e,children:k.jsx(G5,{})})}),k.jsx(Qt,{path:"/",element:e?k.jsx(MS,{to:"/categories",replace:!0}):k.jsx("div",{children:"Welcome!"})})]})})})}const r4=S.createContext({books:[],categories:[],currentBook:null,loadBook:async()=>{},loading:!1,error:null}),s4=({children:e})=>{const[t,n]=S.useState([{id:"book1",name:"The Great Book A",categoryIds:["cat1","cat2"]},{id:"book2",name:"Another Fine Book B",categoryIds:["cat2","cat3"]},{id:"book3",name:"Wonderful Book C",categoryIds:["cat1"]}]),[r,s]=S.useState([{id:"cat1",name:"Fiction"},{id:"cat2",name:"Mystery"},{id:"cat3",name:"Science Fiction"}]),[i,o]=S.useState(null),[a,l]=S.useState(!1),[u,c]=S.useState(null),{bookId:h}=Ba(),f=S.useCallback(async w=>{l(!0),c(null),o(null),await new Promise(b=>setTimeout(b,500));const y=t.find(b=>b.id===w);o(y||null),l(!1)},[t,l,c,o]);S.useEffect(()=>{h&&f(h)},[h,f]);const p={books:t,categories:r,currentBook:i,loadBook:f,loading:a,error:u};return k.jsx(r4.Provider,{value:p,children:e})},i4=({toggleDropdown:e,isDropdownOpen:t,openLanguageSettings:n})=>{var l;const[r,s]=S.useState(null);Xn(),S.useEffect(()=>{Ut.auth.getSession().then(({data:{session:u}})=>{s(u)}),Ut.auth.onAuthStateChange((u,c)=>{s(c)})},[]);const{handleSignOut:i}=D1(),{isOfflineMode:o,setIsOfflineMode:a}=Gy();return k.jsx("div",{className:"relative inline-block text-left",children:r?k.jsxs("div",{children:[k.jsxs("button",{type:"button",className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",onClick:e,"aria-expanded":t,"aria-haspopup":"true",children:[((l=r.user)==null?void 0:l.email)||"User",k.jsx("svg",{className:"-mr-1 h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:k.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),t&&k.jsx("div",{className:"absolute right-0 z-[1000] mt-2 w-40 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:k.jsxs("div",{className:"py-1",children:[k.jsx("div",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitemcheckbox",children:k.jsxs("label",{className:"flex items-center",children:[k.jsx("input",{type:"checkbox",className:"mr-2 form-checkbox h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:o,onChange:u=>a(u.target.checked)}),k.jsx("span",{children:"Offline Mode"})]})}),k.jsx(Wn,{to:"/sankeertan/1",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Chanting Together"}),k.jsx(Wn,{to:"/categories",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Categories & Books"}),k.jsx(Wn,{to:"/search",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Search"}),k.jsx(Wn,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Settings (Language)"}),k.jsx(Wn,{to:"/song-editor",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Song Editor"}),k.jsx(Wn,{to:"/change-password",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Change Password"}),k.jsx("button",{onClick:i,className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Sign Out"})]})})]}):k.jsx(Wn,{to:"/login",className:"text-blue-500 hover:underline px-3 py-2 inline-block",children:"Login"})})};var o4=Object.defineProperty,a4=(e,t,n)=>t in e?o4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jp=(e,t,n)=>(a4(e,typeof t!="symbol"?t+"":t,n),n);let l4=class{constructor(){jp(this,"current",this.detect()),jp(this,"handoffState","pending"),jp(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Qr=new l4;function Yu(e){var t;return Qr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Pg(e){var t,n;return Qr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function FC(e){var t,n;return(n=(t=Pg(e))==null?void 0:t.activeElement)!=null?n:null}function u4(e){return FC(e)===e}function Wh(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Es(){let e=[],t={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),t.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Wh(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Es();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function Hh(){let[e]=S.useState(Es);return S.useEffect(()=>()=>e.dispose(),[e]),e}let Fn=(e,t)=>{Qr.isServer?S.useEffect(e,t):S.useLayoutEffect(e,t)};function xo(e){let t=S.useRef(e);return Fn(()=>{t.current=e},[e]),t}let ft=function(e){let t=xo(e);return We.useCallback((...n)=>t.current(...n),[t])};function Qu(e){return S.useMemo(()=>e,Object.values(e))}let c4=S.createContext(void 0);function d4(){return S.useContext(c4)}function Rg(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function ks(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ks),r}var ah=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ah||{}),ei=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ei||{});function yr(){let e=f4();return S.useCallback(t=>h4({mergeRefs:e,...t}),[e])}function h4({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:a}){a=a??p4;let l=BC(t,e);if(i)return Xc(l,n,r,o,a);let u=s??0;if(u&2){let{static:c=!1,...h}=l;if(c)return Xc(h,n,r,o,a)}if(u&1){let{unmount:c=!0,...h}=l;return ks(c?0:1,{0(){return null},1(){return Xc({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Xc(l,n,r,o,a)}function Xc(e,t={},n,r,s){let{as:i=n,children:o,refName:a="ref",...l}=Ap(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},c=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let f=!1,p=[];for(let[w,y]of Object.entries(t))typeof y=="boolean"&&(f=!0),y===!0&&p.push(w.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let w of p)h[`data-${w}`]=""}}if(Yl(i)&&(Object.keys(Mi(l)).length>0||Object.keys(Mi(h)).length>0))if(!S.isValidElement(c)||Array.isArray(c)&&c.length>1||g4(c)){if(Object.keys(Mi(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Mi(l)).concat(Object.keys(Mi(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=c.props,p=f==null?void 0:f.className,w=typeof p=="function"?(...g)=>Rg(p(...g),l.className):Rg(p,l.className),y=w?{className:w}:{},b=BC(c.props,Mi(Ap(l,["ref"])));for(let g in h)g in b&&delete h[g];return S.cloneElement(c,Object.assign({},b,h,u,{ref:s(m4(c),u.ref)},y))}return S.createElement(i,Object.assign({},Ap(l,["ref"]),!Yl(i)&&u,!Yl(i)&&h),c)}function f4(){let e=S.useRef([]),t=S.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function p4(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function BC(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...i){let o=n[r];for(let a of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;a(s,...i)}}});return t}function Bn(e){var t;return Object.assign(S.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Mi(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ap(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function m4(e){return We.version.split(".")[0]>="19"?e.props.ref:e.ref}function Yl(e){return e===S.Fragment||e===Symbol.for("react.fragment")}function g4(e){return Yl(e.type)}let y4="span";var lh=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(lh||{});function v4(e,t){var n;let{features:r=1,...s}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return yr()({ourProps:i,theirProps:s,slot:{},defaultTag:y4,name:"Hidden"})}let jg=Bn(v4);function w4(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function di(e){return w4(e)&&"tagName"in e}function mo(e){return di(e)&&"accessKey"in e}function ti(e){return di(e)&&"tabIndex"in e}function b4(e){return di(e)&&"style"in e}function x4(e){return mo(e)&&e.nodeName==="IFRAME"}function _4(e){return mo(e)&&e.nodeName==="INPUT"}let UC=Symbol();function k4(e,t=!0){return Object.assign(e,{[UC]:t})}function Jr(...e){let t=S.useRef(e);S.useEffect(()=>{t.current=e},[e]);let n=ft(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[UC]))?void 0:n}let Iv=S.createContext(null);Iv.displayName="DescriptionContext";function zC(){let e=S.useContext(Iv);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,zC),t}return e}function S4(){let[e,t]=S.useState([]);return[e.length>0?e.join(" "):void 0,S.useMemo(()=>function(n){let r=ft(i=>(t(o=>[...o,i]),()=>t(o=>{let a=o.slice(),l=a.indexOf(i);return l!==-1&&a.splice(l,1),a}))),s=S.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return We.createElement(Iv.Provider,{value:s},n.children)},[t])]}let E4="p";function C4(e,t){let n=S.useId(),r=d4(),{id:s=`headlessui-description-${n}`,...i}=e,o=zC(),a=Jr(t);Fn(()=>o.register(s),[s,o.register]);let l=Qu({...o.slot,disabled:r||!1}),u={ref:a,...o.props,id:s};return yr()({ourProps:u,theirProps:i,slot:l,defaultTag:E4,name:o.name||"Description"})}let T4=Bn(C4),P4=Object.assign(T4,{});var VC=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(VC||{});let R4=S.createContext(()=>{});function j4({value:e,children:t}){return We.createElement(R4.Provider,{value:e},t)}let KC=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var A4=Object.defineProperty,O4=(e,t,n)=>t in e?A4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I4=(e,t,n)=>(O4(e,t+"",n),n),WC=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},sr=(e,t,n)=>(WC(e,t,"read from private field"),n?n.call(e):t.get(e)),Op=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},qx=(e,t,n,r)=>(WC(e,t,"write to private field"),t.set(e,n),n),$r,Rl,jl;let D4=class{constructor(t){Op(this,$r,{}),Op(this,Rl,new KC(()=>new Set)),Op(this,jl,new Set),I4(this,"disposables",Es()),qx(this,$r,t),Qr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return sr(this,$r)}subscribe(t,n){if(Qr.isServer)return()=>{};let r={selector:t,callback:n,current:t(sr(this,$r))};return sr(this,jl).add(r),this.disposables.add(()=>{sr(this,jl).delete(r)})}on(t,n){return Qr.isServer?()=>{}:(sr(this,Rl).get(t).add(n),this.disposables.add(()=>{sr(this,Rl).get(t).delete(n)}))}send(t){let n=this.reduce(sr(this,$r),t);if(n!==sr(this,$r)){qx(this,$r,n);for(let r of sr(this,jl)){let s=r.selector(sr(this,$r));HC(r.current,s)||(r.current=s,r.callback(s))}for(let r of sr(this,Rl).get(t.type))r(sr(this,$r),t)}}};$r=new WeakMap,Rl=new WeakMap,jl=new WeakMap;function HC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Ip(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Ip(e.entries(),t.entries()):Gx(e)&&Gx(t)?Ip(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Ip(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Gx(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var N4=Object.defineProperty,L4=(e,t,n)=>t in e?N4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yx=(e,t,n)=>(L4(e,typeof t!="symbol"?t+"":t,n),n),M4=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(M4||{});let $4={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(n),r=i,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},F4=class qC extends D4{constructor(){super(...arguments),Yx(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Yx(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new qC({stack:[]})}reduce(t,n){return ks(n.type,$4,t,n)}};const GC=new KC(()=>F4.new());var YC={exports:{}},QC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju=S;function B4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var U4=typeof Object.is=="function"?Object.is:B4,z4=Ju.useSyncExternalStore,V4=Ju.useRef,K4=Ju.useEffect,W4=Ju.useMemo,H4=Ju.useDebugValue;QC.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=V4(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=W4(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),s!==void 0&&o.hasValue){var w=o.value;if(s(w,p))return h=w}return h=p}if(w=h,U4(c,p))return w;var y=r(p);return s!==void 0&&s(w,y)?(c=p,w):(c=p,h=y)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,s]);var a=z4(e,i[0],i[1]);return K4(function(){o.hasValue=!0,o.value=a},[a]),H4(a),a};YC.exports=QC;var q4=YC.exports;function JC(e,t,n=HC){return q4.useSyncExternalStoreWithSelector(ft(r=>e.subscribe(G4,r)),ft(()=>e.state),ft(()=>e.state),ft(t),n)}function G4(e){return e}function Zu(e,t){let n=S.useId(),r=GC.get(t),[s,i]=JC(r,S.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Fn(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?i?s:!0:!1}let Ag=new Map,Ql=new Map;function Qx(e){var t;let n=(t=Ql.get(e))!=null?t:0;return Ql.set(e,n+1),n!==0?()=>Jx(e):(Ag.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Jx(e))}function Jx(e){var t;let n=(t=Ql.get(e))!=null?t:1;if(n===1?Ql.delete(e):Ql.set(e,n-1),n!==1)return;let r=Ag.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Ag.delete(e))}function Y4(e,{allowed:t,disallowed:n}={}){let r=Zu(e,"inert-others");Fn(()=>{var s,i;if(!r)return;let o=Es();for(let l of(s=n==null?void 0:n())!=null?s:[])l&&o.add(Qx(l));let a=(i=t==null?void 0:t())!=null?i:[];for(let l of a){if(!l)continue;let u=Yu(l);if(!u)continue;let c=l.parentElement;for(;c&&c!==u.body;){for(let h of c.children)a.some(f=>h.contains(f))||o.add(Qx(h));c=c.parentElement}}return o.dispose},[r,t,n])}function Q4(e,t,n){let r=xo(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});S.useEffect(()=>{if(!e)return;let s=t===null?null:mo(t)?t:t.current;if(!s)return;let i=Es();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[t,r,e])}let uh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),J4=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var us=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(us||{}),Og=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Og||{}),Z4=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Z4||{});function X4(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(uh)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function eB(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(J4)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ZC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ZC||{});function tB(e,t=0){var n;return e===((n=Yu(e))==null?void 0:n.body)?!1:ks(t,{0(){return e.matches(uh)},1(){let r=e;for(;r!==null;){if(r.matches(uh))return!0;r=r.parentElement}return!1}})}var nB=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(nB||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ps(e){e==null||e.focus({preventScroll:!0})}let rB=["textarea","input"].join(",");function sB(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,rB))!=null?n:!1}function iB(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),i=t(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Jl(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?Pg(e[0]):document:Pg(e),o=Array.isArray(e)?n?iB(e):e:t&64?eB(e):X4(e);s.length>0&&o.length>1&&(o=o.filter(p=>!s.some(w=>w!=null&&"current"in w?(w==null?void 0:w.current)===p:w===p))),r=r??(i==null?void 0:i.activeElement);let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,h=o.length,f;do{if(c>=h||c+h<=0)return 0;let p=l+c;if(t&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=o[p],f==null||f.focus(u),c+=a}while(f!==FC(f));return t&6&&sB(f)&&f.select(),2}function XC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function oB(){return/Android/gi.test(window.navigator.userAgent)}function Zx(){return XC()||oB()}function ed(e,t,n,r){let s=xo(n);S.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function eT(e,t,n,r){let s=xo(n);S.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const Xx=30;function aB(e,t,n){let r=xo(n),s=S.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let c=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let h of c)if(h!==null&&(h.contains(u)||a.composed&&a.composedPath().includes(h)))return;return!tB(u,ZC.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,t]),i=S.useRef(null);ed(e,"pointerdown",a=>{var l,u;Zx()||(i.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),ed(e,"pointerup",a=>{if(Zx()||!i.current)return;let l=i.current;return i.current=null,s(a,()=>l)},!0);let o=S.useRef({x:0,y:0});ed(e,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),ed(e,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=Xx||Math.abs(l.y-o.current.y)>=Xx))return s(a,()=>ti(a.target)?a.target:null)},!0),eT(e,"blur",a=>s(a,()=>x4(window.document.activeElement)?window.document.activeElement:null),!0)}function Dv(...e){return S.useMemo(()=>Yu(...e),[...e])}function tT(e,t,n,r){let s=xo(n);S.useEffect(()=>{e=e??window;function i(o){s.current(o)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function lB(e){return S.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function uB(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let o=t[s].call(n,...i);o&&(n=o,r.forEach(a=>a()))}}}function cB(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-s);n.style(r,"paddingRight",`${i}px`)}}}function dB(){return XC()?{before({doc:e,d:t,meta:n}){function r(s){for(let i of n().containers)for(let o of i())if(o.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=Es();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",a=>{if(ti(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);ti(c)&&!r(c)&&(o=c)}catch{}},!0),t.group(a=>{t.addEventListener(e,"touchstart",l=>{if(a.dispose(),ti(l.target)&&b4(l.target))if(r(l.target)){let u=l.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;a.style(u,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",a=>{if(ti(a.target)){if(_4(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;i!==l&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function hB(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function e_(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Gi=uB(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Es(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=e_(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=e_(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[dB(),cB(),hB()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Gi.subscribe(()=>{let e=Gi.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Gi.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Gi.dispatch("TEARDOWN",n)}});function fB(e,t,n=()=>({containers:[]})){let r=lB(Gi),s=t?r.get(t):void 0,i=s?s.count>0:!1;return Fn(()=>{if(!(!t||!e))return Gi.dispatch("PUSH",t,n),()=>Gi.dispatch("POP",t,n)},[e,t]),i}function pB(e,t,n=()=>[document.body]){let r=Zu(e,"scroll-lock");fB(r,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],n]}})}function mB(e=0){let[t,n]=S.useState(e),r=S.useCallback(l=>n(l),[]),s=S.useCallback(l=>n(u=>u|l),[]),i=S.useCallback(l=>(t&l)===l,[t]),o=S.useCallback(l=>n(u=>u&~l),[]),a=S.useCallback(l=>n(u=>u^l),[]);return{flags:t,setFlag:r,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:a}}var gB={},t_,n_;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((t_=process==null?void 0:gB)==null?void 0:t_.NODE_ENV)==="test"&&typeof((n_=Element==null?void 0:Element.prototype)==null?void 0:n_.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var yB=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(yB||{});function vB(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function wB(e,t,n,r){let[s,i]=S.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=mB(e&&s?3:0),u=S.useRef(!1),c=S.useRef(!1),h=Hh();return Fn(()=>{var f;if(e){if(n&&i(!0),!t){n&&a(3);return}return(f=r==null?void 0:r.start)==null||f.call(r,n),bB(t,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){c.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var p;c.current&&kB(t)||(u.current=!1,l(7),n||i(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[e,n,t,h]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function bB(e,{prepare:t,run:n,done:r,inFlight:s}){let i=Es();return _B(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(xB(e,r))})}),i.dispose}function xB(e,t){var n,r;let s=Es();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{i||t()}),s.dispose)}function _B(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function kB(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Nv(e,t){let n=S.useRef([]),r=ft(e);S.useEffect(()=>{let s=[...n.current];for(let[i,o]of t.entries())if(n.current[i]!==o){let a=r(t,s);return n.current=t,a}},[r,...t])}let qh=S.createContext(null);qh.displayName="OpenClosedContext";var Pr=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Pr||{});function Gh(){return S.useContext(qh)}function SB({value:e,children:t}){return We.createElement(qh.Provider,{value:e},t)}function EB({children:e}){return We.createElement(qh.Provider,{value:null},e)}function CB(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Vs=[];CB(()=>{function e(t){if(!ti(t.target)||t.target===document.body||Vs[0]===t.target)return;let n=t.target;n=n.closest(uh),Vs.unshift(n??t.target),Vs=Vs.filter(r=>r!=null&&r.isConnected),Vs.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function nT(e){let t=ft(e),n=S.useRef(!1);S.useEffect(()=>(n.current=!1,()=>{n.current=!0,Wh(()=>{n.current&&t()})}),[t])}let rT=S.createContext(!1);function TB(){return S.useContext(rT)}function r_(e){return We.createElement(rT.Provider,{value:e.force},e.children)}function PB(e){let t=TB(),n=S.useContext(iT),[r,s]=S.useState(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(Qr.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return S.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),S.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let sT=S.Fragment,RB=Bn(function(e,t){let{ownerDocument:n=null,...r}=e,s=S.useRef(null),i=Jr(k4(f=>{s.current=f}),t),o=Dv(s.current),a=n??o,l=PB(a),u=S.useContext(Ig),c=Hh(),h=yr();return nT(()=>{var f;l&&l.childNodes.length<=0&&((f=l.parentElement)==null||f.removeChild(l))}),l?jy.createPortal(We.createElement("div",{"data-headlessui-portal":"",ref:f=>{c.dispose(),u&&f&&c.add(u.register(f))}},h({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:sT,name:"Portal"})),l):null});function jB(e,t){let n=Jr(t),{enabled:r=!0,ownerDocument:s,...i}=e,o=yr();return r?We.createElement(RB,{...i,ownerDocument:s,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:sT,name:"Portal"})}let AB=S.Fragment,iT=S.createContext(null);function OB(e,t){let{target:n,...r}=e,s={ref:Jr(t)},i=yr();return We.createElement(iT.Provider,{value:n},i({ourProps:s,theirProps:r,defaultTag:AB,name:"Popover.Group"}))}let Ig=S.createContext(null);function IB(){let e=S.useContext(Ig),t=S.useRef([]),n=ft(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=ft(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),s=S.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,S.useMemo(()=>function({children:i}){return We.createElement(Ig.Provider,{value:s},i)},[s])]}let DB=Bn(jB),oT=Bn(OB),NB=Object.assign(DB,{Group:oT});function LB(e,t=typeof document<"u"?document.defaultView:null,n){let r=Zu(e,"escape");tT(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===VC.Escape&&n(s))})}function MB(){var e;let[t]=S.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=S.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Fn(()=>{if(!t)return;function s(i){r(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function $B({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=ft(()=>{var s,i;let o=Yu(n),a=[];for(let l of e)l!==null&&(di(l)?a.push(l):"current"in l&&di(l.current)&&a.push(l.current));if(t!=null&&t.current)for(let l of t.current)a.push(l);for(let l of(s=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&di(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((i=n==null?void 0:n.getRootNode())==null?void 0:i.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:r,contains:ft(s=>r().some(i=>i.contains(s)))}}let aT=S.createContext(null);function s_({children:e,node:t}){let[n,r]=S.useState(null),s=lT(t??n);return We.createElement(aT.Provider,{value:s},e,s===null&&We.createElement(jg,{features:lh.Hidden,ref:i=>{var o,a;if(i){for(let l of(a=(o=Yu(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&di(l)&&l!=null&&l.contains(i)){r(l);break}}}}))}function lT(e=null){var t;return(t=S.useContext(aT))!=null?t:e}function FB(){let e=typeof document>"u";return"useSyncExternalStore"in b0?(t=>t.useSyncExternalStore)(b0)(()=>()=>{},()=>!1,()=>!e):!1}function Yh(){let e=FB(),[t,n]=S.useState(Qr.isHandoffComplete);return t&&Qr.isHandoffComplete===!1&&n(!1),S.useEffect(()=>{t!==!0&&n(!0)},[t]),S.useEffect(()=>Qr.handoff(),[]),e?!1:t}function Lv(){let e=S.useRef(!1);return Fn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Al=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Al||{});function BB(){let e=S.useRef(0);return eT(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function uT(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)di(n.current)&&t.add(n.current);return t}let UB="div";var Bi=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Bi||{});function zB(e,t){let n=S.useRef(null),r=Jr(n,t),{initialFocus:s,initialFocusFallback:i,containers:o,features:a=15,...l}=e;Yh()||(a=0);let u=Dv(n.current);HB(a,{ownerDocument:u});let c=qB(a,{ownerDocument:u,container:n,initialFocus:s,initialFocusFallback:i});GB(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:c});let h=BB(),f=ft(v=>{if(!mo(n.current))return;let x=n.current;(C=>C())(()=>{ks(h.current,{[Al.Forwards]:()=>{Jl(x,us.First,{skipElements:[v.relatedTarget,i]})},[Al.Backwards]:()=>{Jl(x,us.Last,{skipElements:[v.relatedTarget,i]})}})})}),p=Zu(!!(a&2),"focus-trap#tab-lock"),w=Hh(),y=S.useRef(!1),b={ref:r,onKeyDown(v){v.key=="Tab"&&(y.current=!0,w.requestAnimationFrame(()=>{y.current=!1}))},onBlur(v){if(!(a&4))return;let x=uT(o);mo(n.current)&&x.add(n.current);let C=v.relatedTarget;ti(C)&&C.dataset.headlessuiFocusGuard!=="true"&&(cT(x,C)||(y.current?Jl(n.current,ks(h.current,{[Al.Forwards]:()=>us.Next,[Al.Backwards]:()=>us.Previous})|us.WrapAround,{relativeTo:v.target}):ti(v.target)&&ps(v.target)))}},g=yr();return We.createElement(We.Fragment,null,p&&We.createElement(jg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:lh.Focusable}),g({ourProps:b,theirProps:l,defaultTag:UB,name:"FocusTrap"}),p&&We.createElement(jg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:lh.Focusable}))}let VB=Bn(zB),KB=Object.assign(VB,{features:Bi});function WB(e=!0){let t=S.useRef(Vs.slice());return Nv(([n],[r])=>{r===!0&&n===!1&&Wh(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Vs.slice())},[e,Vs,t]),ft(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function HB(e,{ownerDocument:t}){let n=!!(e&8),r=WB(n);Nv(()=>{n||u4(t==null?void 0:t.body)&&ps(r())},[n]),nT(()=>{n&&ps(r())})}function qB(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let i=S.useRef(null),o=Zu(!!(e&1),"focus-trap#initial-focus"),a=Lv();return Nv(()=>{if(e===0)return;if(!o){s!=null&&s.current&&ps(s.current);return}let l=n.current;l&&Wh(()=>{if(!a.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){i.current=u;return}}else if(l.contains(u)){i.current=u;return}if(r!=null&&r.current)ps(r.current);else{if(e&16){if(Jl(l,us.First|us.AutoFocus)!==Og.Error)return}else if(Jl(l,us.First)!==Og.Error)return;if(s!=null&&s.current&&(ps(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[s,o,e]),i}function GB(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let i=Lv(),o=!!(e&4);tT(t==null?void 0:t.defaultView,"focus",a=>{if(!o||!i.current)return;let l=uT(r);mo(n.current)&&l.add(n.current);let u=s.current;if(!u)return;let c=a.target;mo(c)?cT(l,c)?(s.current=c,ps(c)):(a.preventDefault(),a.stopPropagation(),ps(u)):ps(s.current)},!0)}function cT(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function dT(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Yl((t=e.as)!=null?t:fT)||We.Children.count(e.children)===1}let Qh=S.createContext(null);Qh.displayName="TransitionContext";var YB=(e=>(e.Visible="visible",e.Hidden="hidden",e))(YB||{});function QB(){let e=S.useContext(Qh);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function JB(){let e=S.useContext(Jh);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Jh=S.createContext(null);Jh.displayName="NestingContext";function Zh(e){return"children"in e?Zh(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function hT(e,t){let n=xo(e),r=S.useRef([]),s=Lv(),i=Hh(),o=ft((p,w=ei.Hidden)=>{let y=r.current.findIndex(({el:b})=>b===p);y!==-1&&(ks(w,{[ei.Unmount](){r.current.splice(y,1)},[ei.Hidden](){r.current[y].state="hidden"}}),i.microTask(()=>{var b;!Zh(r)&&s.current&&((b=n.current)==null||b.call(n))}))}),a=ft(p=>{let w=r.current.find(({el:y})=>y===p);return w?w.state!=="visible"&&(w.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,ei.Unmount)}),l=S.useRef([]),u=S.useRef(Promise.resolve()),c=S.useRef({enter:[],leave:[]}),h=ft((p,w,y)=>{l.current.splice(0),t&&(t.chains.current[w]=t.chains.current[w].filter(([b])=>b!==p)),t==null||t.chains.current[w].push([p,new Promise(b=>{l.current.push(b)})]),t==null||t.chains.current[w].push([p,new Promise(b=>{Promise.all(c.current[w].map(([g,v])=>v)).then(()=>b())})]),w==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>y(w)):y(w)}),f=ft((p,w,y)=>{Promise.all(c.current[w].splice(0).map(([b,g])=>g)).then(()=>{var b;(b=l.current.shift())==null||b()}).then(()=>y(w))});return S.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:f,wait:u,chains:c}),[a,o,r,h,f,c,u])}let fT=S.Fragment,pT=ah.RenderStrategy;function ZB(e,t){var n,r;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:c,enterTo:h,entered:f,leave:p,leaveFrom:w,leaveTo:y,...b}=e,[g,v]=S.useState(null),x=S.useRef(null),C=dT(e),j=Jr(...C?[x,t,v]:t===null?[]:[t]),I=(n=b.unmount)==null||n?ei.Unmount:ei.Hidden,{show:A,appear:D,initial:$}=QB(),[B,ue]=S.useState(A?"visible":"hidden"),N=JB(),{register:V,unregister:T}=N;Fn(()=>V(x),[V,x]),Fn(()=>{if(I===ei.Hidden&&x.current){if(A&&B!=="visible"){ue("visible");return}return ks(B,{hidden:()=>T(x),visible:()=>V(x)})}},[B,x,V,T,A,I]);let Z=Yh();Fn(()=>{if(C&&Z&&B==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,B,Z,C]);let ve=$&&!D,G=D&&A&&$,X=S.useRef(!1),ee=hT(()=>{X.current||(ue("hidden"),T(x))},N),he=ft(Se=>{X.current=!0;let je=Se?"enter":"leave";ee.onStart(x,je,ce=>{ce==="enter"?i==null||i():ce==="leave"&&(a==null||a())})}),K=ft(Se=>{let je=Se?"enter":"leave";X.current=!1,ee.onStop(x,je,ce=>{ce==="enter"?o==null||o():ce==="leave"&&(l==null||l())}),je==="leave"&&!Zh(ee)&&(ue("hidden"),T(x))});S.useEffect(()=>{C&&s||(he(A),K(A))},[A,C,s]);let q=!(!s||!C||!Z||ve),[,we]=wB(q,g,A,{start:he,end:K}),H=Mi({ref:j,className:((r=Rg(b.className,G&&u,G&&c,we.enter&&u,we.enter&&we.closed&&c,we.enter&&!we.closed&&h,we.leave&&p,we.leave&&!we.closed&&w,we.leave&&we.closed&&y,!we.transition&&A&&f))==null?void 0:r.trim())||void 0,...vB(we)}),se=0;B==="visible"&&(se|=Pr.Open),B==="hidden"&&(se|=Pr.Closed),A&&B==="hidden"&&(se|=Pr.Opening),!A&&B==="visible"&&(se|=Pr.Closing);let pe=yr();return We.createElement(Jh.Provider,{value:ee},We.createElement(SB,{value:se},pe({ourProps:H,theirProps:b,defaultTag:fT,features:pT,visible:B==="visible",name:"Transition.Child"})))}function XB(e,t){let{show:n,appear:r=!1,unmount:s=!0,...i}=e,o=S.useRef(null),a=dT(e),l=Jr(...a?[o,t]:t===null?[]:[t]);Yh();let u=Gh();if(n===void 0&&u!==null&&(n=(u&Pr.Open)===Pr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,h]=S.useState(n?"visible":"hidden"),f=hT(()=>{n||h("hidden")}),[p,w]=S.useState(!0),y=S.useRef([n]);Fn(()=>{p!==!1&&y.current[y.current.length-1]!==n&&(y.current.push(n),w(!1))},[y,n]);let b=S.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);Fn(()=>{n?h("visible"):!Zh(f)&&o.current!==null&&h("hidden")},[n,f]);let g={unmount:s},v=ft(()=>{var j;p&&w(!1),(j=e.beforeEnter)==null||j.call(e)}),x=ft(()=>{var j;p&&w(!1),(j=e.beforeLeave)==null||j.call(e)}),C=yr();return We.createElement(Jh.Provider,{value:f},We.createElement(Qh.Provider,{value:b},C({ourProps:{...g,as:S.Fragment,children:We.createElement(mT,{ref:l,...g,...i,beforeEnter:v,beforeLeave:x})},theirProps:{},defaultTag:S.Fragment,features:pT,visible:c==="visible",name:"Transition"})))}function eU(e,t){let n=S.useContext(Qh)!==null,r=Gh()!==null;return We.createElement(We.Fragment,null,!n&&r?We.createElement(Dg,{ref:t,...e}):We.createElement(mT,{ref:t,...e}))}let Dg=Bn(XB),mT=Bn(ZB),Mv=Bn(eU),_d=Object.assign(Dg,{Child:Mv,Root:Dg});var tU=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(tU||{}),nU=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(nU||{});let rU={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},$v=S.createContext(null);$v.displayName="DialogContext";function Xh(e){let t=S.useContext($v);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xh),n}return t}function sU(e,t){return ks(t.type,rU,e,t)}let i_=Bn(function(e,t){let n=S.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:c=!1,...h}=e,f=S.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Gh();s===void 0&&p!==null&&(s=(p&Pr.Open)===Pr.Open);let w=S.useRef(null),y=Jr(w,t),b=Dv(w.current),g=s?0:1,[v,x]=S.useReducer(sU,{titleId:null,descriptionId:null,panelRef:S.createRef()}),C=ft(()=>i(!1)),j=ft(we=>x({type:0,id:we})),I=Yh()?g===0:!1,[A,D]=IB(),$={get current(){var we;return(we=v.panelRef.current)!=null?we:w.current}},B=lT(),{resolveContainers:ue}=$B({mainTreeNode:B,portals:A,defaultContainers:[$]}),N=p!==null?(p&Pr.Closing)===Pr.Closing:!1;Y4(u||N?!1:I,{allowed:ft(()=>{var we,H;return[(H=(we=w.current)==null?void 0:we.closest("[data-headlessui-portal]"))!=null?H:null]}),disallowed:ft(()=>{var we;return[(we=B==null?void 0:B.closest("body > *:not(#headlessui-portal-root)"))!=null?we:null]})});let V=GC.get(null);Fn(()=>{if(I)return V.actions.push(r),()=>V.actions.pop(r)},[V,r,I]);let T=JC(V,S.useCallback(we=>V.selectors.isTop(we,r),[V,r]));aB(T,ue,we=>{we.preventDefault(),C()}),LB(T,b==null?void 0:b.defaultView,we=>{we.preventDefault(),we.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),C()}),pB(u||N?!1:I,b,ue),Q4(I,w,C);let[Z,ve]=S4(),G=S.useMemo(()=>[{dialogState:g,close:C,setTitleId:j,unmount:c},v],[g,C,j,c,v]),X=Qu({open:g===0}),ee={ref:y,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:g===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":Z,unmount:c},he=!MB(),K=Bi.None;I&&!u&&(K|=Bi.RestoreFocus,K|=Bi.TabLock,l&&(K|=Bi.AutoFocus),he&&(K|=Bi.InitialFocus));let q=yr();return We.createElement(EB,null,We.createElement(r_,{force:!0},We.createElement(NB,null,We.createElement($v.Provider,{value:G},We.createElement(oT,{target:w},We.createElement(r_,{force:!1},We.createElement(ve,{slot:X},We.createElement(D,null,We.createElement(KB,{initialFocus:o,initialFocusFallback:w,containers:ue,features:K},We.createElement(j4,{value:C},q({ourProps:ee,theirProps:h,slot:X,defaultTag:iU,features:oU,visible:g===0,name:"Dialog"})))))))))))}),iU="div",oU=ah.RenderStrategy|ah.Static;function aU(e,t){let{transition:n=!1,open:r,...s}=e,i=Gh(),o=e.hasOwnProperty("open")||i!==null,a=e.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?We.createElement(s_,null,We.createElement(_d,{show:r,transition:n,unmount:s.unmount},We.createElement(i_,{ref:t,...s}))):We.createElement(s_,null,We.createElement(i_,{ref:t,open:r,...s}))}let lU="div";function uU(e,t){let n=S.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...i}=e,[{dialogState:o,unmount:a},l]=Xh("Dialog.Panel"),u=Jr(t,l.panelRef),c=Qu({open:o===0}),h=ft(b=>{b.stopPropagation()}),f={ref:u,id:r,onClick:h},p=s?Mv:S.Fragment,w=s?{unmount:a}:{},y=yr();return We.createElement(p,{...w},y({ourProps:f,theirProps:i,slot:c,defaultTag:lU,name:"Dialog.Panel"}))}let cU="div";function dU(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:i}]=Xh("Dialog.Backdrop"),o=Qu({open:s===0}),a={ref:t,"aria-hidden":!0},l=n?Mv:S.Fragment,u=n?{unmount:i}:{},c=yr();return We.createElement(l,{...u},c({ourProps:a,theirProps:r,slot:o,defaultTag:cU,name:"Dialog.Backdrop"}))}let hU="h2";function fU(e,t){let n=S.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:i,setTitleId:o}]=Xh("Dialog.Title"),a=Jr(t);S.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=Qu({open:i===0}),u={ref:a,id:r};return yr()({ourProps:u,theirProps:s,slot:l,defaultTag:hU,name:"Dialog.Title"})}let pU=Bn(aU),mU=Bn(uU);Bn(dU);let gU=Bn(fU),Dp=Object.assign(pU,{Panel:mU,Title:gU,Description:P4});const yU=({isOpen:e,onClose:t,onLanguageSave:n,currentLanguage:r,isMarathiMode:s,retainEnglishNumerals:i})=>{const[o,a]=S.useState(r),[l,u]=S.useState(s),[c,h]=S.useState(i);We.useEffect(()=>{a(r),u(s),h(i)},[r,s,i,e]);const f=b=>{a(b.target.value)},p=b=>{u(b.target.checked)},w=b=>{h(b.target.checked)},y=()=>{n(o,l,c),t()};return k.jsx(_d,{appear:!0,show:e,as:S.Fragment,children:k.jsxs(Dp,{as:"div",className:"relative z-10",onClose:t,children:[k.jsx(_d.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),k.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:k.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:k.jsx(_d.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:k.jsxs(Dp.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[k.jsx(Dp.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Language Settings"}),k.jsxs("div",{className:"mt-2",children:[k.jsx(LC,{isMarathiMode:l,retainEnglishNumerals:c,onMarathiModeChange:p,onRetainNumeralsChange:w}),k.jsx("hr",{className:"my-3"}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"iast",checked:o==="iast",onChange:f,className:"mr-2"}),"IAST"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"tamil_superscripted",checked:o==="tamil_superscripted",onChange:f,className:"mr-2"}),"Tamil"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"malayalam",checked:o==="malayalam",onChange:f,className:"mr-2"}),"Malayalam"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"devanagari",checked:o==="devanagari",onChange:f,className:"mr-2"}),"Devanagari"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"itrans",checked:o==="itrans",onChange:f,className:"mr-2"}),"ITrans"]}),k.jsx("br",{})]}),k.jsxs("div",{className:"mt-4",children:[k.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 mr-2",onClick:t,children:"Close"}),k.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:y,children:"Save"})]})]})})})})]})})},vU=()=>{const[e,t]=S.useState(navigator.onLine);S.useEffect(()=>{const b=()=>t(!0),g=()=>t(!1);return window.addEventListener("online",b),window.addEventListener("offline",g),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(v=>{console.log("Service Worker is active:",v.active)}),()=>{window.removeEventListener("online",b),window.removeEventListener("offline",g)}},[]);const{preferredLanguage:n,setPreferredLanguage:r,isMarathiMode:s,setIsMarathiMode:i,retainEnglishNumerals:o,setRetainEnglishNumerals:a}=bo(),[l,u]=S.useState(!1),c=()=>u(!l),[h,f]=S.useState(!1),p=()=>f(!0),w=()=>f(!1),y=(b,g,v)=>{r(b),i(g),a(v)};return k.jsx(EI,{children:k.jsxs("div",{className:"app-layout",children:[" ",k.jsx("div",{className:"flex justify-end p-4 bg-gray-100",children:k.jsx(i4,{toggleDropdown:c,isDropdownOpen:l,openLanguageSettings:p})}),k.jsx(yU,{isOpen:h,onClose:w,onLanguageSave:y,currentLanguage:n,isMarathiMode:s,retainEnglishNumerals:o}),k.jsx(RD,{children:k.jsxs(s4,{children:[k.jsx(n4,{}),k.jsx(O5,{})]})})]})})};function wU(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=e;let a,l;const u=async(h=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(a=await Ua(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/new-sankeertan/sw.js",{scope:"/new-sankeertan/",type:"classic"})).catch(h=>{o==null||o(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r==null||r()}),a.register({immediate:t}).then(h=>{i?i("/new-sankeertan/sw.js",h):s==null||s(h)}).catch(h=>{o==null||o(h)})}}return l=c(),u}wU();const bU=new eD({defaultOptions:{queries:{staleTime:1/0,gcTime:1/0}}}),xU=Np.createRoot(document.getElementById("root"));xU.render(k.jsx(We.StrictMode,{children:k.jsx(tD,{client:bU,children:k.jsx(Rj,{children:k.jsx(M1,{children:k.jsx(vU,{})})})})}));
