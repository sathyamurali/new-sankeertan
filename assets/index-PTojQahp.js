var dT=Object.defineProperty;var s0=e=>{throw TypeError(e)};var fT=(e,t,n)=>t in e?dT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mc=(e,t,n)=>fT(e,typeof t!="symbol"?t+"":t,n),wh=(e,t,n)=>t.has(e)||s0("Cannot "+n);var H=(e,t,n)=>(wh(e,t,"read from private field"),n?n.call(e):t.get(e)),Ve=(e,t,n)=>t.has(e)?s0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ne=(e,t,n,r)=>(wh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),st=(e,t,n)=>(wh(e,t,"access private method"),n);var gc=(e,t,n,r)=>({set _(i){Ne(e,t,i,n)},get _(){return H(e,t,r)}});function hT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Q_={exports:{}},rf={},Y_={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),mT=Symbol.for("react.portal"),gT=Symbol.for("react.fragment"),yT=Symbol.for("react.strict_mode"),vT=Symbol.for("react.profiler"),wT=Symbol.for("react.provider"),bT=Symbol.for("react.context"),_T=Symbol.for("react.forward_ref"),xT=Symbol.for("react.suspense"),ST=Symbol.for("react.memo"),kT=Symbol.for("react.lazy"),o0=Symbol.iterator;function ET(e){return e===null||typeof e!="object"?null:(e=o0&&e[o0]||e["@@iterator"],typeof e=="function"?e:null)}var J_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z_=Object.assign,X_={};function Oa(e,t,n){this.props=e,this.context=t,this.refs=X_,this.updater=n||J_}Oa.prototype.isReactComponent={};Oa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ex(){}ex.prototype=Oa.prototype;function kg(e,t,n){this.props=e,this.context=t,this.refs=X_,this.updater=n||J_}var Eg=kg.prototype=new ex;Eg.constructor=kg;Z_(Eg,Oa.prototype);Eg.isPureReactComponent=!0;var a0=Array.isArray,tx=Object.prototype.hasOwnProperty,Cg={current:null},nx={key:!0,ref:!0,__self:!0,__source:!0};function rx(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)tx.call(t,r)&&!nx.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Su,type:e,key:s,ref:o,props:i,_owner:Cg.current}}function CT(e,t){return{$$typeof:Su,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Su}function TT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var l0=/\/+/g;function bh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TT(""+e.key):t.toString(36)}function qc(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Su:case mT:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+bh(o,0):r,a0(i)?(n="",e!=null&&(n=e.replace(l0,"$&/")+"/"),qc(i,t,n,"",function(u){return u})):i!=null&&(Tg(i)&&(i=CT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(l0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",a0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+bh(s,a);o+=qc(s,t,n,l,i)}else if(l=ET(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+bh(s,a++),o+=qc(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yc(e,t,n){if(e==null)return e;var r=[],i=0;return qc(e,r,"","",function(s){return t.call(n,s,i++)}),r}function PT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bn={current:null},Gc={transition:null},AT={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:Gc,ReactCurrentOwner:Cg};function ix(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:yc,forEach:function(e,t,n){yc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yc(e,function(){t++}),t},toArray:function(e){return yc(e,function(t){return t})||[]},only:function(e){if(!Tg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nt.Component=Oa;nt.Fragment=gT;nt.Profiler=vT;nt.PureComponent=kg;nt.StrictMode=yT;nt.Suspense=xT;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AT;nt.act=ix;nt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Z_({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Cg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)tx.call(t,l)&&!nx.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Su,type:e.type,key:i,ref:s,props:r,_owner:o}};nt.createContext=function(e){return e={$$typeof:bT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wT,_context:e},e.Consumer=e};nt.createElement=rx;nt.createFactory=function(e){var t=rx.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:_T,render:e}};nt.isValidElement=Tg;nt.lazy=function(e){return{$$typeof:kT,_payload:{_status:-1,_result:e},_init:PT}};nt.memo=function(e,t){return{$$typeof:ST,type:e,compare:t===void 0?null:t}};nt.startTransition=function(e){var t=Gc.transition;Gc.transition={};try{e()}finally{Gc.transition=t}};nt.unstable_act=ix;nt.useCallback=function(e,t){return bn.current.useCallback(e,t)};nt.useContext=function(e){return bn.current.useContext(e)};nt.useDebugValue=function(){};nt.useDeferredValue=function(e){return bn.current.useDeferredValue(e)};nt.useEffect=function(e,t){return bn.current.useEffect(e,t)};nt.useId=function(){return bn.current.useId()};nt.useImperativeHandle=function(e,t,n){return bn.current.useImperativeHandle(e,t,n)};nt.useInsertionEffect=function(e,t){return bn.current.useInsertionEffect(e,t)};nt.useLayoutEffect=function(e,t){return bn.current.useLayoutEffect(e,t)};nt.useMemo=function(e,t){return bn.current.useMemo(e,t)};nt.useReducer=function(e,t,n){return bn.current.useReducer(e,t,n)};nt.useRef=function(e){return bn.current.useRef(e)};nt.useState=function(e){return bn.current.useState(e)};nt.useSyncExternalStore=function(e,t,n){return bn.current.useSyncExternalStore(e,t,n)};nt.useTransition=function(){return bn.current.useTransition()};nt.version="18.3.1";Y_.exports=nt;var k=Y_.exports;const Ke=nf(k),u0=hT({__proto__:null,default:Ke},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT=k,OT=Symbol.for("react.element"),RT=Symbol.for("react.fragment"),IT=Object.prototype.hasOwnProperty,DT=jT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NT={key:!0,ref:!0,__self:!0,__source:!0};function sx(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)IT.call(t,r)&&!NT.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:OT,type:e,key:s,ref:o,props:i,_owner:DT.current}}rf.Fragment=RT;rf.jsx=sx;rf.jsxs=sx;Q_.exports=rf;var E=Q_.exports,kp={},ox={exports:{}},Hn={},ax={exports:{}},lx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,Z){var ue=X.length;X.push(Z);e:for(;0<ue;){var G=ue-1>>>1,Q=X[G];if(0<i(Q,Z))X[G]=Z,X[ue]=Q,ue=G;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var Z=X[0],ue=X.pop();if(ue!==Z){X[0]=ue;e:for(var G=0,Q=X.length,ye=Q>>>1;G<ye;){var he=2*(G+1)-1,fe=X[he],Fe=he+1,We=X[Fe];if(0>i(fe,ue))Fe<Q&&0>i(We,fe)?(X[G]=We,X[Fe]=ue,G=Fe):(X[G]=fe,X[he]=ue,G=he);else if(Fe<Q&&0>i(We,ue))X[G]=We,X[Fe]=ue,G=Fe;else break e}}return Z}function i(X,Z){var ue=X.sortIndex-Z.sortIndex;return ue!==0?ue:X.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,p=3,m=!1,b=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(X){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=X)r(u),Z.sortIndex=Z.expirationTime,t(l,Z);else break;Z=n(u)}}function C(X){if(v=!1,_(X),!b)if(n(l)!==null)b=!0,Oe(O);else{var Z=n(u);Z!==null&&M(C,Z.startTime-X)}}function O(X,Z){b=!1,v&&(v=!1,g(L),L=-1),m=!0;var ue=p;try{for(_(Z),f=n(l);f!==null&&(!(f.expirationTime>Z)||X&&!we());){var G=f.callback;if(typeof G=="function"){f.callback=null,p=f.priorityLevel;var Q=G(f.expirationTime<=Z);Z=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),_(Z)}else r(l);f=n(l)}if(f!==null)var ye=!0;else{var he=n(u);he!==null&&M(C,he.startTime-Z),ye=!1}return ye}finally{f=null,p=ue,m=!1}}var I=!1,R=null,L=-1,z=5,V=-1;function we(){return!(e.unstable_now()-V<z)}function F(){if(R!==null){var X=e.unstable_now();V=X;var Z=!0;try{Z=R(!0,X)}finally{Z?ee():(I=!1,R=null)}}else I=!1}var ee;if(typeof y=="function")ee=function(){y(F)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,le=A.port2;A.port1.onmessage=F,ee=function(){le.postMessage(null)}}else ee=function(){x(F,0)};function Oe(X){R=X,I||(I=!0,ee())}function M(X,Z){L=x(function(){X(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,Oe(O))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(X){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ue=p;p=Z;try{return X()}finally{p=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=p;p=X;try{return Z()}finally{p=ue}},e.unstable_scheduleCallback=function(X,Z,ue){var G=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?G+ue:G):ue=G,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ue+Q,X={id:c++,callback:Z,priorityLevel:X,startTime:ue,expirationTime:Q,sortIndex:-1},ue>G?(X.sortIndex=ue,t(u,X),n(l)===null&&X===n(u)&&(v?(g(L),L=-1):v=!0,M(C,ue-G))):(X.sortIndex=Q,t(l,X),b||m||(b=!0,Oe(O))),X},e.unstable_shouldYield=we,e.unstable_wrapCallback=function(X){var Z=p;return function(){var ue=p;p=Z;try{return X.apply(this,arguments)}finally{p=ue}}}})(lx);ax.exports=lx;var LT=ax.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T=k,Kn=LT;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ux=new Set,Vl={};function mo(e,t){_a(e,t),_a(e+"Capture",t)}function _a(e,t){for(Vl[e]=t,e=0;e<t.length;e++)ux.add(t[e])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ep=Object.prototype.hasOwnProperty,MT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c0={},d0={};function FT(e){return Ep.call(d0,e)?!0:Ep.call(c0,e)?!1:MT.test(e)?d0[e]=!0:(c0[e]=!0,!1)}function BT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UT(e,t,n,r){if(t===null||typeof t>"u"||BT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _n(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){en[e]=new _n(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];en[t]=new _n(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){en[e]=new _n(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){en[e]=new _n(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){en[e]=new _n(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){en[e]=new _n(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){en[e]=new _n(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){en[e]=new _n(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){en[e]=new _n(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pg=/[\-:]([a-z])/g;function Ag(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pg,Ag);en[t]=new _n(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pg,Ag);en[t]=new _n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pg,Ag);en[t]=new _n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){en[e]=new _n(e,1,!1,e.toLowerCase(),null,!1,!1)});en.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){en[e]=new _n(e,1,!1,e.toLowerCase(),null,!0,!0)});function jg(e,t,n,r){var i=en.hasOwnProperty(t)?en[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UT(t,n,i,r)&&(n=null),r||i===null?FT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _i=$T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vc=Symbol.for("react.element"),Mo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),cx=Symbol.for("react.provider"),dx=Symbol.for("react.context"),Rg=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Pp=Symbol.for("react.suspense_list"),Ig=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),fx=Symbol.for("react.offscreen"),f0=Symbol.iterator;function Xa(e){return e===null||typeof e!="object"?null:(e=f0&&e[f0]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,_h;function hl(e){if(_h===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_h=t&&t[1]||""}return`
`+_h+e}var xh=!1;function Sh(e,t){if(!e||xh)return"";xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{xh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hl(e):""}function zT(e){switch(e.tag){case 5:return hl(e.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return e=Sh(e.type,!1),e;case 11:return e=Sh(e.type.render,!1),e;case 1:return e=Sh(e.type,!0),e;default:return""}}function Ap(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fo:return"Fragment";case Mo:return"Portal";case Cp:return"Profiler";case Og:return"StrictMode";case Tp:return"Suspense";case Pp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dx:return(e.displayName||"Context")+".Consumer";case cx:return(e._context.displayName||"Context")+".Provider";case Rg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ig:return t=e.displayName||null,t!==null?t:Ap(e.type)||"Memo";case $i:t=e._payload,e=e._init;try{return Ap(e(t))}catch{}}return null}function VT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ap(t);case 8:return t===Og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KT(e){var t=hx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wc(e){e._valueTracker||(e._valueTracker=KT(e))}function px(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jp(e,t){var n=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function h0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mx(e,t){t=t.checked,t!=null&&jg(e,"checked",t,!1)}function Op(e,t){mx(e,t);var n=fs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Rp(e,t.type,fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function p0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Rp(e,t,n){(t!=="number"||pd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pl=Array.isArray;function ta(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ip(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function m0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Se(92));if(pl(n)){if(1<n.length)throw Error(Se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fs(n)}}function gx(e,t){var n=fs(t.value),r=fs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function g0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bc,vx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bc=bc||document.createElement("div"),bc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WT=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(e){WT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sl[t]=Sl[e]})});function wx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sl.hasOwnProperty(e)&&Sl[e]?(""+t).trim():t+"px"}function bx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var HT=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Np(e,t){if(t){if(HT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function Lp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=null;function Dg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mp=null,na=null,ra=null;function y0(e){if(e=Cu(e)){if(typeof Mp!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=uf(t),Mp(e.stateNode,e.type,t))}}function _x(e){na?ra?ra.push(e):ra=[e]:na=e}function xx(){if(na){var e=na,t=ra;if(ra=na=null,y0(e),t)for(e=0;e<t.length;e++)y0(t[e])}}function Sx(e,t){return e(t)}function kx(){}var kh=!1;function Ex(e,t,n){if(kh)return e(t,n);kh=!0;try{return Sx(e,t,n)}finally{kh=!1,(na!==null||ra!==null)&&(kx(),xx())}}function Wl(e,t){var n=e.stateNode;if(n===null)return null;var r=uf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Se(231,t,typeof n));return n}var Fp=!1;if(fi)try{var el={};Object.defineProperty(el,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Fp=!1}function qT(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var kl=!1,md=null,gd=!1,Bp=null,GT={onError:function(e){kl=!0,md=e}};function QT(e,t,n,r,i,s,o,a,l){kl=!1,md=null,qT.apply(GT,arguments)}function YT(e,t,n,r,i,s,o,a,l){if(QT.apply(this,arguments),kl){if(kl){var u=md;kl=!1,md=null}else throw Error(Se(198));gd||(gd=!0,Bp=u)}}function go(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v0(e){if(go(e)!==e)throw Error(Se(188))}function JT(e){var t=e.alternate;if(!t){if(t=go(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return v0(i),e;if(s===r)return v0(i),t;s=s.sibling}throw Error(Se(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Se(189))}}if(n.alternate!==r)throw Error(Se(190))}if(n.tag!==3)throw Error(Se(188));return n.stateNode.current===n?e:t}function Tx(e){return e=JT(e),e!==null?Px(e):null}function Px(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Px(e);if(t!==null)return t;e=e.sibling}return null}var Ax=Kn.unstable_scheduleCallback,w0=Kn.unstable_cancelCallback,ZT=Kn.unstable_shouldYield,XT=Kn.unstable_requestPaint,Dt=Kn.unstable_now,eP=Kn.unstable_getCurrentPriorityLevel,Ng=Kn.unstable_ImmediatePriority,jx=Kn.unstable_UserBlockingPriority,yd=Kn.unstable_NormalPriority,tP=Kn.unstable_LowPriority,Ox=Kn.unstable_IdlePriority,sf=null,Kr=null;function nP(e){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(sf,e,void 0,(e.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:sP,rP=Math.log,iP=Math.LN2;function sP(e){return e>>>=0,e===0?32:31-(rP(e)/iP|0)|0}var _c=64,xc=4194304;function ml(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ml(a):(s&=o,s!==0&&(r=ml(s)))}else o=n&~i,o!==0?r=ml(o):s!==0&&(r=ml(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Er(t),i=1<<n,r|=e[n],t&=~i;return r}function oP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Er(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=oP(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Up(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rx(){var e=_c;return _c<<=1,!(_c&4194240)&&(_c=64),e}function Eh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ku(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Er(t),e[t]=n}function lP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Er(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Lg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Er(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var dt=0;function Ix(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dx,$g,Nx,Lx,$x,zp=!1,Sc=[],ns=null,rs=null,is=null,Hl=new Map,ql=new Map,Fi=[],uP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b0(e,t){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(t.pointerId)}}function tl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Cu(t),t!==null&&$g(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function cP(e,t,n,r,i){switch(t){case"focusin":return ns=tl(ns,e,t,n,r,i),!0;case"dragenter":return rs=tl(rs,e,t,n,r,i),!0;case"mouseover":return is=tl(is,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hl.set(s,tl(Hl.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ql.set(s,tl(ql.get(s)||null,e,t,n,r,i)),!0}return!1}function Mx(e){var t=Bs(e.target);if(t!==null){var n=go(t);if(n!==null){if(t=n.tag,t===13){if(t=Cx(n),t!==null){e.blockedOn=t,$x(e.priority,function(){Nx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$p=r,n.target.dispatchEvent(r),$p=null}else return t=Cu(n),t!==null&&$g(t),e.blockedOn=n,!1;t.shift()}return!0}function _0(e,t,n){Qc(e)&&n.delete(t)}function dP(){zp=!1,ns!==null&&Qc(ns)&&(ns=null),rs!==null&&Qc(rs)&&(rs=null),is!==null&&Qc(is)&&(is=null),Hl.forEach(_0),ql.forEach(_0)}function nl(e,t){e.blockedOn===t&&(e.blockedOn=null,zp||(zp=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,dP)))}function Gl(e){function t(i){return nl(i,e)}if(0<Sc.length){nl(Sc[0],e);for(var n=1;n<Sc.length;n++){var r=Sc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ns!==null&&nl(ns,e),rs!==null&&nl(rs,e),is!==null&&nl(is,e),Hl.forEach(t),ql.forEach(t),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)Mx(n),n.blockedOn===null&&Fi.shift()}var ia=_i.ReactCurrentBatchConfig,wd=!0;function fP(e,t,n,r){var i=dt,s=ia.transition;ia.transition=null;try{dt=1,Mg(e,t,n,r)}finally{dt=i,ia.transition=s}}function hP(e,t,n,r){var i=dt,s=ia.transition;ia.transition=null;try{dt=4,Mg(e,t,n,r)}finally{dt=i,ia.transition=s}}function Mg(e,t,n,r){if(wd){var i=Vp(e,t,n,r);if(i===null)Nh(e,t,r,bd,n),b0(e,r);else if(cP(i,e,t,n,r))r.stopPropagation();else if(b0(e,r),t&4&&-1<uP.indexOf(e)){for(;i!==null;){var s=Cu(i);if(s!==null&&Dx(s),s=Vp(e,t,n,r),s===null&&Nh(e,t,r,bd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Nh(e,t,r,null,n)}}var bd=null;function Vp(e,t,n,r){if(bd=null,e=Dg(r),e=Bs(e),e!==null)if(t=go(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Cx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bd=e,null}function Fx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eP()){case Ng:return 1;case jx:return 4;case yd:case tP:return 16;case Ox:return 536870912;default:return 16}default:return 16}}var Zi=null,Fg=null,Yc=null;function Bx(){if(Yc)return Yc;var e,t=Fg,n=t.length,r,i="value"in Zi?Zi.value:Zi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Yc=i.slice(e,1<r?1-r:void 0)}function Jc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kc(){return!0}function x0(){return!1}function qn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kc:x0,this.isPropagationStopped=x0,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),t}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bg=qn(Ra),Eu=Ct({},Ra,{view:0,detail:0}),pP=qn(Eu),Ch,Th,rl,of=Ct({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rl&&(rl&&e.type==="mousemove"?(Ch=e.screenX-rl.screenX,Th=e.screenY-rl.screenY):Th=Ch=0,rl=e),Ch)},movementY:function(e){return"movementY"in e?e.movementY:Th}}),S0=qn(of),mP=Ct({},of,{dataTransfer:0}),gP=qn(mP),yP=Ct({},Eu,{relatedTarget:0}),Ph=qn(yP),vP=Ct({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),wP=qn(vP),bP=Ct({},Ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_P=qn(bP),xP=Ct({},Ra,{data:0}),k0=qn(xP),SP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EP[e])?!!t[e]:!1}function Ug(){return CP}var TP=Ct({},Eu,{key:function(e){if(e.key){var t=SP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(e){return e.type==="keypress"?Jc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PP=qn(TP),AP=Ct({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E0=qn(AP),jP=Ct({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),OP=qn(jP),RP=Ct({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),IP=qn(RP),DP=Ct({},of,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NP=qn(DP),LP=[9,13,27,32],zg=fi&&"CompositionEvent"in window,El=null;fi&&"documentMode"in document&&(El=document.documentMode);var $P=fi&&"TextEvent"in window&&!El,Ux=fi&&(!zg||El&&8<El&&11>=El),C0=" ",T0=!1;function zx(e,t){switch(e){case"keyup":return LP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bo=!1;function MP(e,t){switch(e){case"compositionend":return Vx(t);case"keypress":return t.which!==32?null:(T0=!0,C0);case"textInput":return e=t.data,e===C0&&T0?null:e;default:return null}}function FP(e,t){if(Bo)return e==="compositionend"||!zg&&zx(e,t)?(e=Bx(),Yc=Fg=Zi=null,Bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ux&&t.locale!=="ko"?null:t.data;default:return null}}var BP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BP[e.type]:t==="textarea"}function Kx(e,t,n,r){_x(r),t=_d(t,"onChange"),0<t.length&&(n=new Bg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Cl=null,Ql=null;function UP(e){t1(e,0)}function af(e){var t=Vo(e);if(px(t))return e}function zP(e,t){if(e==="change")return t}var Wx=!1;if(fi){var Ah;if(fi){var jh="oninput"in document;if(!jh){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),jh=typeof A0.oninput=="function"}Ah=jh}else Ah=!1;Wx=Ah&&(!document.documentMode||9<document.documentMode)}function j0(){Cl&&(Cl.detachEvent("onpropertychange",Hx),Ql=Cl=null)}function Hx(e){if(e.propertyName==="value"&&af(Ql)){var t=[];Kx(t,Ql,e,Dg(e)),Ex(UP,t)}}function VP(e,t,n){e==="focusin"?(j0(),Cl=t,Ql=n,Cl.attachEvent("onpropertychange",Hx)):e==="focusout"&&j0()}function KP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return af(Ql)}function WP(e,t){if(e==="click")return af(t)}function HP(e,t){if(e==="input"||e==="change")return af(t)}function qP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tr=typeof Object.is=="function"?Object.is:qP;function Yl(e,t){if(Tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ep.call(t,i)||!Tr(e[i],t[i]))return!1}return!0}function O0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function R0(e,t){var n=O0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O0(n)}}function qx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gx(){for(var e=window,t=pd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pd(e.document)}return t}function Vg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GP(e){var t=Gx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qx(n.ownerDocument.documentElement,n)){if(r!==null&&Vg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=R0(n,s);var o=R0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QP=fi&&"documentMode"in document&&11>=document.documentMode,Uo=null,Kp=null,Tl=null,Wp=!1;function I0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wp||Uo==null||Uo!==pd(r)||(r=Uo,"selectionStart"in r&&Vg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tl&&Yl(Tl,r)||(Tl=r,r=_d(Kp,"onSelect"),0<r.length&&(t=new Bg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Uo)))}function Ec(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zo={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},Oh={},Qx={};fi&&(Qx=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function lf(e){if(Oh[e])return Oh[e];if(!zo[e])return e;var t=zo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qx)return Oh[e]=t[n];return e}var Yx=lf("animationend"),Jx=lf("animationiteration"),Zx=lf("animationstart"),Xx=lf("transitionend"),e1=new Map,D0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(e,t){e1.set(e,t),mo(t,[e])}for(var Rh=0;Rh<D0.length;Rh++){var Ih=D0[Rh],YP=Ih.toLowerCase(),JP=Ih[0].toUpperCase()+Ih.slice(1);gs(YP,"on"+JP)}gs(Yx,"onAnimationEnd");gs(Jx,"onAnimationIteration");gs(Zx,"onAnimationStart");gs("dblclick","onDoubleClick");gs("focusin","onFocus");gs("focusout","onBlur");gs(Xx,"onTransitionEnd");_a("onMouseEnter",["mouseout","mouseover"]);_a("onMouseLeave",["mouseout","mouseover"]);_a("onPointerEnter",["pointerout","pointerover"]);_a("onPointerLeave",["pointerout","pointerover"]);mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZP=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function N0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,YT(r,t,void 0,e),e.currentTarget=null}function t1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;N0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;N0(i,a,u),s=l}}}if(gd)throw e=Bp,gd=!1,Bp=null,e}function gt(e,t){var n=t[Yp];n===void 0&&(n=t[Yp]=new Set);var r=e+"__bubble";n.has(r)||(n1(t,e,2,!1),n.add(r))}function Dh(e,t,n){var r=0;t&&(r|=4),n1(n,e,r,t)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Jl(e){if(!e[Cc]){e[Cc]=!0,ux.forEach(function(n){n!=="selectionchange"&&(ZP.has(n)||Dh(n,!1,e),Dh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cc]||(t[Cc]=!0,Dh("selectionchange",!1,t))}}function n1(e,t,n,r){switch(Fx(t)){case 1:var i=fP;break;case 4:i=hP;break;default:i=Mg}n=i.bind(null,t,n,e),i=void 0,!Fp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Ex(function(){var u=s,c=Dg(n),f=[];e:{var p=e1.get(e);if(p!==void 0){var m=Bg,b=e;switch(e){case"keypress":if(Jc(n)===0)break e;case"keydown":case"keyup":m=PP;break;case"focusin":b="focus",m=Ph;break;case"focusout":b="blur",m=Ph;break;case"beforeblur":case"afterblur":m=Ph;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=S0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=OP;break;case Yx:case Jx:case Zx:m=wP;break;case Xx:m=IP;break;case"scroll":m=pP;break;case"wheel":m=NP;break;case"copy":case"cut":case"paste":m=_P;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=E0}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var y=u,_;y!==null;){_=y;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,g!==null&&(C=Wl(y,g),C!=null&&v.push(Zl(y,C,_)))),x)break;y=y.return}0<v.length&&(p=new m(p,b,null,n,c),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==$p&&(b=n.relatedTarget||n.fromElement)&&(Bs(b)||b[hi]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?Bs(b):null,b!==null&&(x=go(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(v=S0,C="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=E0,C="onPointerLeave",g="onPointerEnter",y="pointer"),x=m==null?p:Vo(m),_=b==null?p:Vo(b),p=new v(C,y+"leave",m,n,c),p.target=x,p.relatedTarget=_,C=null,Bs(c)===u&&(v=new v(g,y+"enter",b,n,c),v.target=_,v.relatedTarget=x,C=v),x=C,m&&b)t:{for(v=m,g=b,y=0,_=v;_;_=Po(_))y++;for(_=0,C=g;C;C=Po(C))_++;for(;0<y-_;)v=Po(v),y--;for(;0<_-y;)g=Po(g),_--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Po(v),g=Po(g)}v=null}else v=null;m!==null&&L0(f,p,m,v,!1),b!==null&&x!==null&&L0(f,x,b,v,!0)}}e:{if(p=u?Vo(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=zP;else if(P0(p))if(Wx)O=HP;else{O=KP;var I=VP}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=WP);if(O&&(O=O(e,u))){Kx(f,O,n,c);break e}I&&I(e,p,u),e==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&Rp(p,"number",p.value)}switch(I=u?Vo(u):window,e){case"focusin":(P0(I)||I.contentEditable==="true")&&(Uo=I,Kp=u,Tl=null);break;case"focusout":Tl=Kp=Uo=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,I0(f,n,c);break;case"selectionchange":if(QP)break;case"keydown":case"keyup":I0(f,n,c)}var R;if(zg)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Bo?zx(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Ux&&n.locale!=="ko"&&(Bo||L!=="onCompositionStart"?L==="onCompositionEnd"&&Bo&&(R=Bx()):(Zi=c,Fg="value"in Zi?Zi.value:Zi.textContent,Bo=!0)),I=_d(u,L),0<I.length&&(L=new k0(L,e,null,n,c),f.push({event:L,listeners:I}),R?L.data=R:(R=Vx(n),R!==null&&(L.data=R)))),(R=$P?MP(e,n):FP(e,n))&&(u=_d(u,"onBeforeInput"),0<u.length&&(c=new k0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=R))}t1(f,t)})}function Zl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _d(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wl(e,n),s!=null&&r.unshift(Zl(e,s,i)),s=Wl(e,t),s!=null&&r.push(Zl(e,s,i))),e=e.return}return r}function Po(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function L0(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Wl(n,s),l!=null&&o.unshift(Zl(n,l,a))):i||(l=Wl(n,s),l!=null&&o.push(Zl(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var XP=/\r\n?/g,eA=/\u0000|\uFFFD/g;function $0(e){return(typeof e=="string"?e:""+e).replace(XP,`
`).replace(eA,"")}function Tc(e,t,n){if(t=$0(t),$0(e)!==t&&n)throw Error(Se(425))}function xd(){}var Hp=null,qp=null;function Gp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qp=typeof setTimeout=="function"?setTimeout:void 0,tA=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,nA=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(e){return M0.resolve(null).then(e).catch(rA)}:Qp;function rA(e){setTimeout(function(){throw e})}function Lh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Gl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gl(t)}function ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function F0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),zr="__reactFiber$"+Ia,Xl="__reactProps$"+Ia,hi="__reactContainer$"+Ia,Yp="__reactEvents$"+Ia,iA="__reactListeners$"+Ia,sA="__reactHandles$"+Ia;function Bs(e){var t=e[zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[zr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=F0(e);e!==null;){if(n=e[zr])return n;e=F0(e)}return t}e=n,n=e.parentNode}return null}function Cu(e){return e=e[zr]||e[hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function uf(e){return e[Xl]||null}var Jp=[],Ko=-1;function ys(e){return{current:e}}function yt(e){0>Ko||(e.current=Jp[Ko],Jp[Ko]=null,Ko--)}function mt(e,t){Ko++,Jp[Ko]=e.current,e.current=t}var hs={},fn=ys(hs),Rn=ys(!1),ao=hs;function xa(e,t){var n=e.type.contextTypes;if(!n)return hs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function In(e){return e=e.childContextTypes,e!=null}function Sd(){yt(Rn),yt(fn)}function B0(e,t,n){if(fn.current!==hs)throw Error(Se(168));mt(fn,t),mt(Rn,n)}function r1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Se(108,VT(e)||"Unknown",i));return Ct({},n,r)}function kd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,ao=fn.current,mt(fn,e),mt(Rn,Rn.current),!0}function U0(e,t,n){var r=e.stateNode;if(!r)throw Error(Se(169));n?(e=r1(e,t,ao),r.__reactInternalMemoizedMergedChildContext=e,yt(Rn),yt(fn),mt(fn,e)):yt(Rn),mt(Rn,n)}var ri=null,cf=!1,$h=!1;function i1(e){ri===null?ri=[e]:ri.push(e)}function oA(e){cf=!0,i1(e)}function vs(){if(!$h&&ri!==null){$h=!0;var e=0,t=dt;try{var n=ri;for(dt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ri=null,cf=!1}catch(i){throw ri!==null&&(ri=ri.slice(e+1)),Ax(Ng,vs),i}finally{dt=t,$h=!1}}return null}var Wo=[],Ho=0,Ed=null,Cd=0,nr=[],rr=0,lo=null,ai=1,li="";function Rs(e,t){Wo[Ho++]=Cd,Wo[Ho++]=Ed,Ed=e,Cd=t}function s1(e,t,n){nr[rr++]=ai,nr[rr++]=li,nr[rr++]=lo,lo=e;var r=ai;e=li;var i=32-Er(r)-1;r&=~(1<<i),n+=1;var s=32-Er(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ai=1<<32-Er(t)+i|n<<i|r,li=s+e}else ai=1<<s|n<<i|r,li=e}function Kg(e){e.return!==null&&(Rs(e,1),s1(e,1,0))}function Wg(e){for(;e===Ed;)Ed=Wo[--Ho],Wo[Ho]=null,Cd=Wo[--Ho],Wo[Ho]=null;for(;e===lo;)lo=nr[--rr],nr[rr]=null,li=nr[--rr],nr[rr]=null,ai=nr[--rr],nr[rr]=null}var Vn=null,zn=null,wt=!1,Sr=null;function o1(e,t){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function z0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vn=e,zn=ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vn=e,zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lo!==null?{id:ai,overflow:li}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vn=e,zn=null,!0):!1;default:return!1}}function Zp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xp(e){if(wt){var t=zn;if(t){var n=t;if(!z0(e,t)){if(Zp(e))throw Error(Se(418));t=ss(n.nextSibling);var r=Vn;t&&z0(e,t)?o1(r,n):(e.flags=e.flags&-4097|2,wt=!1,Vn=e)}}else{if(Zp(e))throw Error(Se(418));e.flags=e.flags&-4097|2,wt=!1,Vn=e}}}function V0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vn=e}function Pc(e){if(e!==Vn)return!1;if(!wt)return V0(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gp(e.type,e.memoizedProps)),t&&(t=zn)){if(Zp(e))throw a1(),Error(Se(418));for(;t;)o1(e,t),t=ss(t.nextSibling)}if(V0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){zn=ss(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}zn=null}}else zn=Vn?ss(e.stateNode.nextSibling):null;return!0}function a1(){for(var e=zn;e;)e=ss(e.nextSibling)}function Sa(){zn=Vn=null,wt=!1}function Hg(e){Sr===null?Sr=[e]:Sr.push(e)}var aA=_i.ReactCurrentBatchConfig;function il(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Se(309));var r=n.stateNode}if(!r)throw Error(Se(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Se(284));if(!n._owner)throw Error(Se(290,e))}return e}function Ac(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function K0(e){var t=e._init;return t(e._payload)}function l1(e){function t(g,y){if(e){var _=g.deletions;_===null?(g.deletions=[y],g.flags|=16):_.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=us(g,y),g.index=0,g.sibling=null,g}function s(g,y,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<y?(g.flags|=2,y):_):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,y,_,C){return y===null||y.tag!==6?(y=Kh(_,g.mode,C),y.return=g,y):(y=i(y,_),y.return=g,y)}function l(g,y,_,C){var O=_.type;return O===Fo?c(g,y,_.props.children,C,_.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$i&&K0(O)===y.type)?(C=i(y,_.props),C.ref=il(g,y,_),C.return=g,C):(C=id(_.type,_.key,_.props,null,g.mode,C),C.ref=il(g,y,_),C.return=g,C)}function u(g,y,_,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Wh(_,g.mode,C),y.return=g,y):(y=i(y,_.children||[]),y.return=g,y)}function c(g,y,_,C,O){return y===null||y.tag!==7?(y=io(_,g.mode,C,O),y.return=g,y):(y=i(y,_),y.return=g,y)}function f(g,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Kh(""+y,g.mode,_),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vc:return _=id(y.type,y.key,y.props,null,g.mode,_),_.ref=il(g,null,y),_.return=g,_;case Mo:return y=Wh(y,g.mode,_),y.return=g,y;case $i:var C=y._init;return f(g,C(y._payload),_)}if(pl(y)||Xa(y))return y=io(y,g.mode,_,null),y.return=g,y;Ac(g,y)}return null}function p(g,y,_,C){var O=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(g,y,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vc:return _.key===O?l(g,y,_,C):null;case Mo:return _.key===O?u(g,y,_,C):null;case $i:return O=_._init,p(g,y,O(_._payload),C)}if(pl(_)||Xa(_))return O!==null?null:c(g,y,_,C,null);Ac(g,_)}return null}function m(g,y,_,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(_)||null,a(y,g,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case vc:return g=g.get(C.key===null?_:C.key)||null,l(y,g,C,O);case Mo:return g=g.get(C.key===null?_:C.key)||null,u(y,g,C,O);case $i:var I=C._init;return m(g,y,_,I(C._payload),O)}if(pl(C)||Xa(C))return g=g.get(_)||null,c(y,g,C,O,null);Ac(y,C)}return null}function b(g,y,_,C){for(var O=null,I=null,R=y,L=y=0,z=null;R!==null&&L<_.length;L++){R.index>L?(z=R,R=null):z=R.sibling;var V=p(g,R,_[L],C);if(V===null){R===null&&(R=z);break}e&&R&&V.alternate===null&&t(g,R),y=s(V,y,L),I===null?O=V:I.sibling=V,I=V,R=z}if(L===_.length)return n(g,R),wt&&Rs(g,L),O;if(R===null){for(;L<_.length;L++)R=f(g,_[L],C),R!==null&&(y=s(R,y,L),I===null?O=R:I.sibling=R,I=R);return wt&&Rs(g,L),O}for(R=r(g,R);L<_.length;L++)z=m(R,g,L,_[L],C),z!==null&&(e&&z.alternate!==null&&R.delete(z.key===null?L:z.key),y=s(z,y,L),I===null?O=z:I.sibling=z,I=z);return e&&R.forEach(function(we){return t(g,we)}),wt&&Rs(g,L),O}function v(g,y,_,C){var O=Xa(_);if(typeof O!="function")throw Error(Se(150));if(_=O.call(_),_==null)throw Error(Se(151));for(var I=O=null,R=y,L=y=0,z=null,V=_.next();R!==null&&!V.done;L++,V=_.next()){R.index>L?(z=R,R=null):z=R.sibling;var we=p(g,R,V.value,C);if(we===null){R===null&&(R=z);break}e&&R&&we.alternate===null&&t(g,R),y=s(we,y,L),I===null?O=we:I.sibling=we,I=we,R=z}if(V.done)return n(g,R),wt&&Rs(g,L),O;if(R===null){for(;!V.done;L++,V=_.next())V=f(g,V.value,C),V!==null&&(y=s(V,y,L),I===null?O=V:I.sibling=V,I=V);return wt&&Rs(g,L),O}for(R=r(g,R);!V.done;L++,V=_.next())V=m(R,g,L,V.value,C),V!==null&&(e&&V.alternate!==null&&R.delete(V.key===null?L:V.key),y=s(V,y,L),I===null?O=V:I.sibling=V,I=V);return e&&R.forEach(function(F){return t(g,F)}),wt&&Rs(g,L),O}function x(g,y,_,C){if(typeof _=="object"&&_!==null&&_.type===Fo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case vc:e:{for(var O=_.key,I=y;I!==null;){if(I.key===O){if(O=_.type,O===Fo){if(I.tag===7){n(g,I.sibling),y=i(I,_.props.children),y.return=g,g=y;break e}}else if(I.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$i&&K0(O)===I.type){n(g,I.sibling),y=i(I,_.props),y.ref=il(g,I,_),y.return=g,g=y;break e}n(g,I);break}else t(g,I);I=I.sibling}_.type===Fo?(y=io(_.props.children,g.mode,C,_.key),y.return=g,g=y):(C=id(_.type,_.key,_.props,null,g.mode,C),C.ref=il(g,y,_),C.return=g,g=C)}return o(g);case Mo:e:{for(I=_.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(g,y.sibling),y=i(y,_.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=Wh(_,g.mode,C),y.return=g,g=y}return o(g);case $i:return I=_._init,x(g,y,I(_._payload),C)}if(pl(_))return b(g,y,_,C);if(Xa(_))return v(g,y,_,C);Ac(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,_),y.return=g,g=y):(n(g,y),y=Kh(_,g.mode,C),y.return=g,g=y),o(g)):n(g,y)}return x}var ka=l1(!0),u1=l1(!1),Td=ys(null),Pd=null,qo=null,qg=null;function Gg(){qg=qo=Pd=null}function Qg(e){var t=Td.current;yt(Td),e._currentValue=t}function em(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sa(e,t){Pd=e,qg=qo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jn=!0),e.firstContext=null)}function ur(e){var t=e._currentValue;if(qg!==e)if(e={context:e,memoizedValue:t,next:null},qo===null){if(Pd===null)throw Error(Se(308));qo=e,Pd.dependencies={lanes:0,firstContext:e}}else qo=qo.next=e;return t}var Us=null;function Yg(e){Us===null?Us=[e]:Us.push(e)}function c1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Yg(t)):(n.next=i.next,i.next=n),t.interleaved=n,pi(e,r)}function pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mi=!1;function Jg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function os(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pi(e,n)}return i=r.interleaved,i===null?(t.next=t,Yg(r)):(t.next=i.next,i.next=t),r.interleaved=t,pi(e,n)}function Zc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lg(e,n)}}function W0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ad(e,t,n,r){var i=e.updateQueue;Mi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,v=a;switch(p=t,m=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(m,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,p=typeof b=="function"?b.call(m,f,p):b,p==null)break e;f=Ct({},f,p);break e;case 2:Mi=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);co|=o,e.lanes=o,e.memoizedState=f}}function H0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Se(191,i));i.call(r)}}}var Tu={},Wr=ys(Tu),eu=ys(Tu),tu=ys(Tu);function zs(e){if(e===Tu)throw Error(Se(174));return e}function Zg(e,t){switch(mt(tu,t),mt(eu,e),mt(Wr,Tu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dp(t,e)}yt(Wr),mt(Wr,t)}function Ea(){yt(Wr),yt(eu),yt(tu)}function f1(e){zs(tu.current);var t=zs(Wr.current),n=Dp(t,e.type);t!==n&&(mt(eu,e),mt(Wr,n))}function Xg(e){eu.current===e&&(yt(Wr),yt(eu))}var xt=ys(0);function jd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mh=[];function ey(){for(var e=0;e<Mh.length;e++)Mh[e]._workInProgressVersionPrimary=null;Mh.length=0}var Xc=_i.ReactCurrentDispatcher,Fh=_i.ReactCurrentBatchConfig,uo=0,Et=null,Ut=null,qt=null,Od=!1,Pl=!1,nu=0,lA=0;function on(){throw Error(Se(321))}function ty(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tr(e[n],t[n]))return!1;return!0}function ny(e,t,n,r,i,s){if(uo=s,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xc.current=e===null||e.memoizedState===null?fA:hA,e=n(r,i),Pl){s=0;do{if(Pl=!1,nu=0,25<=s)throw Error(Se(301));s+=1,qt=Ut=null,t.updateQueue=null,Xc.current=pA,e=n(r,i)}while(Pl)}if(Xc.current=Rd,t=Ut!==null&&Ut.next!==null,uo=0,qt=Ut=Et=null,Od=!1,t)throw Error(Se(300));return e}function ry(){var e=nu!==0;return nu=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Et.memoizedState=qt=e:qt=qt.next=e,qt}function cr(){if(Ut===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var t=qt===null?Et.memoizedState:qt.next;if(t!==null)qt=t,Ut=e;else{if(e===null)throw Error(Se(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},qt===null?Et.memoizedState=qt=e:qt=qt.next=e}return qt}function ru(e,t){return typeof t=="function"?t(e):t}function Bh(e){var t=cr(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var r=Ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((uo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Et.lanes|=c,co|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Tr(r,t.memoizedState)||(jn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Et.lanes|=s,co|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Uh(e){var t=cr(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Tr(s,t.memoizedState)||(jn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function h1(){}function p1(e,t){var n=Et,r=cr(),i=t(),s=!Tr(r.memoizedState,i);if(s&&(r.memoizedState=i,jn=!0),r=r.queue,iy(y1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,iu(9,g1.bind(null,n,r,i,t),void 0,null),Qt===null)throw Error(Se(349));uo&30||m1(n,t,i)}return i}function m1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function g1(e,t,n,r){t.value=n,t.getSnapshot=r,v1(t)&&w1(e)}function y1(e,t,n){return n(function(){v1(t)&&w1(e)})}function v1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tr(e,n)}catch{return!0}}function w1(e){var t=pi(e,1);t!==null&&Cr(t,e,1,-1)}function q0(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:e},t.queue=e,e=e.dispatch=dA.bind(null,Et,e),[t.memoizedState,e]}function iu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function b1(){return cr().memoizedState}function ed(e,t,n,r){var i=$r();Et.flags|=e,i.memoizedState=iu(1|t,n,void 0,r===void 0?null:r)}function df(e,t,n,r){var i=cr();r=r===void 0?null:r;var s=void 0;if(Ut!==null){var o=Ut.memoizedState;if(s=o.destroy,r!==null&&ty(r,o.deps)){i.memoizedState=iu(t,n,s,r);return}}Et.flags|=e,i.memoizedState=iu(1|t,n,s,r)}function G0(e,t){return ed(8390656,8,e,t)}function iy(e,t){return df(2048,8,e,t)}function _1(e,t){return df(4,2,e,t)}function x1(e,t){return df(4,4,e,t)}function S1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function k1(e,t,n){return n=n!=null?n.concat([e]):null,df(4,4,S1.bind(null,t,e),n)}function sy(){}function E1(e,t){var n=cr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ty(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function C1(e,t){var n=cr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ty(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function T1(e,t,n){return uo&21?(Tr(n,t)||(n=Rx(),Et.lanes|=n,co|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jn=!0),e.memoizedState=n)}function uA(e,t){var n=dt;dt=n!==0&&4>n?n:4,e(!0);var r=Fh.transition;Fh.transition={};try{e(!1),t()}finally{dt=n,Fh.transition=r}}function P1(){return cr().memoizedState}function cA(e,t,n){var r=ls(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},A1(e))j1(t,n);else if(n=c1(e,t,n,r),n!==null){var i=wn();Cr(n,e,r,i),O1(n,t,r)}}function dA(e,t,n){var r=ls(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(A1(e))j1(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Tr(a,o)){var l=t.interleaved;l===null?(i.next=i,Yg(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=c1(e,t,i,r),n!==null&&(i=wn(),Cr(n,e,r,i),O1(n,t,r))}}function A1(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function j1(e,t){Pl=Od=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function O1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lg(e,n)}}var Rd={readContext:ur,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},fA={readContext:ur,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:ur,useEffect:G0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ed(4194308,4,S1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ed(4194308,4,e,t)},useInsertionEffect:function(e,t){return ed(4,2,e,t)},useMemo:function(e,t){var n=$r();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$r();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cA.bind(null,Et,e),[r.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:q0,useDebugValue:sy,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=q0(!1),t=e[0];return e=uA.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Et,i=$r();if(wt){if(n===void 0)throw Error(Se(407));n=n()}else{if(n=t(),Qt===null)throw Error(Se(349));uo&30||m1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,G0(y1.bind(null,r,s,e),[e]),r.flags|=2048,iu(9,g1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=$r(),t=Qt.identifierPrefix;if(wt){var n=li,r=ai;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=nu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hA={readContext:ur,useCallback:E1,useContext:ur,useEffect:iy,useImperativeHandle:k1,useInsertionEffect:_1,useLayoutEffect:x1,useMemo:C1,useReducer:Bh,useRef:b1,useState:function(){return Bh(ru)},useDebugValue:sy,useDeferredValue:function(e){var t=cr();return T1(t,Ut.memoizedState,e)},useTransition:function(){var e=Bh(ru)[0],t=cr().memoizedState;return[e,t]},useMutableSource:h1,useSyncExternalStore:p1,useId:P1,unstable_isNewReconciler:!1},pA={readContext:ur,useCallback:E1,useContext:ur,useEffect:iy,useImperativeHandle:k1,useInsertionEffect:_1,useLayoutEffect:x1,useMemo:C1,useReducer:Uh,useRef:b1,useState:function(){return Uh(ru)},useDebugValue:sy,useDeferredValue:function(e){var t=cr();return Ut===null?t.memoizedState=e:T1(t,Ut.memoizedState,e)},useTransition:function(){var e=Uh(ru)[0],t=cr().memoizedState;return[e,t]},useMutableSource:h1,useSyncExternalStore:p1,useId:P1,unstable_isNewReconciler:!1};function vr(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function tm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ff={isMounted:function(e){return(e=e._reactInternals)?go(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wn(),i=ls(e),s=ui(r,i);s.payload=t,n!=null&&(s.callback=n),t=os(e,s,i),t!==null&&(Cr(t,e,i,r),Zc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wn(),i=ls(e),s=ui(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=os(e,s,i),t!==null&&(Cr(t,e,i,r),Zc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wn(),r=ls(e),i=ui(n,r);i.tag=2,t!=null&&(i.callback=t),t=os(e,i,r),t!==null&&(Cr(t,e,r,n),Zc(t,e,r))}};function Q0(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Yl(n,r)||!Yl(i,s):!0}function R1(e,t,n){var r=!1,i=hs,s=t.contextType;return typeof s=="object"&&s!==null?s=ur(s):(i=In(t)?ao:fn.current,r=t.contextTypes,s=(r=r!=null)?xa(e,i):hs),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ff,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Y0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ff.enqueueReplaceState(t,t.state,null)}function nm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Jg(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ur(s):(s=In(t)?ao:fn.current,i.context=xa(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(tm(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ff.enqueueReplaceState(i,i.state,null),Ad(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ca(e,t){try{var n="",r=t;do n+=zT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function zh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mA=typeof WeakMap=="function"?WeakMap:Map;function I1(e,t,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dd||(Dd=!0,hm=r),rm(e,t)},n}function D1(e,t,n){n=ui(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rm(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rm(e,t),typeof r!="function"&&(as===null?as=new Set([this]):as.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function J0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mA;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=AA.bind(null,e,t,n),t.then(e,e))}function Z0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function X0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ui(-1,1),t.tag=2,os(n,t,1))),n.lanes|=1),e)}var gA=_i.ReactCurrentOwner,jn=!1;function yn(e,t,n,r){t.child=e===null?u1(t,null,n,r):ka(t,e.child,n,r)}function ew(e,t,n,r,i){n=n.render;var s=t.ref;return sa(t,i),r=ny(e,t,n,r,s,i),n=ry(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(wt&&n&&Kg(t),t.flags|=1,yn(e,t,r,i),t.child)}function tw(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!hy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,N1(e,t,s,r,i)):(e=id(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Yl,n(o,r)&&e.ref===t.ref)return mi(e,t,i)}return t.flags|=1,e=us(s,r),e.ref=t.ref,e.return=t,t.child=e}function N1(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Yl(s,r)&&e.ref===t.ref)if(jn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(jn=!0);else return t.lanes=e.lanes,mi(e,t,i)}return im(e,t,n,r,i)}function L1(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Qo,Bn),Bn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mt(Qo,Bn),Bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,mt(Qo,Bn),Bn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,mt(Qo,Bn),Bn|=r;return yn(e,t,i,n),t.child}function $1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function im(e,t,n,r,i){var s=In(n)?ao:fn.current;return s=xa(t,s),sa(t,i),n=ny(e,t,n,r,s,i),r=ry(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(wt&&r&&Kg(t),t.flags|=1,yn(e,t,n,i),t.child)}function nw(e,t,n,r,i){if(In(n)){var s=!0;kd(t)}else s=!1;if(sa(t,i),t.stateNode===null)td(e,t),R1(t,n,r),nm(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ur(u):(u=In(n)?ao:fn.current,u=xa(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Y0(t,o,r,u),Mi=!1;var p=t.memoizedState;o.state=p,Ad(t,r,o,i),l=t.memoizedState,a!==r||p!==l||Rn.current||Mi?(typeof c=="function"&&(tm(t,n,c,r),l=t.memoizedState),(a=Mi||Q0(t,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,d1(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:vr(t.type,a),o.props=u,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=In(n)?ao:fn.current,l=xa(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Y0(t,o,r,l),Mi=!1,p=t.memoizedState,o.state=p,Ad(t,r,o,i);var b=t.memoizedState;a!==f||p!==b||Rn.current||Mi?(typeof m=="function"&&(tm(t,n,m,r),b=t.memoizedState),(u=Mi||Q0(t,n,u,r,p,b,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return sm(e,t,n,r,s,i)}function sm(e,t,n,r,i,s){$1(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&U0(t,n,!1),mi(e,t,s);r=t.stateNode,gA.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ka(t,e.child,null,s),t.child=ka(t,null,a,s)):yn(e,t,a,s),t.memoizedState=r.state,i&&U0(t,n,!0),t.child}function M1(e){var t=e.stateNode;t.pendingContext?B0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B0(e,t.context,!1),Zg(e,t.containerInfo)}function rw(e,t,n,r,i){return Sa(),Hg(i),t.flags|=256,yn(e,t,n,r),t.child}var om={dehydrated:null,treeContext:null,retryLane:0};function am(e){return{baseLanes:e,cachePool:null,transitions:null}}function F1(e,t,n){var r=t.pendingProps,i=xt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),mt(xt,i&1),e===null)return Xp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mf(o,r,0,null),e=io(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=am(n),t.memoizedState=om,e):oy(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yA(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=us(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=us(a,s):(s=io(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?am(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=om,r}return s=e.child,e=s.sibling,r=us(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function oy(e,t){return t=mf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jc(e,t,n,r){return r!==null&&Hg(r),ka(t,e.child,null,n),e=oy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yA(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=zh(Error(Se(422))),jc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=mf({mode:"visible",children:r.children},i,0,null),s=io(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ka(t,e.child,null,o),t.child.memoizedState=am(o),t.memoizedState=om,s);if(!(t.mode&1))return jc(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Se(419)),r=zh(s,r,void 0),jc(e,t,o,r)}if(a=(o&e.childLanes)!==0,jn||a){if(r=Qt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pi(e,i),Cr(r,e,i,-1))}return fy(),r=zh(Error(Se(421))),jc(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jA.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,zn=ss(i.nextSibling),Vn=t,wt=!0,Sr=null,e!==null&&(nr[rr++]=ai,nr[rr++]=li,nr[rr++]=lo,ai=e.id,li=e.overflow,lo=t),t=oy(t,r.children),t.flags|=4096,t)}function iw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),em(e.return,t,n)}function Vh(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function B1(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(yn(e,t,r.children,n),r=xt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iw(e,n,t);else if(e.tag===19)iw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mt(xt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&jd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vh(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vh(t,!0,n,null,s);break;case"together":Vh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function td(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),co|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,n=us(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=us(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vA(e,t,n){switch(t.tag){case 3:M1(t),Sa();break;case 5:f1(t);break;case 1:In(t.type)&&kd(t);break;case 4:Zg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;mt(Td,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mt(xt,xt.current&1),t.flags|=128,null):n&t.child.childLanes?F1(e,t,n):(mt(xt,xt.current&1),e=mi(e,t,n),e!==null?e.sibling:null);mt(xt,xt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return B1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mt(xt,xt.current),r)break;return null;case 22:case 23:return t.lanes=0,L1(e,t,n)}return mi(e,t,n)}var U1,lm,z1,V1;U1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lm=function(){};z1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,zs(Wr.current);var s=null;switch(n){case"input":i=jp(e,i),r=jp(e,r),s=[];break;case"select":i=Ct({},i,{value:void 0}),r=Ct({},r,{value:void 0}),s=[];break;case"textarea":i=Ip(e,i),r=Ip(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xd)}Np(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};V1=function(e,t,n,r){n!==r&&(t.flags|=4)};function sl(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function an(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wA(e,t,n){var r=t.pendingProps;switch(Wg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(t),null;case 1:return In(t.type)&&Sd(),an(t),null;case 3:return r=t.stateNode,Ea(),yt(Rn),yt(fn),ey(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sr!==null&&(gm(Sr),Sr=null))),lm(e,t),an(t),null;case 5:Xg(t);var i=zs(tu.current);if(n=t.type,e!==null&&t.stateNode!=null)z1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Se(166));return an(t),null}if(e=zs(Wr.current),Pc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[zr]=t,r[Xl]=s,e=(t.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<gl.length;i++)gt(gl[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":h0(r,s),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gt("invalid",r);break;case"textarea":m0(r,s),gt("invalid",r)}Np(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Tc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Tc(r.textContent,a,e),i=["children",""+a]):Vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gt("scroll",r)}switch(n){case"input":wc(r),p0(r,s,!0);break;case"textarea":wc(r),g0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[zr]=t,e[Xl]=r,U1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lp(n,r),n){case"dialog":gt("cancel",e),gt("close",e),i=r;break;case"iframe":case"object":case"embed":gt("load",e),i=r;break;case"video":case"audio":for(i=0;i<gl.length;i++)gt(gl[i],e);i=r;break;case"source":gt("error",e),i=r;break;case"img":case"image":case"link":gt("error",e),gt("load",e),i=r;break;case"details":gt("toggle",e),i=r;break;case"input":h0(e,r),i=jp(e,r),gt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ct({},r,{value:void 0}),gt("invalid",e);break;case"textarea":m0(e,r),i=Ip(e,r),gt("invalid",e);break;default:i=r}Np(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vx(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kl(e,l):typeof l=="number"&&Kl(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gt("scroll",e):l!=null&&jg(e,s,l,o))}switch(n){case"input":wc(e),p0(e,r,!1);break;case"textarea":wc(e),g0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fs(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ta(e,!!r.multiple,s,!1):r.defaultValue!=null&&ta(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return an(t),null;case 6:if(e&&t.stateNode!=null)V1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Se(166));if(n=zs(tu.current),zs(Wr.current),Pc(t)){if(r=t.stateNode,n=t.memoizedProps,r[zr]=t,(s=r.nodeValue!==n)&&(e=Vn,e!==null))switch(e.tag){case 3:Tc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=t,t.stateNode=r}return an(t),null;case 13:if(yt(xt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&zn!==null&&t.mode&1&&!(t.flags&128))a1(),Sa(),t.flags|=98560,s=!1;else if(s=Pc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Se(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Se(317));s[zr]=t}else Sa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;an(t),s=!1}else Sr!==null&&(gm(Sr),Sr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xt.current&1?Vt===0&&(Vt=3):fy())),t.updateQueue!==null&&(t.flags|=4),an(t),null);case 4:return Ea(),lm(e,t),e===null&&Jl(t.stateNode.containerInfo),an(t),null;case 10:return Qg(t.type._context),an(t),null;case 17:return In(t.type)&&Sd(),an(t),null;case 19:if(yt(xt),s=t.memoizedState,s===null)return an(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)sl(s,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jd(e),o!==null){for(t.flags|=128,sl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mt(xt,xt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Dt()>Ta&&(t.flags|=128,r=!0,sl(s,!1),t.lanes=4194304)}else{if(!r)if(e=jd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wt)return an(t),null}else 2*Dt()-s.renderingStartTime>Ta&&n!==1073741824&&(t.flags|=128,r=!0,sl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Dt(),t.sibling=null,n=xt.current,mt(xt,r?n&1|2:n&1),t):(an(t),null);case 22:case 23:return dy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Bn&1073741824&&(an(t),t.subtreeFlags&6&&(t.flags|=8192)):an(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function bA(e,t){switch(Wg(t),t.tag){case 1:return In(t.type)&&Sd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ea(),yt(Rn),yt(fn),ey(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xg(t),null;case 13:if(yt(xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));Sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yt(xt),null;case 4:return Ea(),null;case 10:return Qg(t.type._context),null;case 22:case 23:return dy(),null;case 24:return null;default:return null}}var Oc=!1,ln=!1,_A=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Go(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(e,t,r)}else n.current=null}function um(e,t,n){try{n()}catch(r){At(e,t,r)}}var sw=!1;function xA(e,t){if(Hp=wd,e=Gx(),Vg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qp={focusedElem:e,selectionRange:n},wd=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,x=b.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:vr(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(C){At(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return b=sw,sw=!1,b}function Al(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&um(t,n,s)}i=i.next}while(i!==r)}}function hf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function K1(e){var t=e.alternate;t!==null&&(e.alternate=null,K1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zr],delete t[Xl],delete t[Yp],delete t[iA],delete t[sA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function W1(e){return e.tag===5||e.tag===3||e.tag===4}function ow(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xd));else if(r!==4&&(e=e.child,e!==null))for(dm(e,t,n),e=e.sibling;e!==null;)dm(e,t,n),e=e.sibling}function fm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fm(e,t,n),e=e.sibling;e!==null;)fm(e,t,n),e=e.sibling}var Yt=null,_r=!1;function ji(e,t,n){for(n=n.child;n!==null;)H1(e,t,n),n=n.sibling}function H1(e,t,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(sf,n)}catch{}switch(n.tag){case 5:ln||Go(n,t);case 6:var r=Yt,i=_r;Yt=null,ji(e,t,n),Yt=r,_r=i,Yt!==null&&(_r?(e=Yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(_r?(e=Yt,n=n.stateNode,e.nodeType===8?Lh(e.parentNode,n):e.nodeType===1&&Lh(e,n),Gl(e)):Lh(Yt,n.stateNode));break;case 4:r=Yt,i=_r,Yt=n.stateNode.containerInfo,_r=!0,ji(e,t,n),Yt=r,_r=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&um(n,t,o),i=i.next}while(i!==r)}ji(e,t,n);break;case 1:if(!ln&&(Go(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,t,a)}ji(e,t,n);break;case 21:ji(e,t,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,ji(e,t,n),ln=r):ji(e,t,n);break;default:ji(e,t,n)}}function aw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _A),t.forEach(function(r){var i=OA.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,_r=!1;break e;case 3:Yt=a.stateNode.containerInfo,_r=!0;break e;case 4:Yt=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if(Yt===null)throw Error(Se(160));H1(s,o,i),Yt=null,_r=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){At(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)q1(t,e),t=t.sibling}function q1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pr(t,e),Nr(e),r&4){try{Al(3,e,e.return),hf(3,e)}catch(v){At(e,e.return,v)}try{Al(5,e,e.return)}catch(v){At(e,e.return,v)}}break;case 1:pr(t,e),Nr(e),r&512&&n!==null&&Go(n,n.return);break;case 5:if(pr(t,e),Nr(e),r&512&&n!==null&&Go(n,n.return),e.flags&32){var i=e.stateNode;try{Kl(i,"")}catch(v){At(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&mx(i,s),Lp(a,o);var u=Lp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?bx(i,f):c==="dangerouslySetInnerHTML"?vx(i,f):c==="children"?Kl(i,f):jg(i,c,f,u)}switch(a){case"input":Op(i,s);break;case"textarea":gx(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ta(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?ta(i,!!s.multiple,s.defaultValue,!0):ta(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xl]=s}catch(v){At(e,e.return,v)}}break;case 6:if(pr(t,e),Nr(e),r&4){if(e.stateNode===null)throw Error(Se(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){At(e,e.return,v)}}break;case 3:if(pr(t,e),Nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gl(t.containerInfo)}catch(v){At(e,e.return,v)}break;case 4:pr(t,e),Nr(e);break;case 13:pr(t,e),Nr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uy=Dt())),r&4&&aw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ln=(u=ln)||c,pr(t,e),ln=u):pr(t,e),Nr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for($e=e,c=e.child;c!==null;){for(f=$e=c;$e!==null;){switch(p=$e,m=p.child,p.tag){case 0:case 11:case 14:case 15:Al(4,p,p.return);break;case 1:Go(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){At(r,n,v)}}break;case 5:Go(p,p.return);break;case 22:if(p.memoizedState!==null){uw(f);continue}}m!==null?(m.return=p,$e=m):uw(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wx("display",o))}catch(v){At(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){At(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pr(t,e),Nr(e),r&4&&aw(e);break;case 21:break;default:pr(t,e),Nr(e)}}function Nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(W1(n)){var r=n;break e}n=n.return}throw Error(Se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kl(i,""),r.flags&=-33);var s=ow(e);fm(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ow(e);dm(e,a,o);break;default:throw Error(Se(161))}}catch(l){At(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SA(e,t,n){$e=e,G1(e)}function G1(e,t,n){for(var r=(e.mode&1)!==0;$e!==null;){var i=$e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Oc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=Oc;var u=ln;if(Oc=o,(ln=l)&&!u)for($e=i;$e!==null;)o=$e,l=o.child,o.tag===22&&o.memoizedState!==null?cw(i):l!==null?(l.return=o,$e=l):cw(i);for(;s!==null;)$e=s,G1(s),s=s.sibling;$e=i,Oc=a,ln=u}lw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$e=s):lw(e)}}function lw(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ln||hf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&H0(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}H0(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Gl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}ln||t.flags&512&&cm(t)}catch(p){At(t,t.return,p)}}if(t===e){$e=null;break}if(n=t.sibling,n!==null){n.return=t.return,$e=n;break}$e=t.return}}function uw(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$e=n;break}$e=t.return}}function cw(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hf(4,t)}catch(l){At(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){At(t,i,l)}}var s=t.return;try{cm(t)}catch(l){At(t,s,l)}break;case 5:var o=t.return;try{cm(t)}catch(l){At(t,o,l)}}}catch(l){At(t,t.return,l)}if(t===e){$e=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$e=a;break}$e=t.return}}var kA=Math.ceil,Id=_i.ReactCurrentDispatcher,ay=_i.ReactCurrentOwner,ar=_i.ReactCurrentBatchConfig,at=0,Qt=null,Mt=null,Xt=0,Bn=0,Qo=ys(0),Vt=0,su=null,co=0,pf=0,ly=0,jl=null,Pn=null,uy=0,Ta=1/0,ti=null,Dd=!1,hm=null,as=null,Rc=!1,Xi=null,Nd=0,Ol=0,pm=null,nd=-1,rd=0;function wn(){return at&6?Dt():nd!==-1?nd:nd=Dt()}function ls(e){return e.mode&1?at&2&&Xt!==0?Xt&-Xt:aA.transition!==null?(rd===0&&(rd=Rx()),rd):(e=dt,e!==0||(e=window.event,e=e===void 0?16:Fx(e.type)),e):1}function Cr(e,t,n,r){if(50<Ol)throw Ol=0,pm=null,Error(Se(185));ku(e,n,r),(!(at&2)||e!==Qt)&&(e===Qt&&(!(at&2)&&(pf|=n),Vt===4&&Bi(e,Xt)),Dn(e,r),n===1&&at===0&&!(t.mode&1)&&(Ta=Dt()+500,cf&&vs()))}function Dn(e,t){var n=e.callbackNode;aP(e,t);var r=vd(e,e===Qt?Xt:0);if(r===0)n!==null&&w0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&w0(n),t===1)e.tag===0?oA(dw.bind(null,e)):i1(dw.bind(null,e)),nA(function(){!(at&6)&&vs()}),n=null;else{switch(Ix(r)){case 1:n=Ng;break;case 4:n=jx;break;case 16:n=yd;break;case 536870912:n=Ox;break;default:n=yd}n=nS(n,Q1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Q1(e,t){if(nd=-1,rd=0,at&6)throw Error(Se(327));var n=e.callbackNode;if(oa()&&e.callbackNode!==n)return null;var r=vd(e,e===Qt?Xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ld(e,r);else{t=r;var i=at;at|=2;var s=J1();(Qt!==e||Xt!==t)&&(ti=null,Ta=Dt()+500,ro(e,t));do try{TA();break}catch(a){Y1(e,a)}while(!0);Gg(),Id.current=s,at=i,Mt!==null?t=0:(Qt=null,Xt=0,t=Vt)}if(t!==0){if(t===2&&(i=Up(e),i!==0&&(r=i,t=mm(e,i))),t===1)throw n=su,ro(e,0),Bi(e,r),Dn(e,Dt()),n;if(t===6)Bi(e,r);else{if(i=e.current.alternate,!(r&30)&&!EA(i)&&(t=Ld(e,r),t===2&&(s=Up(e),s!==0&&(r=s,t=mm(e,s))),t===1))throw n=su,ro(e,0),Bi(e,r),Dn(e,Dt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Se(345));case 2:Is(e,Pn,ti);break;case 3:if(Bi(e,r),(r&130023424)===r&&(t=uy+500-Dt(),10<t)){if(vd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){wn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qp(Is.bind(null,e,Pn,ti),t);break}Is(e,Pn,ti);break;case 4:if(Bi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Er(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kA(r/1960))-r,10<r){e.timeoutHandle=Qp(Is.bind(null,e,Pn,ti),r);break}Is(e,Pn,ti);break;case 5:Is(e,Pn,ti);break;default:throw Error(Se(329))}}}return Dn(e,Dt()),e.callbackNode===n?Q1.bind(null,e):null}function mm(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(ro(e,t).flags|=256),e=Ld(e,t),e!==2&&(t=Pn,Pn=n,t!==null&&gm(t)),e}function gm(e){Pn===null?Pn=e:Pn.push.apply(Pn,e)}function EA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bi(e,t){for(t&=~ly,t&=~pf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Er(t),r=1<<n;e[n]=-1,t&=~r}}function dw(e){if(at&6)throw Error(Se(327));oa();var t=vd(e,0);if(!(t&1))return Dn(e,Dt()),null;var n=Ld(e,t);if(e.tag!==0&&n===2){var r=Up(e);r!==0&&(t=r,n=mm(e,r))}if(n===1)throw n=su,ro(e,0),Bi(e,t),Dn(e,Dt()),n;if(n===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Is(e,Pn,ti),Dn(e,Dt()),null}function cy(e,t){var n=at;at|=1;try{return e(t)}finally{at=n,at===0&&(Ta=Dt()+500,cf&&vs())}}function fo(e){Xi!==null&&Xi.tag===0&&!(at&6)&&oa();var t=at;at|=1;var n=ar.transition,r=dt;try{if(ar.transition=null,dt=1,e)return e()}finally{dt=r,ar.transition=n,at=t,!(at&6)&&vs()}}function dy(){Bn=Qo.current,yt(Qo)}function ro(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tA(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(Wg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sd();break;case 3:Ea(),yt(Rn),yt(fn),ey();break;case 5:Xg(r);break;case 4:Ea();break;case 13:yt(xt);break;case 19:yt(xt);break;case 10:Qg(r.type._context);break;case 22:case 23:dy()}n=n.return}if(Qt=e,Mt=e=us(e.current,null),Xt=Bn=t,Vt=0,su=null,ly=pf=co=0,Pn=jl=null,Us!==null){for(t=0;t<Us.length;t++)if(n=Us[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Us=null}return e}function Y1(e,t){do{var n=Mt;try{if(Gg(),Xc.current=Rd,Od){for(var r=Et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Od=!1}if(uo=0,qt=Ut=Et=null,Pl=!1,nu=0,ay.current=null,n===null||n.return===null){Vt=1,su=t,Mt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Z0(o);if(m!==null){m.flags&=-257,X0(m,o,a,s,t),m.mode&1&&J0(s,u,t),t=m,l=u;var b=t.updateQueue;if(b===null){var v=new Set;v.add(l),t.updateQueue=v}else b.add(l);break e}else{if(!(t&1)){J0(s,u,t),fy();break e}l=Error(Se(426))}}else if(wt&&a.mode&1){var x=Z0(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),X0(x,o,a,s,t),Hg(Ca(l,a));break e}}s=l=Ca(l,a),Vt!==4&&(Vt=2),jl===null?jl=[s]:jl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=I1(s,l,t);W0(s,g);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(as===null||!as.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=D1(s,a,t);W0(s,C);break e}}s=s.return}while(s!==null)}X1(n)}catch(O){t=O,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function J1(){var e=Id.current;return Id.current=Rd,e===null?Rd:e}function fy(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Qt===null||!(co&268435455)&&!(pf&268435455)||Bi(Qt,Xt)}function Ld(e,t){var n=at;at|=2;var r=J1();(Qt!==e||Xt!==t)&&(ti=null,ro(e,t));do try{CA();break}catch(i){Y1(e,i)}while(!0);if(Gg(),at=n,Id.current=r,Mt!==null)throw Error(Se(261));return Qt=null,Xt=0,Vt}function CA(){for(;Mt!==null;)Z1(Mt)}function TA(){for(;Mt!==null&&!ZT();)Z1(Mt)}function Z1(e){var t=tS(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,t===null?X1(e):Mt=t,ay.current=null}function X1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bA(n,t),n!==null){n.flags&=32767,Mt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Mt=null;return}}else if(n=wA(n,t,Bn),n!==null){Mt=n;return}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=e}while(t!==null);Vt===0&&(Vt=5)}function Is(e,t,n){var r=dt,i=ar.transition;try{ar.transition=null,dt=1,PA(e,t,n,r)}finally{ar.transition=i,dt=r}return null}function PA(e,t,n,r){do oa();while(Xi!==null);if(at&6)throw Error(Se(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(lP(e,s),e===Qt&&(Mt=Qt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rc||(Rc=!0,nS(yd,function(){return oa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ar.transition,ar.transition=null;var o=dt;dt=1;var a=at;at|=4,ay.current=null,xA(e,n),q1(n,e),GP(qp),wd=!!Hp,qp=Hp=null,e.current=n,SA(n),XT(),at=a,dt=o,ar.transition=s}else e.current=n;if(Rc&&(Rc=!1,Xi=e,Nd=i),s=e.pendingLanes,s===0&&(as=null),nP(n.stateNode),Dn(e,Dt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dd)throw Dd=!1,e=hm,hm=null,e;return Nd&1&&e.tag!==0&&oa(),s=e.pendingLanes,s&1?e===pm?Ol++:(Ol=0,pm=e):Ol=0,vs(),null}function oa(){if(Xi!==null){var e=Ix(Nd),t=ar.transition,n=dt;try{if(ar.transition=null,dt=16>e?16:e,Xi===null)var r=!1;else{if(e=Xi,Xi=null,Nd=0,at&6)throw Error(Se(331));var i=at;for(at|=4,$e=e.current;$e!==null;){var s=$e,o=s.child;if($e.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($e=u;$e!==null;){var c=$e;switch(c.tag){case 0:case 11:case 15:Al(8,c,s)}var f=c.child;if(f!==null)f.return=c,$e=f;else for(;$e!==null;){c=$e;var p=c.sibling,m=c.return;if(K1(c),c===u){$e=null;break}if(p!==null){p.return=m,$e=p;break}$e=m}}}var b=s.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}$e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$e=o;else e:for(;$e!==null;){if(s=$e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Al(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,$e=g;break e}$e=s.return}}var y=e.current;for($e=y;$e!==null;){o=$e;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,$e=_;else e:for(o=y;$e!==null;){if(a=$e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hf(9,a)}}catch(O){At(a,a.return,O)}if(a===o){$e=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,$e=C;break e}$e=a.return}}if(at=i,vs(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(sf,e)}catch{}r=!0}return r}finally{dt=n,ar.transition=t}}return!1}function fw(e,t,n){t=Ca(n,t),t=I1(e,t,1),e=os(e,t,1),t=wn(),e!==null&&(ku(e,1,t),Dn(e,t))}function At(e,t,n){if(e.tag===3)fw(e,e,n);else for(;t!==null;){if(t.tag===3){fw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(as===null||!as.has(r))){e=Ca(n,e),e=D1(t,e,1),t=os(t,e,1),e=wn(),t!==null&&(ku(t,1,e),Dn(t,e));break}}t=t.return}}function AA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wn(),e.pingedLanes|=e.suspendedLanes&n,Qt===e&&(Xt&n)===n&&(Vt===4||Vt===3&&(Xt&130023424)===Xt&&500>Dt()-uy?ro(e,0):ly|=n),Dn(e,t)}function eS(e,t){t===0&&(e.mode&1?(t=xc,xc<<=1,!(xc&130023424)&&(xc=4194304)):t=1);var n=wn();e=pi(e,t),e!==null&&(ku(e,t,n),Dn(e,n))}function jA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),eS(e,n)}function OA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Se(314))}r!==null&&r.delete(t),eS(e,n)}var tS;tS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rn.current)jn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jn=!1,vA(e,t,n);jn=!!(e.flags&131072)}else jn=!1,wt&&t.flags&1048576&&s1(t,Cd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;td(e,t),e=t.pendingProps;var i=xa(t,fn.current);sa(t,n),i=ny(null,t,r,e,i,n);var s=ry();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(r)?(s=!0,kd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jg(t),i.updater=ff,t.stateNode=i,i._reactInternals=t,nm(t,r,e,n),t=sm(null,t,r,!0,s,n)):(t.tag=0,wt&&s&&Kg(t),yn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(td(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=IA(r),e=vr(r,e),i){case 0:t=im(null,t,r,e,n);break e;case 1:t=nw(null,t,r,e,n);break e;case 11:t=ew(null,t,r,e,n);break e;case 14:t=tw(null,t,r,vr(r.type,e),n);break e}throw Error(Se(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vr(r,i),im(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vr(r,i),nw(e,t,r,i,n);case 3:e:{if(M1(t),e===null)throw Error(Se(387));r=t.pendingProps,s=t.memoizedState,i=s.element,d1(e,t),Ad(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ca(Error(Se(423)),t),t=rw(e,t,r,n,i);break e}else if(r!==i){i=Ca(Error(Se(424)),t),t=rw(e,t,r,n,i);break e}else for(zn=ss(t.stateNode.containerInfo.firstChild),Vn=t,wt=!0,Sr=null,n=u1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sa(),r===i){t=mi(e,t,n);break e}yn(e,t,r,n)}t=t.child}return t;case 5:return f1(t),e===null&&Xp(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Gp(r,i)?o=null:s!==null&&Gp(r,s)&&(t.flags|=32),$1(e,t),yn(e,t,o,n),t.child;case 6:return e===null&&Xp(t),null;case 13:return F1(e,t,n);case 4:return Zg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ka(t,null,r,n):yn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vr(r,i),ew(e,t,r,i,n);case 7:return yn(e,t,t.pendingProps,n),t.child;case 8:return yn(e,t,t.pendingProps.children,n),t.child;case 12:return yn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,mt(Td,r._currentValue),r._currentValue=o,s!==null)if(Tr(s.value,o)){if(s.children===i.children&&!Rn.current){t=mi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ui(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),em(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Se(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),em(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,sa(t,n),i=ur(i),r=r(i),t.flags|=1,yn(e,t,r,n),t.child;case 14:return r=t.type,i=vr(r,t.pendingProps),i=vr(r.type,i),tw(e,t,r,i,n);case 15:return N1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vr(r,i),td(e,t),t.tag=1,In(r)?(e=!0,kd(t)):e=!1,sa(t,n),R1(t,r,i),nm(t,r,i,n),sm(null,t,r,!0,e,n);case 19:return B1(e,t,n);case 22:return L1(e,t,n)}throw Error(Se(156,t.tag))};function nS(e,t){return Ax(e,t)}function RA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(e,t,n,r){return new RA(e,t,n,r)}function hy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IA(e){if(typeof e=="function")return hy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rg)return 11;if(e===Ig)return 14}return 2}function us(e,t){var n=e.alternate;return n===null?(n=sr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function id(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")hy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fo:return io(n.children,i,s,t);case Og:o=8,i|=8;break;case Cp:return e=sr(12,n,t,i|2),e.elementType=Cp,e.lanes=s,e;case Tp:return e=sr(13,n,t,i),e.elementType=Tp,e.lanes=s,e;case Pp:return e=sr(19,n,t,i),e.elementType=Pp,e.lanes=s,e;case fx:return mf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cx:o=10;break e;case dx:o=9;break e;case Rg:o=11;break e;case Ig:o=14;break e;case $i:o=16,r=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=sr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function io(e,t,n,r){return e=sr(7,e,r,t),e.lanes=n,e}function mf(e,t,n,r){return e=sr(22,e,r,t),e.elementType=fx,e.lanes=n,e.stateNode={isHidden:!1},e}function Kh(e,t,n){return e=sr(6,e,null,t),e.lanes=n,e}function Wh(e,t,n){return t=sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DA(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eh(0),this.expirationTimes=Eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function py(e,t,n,r,i,s,o,a,l){return e=new DA(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=sr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(s),e}function NA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rS(e){if(!e)return hs;e=e._reactInternals;e:{if(go(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var n=e.type;if(In(n))return r1(e,n,t)}return t}function iS(e,t,n,r,i,s,o,a,l){return e=py(n,r,!0,e,i,s,o,a,l),e.context=rS(null),n=e.current,r=wn(),i=ls(n),s=ui(r,i),s.callback=t??null,os(n,s,i),e.current.lanes=i,ku(e,i,r),Dn(e,r),e}function gf(e,t,n,r){var i=t.current,s=wn(),o=ls(i);return n=rS(n),t.context===null?t.context=n:t.pendingContext=n,t=ui(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=os(i,t,o),e!==null&&(Cr(e,i,o,s),Zc(e,i,o)),o}function $d(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function my(e,t){hw(e,t),(e=e.alternate)&&hw(e,t)}function LA(){return null}var sS=typeof reportError=="function"?reportError:function(e){console.error(e)};function gy(e){this._internalRoot=e}yf.prototype.render=gy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));gf(e,t,null,null)};yf.prototype.unmount=gy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fo(function(){gf(null,e,null,null)}),t[hi]=null}};function yf(e){this._internalRoot=e}yf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fi.length&&t!==0&&t<Fi[n].priority;n++);Fi.splice(n,0,e),n===0&&Mx(e)}};function yy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pw(){}function $A(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$d(o);s.call(u)}}var o=iS(t,r,e,0,null,!1,!1,"",pw);return e._reactRootContainer=o,e[hi]=o.current,Jl(e.nodeType===8?e.parentNode:e),fo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=$d(l);a.call(u)}}var l=py(e,0,!1,null,null,!1,!1,"",pw);return e._reactRootContainer=l,e[hi]=l.current,Jl(e.nodeType===8?e.parentNode:e),fo(function(){gf(t,l,n,r)}),l}function wf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$d(o);a.call(l)}}gf(t,o,e,i)}else o=$A(n,t,e,i,r);return $d(o)}Dx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ml(t.pendingLanes);n!==0&&(Lg(t,n|1),Dn(t,Dt()),!(at&6)&&(Ta=Dt()+500,vs()))}break;case 13:fo(function(){var r=pi(e,1);if(r!==null){var i=wn();Cr(r,e,1,i)}}),my(e,1)}};$g=function(e){if(e.tag===13){var t=pi(e,134217728);if(t!==null){var n=wn();Cr(t,e,134217728,n)}my(e,134217728)}};Nx=function(e){if(e.tag===13){var t=ls(e),n=pi(e,t);if(n!==null){var r=wn();Cr(n,e,t,r)}my(e,t)}};Lx=function(){return dt};$x=function(e,t){var n=dt;try{return dt=e,t()}finally{dt=n}};Mp=function(e,t,n){switch(t){case"input":if(Op(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=uf(r);if(!i)throw Error(Se(90));px(r),Op(r,i)}}}break;case"textarea":gx(e,n);break;case"select":t=n.value,t!=null&&ta(e,!!n.multiple,t,!1)}};Sx=cy;kx=fo;var MA={usingClientEntryPoint:!1,Events:[Cu,Vo,uf,_x,xx,cy]},ol={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FA={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tx(e),e===null?null:e.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||LA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{sf=Ic.inject(FA),Kr=Ic}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MA;Hn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yy(t))throw Error(Se(200));return NA(e,t,null,n)};Hn.createRoot=function(e,t){if(!yy(e))throw Error(Se(299));var n=!1,r="",i=sS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=py(e,1,!1,null,null,n,!1,r,i),e[hi]=t.current,Jl(e.nodeType===8?e.parentNode:e),new gy(t)};Hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=Tx(t),e=e===null?null:e.stateNode,e};Hn.flushSync=function(e){return fo(e)};Hn.hydrate=function(e,t,n){if(!vf(t))throw Error(Se(200));return wf(null,e,t,!0,n)};Hn.hydrateRoot=function(e,t,n){if(!yy(e))throw Error(Se(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=sS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=iS(t,null,e,1,n??null,i,!1,s,o),e[hi]=t.current,Jl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new yf(t)};Hn.render=function(e,t,n){if(!vf(t))throw Error(Se(200));return wf(null,e,t,!1,n)};Hn.unmountComponentAtNode=function(e){if(!vf(e))throw Error(Se(40));return e._reactRootContainer?(fo(function(){wf(null,null,e,!1,function(){e._reactRootContainer=null,e[hi]=null})}),!0):!1};Hn.unstable_batchedUpdates=cy;Hn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vf(n))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return wf(e,t,n,!1,r)};Hn.version="18.3.1-next-f1338f8080-20240426";function oS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oS)}catch(e){console.error(e)}}oS(),ox.exports=Hn;var vy=ox.exports;const BA=nf(vy);var mw=vy;kp.createRoot=mw.createRoot,kp.hydrateRoot=mw.hydrateRoot;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gw="popstate";function UA(e={}){function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=yo(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ym("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:ou(s))}function r(i,s){Wn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return VA(t,n,r,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zA(){return Math.random().toString(36).substring(2,10)}function yw(e,t){return{usr:e.state,key:e.key,idx:t}}function ym(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yo(t):t,state:n,key:t&&t.key||r||zA()}}function ou({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function VA(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function f(){a="POP";let x=c(),g=x==null?null:x-u;u=x,l&&l({action:a,location:v.location,delta:g})}function p(x,g){a="PUSH";let y=ym(v.location,x,g);n&&n(y,x),u=c()+1;let _=yw(y,u),C=v.createHref(y);try{o.pushState(_,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(C)}s&&l&&l({action:a,location:v.location,delta:1})}function m(x,g){a="REPLACE";let y=ym(v.location,x,g);n&&n(y,x),u=c();let _=yw(y,u),C=v.createHref(y);o.replaceState(_,"",C),s&&l&&l({action:a,location:v.location,delta:0})}function b(x){return KA(x)}let v={get action(){return a},get location(){return e(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gw,f),l=x,()=>{i.removeEventListener(gw,f),l=null}},createHref(x){return t(i,x)},createURL:b,encodeLocation(x){let g=b(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(x){return o.go(x)}};return v}function KA(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ou(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function aS(e,t,n="/"){return WA(e,t,n,!1)}function WA(e,t,n,r){let i=typeof t=="string"?yo(t):t,s=gi(i.pathname||"/",n);if(s==null)return null;let o=lS(e);HA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=r2(s);a=t2(o[l],u,r)}return a}function lS(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;_t(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let f=ci([r,c.relativePath]),p=n.concat(c);o.children&&o.children.length>0&&(_t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),lS(o.children,t,p,f,l)),!(o.path==null&&!o.index)&&t.push({path:f,score:XA(f,o.index),routesMeta:p})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of uS(o.path))s(o,a,!0,u)}),t}function uS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=uS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function HA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:e2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qA=/^:[\w-]+$/,GA=3,QA=2,YA=1,JA=10,ZA=-2,vw=e=>e==="*";function XA(e,t){let n=e.split("/"),r=n.length;return n.some(vw)&&(r+=ZA),t&&(r+=QA),n.filter(i=>!vw(i)).reduce((i,s)=>i+(qA.test(s)?GA:s===""?YA:JA),r)}function e2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function t2(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",f=Md({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Md({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ci([s,f.pathname]),pathnameBase:a2(ci([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ci([s,f.pathnameBase]))}return o}function Md(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=n2(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},p)=>{if(c==="*"){let b=a[p]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const m=a[p];return f&&!m?u[c]=void 0:u[c]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function n2(e,t=!1,n=!0){Wn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function r2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function i2(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?yo(e):e;return{pathname:n?n.startsWith("/")?n:s2(n,t):t,search:l2(r),hash:u2(i)}}function s2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hh(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wy(e){let t=o2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function by(e,t,n,r=!1){let i;typeof e=="string"?i=yo(e):(i={...e},_t(!i.pathname||!i.pathname.includes("?"),Hh("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Hh("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Hh("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=i2(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var ci=e=>e.join("/").replace(/\/\/+/g,"/"),a2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),l2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,u2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function c2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var cS=["POST","PUT","PATCH","DELETE"];new Set(cS);var d2=["GET",...cS];new Set(d2);var Da=k.createContext(null);Da.displayName="DataRouter";var bf=k.createContext(null);bf.displayName="DataRouterState";k.createContext(!1);var dS=k.createContext({isTransitioning:!1});dS.displayName="ViewTransition";var f2=k.createContext(new Map);f2.displayName="Fetchers";var h2=k.createContext(null);h2.displayName="Await";var Pr=k.createContext(null);Pr.displayName="Navigation";var Pu=k.createContext(null);Pu.displayName="Location";var Ar=k.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var _y=k.createContext(null);_y.displayName="RouteError";function p2(e,{relative:t}={}){_t(Na(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Pr),{hash:i,pathname:s,search:o}=ju(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:ci([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Na(){return k.useContext(Pu)!=null}function dr(){return _t(Na(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Pu).location}var fS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hS(e){k.useContext(Pr).static||k.useLayoutEffect(e)}function jr(){let{isDataRoute:e}=k.useContext(Ar);return e?T2():m2()}function m2(){_t(Na(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Da),{basename:t,navigator:n}=k.useContext(Pr),{matches:r}=k.useContext(Ar),{pathname:i}=dr(),s=JSON.stringify(wy(r)),o=k.useRef(!1);return hS(()=>{o.current=!0}),k.useCallback((l,u={})=>{if(Wn(o.current,fS),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=by(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ci([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}k.createContext(null);function Au(){let{matches:e}=k.useContext(Ar),t=e[e.length-1];return t?t.params:{}}function ju(e,{relative:t}={}){let{matches:n}=k.useContext(Ar),{pathname:r}=dr(),i=JSON.stringify(wy(n));return k.useMemo(()=>by(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function g2(e,t){return pS(e,t)}function pS(e,t,n,r,i){var y;_t(Na(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(Pr),{matches:o}=k.useContext(Ar),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",f=a&&a.route;{let _=f&&f.path||"";mS(u,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let p=dr(),m;if(t){let _=typeof t=="string"?yo(t):t;_t(c==="/"||((y=_.pathname)==null?void 0:y.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=p;let b=m.pathname||"/",v=b;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=aS(e,{pathname:v});Wn(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Wn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=_2(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:ci([c,s.encodeLocation?s.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:ci([c,s.encodeLocation?s.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,n,r,i);return t&&g?k.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function y2(){let e=C2(),t=c2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:i},n):null,o)}var v2=k.createElement(y2,null),w2=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Ar.Provider,{value:this.props.routeContext},k.createElement(_y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b2({routeContext:e,match:t,children:n}){let r=k.useContext(Da);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Ar.Provider,{value:e},n)}function _2(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);_t(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let c=s[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:f,errors:p}=n,m=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,c,f)=>{let p,m=!1,b=null,v=null;n&&(p=o&&c.route.id?o[c.route.id]:void 0,b=c.route.errorElement||v2,a&&(l<0&&f===0?(mS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,v=null):l===f&&(m=!0,v=c.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,f+1)),g=()=>{let y;return p?y=b:m?y=v:c.route.Component?y=k.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=u,k.createElement(b2,{match:c,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?k.createElement(w2,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:r}):g()},null)}function xy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x2(e){let t=k.useContext(Da);return _t(t,xy(e)),t}function S2(e){let t=k.useContext(bf);return _t(t,xy(e)),t}function k2(e){let t=k.useContext(Ar);return _t(t,xy(e)),t}function Sy(e){let t=k2(e),n=t.matches[t.matches.length-1];return _t(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function E2(){return Sy("useRouteId")}function C2(){var r;let e=k.useContext(_y),t=S2("useRouteError"),n=Sy("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function T2(){let{router:e}=x2("useNavigate"),t=Sy("useNavigate"),n=k.useRef(!1);return hS(()=>{n.current=!0}),k.useCallback(async(i,s={})=>{Wn(n.current,fS),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var ww={};function mS(e,t,n){!t&&!ww[e]&&(ww[e]=!0,Wn(!1,n))}k.memo(P2);function P2({routes:e,future:t,state:n,unstable_onError:r}){return pS(e,void 0,n,r,t)}function gS({to:e,replace:t,state:n,relative:r}){_t(Na(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(Pr);Wn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=k.useContext(Ar),{pathname:o}=dr(),a=jr(),l=by(e,wy(s),o,r==="path"),u=JSON.stringify(l);return k.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function kn(e){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A2({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){_t(!Na(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=k.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=yo(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:p="default"}=n,m=k.useMemo(()=>{let b=gi(l,o);return b==null?null:{location:{pathname:b,search:u,hash:c,state:f,key:p},navigationType:r}},[o,l,u,c,f,p,r]);return Wn(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:k.createElement(Pr.Provider,{value:a},k.createElement(Pu.Provider,{children:t,value:m}))}function j2({children:e,location:t}){return g2(vm(e),t)}function vm(e,t=[]){let n=[];return k.Children.forEach(e,(r,i)=>{if(!k.isValidElement(r))return;let s=[...t,i];if(r.type===k.Fragment){n.push.apply(n,vm(r.props.children,s));return}_t(r.type===kn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vm(r.props.children,s)),n.push(o)}),n}var sd="get",od="application/x-www-form-urlencoded";function _f(e){return e!=null&&typeof e.tagName=="string"}function O2(e){return _f(e)&&e.tagName.toLowerCase()==="button"}function R2(e){return _f(e)&&e.tagName.toLowerCase()==="form"}function I2(e){return _f(e)&&e.tagName.toLowerCase()==="input"}function D2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function N2(e,t){return e.button===0&&(!t||t==="_self")&&!D2(e)}function wm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function L2(e,t){let n=wm(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Dc=null;function $2(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var M2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qh(e){return e!=null&&!M2.has(e)?(Wn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${od}"`),null):e}function F2(e,t){let n,r,i,s,o;if(R2(e)){let a=e.getAttribute("action");r=a?gi(a,t):null,n=e.getAttribute("method")||sd,i=qh(e.getAttribute("enctype"))||od,s=new FormData(e)}else if(O2(e)||I2(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?gi(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||sd,i=qh(e.getAttribute("formenctype"))||qh(a.getAttribute("enctype"))||od,s=new FormData(a,e),!$2()){let{name:u,type:c,value:f}=e;if(c==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,f)}}else{if(_f(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sd,r=null,i=od,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ky(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function B2(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&gi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function U2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function V2(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await U2(s,n);return o.links?o.links():[]}return[]}));return q2(r.flat(1).filter(z2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function bw(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function K2(e,t,{includeHydrateFallback:n}={}){return W2(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function W2(e){return[...new Set(e)]}function H2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function q2(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(H2(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function yS(){let e=k.useContext(Da);return ky(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function G2(){let e=k.useContext(bf);return ky(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ey=k.createContext(void 0);Ey.displayName="FrameworkContext";function vS(){let e=k.useContext(Ey);return ky(e,"You must render this element inside a <HydratedRouter> element"),e}function Q2(e,t){let n=k.useContext(Ey),[r,i]=k.useState(!1),[s,o]=k.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,p=k.useRef(null);k.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=g=>{g.forEach(y=>{o(y.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[e]),k.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{i(!0)},b=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,p,{}]:[s,p,{onFocus:al(a,m),onBlur:al(l,b),onMouseEnter:al(u,m),onMouseLeave:al(c,b),onTouchStart:al(f,m)}]:[!1,p,{}]}function al(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Y2({page:e,...t}){let{router:n}=yS(),r=k.useMemo(()=>aS(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?k.createElement(Z2,{page:e,matches:r,...t}):null}function J2(e){let{manifest:t,routeModules:n}=vS(),[r,i]=k.useState([]);return k.useEffect(()=>{let s=!1;return V2(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function Z2({page:e,matches:t,...n}){let r=dr(),{manifest:i,routeModules:s}=vS(),{basename:o}=yS(),{loaderData:a,matches:l}=G2(),u=k.useMemo(()=>bw(e,t,l,i,r,"data"),[e,t,l,i,r]),c=k.useMemo(()=>bw(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=k.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,v=!1;if(t.forEach(g=>{var _;let y=i.routes[g.route.id];!y||!y.hasLoader||(!u.some(C=>C.route.id===g.route.id)&&g.route.id in a&&((_=s[g.route.id])!=null&&_.shouldRevalidate)||y.hasClientLoader?v=!0:b.add(g.route.id))}),b.size===0)return[];let x=B2(e,o,"data");return v&&b.size>0&&x.searchParams.set("_routes",t.filter(g=>b.has(g.route.id)).map(g=>g.route.id).join(",")),[x.pathname+x.search]},[o,a,r,i,u,t,e,s]),p=k.useMemo(()=>K2(c,i),[c,i]),m=J2(c);return k.createElement(k.Fragment,null,f.map(b=>k.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),p.map(b=>k.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),m.map(({key:b,link:v})=>k.createElement("link",{key:b,nonce:n.nonce,...v})))}function X2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var wS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wS&&(window.__reactRouterVersion="7.9.3")}catch{}function ej({basename:e,children:t,window:n}){let r=k.useRef();r.current==null&&(r.current=UA({window:n,v5Compat:!0}));let i=r.current,[s,o]=k.useState({action:i.action,location:i.location}),a=k.useCallback(l=>{k.startTransition(()=>o(l))},[o]);return k.useLayoutEffect(()=>i.listen(a),[i,a]),k.createElement(A2,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var bS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Un=k.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f,...p},m){let{basename:b}=k.useContext(Pr),v=typeof u=="string"&&bS.test(u),x,g=!1;if(typeof u=="string"&&v&&(x=u,wS))try{let z=new URL(window.location.href),V=u.startsWith("//")?new URL(z.protocol+u):new URL(u),we=gi(V.pathname,b);V.origin===z.origin&&we!=null?u=we+V.search+V.hash:g=!0}catch{Wn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=p2(u,{relative:i}),[_,C,O]=Q2(r,p),I=ij(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function R(z){t&&t(z),z.defaultPrevented||I(z)}let L=k.createElement("a",{...p,...O,href:x||y,onClick:g||s?t:R,ref:X2(m,C),target:l,"data-discover":!v&&n==="render"?"true":void 0});return _&&!v?k.createElement(k.Fragment,null,L,k.createElement(Y2,{page:y})):L});Un.displayName="Link";var tj=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let f=ju(o,{relative:u.relative}),p=dr(),m=k.useContext(bf),{navigator:b,basename:v}=k.useContext(Pr),x=m!=null&&cj(f)&&a===!0,g=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,y=p.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(y=y.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase()),_&&v&&(_=gi(_,v)||_);const C=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let O=y===g||!i&&y.startsWith(g)&&y.charAt(C)==="/",I=_!=null&&(_===g||!i&&_.startsWith(g)&&_.charAt(g.length)==="/"),R={isActive:O,isPending:I,isTransitioning:x},L=O?t:void 0,z;typeof r=="function"?z=r(R):z=[r,O?"active":null,I?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(R):s;return k.createElement(Un,{...u,"aria-current":L,className:z,ref:c,style:V,to:o,viewTransition:a},typeof l=="function"?l(R):l)});tj.displayName="NavLink";var nj=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=sd,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...p},m)=>{let b=lj(),v=uj(a,{relative:u}),x=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&bS.test(a),y=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let C=_.nativeEvent.submitter,O=(C==null?void 0:C.getAttribute("formmethod"))||o;b(C||_.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:f})};return k.createElement("form",{ref:m,method:x,action:v,onSubmit:r?l:y,...p,"data-discover":!g&&e==="render"?"true":void 0})});nj.displayName="Form";function rj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _S(e){let t=k.useContext(Da);return _t(t,rj(e)),t}function ij(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=jr(),l=dr(),u=ju(e,{relative:s});return k.useCallback(c=>{if(N2(c,t)){c.preventDefault();let f=n!==void 0?n:ou(l)===ou(u);a(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}function sj(e){Wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(wm(e)),n=k.useRef(!1),r=dr(),i=k.useMemo(()=>L2(r.search,n.current?null:t.current),[r.search]),s=jr(),o=k.useCallback((a,l)=>{const u=wm(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var oj=0,aj=()=>`__${String(++oj)}__`;function lj(){let{router:e}=_S("useSubmit"),{basename:t}=k.useContext(Pr),n=E2();return k.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=F2(r,t);if(i.navigate===!1){let c=i.fetcherKey||aj();await e.fetch(c,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function uj(e,{relative:t}={}){let{basename:n}=k.useContext(Pr),r=k.useContext(Ar);_t(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ju(e||".",{relative:t})},o=dr();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let c=a.toString();s.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ci([n,s.pathname])),ou(s)}function cj(e,{relative:t}={}){let n=k.useContext(dS);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_S("useViewTransitionState"),i=ju(e,{relative:t});if(!n.isTransitioning)return!1;let s=gi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=gi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Md(i.pathname,o)!=null||Md(i.pathname,s)!=null}const La="https://script.google.com/macros/s/AKfycbynZahbOOktMAZDYAUSCvG775_NwreTVV31OzQBkefIZ1-OAUrOsnhg4Uxi1TUKihhPMw/exec",xS="radtpoqypgqetijvopho",dj="modulepreload",fj=function(e){return"/new-sankeertan/"+e},_w={},$a=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=fj(l),l in _w)return;_w[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":dj,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},hj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ma);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Cy extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class xw extends Cy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Sw extends Cy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kw extends Cy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bm||(bm={}));var pj=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class mj{constructor(t,{headers:n={},customFetch:r,region:i=bm.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=hj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return pj(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:o,body:a,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const f=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,f.searchParams.set("forceFunctionRegion",c));let p;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(u["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(u["Content-Type"]="application/json",p=JSON.stringify(a)));const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:p,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new xw(g)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new Sw(m);if(!m.ok)throw new kw(m);let v=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield m.json():v==="application/octet-stream"?x=yield m.blob():v==="text/event-stream"?x=m:v==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new xw(s)}:{data:null,error:s,response:s instanceof kw||s instanceof Sw?s.context:void 0}}})}}var An={},Ty={},xf={},Ou={},Sf={},kf={},gj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pa=gj();const yj=Pa.fetch,SS=Pa.fetch.bind(Pa),kS=Pa.Headers,vj=Pa.Request,wj=Pa.Response,Ma=Object.freeze(Object.defineProperty({__proto__:null,Headers:kS,Request:vj,Response:wj,default:SS,fetch:yj},Symbol.toStringTag,{value:"Module"})),bj=pT(Ma);var Ef={};Object.defineProperty(Ef,"__esModule",{value:!0});let _j=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ef.default=_j;var ES=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kf,"__esModule",{value:!0});const xj=ES(bj),Sj=ES(Ef);let kj=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=xj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l,u;let c=null,f=null,p=null,m=s.status,b=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=y:f=JSON.parse(y))}const x=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,m=406,b="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const x=await s.text();try{c=JSON.parse(x),Array.isArray(c)&&s.status===404&&(f=[],c=null,m=200,b="OK")}catch{s.status===404&&x===""?(m=204,b="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,m=200,b="OK"),c&&this.shouldThrowOnError)throw new Sj.default(c)}return{error:c,data:f,count:p,status:m,statusText:b}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};kf.default=kj;var Ej=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sf,"__esModule",{value:!0});const Cj=Ej(kf);let Tj=class extends Cj.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Sf.default=Tj;var Pj=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ou,"__esModule",{value:!0});const Aj=Pj(Sf);let jj=class extends Aj.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ou.default=jj;var Oj=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xf,"__esModule",{value:!0});const ll=Oj(Ou);let Rj=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){const{head:r=!1,count:i}=n??{},s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new ll.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const s="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ll.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ll.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ll.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ll.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};xf.default=Rj;var CS=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ty,"__esModule",{value:!0});const Ij=CS(xf),Dj=CS(Ou);let Nj=class TS{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Ij.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new TS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(a="POST",u=n);const c=new Headers(this.headers);return s&&c.set("Prefer",`count=${s}`),new Dj.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Ty.default=Nj;var Fa=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(An,"__esModule",{value:!0});An.PostgrestError=An.PostgrestBuilder=An.PostgrestTransformBuilder=An.PostgrestFilterBuilder=An.PostgrestQueryBuilder=An.PostgrestClient=void 0;const PS=Fa(Ty);An.PostgrestClient=PS.default;const AS=Fa(xf);An.PostgrestQueryBuilder=AS.default;const jS=Fa(Ou);An.PostgrestFilterBuilder=jS.default;const OS=Fa(Sf);An.PostgrestTransformBuilder=OS.default;const RS=Fa(kf);An.PostgrestBuilder=RS.default;const IS=Fa(Ef);An.PostgrestError=IS.default;var Lj=An.default={PostgrestClient:PS.default,PostgrestQueryBuilder:AS.default,PostgrestFilterBuilder:jS.default,PostgrestTransformBuilder:OS.default,PostgrestBuilder:RS.default,PostgrestError:IS.default};const{PostgrestClient:$j,PostgrestQueryBuilder:wB,PostgrestFilterBuilder:bB,PostgrestTransformBuilder:_B,PostgrestBuilder:xB,PostgrestError:SB}=Lj;class Mj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Fj="2.74.0",Bj=`realtime-js/${Fj}`,Uj="1.0.0",_m=1e4,zj=1e3,Vj=100;var Rl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rl||(Rl={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var xr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xr||(xr={}));var xm;(function(e){e.websocket="websocket"})(xm||(xm={}));var $s;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($s||($s={}));class Kj{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class DS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pt||(pt={}));const Ew=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=Wj(o,e,t,i),s),{}):{}},Wj=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?NS(s,o):Sm(o)},NS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Qj(t,n)}switch(e){case pt.bool:return Hj(t);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return qj(t);case pt.json:case pt.jsonb:return Gj(t);case pt.timestamp:return Yj(t);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return Sm(t);default:return Sm(t)}},Sm=e=>e,Hj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Gj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Qj=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>NS(t,a))}return e},Yj=e=>typeof e=="string"?e.replace(" ","T"):e,LS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Gh{constructor(t,n,r={},i=_m){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Cw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Cw||(Cw={}));class Il{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Il.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Il.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Il.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=s[u];if(f){const p=c.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),b=c.filter(x=>m.indexOf(x.presence_ref)<0),v=f.filter(x=>p.indexOf(x.presence_ref)<0);b.length>0&&(a[u]=b),v.length>0&&(l[u]=v)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(m=>m.presence_ref),p=c.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tw||(Tw={}));var Dl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dl||(Dl={}));var ni;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ni||(ni={}));class Py{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gh(this,xr.join,this.params,this.timeout),this.rejoinTimer=new DS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Il(this),this.broadcastEndpointURL=LS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Dl.PRESENCE]&&this.bindings[Dl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ni.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ni.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){t==null||t(ni.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,g=[];for(let y=0;y<x;y++){const _=v[y],{filter:{event:C,schema:O,table:I,filter:R}}=_,L=m&&m[y];if(L&&L.event===C&&L.schema===O&&L.table===I&&L.filter===R)g.push(Object.assign(Object.assign({},_),{id:L.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(ni.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ni.SUBSCRIBED);return}}).receive("error",m=>{this.state=Bt.errored,t==null||t(ni.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ni.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Bt.joined&&t===Dl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Gh(this,xr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Gh(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Vj){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=xr;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var b,v,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(v=m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var b,v,x,g,y,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const C=m.id,O=(b=m.filter)===null||b===void 0?void 0:b.event;return C&&((v=n.ids)===null||v===void 0?void 0:v.includes(C))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const C=(y=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return C==="*"||C===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:v,table:x,commit_timestamp:g,type:y,errors:_}=b;p=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(b))}m.callback(p,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Py.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xr.close,{},t)}_onError(t){this._on(xr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ew(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ew(t.columns,t.old_record)),n}}const Qh=()=>{},Nc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Jj=[1e3,2e3,5e3,1e4],Zj=1e4,Xj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eO{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_m,this.transport=null,this.heartbeatIntervalMs=Nc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qh,this.ref=0,this.reconnectTimer=null,this.logger=Qh,this.conn=null,this.sendBuffer=[],this.serializer=new Kj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>$a(async()=>{const{default:a}=await Promise.resolve().then(()=>Ma);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${xm.websocket}`,this.httpEndpoint=LS(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Uj}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rl.connecting:return $s.Connecting;case Rl.open:return $s.Open;case Rl.closing:return $s.Closing;default:return $s.Closed}}isConnected(){return this.connectionState()===$s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Py(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(zj,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Nc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(xr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Xj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Bj};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(xr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new DS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,a,l,u,c;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:_m,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Nc.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Qh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>Jj[f-1]||Zj,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,p)=>p(JSON.stringify(f)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ay extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tO extends Ay{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class km extends Ay{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var nO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const $S=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ma);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},rO=()=>nO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $a(()=>Promise.resolve().then(()=>Ma),void 0)).Response:Response}),Em=e=>{if(Array.isArray(e))return e.map(n=>Em(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Em(r)}),t},iO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var vo=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Yh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sO=(e,t,n)=>vo(void 0,void 0,void 0,function*(){const r=yield rO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new tO(Yh(i),s,o))}).catch(i=>{t(new km(Yh(i),i))}):t(new km(Yh(e),e))}),oO=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(iO(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ru(e,t,n,r,i,s){return vo(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,oO(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>sO(l,a,r))})})}function Fd(e,t,n,r){return vo(this,void 0,void 0,function*(){return Ru(e,"GET",t,n,r)})}function Mr(e,t,n,r,i){return vo(this,void 0,void 0,function*(){return Ru(e,"POST",t,r,i,n)})}function Cm(e,t,n,r,i){return vo(this,void 0,void 0,function*(){return Ru(e,"PUT",t,r,i,n)})}function aO(e,t,n,r){return vo(this,void 0,void 0,function*(){return Ru(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function MS(e,t,n,r,i){return vo(this,void 0,void 0,function*(){return Ru(e,"DELETE",t,r,i,n)})}var lO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class uO{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return lO(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}}var cO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class dO{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new uO(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return cO(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}}var Sn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const fO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hO{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=$S(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Sn(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Pw),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(t=="PUT"?Cm:Mr)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Sn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Pw.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Cm(this.fetch,a.toString(),l,{headers:c});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Sn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Mr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Ay("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Sn(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Sn(this,void 0,void 0,function*(){try{return{data:{path:(yield Mr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Sn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Mr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Sn(this,void 0,void 0,function*(){try{const i=yield Mr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(t),l=()=>Fd(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new dO(l,this.shouldThrowOnError)}info(t){return Sn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Fd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Em(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}exists(t){return Sn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield aO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r)&&r instanceof km){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Sn(this,void 0,void 0,function*(){try{return{data:yield MS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Sn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},fO),n),{prefix:t||""});return{data:yield Mr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Sn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Mr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const pO="2.74.0",mO={"X-Client-Info":`storage-js/${pO}`};var Ao=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class gO{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mO),n),this.fetch=$S(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ao(this,void 0,void 0,function*(){try{return{data:yield Fd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ao(this,void 0,void 0,function*(){try{return{data:yield Fd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}createBucket(t){return Ao(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Mr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ao(this,void 0,void 0,function*(){try{return{data:yield Cm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ao(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ao(this,void 0,void 0,function*(){try{return{data:yield MS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}}class yO extends gO{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new hO(this.url,this.headers,t,this.fetch)}}const vO="2.74.0";let yl="";typeof Deno<"u"?yl="deno":typeof document<"u"?yl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yl="react-native":yl="node";const wO={"X-Client-Info":`supabase-js-${yl}/${vO}`},bO={headers:wO},_O={schema:"public"},xO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SO={};var kO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const EO=e=>{let t;return e?t=e:typeof fetch>"u"?t=SS:t=fetch,(...n)=>t(...n)},CO=()=>typeof Headers>"u"?kS:Headers,TO=(e,t,n)=>{const r=EO(n),i=CO();return(s,o)=>kO(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var PO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function AO(e){return e.endsWith("/")?e:e+"/"}function jO(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:f}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>PO(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function OO(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const FS="2.74.0",Lo=30*1e3,Tm=3,Jh=Tm*Lo,RO="http://localhost:9999",IO="supabase.auth.token",DO={"X-Client-Info":`gotrue-js/${FS}`},Pm="X-Supabase-Api-Version",BS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LO=10*60*1e3;class au extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $O extends au{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function MO(e){return Ue(e)&&e.name==="AuthApiError"}class Ms extends au{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ws extends au{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Di extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FO(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class jo extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Lc extends ws{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $c extends ws{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BO(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Aw extends ws{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Am extends ws{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Zh(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class jw extends ws{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jm extends ws{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ow=` 	
\r=`.split(""),UO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ow.length;t+=1)e[Ow[t].charCodeAt(0)]=-2;for(let t=0;t<Bd.length;t+=1)e[Bd[t].charCodeAt(0)]=t;return e})();function Rw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bd[r]),t.queuedBits-=6}}function US(e,t,n){const r=UO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Iw(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{KO(o,r,n)};for(let o=0;o<e.length;o+=1)US(e.charCodeAt(o),i,s);return t.join("")}function zO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function VO(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}zO(r,t)}}function KO(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function aa(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)US(e.charCodeAt(i),n,r);return new Uint8Array(t)}function WO(e){const t=[];return VO(e,n=>t.push(n)),new Uint8Array(t)}function Vs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Rw(i,n,r)),Rw(null,n,r),t.join("")}function HO(e){return Math.round(Date.now()/1e3)+e}function qO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Fn=()=>typeof window<"u"&&typeof document<"u",As={tested:!1,writable:!1},zS=()=>{if(!Fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(As.tested)return As.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),As.tested=!0,As.writable=!0}catch{As.tested=!0,As.writable=!1}return As.writable};function GO(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const VS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ma);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},QO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$o=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},js=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oi=async(e,t)=>{await e.removeItem(t)};class Cf{constructor(){this.promise=new Cf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Cf.promiseConstructor=Promise;function Xh(e){const t=e.split(".");if(t.length!==3)throw new jm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!NO.test(t[r]))throw new jm("JWT not in base64url format");return{header:JSON.parse(Iw(t[0])),payload:JSON.parse(Iw(t[1])),signature:aa(t[2]),raw:{header:t[0],payload:t[1]}}}async function YO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function JO(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function ZO(e){return("0"+e.toString(16)).substr(-2)}function XO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,ZO).join("")}async function eR(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function tR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await eR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oo(e,t,n=!1){const r=XO();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await $o(e,`${t}-code-verifier`,i);const s=await tR(r);return[s,r===s?"plain":"s256"]}const nR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rR(e){const t=e.headers.get(Pm);if(!t||!t.match(nR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function iR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ro(e){if(!oR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ep(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dw(e){return JSON.parse(JSON.stringify(e))}var aR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ds=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lR=[502,503,504];async function Nw(e){var t;if(!QO(e))throw new Am(Ds(e),0);if(lR.includes(e.status))throw new Am(Ds(e),e.status);let n;try{n=await e.json()}catch(s){throw new Ms(Ds(s),s)}let r;const i=rR(e);if(i&&i.getTime()>=BS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jw(Ds(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Di}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new jw(Ds(n),e.status,n.weak_password.reasons);throw new $O(Ds(n),e.status||500,r)}const uR=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ge(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Pm]||(s[Pm]=BS["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await cR(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function cR(e,t,n,r,i,s){const o=uR(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Am(Ds(l),0)}if(a.ok||await Nw(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Nw(l)}}function gr(e){var t;let n=null;hR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=HO(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Lw(e){const t=gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ui(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dR(e){return{data:e,error:null}}function fR(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=aR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function $w(e){return e}function hR(e){return e.access_token&&e.refresh_token&&e.expires_in}const tp=["global","local","others"];var pR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class mR{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=VS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=tp[0]){if(tp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tp.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ui})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=pR(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:fR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ui})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:$w});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ro(t);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ui})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ro(t);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ui})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ro(t);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ui})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ro(t.userId);try{const{data:n,error:r}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ro(t.userId),Ro(t.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:$w});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}function Mw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Io={debug:!!(globalThis&&zS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class KS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gR extends KS{}async function yR(e,t,n){Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Io.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Io.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function vR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function WS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function wR(e){return parseInt(e,16)}function bR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function _R(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:f,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=WS(e.address),b=c?`${c}://${r}`:r,v=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${v}`;let g=`URI: ${f}
Version: ${p}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let y=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);y+=`
- ${_}`}g+=y}return`${x}
${g}`}class Nt extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Ud extends Nt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function xR({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Nt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(qS(o)){if(s.rp.id!==o)return new Nt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function SR({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Nt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(qS(r)){if(n.rpId!==r)return new Nt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var HS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class kR{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ER=new kR;function CR(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=HS(e,["challenge","user","excludeCredentials"]),s=aa(t).buffer,o=Object.assign(Object.assign({},n),{id:aa(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:aa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function TR(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=HS(e,["challenge","allowCredentials"]),i=aa(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:aa(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function PR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function AR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vs(new Uint8Array(i.authenticatorData)),clientDataJSON:Vs(new Uint8Array(i.clientDataJSON)),signature:Vs(new Uint8Array(i.signature)),userHandle:i.userHandle?Vs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function qS(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Fw(){var e,t;return!!(Fn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function jR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ud("Browser returned unexpected credential type",t)}:{data:null,error:new Ud("Empty credential response",t)}}catch(t){return{data:null,error:xR({error:t,options:e})}}}async function OR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ud("Browser returned unexpected credential type",t)}:{data:null,error:new Ud("Empty credential response",t)}}catch(t){return{data:null,error:SR({error:t,options:e})}}}const RR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},IR={userVerification:"preferred",hints:["security-key"]};function zd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(t(o)){const a=r[s];t(a)?r[s]=zd(a,o):r[s]=zd(o)}else r[s]=o}return r}function DR(e,t){return zd(RR,e,t||{})}function NR(e,t){return zd(IR,e,t||{})}class LR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=i??ER.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=DR(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:f}=await jR({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const u=NR(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:f}=await OR(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new Ms("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new au("rpId is required for WebAuthn authentication")};try{if(!Fw())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new Ms("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new au("rpId is required for WebAuthn registration")};try{if(!Fw())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ue(o)?{data:null,error:o}:{data:null,error:new Ms("Unexpected error in register",o)}}}}vR();const $R={url:RO,storageKey:IO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bw(e,t,n){return await n()}const Do={};class lu{get jwks(){var t,n;return(n=(t=Do[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Do[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=lu.nextInstanceID,lu.nextInstanceID+=1,this.instanceID>0&&Fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},$R),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new mR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=VS(i.fetch),this.lock=i.lock||Bw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Fn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yR:this.lock=Bw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LR(this)},this.persistSession?(i.storage?this.storage=i.storage:zS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Mw(this.memoryStorage)),Fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${FS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=GO(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Fn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),BO(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ue(n)?{error:n}:{error:new Ms("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gr}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:f,options:p}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Oo(this.storage,this.storageKey)),s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:b},xform:gr})}else if("phone"in t){const{phone:c,password:f,options:p}=t;s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:gr})}else throw new Lc("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Lw})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Lw})}else throw new Lc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new jo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,o,a,l,u,c,f,p;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:v,wallet:x,statement:g,options:y}=t;let _;if(Fn())if(typeof x=="object")_=x;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")_=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const C=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),O=await _.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=WS(O[0]);let R=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const z=await _.request({method:"eth_chainId"});R=wR(z)}const L={domain:C.host,address:I,statement:g,uri:C.href,version:"1",chainId:R,nonce:(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=_R(L),b=await _.request({method:"personal_sign",params:[bR(m),I]})}try{const{data:v,error:x}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gr});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new jo}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Ue(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var n,r,i,s,o,a,l,u,c,f,p,m;let b,v;if("message"in t)b=t.message,v=t.signature;else{const{chain:x,wallet:g,statement:y,options:_}=t;let C;if(Fn())if(typeof g=="object")C=g;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))C=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=g}const O=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const I=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),y?{statement:y}:null));let R;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")R=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)R=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)b=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),v=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${O.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const I=await C.signMessage(new TextEncoder().encode(b),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=I}}try{const{data:x,error:g}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Vs(v)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:gr});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new jo}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(Ue(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await js(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:gr});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new jo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Ue(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gr}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new jo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Oo(this.storage,this.storageKey));const{error:f}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Lc("You must provide either an email or phone number.")}catch(a){if(Ue(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:gr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Oo(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:dR})}catch(s){if(Ue(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Di;const{error:i}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Lc("You must provide either an email or phone number and a type")}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Jh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await js(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ep()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ui}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Di}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ui})})}catch(n){if(Ue(n))return FO(n)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Di;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Oo(this.storage,this.storageKey));const{data:u,error:c}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ui});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Di;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Xh(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Di;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Fn())throw new $c("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $c(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Aw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $c("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Aw("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new $c("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let p=c+f;l&&(p=parseInt(l));const m=p-c;m*1e3<=Lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const b=p-f;c-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,c):c-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,c);const{data:v,error:x}=await this._getUser(s);if(x)throw x;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(Ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await js(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(MO(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=qO(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Oo(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ue(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:f,error:p}=s;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Fn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ue(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,f=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gr}),{data:p,error:m}=f;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new jo}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:m})}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await JO(async i=>(i>0&&await YO(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Zh(s)&&Date.now()+o-r<Lo})}catch(r){if(this._debug(n,"error",r),Ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Fn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await js(this.storage,this.storageKey);if(i&&this.userStorage){let o=await js(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await $o(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ep()}else if(i&&!i.user&&!i.user){const o=await js(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Oi(this.storage,this.storageKey+"-user"),await $o(this.storage,this.storageKey,i)):i.user=ep()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Jh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Jh}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Zh(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Di;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Cf;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Di;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Ue(s)){const o={data:null,error:s};return Zh(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $o(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Dw(i);await $o(this.storage,this.storageKey,s)}else{const i=Dw(n);await $o(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Oi(this.storage,this.storageKey),await Oi(this.storage,this.storageKey+"-code-verifier"),await Oi(this.storage,this.storageKey+"-user"),this.userStorage&&await Oi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Lo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Lo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Lo}ms, refresh threshold is ${Tm} ticks`),i<=Tm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof KS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Oo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?PR(t.webauthn.credential_response):AR(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:CR(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:TR(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xh(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+LO>i)return r;const{data:s,error:o}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};r=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Xh(r);n!=null&&n.allowExpired||iR(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const c=sR(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,WO(`${a}.${l}`)))throw new jm("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}lu.nextInstanceID=0;const MR=lu;class FR extends MR{constructor(t){super(t)}}var BR=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class UR{constructor(t,n,r){var i,s,o;this.supabaseUrl=t,this.supabaseKey=n;const a=OO(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:_O,realtime:SO,auth:Object.assign(Object.assign({},xO),{storageKey:l}),global:bO},c=jO(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=TO(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new $j(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new yO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new mj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return BR(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:u},c,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FR({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:a,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new eO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zR=(e,t,n)=>new UR(e,t,n);function VR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}VR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const KR="https://"+xS+".supabase.co",WR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhZHRwb3F5cGdxZXRpanZvcGhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE3ODAwNjAsImV4cCI6MjA1NzM1NjA2MH0.dAIWitCyN4TVv3n4PTvhqJlUXsAGVSjOPm-L2jw818k",HR=KR,qR=WR,dn=zR(HR,qR),jy=k.createContext({session:null,setSession:()=>{},isLoading:!0}),GR=({children:e})=>{const[t,n]=k.useState(null),[r,i]=k.useState(!0);k.useEffect(()=>{dn.auth.getSession().then(({data:{session:o}})=>{n(o),i(!1)}),dn.auth.onAuthStateChange((o,a)=>{n(a)})},[]);const s={session:t,setSession:n,isLoading:r};return E.jsx(jy.Provider,{value:s,children:e})},bs=()=>k.useContext(jy),QR=()=>{const[e,t]=k.useState(""),[n,r]=k.useState(""),[i,s]=k.useState(!1),[o,a]=k.useState(null),l=jr(),{setSession:u}=bs(),c=async f=>{f.preventDefault(),s(!0),a(null);try{const{data:{session:p},error:m}=await dn.auth.signInWithPassword({email:e,password:n});if(m)a(m.message);else if(p){u(p);const b=sessionStorage.getItem("redirect_path");sessionStorage.removeItem("redirect_path"),l(b||"/categories",{replace:!0})}}catch(p){a(p.message||"An unexpected error occurred during login.")}finally{s(!1)}};return E.jsx("div",{className:"min-h-screen bg-gray-100 py-6 flex flex-col justify-center sm:py-12",children:E.jsxs("div",{className:"relative py-3 sm:max-w-xl sm:mx-auto",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-300 to-blue-600 shadow-lg transform -skew-y-6 sm:skew-x-6 sm:rounded-3xl"}),E.jsx("div",{className:"relative bg-white px-4 py-10 shadow-lg sm:rounded-3xl sm:px-20",children:E.jsxs("div",{className:"max-w-md mx-auto",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Login"}),E.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"-------------"})]}),E.jsx("div",{children:o&&E.jsx("p",{className:"text-red-500",children:o})}),E.jsxs("div",{className:"divide-y divide-gray-200",children:[E.jsx("form",{onSubmit:c,children:E.jsxs("div",{className:"py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[E.jsxs("div",{className:"relative",children:[E.jsx("input",{autoComplete:"off",id:"email",name:"email",type:"email",value:e,onChange:f=>t(f.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Email address"}),E.jsx("label",{htmlFor:"email",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Email address"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{autoComplete:"off",id:"password",name:"password",type:"password",value:n,onChange:f=>r(f.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Password"}),E.jsx("label",{htmlFor:"password",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Password"})]}),E.jsx("div",{className:"relative",children:E.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-500 px-4 py-2 font-bold text-white shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2",disabled:i,children:i?"Logging in...":"Login"})})]})}),E.jsxs("p",{children:["Don't have an account? ",E.jsx("button",{type:"button",onClick:()=>l("/signup"),children:"Sign Up"})]}),E.jsxs("p",{children:["Forgot your password? ",E.jsx("button",{type:"button",onClick:()=>l("/change-password"),children:"Change Password"})]})]})]})})]})})},YR=()=>{const[e,t]=k.useState(""),[n,r]=k.useState(""),[i,s]=k.useState(!1),[o,a]=k.useState(null),l=async u=>{u.preventDefault(),s(!0),a(null);try{const{error:c}=await dn.auth.signUp({email:e,password:n});c?a(c.message):alert("Signup successful! Please check your email to confirm your account.")}catch(c){a(c.message||"An unexpected error occurred")}finally{s(!1)}};return E.jsxs("div",{children:[E.jsx("h2",{children:"Sign Up"}),o&&E.jsx("p",{style:{color:"red"},children:o}),E.jsxs("form",{onSubmit:l,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",children:"Email:"}),E.jsx("input",{type:"email",id:"email",value:e,onChange:u=>t(u.target.value),required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",children:"Password:"}),E.jsx("input",{type:"password",id:"password",value:n,onChange:u=>r(u.target.value),required:!0})]}),E.jsx("button",{type:"submit",disabled:i,children:i?"Signing up...":"Sign Up"})]})]})},JR=()=>{const[e,t]=k.useState(""),[n,r]=k.useState(!1),[i,s]=k.useState(null),[o,a]=k.useState(null),l=async u=>{u.preventDefault(),r(!0),s(null),a(null);try{const{error:c}=await dn.auth.updateUser({password:e});c?s(c.message):(a("Password updated successfully!"),t(""))}catch(c){s(c.message||"An unexpected error occurred")}finally{r(!1)}};return E.jsxs("div",{children:[E.jsx("h2",{children:"Change Password"}),i&&E.jsx("p",{style:{color:"red"},children:i}),o&&E.jsx("p",{style:{color:"green"},children:o}),E.jsxs("form",{onSubmit:l,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"newPassword",children:"New Password:"}),E.jsx("input",{type:"password",id:"newPassword",value:e,onChange:u=>t(u.target.value),required:!0})]}),E.jsx("button",{type:"submit",disabled:n,children:n?"Updating password...":"Update Password"})]})]})},ZR="auth_redirect_sankeertan",XR=()=>{const e=jr(),[t]=sj(),[n,r]=k.useState(!0),[i,s]=k.useState(null),{setSession:o}=k.useContext(jy);return k.useEffect(()=>{const a=t.get("token"),l=t.get("type"),u=t.get("email"),c=async(f,p,m)=>{r(!0),s(null);try{let b;if(p==="invite"||p==="signup"||p==="email_change"||p==="magiclink"){const v=m;if(!v){s("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}b=await dn.auth.verifyOtp({token:f,type:p,email:v})}else if(p==="recover"){e(`/reset-password?token=${f}`,{replace:!0});return}else if(p==="sms"){const v=m;if(!v){s("Phone number is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}b=await dn.auth.verifyOtp({token:f,type:"sms",phone:v})}else{s(`Unsupported authentication type: ${p}`),r(!1),e("/login",{replace:!0});return}if(b!=null&&b.error)s(b.error.message);else{const{data:{session:v}}=await dn.auth.getSession();v&&o(v),localStorage.setItem(ZR,"true"),e("/",{replace:!0})}}catch(b){s(b.message||"An unexpected error occurred during authentication.")}finally{r(!1)}};a&&l?l==="recover"?c(a,l,""):l==="invite"||l==="signup"||l==="email_change"||l==="magiclink"?u?c(a,l,u):(s("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0})):c(a,l,""):(s("Invalid authentication link."),r(!1),e("/login",{replace:!0}))},[e,t,o]),n?E.jsx("div",{children:"Verifying your account..."}):i?E.jsxs("div",{children:["Error verifying account: ",i]}):null};var Iu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ki,Sg,F_,tI=(F_=class{constructor(){Ve(this,Ki,eI);Ve(this,Sg,!1)}setTimeoutProvider(e){Ne(this,Ki,e)}setTimeout(e,t){return H(this,Ki).setTimeout(e,t)}clearTimeout(e){H(this,Ki).clearTimeout(e)}setInterval(e,t){return H(this,Ki).setInterval(e,t)}clearInterval(e){H(this,Ki).clearInterval(e)}},Ki=new WeakMap,Sg=new WeakMap,F_),Ks=new tI;function nI(e){setTimeout(e,0)}var ho=typeof window>"u"||"Deno"in globalThis;function Tn(){}function rI(e,t){return typeof e=="function"?e(t):e}function Om(e){return typeof e=="number"&&e>=0&&e!==1/0}function GS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function cs(e,t){return typeof e=="function"?e(t):e}function tr(e,t){return typeof e=="function"?e(t):e}function Uw(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Oy(o,t.options))return!1}else if(!cu(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function zw(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(uu(t.options.mutationKey)!==uu(s))return!1}else if(!cu(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Oy(e,t){return((t==null?void 0:t.queryKeyHashFn)||uu)(e)}function uu(e){return JSON.stringify(e,(t,n)=>Im(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function cu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>cu(e[n],t[n])):!1}var iI=Object.prototype.hasOwnProperty;function QS(e,t){if(e===t)return e;const n=Vw(e)&&Vw(t);if(!n&&!(Im(e)&&Im(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),o=s.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=n?u:s[u],f=e[c],p=t[c];if(f===p){a[c]=f,(n?u<i:iI.call(e,c))&&l++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){a[c]=p;continue}const m=QS(f,p);a[c]=m,m===f&&l++}return i===o&&l===i?e:a}function Rm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Vw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Im(e){if(!Kw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Kw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Kw(e){return Object.prototype.toString.call(e)==="[object Object]"}function sI(e){return new Promise(t=>{Ks.setTimeout(t,e)})}function Dm(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?QS(e,t):t}function oI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function aI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ry=Symbol();function YS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ry?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function lI(e,t){return typeof e=="function"?e(...t):!!e}var Gs,Wi,ua,B_,uI=(B_=class extends Iu{constructor(){super();Ve(this,Gs);Ve(this,Wi);Ve(this,ua);Ne(this,ua,t=>{if(!ho&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,Wi)||this.setEventListener(H(this,ua))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Wi))==null||t.call(this),Ne(this,Wi,void 0))}setEventListener(t){var n;Ne(this,ua,t),(n=H(this,Wi))==null||n.call(this),Ne(this,Wi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){H(this,Gs)!==t&&(Ne(this,Gs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof H(this,Gs)=="boolean"?H(this,Gs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gs=new WeakMap,Wi=new WeakMap,ua=new WeakMap,B_),Iy=new uI;function Nm(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var cI=nI;function dI(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=cI;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Zt=dI(),ca,Hi,da,U_,fI=(U_=class extends Iu{constructor(){super();Ve(this,ca,!0);Ve(this,Hi);Ve(this,da);Ne(this,da,t=>{if(!ho&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,Hi)||this.setEventListener(H(this,da))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Hi))==null||t.call(this),Ne(this,Hi,void 0))}setEventListener(t){var n;Ne(this,da,t),(n=H(this,Hi))==null||n.call(this),Ne(this,Hi,t(this.setOnline.bind(this)))}setOnline(t){H(this,ca)!==t&&(Ne(this,ca,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return H(this,ca)}},ca=new WeakMap,Hi=new WeakMap,da=new WeakMap,U_),Vd=new fI;function hI(e){return Math.min(1e3*2**e,3e4)}function JS(e){return(e??"online")==="online"?Vd.isOnline():!0}var Lm=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ZS(e){let t=!1,n=0,r;const i=Nm(),s=()=>i.status!=="pending",o=v=>{var x;if(!s()){const g=new Lm(v);p(g),(x=e.onCancel)==null||x.call(e,g)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>Iy.isFocused()&&(e.networkMode==="always"||Vd.isOnline())&&e.canRun(),c=()=>JS(e.networkMode)&&e.canRun(),f=v=>{s()||(r==null||r(),i.resolve(v))},p=v=>{s()||(r==null||r(),i.reject(v))},m=()=>new Promise(v=>{var x;r=g=>{(s()||u())&&v(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var v;r=void 0,s()||(v=e.onContinue)==null||v.call(e)}),b=()=>{if(s())return;let v;const x=n===0?e.initialPromise:void 0;try{v=x??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(f).catch(g=>{var I;if(s())return;const y=e.retry??(ho?0:3),_=e.retryDelay??hI,C=typeof _=="function"?_(n,g):_,O=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,g);if(t||!O){p(g);return}n++,(I=e.onFail)==null||I.call(e,n,g),sI(C).then(()=>u()?void 0:m()).then(()=>{t?p(g):b()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?b():m().then(b),i)}}var Qs,z_,XS=(z_=class{constructor(){Ve(this,Qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Om(this.gcTime)&&Ne(this,Qs,Ks.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ho?1/0:5*60*1e3))}clearGcTimeout(){H(this,Qs)&&(Ks.clearTimeout(H(this,Qs)),Ne(this,Qs,void 0))}},Qs=new WeakMap,z_),Ys,fa,er,Js,Ht,vu,Zs,wr,ei,V_,pI=(V_=class extends XS{constructor(t){super();Ve(this,wr);Ve(this,Ys);Ve(this,fa);Ve(this,er);Ve(this,Js);Ve(this,Ht);Ve(this,vu);Ve(this,Zs);Ne(this,Zs,!1),Ne(this,vu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ne(this,Js,t.client),Ne(this,er,H(this,Js).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ne(this,Ys,Ww(this.options)),this.state=t.state??H(this,Ys),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,Ht))==null?void 0:t.promise}setOptions(t){if(this.options={...H(this,vu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Ww(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Ne(this,Ys,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,er).remove(this)}setData(t,n){const r=Dm(this.state.data,t,this.options);return st(this,wr,ei).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){st(this,wr,ei).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=H(this,Ht))==null?void 0:r.promise;return(i=H(this,Ht))==null||i.cancel(t),n?n.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Ys))}isActive(){return this.observers.some(t=>tr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ry||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>cs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!GS(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Ht))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Ht))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,er).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(H(this,Ht)&&(H(this,Zs)?H(this,Ht).cancel({revert:!0}):H(this,Ht).cancelRetry()),this.scheduleGc()),H(this,er).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,wr,ei).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,c,f,p,m,b,v,x,g,y,_;if(this.state.fetchStatus!=="idle"&&((l=H(this,Ht))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(H(this,Ht))return H(this,Ht).continueRetry(),H(this,Ht).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(O=>O.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Ne(this,Zs,!0),r.signal)})},s=()=>{const C=YS(this.options,n),I=(()=>{const R={client:H(this,Js),queryKey:this.queryKey,meta:this.meta};return i(R),R})();return Ne(this,Zs,!1),this.options.persister?this.options.persister(C,I,this):C(I)},a=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:H(this,Js),state:this.state,fetchFn:s};return i(C),C})();(u=this.options.behavior)==null||u.onFetch(a,this),Ne(this,fa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&st(this,wr,ei).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),Ne(this,Ht,ZS({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:C=>{C instanceof Lm&&C.revert&&this.setState({...H(this,fa),fetchStatus:"idle"}),r.abort()},onFail:(C,O)=>{st(this,wr,ei).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{st(this,wr,ei).call(this,{type:"pause"})},onContinue:()=>{st(this,wr,ei).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const C=await H(this,Ht).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(m=(p=H(this,er).config).onSuccess)==null||m.call(p,C,this),(v=(b=H(this,er).config).onSettled)==null||v.call(b,C,this.state.error,this),C}catch(C){if(C instanceof Lm){if(C.silent)return H(this,Ht).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw st(this,wr,ei).call(this,{type:"error",error:C}),(g=(x=H(this,er).config).onError)==null||g.call(x,C,this),(_=(y=H(this,er).config).onSettled)==null||_.call(y,this.state.data,C,this),C}finally{this.scheduleGc()}}},Ys=new WeakMap,fa=new WeakMap,er=new WeakMap,Js=new WeakMap,Ht=new WeakMap,vu=new WeakMap,Zs=new WeakMap,wr=new WeakSet,ei=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ek(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ne(this,fa,t.manual?i:void 0),i;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Zt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),H(this,er).notify({query:this,type:"updated",action:t})})},V_);function ek(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ww(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var En,ot,wu,mn,Xs,ha,ii,qi,bu,pa,ma,eo,to,Gi,ga,ut,vl,$m,Mm,Fm,Bm,Um,zm,Vm,tk,K_,mI=(K_=class extends Iu{constructor(t,n){super();Ve(this,ut);Ve(this,En);Ve(this,ot);Ve(this,wu);Ve(this,mn);Ve(this,Xs);Ve(this,ha);Ve(this,ii);Ve(this,qi);Ve(this,bu);Ve(this,pa);Ve(this,ma);Ve(this,eo);Ve(this,to);Ve(this,Gi);Ve(this,ga,new Set);this.options=n,Ne(this,En,t),Ne(this,qi,null),Ne(this,ii,Nm()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,ot).addObserver(this),Hw(H(this,ot),this.options)?st(this,ut,vl).call(this):this.updateResult(),st(this,ut,Bm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Km(H(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Km(H(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,ut,Um).call(this),st(this,ut,zm).call(this),H(this,ot).removeObserver(this)}setOptions(t){const n=this.options,r=H(this,ot);if(this.options=H(this,En).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof tr(this.options.enabled,H(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,ut,Vm).call(this),H(this,ot).setOptions(this.options),n._defaulted&&!Rm(this.options,n)&&H(this,En).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,ot),observer:this});const i=this.hasListeners();i&&qw(H(this,ot),r,this.options,n)&&st(this,ut,vl).call(this),this.updateResult(),i&&(H(this,ot)!==r||tr(this.options.enabled,H(this,ot))!==tr(n.enabled,H(this,ot))||cs(this.options.staleTime,H(this,ot))!==cs(n.staleTime,H(this,ot)))&&st(this,ut,$m).call(this);const s=st(this,ut,Mm).call(this);i&&(H(this,ot)!==r||tr(this.options.enabled,H(this,ot))!==tr(n.enabled,H(this,ot))||s!==H(this,Gi))&&st(this,ut,Fm).call(this,s)}getOptimisticResult(t){const n=H(this,En).getQueryCache().build(H(this,En),t),r=this.createResult(n,t);return yI(this,r)&&(Ne(this,mn,r),Ne(this,ha,this.options),Ne(this,Xs,H(this,ot).state)),r}getCurrentResult(){return H(this,mn)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&H(this,ii).status==="pending"&&H(this,ii).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,i))})}trackProp(t){H(this,ga).add(t)}getCurrentQuery(){return H(this,ot)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=H(this,En).defaultQueryOptions(t),r=H(this,En).getQueryCache().build(H(this,En),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return st(this,ut,vl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,mn)))}createResult(t,n){var z;const r=H(this,ot),i=this.options,s=H(this,mn),o=H(this,Xs),a=H(this,ha),u=t!==r?t.state:H(this,wu),{state:c}=t;let f={...c},p=!1,m;if(n._optimisticResults){const V=this.hasListeners(),we=!V&&Hw(t,n),F=V&&qw(t,r,n,i);(we||F)&&(f={...f,...ek(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:x}=f;m=f.data;let g=!1;if(n.placeholderData!==void 0&&m===void 0&&x==="pending"){let V;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(V=s.data,g=!0):V=typeof n.placeholderData=="function"?n.placeholderData((z=H(this,ma))==null?void 0:z.state.data,H(this,ma)):n.placeholderData,V!==void 0&&(x="success",m=Dm(s==null?void 0:s.data,V,n),p=!0)}if(n.select&&m!==void 0&&!g)if(s&&m===(o==null?void 0:o.data)&&n.select===H(this,bu))m=H(this,pa);else try{Ne(this,bu,n.select),m=n.select(m),m=Dm(s==null?void 0:s.data,m,n),Ne(this,pa,m),Ne(this,qi,null)}catch(V){Ne(this,qi,V)}H(this,qi)&&(b=H(this,qi),m=H(this,pa),v=Date.now(),x="error");const y=f.fetchStatus==="fetching",_=x==="pending",C=x==="error",O=_&&y,I=m!==void 0,L={status:x,fetchStatus:f.fetchStatus,isPending:_,isSuccess:x==="success",isError:C,isInitialLoading:O,isLoading:O,data:m,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!_,isLoadingError:C&&!I,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&I,isStale:Dy(t,n),refetch:this.refetch,promise:H(this,ii),isEnabled:tr(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const V=ee=>{L.status==="error"?ee.reject(L.error):L.data!==void 0&&ee.resolve(L.data)},we=()=>{const ee=Ne(this,ii,L.promise=Nm());V(ee)},F=H(this,ii);switch(F.status){case"pending":t.queryHash===r.queryHash&&V(F);break;case"fulfilled":(L.status==="error"||L.data!==F.value)&&we();break;case"rejected":(L.status!=="error"||L.error!==F.reason)&&we();break}}return L}updateResult(){const t=H(this,mn),n=this.createResult(H(this,ot),this.options);if(Ne(this,Xs,H(this,ot).state),Ne(this,ha,this.options),H(this,Xs).data!==void 0&&Ne(this,ma,H(this,ot)),Rm(n,t))return;Ne(this,mn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!H(this,ga).size)return!0;const o=new Set(s??H(this,ga));return this.options.throwOnError&&o.add("error"),Object.keys(H(this,mn)).some(a=>{const l=a;return H(this,mn)[l]!==t[l]&&o.has(l)})};st(this,ut,tk).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,ut,Bm).call(this)}},En=new WeakMap,ot=new WeakMap,wu=new WeakMap,mn=new WeakMap,Xs=new WeakMap,ha=new WeakMap,ii=new WeakMap,qi=new WeakMap,bu=new WeakMap,pa=new WeakMap,ma=new WeakMap,eo=new WeakMap,to=new WeakMap,Gi=new WeakMap,ga=new WeakMap,ut=new WeakSet,vl=function(t){st(this,ut,Vm).call(this);let n=H(this,ot).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Tn)),n},$m=function(){st(this,ut,Um).call(this);const t=cs(this.options.staleTime,H(this,ot));if(ho||H(this,mn).isStale||!Om(t))return;const r=GS(H(this,mn).dataUpdatedAt,t)+1;Ne(this,eo,Ks.setTimeout(()=>{H(this,mn).isStale||this.updateResult()},r))},Mm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,ot)):this.options.refetchInterval)??!1},Fm=function(t){st(this,ut,zm).call(this),Ne(this,Gi,t),!(ho||tr(this.options.enabled,H(this,ot))===!1||!Om(H(this,Gi))||H(this,Gi)===0)&&Ne(this,to,Ks.setInterval(()=>{(this.options.refetchIntervalInBackground||Iy.isFocused())&&st(this,ut,vl).call(this)},H(this,Gi)))},Bm=function(){st(this,ut,$m).call(this),st(this,ut,Fm).call(this,st(this,ut,Mm).call(this))},Um=function(){H(this,eo)&&(Ks.clearTimeout(H(this,eo)),Ne(this,eo,void 0))},zm=function(){H(this,to)&&(Ks.clearInterval(H(this,to)),Ne(this,to,void 0))},Vm=function(){const t=H(this,En).getQueryCache().build(H(this,En),this.options);if(t===H(this,ot))return;const n=H(this,ot);Ne(this,ot,t),Ne(this,wu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},tk=function(t){Zt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(H(this,mn))}),H(this,En).getQueryCache().notify({query:H(this,ot),type:"observerResultsUpdated"})})},K_);function gI(e,t){return tr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Hw(e,t){return gI(e,t)||e.state.data!==void 0&&Km(e,t,t.refetchOnMount)}function Km(e,t,n){if(tr(t.enabled,e)!==!1&&cs(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Dy(e,t)}return!1}function qw(e,t,n,r){return(e!==t||tr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Dy(e,n)}function Dy(e,t){return tr(t.enabled,e)!==!1&&e.isStaleByTime(cs(t.staleTime,e))}function yI(e,t){return!Rm(e.getCurrentResult(),t)}function Gw(e){return{onFetch:(t,n)=>{var c,f,p,m,b;const r=t.options,i=(p=(f=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=YS(t.options,t.fetchOptions),y=async(_,C,O)=>{if(v)return Promise.reject();if(C==null&&_.pages.length)return Promise.resolve(_);const R=(()=>{const we={client:t.client,queryKey:t.queryKey,pageParam:C,direction:O?"backward":"forward",meta:t.options.meta};return x(we),we})(),L=await g(R),{maxPages:z}=t.options,V=O?aI:oI;return{pages:V(_.pages,L,z),pageParams:V(_.pageParams,C,z)}};if(i&&s.length){const _=i==="backward",C=_?vI:Qw,O={pages:s,pageParams:o},I=C(r,O);a=await y(O,I,_)}else{const _=e??s.length;do{const C=l===0?o[0]??r.initialPageParam:Qw(r,a);if(l>0&&C==null)break;a=await y(a,C),l++}while(l<_)}return a};t.options.persister?t.fetchFn=()=>{var v,x;return(x=(v=t.options).persister)==null?void 0:x.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Qw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function vI(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var _u,Fr,gn,no,Br,Ni,W_,wI=(W_=class extends XS{constructor(t){super();Ve(this,Br);Ve(this,_u);Ve(this,Fr);Ve(this,gn);Ve(this,no);Ne(this,_u,t.client),this.mutationId=t.mutationId,Ne(this,gn,t.mutationCache),Ne(this,Fr,[]),this.state=t.state||bI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,Fr).includes(t)||(H(this,Fr).push(t),this.clearGcTimeout(),H(this,gn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ne(this,Fr,H(this,Fr).filter(n=>n!==t)),this.scheduleGc(),H(this,gn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,Fr).length||(this.state.status==="pending"?this.scheduleGc():H(this,gn).remove(this))}continue(){var t;return((t=H(this,no))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,c,f,p,m,b,v,x,g,y,_,C,O,I,R,L,z;const n=()=>{st(this,Br,Ni).call(this,{type:"continue"})},r={client:H(this,_u),meta:this.options.meta,mutationKey:this.options.mutationKey};Ne(this,no,ZS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(V,we)=>{st(this,Br,Ni).call(this,{type:"failed",failureCount:V,error:we})},onPause:()=>{st(this,Br,Ni).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,gn).canRun(this)}));const i=this.state.status==="pending",s=!H(this,no).canStart();try{if(i)n();else{st(this,Br,Ni).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=H(this,gn).config).onMutate)==null?void 0:a.call(o,t,this,r));const we=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));we!==this.state.context&&st(this,Br,Ni).call(this,{type:"pending",context:we,variables:t,isPaused:s})}const V=await H(this,no).start();return await((f=(c=H(this,gn).config).onSuccess)==null?void 0:f.call(c,V,t,this.state.context,this,r)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,V,t,this.state.context,r)),await((v=(b=H(this,gn).config).onSettled)==null?void 0:v.call(b,V,null,this.state.variables,this.state.context,this,r)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,V,null,t,this.state.context,r)),st(this,Br,Ni).call(this,{type:"success",data:V}),V}catch(V){try{throw await((_=(y=H(this,gn).config).onError)==null?void 0:_.call(y,V,t,this.state.context,this,r)),await((O=(C=this.options).onError)==null?void 0:O.call(C,V,t,this.state.context,r)),await((R=(I=H(this,gn).config).onSettled)==null?void 0:R.call(I,void 0,V,this.state.variables,this.state.context,this,r)),await((z=(L=this.options).onSettled)==null?void 0:z.call(L,void 0,V,t,this.state.context,r)),V}finally{st(this,Br,Ni).call(this,{type:"error",error:V})}}finally{H(this,gn).runNext(this)}}},_u=new WeakMap,Fr=new WeakMap,gn=new WeakMap,no=new WeakMap,Br=new WeakSet,Ni=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Zt.batch(()=>{H(this,Fr).forEach(r=>{r.onMutationUpdate(t)}),H(this,gn).notify({mutation:this,type:"updated",action:t})})},W_);function bI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var si,br,xu,H_,_I=(H_=class extends Iu{constructor(t={}){super();Ve(this,si);Ve(this,br);Ve(this,xu);this.config=t,Ne(this,si,new Set),Ne(this,br,new Map),Ne(this,xu,0)}build(t,n,r){const i=new wI({client:t,mutationCache:this,mutationId:++gc(this,xu)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){H(this,si).add(t);const n=Mc(t);if(typeof n=="string"){const r=H(this,br).get(n);r?r.push(t):H(this,br).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(H(this,si).delete(t)){const n=Mc(t);if(typeof n=="string"){const r=H(this,br).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&H(this,br).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Mc(t);if(typeof n=="string"){const r=H(this,br).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Mc(t);if(typeof n=="string"){const i=(r=H(this,br).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{H(this,si).forEach(t=>{this.notify({type:"removed",mutation:t})}),H(this,si).clear(),H(this,br).clear()})}getAll(){return Array.from(H(this,si))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>zw(n,r))}findAll(t={}){return this.getAll().filter(n=>zw(t,n))}notify(t){Zt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Tn))))}},si=new WeakMap,br=new WeakMap,xu=new WeakMap,H_);function Mc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ur,q_,xI=(q_=class extends Iu{constructor(t={}){super();Ve(this,Ur);this.config=t,Ne(this,Ur,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??Oy(i,n);let o=this.get(s);return o||(o=new pI({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){H(this,Ur).has(t.queryHash)||(H(this,Ur).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=H(this,Ur).get(t.queryHash);n&&(t.destroy(),n===t&&H(this,Ur).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,Ur).get(t)}getAll(){return[...H(this,Ur).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Uw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Uw(t,r)):n}notify(t){Zt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ur=new WeakMap,q_),Tt,Qi,Yi,ya,va,Ji,wa,ba,G_,SI=(G_=class{constructor(e={}){Ve(this,Tt);Ve(this,Qi);Ve(this,Yi);Ve(this,ya);Ve(this,va);Ve(this,Ji);Ve(this,wa);Ve(this,ba);Ne(this,Tt,e.queryCache||new xI),Ne(this,Qi,e.mutationCache||new _I),Ne(this,Yi,e.defaultOptions||{}),Ne(this,ya,new Map),Ne(this,va,new Map),Ne(this,Ji,0)}mount(){gc(this,Ji)._++,H(this,Ji)===1&&(Ne(this,wa,Iy.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Tt).onFocus())})),Ne(this,ba,Vd.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Tt).onOnline())})))}unmount(){var e,t;gc(this,Ji)._--,H(this,Ji)===0&&((e=H(this,wa))==null||e.call(this),Ne(this,wa,void 0),(t=H(this,ba))==null||t.call(this),Ne(this,ba,void 0))}isFetching(e){return H(this,Tt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,Qi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,Tt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=H(this,Tt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(cs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return H(this,Tt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=H(this,Tt).get(r.queryHash),s=i==null?void 0:i.state.data,o=rI(t,s);if(o!==void 0)return H(this,Tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Zt.batch(()=>H(this,Tt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,Tt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=H(this,Tt);Zt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=H(this,Tt);return Zt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Zt.batch(()=>H(this,Tt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(e,t={}){return Zt.batch(()=>(H(this,Tt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Zt.batch(()=>H(this,Tt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Tn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=H(this,Tt).build(this,t);return n.isStaleByTime(cs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tn).catch(Tn)}fetchInfiniteQuery(e){return e.behavior=Gw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tn).catch(Tn)}ensureInfiniteQueryData(e){return e.behavior=Gw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vd.isOnline()?H(this,Qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,Tt)}getMutationCache(){return H(this,Qi)}getDefaultOptions(){return H(this,Yi)}setDefaultOptions(e){Ne(this,Yi,e)}setQueryDefaults(e,t){H(this,ya).set(uu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,ya).values()],n={};return t.forEach(r=>{cu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){H(this,va).set(uu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,va).values()],n={};return t.forEach(r=>{cu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,Yi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Oy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ry&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,Yi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,Tt).clear(),H(this,Qi).clear()}},Tt=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,ya=new WeakMap,va=new WeakMap,Ji=new WeakMap,wa=new WeakMap,ba=new WeakMap,G_),nk=k.createContext(void 0),Tf=e=>{const t=k.useContext(nk);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},kI=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),E.jsx(nk.Provider,{value:e,children:t})),rk=k.createContext(!1),EI=()=>k.useContext(rk);rk.Provider;function CI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var TI=k.createContext(CI()),PI=()=>k.useContext(TI),AI=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},jI=e=>{k.useEffect(()=>{e.clearReset()},[e])},OI=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||lI(n,[e.error,r])),RI=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},II=(e,t)=>e.isLoading&&e.isFetching&&!t,DI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Yw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function NI(e,t,n){var f,p,m,b,v;const r=EI(),i=PI(),s=Tf(),o=s.defaultQueryOptions(e);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",RI(o),AI(o,i),jI(i);const a=!s.getQueryCache().get(o.queryHash),[l]=k.useState(()=>new t(s,o)),u=l.getOptimisticResult(o),c=!r&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(x=>{const g=c?l.subscribe(Zt.batchCalls(x)):Tn;return l.updateResult(),g},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),k.useEffect(()=>{l.setOptions(o)},[o,l]),DI(o,u))throw Yw(o,l,i);if(OI({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||b.call(m,o,u),o.experimental_prefetchInRender&&!ho&&II(u,r)){const x=a?Yw(o,l,i):(v=s.getQueryCache().get(o.queryHash))==null?void 0:v.promise;x==null||x.catch(Tn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Ny(e,t){return NI(e,mI)}var ik={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Gt,function(){var n=function(d,h){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&(w[T]=S[T])})(d,h)},r=function(){return(r=Object.assign||function(d){for(var h,w=1,S=arguments.length;w<S;w++)for(var T in h=arguments[w])Object.prototype.hasOwnProperty.call(h,T)&&(d[T]=h[T]);return d}).apply(this,arguments)};function i(d,h,w){for(var S,T=0,j=h.length;T<j;T++)!S&&T in h||((S=S||Array.prototype.slice.call(h,0,T))[T]=h[T]);return d.concat(S||Array.prototype.slice.call(h))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Gt,o=Object.keys,a=Array.isArray;function l(d,h){return typeof h!="object"||o(h).forEach(function(w){d[w]=h[w]}),d}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var u=Object.getPrototypeOf,c={}.hasOwnProperty;function f(d,h){return c.call(d,h)}function p(d,h){typeof h=="function"&&(h=h(u(d))),(typeof Reflect>"u"?o:Reflect.ownKeys)(h).forEach(function(w){b(d,w,h[w])})}var m=Object.defineProperty;function b(d,h,w,S){m(d,h,l(w&&f(w,"get")&&typeof w.get=="function"?{get:w.get,set:w.set,configurable:!0}:{value:w,configurable:!0,writable:!0},S))}function v(d){return{from:function(h){return d.prototype=Object.create(h.prototype),b(d.prototype,"constructor",d),{extend:p.bind(null,d.prototype)}}}}var x=Object.getOwnPropertyDescriptor,g=[].slice;function y(d,h,w){return g.call(d,h,w)}function _(d,h){return h(d)}function C(d){if(!d)throw new Error("Assertion Failed")}function O(d){s.setImmediate?setImmediate(d):setTimeout(d,0)}function I(d,h){if(typeof h=="string"&&f(d,h))return d[h];if(!h)return d;if(typeof h!="string"){for(var w=[],S=0,T=h.length;S<T;++S){var j=I(d,h[S]);w.push(j)}return w}var D=h.indexOf(".");if(D!==-1){var B=d[h.substr(0,D)];return B==null?void 0:I(B,h.substr(D+1))}}function R(d,h,w){if(d&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof h!="string"&&"length"in h){C(typeof w!="string"&&"length"in w);for(var S=0,T=h.length;S<T;++S)R(d,h[S],w[S])}else{var j,D,B=h.indexOf(".");B!==-1?(j=h.substr(0,B),(D=h.substr(B+1))===""?w===void 0?a(d)&&!isNaN(parseInt(j))?d.splice(j,1):delete d[j]:d[j]=w:R(B=!(B=d[j])||!f(d,j)?d[j]={}:B,D,w)):w===void 0?a(d)&&!isNaN(parseInt(h))?d.splice(h,1):delete d[h]:d[h]=w}}function L(d){var h,w={};for(h in d)f(d,h)&&(w[h]=d[h]);return w}var z=[].concat;function V(d){return z.apply([],d)}var Me="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(V([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(h){return h+d+"Array"})}))).filter(function(d){return s[d]}),we=new Set(Me.map(function(d){return s[d]})),F=null;function ee(d){return F=new WeakMap,d=function h(w){if(!w||typeof w!="object")return w;var S=F.get(w);if(S)return S;if(a(w)){S=[],F.set(w,S);for(var T=0,j=w.length;T<j;++T)S.push(h(w[T]))}else if(we.has(w.constructor))S=w;else{var D,B=u(w);for(D in S=B===Object.prototype?{}:Object.create(B),F.set(w,S),w)f(w,D)&&(S[D]=h(w[D]))}return S}(d),F=null,d}var A={}.toString;function le(d){return A.call(d).slice(8,-1)}var Oe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",M=typeof Oe=="symbol"?function(d){var h;return d!=null&&(h=d[Oe])&&h.apply(d)}:function(){return null};function X(d,h){return h=d.indexOf(h),0<=h&&d.splice(h,1),0<=h}var Z={};function ue(d){var h,w,S,T;if(arguments.length===1){if(a(d))return d.slice();if(this===Z&&typeof d=="string")return[d];if(T=M(d)){for(w=[];!(S=T.next()).done;)w.push(S.value);return w}if(d==null)return[d];if(typeof(h=d.length)!="number")return[d];for(w=new Array(h);h--;)w[h]=d[h];return w}for(h=arguments.length,w=new Array(h);h--;)w[h]=arguments[h];return w}var G=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},xe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Yn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(xe),Q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ye(d,h){this.name=d,this.message=h}function he(d,h){return d+". Errors: "+Object.keys(h).map(function(w){return h[w].toString()}).filter(function(w,S,T){return T.indexOf(w)===S}).join(`
`)}function fe(d,h,w,S){this.failures=h,this.failedKeys=S,this.successCount=w,this.message=he(d,h)}function Fe(d,h){this.name="BulkError",this.failures=Object.keys(h).map(function(w){return h[w]}),this.failuresByPos=h,this.message=he(d,this.failures)}v(ye).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(fe).from(ye),v(Fe).from(ye);var We=Yn.reduce(function(d,h){return d[h]=h+"Error",d},{}),Be=ye,be=Yn.reduce(function(d,h){var w=h+"Error";function S(T,j){this.name=w,T?typeof T=="string"?(this.message="".concat(T).concat(j?`
 `+j:""),this.inner=j||null):typeof T=="object"&&(this.message="".concat(T.name," ").concat(T.message),this.inner=T):(this.message=Q[h]||w,this.inner=null)}return v(S).from(Be),d[h]=S,d},{});be.Syntax=SyntaxError,be.Type=TypeError,be.Range=RangeError;var ct=xe.reduce(function(d,h){return d[h+"Error"]=be[h],d},{}),rt=Yn.reduce(function(d,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(d[h+"Error"]=be[h]),d},{});function He(){}function Ft(d){return d}function P(d,h){return d==null||d===Ft?h:function(w){return h(d(w))}}function pe(d,h){return function(){d.apply(this,arguments),h.apply(this,arguments)}}function ce(d,h){return d===He?h:function(){var w=d.apply(this,arguments);w!==void 0&&(arguments[0]=w);var S=this.onsuccess,T=this.onerror;this.onsuccess=null,this.onerror=null;var j=h.apply(this,arguments);return S&&(this.onsuccess=this.onsuccess?pe(S,this.onsuccess):S),T&&(this.onerror=this.onerror?pe(T,this.onerror):T),j!==void 0?j:w}}function $(d,h){return d===He?h:function(){d.apply(this,arguments);var w=this.onsuccess,S=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),w&&(this.onsuccess=this.onsuccess?pe(w,this.onsuccess):w),S&&(this.onerror=this.onerror?pe(S,this.onerror):S)}}function N(d,h){return d===He?h:function(w){var S=d.apply(this,arguments);l(w,S);var T=this.onsuccess,j=this.onerror;return this.onsuccess=null,this.onerror=null,w=h.apply(this,arguments),T&&(this.onsuccess=this.onsuccess?pe(T,this.onsuccess):T),j&&(this.onerror=this.onerror?pe(j,this.onerror):j),S===void 0?w===void 0?void 0:w:l(S,w)}}function ne(d,h){return d===He?h:function(){return h.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function me(d,h){return d===He?h:function(){var w=d.apply(this,arguments);if(w&&typeof w.then=="function"){for(var S=this,T=arguments.length,j=new Array(T);T--;)j[T]=arguments[T];return w.then(function(){return h.apply(S,j)})}return h.apply(this,arguments)}}rt.ModifyError=fe,rt.DexieError=ye,rt.BulkError=Fe;var ge=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function oe(d){ge=d}var _e={},Re=100,Me=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,u(d),d];var h=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[h,u(h),d]}(),xe=Me[0],Yn=Me[1],Me=Me[2],Yn=Yn&&Yn.then,tt=xe&&xe.constructor,Je=!!Me,jt=function(d,h){Or.push([d,h]),Ie&&(queueMicrotask(UC),Ie=!1)},Gn=!0,Ie=!0,ze=[],Xe=[],xn=Ft,hn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:He,pgp:!1,env:{},finalize:He},De=hn,Or=[],Qn=0,Si=[];function Ce(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=De;if(typeof d!="function"){if(d!==_e)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&hr(this,this._value))}this._state=null,this._value=null,++h.ref,function w(S,T){try{T(function(j){if(S._state===null){if(j===S)throw new TypeError("A promise cannot be resolved with itself.");var D=S._lib&&bo();j&&typeof j.then=="function"?w(S,function(B,K){j instanceof Ce?j._then(B,K):j.then(B,K)}):(S._state=!0,S._value=j,Tv(S)),D&&_o()}},hr.bind(null,S))}catch(j){hr(S,j)}}(this,d)}var Yr={get:function(){var d=De,h=Qu;function w(S,T){var j=this,D=!d.global&&(d!==De||h!==Qu),B=D&&!Ei(),K=new Ce(function(W,te){Kf(j,new Rr(Av(S,d,D,B),Av(T,d,D,B),W,te,d))});return this._consoleTask&&(K._consoleTask=this._consoleTask),K}return w.prototype=_e,w},set:function(d){b(this,"then",d&&d.prototype===_e?Yr:{get:function(){return d},set:Yr.set})}};function Rr(d,h,w,S,T){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof h=="function"?h:null,this.resolve=w,this.reject=S,this.psd=T}function hr(d,h){var w,S;Xe.push(h),d._state===null&&(w=d._lib&&bo(),h=xn(h),d._state=!1,d._value=h,S=d,ze.some(function(T){return T._value===S._value})||ze.push(S),Tv(d),w&&_o())}function Tv(d){var h=d._listeners;d._listeners=[];for(var w=0,S=h.length;w<S;++w)Kf(d,h[w]);var T=d._PSD;--T.ref||T.finalize(),Qn===0&&(++Qn,jt(function(){--Qn==0&&Wf()},[]))}function Kf(d,h){if(d._state!==null){var w=d._state?h.onFulfilled:h.onRejected;if(w===null)return(d._state?h.resolve:h.reject)(d._value);++h.psd.ref,++Qn,jt(BC,[w,d,h])}else d._listeners.push(h)}function BC(d,h,w){try{var S,T=h._value;!h._state&&Xe.length&&(Xe=[]),S=ge&&h._consoleTask?h._consoleTask.run(function(){return d(T)}):d(T),h._state||Xe.indexOf(T)!==-1||function(j){for(var D=ze.length;D;)if(ze[--D]._value===j._value)return ze.splice(D,1)}(h),w.resolve(S)}catch(j){w.reject(j)}finally{--Qn==0&&Wf(),--w.psd.ref||w.psd.finalize()}}function UC(){Ss(hn,function(){bo()&&_o()})}function bo(){var d=Gn;return Ie=Gn=!1,d}function _o(){var d,h,w;do for(;0<Or.length;)for(d=Or,Or=[],w=d.length,h=0;h<w;++h){var S=d[h];S[0].apply(null,S[1])}while(0<Or.length);Ie=Gn=!0}function Wf(){var d=ze;ze=[],d.forEach(function(S){S._PSD.onunhandled.call(null,S._value,S)});for(var h=Si.slice(0),w=h.length;w;)h[--w]()}function Hu(d){return new Ce(_e,!1,d)}function vt(d,h){var w=De;return function(){var S=bo(),T=De;try{return Ci(w,!0),d.apply(this,arguments)}catch(j){h&&h(j)}finally{Ci(T,!1),S&&_o()}}}p(Ce.prototype,{then:Yr,_then:function(d,h){Kf(this,new Rr(null,null,d,h,De))},catch:function(d){if(arguments.length===1)return this.then(null,d);var h=d,w=arguments[1];return typeof h=="function"?this.then(null,function(S){return(S instanceof h?w:Hu)(S)}):this.then(null,function(S){return(S&&S.name===h?w:Hu)(S)})},finally:function(d){return this.then(function(h){return Ce.resolve(d()).then(function(){return h})},function(h){return Ce.resolve(d()).then(function(){return Hu(h)})})},timeout:function(d,h){var w=this;return d<1/0?new Ce(function(S,T){var j=setTimeout(function(){return T(new be.Timeout(h))},d);w.then(S,T).finally(clearTimeout.bind(null,j))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(Ce.prototype,Symbol.toStringTag,"Dexie.Promise"),hn.env=Pv(),p(Ce,{all:function(){var d=ue.apply(null,arguments).map(Yu);return new Ce(function(h,w){d.length===0&&h([]);var S=d.length;d.forEach(function(T,j){return Ce.resolve(T).then(function(D){d[j]=D,--S||h(d)},w)})})},resolve:function(d){return d instanceof Ce?d:d&&typeof d.then=="function"?new Ce(function(h,w){d.then(h,w)}):new Ce(_e,!0,d)},reject:Hu,race:function(){var d=ue.apply(null,arguments).map(Yu);return new Ce(function(h,w){d.map(function(S){return Ce.resolve(S).then(h,w)})})},PSD:{get:function(){return De},set:function(d){return De=d}},totalEchoes:{get:function(){return Qu}},newPSD:ki,usePSD:Ss,scheduler:{get:function(){return jt},set:function(d){jt=d}},rejectionMapper:{get:function(){return xn},set:function(d){xn=d}},follow:function(d,h){return new Ce(function(w,S){return ki(function(T,j){var D=De;D.unhandleds=[],D.onunhandled=j,D.finalize=pe(function(){var B,K=this;B=function(){K.unhandleds.length===0?T():j(K.unhandleds[0])},Si.push(function W(){B(),Si.splice(Si.indexOf(W),1)}),++Qn,jt(function(){--Qn==0&&Wf()},[])},D.finalize),d()},h,w,S)})}}),tt&&(tt.allSettled&&b(Ce,"allSettled",function(){var d=ue.apply(null,arguments).map(Yu);return new Ce(function(h){d.length===0&&h([]);var w=d.length,S=new Array(w);d.forEach(function(T,j){return Ce.resolve(T).then(function(D){return S[j]={status:"fulfilled",value:D}},function(D){return S[j]={status:"rejected",reason:D}}).then(function(){return--w||h(S)})})})}),tt.any&&typeof AggregateError<"u"&&b(Ce,"any",function(){var d=ue.apply(null,arguments).map(Yu);return new Ce(function(h,w){d.length===0&&w(new AggregateError([]));var S=d.length,T=new Array(S);d.forEach(function(j,D){return Ce.resolve(j).then(function(B){return h(B)},function(B){T[D]=B,--S||w(new AggregateError(T))})})})}),tt.withResolvers&&(Ce.withResolvers=tt.withResolvers));var Kt={awaits:0,echoes:0,id:0},zC=0,qu=[],Gu=0,Qu=0,VC=0;function ki(d,h,w,S){var T=De,j=Object.create(T);return j.parent=T,j.ref=0,j.global=!1,j.id=++VC,hn.env,j.env=Je?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject}:{},h&&l(j,h),++T.ref,j.finalize=function(){--this.parent.ref||this.parent.finalize()},S=Ss(j,d,w,S),j.ref===0&&j.finalize(),S}function xo(){return Kt.id||(Kt.id=++zC),++Kt.awaits,Kt.echoes+=Re,Kt.id}function Ei(){return!!Kt.awaits&&(--Kt.awaits==0&&(Kt.id=0),Kt.echoes=Kt.awaits*Re,!0)}function Yu(d){return Kt.echoes&&d&&d.constructor===tt?(xo(),d.then(function(h){return Ei(),h},function(h){return Ei(),Ot(h)})):d}function KC(){var d=qu[qu.length-1];qu.pop(),Ci(d,!1)}function Ci(d,h){var w,S=De;(h?!Kt.echoes||Gu++&&d===De:!Gu||--Gu&&d===De)||queueMicrotask(h?(function(T){++Qu,Kt.echoes&&--Kt.echoes!=0||(Kt.echoes=Kt.awaits=Kt.id=0),qu.push(De),Ci(T,!0)}).bind(null,d):KC),d!==De&&(De=d,S===hn&&(hn.env=Pv()),Je&&(w=hn.env.Promise,h=d.env,(S.global||d.global)&&(Object.defineProperty(s,"Promise",h.PromiseProp),w.all=h.all,w.race=h.race,w.resolve=h.resolve,w.reject=h.reject,h.allSettled&&(w.allSettled=h.allSettled),h.any&&(w.any=h.any))))}function Pv(){var d=s.Promise;return Je?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function Ss(d,h,w,S,T){var j=De;try{return Ci(d,!0),h(w,S,T)}finally{Ci(j,!1)}}function Av(d,h,w,S){return typeof d!="function"?d:function(){var T=De;w&&xo(),Ci(h,!0);try{return d.apply(this,arguments)}finally{Ci(T,!1),S&&queueMicrotask(Ei)}}}function Hf(d){Promise===tt&&Kt.echoes===0?Gu===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+Yn).indexOf("[native code]")===-1&&(xo=Ei=He);var Ot=Ce.reject,ks="",Jr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",jv="String expected.",So=[],Ju="__dbnames",qf="readonly",Gf="readwrite";function Es(d,h){return d?h?function(){return d.apply(this,arguments)&&h.apply(this,arguments)}:d:h}var Ov={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zu(d){return typeof d!="string"||/\./.test(d)?function(h){return h}:function(h){return h[d]===void 0&&d in h&&delete(h=ee(h))[d],h}}function Rv(){throw be.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function it(d,h){try{var w=Iv(d),S=Iv(h);if(w!==S)return w==="Array"?1:S==="Array"?-1:w==="binary"?1:S==="binary"?-1:w==="string"?1:S==="string"?-1:w==="Date"?1:S!=="Date"?NaN:-1;switch(w){case"number":case"Date":case"string":return h<d?1:d<h?-1:0;case"binary":return function(T,j){for(var D=T.length,B=j.length,K=D<B?D:B,W=0;W<K;++W)if(T[W]!==j[W])return T[W]<j[W]?-1:1;return D===B?0:D<B?-1:1}(Dv(d),Dv(h));case"Array":return function(T,j){for(var D=T.length,B=j.length,K=D<B?D:B,W=0;W<K;++W){var te=it(T[W],j[W]);if(te!==0)return te}return D===B?0:D<B?-1:1}(d,h)}}catch{}return NaN}function Iv(d){var h=typeof d;return h!="object"?h:ArrayBuffer.isView(d)?"binary":(d=le(d),d==="ArrayBuffer"?"binary":d)}function Dv(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}function Xu(d,h,w){var S=d.schema.yProps;return S?(h&&0<w.numFailures&&(h=h.filter(function(T,j){return!w.failures[j]})),Promise.all(S.map(function(T){return T=T.updatesTable,h?d.db.table(T).where("k").anyOf(h).delete():d.db.table(T).clear()})).then(function(){return w})):w}var Ka=(Nv.prototype.execute=function(d){var h=this["@@propmod"];if(h.add!==void 0){var w=h.add;if(a(w))return i(i([],a(d)?d:[],!0),w).sort();if(typeof w=="number")return(Number(d)||0)+w;if(typeof w=="bigint")try{return BigInt(d)+w}catch{return BigInt(0)+w}throw new TypeError("Invalid term ".concat(w))}if(h.remove!==void 0){var S=h.remove;if(a(S))return a(d)?d.filter(function(T){return!S.includes(T)}).sort():[];if(typeof S=="number")return Number(d)-S;if(typeof S=="bigint")try{return BigInt(d)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return w=(w=h.replacePrefix)===null||w===void 0?void 0:w[0],w&&typeof d=="string"&&d.startsWith(w)?h.replacePrefix[1]+d.substring(w.length):d},Nv);function Nv(d){this["@@propmod"]=d}function Lv(d,h){for(var w=o(h),S=w.length,T=!1,j=0;j<S;++j){var D=w[j],B=h[D],K=I(d,D);B instanceof Ka?(R(d,D,B.execute(K)),T=!0):K!==B&&(R(d,D,B),T=!0)}return T}var $v=(ht.prototype._trans=function(d,h,w){var S=this._tx||De.trans,T=this.name,j=ge&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function D(W,te,U){if(!U.schema[T])throw new be.NotFound("Table "+T+" not part of transaction");return h(U.idbtrans,U)}var B=bo();try{var K=S&&S.db._novip===this.db._novip?S===De.trans?S._promise(d,D,w):ki(function(){return S._promise(d,D,w)},{trans:S,transless:De.transless||De}):function W(te,U,ie,q){if(te.idbdb&&(te._state.openComplete||De.letThrough||te._vip)){var Y=te._createTransaction(U,ie,te._dbSchema);try{Y.create(),te._state.PR1398_maxLoop=3}catch(J){return J.name===We.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return W(te,U,ie,q)})):Ot(J)}return Y._promise(U,function(J,re){return ki(function(){return De.trans=Y,q(J,re,Y)})}).then(function(J){if(U==="readwrite")try{Y.idbtrans.commit()}catch{}return U==="readonly"?J:Y._completion.then(function(){return J})})}if(te._state.openComplete)return Ot(new be.DatabaseClosed(te._state.dbOpenError));if(!te._state.isBeingOpened){if(!te._state.autoOpen)return Ot(new be.DatabaseClosed);te.open().catch(He)}return te._state.dbReadyPromise.then(function(){return W(te,U,ie,q)})}(this.db,d,[this.name],D);return j&&(K._consoleTask=j,K=K.catch(function(W){return console.trace(W),Ot(W)})),K}finally{B&&_o()}},ht.prototype.get=function(d,h){var w=this;return d&&d.constructor===Object?this.where(d).first(h):d==null?Ot(new be.Type("Invalid argument to Table.get()")):this._trans("readonly",function(S){return w.core.get({trans:S,key:d}).then(function(T){return w.hook.reading.fire(T)})}).then(h)},ht.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(a(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var h=o(d);if(h.length===1)return this.where(h[0]).equals(d[h[0]]);var w=this.schema.indexes.concat(this.schema.primKey).filter(function(B){if(B.compound&&h.every(function(W){return 0<=B.keyPath.indexOf(W)})){for(var K=0;K<h.length;++K)if(h.indexOf(B.keyPath[K])===-1)return!1;return!0}return!1}).sort(function(B,K){return B.keyPath.length-K.keyPath.length})[0];if(w&&this.db._maxKey!==ks){var j=w.keyPath.slice(0,h.length);return this.where(j).equals(j.map(function(K){return d[K]}))}!w&&ge&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var S=this.schema.idxByName;function T(B,K){return it(B,K)===0}var D=h.reduce(function(U,K){var W=U[0],te=U[1],U=S[K],ie=d[K];return[W||U,W||!U?Es(te,U&&U.multi?function(q){return q=I(q,K),a(q)&&q.some(function(Y){return T(ie,Y)})}:function(q){return T(ie,I(q,K))}):te]},[null,null]),j=D[0],D=D[1];return j?this.where(j.name).equals(d[j.keyPath]).filter(D):w?this.filter(D):this.where(h).equals("")},ht.prototype.filter=function(d){return this.toCollection().and(d)},ht.prototype.count=function(d){return this.toCollection().count(d)},ht.prototype.offset=function(d){return this.toCollection().offset(d)},ht.prototype.limit=function(d){return this.toCollection().limit(d)},ht.prototype.each=function(d){return this.toCollection().each(d)},ht.prototype.toArray=function(d){return this.toCollection().toArray(d)},ht.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ht.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,a(d)?"[".concat(d.join("+"),"]"):d))},ht.prototype.reverse=function(){return this.toCollection().reverse()},ht.prototype.mapToClass=function(d){var h,w=this.db,S=this.name;function T(){return h!==null&&h.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof Rv&&(function(K,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function te(){this.constructor=K}n(K,W),K.prototype=W===null?Object.create(W):(te.prototype=W.prototype,new te)}(T,h=d),Object.defineProperty(T.prototype,"db",{get:function(){return w},enumerable:!1,configurable:!0}),T.prototype.table=function(){return S},d=T);for(var j=new Set,D=d.prototype;D;D=u(D))Object.getOwnPropertyNames(D).forEach(function(K){return j.add(K)});function B(K){if(!K)return K;var W,te=Object.create(d.prototype);for(W in K)if(!j.has(W))try{te[W]=K[W]}catch{}return te}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=B,this.hook("reading",B),d},ht.prototype.defineClass=function(){return this.mapToClass(function(d){l(this,d)})},ht.prototype.add=function(d,h){var w=this,S=this.schema.primKey,T=S.auto,j=S.keyPath,D=d;return j&&T&&(D=Zu(j)(d)),this._trans("readwrite",function(B){return w.core.mutate({trans:B,type:"add",keys:h!=null?[h]:null,values:[D]})}).then(function(B){return B.numFailures?Ce.reject(B.failures[0]):B.lastResult}).then(function(B){if(j)try{R(d,j,B)}catch{}return B})},ht.prototype.upsert=function(d,h){var w=this,S=this.schema.primKey.keyPath;return this._trans("readwrite",function(T){return w.core.get({trans:T,key:d}).then(function(j){var D=j??{};return Lv(D,h),S&&R(D,S,d),w.core.mutate({trans:T,type:"put",values:[D],keys:[d],upsert:!0,updates:{keys:[d],changeSpecs:[h]}}).then(function(B){return B.numFailures?Ce.reject(B.failures[0]):!!j})})})},ht.prototype.update=function(d,h){return typeof d!="object"||a(d)?this.where(":id").equals(d).modify(h):(d=I(d,this.schema.primKey.keyPath),d===void 0?Ot(new be.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(h))},ht.prototype.put=function(d,h){var w=this,S=this.schema.primKey,T=S.auto,j=S.keyPath,D=d;return j&&T&&(D=Zu(j)(d)),this._trans("readwrite",function(B){return w.core.mutate({trans:B,type:"put",values:[D],keys:h!=null?[h]:null})}).then(function(B){return B.numFailures?Ce.reject(B.failures[0]):B.lastResult}).then(function(B){if(j)try{R(d,j,B)}catch{}return B})},ht.prototype.delete=function(d){var h=this;return this._trans("readwrite",function(w){return h.core.mutate({trans:w,type:"delete",keys:[d]}).then(function(S){return Xu(h,[d],S)}).then(function(S){return S.numFailures?Ce.reject(S.failures[0]):void 0})})},ht.prototype.clear=function(){var d=this;return this._trans("readwrite",function(h){return d.core.mutate({trans:h,type:"deleteRange",range:Ov}).then(function(w){return Xu(d,null,w)})}).then(function(h){return h.numFailures?Ce.reject(h.failures[0]):void 0})},ht.prototype.bulkGet=function(d){var h=this;return this._trans("readonly",function(w){return h.core.getMany({keys:d,trans:w}).then(function(S){return S.map(function(T){return h.hook.reading.fire(T)})})})},ht.prototype.bulkAdd=function(d,h,w){var S=this,T=Array.isArray(h)?h:void 0,j=(w=w||(T?void 0:h))?w.allKeys:void 0;return this._trans("readwrite",function(D){var W=S.schema.primKey,B=W.auto,W=W.keyPath;if(W&&T)throw new be.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(T&&T.length!==d.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var K=d.length,W=W&&B?d.map(Zu(W)):d;return S.core.mutate({trans:D,type:"add",keys:T,values:W,wantResults:j}).then(function(Y){var U=Y.numFailures,ie=Y.results,q=Y.lastResult,Y=Y.failures;if(U===0)return j?ie:q;throw new Fe("".concat(S.name,".bulkAdd(): ").concat(U," of ").concat(K," operations failed"),Y)})})},ht.prototype.bulkPut=function(d,h,w){var S=this,T=Array.isArray(h)?h:void 0,j=(w=w||(T?void 0:h))?w.allKeys:void 0;return this._trans("readwrite",function(D){var W=S.schema.primKey,B=W.auto,W=W.keyPath;if(W&&T)throw new be.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(T&&T.length!==d.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var K=d.length,W=W&&B?d.map(Zu(W)):d;return S.core.mutate({trans:D,type:"put",keys:T,values:W,wantResults:j}).then(function(Y){var U=Y.numFailures,ie=Y.results,q=Y.lastResult,Y=Y.failures;if(U===0)return j?ie:q;throw new Fe("".concat(S.name,".bulkPut(): ").concat(U," of ").concat(K," operations failed"),Y)})})},ht.prototype.bulkUpdate=function(d){var h=this,w=this.core,S=d.map(function(D){return D.key}),T=d.map(function(D){return D.changes}),j=[];return this._trans("readwrite",function(D){return w.getMany({trans:D,keys:S,cache:"clone"}).then(function(B){var K=[],W=[];d.forEach(function(U,ie){var q=U.key,Y=U.changes,J=B[ie];if(J){for(var re=0,se=Object.keys(Y);re<se.length;re++){var ae=se[re],de=Y[ae];if(ae===h.schema.primKey.keyPath){if(it(de,q)!==0)throw new be.Constraint("Cannot update primary key in bulkUpdate()")}else R(J,ae,de)}j.push(ie),K.push(q),W.push(J)}});var te=K.length;return w.mutate({trans:D,type:"put",keys:K,values:W,updates:{keys:S,changeSpecs:T}}).then(function(U){var ie=U.numFailures,q=U.failures;if(ie===0)return te;for(var Y=0,J=Object.keys(q);Y<J.length;Y++){var re,se=J[Y],ae=j[Number(se)];ae!=null&&(re=q[se],delete q[se],q[ae]=re)}throw new Fe("".concat(h.name,".bulkUpdate(): ").concat(ie," of ").concat(te," operations failed"),q)})})})},ht.prototype.bulkDelete=function(d){var h=this,w=d.length;return this._trans("readwrite",function(S){return h.core.mutate({trans:S,type:"delete",keys:d}).then(function(T){return Xu(h,d,T)})}).then(function(D){var T=D.numFailures,j=D.lastResult,D=D.failures;if(T===0)return j;throw new Fe("".concat(h.name,".bulkDelete(): ").concat(T," of ").concat(w," operations failed"),D)})},ht);function ht(){}function Wa(d){function h(D,B){if(B){for(var K=arguments.length,W=new Array(K-1);--K;)W[K-1]=arguments[K];return w[D].subscribe.apply(null,W),d}if(typeof D=="string")return w[D]}var w={};h.addEventType=j;for(var S=1,T=arguments.length;S<T;++S)j(arguments[S]);return h;function j(D,B,K){if(typeof D!="object"){var W;B=B||ne;var te={subscribers:[],fire:K=K||He,subscribe:function(U){te.subscribers.indexOf(U)===-1&&(te.subscribers.push(U),te.fire=B(te.fire,U))},unsubscribe:function(U){te.subscribers=te.subscribers.filter(function(ie){return ie!==U}),te.fire=te.subscribers.reduce(B,K)}};return w[D]=h[D]=te}o(W=D).forEach(function(U){var ie=W[U];if(a(ie))j(U,W[U][0],W[U][1]);else{if(ie!=="asap")throw new be.InvalidArgument("Invalid event config");var q=j(U,Ft,function(){for(var Y=arguments.length,J=new Array(Y);Y--;)J[Y]=arguments[Y];q.subscribers.forEach(function(re){O(function(){re.apply(null,J)})})})}})}}function Ha(d,h){return v(h).from({prototype:d}),h}function ko(d,h){return!(d.filter||d.algorithm||d.or)&&(h?d.justLimit:!d.replayFilter)}function Qf(d,h){d.filter=Es(d.filter,h)}function Yf(d,h,w){var S=d.replayFilter;d.replayFilter=S?function(){return Es(S(),h())}:h,d.justLimit=w&&!S}function ec(d,h){if(d.isPrimKey)return h.primaryKey;var w=h.getIndexByKeyPath(d.index);if(!w)throw new be.Schema("KeyPath "+d.index+" on object store "+h.name+" is not indexed");return w}function Mv(d,h,w){var S=ec(d,h.schema);return h.openCursor({trans:w,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:S,range:d.range}})}function tc(d,h,w,S){var T=d.replayFilter?Es(d.filter,d.replayFilter()):d.filter;if(d.or){var j={},D=function(B,K,W){var te,U;T&&!T(K,W,function(ie){return K.stop(ie)},function(ie){return K.fail(ie)})||((U=""+(te=K.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(te)),f(j,U)||(j[U]=!0,h(B,K,W)))};return Promise.all([d.or._iterate(D,w),Fv(Mv(d,S,w),d.algorithm,D,!d.keysOnly&&d.valueMapper)])}return Fv(Mv(d,S,w),Es(d.algorithm,T),h,!d.keysOnly&&d.valueMapper)}function Fv(d,h,w,S){var T=vt(S?function(j,D,B){return w(S(j),D,B)}:w);return d.then(function(j){if(j)return j.start(function(){var D=function(){return j.continue()};h&&!h(j,function(B){return D=B},function(B){j.stop(B),D=He},function(B){j.fail(B),D=He})||T(j.value,j,function(B){return D=B}),D()})})}var WC=(lt.prototype._read=function(d,h){var w=this._ctx;return w.error?w.table._trans(null,Ot.bind(null,w.error)):w.table._trans("readonly",d).then(h)},lt.prototype._write=function(d){var h=this._ctx;return h.error?h.table._trans(null,Ot.bind(null,h.error)):h.table._trans("readwrite",d,"locked")},lt.prototype._addAlgorithm=function(d){var h=this._ctx;h.algorithm=Es(h.algorithm,d)},lt.prototype._iterate=function(d,h){return tc(this._ctx,d,h,this._ctx.table.core)},lt.prototype.clone=function(d){var h=Object.create(this.constructor.prototype),w=Object.create(this._ctx);return d&&l(w,d),h._ctx=w,h},lt.prototype.raw=function(){return this._ctx.valueMapper=null,this},lt.prototype.each=function(d){var h=this._ctx;return this._read(function(w){return tc(h,d,w,h.table.core)})},lt.prototype.count=function(d){var h=this;return this._read(function(w){var S=h._ctx,T=S.table.core;if(ko(S,!0))return T.count({trans:w,query:{index:ec(S,T.schema),range:S.range}}).then(function(D){return Math.min(D,S.limit)});var j=0;return tc(S,function(){return++j,!1},w,T).then(function(){return j})}).then(d)},lt.prototype.sortBy=function(d,h){var w=d.split(".").reverse(),S=w[0],T=w.length-1;function j(K,W){return W?j(K[w[W]],W-1):K[S]}var D=this._ctx.dir==="next"?1:-1;function B(K,W){return it(j(K,T),j(W,T))*D}return this.toArray(function(K){return K.sort(B)}).then(h)},lt.prototype.toArray=function(d){var h=this;return this._read(function(w){var S=h._ctx;if(S.dir==="next"&&ko(S,!0)&&0<S.limit){var T=S.valueMapper,j=ec(S,S.table.core.schema);return S.table.core.query({trans:w,limit:S.limit,values:!0,query:{index:j,range:S.range}}).then(function(B){return B=B.result,T?B.map(T):B})}var D=[];return tc(S,function(B){return D.push(B)},w,S.table.core).then(function(){return D})},d)},lt.prototype.offset=function(d){var h=this._ctx;return d<=0||(h.offset+=d,ko(h)?Yf(h,function(){var w=d;return function(S,T){return w===0||(w===1?--w:T(function(){S.advance(w),w=0}),!1)}}):Yf(h,function(){var w=d;return function(){return--w<0}})),this},lt.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),Yf(this._ctx,function(){var h=d;return function(w,S,T){return--h<=0&&S(T),0<=h}},!0),this},lt.prototype.until=function(d,h){return Qf(this._ctx,function(w,S,T){return!d(w.value)||(S(T),h)}),this},lt.prototype.first=function(d){return this.limit(1).toArray(function(h){return h[0]}).then(d)},lt.prototype.last=function(d){return this.reverse().first(d)},lt.prototype.filter=function(d){var h;return Qf(this._ctx,function(w){return d(w.value)}),(h=this._ctx).isMatch=Es(h.isMatch,d),this},lt.prototype.and=function(d){return this.filter(d)},lt.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},lt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},lt.prototype.desc=function(){return this.reverse()},lt.prototype.eachKey=function(d){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(w,S){d(S.key,S)})},lt.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},lt.prototype.eachPrimaryKey=function(d){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(w,S){d(S.primaryKey,S)})},lt.prototype.keys=function(d){var h=this._ctx;h.keysOnly=!h.isMatch;var w=[];return this.each(function(S,T){w.push(T.key)}).then(function(){return w}).then(d)},lt.prototype.primaryKeys=function(d){var h=this._ctx;if(h.dir==="next"&&ko(h,!0)&&0<h.limit)return this._read(function(S){var T=ec(h,h.table.core.schema);return h.table.core.query({trans:S,values:!1,limit:h.limit,query:{index:T,range:h.range}})}).then(function(S){return S.result}).then(d);h.keysOnly=!h.isMatch;var w=[];return this.each(function(S,T){w.push(T.primaryKey)}).then(function(){return w}).then(d)},lt.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},lt.prototype.firstKey=function(d){return this.limit(1).keys(function(h){return h[0]}).then(d)},lt.prototype.lastKey=function(d){return this.reverse().firstKey(d)},lt.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var h={};return Qf(this._ctx,function(T){var S=T.primaryKey.toString(),T=f(h,S);return h[S]=!0,!T}),this},lt.prototype.modify=function(d){var h=this,w=this._ctx;return this._write(function(S){var T=typeof d=="function"?d:function(J){return Lv(J,d)},j=w.table.core,W=j.schema.primaryKey,D=W.outbound,B=W.extractKey,K=200,W=h.db._options.modifyChunkSize;W&&(K=typeof W=="object"?W[j.name]||W["*"]||200:W);function te(J,ae){var se=ae.failures,ae=ae.numFailures;ie+=J-ae;for(var de=0,ve=o(se);de<ve.length;de++){var Ee=ve[de];U.push(se[Ee])}}var U=[],ie=0,q=[],Y=d===Bv;return h.clone().primaryKeys().then(function(J){function re(ae){var de=Math.min(K,J.length-ae),ve=J.slice(ae,ae+de);return(Y?Promise.resolve([]):j.getMany({trans:S,keys:ve,cache:"immutable"})).then(function(Ee){var Ae=[],ke=[],Te=D?[]:null,je=Y?ve:[];if(!Y)for(var Pe=0;Pe<de;++Pe){var Le=Ee[Pe],Ye={value:ee(Le),primKey:J[ae+Pe]};T.call(Ye,Ye.value,Ye)!==!1&&(Ye.value==null?je.push(J[ae+Pe]):D||it(B(Le),B(Ye.value))===0?(ke.push(Ye.value),D&&Te.push(J[ae+Pe])):(je.push(J[ae+Pe]),Ae.push(Ye.value)))}return Promise.resolve(0<Ae.length&&j.mutate({trans:S,type:"add",values:Ae}).then(function(Ze){for(var et in Ze.failures)je.splice(parseInt(et),1);te(Ae.length,Ze)})).then(function(){return(0<ke.length||se&&typeof d=="object")&&j.mutate({trans:S,type:"put",keys:Te,values:ke,criteria:se,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<ae}).then(function(Ze){return te(ke.length,Ze)})}).then(function(){return(0<je.length||se&&Y)&&j.mutate({trans:S,type:"delete",keys:je,criteria:se,isAdditionalChunk:0<ae}).then(function(Ze){return Xu(w.table,je,Ze)}).then(function(Ze){return te(je.length,Ze)})}).then(function(){return J.length>ae+de&&re(ae+K)})})}var se=ko(w)&&w.limit===1/0&&(typeof d!="function"||Y)&&{index:w.index,range:w.range};return re(0).then(function(){if(0<U.length)throw new fe("Error modifying one or more objects",U,ie,q);return J.length})})})},lt.prototype.delete=function(){var d=this._ctx,h=d.range;return!ko(d)||d.table.schema.yProps||!d.isPrimKey&&h.type!==3?this.modify(Bv):this._write(function(w){var S=d.table.core.schema.primaryKey,T=h;return d.table.core.count({trans:w,query:{index:S,range:T}}).then(function(j){return d.table.core.mutate({trans:w,type:"deleteRange",range:T}).then(function(K){var B=K.failures,K=K.numFailures;if(K)throw new fe("Could not delete some values",Object.keys(B).map(function(W){return B[W]}),j-K);return j-K})})})},lt);function lt(){}var Bv=function(d,h){return h.value=null};function HC(d,h){return d<h?-1:d===h?0:1}function qC(d,h){return h<d?-1:d===h?0:1}function $n(d,h,w){return d=d instanceof zv?new d.Collection(d):d,d._ctx.error=new(w||TypeError)(h),d}function Eo(d){return new d.Collection(d,function(){return Uv("")}).limit(0)}function nc(d,h,w,S){var T,j,D,B,K,W,te,U=w.length;if(!w.every(function(Y){return typeof Y=="string"}))return $n(d,jv);function ie(Y){T=Y==="next"?function(re){return re.toUpperCase()}:function(re){return re.toLowerCase()},j=Y==="next"?function(re){return re.toLowerCase()}:function(re){return re.toUpperCase()},D=Y==="next"?HC:qC;var J=w.map(function(re){return{lower:j(re),upper:T(re)}}).sort(function(re,se){return D(re.lower,se.lower)});B=J.map(function(re){return re.upper}),K=J.map(function(re){return re.lower}),te=(W=Y)==="next"?"":S}ie("next"),d=new d.Collection(d,function(){return Ti(B[0],K[U-1]+S)}),d._ondirectionchange=function(Y){ie(Y)};var q=0;return d._addAlgorithm(function(Y,J,re){var se=Y.key;if(typeof se!="string")return!1;var ae=j(se);if(h(ae,K,q))return!0;for(var de=null,ve=q;ve<U;++ve){var Ee=function(Ae,ke,Te,je,Pe,Le){for(var Ye=Math.min(Ae.length,je.length),Ze=-1,et=0;et<Ye;++et){var Mn=ke[et];if(Mn!==je[et])return Pe(Ae[et],Te[et])<0?Ae.substr(0,et)+Te[et]+Te.substr(et+1):Pe(Ae[et],je[et])<0?Ae.substr(0,et)+je[et]+Te.substr(et+1):0<=Ze?Ae.substr(0,Ze)+ke[Ze]+Te.substr(Ze+1):null;Pe(Ae[et],Mn)<0&&(Ze=et)}return Ye<je.length&&Le==="next"?Ae+Te.substr(Ae.length):Ye<Ae.length&&Le==="prev"?Ae.substr(0,Te.length):Ze<0?null:Ae.substr(0,Ze)+je[Ze]+Te.substr(Ze+1)}(se,ae,B[ve],K[ve],D,W);Ee===null&&de===null?q=ve+1:(de===null||0<D(de,Ee))&&(de=Ee)}return J(de!==null?function(){Y.continue(de+te)}:re),!1}),d}function Ti(d,h,w,S){return{type:2,lower:d,upper:h,lowerOpen:w,upperOpen:S}}function Uv(d){return{type:1,lower:d,upper:d}}var zv=(Object.defineProperty(Wt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Wt.prototype.between=function(d,h,w,S){w=w!==!1,S=S===!0;try{return 0<this._cmp(d,h)||this._cmp(d,h)===0&&(w||S)&&(!w||!S)?Eo(this):new this.Collection(this,function(){return Ti(d,h,!w,!S)})}catch{return $n(this,Jr)}},Wt.prototype.equals=function(d){return d==null?$n(this,Jr):new this.Collection(this,function(){return Uv(d)})},Wt.prototype.above=function(d){return d==null?$n(this,Jr):new this.Collection(this,function(){return Ti(d,void 0,!0)})},Wt.prototype.aboveOrEqual=function(d){return d==null?$n(this,Jr):new this.Collection(this,function(){return Ti(d,void 0,!1)})},Wt.prototype.below=function(d){return d==null?$n(this,Jr):new this.Collection(this,function(){return Ti(void 0,d,!1,!0)})},Wt.prototype.belowOrEqual=function(d){return d==null?$n(this,Jr):new this.Collection(this,function(){return Ti(void 0,d)})},Wt.prototype.startsWith=function(d){return typeof d!="string"?$n(this,jv):this.between(d,d+ks,!0,!0)},Wt.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):nc(this,function(h,w){return h.indexOf(w[0])===0},[d],ks)},Wt.prototype.equalsIgnoreCase=function(d){return nc(this,function(h,w){return h===w[0]},[d],"")},Wt.prototype.anyOfIgnoreCase=function(){var d=ue.apply(Z,arguments);return d.length===0?Eo(this):nc(this,function(h,w){return w.indexOf(h)!==-1},d,"")},Wt.prototype.startsWithAnyOfIgnoreCase=function(){var d=ue.apply(Z,arguments);return d.length===0?Eo(this):nc(this,function(h,w){return w.some(function(S){return h.indexOf(S)===0})},d,ks)},Wt.prototype.anyOf=function(){var d=this,h=ue.apply(Z,arguments),w=this._cmp;try{h.sort(w)}catch{return $n(this,Jr)}if(h.length===0)return Eo(this);var S=new this.Collection(this,function(){return Ti(h[0],h[h.length-1])});S._ondirectionchange=function(j){w=j==="next"?d._ascending:d._descending,h.sort(w)};var T=0;return S._addAlgorithm(function(j,D,B){for(var K=j.key;0<w(K,h[T]);)if(++T===h.length)return D(B),!1;return w(K,h[T])===0||(D(function(){j.continue(h[T])}),!1)}),S},Wt.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Wt.prototype.noneOf=function(){var d=ue.apply(Z,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return $n(this,Jr)}var h=d.reduce(function(w,S){return w?w.concat([[w[w.length-1][1],S]]):[[-1/0,S]]},null);return h.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},Wt.prototype.inAnyRange=function(se,h){var w=this,S=this._cmp,T=this._ascending,j=this._descending,D=this._min,B=this._max;if(se.length===0)return Eo(this);if(!se.every(function(ae){return ae[0]!==void 0&&ae[1]!==void 0&&T(ae[0],ae[1])<=0}))return $n(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",be.InvalidArgument);var K=!h||h.includeLowers!==!1,W=h&&h.includeUppers===!0,te,U=T;function ie(ae,de){return U(ae[0],de[0])}try{(te=se.reduce(function(ae,de){for(var ve=0,Ee=ae.length;ve<Ee;++ve){var Ae=ae[ve];if(S(de[0],Ae[1])<0&&0<S(de[1],Ae[0])){Ae[0]=D(Ae[0],de[0]),Ae[1]=B(Ae[1],de[1]);break}}return ve===Ee&&ae.push(de),ae},[])).sort(ie)}catch{return $n(this,Jr)}var q=0,Y=W?function(ae){return 0<T(ae,te[q][1])}:function(ae){return 0<=T(ae,te[q][1])},J=K?function(ae){return 0<j(ae,te[q][0])}:function(ae){return 0<=j(ae,te[q][0])},re=Y,se=new this.Collection(this,function(){return Ti(te[0][0],te[te.length-1][1],!K,!W)});return se._ondirectionchange=function(ae){U=ae==="next"?(re=Y,T):(re=J,j),te.sort(ie)},se._addAlgorithm(function(ae,de,ve){for(var Ee,Ae=ae.key;re(Ae);)if(++q===te.length)return de(ve),!1;return!Y(Ee=Ae)&&!J(Ee)||(w._cmp(Ae,te[q][1])===0||w._cmp(Ae,te[q][0])===0||de(function(){U===T?ae.continue(te[q][0]):ae.continue(te[q][1])}),!1)}),se},Wt.prototype.startsWithAnyOf=function(){var d=ue.apply(Z,arguments);return d.every(function(h){return typeof h=="string"})?d.length===0?Eo(this):this.inAnyRange(d.map(function(h){return[h,h+ks]})):$n(this,"startsWithAnyOf() only works with strings")},Wt);function Wt(){}function Ir(d){return vt(function(h){return qa(h),d(h.target.error),!1})}function qa(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var Ga="storagemutated",Jf="x-storagemutated-1",Pi=Wa(null,Ga),GC=(Dr.prototype._lock=function(){return C(!De.global),++this._reculock,this._reculock!==1||De.global||(De.lockOwnerFor=this),this},Dr.prototype._unlock=function(){if(C(!De.global),--this._reculock==0)for(De.global||(De.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{Ss(d[1],d[0])}catch{}}return this},Dr.prototype._locked=function(){return this._reculock&&De.lockOwnerFor!==this},Dr.prototype.create=function(d){var h=this;if(!this.mode)return this;var w=this.db.idbdb,S=this.db._state.dbOpenError;if(C(!this.idbtrans),!d&&!w)switch(S&&S.name){case"DatabaseClosedError":throw new be.DatabaseClosed(S);case"MissingAPIError":throw new be.MissingAPI(S.message,S);default:throw new be.OpenFailed(S)}if(!this.active)throw new be.TransactionInactive;return C(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||w).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=vt(function(T){qa(T),h._reject(d.error)}),d.onabort=vt(function(T){qa(T),h.active&&h._reject(new be.Abort(d.error)),h.active=!1,h.on("abort").fire(T)}),d.oncomplete=vt(function(){h.active=!1,h._resolve(),"mutatedParts"in d&&Pi.storagemutated.fire(d.mutatedParts)}),this},Dr.prototype._promise=function(d,h,w){var S=this;if(d==="readwrite"&&this.mode!=="readwrite")return Ot(new be.ReadOnly("Transaction is readonly"));if(!this.active)return Ot(new be.TransactionInactive);if(this._locked())return new Ce(function(j,D){S._blockedFuncs.push([function(){S._promise(d,h,w).then(j,D)},De])});if(w)return ki(function(){var j=new Ce(function(D,B){S._lock();var K=h(D,B,S);K&&K.then&&K.then(D,B)});return j.finally(function(){return S._unlock()}),j._lib=!0,j});var T=new Ce(function(j,D){var B=h(j,D,S);B&&B.then&&B.then(j,D)});return T._lib=!0,T},Dr.prototype._root=function(){return this.parent?this.parent._root():this},Dr.prototype.waitFor=function(d){var h,w=this._root(),S=Ce.resolve(d);w._waitingFor?w._waitingFor=w._waitingFor.then(function(){return S}):(w._waitingFor=S,w._waitingQueue=[],h=w.idbtrans.objectStore(w.storeNames[0]),function j(){for(++w._spinCount;w._waitingQueue.length;)w._waitingQueue.shift()();w._waitingFor&&(h.get(-1/0).onsuccess=j)}());var T=w._waitingFor;return new Ce(function(j,D){S.then(function(B){return w._waitingQueue.push(vt(j.bind(null,B)))},function(B){return w._waitingQueue.push(vt(D.bind(null,B)))}).finally(function(){w._waitingFor===T&&(w._waitingFor=null)})})},Dr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new be.Abort))},Dr.prototype.table=function(d){var h=this._memoizedTables||(this._memoizedTables={});if(f(h,d))return h[d];var w=this.schema[d];if(!w)throw new be.NotFound("Table "+d+" not part of transaction");return w=new this.db.Table(d,w,this),w.core=this.db.core.table(d),h[d]=w},Dr);function Dr(){}function Zf(d,h,w,S,T,j,D,B){return{name:d,keyPath:h,unique:w,multi:S,auto:T,compound:j,src:(w&&!D?"&":"")+(S?"*":"")+(T?"++":"")+Vv(h),type:B}}function Vv(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function Xf(d,h,w){return{name:d,primKey:h,indexes:w,mappedClass:null,idxByName:(S=function(T){return[T.name,T]},w.reduce(function(T,j,D){return D=S(j,D),D&&(T[D[0]]=D[1]),T},{}))};var S}var Qa=function(d){try{return d.only([[]]),Qa=function(){return[[]]},[[]]}catch{return Qa=function(){return ks},ks}};function eh(d){return d==null?function(){}:typeof d=="string"?(h=d).split(".").length===1?function(w){return w[h]}:function(w){return I(w,h)}:function(w){return I(w,d)};var h}function Kv(d){return[].slice.call(d)}var QC=0;function Ya(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function YC(d,h,K){function S(re){if(re.type===3)return null;if(re.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var q=re.lower,Y=re.upper,J=re.lowerOpen,re=re.upperOpen;return q===void 0?Y===void 0?null:h.upperBound(Y,!!re):Y===void 0?h.lowerBound(q,!!J):h.bound(q,Y,!!J,!!re)}function T(ie){var q,Y=ie.name;return{name:Y,schema:ie,mutate:function(J){var re=J.trans,se=J.type,ae=J.keys,de=J.values,ve=J.range;return new Promise(function(Ee,Ae){Ee=vt(Ee);var ke=re.objectStore(Y),Te=ke.keyPath==null,je=se==="put"||se==="add";if(!je&&se!=="delete"&&se!=="deleteRange")throw new Error("Invalid operation type: "+se);var Pe,Le=(ae||de||{length:1}).length;if(ae&&de&&ae.length!==de.length)throw new Error("Given keys array must have same length as given values array.");if(Le===0)return Ee({numFailures:0,failures:{},results:[],lastResult:void 0});function Ye(pn){++Mn,qa(pn)}var Ze=[],et=[],Mn=0;if(se==="deleteRange"){if(ve.type===4)return Ee({numFailures:Mn,failures:et,results:[],lastResult:void 0});ve.type===3?Ze.push(Pe=ke.clear()):Ze.push(Pe=ke.delete(S(ve)))}else{var Te=je?Te?[de,ae]:[de,null]:[ae,null],Qe=Te[0],rn=Te[1];if(je)for(var sn=0;sn<Le;++sn)Ze.push(Pe=rn&&rn[sn]!==void 0?ke[se](Qe[sn],rn[sn]):ke[se](Qe[sn])),Pe.onerror=Ye;else for(sn=0;sn<Le;++sn)Ze.push(Pe=ke[se](Qe[sn])),Pe.onerror=Ye}function pc(pn){pn=pn.target.result,Ze.forEach(function(Ps,vh){return Ps.error!=null&&(et[vh]=Ps.error)}),Ee({numFailures:Mn,failures:et,results:se==="delete"?ae:Ze.map(function(Ps){return Ps.result}),lastResult:pn})}Pe.onerror=function(pn){Ye(pn),pc(pn)},Pe.onsuccess=pc})},getMany:function(J){var re=J.trans,se=J.keys;return new Promise(function(ae,de){ae=vt(ae);for(var ve,Ee=re.objectStore(Y),Ae=se.length,ke=new Array(Ae),Te=0,je=0,Pe=function(Ze){Ze=Ze.target,ke[Ze._pos]=Ze.result,++je===Te&&ae(ke)},Le=Ir(de),Ye=0;Ye<Ae;++Ye)se[Ye]!=null&&((ve=Ee.get(se[Ye]))._pos=Ye,ve.onsuccess=Pe,ve.onerror=Le,++Te);Te===0&&ae(ke)})},get:function(J){var re=J.trans,se=J.key;return new Promise(function(ae,de){ae=vt(ae);var ve=re.objectStore(Y).get(se);ve.onsuccess=function(Ee){return ae(Ee.target.result)},ve.onerror=Ir(de)})},query:(q=W,function(J){return new Promise(function(re,se){re=vt(re);var ae,de,ve,Te=J.trans,Ee=J.values,Ae=J.limit,Pe=J.query,ke=Ae===1/0?void 0:Ae,je=Pe.index,Pe=Pe.range,Te=Te.objectStore(Y),je=je.isPrimaryKey?Te:Te.index(je.name),Pe=S(Pe);if(Ae===0)return re({result:[]});q?((ke=Ee?je.getAll(Pe,ke):je.getAllKeys(Pe,ke)).onsuccess=function(Le){return re({result:Le.target.result})},ke.onerror=Ir(se)):(ae=0,de=!Ee&&"openKeyCursor"in je?je.openKeyCursor(Pe):je.openCursor(Pe),ve=[],de.onsuccess=function(Le){var Ye=de.result;return Ye?(ve.push(Ee?Ye.value:Ye.primaryKey),++ae===Ae?re({result:ve}):void Ye.continue()):re({result:ve})},de.onerror=Ir(se))})}),openCursor:function(J){var re=J.trans,se=J.values,ae=J.query,de=J.reverse,ve=J.unique;return new Promise(function(Ee,Ae){Ee=vt(Ee);var je=ae.index,ke=ae.range,Te=re.objectStore(Y),Te=je.isPrimaryKey?Te:Te.index(je.name),je=de?ve?"prevunique":"prev":ve?"nextunique":"next",Pe=!se&&"openKeyCursor"in Te?Te.openKeyCursor(S(ke),je):Te.openCursor(S(ke),je);Pe.onerror=Ir(Ae),Pe.onsuccess=vt(function(Le){var Ye,Ze,et,Mn,Qe=Pe.result;Qe?(Qe.___id=++QC,Qe.done=!1,Ye=Qe.continue.bind(Qe),Ze=(Ze=Qe.continuePrimaryKey)&&Ze.bind(Qe),et=Qe.advance.bind(Qe),Mn=function(){throw new Error("Cursor not stopped")},Qe.trans=re,Qe.stop=Qe.continue=Qe.continuePrimaryKey=Qe.advance=function(){throw new Error("Cursor not started")},Qe.fail=vt(Ae),Qe.next=function(){var rn=this,sn=1;return this.start(function(){return sn--?rn.continue():rn.stop()}).then(function(){return rn})},Qe.start=function(rn){function sn(){if(Pe.result)try{rn()}catch(pn){Qe.fail(pn)}else Qe.done=!0,Qe.start=function(){throw new Error("Cursor behind last entry")},Qe.stop()}var pc=new Promise(function(pn,Ps){pn=vt(pn),Pe.onerror=Ir(Ps),Qe.fail=Ps,Qe.stop=function(vh){Qe.stop=Qe.continue=Qe.continuePrimaryKey=Qe.advance=Mn,pn(vh)}});return Pe.onsuccess=vt(function(pn){Pe.onsuccess=sn,sn()}),Qe.continue=Ye,Qe.continuePrimaryKey=Ze,Qe.advance=et,sn(),pc},Ee(Qe)):Ee(null)},Ae)})},count:function(J){var re=J.query,se=J.trans,ae=re.index,de=re.range;return new Promise(function(ve,Ee){var Ae=se.objectStore(Y),ke=ae.isPrimaryKey?Ae:Ae.index(ae.name),Ae=S(de),ke=Ae?ke.count(Ae):ke.count();ke.onsuccess=vt(function(Te){return ve(Te.target.result)}),ke.onerror=Ir(Ee)})}}}var j,D,B,te=(D=K,B=Kv((j=d).objectStoreNames),{schema:{name:j.name,tables:B.map(function(ie){return D.objectStore(ie)}).map(function(ie){var q=ie.keyPath,re=ie.autoIncrement,Y=a(q),J={},re={name:ie.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:q==null,compound:Y,keyPath:q,autoIncrement:re,unique:!0,extractKey:eh(q)},indexes:Kv(ie.indexNames).map(function(se){return ie.index(se)}).map(function(ve){var ae=ve.name,de=ve.unique,Ee=ve.multiEntry,ve=ve.keyPath,Ee={name:ae,compound:a(ve),keyPath:ve,unique:de,multiEntry:Ee,extractKey:eh(ve)};return J[Ya(ve)]=Ee}),getIndexByKeyPath:function(se){return J[Ya(se)]}};return J[":id"]=re.primaryKey,q!=null&&(J[Ya(q)]=re.primaryKey),re})},hasGetAll:0<B.length&&"getAll"in D.objectStore(B[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),K=te.schema,W=te.hasGetAll,te=K.tables.map(T),U={};return te.forEach(function(ie){return U[ie.name]=ie}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(ie){if(!U[ie])throw new Error("Table '".concat(ie,"' not found"));return U[ie]},MIN_KEY:-1/0,MAX_KEY:Qa(h),schema:K}}function JC(d,h,w,S){var T=w.IDBKeyRange;return w.indexedDB,{dbcore:(S=YC(h,T,S),d.dbcore.reduce(function(j,D){return D=D.create,r(r({},j),D(j))},S))}}function rc(d,S){var w=S.db,S=JC(d._middlewares,w,d._deps,S);d.core=S.dbcore,d.tables.forEach(function(T){var j=T.name;d.core.schema.tables.some(function(D){return D.name===j})&&(T.core=d.core.table(j),d[j]instanceof d.Table&&(d[j].core=T.core))})}function ic(d,h,w,S){w.forEach(function(T){var j=S[T];h.forEach(function(D){var B=function K(W,te){return x(W,te)||(W=u(W))&&K(W,te)}(D,T);(!B||"value"in B&&B.value===void 0)&&(D===d.Transaction.prototype||D instanceof d.Transaction?b(D,T,{get:function(){return this.table(T)},set:function(K){m(this,T,{value:K,writable:!0,configurable:!0,enumerable:!0})}}):D[T]=new d.Table(T,j))})})}function th(d,h){h.forEach(function(w){for(var S in w)w[S]instanceof d.Table&&delete w[S]})}function ZC(d,h){return d._cfg.version-h._cfg.version}function XC(d,h,w,S){var T=d._dbSchema;w.objectStoreNames.contains("$meta")&&!T.$meta&&(T.$meta=Xf("$meta",Hv("")[0],[]),d._storeNames.push("$meta"));var j=d._createTransaction("readwrite",d._storeNames,T);j.create(w),j._completion.catch(S);var D=j._reject.bind(j),B=De.transless||De;ki(function(){return De.trans=j,De.transless=B,h!==0?(rc(d,w),W=h,((K=j).storeNames.includes("$meta")?K.table("$meta").get("version").then(function(te){return te??W}):Ce.resolve(W)).then(function(te){return ie=te,q=j,Y=w,J=[],te=(U=d)._versions,re=U._dbSchema=oc(0,U.idbdb,Y),(te=te.filter(function(se){return se._cfg.version>=ie})).length!==0?(te.forEach(function(se){J.push(function(){var ae=re,de=se._cfg.dbschema;ac(U,ae,Y),ac(U,de,Y),re=U._dbSchema=de;var ve=nh(ae,de);ve.add.forEach(function(je){rh(Y,je[0],je[1].primKey,je[1].indexes)}),ve.change.forEach(function(je){if(je.recreate)throw new be.Upgrade("Not yet support for changing primary key");var Pe=Y.objectStore(je.name);je.add.forEach(function(Le){return sc(Pe,Le)}),je.change.forEach(function(Le){Pe.deleteIndex(Le.name),sc(Pe,Le)}),je.del.forEach(function(Le){return Pe.deleteIndex(Le)})});var Ee=se._cfg.contentUpgrade;if(Ee&&se._cfg.version>ie){rc(U,Y),q._memoizedTables={};var Ae=L(de);ve.del.forEach(function(je){Ae[je]=ae[je]}),th(U,[U.Transaction.prototype]),ic(U,[U.Transaction.prototype],o(Ae),Ae),q.schema=Ae;var ke,Te=G(Ee);return Te&&xo(),ve=Ce.follow(function(){var je;(ke=Ee(q))&&Te&&(je=Ei.bind(null,null),ke.then(je,je))}),ke&&typeof ke.then=="function"?Ce.resolve(ke):ve.then(function(){return ke})}}),J.push(function(ae){var de,ve,Ee=se._cfg.dbschema;de=Ee,ve=ae,[].slice.call(ve.db.objectStoreNames).forEach(function(Ae){return de[Ae]==null&&ve.db.deleteObjectStore(Ae)}),th(U,[U.Transaction.prototype]),ic(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),q.schema=U._dbSchema}),J.push(function(ae){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===se._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(de){return de!=="$meta"})):ae.objectStore("$meta").put(se._cfg.version,"version"))})}),function se(){return J.length?Ce.resolve(J.shift()(q.idbtrans)).then(se):Ce.resolve()}().then(function(){Wv(re,Y)})):Ce.resolve();var U,ie,q,Y,J,re}).catch(D)):(o(T).forEach(function(te){rh(w,te,T[te].primKey,T[te].indexes)}),rc(d,w),void Ce.follow(function(){return d.on.populate.fire(j)}).catch(D));var K,W})}function eT(d,h){Wv(d._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var w=oc(0,d.idbdb,h);ac(d,d._dbSchema,h);for(var S=0,T=nh(w,d._dbSchema).change;S<T.length;S++){var j=function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var B=h.objectStore(D.name);D.add.forEach(function(K){ge&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(K.src)),sc(B,K)})}(T[S]);if(typeof j=="object")return j.value}}function nh(d,h){var w,S={del:[],add:[],change:[]};for(w in d)h[w]||S.del.push(w);for(w in h){var T=d[w],j=h[w];if(T){var D={name:w,def:j,recreate:!1,del:[],add:[],change:[]};if(""+(T.primKey.keyPath||"")!=""+(j.primKey.keyPath||"")||T.primKey.auto!==j.primKey.auto)D.recreate=!0,S.change.push(D);else{var B=T.idxByName,K=j.idxByName,W=void 0;for(W in B)K[W]||D.del.push(W);for(W in K){var te=B[W],U=K[W];te?te.src!==U.src&&D.change.push(U):D.add.push(U)}(0<D.del.length||0<D.add.length||0<D.change.length)&&S.change.push(D)}}else S.add.push([w,j])}return S}function rh(d,h,w,S){var T=d.db.createObjectStore(h,w.keyPath?{keyPath:w.keyPath,autoIncrement:w.auto}:{autoIncrement:w.auto});return S.forEach(function(j){return sc(T,j)}),T}function Wv(d,h){o(d).forEach(function(w){h.db.objectStoreNames.contains(w)||(ge&&console.debug("Dexie: Creating missing table",w),rh(h,w,d[w].primKey,d[w].indexes))})}function sc(d,h){d.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function oc(d,h,w){var S={};return y(h.objectStoreNames,0).forEach(function(T){for(var j=w.objectStore(T),D=Zf(Vv(W=j.keyPath),W||"",!0,!1,!!j.autoIncrement,W&&typeof W!="string",!0),B=[],K=0;K<j.indexNames.length;++K){var te=j.index(j.indexNames[K]),W=te.keyPath,te=Zf(te.name,W,!!te.unique,!!te.multiEntry,!1,W&&typeof W!="string",!1);B.push(te)}S[T]=Xf(T,D,B)}),S}function ac(d,h,w){for(var S=w.db.objectStoreNames,T=0;T<S.length;++T){var j=S[T],D=w.objectStore(j);d._hasGetAll="getAll"in D;for(var B=0;B<D.indexNames.length;++B){var K=D.indexNames[B],W=D.index(K).keyPath,te=typeof W=="string"?W:"["+y(W).join("+")+"]";!h[j]||(W=h[j].idxByName[te])&&(W.name=K,delete h[j].idxByName[te],h[j].idxByName[K]=W)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function Hv(d){return d.split(",").map(function(h,w){var j=h.split(":"),S=(T=j[1])===null||T===void 0?void 0:T.trim(),T=(h=j[0].trim()).replace(/([&*]|\+\+)/g,""),j=/^\[/.test(T)?T.match(/^\[(.*)\]$/)[1].split("+"):T;return Zf(T,j||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),a(j),w===0,S)})}var tT=(Co.prototype._createTableSchema=Xf,Co.prototype._parseIndexSyntax=Hv,Co.prototype._parseStoresSpec=function(d,h){var w=this;o(d).forEach(function(S){if(d[S]!==null){var T=w._parseIndexSyntax(d[S]),j=T.shift();if(!j)throw new be.Schema("Invalid schema for table "+S+": "+d[S]);if(j.unique=!0,j.multi)throw new be.Schema("Primary key cannot be multiEntry*");T.forEach(function(D){if(D.auto)throw new be.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new be.Schema("Index must have a name and cannot be an empty string")}),T=w._createTableSchema(S,j,T),h[S]=T}})},Co.prototype.stores=function(w){var h=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,w):w;var w=h._versions,S={},T={};return w.forEach(function(j){l(S,j._cfg.storesSource),T=j._cfg.dbschema={},j._parseStoresSpec(S,T)}),h._dbSchema=T,th(h,[h._allTables,h,h.Transaction.prototype]),ic(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],o(T),T),h._storeNames=o(T),this},Co.prototype.upgrade=function(d){return this._cfg.contentUpgrade=me(this._cfg.contentUpgrade||He,d),this},Co);function Co(){}function ih(d,h){var w=d._dbNamesDB;return w||(w=d._dbNamesDB=new Zr(Ju,{addons:[],indexedDB:d,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),w.table("dbnames")}function sh(d){return d&&typeof d.databases=="function"}function oh(d){return ki(function(){return De.letThrough=!0,d()})}function ah(d){return!("from"in d)}var nn=function(d,h){if(!this){var w=new nn;return d&&"d"in d&&l(w,d),w}l(this,arguments.length?{d:1,from:d,to:1<arguments.length?h:d}:{d:0})};function Ja(d,h,w){var S=it(h,w);if(!isNaN(S)){if(0<S)throw RangeError();if(ah(d))return l(d,{from:h,to:w,d:1});var T=d.l,S=d.r;if(it(w,d.from)<0)return T?Ja(T,h,w):d.l={from:h,to:w,d:1,l:null,r:null},Gv(d);if(0<it(h,d.to))return S?Ja(S,h,w):d.r={from:h,to:w,d:1,l:null,r:null},Gv(d);it(h,d.from)<0&&(d.from=h,d.l=null,d.d=S?S.d+1:1),0<it(w,d.to)&&(d.to=w,d.r=null,d.d=d.l?d.l.d+1:1),w=!d.r,T&&!d.l&&Za(d,T),S&&w&&Za(d,S)}}function Za(d,h){ah(h)||function w(S,K){var j=K.from,D=K.to,B=K.l,K=K.r;Ja(S,j,D),B&&w(S,B),K&&w(S,K)}(d,h)}function qv(d,h){var w=lc(h),S=w.next();if(S.done)return!1;for(var T=S.value,j=lc(d),D=j.next(T.from),B=D.value;!S.done&&!D.done;){if(it(B.from,T.to)<=0&&0<=it(B.to,T.from))return!0;it(T.from,B.from)<0?T=(S=w.next(B.from)).value:B=(D=j.next(T.from)).value}return!1}function lc(d){var h=ah(d)?null:{s:0,n:d};return{next:function(w){for(var S=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,S)for(;h.n.l&&it(w,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!S||it(w,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function Gv(d){var h,w,S=(((h=d.r)===null||h===void 0?void 0:h.d)||0)-(((w=d.l)===null||w===void 0?void 0:w.d)||0),T=1<S?"r":S<-1?"l":"";T&&(h=T=="r"?"l":"r",w=r({},d),S=d[T],d.from=S.from,d.to=S.to,d[T]=S[T],w[T]=S[h],(d[h]=w).d=Qv(w)),d.d=Qv(d)}function Qv(w){var h=w.r,w=w.l;return(h?w?Math.max(h.d,w.d):h.d:w?w.d:0)+1}function uc(d,h){return o(h).forEach(function(w){d[w]?Za(d[w],h[w]):d[w]=function S(T){var j,D,B={};for(j in T)f(T,j)&&(D=T[j],B[j]=!D||typeof D!="object"||we.has(D.constructor)?D:S(D));return B}(h[w])}),d}function lh(d,h){return d.all||h.all||Object.keys(d).some(function(w){return h[w]&&qv(h[w],d[w])})}p(nn.prototype,((Yn={add:function(d){return Za(this,d),this},addKey:function(d){return Ja(this,d,d),this},addKeys:function(d){var h=this;return d.forEach(function(w){return Ja(h,w,w)}),this},hasKey:function(d){var h=lc(this).next(d).value;return h&&it(h.from,d)<=0&&0<=it(h.to,d)}})[Oe]=function(){return lc(this)},Yn));var Cs={},uh={},ch=!1;function cc(d){uc(uh,d),ch||(ch=!0,setTimeout(function(){ch=!1,dh(uh,!(uh={}))},0))}function dh(d,h){h===void 0&&(h=!1);var w=new Set;if(d.all)for(var S=0,T=Object.values(Cs);S<T.length;S++)Yv(D=T[S],d,w,h);else for(var j in d){var D,B=/^idb\:\/\/(.*)\/(.*)\//.exec(j);B&&(j=B[1],B=B[2],(D=Cs["idb://".concat(j,"/").concat(B)])&&Yv(D,d,w,h))}w.forEach(function(K){return K()})}function Yv(d,h,w,S){for(var T=[],j=0,D=Object.entries(d.queries.query);j<D.length;j++){for(var B=D[j],K=B[0],W=[],te=0,U=B[1];te<U.length;te++){var ie=U[te];lh(h,ie.obsSet)?ie.subscribers.forEach(function(re){return w.add(re)}):S&&W.push(ie)}S&&T.push([K,W])}if(S)for(var q=0,Y=T;q<Y.length;q++){var J=Y[q],K=J[0],W=J[1];d.queries.query[K]=W}}function nT(d){var h=d._state,w=d._deps.indexedDB;if(h.isBeingOpened||d.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?Ot(h.dbOpenError):d});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var S=h.openCanceller,T=Math.round(10*d.verno),j=!1;function D(){if(h.openCanceller!==S)throw new be.DatabaseClosed("db.open() was cancelled")}function B(){return new Ce(function(ie,q){if(D(),!w)throw new be.MissingAPI;var Y=d.name,J=h.autoSchema||!T?w.open(Y):w.open(Y,T);if(!J)throw new be.MissingAPI;J.onerror=Ir(q),J.onblocked=vt(d._fireOnBlocked),J.onupgradeneeded=vt(function(re){var se;te=J.transaction,h.autoSchema&&!d._options.allowEmptyDB?(J.onerror=qa,te.abort(),J.result.close(),(se=w.deleteDatabase(Y)).onsuccess=se.onerror=vt(function(){q(new be.NoSuchDatabase("Database ".concat(Y," doesnt exist")))})):(te.onerror=Ir(q),re=re.oldVersion>Math.pow(2,62)?0:re.oldVersion,U=re<1,d.idbdb=J.result,j&&eT(d,te),XC(d,re/10,te,q))},q),J.onsuccess=vt(function(){te=null;var re,se,ae,de,ve,Ee=d.idbdb=J.result,Ae=y(Ee.objectStoreNames);if(0<Ae.length)try{var ke=Ee.transaction((de=Ae).length===1?de[0]:de,"readonly");if(h.autoSchema)se=Ee,ae=ke,(re=d).verno=se.version/10,ae=re._dbSchema=oc(0,se,ae),re._storeNames=y(se.objectStoreNames,0),ic(re,[re._allTables],o(ae),ae);else if(ac(d,d._dbSchema,ke),((ve=nh(oc(0,(ve=d).idbdb,ke),ve._dbSchema)).add.length||ve.change.some(function(Te){return Te.add.length||Te.change.length}))&&!j)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ee.close(),T=Ee.version+1,j=!0,ie(B());rc(d,ke)}catch{}So.push(d),Ee.onversionchange=vt(function(Te){h.vcFired=!0,d.on("versionchange").fire(Te)}),Ee.onclose=vt(function(){d.close({disableAutoOpen:!1})}),U&&(ve=d._deps,ke=Y,Ee=ve.indexedDB,ve=ve.IDBKeyRange,sh(Ee)||ke===Ju||ih(Ee,ve).put({name:ke}).catch(He)),ie()},q)}).catch(function(ie){switch(ie==null?void 0:ie.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),B();break;case"VersionError":if(0<T)return T=0,B()}return Ce.reject(ie)})}var K,W=h.dbReadyResolve,te=null,U=!1;return Ce.race([S,(typeof navigator>"u"?Ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ie){function q(){return indexedDB.databases().finally(ie)}K=setInterval(q,100),q()}).finally(function(){return clearInterval(K)}):Promise.resolve()).then(B)]).then(function(){return D(),h.onReadyBeingFired=[],Ce.resolve(oh(function(){return d.on.ready.fire(d.vip)})).then(function ie(){if(0<h.onReadyBeingFired.length){var q=h.onReadyBeingFired.reduce(me,He);return h.onReadyBeingFired=[],Ce.resolve(oh(function(){return q(d.vip)})).then(ie)}})}).finally(function(){h.openCanceller===S&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(ie){h.dbOpenError=ie;try{te&&te.abort()}catch{}return S===h.openCanceller&&d._close(),Ot(ie)}).finally(function(){h.openComplete=!0,W()}).then(function(){var ie;return U&&(ie={},d.tables.forEach(function(q){q.schema.indexes.forEach(function(Y){Y.name&&(ie["idb://".concat(d.name,"/").concat(q.name,"/").concat(Y.name)]=new nn(-1/0,[[[]]]))}),ie["idb://".concat(d.name,"/").concat(q.name,"/")]=ie["idb://".concat(d.name,"/").concat(q.name,"/:dels")]=new nn(-1/0,[[[]]])}),Pi(Ga).fire(ie),dh(ie,!0)),d})}function fh(d){function h(j){return d.next(j)}var w=T(h),S=T(function(j){return d.throw(j)});function T(j){return function(K){var B=j(K),K=B.value;return B.done?K:K&&typeof K.then=="function"?K.then(w,S):a(K)?Promise.all(K).then(w,S):w(K)}}return T(h)()}function dc(d,h,w){for(var S=a(d)?d.slice():[d],T=0;T<w;++T)S.push(h);return S}var rT={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return r(r({},d),{table:function(h){var w=d.table(h),S=w.schema,T={},j=[];function D(U,ie,q){var Y=Ya(U),J=T[Y]=T[Y]||[],re=U==null?0:typeof U=="string"?1:U.length,se=0<ie,se=r(r({},q),{name:se?"".concat(Y,"(virtual-from:").concat(q.name,")"):q.name,lowLevelIndex:q,isVirtual:se,keyTail:ie,keyLength:re,extractKey:eh(U),unique:!se&&q.unique});return J.push(se),se.isPrimaryKey||j.push(se),1<re&&D(re===2?U[0]:U.slice(0,re-1),ie+1,q),J.sort(function(ae,de){return ae.keyTail-de.keyTail}),se}h=D(S.primaryKey.keyPath,0,S.primaryKey),T[":id"]=[h];for(var B=0,K=S.indexes;B<K.length;B++){var W=K[B];D(W.keyPath,0,W)}function te(U){var ie,q=U.query.index;return q.isVirtual?r(r({},U),{query:{index:q.lowLevelIndex,range:(ie=U.query.range,q=q.keyTail,{type:ie.type===1?2:ie.type,lower:dc(ie.lower,ie.lowerOpen?d.MAX_KEY:d.MIN_KEY,q),lowerOpen:!0,upper:dc(ie.upper,ie.upperOpen?d.MIN_KEY:d.MAX_KEY,q),upperOpen:!0})}}):U}return r(r({},w),{schema:r(r({},S),{primaryKey:h,indexes:j,getIndexByKeyPath:function(U){return(U=T[Ya(U)])&&U[0]}}),count:function(U){return w.count(te(U))},query:function(U){return w.query(te(U))},openCursor:function(U){var ie=U.query.index,q=ie.keyTail,Y=ie.isVirtual,J=ie.keyLength;return Y?w.openCursor(te(U)).then(function(se){return se&&re(se)}):w.openCursor(U);function re(se){return Object.create(se,{continue:{value:function(ae){ae!=null?se.continue(dc(ae,U.reverse?d.MAX_KEY:d.MIN_KEY,q)):U.unique?se.continue(se.key.slice(0,J).concat(U.reverse?d.MIN_KEY:d.MAX_KEY,q)):se.continue()}},continuePrimaryKey:{value:function(ae,de){se.continuePrimaryKey(dc(ae,d.MAX_KEY,q),de)}},primaryKey:{get:function(){return se.primaryKey}},key:{get:function(){var ae=se.key;return J===1?ae[0]:ae.slice(0,J)}},value:{get:function(){return se.value}}})}}})}})}};function hh(d,h,w,S){return w=w||{},S=S||"",o(d).forEach(function(T){var j,D,B;f(h,T)?(j=d[T],D=h[T],typeof j=="object"&&typeof D=="object"&&j&&D?(B=le(j))!==le(D)?w[S+T]=h[T]:B==="Object"?hh(j,D,w,S+T+"."):j!==D&&(w[S+T]=h[T]):j!==D&&(w[S+T]=h[T])):w[S+T]=void 0}),o(h).forEach(function(T){f(d,T)||(w[S+T]=h[T])}),w}function ph(d,h){return h.type==="delete"?h.keys:h.keys||h.values.map(d.extractKey)}var iT={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return r(r({},d),{table:function(h){var w=d.table(h),S=w.schema.primaryKey;return r(r({},w),{mutate:function(T){var j=De.trans,D=j.table(h).hook,B=D.deleting,K=D.creating,W=D.updating;switch(T.type){case"add":if(K.fire===He)break;return j._promise("readwrite",function(){return te(T)},!0);case"put":if(K.fire===He&&W.fire===He)break;return j._promise("readwrite",function(){return te(T)},!0);case"delete":if(B.fire===He)break;return j._promise("readwrite",function(){return te(T)},!0);case"deleteRange":if(B.fire===He)break;return j._promise("readwrite",function(){return function U(ie,q,Y){return w.query({trans:ie,values:!1,query:{index:S,range:q},limit:Y}).then(function(J){var re=J.result;return te({type:"delete",keys:re,trans:ie}).then(function(se){return 0<se.numFailures?Promise.reject(se.failures[0]):re.length<Y?{failures:[],numFailures:0,lastResult:void 0}:U(ie,r(r({},q),{lower:re[re.length-1],lowerOpen:!0}),Y)})})}(T.trans,T.range,1e4)},!0)}return w.mutate(T);function te(U){var ie,q,Y,J=De.trans,re=U.keys||ph(S,U);if(!re)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?r(r({},U),{keys:re}):r({},U)).type!=="delete"&&(U.values=i([],U.values)),U.keys&&(U.keys=i([],U.keys)),ie=w,Y=re,((q=U).type==="add"?Promise.resolve([]):ie.getMany({trans:q.trans,keys:Y,cache:"immutable"})).then(function(se){var ae=re.map(function(de,ve){var Ee,Ae,ke,Te=se[ve],je={onerror:null,onsuccess:null};return U.type==="delete"?B.fire.call(je,de,Te,J):U.type==="add"||Te===void 0?(Ee=K.fire.call(je,de,U.values[ve],J),de==null&&Ee!=null&&(U.keys[ve]=de=Ee,S.outbound||R(U.values[ve],S.keyPath,de))):(Ee=hh(Te,U.values[ve]),(Ae=W.fire.call(je,Ee,de,Te,J))&&(ke=U.values[ve],Object.keys(Ae).forEach(function(Pe){f(ke,Pe)?ke[Pe]=Ae[Pe]:R(ke,Pe,Ae[Pe])}))),je});return w.mutate(U).then(function(de){for(var ve=de.failures,Ee=de.results,Ae=de.numFailures,de=de.lastResult,ke=0;ke<re.length;++ke){var Te=(Ee||re)[ke],je=ae[ke];Te==null?je.onerror&&je.onerror(ve[ke]):je.onsuccess&&je.onsuccess(U.type==="put"&&se[ke]?U.values[ke]:Te)}return{failures:ve,results:Ee,numFailures:Ae,lastResult:de}}).catch(function(de){return ae.forEach(function(ve){return ve.onerror&&ve.onerror(de)}),Promise.reject(de)})})}}})}})}};function Jv(d,h,w){try{if(!h||h.keys.length<d.length)return null;for(var S=[],T=0,j=0;T<h.keys.length&&j<d.length;++T)it(h.keys[T],d[j])===0&&(S.push(w?ee(h.values[T]):h.values[T]),++j);return S.length===d.length?S:null}catch{return null}}var sT={stack:"dbcore",level:-1,create:function(d){return{table:function(h){var w=d.table(h);return r(r({},w),{getMany:function(S){if(!S.cache)return w.getMany(S);var T=Jv(S.keys,S.trans._cache,S.cache==="clone");return T?Ce.resolve(T):w.getMany(S).then(function(j){return S.trans._cache={keys:S.keys,values:S.cache==="clone"?ee(j):j},j})},mutate:function(S){return S.type!=="add"&&(S.trans._cache=null),w.mutate(S)}})}}}};function Zv(d,h){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function Xv(d,h){switch(d){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var oT={stack:"dbcore",level:0,name:"Observability",create:function(d){var h=d.schema.name,w=new nn(d.MIN_KEY,d.MAX_KEY);return r(r({},d),{transaction:function(S,T,j){if(De.subscr&&T!=="readonly")throw new be.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(De.querier));return d.transaction(S,T,j)},table:function(S){var T=d.table(S),j=T.schema,D=j.primaryKey,U=j.indexes,B=D.extractKey,K=D.outbound,W=D.autoIncrement&&U.filter(function(q){return q.compound&&q.keyPath.includes(D.keyPath)}),te=r(r({},T),{mutate:function(q){function Y(Pe){return Pe="idb://".concat(h,"/").concat(S,"/").concat(Pe),de[Pe]||(de[Pe]=new nn)}var J,re,se,ae=q.trans,de=q.mutatedParts||(q.mutatedParts={}),ve=Y(""),Ee=Y(":dels"),Ae=q.type,je=q.type==="deleteRange"?[q.range]:q.type==="delete"?[q.keys]:q.values.length<50?[ph(D,q).filter(function(Pe){return Pe}),q.values]:[],ke=je[0],Te=je[1],je=q.trans._cache;return a(ke)?(ve.addKeys(ke),(je=Ae==="delete"||ke.length===Te.length?Jv(ke,je):null)||Ee.addKeys(ke),(je||Te)&&(J=Y,re=je,se=Te,j.indexes.forEach(function(Pe){var Le=J(Pe.name||"");function Ye(et){return et!=null?Pe.extractKey(et):null}function Ze(et){return Pe.multiEntry&&a(et)?et.forEach(function(Mn){return Le.addKey(Mn)}):Le.addKey(et)}(re||se).forEach(function(et,rn){var Qe=re&&Ye(re[rn]),rn=se&&Ye(se[rn]);it(Qe,rn)!==0&&(Qe!=null&&Ze(Qe),rn!=null&&Ze(rn))})}))):ke?(Te={from:(Te=ke.lower)!==null&&Te!==void 0?Te:d.MIN_KEY,to:(Te=ke.upper)!==null&&Te!==void 0?Te:d.MAX_KEY},Ee.add(Te),ve.add(Te)):(ve.add(w),Ee.add(w),j.indexes.forEach(function(Pe){return Y(Pe.name).add(w)})),T.mutate(q).then(function(Pe){return!ke||q.type!=="add"&&q.type!=="put"||(ve.addKeys(Pe.results),W&&W.forEach(function(Le){for(var Ye=q.values.map(function(Qe){return Le.extractKey(Qe)}),Ze=Le.keyPath.findIndex(function(Qe){return Qe===D.keyPath}),et=0,Mn=Pe.results.length;et<Mn;++et)Ye[et][Ze]=Pe.results[et];Y(Le.name).addKeys(Ye)})),ae.mutatedParts=uc(ae.mutatedParts||{},de),Pe})}}),U=function(Y){var J=Y.query,Y=J.index,J=J.range;return[Y,new nn((Y=J.lower)!==null&&Y!==void 0?Y:d.MIN_KEY,(J=J.upper)!==null&&J!==void 0?J:d.MAX_KEY)]},ie={get:function(q){return[D,new nn(q.key)]},getMany:function(q){return[D,new nn().addKeys(q.keys)]},count:U,query:U,openCursor:U};return o(ie).forEach(function(q){te[q]=function(Y){var J=De.subscr,re=!!J,se=Zv(De,T)&&Xv(q,Y)?Y.obsSet={}:J;if(re){var ae=function(Te){return Te="idb://".concat(h,"/").concat(S,"/").concat(Te),se[Te]||(se[Te]=new nn)},de=ae(""),ve=ae(":dels"),J=ie[q](Y),re=J[0],J=J[1];if((q==="query"&&re.isPrimaryKey&&!Y.values?ve:ae(re.name||"")).add(J),!re.isPrimaryKey){if(q!=="count"){var Ee=q==="query"&&K&&Y.values&&T.query(r(r({},Y),{values:!1}));return T[q].apply(this,arguments).then(function(Te){if(q==="query"){if(K&&Y.values)return Ee.then(function(Ye){return Ye=Ye.result,de.addKeys(Ye),Te});var je=Y.values?Te.result.map(B):Te.result;(Y.values?de:ve).addKeys(je)}else if(q==="openCursor"){var Pe=Te,Le=Y.values;return Pe&&Object.create(Pe,{key:{get:function(){return ve.addKey(Pe.primaryKey),Pe.key}},primaryKey:{get:function(){var Ye=Pe.primaryKey;return ve.addKey(Ye),Ye}},value:{get:function(){return Le&&de.addKey(Pe.primaryKey),Pe.value}}})}return Te})}ve.add(w)}}return T[q].apply(this,arguments)}}),te}})}};function e0(d,h,w){if(w.numFailures===0)return h;if(h.type==="deleteRange")return null;var S=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1;return w.numFailures===S?null:(h=r({},h),a(h.keys)&&(h.keys=h.keys.filter(function(T,j){return!(j in w.failures)})),"values"in h&&a(h.values)&&(h.values=h.values.filter(function(T,j){return!(j in w.failures)})),h)}function mh(d,h){return w=d,((S=h).lower===void 0||(S.lowerOpen?0<it(w,S.lower):0<=it(w,S.lower)))&&(d=d,(h=h).upper===void 0||(h.upperOpen?it(d,h.upper)<0:it(d,h.upper)<=0));var w,S}function t0(d,h,ie,S,T,j){if(!ie||ie.length===0)return d;var D=h.query.index,B=D.multiEntry,K=h.query.range,W=S.schema.primaryKey.extractKey,te=D.extractKey,U=(D.lowLevelIndex||D).extractKey,ie=ie.reduce(function(q,Y){var J=q,re=[];if(Y.type==="add"||Y.type==="put")for(var se=new nn,ae=Y.values.length-1;0<=ae;--ae){var de,ve=Y.values[ae],Ee=W(ve);se.hasKey(Ee)||(de=te(ve),(B&&a(de)?de.some(function(Pe){return mh(Pe,K)}):mh(de,K))&&(se.addKey(Ee),re.push(ve)))}switch(Y.type){case"add":var Ae=new nn().addKeys(h.values?q.map(function(Le){return W(Le)}):q),J=q.concat(h.values?re.filter(function(Le){return Le=W(Le),!Ae.hasKey(Le)&&(Ae.addKey(Le),!0)}):re.map(function(Le){return W(Le)}).filter(function(Le){return!Ae.hasKey(Le)&&(Ae.addKey(Le),!0)}));break;case"put":var ke=new nn().addKeys(Y.values.map(function(Le){return W(Le)}));J=q.filter(function(Le){return!ke.hasKey(h.values?W(Le):Le)}).concat(h.values?re:re.map(function(Le){return W(Le)}));break;case"delete":var Te=new nn().addKeys(Y.keys);J=q.filter(function(Le){return!Te.hasKey(h.values?W(Le):Le)});break;case"deleteRange":var je=Y.range;J=q.filter(function(Le){return!mh(W(Le),je)})}return J},d);return ie===d?d:(ie.sort(function(q,Y){return it(U(q),U(Y))||it(W(q),W(Y))}),h.limit&&h.limit<1/0&&(ie.length>h.limit?ie.length=h.limit:d.length===h.limit&&ie.length<h.limit&&(T.dirty=!0)),j?Object.freeze(ie):ie)}function n0(d,h){return it(d.lower,h.lower)===0&&it(d.upper,h.upper)===0&&!!d.lowerOpen==!!h.lowerOpen&&!!d.upperOpen==!!h.upperOpen}function aT(d,h){return function(w,S,T,j){if(w===void 0)return S!==void 0?-1:0;if(S===void 0)return 1;if((S=it(w,S))===0){if(T&&j)return 0;if(T)return 1;if(j)return-1}return S}(d.lower,h.lower,d.lowerOpen,h.lowerOpen)<=0&&0<=function(w,S,T,j){if(w===void 0)return S!==void 0?1:0;if(S===void 0)return-1;if((S=it(w,S))===0){if(T&&j)return 0;if(T)return-1;if(j)return 1}return S}(d.upper,h.upper,d.upperOpen,h.upperOpen)}function lT(d,h,w,S){d.subscribers.add(w),S.addEventListener("abort",function(){var T,j;d.subscribers.delete(w),d.subscribers.size===0&&(T=d,j=h,setTimeout(function(){T.subscribers.size===0&&X(j,T)},3e3))})}var uT={stack:"dbcore",level:0,name:"Cache",create:function(d){var h=d.schema.name;return r(r({},d),{transaction:function(w,S,T){var j,D,B=d.transaction(w,S,T);return S==="readwrite"&&(D=(j=new AbortController).signal,T=function(K){return function(){if(j.abort(),S==="readwrite"){for(var W=new Set,te=0,U=w;te<U.length;te++){var ie=U[te],q=Cs["idb://".concat(h,"/").concat(ie)];if(q){var Y=d.table(ie),J=q.optimisticOps.filter(function(Le){return Le.trans===B});if(B._explicit&&K&&B.mutatedParts)for(var re=0,se=Object.values(q.queries.query);re<se.length;re++)for(var ae=0,de=(Ae=se[re]).slice();ae<de.length;ae++)lh((ke=de[ae]).obsSet,B.mutatedParts)&&(X(Ae,ke),ke.subscribers.forEach(function(Le){return W.add(Le)}));else if(0<J.length){q.optimisticOps=q.optimisticOps.filter(function(Le){return Le.trans!==B});for(var ve=0,Ee=Object.values(q.queries.query);ve<Ee.length;ve++)for(var Ae,ke,Te,je=0,Pe=(Ae=Ee[ve]).slice();je<Pe.length;je++)(ke=Pe[je]).res!=null&&B.mutatedParts&&(K&&!ke.dirty?(Te=Object.isFrozen(ke.res),Te=t0(ke.res,ke.req,J,Y,ke,Te),ke.dirty?(X(Ae,ke),ke.subscribers.forEach(function(Le){return W.add(Le)})):Te!==ke.res&&(ke.res=Te,ke.promise=Ce.resolve({result:Te}))):(ke.dirty&&X(Ae,ke),ke.subscribers.forEach(function(Le){return W.add(Le)})))}}}W.forEach(function(Le){return Le()})}}},B.addEventListener("abort",T(!1),{signal:D}),B.addEventListener("error",T(!1),{signal:D}),B.addEventListener("complete",T(!0),{signal:D})),B},table:function(w){var S=d.table(w),T=S.schema.primaryKey;return r(r({},S),{mutate:function(j){var D=De.trans;if(T.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return S.mutate(j);var B=Cs["idb://".concat(h,"/").concat(w)];return B?(D=S.mutate(j),j.type!=="add"&&j.type!=="put"||!(50<=j.values.length||ph(T,j).some(function(K){return K==null}))?(B.optimisticOps.push(j),j.mutatedParts&&cc(j.mutatedParts),D.then(function(K){0<K.numFailures&&(X(B.optimisticOps,j),(K=e0(0,j,K))&&B.optimisticOps.push(K),j.mutatedParts&&cc(j.mutatedParts))}),D.catch(function(){X(B.optimisticOps,j),j.mutatedParts&&cc(j.mutatedParts)})):D.then(function(K){var W=e0(0,r(r({},j),{values:j.values.map(function(te,U){var ie;return K.failures[U]?te:(te=(ie=T.keyPath)!==null&&ie!==void 0&&ie.includes(".")?ee(te):r({},te),R(te,T.keyPath,K.results[U]),te)})}),K);B.optimisticOps.push(W),queueMicrotask(function(){return j.mutatedParts&&cc(j.mutatedParts)})}),D):S.mutate(j)},query:function(j){if(!Zv(De,S)||!Xv("query",j))return S.query(j);var D=((W=De.trans)===null||W===void 0?void 0:W.db._options.cache)==="immutable",U=De,B=U.requery,K=U.signal,W=function(Y,J,re,se){var ae=Cs["idb://".concat(Y,"/").concat(J)];if(!ae)return[];if(!(J=ae.queries[re]))return[null,!1,ae,null];var de=J[(se.query?se.query.index.name:null)||""];if(!de)return[null,!1,ae,null];switch(re){case"query":var ve=de.find(function(Ee){return Ee.req.limit===se.limit&&Ee.req.values===se.values&&n0(Ee.req.query.range,se.query.range)});return ve?[ve,!0,ae,de]:[de.find(function(Ee){return("limit"in Ee.req?Ee.req.limit:1/0)>=se.limit&&(!se.values||Ee.req.values)&&aT(Ee.req.query.range,se.query.range)}),!1,ae,de];case"count":return ve=de.find(function(Ee){return n0(Ee.req.query.range,se.query.range)}),[ve,!!ve,ae,de]}}(h,w,"query",j),te=W[0],U=W[1],ie=W[2],q=W[3];return te&&U?te.obsSet=j.obsSet:(U=S.query(j).then(function(Y){var J=Y.result;if(te&&(te.res=J),D){for(var re=0,se=J.length;re<se;++re)Object.freeze(J[re]);Object.freeze(J)}else Y.result=ee(J);return Y}).catch(function(Y){return q&&te&&X(q,te),Promise.reject(Y)}),te={obsSet:j.obsSet,promise:U,subscribers:new Set,type:"query",req:j,dirty:!1},q?q.push(te):(q=[te],(ie=ie||(Cs["idb://".concat(h,"/").concat(w)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[j.query.index.name||""]=q)),lT(te,q,B,K),te.promise.then(function(Y){return{result:t0(Y.result,j,ie==null?void 0:ie.optimisticOps,S,te,D)}})}})}})}};function fc(d,h){return new Proxy(d,{get:function(w,S,T){return S==="db"?h:Reflect.get(w,S,T)}})}var Zr=(Rt.prototype.version=function(d){if(isNaN(d)||d<.1)throw new be.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new be.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var h=this._versions,w=h.filter(function(S){return S._cfg.version===d})[0];return w||(w=new this.Version(d),h.push(w),h.sort(ZC),w.stores({}),this._state.autoSchema=!1,w)},Rt.prototype._whenReady=function(d){var h=this;return this.idbdb&&(this._state.openComplete||De.letThrough||this._vip)?d():new Ce(function(w,S){if(h._state.openComplete)return S(new be.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void S(new be.DatabaseClosed);h.open().catch(He)}h._state.dbReadyPromise.then(w,S)}).then(d)},Rt.prototype.use=function(d){var h=d.stack,w=d.create,S=d.level,T=d.name;return T&&this.unuse({stack:h,name:T}),d=this._middlewares[h]||(this._middlewares[h]=[]),d.push({stack:h,create:w,level:S??10,name:T}),d.sort(function(j,D){return j.level-D.level}),this},Rt.prototype.unuse=function(d){var h=d.stack,w=d.name,S=d.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(T){return S?T.create!==S:!!w&&T.name!==w})),this},Rt.prototype.open=function(){var d=this;return Ss(hn,function(){return nT(d)})},Rt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var d=this._state,h=So.indexOf(this);if(0<=h&&So.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new Ce(function(w){d.dbReadyResolve=w}),d.openCanceller=new Ce(function(w,S){d.cancelOpen=S}))},Rt.prototype.close=function(w){var h=(w===void 0?{disableAutoOpen:!0}:w).disableAutoOpen,w=this._state;h?(w.isBeingOpened&&w.cancelOpen(new be.DatabaseClosed),this._close(),w.autoOpen=!1,w.dbOpenError=new be.DatabaseClosed):(this._close(),w.autoOpen=this._options.autoOpen||w.isBeingOpened,w.openComplete=!1,w.dbOpenError=null)},Rt.prototype.delete=function(d){var h=this;d===void 0&&(d={disableAutoOpen:!0});var w=0<arguments.length&&typeof arguments[0]!="object",S=this._state;return new Ce(function(T,j){function D(){h.close(d);var B=h._deps.indexedDB.deleteDatabase(h.name);B.onsuccess=vt(function(){var K,W,te;K=h._deps,W=h.name,te=K.indexedDB,K=K.IDBKeyRange,sh(te)||W===Ju||ih(te,K).delete(W).catch(He),T()}),B.onerror=Ir(j),B.onblocked=h._fireOnBlocked}if(w)throw new be.InvalidArgument("Invalid closeOptions argument to db.delete()");S.isBeingOpened?S.dbReadyPromise.then(D):D()})},Rt.prototype.backendDB=function(){return this.idbdb},Rt.prototype.isOpen=function(){return this.idbdb!==null},Rt.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},Rt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Rt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Rt.prototype,"tables",{get:function(){var d=this;return o(this._allTables).map(function(h){return d._allTables[h]})},enumerable:!1,configurable:!0}),Rt.prototype.transaction=function(){var d=(function(h,w,S){var T=arguments.length;if(T<2)throw new be.InvalidArgument("Too few arguments");for(var j=new Array(T-1);--T;)j[T-1]=arguments[T];return S=j.pop(),[h,V(j),S]}).apply(this,arguments);return this._transaction.apply(this,d)},Rt.prototype._transaction=function(d,h,w){var S=this,T=De.trans;T&&T.db===this&&d.indexOf("!")===-1||(T=null);var j,D,B=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(D=h.map(function(W){if(W=W instanceof S.Table?W.name:W,typeof W!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return W}),d=="r"||d===qf)j=qf;else{if(d!="rw"&&d!=Gf)throw new be.InvalidArgument("Invalid transaction mode: "+d);j=Gf}if(T){if(T.mode===qf&&j===Gf){if(!B)throw new be.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");T=null}T&&D.forEach(function(W){if(T&&T.storeNames.indexOf(W)===-1){if(!B)throw new be.SubTransaction("Table "+W+" not included in parent transaction.");T=null}}),B&&T&&!T.active&&(T=null)}}catch(W){return T?T._promise(null,function(te,U){U(W)}):Ot(W)}var K=(function W(te,U,ie,q,Y){return Ce.resolve().then(function(){var J=De.transless||De,re=te._createTransaction(U,ie,te._dbSchema,q);if(re.explicit=!0,J={trans:re,transless:J},q)re.idbtrans=q.idbtrans;else try{re.create(),re.idbtrans._explicit=!0,te._state.PR1398_maxLoop=3}catch(de){return de.name===We.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return W(te,U,ie,null,Y)})):Ot(de)}var se,ae=G(Y);return ae&&xo(),J=Ce.follow(function(){var de;(se=Y.call(re,re))&&(ae?(de=Ei.bind(null,null),se.then(de,de)):typeof se.next=="function"&&typeof se.throw=="function"&&(se=fh(se)))},J),(se&&typeof se.then=="function"?Ce.resolve(se).then(function(de){return re.active?de:Ot(new be.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):J.then(function(){return se})).then(function(de){return q&&re._resolve(),re._completion.then(function(){return de})}).catch(function(de){return re._reject(de),Ot(de)})})}).bind(null,this,j,D,T,w);return T?T._promise(j,K,"lock"):De.trans?Ss(De.transless,function(){return S._whenReady(K)}):this._whenReady(K)},Rt.prototype.table=function(d){if(!f(this._allTables,d))throw new be.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},Rt);function Rt(d,h){var w=this;this._middlewares={},this.verno=0;var S=Rt.dependencies;this._options=h=r({addons:Rt.addons,autoOpen:!0,indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},S=h.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var T,j,D,B,K,W={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:He,dbReadyPromise:null,cancelOpen:He,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen};W.dbReadyPromise=new Ce(function(U){W.dbReadyResolve=U}),W.openCanceller=new Ce(function(U,ie){W.cancelOpen=ie}),this._state=W,this.name=d,this.on=Wa(this,"populate","blocked","versionchange","close",{ready:[me,He]}),this.once=function(U,ie){var q=function(){for(var Y=[],J=0;J<arguments.length;J++)Y[J]=arguments[J];w.on(U).unsubscribe(q),ie.apply(w,Y)};return w.on(U,q)},this.on.ready.subscribe=_(this.on.ready.subscribe,function(U){return function(ie,q){Rt.vip(function(){var Y,J=w._state;J.openComplete?(J.dbOpenError||Ce.resolve().then(ie),q&&U(ie)):J.onReadyBeingFired?(J.onReadyBeingFired.push(ie),q&&U(ie)):(U(ie),Y=w,q||U(function re(){Y.on.ready.unsubscribe(ie),Y.on.ready.unsubscribe(re)}))})}}),this.Collection=(T=this,Ha(WC.prototype,function(se,re){this.db=T;var q=Ov,Y=null;if(re)try{q=re()}catch(ae){Y=ae}var J=se._ctx,re=J.table,se=re.hook.reading.fire;this._ctx={table:re,index:J.index,isPrimKey:!J.index||re.schema.primKey.keyPath&&J.index===re.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Y,or:J.or,valueMapper:se!==Ft?se:null}})),this.Table=(j=this,Ha($v.prototype,function(U,ie,q){this.db=j,this._tx=q,this.name=U,this.schema=ie,this.hook=j._allTables[U]?j._allTables[U].hook:Wa(null,{creating:[ce,He],reading:[P,Ft],updating:[N,He],deleting:[$,He]})})),this.Transaction=(D=this,Ha(GC.prototype,function(U,ie,q,Y,J){var re=this;U!=="readonly"&&ie.forEach(function(se){se=(se=q[se])===null||se===void 0?void 0:se.yProps,se&&(ie=ie.concat(se.map(function(ae){return ae.updatesTable})))}),this.db=D,this.mode=U,this.storeNames=ie,this.schema=q,this.chromeTransactionDurability=Y,this.idbtrans=null,this.on=Wa(this,"complete","error","abort"),this.parent=J||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce(function(se,ae){re._resolve=se,re._reject=ae}),this._completion.then(function(){re.active=!1,re.on.complete.fire()},function(se){var ae=re.active;return re.active=!1,re.on.error.fire(se),re.parent?re.parent._reject(se):ae&&re.idbtrans&&re.idbtrans.abort(),Ot(se)})})),this.Version=(B=this,Ha(tT.prototype,function(U){this.db=B,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(K=this,Ha(zv.prototype,function(U,ie,q){if(this.db=K,this._ctx={table:U,index:ie===":id"?null:ie,or:q},this._cmp=this._ascending=it,this._descending=function(Y,J){return it(J,Y)},this._max=function(Y,J){return 0<it(Y,J)?Y:J},this._min=function(Y,J){return it(Y,J)<0?Y:J},this._IDBKeyRange=K._deps.IDBKeyRange,!this._IDBKeyRange)throw new be.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(w.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(w.name,"'. Closing db now to resume the delete request.")),w.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(w.name,"') was blocked")):console.warn("Upgrade '".concat(w.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=Qa(h.IDBKeyRange),this._createTransaction=function(U,ie,q,Y){return new w.Transaction(U,ie,q,w._options.chromeTransactionDurability,Y)},this._fireOnBlocked=function(U){w.on("blocked").fire(U),So.filter(function(ie){return ie.name===w.name&&ie!==w&&!ie._state.vcFired}).map(function(ie){return ie.on("versionchange").fire(U)})},this.use(sT),this.use(uT),this.use(oT),this.use(rT),this.use(iT);var te=new Proxy(this,{get:function(U,ie,q){if(ie==="_vip")return!0;if(ie==="table")return function(J){return fc(w.table(J),te)};var Y=Reflect.get(U,ie,q);return Y instanceof $v?fc(Y,te):ie==="tables"?Y.map(function(J){return fc(J,te)}):ie==="_createTransaction"?function(){return fc(Y.apply(this,arguments),te)}:Y}});this.vip=te,S.forEach(function(U){return U(w)})}var hc,Yn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",cT=(gh.prototype.subscribe=function(d,h,w){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:h,complete:w})},gh.prototype[Yn]=function(){return this},gh);function gh(d){this._subscribe=d}try{hc={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{hc={indexedDB:null,IDBKeyRange:null}}function r0(d){var h,w=!1,S=new cT(function(T){var j=G(d),D,B=!1,K={},W={},te={get closed(){return B},unsubscribe:function(){B||(B=!0,D&&D.abort(),U&&Pi.storagemutated.unsubscribe(q))}};T.start&&T.start(te);var U=!1,ie=function(){return Hf(Y)},q=function(J){uc(K,J),lh(W,K)&&ie()},Y=function(){var J,re,se;!B&&hc.indexedDB&&(K={},J={},D&&D.abort(),D=new AbortController,se=function(ae){var de=bo();try{j&&xo();var ve=ki(d,ae);return ve=j?ve.finally(Ei):ve}finally{de&&_o()}}(re={subscr:J,signal:D.signal,requery:ie,querier:d,trans:null}),Promise.resolve(se).then(function(ae){w=!0,h=ae,B||re.signal.aborted||(K={},function(de){for(var ve in de)if(f(de,ve))return;return 1}(W=J)||U||(Pi(Ga,q),U=!0),Hf(function(){return!B&&T.next&&T.next(ae)}))},function(ae){w=!1,["DatabaseClosedError","AbortError"].includes(ae==null?void 0:ae.name)||B||Hf(function(){B||T.error&&T.error(ae)})}))};return setTimeout(ie,0),te});return S.hasValue=function(){return w},S.getValue=function(){return h},S}var Ts=Zr;function yh(d){var h=Ai;try{Ai=!0,Pi.storagemutated.fire(d),dh(d,!0)}finally{Ai=h}}p(Ts,r(r({},rt),{delete:function(d){return new Ts(d,{addons:[]}).delete()},exists:function(d){return new Ts(d,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return h=Ts.dependencies,w=h.indexedDB,h=h.IDBKeyRange,(sh(w)?Promise.resolve(w.databases()).then(function(S){return S.map(function(T){return T.name}).filter(function(T){return T!==Ju})}):ih(w,h).toCollection().primaryKeys()).then(d)}catch{return Ot(new be.MissingAPI)}var h,w},defineClass:function(){return function(d){l(this,d)}},ignoreTransaction:function(d){return De.trans?Ss(De.transless,d):d()},vip:oh,async:function(d){return function(){try{var h=fh(d.apply(this,arguments));return h&&typeof h.then=="function"?h:Ce.resolve(h)}catch(w){return Ot(w)}}},spawn:function(d,h,w){try{var S=fh(d.apply(w,h||[]));return S&&typeof S.then=="function"?S:Ce.resolve(S)}catch(T){return Ot(T)}},currentTransaction:{get:function(){return De.trans||null}},waitFor:function(d,h){return h=Ce.resolve(typeof d=="function"?Ts.ignoreTransaction(d):d).timeout(h||6e4),De.trans?De.trans.waitFor(h):h},Promise:Ce,debug:{get:function(){return ge},set:function(d){oe(d)}},derive:v,extend:l,props:p,override:_,Events:Wa,on:Pi,liveQuery:r0,extendObservabilitySet:uc,getByKeyPath:I,setByKeyPath:R,delByKeyPath:function(d,h){typeof h=="string"?R(d,h,void 0):"length"in h&&[].map.call(h,function(w){R(d,w,void 0)})},shallowClone:L,deepClone:ee,getObjectDiff:hh,cmp:it,asap:O,minKey:-1/0,addons:[],connections:So,errnames:We,dependencies:hc,cache:Cs,semVer:"4.2.1",version:"4.2.1".split(".").map(function(d){return parseInt(d)}).reduce(function(d,h,w){return d+h/Math.pow(10,2*w)})})),Ts.maxKey=Qa(Ts.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Pi(Ga,function(d){Ai||(d=new CustomEvent(Jf,{detail:d}),Ai=!0,dispatchEvent(d),Ai=!1)}),addEventListener(Jf,function(d){d=d.detail,Ai||yh(d)}));var To,Ai=!1,i0=function(){};return typeof BroadcastChannel<"u"&&((i0=function(){(To=new BroadcastChannel(Jf)).onmessage=function(d){return d.data&&yh(d.data)}})(),typeof To.unref=="function"&&To.unref(),Pi(Ga,function(d){Ai||To.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!Zr.disableBfCache&&d.persisted){ge&&console.debug("Dexie: handling persisted pagehide"),To!=null&&To.close();for(var h=0,w=So;h<w.length;h++)w[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!Zr.disableBfCache&&d.persisted&&(ge&&console.debug("Dexie: handling persisted pageshow"),i0(),yh({all:new nn(-1/0,[[]])}))})),Ce.rejectionMapper=function(d,h){return!d||d instanceof ye||d instanceof TypeError||d instanceof SyntaxError||!d.name||!ct[d.name]?d:(h=new ct[d.name](h||d.message,d),"stack"in d&&b(h,"stack",{get:function(){return this.inner.stack}}),h)},oe(ge),r(Zr,Object.freeze({__proto__:null,Dexie:Zr,liveQuery:r0,Entity:Rv,cmp:it,PropModification:Ka,replacePrefix:function(d,h){return new Ka({replacePrefix:[d,h]})},add:function(d){return new Ka({add:d})},remove:function(d){return new Ka({remove:d})},default:Zr,RangeSet:nn,mergeRanges:Za,rangesOverlap:qv}),{default:Zr}),Zr})})(ik);var LI=ik.exports;const Wm=nf(LI),Jw=Symbol.for("Dexie"),Kd=globalThis[Jw]||(globalThis[Jw]=Wm);if(Wm.semVer!==Kd.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Wm.semVer} and ${Kd.semVer}`);const{liveQuery:kB,mergeRanges:EB,rangesOverlap:CB,RangeSet:TB,cmp:PB,Entity:AB,PropModification:jB,replacePrefix:OB,add:RB,remove:IB,DexieYProvider:DB}=Kd;class $I extends Kd{constructor(){super("SankeertanDB");mc(this,"categories");mc(this,"songIndices");mc(this,"songDetails");this.version(1).stores({categories:"++id",songIndices:"++insertionId, [bookId+songTitle], bookId",songDetails:"[bookId+songTitle], bookId"})}}const tn=new $I,np=new Map;async function MI(){try{const e=await tn.categories.toArray();return e.length>0?e:void 0}catch(e){console.error("Error retrieving categories from DB:",e);return}}async function FI(e){try{await tn.categories.clear(),await tn.categories.bulkAdd(e)}catch(t){console.error("Error saving categories to DB:",t)}}const Du=async e=>{try{return await tn.songIndices.where("bookId").equals(e).count()>0}catch(t){return console.error(`Error checking song indices cache status for book ${e} from DB:`,t),!1}};async function BI(e){try{const t=await tn.songIndices.where("bookId").equals(e).delete();console.log(`Successfully deleted ${t} song index records for book: ${e}`)}catch(t){console.error(`Error deleting song indices for book ${e} from DB:`,t)}}async function UI(e){try{return await tn.songDetails.where("bookId").equals(e).count()}catch(t){return console.error(`Error counting downloaded songs for book ${e} from DB:`,t),0}}async function Zw(e){const t=e.map(async i=>{const s=i.bookId,o=i.songCount||0,[a,l,u]=await Promise.all([Du(s),UI(s),qI(s)]);let c=0;a&&u>0?c=u:c=Number(o)||0;const f=c>0?l:0;return{bookId:s,status:{totalSongs:c,downloadedSongs:f,downloadingSongs:{},isIndexDownloaded:a}}}),n=await Promise.all(t),r={};return n.forEach(i=>{r[i.bookId]=i.status}),r}async function zI(e){try{const t=await tn.songDetails.where("bookId").equals(e).delete(),n=await tn.songIndices.where("bookId").equals(e).delete();console.log(`Successfully deleted cached book data for ${e}. 
                 Details removed: ${t}, Indices removed: ${n}`)}catch(t){console.error(`Error deleting all book data for book ${e} from DB:`,t)}}async function sk(e){try{const t=await tn.songIndices.where("bookId").equals(e).sortBy("insertionId");return t.length>0?t:void 0}catch(t){console.error(`Error retrieving song indices for book ${e} from DB:`,t);return}}async function ok(e,t){try{await tn.songIndices.where("bookId").equals(e).delete();const n=t.map(r=>({...r,bookId:e,tags:r.tags||[]}));await tn.songIndices.bulkAdd(n)}catch(n){console.error(`Error saving song indices for book ${e} to DB:`,n)}}async function du(e,t){try{const n=[e,t];return await tn.songDetails.where("[bookId+songTitle]").equals(n).count()>0}catch(n){return console.error(`Error checking download status for ${t} in ${e}:`,n),!1}}async function VI(e,t){try{const n=[e,t];return await tn.songDetails.where("[bookId+songTitle]").equals(n).first()}catch(n){console.error(`Error retrieving song detail for ${t} in ${e} from DB:`,n);return}}const ak=(e,t)=>`${e}-${encodeURIComponent(t)}`;async function KI(e){const t=ak(e.bookId,e.songTitle);try{const n={cacheId:t,...e};await tn.songDetails.put(n)}catch(n){throw console.error(`Error saving song detail for ${t} to DB:`,n),n}}async function WI(e,t){try{const n=[e,t];await tn.songDetails.delete(n)}catch(n){console.error(`Error deleting song detail for ${t} in ${e} from DB:`,n)}}async function HI(e,t,n,r){const{sourceRow:i,songTitle:s}=t,o=ak(e,s);if(await du(e,s))return;const l=np.get(o);if(l)return l;const u=String(i),c=Number(i),f=(async()=>{if(!e||!s||isNaN(c)||c<0)throw new Error(`Missing or invalid critical song parameters for fetching: Book ID: ${e}, Title: ${s}, Row: ${i}, User: ${n}`);try{const p=await r({bookId:e,sourceRow:u,songTitle:s,sessionuser:n});if(p.length<3)throw new Error("API response is incomplete. Expected [songData, metadata, sourceLanguage].");const[m,b,v,x]=p;await KI({bookId:e,songTitle:s,sourceRow:u,indexPosition:x,songData:m,metadata:b,sourceLanguage:v})}catch(p){throw console.error(`Failed to download and cache song ${s} in book ${e}:`,p),p}})();np.set(o,f);try{await f}finally{np.delete(o)}}async function qI(e){try{return await tn.songIndices.where("bookId").equals(e).count()}catch(t){return console.error(`Error counting song indices for book ${e}:`,t),0}}const lk=k.createContext({categories:[],isLoading:!1,isFetching:!1,error:null}),GI=async e=>{const t=new URL(`${La}`);t.searchParams.append("mode","api"),t.searchParams.append("apiname","getcategoriesandbooks"),t.searchParams.append("sessionuser",e??"dummyfornow");const n=await fetch(t.toString());if(!n.ok){const s=await n.json().catch(()=>({message:"No detailed error message"}));throw new Error(`Failed to fetch categories and books: ${n.status} - ${JSON.stringify(s)}`)}const r=await n.json();return Object.keys(r).filter(s=>s!=="books").map(s=>({name:s,bookCount:Array.isArray(r[s])?r[s].length:0,books:Array.isArray(r[s])?r[s].map(o=>({bookId:o["Book Id"],bookName:o["Book Name"],songCount:o["Song Count"],verseCount:o["Verse Count"],isBookSourceSupabase:o.isBookSourceSupabase==="true"||o.isBookSourceSupabase===!0})):[],id:s.toLowerCase().replace(/ /g,"-"),image:`https://placehold.co/800/orange/black?text=${encodeURIComponent(s)}&font=lora`}))},QI=({children:e})=>{var p;const{session:t}=bs(),n=(p=t==null?void 0:t.user)==null?void 0:p.email,[r,i]=k.useState(void 0),[s,o]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const b=await MI();b&&i(b)}catch(b){console.error("Error retrieving categories data from IndexedDB:",b)}finally{o(!1)}})()},[]);const{isLoading:a,isFetching:l,error:u,data:c}=Ny({queryKey:["categories",n],queryFn:()=>GI(n??null),staleTime:1/0,initialData:r,refetchOnMount:!1,enabled:!!n&&!s});k.useEffect(()=>{c&&!l&&FI(c).catch(m=>{console.error("Error saving categories data to IndexedDB:",m)})},[c,l]);const f=s||a;return E.jsx(lk.Provider,{value:{categories:c??r??[],isLoading:f,isFetching:l,error:u},children:e})},Ly=()=>k.useContext(lk),Xw=e=>{const[t,n]=k.useState(!1);return k.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;const r=window.matchMedia(e),i=s=>n(s.matches);return n(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),t};function YI(){var m;const{categories:e,isLoading:t,isFetching:n,error:r}=Ly(),i=jr(),[s,o]=k.useState([]);Xw("(max-width: 600px) and (orientation: portrait)"),Xw("(max-width: 900px) and (orientation: landscape)");const{session:a}=bs(),l=(m=a==null?void 0:a.user)==null?void 0:m.email,u=Tf();if(k.useEffect(()=>{o((v=>{const x=[],g=360/v;for(let y=0;y<v;y++){const _=y*g;x.push(`hsl(${_}, 70%, 60%)`)}return x})(e.length))},[e.length]),t||n)return E.jsx("div",{children:"Loading categories..."});if(r instanceof Error)return E.jsxs("div",{children:["Error loading categories: ",r.message]});const c=async()=>{await tn.categories.delete("1"),console.log("Categories & Books -> IndexedDB cache cleared. Data will be reloaded from the server."),u.invalidateQueries({queryKey:["categories",l]})},f=(b,v)=>{b.stopPropagation(),i(`/books/${v}`)},p={container:{maxWidth:"1000px",margin:"0 auto",padding:"20px",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",backgroundColor:"#f5f7fa",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)"},heading:{textAlign:"center",color:"#2c3e50",marginBottom:"25px",fontSize:"32px",fontWeight:"700",paddingBottom:"15px",borderBottom:"2px solid #eaeaea"},categoryGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},categoryItem:{borderRadius:"12px",padding:"20px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)",border:"1px solid #eaeaea",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},categoryIcon:{marginRight:"15px",width:"50px",height:"50px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"white",flexShrink:"0",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},categoryName:{fontWeight:"600",color:"#2c3e50",fontSize:"18px"}};return{...p.categoryGridBase},E.jsxs("div",{style:p.container,children:[E.jsxs("h2",{style:p.heading,children:["Book Categories",E.jsx("button",{onClick:c,style:{marginRight:"10px"},title:"Reload",children:""})]}),E.jsx("div",{style:p.categoryGrid,children:e==null?void 0:e.map((b,v)=>E.jsxs("div",{onClick:x=>f(x,b.id),style:{...p.categoryItem,backgroundColor:v%2===0?"#f8f9fa":"#ffffff"},className:"category-item",children:[E.jsx("div",{style:{...p.categoryIcon,backgroundColor:s[v]||"#3498db"},children:""}),E.jsx("span",{style:p.categoryName,children:b.name})]},b.id))}),E.jsx("style",{children:`
          .category-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: #3498db;
          }
        `})]})}const uk=k.createContext({isOfflineMode:!1,setIsOfflineMode:()=>{},isEffectivelyOffline:!1}),JI=({children:e})=>{const[t,n]=k.useState(!1),r=t||!navigator.onLine;return k.useEffect(()=>{const i=()=>{},s=()=>{t||n(!0)};return window.addEventListener("online",i),window.addEventListener("offline",s),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",s)}},[t,n]),E.jsx(uk.Provider,{value:{isOfflineMode:t,setIsOfflineMode:n,isEffectivelyOffline:r},children:e})},$y=()=>k.useContext(uk);console.log("DownloadStatusProvider Function Running!");const eb={},ck=k.createContext(void 0),ZI=({children:e,books:t})=>{const n=k.useMemo(()=>t.reduce((x,g)=>(x[g.bookId]={totalSongs:g.songCount||0,downloadedSongs:0,downloadingSongs:{},isIndexDownloaded:!1},x),{}),[t]),[r,i]=k.useState(n),[s,o]=k.useState(!1);k.useEffect(()=>{if(!t||t.length===0){i({}),o(!0);return}(async()=>{try{const g=await Zw(t),y={};for(const _ of t){const C=_.bookId,O=g[C]||{},I=await Du(C);y[C]={totalSongs:_.songCount||O.totalSongs||0,downloadedSongs:O.downloadedSongs||0,isIndexDownloaded:I,downloadingSongs:{}}}i(y),o(!0)}catch(g){console.error("Failed to load or initialize download status:",g),i({}),o(!0)}})()},[t]);const a=k.useMemo(()=>t.map(x=>x.bookId).join(","),[t]);k.useEffect(()=>{if(!t||t.length===0){i(eb);return}(async()=>{try{const g=await Zw(t);i(g)}catch(g){console.error("Failed to load initial download status from DB:",g),i(eb)}})()},[a,t]);const l=k.useCallback((x,g)=>{i(y=>({...y,[x]:{...y[x],totalSongs:g}}))},[]),u=k.useCallback((x,g)=>{i(y=>({...y,[x]:{...y[x],downloadedSongs:g}}))},[]),c=k.useCallback((x,g)=>{i(y=>({...y,[x]:{...y[x],isIndexDownloaded:g}}))},[]),f=k.useCallback((x,g)=>{i(y=>{var _;return{...y,[x]:{...y[x],downloadingSongs:{...(_=y[x])==null?void 0:_.downloadingSongs,[g]:!0}}}})},[]),p=k.useCallback((x,g)=>{i(y=>{const _=y[x];if(!_)return y;const C={..._.downloadingSongs};return delete C[g],{...y,[x]:{..._,downloadedSongs:(_.downloadedSongs||0)+1,downloadingSongs:C}}})},[]),m=k.useCallback((x,g,y)=>{i(_=>{const C=_[x]||{},O=C.downloadedSongs||0;return{..._,[x]:{...C,totalSongs:g,downloadedSongs:O,downloadingSongs:y}}})},[]),b=k.useCallback(x=>{i(g=>{const y=g[x];return y?{...g,[x]:{...y,downloadedSongs:y.totalSongs,downloadingSongs:{}}}:g})},[]),v={downloadStatus:r,updateDownloadProgress:l,updateDownloadedCount:u,markSongAsDownloading:f,markSongAsDownloaded:p,updateIndexStatus:c,markBookDownloadStart:m,markBookDownloadComplete:b,isLoaded:s};return E.jsx(ck.Provider,{value:v,children:e})},My=()=>{const e=k.useContext(ck);if(!e)throw new Error("useDownloadStatus must be used within a DownloadStatusProvider");return e},XI=3e3,eD=3,dk=async({bookId:e,sourceRow:t,songTitle:n,sessionuser:r})=>{if(!e||!t)throw new Error("bookId or sourceRow is not defined. Cannot fetch songDetails");const i=new URL(La);i.searchParams.append("mode","api"),i.searchParams.append("apiname","getsongtextforsong"),i.searchParams.append("book",e),i.searchParams.append("sourcerow",t),i.searchParams.append("songtitle",n),r&&i.searchParams.append("sessionuser",r);const s=await fetch(i.toString());if(!s.ok){const o=await s.json();throw new Error(`Failed to fetch song details for book ${e}+row ${t}: ${s.status} - ${JSON.stringify(o)}`)}return await s.json()},tD=(e,t,n)=>{const{downloadStatus:r,markSongAsDownloaded:i,markBookDownloadStart:s,markBookDownloadComplete:o}=My(),a=k.useCallback(c=>{const f=r[c];if(!f)return!1;const p=f.downloadingSongs??{};return Object.keys(p).length>0},[r]),l=k.useMemo(()=>Object.values(r).some(c=>Object.keys(c.downloadingSongs??{}).length>0),[r]),u=k.useCallback(async(c,f)=>{if(a(c))return 0;let p=[],m=0;if(await Du(c)){const g=await sk(c);g&&Array.isArray(g)&&(p=g.map(y=>({sourceRow:y.sourceRow,songTitle:y.songTitle,tags:y.tags})),m=p.length)}else try{const g=new URL(La);g.searchParams.append("mode","api"),g.searchParams.append("apiname","getsongsforbook"),g.searchParams.append("book",c),f&&g.searchParams.append("sessionuser",f);const y=await fetch(g.toString());if(!y.ok){const O=await y.json();throw new Error(`Failed to fetch song indices: ${y.status} - ${JSON.stringify(O)}`)}const C=(await y.json()).map(O=>({...O,sourceRow:typeof O.sourceRow=="string"?parseInt(O.sourceRow,10):O.sourceRow,tags:O.tags??void 0}));p=C,m=p.length,await ok(c,C)}catch{return 0}if(p.length===0)return o(c),0;const b=[],v={};for(const g of p)await du(c,g.songTitle)?i(c,g.songTitle):(b.push(g),v[g.songTitle]="pending");s(c,m,v);for(const g of p)await du(c,g.songTitle)?i(c,g.songTitle):b.push(g);let x=0;for(const g of b)try{await HI(c,g,f??null,dk),i(c,g.songTitle),x++,x>=eD&&(x=0,await new Promise(y=>setTimeout(y,XI)))}catch{}return o(c),m},[e,t,n,a,i,s,o]);return{isDownloadingBook:a,downloadAllSongsForBook:u,isAnyBookDownloading:l}},mr={container:{fontFamily:"sans-serif",fontSize:"14px",color:"#555",marginBottom:"20px"},link:{color:"#007bff",textDecoration:"none",transition:"color 0.2s ease-in-out"},separator:{margin:"0 5px",color:"#999"},currentPage:{fontWeight:"bold",color:"#333",cursor:"default",textDecoration:"none"}},Fy=()=>{const e=dr(),{categoryId:t,bookId:n,songTitle:r}=Au(),i=r?decodeURIComponent(r):"",[s,o]=Ke.useState(!1),a={...mr.link,color:s?"#0056b3":"#007bff",textDecoration:s?"underline":"none"},l=E.jsx(Un,{to:"/",style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:"Home"});return e.pathname.startsWith("/books/")?E.jsxs("div",{style:mr.container,children:[l,E.jsx("span",{style:mr.separator,children:">"}),t]}):e.pathname.startsWith("/book/")?E.jsxs("div",{style:mr.container,children:[l,E.jsx("span",{style:mr.separator,children:">"}),E.jsx(Un,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:t}),E.jsx("span",{style:mr.separator,children:">"}),n]}):e.pathname.startsWith("/details/book/")?E.jsxs("div",{style:mr.container,children:[l,E.jsx("span",{style:mr.separator,children:">"}),E.jsx(Un,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:t}),E.jsx("span",{style:mr.separator,children:">"}),E.jsx(Un,{to:`/book/${t}/${n}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:n}),E.jsx("span",{style:mr.separator,children:">"}),E.jsx("span",{style:mr.currentPage,children:i})]}):null},fk=k.createContext({preferredLanguage:"deva",setPreferredLanguage:()=>{}}),hk=({children:e})=>{const t=localStorage.getItem("preferredLanguage"),[n,r]=k.useState(t||"deva");return k.useEffect(()=>{localStorage.setItem("preferredLanguage",n)},[n]),E.jsx(fk.Provider,{value:{preferredLanguage:n,setPreferredLanguage:r},children:e})},Ba=()=>k.useContext(fk),pk=Ke.memo(e=>{const{book:t,status:n,indexDownloadStatus:r,isEffectivelyOffline:i,isAnyBookDownloading:s,isDownloadingBook:o,isDownloadingBookIndex:a,handleBookClick:l,handleDownloadBookIndexClick:u,handleDownloadBookClick:c,handleDeleteIndexClick:f,handleDeleteBookClick:p,DownloadIndexIcon:m,DownloadedIcon:b,DownloadBookIcon:v,DeleteIndexIcon:x,DeleteBookIcon:g}=e,y=n.downloadedSongs||0,_=n.totalSongs||t.songCount||0,C=Math.max(Number(_),y),O=C>0?Math.floor(y/C*100):0,I=r[t.bookId]??!1,R=y===C&&C>0;return console.log(`${t.bookId}|isEffectivelyOffline:${i},percentage:${O},isDownloadingBook(book.bookId):${o(t.bookId)},isAnyBookDownloading:${s}`),E.jsx("li",{onClick:L=>l(L,t.bookId),className:"relative overflow-hidden cursor-pointer border-b border-gray-300 py-2 px-4",children:E.jsxs("div",{className:"z-20 relative grid grid-cols-[1fr_auto] gap-4 items-center divide-x divide-gray-300",children:[E.jsxs("div",{className:"relative text-lg font-medium pr-4",children:[E.jsx("div",{className:"absolute inset-0 bg-gray-200 z-0 rounded-md",style:{width:"100%"}}),E.jsx("div",{className:"absolute inset-0 bg-green-200 z-10 rounded-md",style:{width:`${O}%`}}),E.jsx("span",{className:`relative z-20 ${O>25,"text-black-900"}`,children:t.bookName})]}),E.jsxs("div",{className:"flex items-center space-x-4 divide-x divide-gray-300 pl-4",children:[E.jsx("div",{className:"flex items-center text-sm text-gray-600 pr-4 min-w-[150px]",children:E.jsxs("span",{children:["(",y,"/",C," downloaded)"]})}),E.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:I?E.jsxs("span",{className:"flex items-center text-green-500",children:[b," ",E.jsx("span",{className:"ml-1",children:"Index"})]}):E.jsx("button",{onClick:L=>{L.stopPropagation(),u(L,t.bookId)},disabled:i||s||o(t.bookId)||I,className:"flex items-center text-brown-600",children:a===t.bookId?"DownloadingI...":E.jsxs(E.Fragment,{children:[m," ",E.jsx("span",{className:"ml-1",children:"Download Index"})]})})}),E.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:R?E.jsxs("span",{className:"flex items-center text-green-500",children:[b," ",E.jsx("span",{className:"ml-1",children:"Book"})]}):E.jsxs("button",{onClick:L=>{L.stopPropagation(),c(L,t.bookId,t.songCount??0)},disabled:i||s||o(t.bookId),className:"flex items-center text-brown-600",children:[v," ",E.jsx("span",{className:"ml-1",children:"Download Book"})]})}),E.jsxs("div",{className:"flex items-center space-x-2 pl-4",children:[E.jsxs("button",{onClick:L=>{L.stopPropagation(),f(L,t.bookId)},disabled:!I,className:"flex items-center text-red-500 border border-red-500 px-2 py-1 rounded-md hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:text-gray-400 disabled:border-gray-400",children:[x," ",E.jsx("span",{className:"ml-1",children:"Index"})]}),E.jsxs("button",{onClick:L=>{L.stopPropagation(),p(L,t.bookId)},disabled:o(t.bookId)||O===0,className:"flex items-center bg-red-500 text-white border border-red-500 px-2 py-1 rounded-md hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-600 disabled:border-gray-400",children:[g," ",E.jsx("span",{className:"ml-1",children:"Book"})]})]})]})]})})});pk.displayName="BookListItem";function nD(e,t){const n=k.useMemo(()=>(e==null?void 0:e.books)??[],[e==null?void 0:e.books]),[r,i]=k.useState(n);return k.useEffect(()=>{if(!t){i(n);return}(async()=>{const l=(await Promise.all(n.map(async u=>({...u,isCached:await Du(u.bookId)})))).filter(u=>u.isCached);i(l)})()},[n,t]),k.useMemo(()=>t?r:n,[t,n,r])}function rD(){var ye;const{categoryId:e}=Au(),t=jr(),{categories:n,isLoading:r,isFetching:i,error:s}=Ly(),{isEffectivelyOffline:o}=$y(),a=k.useMemo(()=>{if(n&&e)return n.find(he=>he.id===e)},[n,e]),l=nD(a,o);k.useEffect(()=>{if(!l||l.length===0){g({});return}(async()=>{const fe=l.map(Be=>Du(Be.bookId)),Fe=await Promise.all(fe),We={};l.forEach((Be,be)=>{We[Be.bookId]=Fe[be]}),g(We)})()},[l]);const{downloadAllSongsForBook:u,isDownloadingBook:c,isAnyBookDownloading:f}=tD(),[p,m]=k.useState(null),[b,v]=k.useState(!1),[x,g]=k.useState({}),y=Tf(),{preferredLanguage:_}=Ba(),{downloadStatus:C,isLoaded:O,updateDownloadProgress:I,updateDownloadedCount:R}=My(),{session:L}=bs(),z=(ye=L==null?void 0:L.user)==null?void 0:ye.email,V=async(he,fe)=>{he==null||he.stopPropagation(),window.confirm(`Pls confirm for deletion of book index [${fe}]`)&&(await BI(fe),g(We=>({...We,[fe]:!1})),I(fe,0),R(fe,0))},we=async(he,fe)=>{he==null||he.stopPropagation(),window.confirm(`WARNING: This will permanently delete the ENTIRE book "${fe}". This action cannot be undone. Please confirm.`)&&(await zI(fe),I(fe,0),R(fe,0))},F=(he,fe)=>{console.log(`categoryId:${e}, bookId:${fe}`),he==null||he.stopPropagation(),t(`/book/${e}/${fe}`)},ee=async()=>{var fe;v(!0);const he=(fe=L==null?void 0:L.user)==null?void 0:fe.email;try{const Fe=l.map(We=>y.prefetchQuery({queryKey:["songIndices",We.bookId,_,he],queryFn:()=>A(We.bookId,he??null)}));await Promise.all(Fe),console.log("All song indices downloaded successfully.")}catch(Fe){console.error("Failed to download all indices:",Fe)}finally{v(!1)}},A=async(he,fe)=>{if(!he)return[];const Fe=`sankeertan_song_indices-${he}`,We=localStorage.getItem(Fe);if(We)try{return JSON.parse(We)}catch(rt){console.error("Error parsing song indices from localStorage:",rt)}const Be=new URL(La);Be.searchParams.append("mode","api"),Be.searchParams.append("apiname","getsongsforbook"),Be.searchParams.append("book",he),Be.searchParams.append("sessionuser",fe??"dummyfornow");const be=await fetch(Be.toString());if(!be.ok){const rt=await be.json();throw new Error(`Failed to fetch song indices for book ${he}: ${be.status} - ${JSON.stringify(rt)}`)}const ct=await be.json();return console.log(`Setting localstorage for ${Fe}`),localStorage.setItem(Fe,JSON.stringify(ct)),ct},le=async(he,fe)=>{var We;he.stopPropagation(),m(fe);const Fe=(We=L==null?void 0:L.user)==null?void 0:We.email;try{await y.prefetchQuery({queryKey:["songIndices",fe,_,Fe],queryFn:()=>A(fe,Fe??null)}),console.log(`Index for Book ${fe} downloaded successfully.`)}catch(Be){console.error(`Failed to download index for Book ${fe}:`,Be)}finally{m(null)}},Oe=async(he,fe,Fe)=>{he==null||he.stopPropagation(),await u(fe,z)},M=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6zM13 15h-2v3h-2v-3H7l3.5-3.5L14 15h-2z"})]}),X=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h12v16H6V4zM16 13h-3v3h-2v-3H8l4-4 4 4zM14 20h-4v-2h4v2z"})]}),Z=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18h14v2H5v-2z"})]}),ue=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})]}),G=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})]}),Q=E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[E.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 4h7v5h5v11H6V4zm-2 16h16V4h-3V1h-4v3h-3v-3H4v3H1v2h3v12zM12 9l-4 4h3v4h2v-4h3l-4-4z"})]});return r||i?E.jsx("div",{children:"Loading books..."}):s instanceof Error?E.jsxs("div",{children:["Error loading books: ",s.message]}):O?E.jsxs(E.Fragment,{children:[E.jsx(Fy,{}),E.jsx("div",{children:l.length>0&&E.jsx("ul",{className:"list-none p-0",children:l.map(he=>E.jsx(pk,{book:he,status:C[he.bookId]||{},indexDownloadStatus:x,isEffectivelyOffline:o,isAnyBookDownloading:f,isDownloadingBook:c,isDownloadingBookIndex:p,handleBookClick:F,handleDownloadBookIndexClick:le,handleDownloadBookClick:Oe,handleDeleteIndexClick:V,handleDeleteBookClick:we,DownloadIndexIcon:M,DownloadedIcon:ue,DownloadBookIcon:Z,DeleteIndexIcon:Q,DeleteBookIcon:G},he.bookId))})}),E.jsx("div",{className:"mt-4 p-4 border-t border-gray-200",children:E.jsxs("button",{onClick:ee,disabled:b,className:`px-4 py-2 rounded-lg text-sm font-semibold text-white transition-colors duration-300 ${b?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:[X,b?"Downloading All...":"Download All Indices"]})})]}):E.jsx("div",{className:"flex justify-center items-center h-40",children:E.jsx("p",{children:"Loading download status..."})})}function iD(e){return[{pattern:/([])/g,replacement:"$1",name:"Palatal"},{pattern:/([])/g,replacement:"$1",name:"Retroflex"},{pattern:/([])/g,replacement:"$1",name:"Velar"},{pattern:/([])/g,replacement:"$1",name:"Dental"},{pattern:/([])/g,replacement:"$1",name:"Labial"},{pattern:/$/g,replacement:"",name:"Word-final"},{pattern://g,replacement:"",name:"Chandrabindu  "}].reduce((n,r)=>{const i=n.replace(r.pattern,(s,o)=>r.replacement.replace("$1",o));return i!==n?i:n},e)}function sD(e){const t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};return e.replace(/\u0D30\u0D4D/g,"").replace(/[-]/g,n=>t[n]||n)}function oD(e){const t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};let n=e;for(const r in t){const i=t[r];n=n.replace(new RegExp(r,"g"),i)}return n}function aD(e){return e.replace(/~nja?/g,"~n").replace(/~nca?/g,"~nca").replace(/[]?/g,"n").replace(/jh/g,"c").replace(/bh/g,"p").replace(/gh/g,"k").replace(/dh/g,"t").replace(/([kctp])a(?![aiueo])/g,"$1").replace(//g,"").replace(//g,"i").replace(//g,"").replace(//g,"u").replace(//g,"").replace(/n([ctkp])/g,"$1").replace(//g,"").replace(//g,"r").replace(/aa/g,"A").replace(/ii/g,"I").replace(/uu/g,"U")}const Wd=(e,t,n)=>{let r=e,i=e;return t==="devanagari"?r=iD(r):t==="tamil"&&(r=r.normalize("NFC")),window.Sanscript&&(i=window.Sanscript.t(r,t==="devanagari"?"devanagari":"itrans",n),n==="malayalam"?i=sD(i):n==="itrans"?t==="tamil"&&(i=aD(i)):(n==="tamil"||n==="tamil_superscripted")&&(i=oD(i))),i},lD={color:"green"},uD={color:"black"},cD={backgroundColor:"#e0e0e0",fontWeight:"bold",color:"blue"},dD={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},fD={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 15px",marginBottom:"2px",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.2s ease",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid #e2e8f0"},hD={backgroundColor:"#f0f4f8"},pD=async(e,t)=>{if(!e)return[];const n=new URL(La);n.searchParams.append("mode","api"),n.searchParams.append("apiname","getsongsforbook"),n.searchParams.append("book",e),n.searchParams.append("sessionuser",t??"dummyfornow");const r=await fetch(n.toString());if(!r.ok){const s=await r.json().catch(()=>({message:"No detailed error message"}));throw new Error(`Failed to fetch song indices for book ${e}: ${r.status} - ${JSON.stringify(s)}`)}const i=await r.json();return i.data||i},mD=(e,t)=>{const[n,r]=k.useState({});return k.useEffect(()=>{if(!e||!t||t.length===0)return;(async()=>{const s=t.map(async l=>{const u=await du(e,l.songTitle);return{title:l.songTitle,isDownloaded:u}}),a=(await Promise.all(s)).reduce((l,u)=>(l[u.title]=u.isDownloaded,l),{});r(a)})()},[e,t]),n};function gD(){var F;const{categoryId:e,bookId:t}=Au(),n=jr(),{isEffectivelyOffline:r}=$y(),{session:i}=bs(),s=(F=i==null?void 0:i.user)==null?void 0:F.email,[o,a]=k.useState(null),{preferredLanguage:l}=Ba(),[,u]=k.useState({});k.useEffect(()=>{u({})},[l]);const[c,f]=k.useState(void 0),[p,m]=k.useState(!0);k.useEffect(()=>{(async()=>{if(!t){m(!1);return}try{const A=await sk(t);A&&f(A)}catch(A){console.error("Error retrieving song indices data from IndexedDB:",A)}finally{m(!1)}})()},[t]);const{isLoading:b,error:v,data:x,isFetching:g}=Ny({queryKey:["songIndices",t,s],queryFn:()=>pD(t,s??null),staleTime:1/0,gcTime:0,initialData:c,refetchOnMount:!1,enabled:!!t&&!!s&&!p}),y=x??c,{downloadStatus:_}=My(),C=mD(t,y);if(k.useEffect(()=>{t&&x&&!g&&ok(t,x).catch(ee=>{console.error("Error saving song indices data to IndexedDB:",ee)})},[t,x,g]),k.useEffect(()=>{const ee=sessionStorage.getItem("lastClickedSongIndex");ee!==null&&(a(parseInt(ee,10)),sessionStorage.removeItem("lastClickedSongIndex"))},[]),p||b)return E.jsx("div",{style:dD,children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[E.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),E.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),E.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),E.jsx("p",{style:{marginLeft:"10px"},children:"Loading song indices..."})]})});if(v instanceof Error)return E.jsxs("div",{children:["Error loading song indices: ",v.message]});const I=(ee,A,le,Oe)=>{ee.stopPropagation();const M=A[le].sourceRow,X=A[le].songTitle;Oe&&(sessionStorage.setItem("lastClickedSongIndex",le.toString()),n(`/details/book/${e}/${Oe}/${M}/${encodeURIComponent(X)}`,{state:{filteredSongIndices:A,index:le}}))},R=ee=>C[ee]===!0,L=(y==null?void 0:y.filter(ee=>r?R(ee.songTitle):!0))??[],z=(ee,A)=>{const le=R(ee.songTitle);return{...fD,...le?lD:uD,...A===o&&cD}},V=ee=>{ee.currentTarget.style.backgroundColor=hD.backgroundColor},we=ee=>{ee.currentTarget.style.backgroundColor=""};return E.jsxs(E.Fragment,{children:[E.jsx(Fy,{}),E.jsxs("div",{children:[E.jsxs("h2",{children:["Song Indices for Book: ",`bookId ... ${L.length}`]}),E.jsx("ul",{children:L==null?void 0:L.map((ee,A)=>{var le;return E.jsxs("li",{onClick:Oe=>I(Oe,L,A,t),style:z(ee,A),onMouseEnter:V,onMouseLeave:we,children:[E.jsx("span",{style:{flexGrow:1,fontSize:"1.2em"},children:l==="itrans"?ee.songTitle:(()=>{if(window.Sanscript)try{return Wd(ee.songTitle,"itrans",l)}catch(Oe){return console.error("Error during transliteration",Oe),ee.songTitle}return ee.songTitle})()}),E.jsx("span",{style:{marginLeft:"10px",color:"red"},children:t&&((le=_[t])==null?void 0:le.downloadingSongs[ee.songTitle])&&"..downloading.."})]},ee.sourceRow)})})]})]})}const yD=({data:e,className:t="",highlightColor:n="bg-amber-50",highlightColumns:r=[],wrapColumns:i=[],striped:s=!0,hoverEffect:o=!0,maxWidth:a="screen",fontSize:l="3xl",preferredLanguage:u,sourceLanguage:c})=>{if(!Array.isArray(e)||e.length<1)return E.jsx("div",{className:"p-2 text-red-500 bg-red-50 rounded",children:"Invalid data: Must be a non-empty array"});const[f,...p]=e,m=v=>{let x=String(v).replace(/  \s*\/?>/gi,"<br/>").replace(/\n/g,"<br/>");if(typeof v=="string"&&u!=="deva"&&window.Sanscript)try{const g=x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");x=Wd(g,c,u).replace(/&lt;br\s*\/&gt;/gi,"<br/>"),x=x.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}catch(g){return console.error("Error during transliteration:",g),{__html:x}}return{__html:x}},b=a==="screen"?"max-w-screen":a==="full"?"w-full":a;return E.jsx("div",{className:`overflow-x-auto rounded-lg border bg-gray-300 ${b} ${t}`,children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200 font-devanagari",children:[E.jsx("thead",{className:"bg-gray-50",children:E.jsx("tr",{children:f.map((v,x)=>E.jsx("th",{className:`
                  px-4 py-4 text-left text-${l} font-medium text-gray-700  {/* Darker text, more padding */}
                  ${r.includes(x)?n:""}
                  sticky top-0 bg-gray-100 {/* Ensure background for sticky header */}
                `,dangerouslySetInnerHTML:m(v)},`th-${x}`))})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map((v,x)=>E.jsx("tr",{id:`trRowAsAnchor-${x}`,className:`
        ${s&&x%2===0?"bg-white":"bg-gray-100"} {/* Slightly more contrast for stripes */}
        ${o?"hover:bg-indigo-50":""} {/* More noticeable hover */}
      `,children:v.map((g,y)=>E.jsx("td",{className:`
            px-4 py-3.5 text-${l} align-top {/* Slightly more vertical padding */}
            ${i.includes(y)?"whitespace-normal break-words max-w-[300px]":"whitespace-nowrap"}
            ${r.includes(y)?n:""}
          `,dangerouslySetInnerHTML:m(g)},`td-${x}-${y}`))},`row-${x}`))})]})})};function vD(e,t,n){return Math.max(t,Math.min(e,n))}const un={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function tb(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function nb(e,t,n,r=.15){return r===0?vD(e,t,n):e<t?-tb(t-e,n-t,r)+t:e>n?+tb(e-n,n-t,r)+n:e}function wD(e,[t,n],[r,i]){const[[s,o],[a,l]]=e;return[nb(t,s,o,r),nb(n,a,l,i)]}function bD(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _D(e){var t=bD(e,"string");return typeof t=="symbol"?t:String(t)}function Cn(e,t,n){return t=_D(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(n),!0).forEach(function(r){Cn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const mk={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ib(e){return e?e[0].toUpperCase()+e.slice(1):""}const xD=["enter","leave"];function SD(e=!1,t){return e&&!xD.includes(t)}function kD(e,t="",n=!1){const r=mk[e],i=r&&r[t]||t;return"on"+ib(e)+ib(i)+(SD(n,i)?"Capture":"")}const ED=["gotpointercapture","lostpointercapture"];function CD(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=ED.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function TD(e,t=""){const n=mk[e],r=n&&n[t]||t;return e+r}function Pf(e){return"touches"in e}function gk(e){return Pf(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function PD(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function AD(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function yk(e){return Pf(e)?AD(e)[0]:e}function jD(e){return PD(e).map(t=>t.identifier)}function rp(e){const t=yk(e);return Pf(e)?t.identifier:t.pointerId}function sb(e){const t=yk(e);return[t.clientX,t.clientY]}function OD(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return t}function Hd(e,...t){return typeof e=="function"?e(...t):e}function RD(){}function ID(...e){return e.length===0?RD:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function ob(e,t){return Object.assign({},t,e||{})}const DD=32;class ND{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:i}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?Hd(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,OD(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const I=n._delta.map(Math.abs);un.addTo(n._distance,I)}this.axisIntent&&this.axisIntent(t);const[o,a]=n._movement,[l,u]=r.threshold,{_step:c,values:f}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&f[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&f[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[I,R]=f;p[0]=c[0]!==!1?I-c[0]:0,p[1]=c[1]!==!1?R-c[1]:0}else p[0]=c[0]!==!1?o-c[0]:0,p[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(p);const m=n.offset,b=n._active&&!n._blocked||n.active;b&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=Hd(r.bounds,n)),this.setup&&this.setup()),n.movement=p,this.computeOffset()));const[v,x]=n.offset,[[g,y],[_,C]]=n._bounds;n.overflow=[v<g?-1:v>y?1:0,x<_?-1:x>C?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const O=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=wD(n._bounds,n.offset,O),n.delta=un.sub(n.offset,m),this.computeMovement(),b&&(!n.last||s>DD)){n.delta=un.sub(n.offset,m);const I=n.delta.map(Math.abs);un.addTo(n.distance,I),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[I[0]/s,I[1]/s],n.timeDelta=s)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const i=this.handler(kt(kt(kt({},n),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function LD([e,t],n){const r=Math.abs(e),i=Math.abs(t);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class $D extends ND{constructor(...t){super(...t),Cn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=un.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=un.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const i=typeof r.axisThreshold=="object"?r.axisThreshold[gk(t)]:r.axisThreshold;n.axis=LD(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const MD=e=>e,ab=.15,vk={enabled(e=!0){return e},eventOptions(e,t,n){return kt(kt({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[ab,ab];case!1:return[0,0];default:return un.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return un.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||MD},threshold(e){return un.toVector(e,0)}},FD=0,Nu=kt(kt({},vk),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=FD){return e},bounds(e={}){if(typeof e=="function")return s=>Nu.bounds(e(s));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),lb={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class BD extends $D{constructor(...t){super(...t),Cn(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=Nu.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=rp(t),r._pointerActive=!0,this.computeValues(sb(t)),this.computeInitial(),n.preventScrollAxis&&gk(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=rp(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=sb(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=un.sub(s,n._values),this.computeValues(s)),un.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=rp(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[u,c]=n._movement,[f,p]=r.swipe.velocity,[m,b]=r.swipe.distance,v=r.swipe.duration;if(n.elapsedTime<v){const x=Math.abs(a/n.timeDelta),g=Math.abs(l/n.timeDelta);x>f&&Math.abs(u)>m&&(n.swipe[0]=Math.sign(a)),g>p&&Math.abs(c)>b&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,UD(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=lb[t.key];if(n){const r=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,un.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in lb&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function UD(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Lu=typeof window<"u"&&window.document&&window.document.createElement;function wk(){return Lu&&"ontouchstart"in window}function zD(){return wk()||Lu&&window.navigator.maxTouchPoints>1}function VD(){return Lu&&"onpointerdown"in window}function KD(){return Lu&&"exitPointerLock"in window.document}function WD(){try{return"constructor"in GestureEvent}catch{return!1}}const ir={isBrowser:Lu,gesture:WD(),touch:wk(),touchscreen:zD(),pointer:VD(),pointerLock:KD()},HD=250,qD=180,GD=.5,QD=50,YD=250,JD=10,ub={mouse:0,touch:0,pen:8},ZD=kt(kt({},Nu),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&ir.pointerLock,ir.touch&&n?"touch":this.pointerLock?"mouse":ir.pointer&&!i?"pointer":ir.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?HD:void 0,!(!ir.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=un.toVector(e,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:e=GD,distance:t=QD,duration:n=YD}={}){return{velocity:this.transform(un.toVector(e)),distance:this.transform(un.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return qD;case!1:return 0;default:return e}},axisThreshold(e){return e?kt(kt({},ub),e):ub},keyboardDisplacement(e=JD){return e}});kt(kt({},vk),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!ir.touch&&ir.gesture)return"gesture";if(ir.touch&&r)return"touch";if(ir.touchscreen){if(ir.pointer)return"pointer";if(ir.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=ob(Hd(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=ob(Hd(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",un.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});kt(kt({},Nu),{},{mouseOnly:(e=!0)=>e});kt(kt({},Nu),{},{mouseOnly:(e=!0)=>e});const bk=new Map,Hm=new Map;function XD(e){bk.set(e.key,e.engine),Hm.set(e.key,e.resolver)}const eN={key:"drag",engine:BD,resolver:ZD};function tN(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function nN(e,t){if(e==null)return{};var n=tN(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const rN={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=ir.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},iN=["target","eventOptions","window","enabled","transform"];function ad(e={},t){const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=ad(e[r],i);break;case"boolean":i&&(n[r]=e[r]);break}return n}function sN(e,t,n={}){const r=e,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=nN(r,iN);if(n.shared=ad({target:i,eventOptions:s,window:o,enabled:a,transform:l},rN),t){const c=Hm.get(t);n[t]=ad(kt({shared:n.shared},u),c)}else for(const c in u){const f=Hm.get(c);f&&(n[c]=ad(kt({shared:n.shared},u[c]),f))}return n}class _k{constructor(t,n){Cn(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,i,s){const o=this._listeners,a=TD(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=kt(kt({},l),s);t.addEventListener(a,i,u);const c=()=>{t.removeEventListener(a,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class oN{constructor(){Cn(this,"_timeouts",new Map)}add(t,n,r=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...i))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class aN{constructor(t){Cn(this,"gestures",new Set),Cn(this,"_targetEventStore",new _k(this)),Cn(this,"gestureEventStores",{}),Cn(this,"gestureTimeoutStores",{}),Cn(this,"handlers",{}),Cn(this,"config",{}),Cn(this,"pointerIds",new Set),Cn(this,"touchIds",new Set),Cn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),lN(this,t)}setEventIds(t){if(Pf(t))return this.touchIds=new Set(jD(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=sN(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=cb(r,a.eventOptions,!!i);if(a.enabled){const u=bk.get(o);new u(this,t,o).bind(l)}}const s=cb(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](kt(kt({},this.state.shared),{},{event:a,args:t})),void 0,!0)}for(const s in r)r[s]=ID(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=CD(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function No(e,t){e.gestures.add(t),e.gestureEventStores[t]=new _k(e,t),e.gestureTimeoutStores[t]=new oN}function lN(e,t){t.drag&&No(e,"drag"),t.wheel&&No(e,"wheel"),t.scroll&&No(e,"scroll"),t.move&&No(e,"move"),t.pinch&&No(e,"pinch"),t.hover&&No(e,"hover")}const cb=(e,t,n)=>(r,i,s,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:t.capture,f=(u=o.passive)!==null&&u!==void 0?u:t.passive;let p=a?r:kD(r,i,c);n&&f&&(p+="Passive"),e[p]=e[p]||[],e[p].push(s)};function uN(e,t={},n,r){const i=Ke.useMemo(()=>new aN(e),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),Ke.useEffect(i.effect.bind(i)),Ke.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function cN(e,t){return XD(eN),uN({drag:e},t||{},"drag")}const By=k.createContext({});function Uy(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const zy=typeof window<"u",xk=zy?k.useLayoutEffect:k.useEffect,Af=k.createContext(null);function Vy(e,t){e.indexOf(t)===-1&&e.push(t)}function Ky(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const yi=(e,t,n)=>n>t?t:n<e?e:n;let Wy=()=>{};const vi={},Sk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function kk(e){return typeof e=="object"&&e!==null}const Ek=e=>/^0[^.\s]+$/u.test(e);function Hy(e){let t;return()=>(t===void 0&&(t=e()),t)}const lr=e=>e,dN=(e,t)=>n=>t(e(n)),$u=(...e)=>e.reduce(dN),fu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class qy{constructor(){this.subscriptions=[]}add(t){return Vy(this.subscriptions,t),()=>Ky(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hr=e=>e*1e3,or=e=>e/1e3;function Ck(e,t){return t?e*(1e3/t):0}const Tk=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,fN=1e-7,hN=12;function pN(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=Tk(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>fN&&++a<hN);return o}function Mu(e,t,n,r){if(e===t&&n===r)return lr;const i=s=>pN(s,0,1,e,n);return s=>s===0||s===1?s:Tk(i(s),t,r)}const Pk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ak=e=>t=>1-e(1-t),jk=Mu(.33,1.53,.69,.99),Gy=Ak(jk),Ok=Pk(Gy),Rk=e=>(e*=2)<1?.5*Gy(e):.5*(2-Math.pow(2,-10*(e-1))),Qy=e=>1-Math.sin(Math.acos(e)),Ik=Ak(Qy),Dk=Pk(Qy),mN=Mu(.42,0,1,1),gN=Mu(0,0,.58,1),Nk=Mu(.42,0,.58,1),yN=e=>Array.isArray(e)&&typeof e[0]!="number",Lk=e=>Array.isArray(e)&&typeof e[0]=="number",vN={linear:lr,easeIn:mN,easeInOut:Nk,easeOut:gN,circIn:Qy,circInOut:Dk,circOut:Ik,backIn:Gy,backInOut:Ok,backOut:jk,anticipate:Rk},wN=e=>typeof e=="string",db=e=>{if(Lk(e)){Wy(e.length===4);const[t,n,r,i]=e;return Mu(t,n,r,i)}else if(wN(e))return vN[e];return e},Fc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bN(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,f=!1,p=!1)=>{const b=p&&i?n:r;return f&&o.add(c),b.has(c)||b.add(c),c},cancel:c=>{r.delete(c),o.delete(c)},process:c=>{if(a=c,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(c))}};return u}const _N=40;function $k(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Fc.reduce((_,C)=>(_[C]=bN(s),_),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:p,render:m,postRender:b}=o,v=()=>{const _=vi.useManualTiming?i.timestamp:performance.now();n=!1,vi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,_N),1)),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),p.process(i),m.process(i),b.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(v))},x=()=>{n=!0,r=!0,i.isProcessing||e(v)};return{schedule:Fc.reduce((_,C)=>{const O=o[C];return _[C]=(I,R=!1,L=!1)=>(n||x(),O.schedule(I,R,L)),_},{}),cancel:_=>{for(let C=0;C<Fc.length;C++)o[Fc[C]].cancel(_)},state:i,steps:o}}const{schedule:bt,cancel:ps,state:Jt,steps:ip}=$k(typeof requestAnimationFrame<"u"?requestAnimationFrame:lr,!0);let ld;function xN(){ld=void 0}const On={now:()=>(ld===void 0&&On.set(Jt.isProcessing||vi.useManualTiming?Jt.timestamp:performance.now()),ld),set:e=>{ld=e,queueMicrotask(xN)}},Mk=e=>t=>typeof t=="string"&&t.startsWith(e),Yy=Mk("--"),SN=Mk("var(--"),Jy=e=>SN(e)?kN.test(e.split("/*")[0].trim()):!1,kN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ua={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hu={...Ua,transform:e=>yi(0,1,e)},Bc={...Ua,default:1},Nl=e=>Math.round(e*1e5)/1e5,Zy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EN(e){return e==null}const CN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xy=(e,t)=>n=>!!(typeof n=="string"&&CN.test(n)&&n.startsWith(e)||t&&!EN(n)&&Object.prototype.hasOwnProperty.call(n,t)),Fk=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Zy);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},TN=e=>yi(0,255,e),sp={...Ua,transform:e=>Math.round(TN(e))},Ws={test:Xy("rgb","red"),parse:Fk("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+sp.transform(e)+", "+sp.transform(t)+", "+sp.transform(n)+", "+Nl(hu.transform(r))+")"};function PN(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const qm={test:Xy("#"),parse:PN,transform:Ws.transform},Fu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Li=Fu("deg"),qr=Fu("%"),qe=Fu("px"),AN=Fu("vh"),jN=Fu("vw"),fb={...qr,parse:e=>qr.parse(e)/100,transform:e=>qr.transform(e*100)},Yo={test:Xy("hsl","hue"),parse:Fk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+qr.transform(Nl(t))+", "+qr.transform(Nl(n))+", "+Nl(hu.transform(r))+")"},$t={test:e=>Ws.test(e)||qm.test(e)||Yo.test(e),parse:e=>Ws.test(e)?Ws.parse(e):Yo.test(e)?Yo.parse(e):qm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ws.transform(e):Yo.transform(e),getAnimatableNone:e=>{const t=$t.parse(e);return t.alpha=0,$t.transform(t)}},ON=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RN(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Zy))==null?void 0:t.length)||0)+(((n=e.match(ON))==null?void 0:n.length)||0)>0}const Bk="number",Uk="color",IN="var",DN="var(",hb="${}",NN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(NN,l=>($t.test(l)?(r.color.push(s),i.push(Uk),n.push($t.parse(l))):l.startsWith(DN)?(r.var.push(s),i.push(IN),n.push(l)):(r.number.push(s),i.push(Bk),n.push(parseFloat(l))),++s,hb)).split(hb);return{values:n,split:a,indexes:r,types:i}}function zk(e){return pu(e).values}function Vk(e){const{split:t,types:n}=pu(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===Bk?s+=Nl(i[o]):a===Uk?s+=$t.transform(i[o]):s+=i[o]}return s}}const LN=e=>typeof e=="number"?0:$t.test(e)?$t.getAnimatableNone(e):e;function $N(e){const t=zk(e);return Vk(e)(t.map(LN))}const ms={test:RN,parse:zk,createTransformer:Vk,getAnimatableNone:$N};function op(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function MN({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=op(l,a,e+1/3),s=op(l,a,e),o=op(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function qd(e,t){return n=>n>0?t:e}const St=(e,t,n)=>e+(t-e)*n,ap=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},FN=[qm,Ws,Yo],BN=e=>FN.find(t=>t.test(e));function pb(e){const t=BN(e);if(!t)return!1;let n=t.parse(e);return t===Yo&&(n=MN(n)),n}const mb=(e,t)=>{const n=pb(e),r=pb(t);if(!n||!r)return qd(e,t);const i={...n};return s=>(i.red=ap(n.red,r.red,s),i.green=ap(n.green,r.green,s),i.blue=ap(n.blue,r.blue,s),i.alpha=St(n.alpha,r.alpha,s),Ws.transform(i))},Gm=new Set(["none","hidden"]);function UN(e,t){return Gm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function zN(e,t){return n=>St(e,t,n)}function ev(e){return typeof e=="number"?zN:typeof e=="string"?Jy(e)?qd:$t.test(e)?mb:WN:Array.isArray(e)?Kk:typeof e=="object"?$t.test(e)?mb:VN:qd}function Kk(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>ev(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function VN(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=ev(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function KN(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const WN=(e,t)=>{const n=ms.createTransformer(t),r=pu(e),i=pu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Gm.has(e)&&!i.values.length||Gm.has(t)&&!r.values.length?UN(e,t):$u(Kk(KN(r,i),i.values),n):qd(e,t)};function Wk(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?St(e,t,n):ev(e)(e,t)}const HN=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>bt.update(t,n),stop:()=>ps(t),now:()=>Jt.isProcessing?Jt.timestamp:On.now()}},Hk=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Gd=2e4;function tv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Gd;)t+=n,r=e.next(t);return t>=Gd?1/0:t}function qN(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(tv(r),Gd);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:or(i)}}const GN=5;function qk(e,t,n){const r=Math.max(t-GN,0);return Ck(n-e(r),t-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lp=.001;function QN({duration:e=Pt.duration,bounce:t=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let i,s,o=1-t;o=yi(Pt.minDamping,Pt.maxDamping,o),e=yi(Pt.minDuration,Pt.maxDuration,or(e)),o<1?(i=u=>{const c=u*o,f=c*e,p=c-n,m=Qm(u,o),b=Math.exp(-f);return lp-p/m*b},s=u=>{const f=u*o*e,p=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-f),v=Qm(Math.pow(u,2),o);return(-i(u)+lp>0?-1:1)*((p-m)*b)/v}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-lp+c*f},s=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=JN(i,s,a);if(e=Hr(e),isNaN(l))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const YN=12;function JN(e,t,n){let r=n;for(let i=1;i<YN;i++)r=r-e(r)/t(r);return r}function Qm(e,t){return e*Math.sqrt(1-t*t)}const ZN=["duration","bounce"],XN=["stiffness","damping","mass"];function gb(e,t){return t.some(n=>e[n]!==void 0)}function eL(e){let t={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...e};if(!gb(e,XN)&&gb(e,ZN))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*yi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Pt.mass,stiffness:i,damping:s}}else{const n=QN(e);t={...t,...n,mass:Pt.mass},t.isResolvedFromDuration=!0}return t}function Qd(e=Pt.visualDuration,t=Pt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:p,isResolvedFromDuration:m}=eL({...n,velocity:-or(n.velocity||0)}),b=p||0,v=u/(2*Math.sqrt(l*c)),x=o-s,g=or(Math.sqrt(l/c)),y=Math.abs(x)<5;r||(r=y?Pt.restSpeed.granular:Pt.restSpeed.default),i||(i=y?Pt.restDelta.granular:Pt.restDelta.default);let _;if(v<1){const O=Qm(g,v);_=I=>{const R=Math.exp(-v*g*I);return o-R*((b+v*g*x)/O*Math.sin(O*I)+x*Math.cos(O*I))}}else if(v===1)_=O=>o-Math.exp(-g*O)*(x+(b+g*x)*O);else{const O=g*Math.sqrt(v*v-1);_=I=>{const R=Math.exp(-v*g*I),L=Math.min(O*I,300);return o-R*((b+v*g*x)*Math.sinh(L)+O*x*Math.cosh(L))/O}}const C={calculatedDuration:m&&f||null,next:O=>{const I=_(O);if(m)a.done=O>=f;else{let R=O===0?b:0;v<1&&(R=O===0?Hr(b):qk(_,O,I));const L=Math.abs(R)<=r,z=Math.abs(o-I)<=i;a.done=L&&z}return a.value=a.done?o:I,a},toString:()=>{const O=Math.min(tv(C),Gd),I=Hk(R=>C.next(O*R).value,O,30);return O+"ms "+I},toTransition:()=>{}};return C}Qd.applyToOptions=e=>{const t=qN(e,100,Qd);return e.ease=t.ease,e.duration=Hr(t.duration),e.type="keyframes",e};function Ym({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],p={done:!1,value:f},m=L=>a!==void 0&&L<a||l!==void 0&&L>l,b=L=>a===void 0?l:l===void 0||Math.abs(a-L)<Math.abs(l-L)?a:l;let v=n*t;const x=f+v,g=o===void 0?x:o(x);g!==x&&(v=g-f);const y=L=>-v*Math.exp(-L/r),_=L=>g+y(L),C=L=>{const z=y(L),V=_(L);p.done=Math.abs(z)<=u,p.value=p.done?g:V};let O,I;const R=L=>{m(p.value)&&(O=L,I=Qd({keyframes:[p.value,b(p.value)],velocity:qk(_,L,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:L=>{let z=!1;return!I&&O===void 0&&(z=!0,C(L),R(L)),O!==void 0&&L>=O?I.next(L-O):(!z&&C(L),p)}}}function tL(e,t,n){const r=[],i=n||vi.mix||Wk,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||lr:t;a=$u(l,a)}r.push(a)}return r}function nL(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Wy(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=tL(t,r,i),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(c<e[f+1]);f++);const p=fu(e[f],e[f+1],c);return a[f](p)};return n?c=>u(yi(e[0],e[s-1],c)):u}function rL(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=fu(0,t,r);e.push(St(n,1,i))}}function iL(e){const t=[0];return rL(t,e.length-1),t}function sL(e,t){return e.map(n=>n*t)}function oL(e,t){return e.map(()=>t||Nk).splice(0,e.length-1)}function Ll({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=yN(r)?r.map(db):db(r),s={done:!1,value:t[0]},o=sL(n&&n.length===t.length?n:iL(t),e),a=nL(o,t,{ease:Array.isArray(i)?i:oL(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const aL=e=>e!==null;function nv(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(aL),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const lL={decay:Ym,inertia:Ym,tween:Ll,keyframes:Ll,spring:Qd};function Gk(e){typeof e.type=="string"&&(e.type=lL[e.type])}class rv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const uL=e=>e/100;class iv extends rv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==On.now()&&this.tick(On.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Gk(t);const{type:n=Ll,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Ll;l!==Ll&&typeof a[0]!="number"&&(this.mixKeyframes=$u(uL,Wk(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=tv(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:p,repeatDelay:m,type:b,onUpdate:v,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,C=r;if(f){const L=Math.min(this.currentTime,i)/a;let z=Math.floor(L),V=L%1;!V&&L>=1&&(V=1),V===1&&z--,z=Math.min(z,f+1),!!(z%2)&&(p==="reverse"?(V=1-V,m&&(V-=m/a)):p==="mirror"&&(C=o)),_=yi(0,1,V)*a}const O=y?{done:!1,value:c[0]}:C.next(_);s&&(O.value=s(O.value));let{done:I}=O;!y&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return R&&b!==Ym&&(O.value=nv(c,this.options,x,this.speed)),v&&v(O.value),R&&this.finish(),O}then(t,n){return this.finished.then(t,n)}get duration(){return or(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+or(t)}get time(){return or(this.currentTime)}set time(t){var n;t=Hr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(On.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=or(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=HN,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(On.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function cL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Hs=e=>e*180/Math.PI,Jm=e=>{const t=Hs(Math.atan2(e[1],e[0]));return Zm(t)},dL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Jm,rotateZ:Jm,skewX:e=>Hs(Math.atan(e[1])),skewY:e=>Hs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Zm=e=>(e=e%360,e<0&&(e+=360),e),yb=Jm,vb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),wb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vb,scaleY:wb,scale:e=>(vb(e)+wb(e))/2,rotateX:e=>Zm(Hs(Math.atan2(e[6],e[5]))),rotateY:e=>Zm(Hs(Math.atan2(-e[2],e[0]))),rotateZ:yb,rotate:yb,skewX:e=>Hs(Math.atan(e[4])),skewY:e=>Hs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Xm(e){return e.includes("scale")?1:0}function eg(e,t){if(!e||e==="none")return Xm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=fL,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=dL,i=a}if(!i)return Xm(t);const s=r[t],o=i[1].split(",").map(pL);return typeof s=="function"?s(o):o[s]}const hL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return eg(n,t)};function pL(e){return parseFloat(e.trim())}const za=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Va=new Set(za),bb=e=>e===Ua||e===qe,mL=new Set(["x","y","z"]),gL=za.filter(e=>!mL.has(e));function yL(e){const t=[];return gL.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const so={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eg(t,"x"),y:(e,{transform:t})=>eg(t,"y")};so.translateX=so.x;so.translateY=so.y;const oo=new Set;let tg=!1,ng=!1,rg=!1;function Qk(){if(ng){const e=Array.from(oo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=yL(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ng=!1,tg=!1,oo.forEach(e=>e.complete(rg)),oo.clear()}function Yk(){oo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ng=!0)})}function vL(){rg=!0,Yk(),Qk(),rg=!1}class sv{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(oo.add(this),tg||(tg=!0,bt.read(Yk),bt.resolveKeyframes(Qk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}cL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oo.delete(this)}cancel(){this.state==="scheduled"&&(oo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wL=e=>e.startsWith("--");function bL(e,t,n){wL(t)?e.style.setProperty(t,n):e.style[t]=n}const _L=Hy(()=>window.ScrollTimeline!==void 0),xL={};function SL(e,t){const n=Hy(e);return()=>xL[t]??n()}const Jk=SL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,_b={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wl([0,.65,.55,1]),circOut:wl([.55,0,1,.45]),backIn:wl([.31,.01,.66,-.59]),backOut:wl([.33,1.53,.69,.99])};function Zk(e,t){if(e)return typeof e=="function"?Jk()?Hk(e,t):"ease-out":Lk(e)?wl(e):Array.isArray(e)?e.map(n=>Zk(n,t)||_b.easeOut):_b[e]}function kL(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const f=Zk(a,i);Array.isArray(f)&&(c.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(c,p)}function Xk(e){return typeof e=="function"&&"applyToOptions"in e}function EL({type:e,...t}){return Xk(e)&&Jk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class CL extends rv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,Wy(typeof t.type!="string");const u=EL(t);this.animation=kL(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=nv(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):bL(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return or(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+or(t)}get time(){return or(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Hr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&_L()?(this.animation.timeline=t,lr):n(this)}}const eE={anticipate:Rk,backInOut:Ok,circInOut:Dk};function TL(e){return e in eE}function PL(e){typeof e.ease=="string"&&TL(e.ease)&&(e.ease=eE[e.ease])}const xb=10;class AL extends CL{constructor(t){PL(t),Gk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new iv({...o,autoplay:!1}),l=Hr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-xb).value,a.sample(l).value,xb),a.stop()}}const Sb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ms.test(e)||e==="0")&&!e.startsWith("url("));function jL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function OL(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=Sb(i,t),a=Sb(s,t);return!o||!a?!1:jL(e)||(n==="spring"||Xk(n))&&r}function ig(e){e.duration=0,e.type="keyframes"}const RL=new Set(["opacity","clipPath","filter","transform"]),IL=Hy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function DL(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return IL()&&n&&RL.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const NL=40;class LL extends rv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...f}){var b;super(),this.stop=()=>{var v,x;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=On.now();const p={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...f},m=(c==null?void 0:c.KeyframeResolver)||sv;this.keyframeResolver=new m(a,(v,x,g)=>this.onKeyframesResolved(v,x,p,!g),l,u,c),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=On.now(),OL(t,s,o,a)||((vi.instantAnimations||!l)&&(c==null||c(nv(t,r,n))),t[0]=t[t.length-1],ig(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>NL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&DL(p)?new AL({...p,element:p.motionValue.owner.current}):new iv(p);m.finished.then(()=>this.notifyFinished()).catch(lr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),vL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const $L=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ML(e){const t=$L.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function tE(e,t,n=1){const[r,i]=ML(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return Sk(o)?parseFloat(o):o}return Jy(i)?tE(i,t,n+1):i}function ov(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const nE=new Set(["width","height","top","left","right","bottom",...za]),FL={test:e=>e==="auto",parse:e=>e},rE=e=>t=>t.test(e),iE=[Ua,qe,qr,Li,jN,AN,FL],kb=e=>iE.find(rE(e));function BL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ek(e):!0}const UL=new Set(["brightness","contrast","saturate","opacity"]);function zL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Zy)||[];if(!r)return e;const i=n.replace(r,"");let s=UL.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const VL=/\b([a-z-]*)\(.*?\)/gu,sg={...ms,getAnimatableNone:e=>{const t=e.match(VL);return t?t.map(zL).join(" "):e}},Eb={...Ua,transform:Math.round},KL={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Bc,scaleX:Bc,scaleY:Bc,scaleZ:Bc,skew:Li,skewX:Li,skewY:Li,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:hu,originX:fb,originY:fb,originZ:qe},av={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe,...KL,zIndex:Eb,fillOpacity:hu,strokeOpacity:hu,numOctaves:Eb},WL={...av,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:sg,WebkitFilter:sg},sE=e=>WL[e];function oE(e,t){let n=sE(e);return n!==sg&&(n=ms),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const HL=new Set(["auto","none","0"]);function qL(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!HL.has(s)&&pu(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=oE(n,i)}class GL extends sv{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Jy(u))){const c=tE(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!nE.has(r)||t.length!==2)return;const[i,s]=t,o=kb(i),a=kb(s);if(o!==a)if(bb(o)&&bb(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else so[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||BL(t[i]))&&r.push(i);r.length&&qL(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=so[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=so[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function QL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const aE=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function lE(e){return kk(e)&&"offsetHeight"in e}const Cb=30,YL=e=>!isNaN(parseFloat(e));class JL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=On.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=On.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=YL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new qy);const r=this.events[t].add(n);return t==="change"?()=>{r(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Cb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cb);return Ck(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Aa(e,t){return new JL(e,t)}const{schedule:lv}=$k(queueMicrotask,!1),yr={x:!1,y:!1};function uE(){return yr.x||yr.y}function ZL(e){return e==="x"||e==="y"?yr[e]?null:(yr[e]=!0,()=>{yr[e]=!1}):yr.x||yr.y?null:(yr.x=yr.y=!0,()=>{yr.x=yr.y=!1})}function cE(e,t){const n=QL(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Tb(e){return!(e.pointerType==="touch"||uE())}function XL(e,t,n={}){const[r,i,s]=cE(e,n),o=a=>{if(!Tb(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const c=f=>{Tb(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const dE=(e,t)=>t?e===t?!0:dE(e,t.parentElement):!1,uv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,e$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function t$(e){return e$.has(e.tagName)||e.tabIndex!==-1}const ud=new WeakSet;function Pb(e){return t=>{t.key==="Enter"&&e(t)}}function up(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const n$=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Pb(()=>{if(ud.has(n))return;up(n,"down");const i=Pb(()=>{up(n,"up")}),s=()=>up(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Ab(e){return uv(e)&&!uE()}function r$(e,t,n={}){const[r,i,s]=cE(e,n),o=a=>{const l=a.currentTarget;if(!Ab(a))return;ud.add(l);const u=t(l,a),c=(m,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),ud.has(l)&&ud.delete(l),Ab(m)&&typeof u=="function"&&u(m,{success:b})},f=m=>{c(m,l===window||l===document||n.useGlobalTarget||dE(l,m.target))},p=m=>{c(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),lE(a)&&(a.addEventListener("focus",u=>n$(u,i)),!t$(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function fE(e){return kk(e)&&"ownerSVGElement"in e}function i$(e){return fE(e)&&e.tagName==="svg"}const cn=e=>!!(e&&e.getVelocity),s$=[...iE,$t,ms],o$=e=>s$.find(rE(e)),cv=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function jb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function a$(...e){return t=>{let n=!1;const r=e.map(i=>{const s=jb(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():jb(e[i],null)}}}}function l$(...e){return k.useCallback(a$(...e),e)}class u$ extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=lE(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function c$({children:e,isPresent:t,anchorX:n,root:r}){const i=k.useId(),s=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=k.useContext(cv),l=l$(s,e==null?void 0:e.ref);return k.useInsertionEffect(()=>{const{width:u,height:c,top:f,left:p,right:m}=o.current;if(t||!s.current||!u||!c)return;const b=n==="left"?`left: ${p}`:`right: ${m}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");a&&(v.nonce=a);const x=r??document.head;return x.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${b}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(v)&&x.removeChild(v)}},[t]),E.jsx(u$,{isPresent:t,childRef:s,sizeRef:o,children:k.cloneElement(e,{ref:l})})}const d$=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=Uy(f$),c=k.useId();let f=!0,p=k.useMemo(()=>(f=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const b of u.values())if(!b)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return s&&f&&(p={...p}),k.useMemo(()=>{u.forEach((m,b)=>u.set(b,!1))},[n]),k.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=E.jsx(c$,{isPresent:n,anchorX:a,root:l,children:e})),E.jsx(Af.Provider,{value:p,children:e})};function f$(){return new Map}function hE(e=!0){const t=k.useContext(Af);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=k.useId();k.useEffect(()=>{if(e)return i(s)},[e]);const o=k.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Uc=e=>e.key||"";function Ob(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const h$=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=hE(o),f=k.useMemo(()=>Ob(e),[e]),p=o&&!u?[]:f.map(Uc),m=k.useRef(!0),b=k.useRef(f),v=Uy(()=>new Map),[x,g]=k.useState(f),[y,_]=k.useState(f);xk(()=>{m.current=!1,b.current=f;for(let I=0;I<y.length;I++){const R=Uc(y[I]);p.includes(R)?v.delete(R):v.get(R)!==!0&&v.set(R,!1)}},[y,p.length,p.join("-")]);const C=[];if(f!==x){let I=[...f];for(let R=0;R<y.length;R++){const L=y[R],z=Uc(L);p.includes(z)||(I.splice(R,0,L),C.push(L))}return s==="wait"&&C.length&&(I=C),_(Ob(I)),g(f),null}const{forceRender:O}=k.useContext(By);return E.jsx(E.Fragment,{children:y.map(I=>{const R=Uc(I),L=o&&!u?!1:f===y||p.includes(R),z=()=>{if(v.has(R))v.set(R,!0);else return;let V=!0;v.forEach(we=>{we||(V=!1)}),V&&(O==null||O(),_(b.current),o&&(c==null||c()),r&&r())};return E.jsx(d$,{isPresent:L,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:L?void 0:z,anchorX:a,children:I},R)})})},pE=k.createContext({strict:!1}),Rb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ja={};for(const e in Rb)ja[e]={isEnabled:t=>Rb[e].some(n=>!!t[n])};function p$(e){for(const t in e)ja[t]={...ja[t],...e[t]}}const m$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||m$.has(e)}let mE=e=>!Yd(e);function g$(e){typeof e=="function"&&(mE=t=>t.startsWith("on")?!Yd(t):e(t))}try{g$(require("@emotion/is-prop-valid").default)}catch{}function y$(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(mE(i)||n===!0&&Yd(i)||!t&&!Yd(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const jf=k.createContext({});function Of(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function mu(e){return typeof e=="string"||Array.isArray(e)}const dv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fv=["initial",...dv];function Rf(e){return Of(e.animate)||fv.some(t=>mu(e[t]))}function gE(e){return!!(Rf(e)||e.variants)}function v$(e,t){if(Rf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||mu(n)?n:void 0,animate:mu(r)?r:void 0}}return e.inherit!==!1?t:{}}function w$(e){const{initial:t,animate:n}=v$(e,k.useContext(jf));return k.useMemo(()=>({initial:t,animate:n}),[Ib(t),Ib(n)])}function Ib(e){return Array.isArray(e)?e.join(" "):e}const gu={};function b$(e){for(const t in e)gu[t]=e[t],Yy(t)&&(gu[t].isCSSVariable=!0)}function yE(e,{layout:t,layoutId:n}){return Va.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!gu[e]||e==="opacity")}const _$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x$=za.length;function S$(e,t,n){let r="",i=!0;for(let s=0;s<x$;s++){const o=za[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=aE(a,av[o]);if(!l){i=!1;const c=_$[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function hv(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Va.has(l)){o=!0;continue}else if(Yy(l)){i[l]=u;continue}else{const c=aE(u,av[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=S$(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const pv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vE(e,t,n){for(const r in t)!cn(t[r])&&!yE(r,n)&&(e[r]=t[r])}function k$({transformTemplate:e},t){return k.useMemo(()=>{const n=pv();return hv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function E$(e,t){const n=e.style||{},r={};return vE(r,n,e),Object.assign(r,k$(e,t)),r}function C$(e,t){const n={},r=E$(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const T$={offset:"stroke-dashoffset",array:"stroke-dasharray"},P$={offset:"strokeDashoffset",array:"strokeDasharray"};function A$(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?T$:P$;e[s.offset]=qe.transform(-r);const o=qe.transform(t),a=qe.transform(n);e[s.array]=`${o} ${a}`}function wE(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(hv(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p}=e;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&A$(f,i,s,o,!1)}const bE=()=>({...pv(),attrs:{}}),_E=e=>typeof e=="string"&&e.toLowerCase()==="svg";function j$(e,t,n,r){const i=k.useMemo(()=>{const s=bE();return wE(s,t,_E(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};vE(s,e.style,e),i.style={...s,...i.style}}return i}const O$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mv(e){return typeof e!="string"||e.includes("-")?!1:!!(O$.indexOf(e)>-1||/[A-Z]/u.test(e))}function R$(e,t,n,{latestValues:r},i,s=!1){const a=(mv(e)?j$:C$)(t,r,i,e),l=y$(t,typeof e=="string",s),u=e!==k.Fragment?{...l,...a,ref:n}:{},{children:c}=t,f=k.useMemo(()=>cn(c)?c.get():c,[c]);return k.createElement(e,{...u,children:f})}function Db(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function gv(e,t,n,r){if(typeof t=="function"){const[i,s]=Db(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Db(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function cd(e){return cn(e)?e.get():e}function I$({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:D$(n,r,i,e),renderState:t()}}function D$(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=cd(s[p]);let{initial:o,animate:a}=e;const l=Rf(e),u=gE(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!Of(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const b=gv(e,p[m]);if(b){const{transitionEnd:v,transition:x,...g}=b;for(const y in g){let _=g[y];if(Array.isArray(_)){const C=c?_.length-1:0;_=_[C]}_!==null&&(i[y]=_)}for(const y in v)i[y]=v[y]}}}return i}const xE=e=>(t,n)=>{const r=k.useContext(jf),i=k.useContext(Af),s=()=>I$(e,t,r,i);return n?s():Uy(s)};function yv(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(cn(r[o])||t.style&&cn(t.style[o])||yE(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const N$=xE({scrapeMotionValuesFromProps:yv,createRenderState:pv});function SE(e,t,n){const r=yv(e,t,n);for(const i in e)if(cn(e[i])||cn(t[i])){const s=za.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const L$=xE({scrapeMotionValuesFromProps:SE,createRenderState:bE}),$$=Symbol.for("motionComponentSymbol");function Jo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function M$(e,t,n){return k.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Jo(n)&&(n.current=r))},[t])}const vv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),F$="framerAppearId",kE="data-"+vv(F$),EE=k.createContext({});function B$(e,t,n,r,i){var v,x;const{visualElement:s}=k.useContext(jf),o=k.useContext(pE),a=k.useContext(Af),l=k.useContext(cv).reducedMotion,u=k.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=k.useContext(EE);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&U$(u.current,n,i,f);const p=k.useRef(!1);k.useInsertionEffect(()=>{c&&p.current&&c.update(n,a)});const m=n[kE],b=k.useRef(!!m&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return xk(()=>{c&&(p.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),b.current&&c.animationState&&c.animationState.animateChanges())}),k.useEffect(()=>{c&&(!b.current&&c.animationState&&c.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),b.current=!1),c.enteringChildren=void 0)}),c}function U$(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:CE(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Jo(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function CE(e){if(e)return e.options.allowProjection!==!1?e.projection:CE(e.parent)}function cp(e,{forwardMotionProps:t=!1}={},n,r){n&&p$(n);const i=mv(e)?L$:N$;function s(a,l){let u;const c={...k.useContext(cv),...a,layoutId:z$(a)},{isStatic:f}=c,p=w$(a),m=i(a,f);if(!f&&zy){V$();const b=K$(c);u=b.MeasureLayout,p.visualElement=B$(e,m,c,r,b.ProjectionNode)}return E.jsxs(jf.Provider,{value:p,children:[u&&p.visualElement?E.jsx(u,{visualElement:p.visualElement,...c}):null,R$(e,a,M$(m,p.visualElement,l),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=k.forwardRef(s);return o[$$]=e,o}function z$({layoutId:e}){const t=k.useContext(By).id;return t&&e!==void 0?t+"-"+e:e}function V$(e,t){k.useContext(pE).strict}function K$(e){const{drag:t,layout:n}=ja;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function W$(e,t){if(typeof Proxy>"u")return cp;const n=new Map,r=(s,o)=>cp(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,cp(o,void 0,e,t)),n.get(o))})}function TE({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function H$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function q$(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function dp(e){return e===void 0||e===1}function og({scale:e,scaleX:t,scaleY:n}){return!dp(e)||!dp(t)||!dp(n)}function Ns(e){return og(e)||PE(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function PE(e){return Nb(e.x)||Nb(e.y)}function Nb(e){return e&&e!=="0%"}function Jd(e,t,n){const r=e-n,i=t*r;return n+i}function Lb(e,t,n,r,i){return i!==void 0&&(e=Jd(e,i,r)),Jd(e,n,r)+t}function ag(e,t=0,n=1,r,i){e.min=Lb(e.min,t,n,r,i),e.max=Lb(e.max,t,n,r,i)}function AE(e,{x:t,y:n}){ag(e.x,t.translate,t.scale,t.originPoint),ag(e.y,n.translate,n.scale,n.originPoint)}const $b=.999999999999,Mb=1.0000000000001;function G$(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xo(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,AE(e,o)),r&&Ns(s.latestValues)&&Xo(e,s.latestValues))}t.x<Mb&&t.x>$b&&(t.x=1),t.y<Mb&&t.y>$b&&(t.y=1)}function Zo(e,t){e.min=e.min+t,e.max=e.max+t}function Fb(e,t,n,r,i=.5){const s=St(e.min,e.max,i);ag(e,t,n,s,r)}function Xo(e,t){Fb(e.x,t.x,t.scaleX,t.scale,t.originX),Fb(e.y,t.y,t.scaleY,t.scale,t.originY)}function jE(e,t){return TE(q$(e.getBoundingClientRect(),t))}function Q$(e,t,n){const r=jE(e,n),{scroll:i}=t;return i&&(Zo(r.x,i.offset.x),Zo(r.y,i.offset.y)),r}const Bb=()=>({translate:0,scale:1,origin:0,originPoint:0}),ea=()=>({x:Bb(),y:Bb()}),Ub=()=>({min:0,max:0}),It=()=>({x:Ub(),y:Ub()}),lg={current:null},OE={current:!1};function Y$(){if(OE.current=!0,!!zy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lg.current=e.matches;e.addEventListener("change",t),t()}else lg.current=!1}const J$=new WeakMap;function Z$(e,t,n){for(const r in t){const i=t[r],s=n[r];if(cn(i))e.addValue(r,i);else if(cn(s))e.addValue(r,Aa(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Aa(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const zb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class X${scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=On.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,bt.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Rf(n),this.isVariantNode=gE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&cn(m)&&m.set(l[p])}}mount(t){var n;this.current=t,J$.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),OE.current||Y$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ps(this.notifyUpdate),ps(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Va.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ja){const n=ja[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zb.length;r++){const i=zb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Z$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Aa(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Sk(r)||Ek(r))?r=parseFloat(r):!o$(r)&&ms.test(n)&&(r=oE(t,n)),this.setBaseTarget(t,cn(r)?r.get():r)),cn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=gv(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!cn(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new qy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){lv.render(this.render)}}class RE extends X${constructor(){super(...arguments),this.KeyframeResolver=GL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;cn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IE(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function eM(e){return window.getComputedStyle(e)}class tM extends RE{constructor(){super(...arguments),this.type="html",this.renderInstance=IE}readValueFromInstance(t,n){var r;if(Va.has(n))return(r=this.projection)!=null&&r.isProjecting?Xm(n):hL(t,n);{const i=eM(t),s=(Yy(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return jE(t,n)}build(t,n,r){hv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return yv(t,n,r)}}const DE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nM(e,t,n,r){IE(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(DE.has(i)?i:vv(i),t.attrs[i])}class rM extends RE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Va.has(n)){const r=sE(n);return r&&r.default||0}return n=DE.has(n)?n:vv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return SE(t,n,r)}build(t,n,r){wE(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){nM(t,n,r,i)}mount(t){this.isSVGTag=_E(t.tagName),super.mount(t)}}const iM=(e,t)=>mv(e)?new rM(t):new tM(t,{allowProjection:e!==k.Fragment});function la(e,t,n){const r=e.getProps();return gv(r,t,n!==void 0?n:r.custom,e)}const ug=e=>Array.isArray(e);function sM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Aa(n))}function oM(e){return ug(e)?e[e.length-1]||0:e}function aM(e,t){const n=la(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=oM(s[o]);sM(e,o,a)}}function lM(e){return!!(cn(e)&&e.add)}function cg(e,t){const n=e.getValue("willChange");if(lM(n))return n.add(t);if(!n&&vi.WillChange){const r=new vi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function NE(e){return e.props[kE]}const uM=e=>e!==null;function cM(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(uM),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const dM={type:"spring",stiffness:500,damping:25,restSpeed:10},fM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hM={type:"keyframes",duration:.8},pM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mM=(e,{keyframes:t})=>t.length>2?hM:Va.has(e)?e.startsWith("scale")?fM(t[1]):dM:pM;function gM({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const wv=(e,t,n,r={},i,s)=>o=>{const a=ov(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Hr(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};gM(a)||Object.assign(c,mM(e,c)),c.duration&&(c.duration=Hr(c.duration)),c.repeatDelay&&(c.repeatDelay=Hr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(ig(c),c.delay===0&&(f=!0)),(vi.instantAnimations||vi.skipAnimations)&&(f=!0,ig(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,f&&!s&&t.get()!==void 0){const p=cM(c.keyframes,a);if(p!==void 0){bt.update(()=>{c.onUpdate(p),c.onComplete()});return}}return a.isSync?new iv(c):new LL(c)};function yM({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function LE(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const c in a){const f=e.getValue(c,e.latestValues[c]??null),p=a[c];if(p===void 0||u&&yM(u,c))continue;const m={delay:n,...ov(s||{},c)},b=f.get();if(b!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===b&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=NE(e);if(g){const y=window.MotionHandoffAnimation(g,c,bt);y!==null&&(m.startTime=y,v=!0)}}cg(e,c),f.start(wv(c,f,p,e.shouldReduceMotion&&nE.has(c)?{type:!1}:m,e,v));const x=f.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{bt.update(()=>{o&&aM(e,o)})}),l}function $E(e,t,n,r=0,i=1){const s=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function dg(e,t,n={}){var l;const r=la(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(LE(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:p}=i;return vM(e,t,u,c,f,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function vM(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(dg(l,t,{...o,delay:n+(typeof r=="function"?0:r)+$E(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function wM(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>dg(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=dg(e,t,n);else{const i=typeof t=="function"?la(e,t,n.custom):t;r=Promise.all(LE(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function ME(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const bM=fv.length;function FE(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?FE(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<bM;n++){const r=fv[n],i=e.props[r];(mu(i)||i===!1)&&(t[r]=i)}return t}const _M=[...dv].reverse(),xM=dv.length;function SM(e){return t=>Promise.all(t.map(({animation:n,options:r})=>wM(e,n,r)))}function kM(e){let t=SM(e),n=Vb(),r=!0;const i=l=>(u,c)=>{var p;const f=la(e,c,l==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:m,transitionEnd:b,...v}=f;u={...u,...v,...b}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,c=FE(e.parent)||{},f=[],p=new Set;let m={},b=1/0;for(let x=0;x<xM;x++){const g=_M[x],y=n[g],_=u[g]!==void 0?u[g]:c[g],C=mu(_),O=g===l?y.isActive:null;O===!1&&(b=x);let I=_===c[g]&&_!==u[g]&&C;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),y.protectedKeys={...m},!y.isActive&&O===null||!_&&!y.prevProp||Of(_)||typeof _=="boolean")continue;const R=EM(y.prevProp,_);let L=R||g===l&&y.isActive&&!I&&C||x>b&&C,z=!1;const V=Array.isArray(_)?_:[_];let we=V.reduce(i(g),{});O===!1&&(we={});const{prevResolvedValues:F={}}=y,ee={...F,...we},A=M=>{L=!0,p.has(M)&&(z=!0,p.delete(M)),y.needsAnimating[M]=!0;const X=e.getValue(M);X&&(X.liveStyle=!1)};for(const M in ee){const X=we[M],Z=F[M];if(m.hasOwnProperty(M))continue;let ue=!1;ug(X)&&ug(Z)?ue=!ME(X,Z):ue=X!==Z,ue?X!=null?A(M):p.add(M):X!==void 0&&p.has(M)?A(M):y.protectedKeys[M]=!0}y.prevProp=_,y.prevResolvedValues=we,y.isActive&&(m={...m,...we}),r&&e.blockInitialAnimation&&(L=!1);const le=I&&R;L&&(!le||z)&&f.push(...V.map(M=>{const X={type:g};if(typeof M=="string"&&r&&!le&&e.manuallyAnimateOnMount&&e.parent){const{parent:Z}=e,ue=la(Z,M);if(Z.enteringChildren&&ue){const{delayChildren:G}=ue.transition||{};X.delay=$E(Z.enteringChildren,e,G)}}return{animation:M,options:X}}))}if(p.size){const x={};if(typeof u.initial!="boolean"){const g=la(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(x.transition=g.transition)}p.forEach(g=>{const y=e.getBaseTarget(g),_=e.getValue(g);_&&(_.liveStyle=!0),x[g]=y??null}),f.push({animation:x})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const p in n)n[p].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Vb(),r=!0}}}function EM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ME(t,e):!1}function Os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vb(){return{animate:Os(!0),whileInView:Os(),whileHover:Os(),whileTap:Os(),whileDrag:Os(),whileFocus:Os(),exit:Os()}}class _s{constructor(t){this.isMounted=!1,this.node=t}update(){}}class CM extends _s{constructor(t){super(t),t.animationState||(t.animationState=kM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Of(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let TM=0;class PM extends _s{constructor(){super(...arguments),this.id=TM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const AM={animation:{Feature:CM},exit:{Feature:PM}};function yu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Bu(e){return{point:{x:e.pageX,y:e.pageY}}}const jM=e=>t=>uv(t)&&e(t,Bu(t));function $l(e,t,n,r){return yu(e,t,jM(n),r)}const BE=1e-4,OM=1-BE,RM=1+BE,UE=.01,IM=0-UE,DM=0+UE;function vn(e){return e.max-e.min}function NM(e,t,n){return Math.abs(e-t)<=n}function Kb(e,t,n,r=.5){e.origin=r,e.originPoint=St(t.min,t.max,e.origin),e.scale=vn(n)/vn(t),e.translate=St(n.min,n.max,e.origin)-e.originPoint,(e.scale>=OM&&e.scale<=RM||isNaN(e.scale))&&(e.scale=1),(e.translate>=IM&&e.translate<=DM||isNaN(e.translate))&&(e.translate=0)}function Ml(e,t,n,r){Kb(e.x,t.x,n.x,r?r.originX:void 0),Kb(e.y,t.y,n.y,r?r.originY:void 0)}function Wb(e,t,n){e.min=n.min+t.min,e.max=e.min+vn(t)}function LM(e,t,n){Wb(e.x,t.x,n.x),Wb(e.y,t.y,n.y)}function Hb(e,t,n){e.min=t.min-n.min,e.max=e.min+vn(t)}function Fl(e,t,n){Hb(e.x,t.x,n.x),Hb(e.y,t.y,n.y)}function Xn(e){return[e("x"),e("y")]}const zE=({current:e})=>e?e.ownerDocument.defaultView:null,qb=(e,t)=>Math.abs(e-t);function $M(e,t){const n=qb(e.x,t.x),r=qb(e.y,t.y);return Math.sqrt(n**2+r**2)}class VE{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=hp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,b=$M(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!b)return;const{point:v}=p,{timestamp:x}=Jt;this.history.push({...v,timestamp:x});const{onStart:g,onMove:y}=this.handlers;m||(g&&g(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=fp(m,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:b,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=hp(p.type==="pointercancel"?this.lastMoveEventInfo:fp(m,this.transformPagePoint),this.history);this.startEvent&&b&&b(p,g),v&&v(p,g)},!uv(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Bu(t),l=fp(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=Jt;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=n;f&&f(t,hp(l,this.history)),this.removeListeners=$u($l(this.contextWindow,"pointermove",this.handlePointerMove),$l(this.contextWindow,"pointerup",this.handlePointerUp),$l(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ps(this.updatePoint)}}function fp(e,t){return t?{point:t(e.point)}:e}function Gb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hp({point:e},t){return{point:e,delta:Gb(e,KE(t)),offset:Gb(e,MM(t)),velocity:FM(t,.1)}}function MM(e){return e[0]}function KE(e){return e[e.length-1]}function FM(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=KE(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Hr(t)));)n--;if(!r)return{x:0,y:0};const s=or(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function BM(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?St(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?St(n,e,r.max):Math.min(e,n)),e}function Qb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function UM(e,{top:t,left:n,bottom:r,right:i}){return{x:Qb(e.x,n,i),y:Qb(e.y,t,r)}}function Yb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function zM(e,t){return{x:Yb(e.x,t.x),y:Yb(e.y,t.y)}}function VM(e,t){let n=.5;const r=vn(e),i=vn(t);return i>r?n=fu(t.min,t.max-r,e.min):r>i&&(n=fu(e.min,e.max-i,t.min)),yi(0,1,n)}function KM(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const fg=.35;function WM(e=fg){return e===!1?e=0:e===!0&&(e=fg),{x:Jb(e,"left","right"),y:Jb(e,"top","bottom")}}function Jb(e,t,n){return{min:Zb(e,t),max:Zb(e,n)}}function Zb(e,t){return typeof e=="number"?e:e[t]||0}const HM=new WeakMap;class qM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bu(f).point)},o=(f,p)=>{const{drag:m,dragPropagation:b,onDragStart:v}=this.getProps();if(m&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZL(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(g=>{let y=this.getAxisMotionValue(g).get()||0;if(qr.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const C=_.layout.layoutBox[g];C&&(y=vn(C)*(parseFloat(y)/100))}}this.originPoint[g]=y}),v&&bt.postRender(()=>v(f,p)),cg(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:b,onDirectionLock:v,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=p;if(b&&this.currentDirection===null){this.currentDirection=GM(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,g),this.updateAxis("y",p.point,g),this.visualElement.render(),x&&x(f,p)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Xn(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new VE(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:zE(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&bt.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!zc(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=BM(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Jo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=UM(r.layoutBox,t):this.constraints=!1,this.elastic=WM(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=KM(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Jo(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Q$(r,i.root,this.visualElement.getTransformPagePoint());let o=zM(i.layout.layoutBox,s);if(n){const a=n(H$(o));this.hasMutatedConstraints=!!a,a&&(o=TE(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Xn(c=>{if(!zc(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,b={type:"inertia",velocity:r?t[c]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,b)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return cg(this.visualElement,t),r.start(wv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Xn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Xn(n=>{const{drag:r}=this.getProps();if(!zc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-St(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=VM({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xn(o=>{if(!zc(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(St(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;HM.set(this.visualElement,this);const t=this.visualElement.current,n=$l(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Jo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),bt.read(r);const o=yu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xn(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=fg,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function GM(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class QM extends _s{constructor(t){super(t),this.removeGroupControls=lr,this.removeListeners=lr,this.controls=new qM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xb=e=>(t,n)=>{e&&bt.postRender(()=>e(t,n))};class YM extends _s{constructor(){super(...arguments),this.removePointerDownListener=lr}onPointerDown(t){this.session=new VE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Xb(t),onStart:Xb(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&bt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=$l(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function e_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ul={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qe.test(e))e=parseFloat(e);else return e;const n=e_(e,t.target.x),r=e_(e,t.target.y);return`${n}% ${r}%`}},JM={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ms.parse(e);if(i.length>5)return r;const s=ms.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=St(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let pp=!1;class ZM extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;b$(XM),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),pp&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),dd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,pp=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||bt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),lv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;pp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WE(e){const[t,n]=hE(),r=k.useContext(By);return E.jsx(ZM,{...e,layoutGroup:r,switchLayoutGroup:k.useContext(EE),isPresent:t,safeToRemove:n})}const XM={borderRadius:{...ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ul,borderTopRightRadius:ul,borderBottomLeftRadius:ul,borderBottomRightRadius:ul,boxShadow:JM};function e3(e,t,n){const r=cn(e)?e:Aa(e);return r.start(wv("",r,t,n)),r.animation}const t3=(e,t)=>e.depth-t.depth;class n3{constructor(){this.children=[],this.isDirty=!1}add(t){Vy(this.children,t),this.isDirty=!0}remove(t){Ky(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(t3),this.isDirty=!1,this.children.forEach(t)}}function r3(e,t){const n=On.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(ps(r),e(s-t))};return bt.setup(r,!0),()=>ps(r)}const HE=["TopLeft","TopRight","BottomLeft","BottomRight"],i3=HE.length,t_=e=>typeof e=="string"?parseFloat(e):e,n_=e=>typeof e=="number"||qe.test(e);function s3(e,t,n,r,i,s){i?(e.opacity=St(0,n.opacity??1,o3(r)),e.opacityExit=St(t.opacity??1,0,a3(r))):s&&(e.opacity=St(t.opacity??1,n.opacity??1,r));for(let o=0;o<i3;o++){const a=`border${HE[o]}Radius`;let l=r_(t,a),u=r_(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||n_(l)===n_(u)?(e[a]=Math.max(St(t_(l),t_(u),r),0),(qr.test(u)||qr.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=St(t.rotate||0,n.rotate||0,r))}function r_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const o3=qE(0,.5,Ik),a3=qE(.5,.95,lr);function qE(e,t,n){return r=>r<e?0:r>t?1:n(fu(e,t,r))}function i_(e,t){e.min=t.min,e.max=t.max}function Jn(e,t){i_(e.x,t.x),i_(e.y,t.y)}function s_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function o_(e,t,n,r,i){return e-=t,e=Jd(e,1/n,r),i!==void 0&&(e=Jd(e,1/i,r)),e}function l3(e,t=0,n=1,r=.5,i,s=e,o=e){if(qr.test(t)&&(t=parseFloat(t),t=St(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=St(s.min,s.max,r);e===s&&(a-=t),e.min=o_(e.min,t,n,a,i),e.max=o_(e.max,t,n,a,i)}function a_(e,t,[n,r,i],s,o){l3(e,t[n],t[r],t[i],t.scale,s,o)}const u3=["x","scaleX","originX"],c3=["y","scaleY","originY"];function l_(e,t,n,r){a_(e.x,t,u3,n?n.x:void 0,r?r.x:void 0),a_(e.y,t,c3,n?n.y:void 0,r?r.y:void 0)}function u_(e){return e.translate===0&&e.scale===1}function GE(e){return u_(e.x)&&u_(e.y)}function c_(e,t){return e.min===t.min&&e.max===t.max}function d3(e,t){return c_(e.x,t.x)&&c_(e.y,t.y)}function d_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function QE(e,t){return d_(e.x,t.x)&&d_(e.y,t.y)}function f_(e){return vn(e.x)/vn(e.y)}function h_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class f3{constructor(){this.members=[]}add(t){Vy(this.members,t),t.scheduleRender()}remove(t){if(Ky(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h3(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:p,skewX:m,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const mp=["","X","Y","Z"],p3=1e3;let m3=0;function gp(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function YE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=NE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&YE(r)}function JE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=m3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(v3),this.nodes.forEach(x3),this.nodes.forEach(S3),this.nodes.forEach(w3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new n3)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=fE(o)&&!i$(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,f=0;const p=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,c&&c(),c=r3(p,250),dd.hasAnimatedSinceResize&&(dd.hasAnimatedSinceResize=!1,this.nodes.forEach(g_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||P3,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=u.getProps(),g=!this.targetLayout||!QE(this.targetLayout,m),y=!f&&p;if(this.options.layoutRoot||this.resumeFrom||y||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...ov(b,"layout"),onPlay:v,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(c,y)}else f||g_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ps(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(m_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_3),this.nodes.forEach(g3),this.nodes.forEach(y3)):this.nodes.forEach(m_),this.clearAllSnapshots();const a=On.now();Jt.delta=yi(0,1e3/60,a-Jt.timestamp),Jt.timestamp=a,Jt.isProcessing=!0,ip.update.process(Jt),ip.preRender.process(Jt),ip.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(b3),this.sharedNodes.forEach(E3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!GE(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ns(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),A3(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return It();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(j3))){const{scroll:c}=this.root;c&&(Zo(a.x,c.offset.x),Zo(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=It();if(Jn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:p}=c;c!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Jn(a,o),Zo(a.x,f.offset.x),Zo(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=It();Jn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Xo(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ns(c.latestValues)&&Xo(l,c.latestValues)}return Ns(this.latestValues)&&Xo(l,this.latestValues),l}removeTransform(o){const a=It();Jn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ns(u.latestValues))continue;og(u.latestValues)&&u.updateSnapshot();const c=It(),f=u.measurePageBox();Jn(c,f),l_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ns(this.latestValues)&&l_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Fl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),AE(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Fl(this.relativeTargetOrigin,this.target,m.target),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||og(this.parent.latestValues)||PE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Jn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;G$(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=It());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s_(this.prevProjectionDelta.x,this.projectionDelta.x),s_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ml(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!h_(this.projectionDelta.x,this.prevProjectionDelta.x)||!h_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ea(),this.projectionDelta=ea(),this.projectionDeltaWithTransform=ea()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=ea();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=It(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,v=m!==b,x=this.getStack(),g=!x||x.members.length<=1,y=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(T3));this.animationProgress=0;let _;this.mixTargetDelta=C=>{const O=C/1e3;y_(f.x,o.x,O),y_(f.y,o.y,O),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C3(this.relativeTarget,this.relativeTargetOrigin,p,O),_&&d3(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=It()),Jn(_,this.relativeTarget)),v&&(this.animationValues=c,s3(c,u,this.latestValues,O,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ps(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{dd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Aa(0)),this.currentAnimation=e3(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(p3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&ZE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||It();const f=vn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=vn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Jn(a,l),Xo(a,c),Ml(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new f3),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&gp("z",o,u,this.animationValues);for(let c=0;c<mp.length;c++)gp(`rotate${mp[c]}`,o,u,this.animationValues),gp(`skew${mp[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=cd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=cd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ns(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=h3(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),o.transform=f;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const b in gu){if(c[b]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:g}=gu[b],y=f==="none"?c[b]:v(c[b],u);if(x){const _=x.length;for(let C=0;C<_;C++)o[x[C]]=y}else g?this.options.visualElement.renderState.vars[b]=y:o[b]=y}this.options.layoutId&&(o.pointerEvents=u===this?cd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(p_),this.root.sharedNodes.clear()}}}function g3(e){e.updateLayout()}function y3(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Xn(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=vn(p);p.min=r[f].min,p.max=p.min+m}):ZE(s,t.layoutBox,r)&&Xn(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=vn(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=ea();Ml(a,r,t.layoutBox);const l=ea();o?Ml(l,e.applyTransform(i,!0),t.measuredBox):Ml(l,r,t.layoutBox);const u=!GE(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const b=It();Fl(b,t.layoutBox,p.layoutBox);const v=It();Fl(v,r,m.layoutBox),QE(b,v)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function v3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function w3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function b3(e){e.clearSnapshot()}function p_(e){e.clearMeasurements()}function m_(e){e.isLayoutDirty=!1}function _3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function g_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function x3(e){e.resolveTargetDelta()}function S3(e){e.calcProjection()}function k3(e){e.resetSkewAndRotation()}function E3(e){e.removeLeadSnapshot()}function y_(e,t,n){e.translate=St(t.translate,0,n),e.scale=St(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function v_(e,t,n,r){e.min=St(t.min,n.min,r),e.max=St(t.max,n.max,r)}function C3(e,t,n,r){v_(e.x,t.x,n.x,r),v_(e.y,t.y,n.y,r)}function T3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const P3={duration:.45,ease:[.4,0,.1,1]},w_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),b_=w_("applewebkit/")&&!w_("chrome/")?Math.round:lr;function __(e){e.min=b_(e.min),e.max=b_(e.max)}function A3(e){__(e.x),__(e.y)}function ZE(e,t,n){return e==="position"||e==="preserve-aspect"&&!NM(f_(t),f_(n),.2)}function j3(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const O3=JE({attachResizeListener:(e,t)=>yu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yp={current:void 0},XE=JE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yp.current){const e=new O3({});e.mount(window),e.setOptions({layoutScroll:!0}),yp.current=e}return yp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),R3={pan:{Feature:YM},drag:{Feature:QM,ProjectionNode:XE,MeasureLayout:WE}};function x_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&bt.postRender(()=>s(t,Bu(t)))}class I3 extends _s{mount(){const{current:t}=this.node;t&&(this.unmount=XL(t,(n,r)=>(x_(this.node,r,"Start"),i=>x_(this.node,i,"End"))))}unmount(){}}class D3 extends _s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(yu(this.node.current,"focus",()=>this.onFocus()),yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&bt.postRender(()=>s(t,Bu(t)))}class N3 extends _s{mount(){const{current:t}=this.node;t&&(this.unmount=r$(t,(n,r)=>(S_(this.node,r,"Start"),(i,{success:s})=>S_(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hg=new WeakMap,vp=new WeakMap,L3=e=>{const t=hg.get(e.target);t&&t(e)},$3=e=>{e.forEach(L3)};function M3({root:e,...t}){const n=e||document;vp.has(n)||vp.set(n,{});const r=vp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver($3,{root:e,...t})),r[i]}function F3(e,t,n){const r=M3(t);return hg.set(e,n),r.observe(e),()=>{hg.delete(e),r.unobserve(e)}}const B3={some:0,all:1};class U3 extends _s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:B3[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),p=u?c:f;p&&p(l)};return F3(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(z3(t,n))&&this.startObserver()}unmount(){}}function z3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const V3={inView:{Feature:U3},tap:{Feature:N3},focus:{Feature:D3},hover:{Feature:I3}},K3={layout:{ProjectionNode:XE,MeasureLayout:WE}},W3={...AM,...V3,...R3,...K3},H3=W$(W3,iM);let q3={data:""},G3=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||q3},Q3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Y3=/\/\*[^]*?\*\/|  +/g,k_=/\n+/g,zi=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?zi(o,s):s+"{"+zi(o,s[1]=="k"?"":t)+"}":typeof o=="object"?r+=zi(o,t?t.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=zi.p?zi.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Xr={},eC=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+eC(e[n]);return t}return e},J3=(e,t,n,r,i)=>{let s=eC(e),o=Xr[s]||(Xr[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!Xr[o]){let l=s!==e?e:(u=>{let c,f,p=[{}];for(;c=Q3.exec(u.replace(Y3,""));)c[4]?p.shift():c[3]?(f=c[3].replace(k_," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][c[1]]=c[2].replace(k_," ").trim();return p[0]})(e);Xr[o]=zi(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Xr.g?Xr.g:null;return n&&(Xr.g=Xr[o]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Xr[o],t,r,a),o},Z3=(e,t,n)=>e.reduce((r,i,s)=>{let o=t[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":zi(a,""):a===!1?"":a}return r+i+(o??"")},"");function If(e){let t=this||{},n=e.call?e(t.p):e;return J3(n.unshift?n.raw?Z3(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,G3(t.target),t.g,t.o,t.k)}let tC,pg,mg;If.bind({g:1});let wi=If.bind({k:1});function X3(e,t,n,r){zi.p=t,tC=e,pg=n,mg=r}function xs(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:pg&&pg()},a),n.o=/ *go\d+/.test(l),a.className=If.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),mg&&u[0]&&mg(a),tC(u,a)}return i}}var eF=e=>typeof e=="function",Zd=(e,t)=>eF(e)?e(t):e,tF=(()=>{let e=0;return()=>(++e).toString()})(),nC=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),nF=20,bv="default",rC=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return rC(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},fd=[],iC={toasts:[],pausedAt:void 0,settings:{toastLimit:nF}},Vr={},sC=(e,t=bv)=>{Vr[t]=rC(Vr[t]||iC,e),fd.forEach(([n,r])=>{n===t&&r(Vr[t])})},oC=e=>Object.keys(Vr).forEach(t=>sC(e,t)),rF=e=>Object.keys(Vr).find(t=>Vr[t].toasts.some(n=>n.id===e)),Df=(e=bv)=>t=>{sC(t,e)},iF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},sF=(e={},t=bv)=>{let[n,r]=k.useState(Vr[t]||iC),i=k.useRef(Vr[t]);k.useEffect(()=>(i.current!==Vr[t]&&r(Vr[t]),fd.push([t,r]),()=>{let o=fd.findIndex(([a])=>a===t);o>-1&&fd.splice(o,1)}),[t]);let s=n.toasts.map(o=>{var a,l,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||iF[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:s}},oF=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||tF()}),Uu=e=>(t,n)=>{let r=oF(t,e,n);return Df(r.toasterId||rF(r.id))({type:2,toast:r}),r.id},zt=(e,t)=>Uu("blank")(e,t);zt.error=Uu("error");zt.success=Uu("success");zt.loading=Uu("loading");zt.custom=Uu("custom");zt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Df(t)(n):oC(n)};zt.dismissAll=e=>zt.dismiss(void 0,e);zt.remove=(e,t)=>{let n={type:4,toastId:e};t?Df(t)(n):oC(n)};zt.removeAll=e=>zt.remove(void 0,e);zt.promise=(e,t,n)=>{let r=zt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let s=t.success?Zd(t.success,i):void 0;return s?zt.success(s,{id:r,...n,...n==null?void 0:n.success}):zt.dismiss(r),i}).catch(i=>{let s=t.error?Zd(t.error,i):void 0;s?zt.error(s,{id:r,...n,...n==null?void 0:n.error}):zt.dismiss(r)}),e};var aF=1e3,lF=(e,t="default")=>{let{toasts:n,pausedAt:r}=sF(e,t),i=k.useRef(new Map).current,s=k.useCallback((f,p=aF)=>{if(i.has(f))return;let m=setTimeout(()=>{i.delete(f),o({type:4,toastId:f})},p);i.set(f,m)},[]);k.useEffect(()=>{if(r)return;let f=Date.now(),p=n.map(m=>{if(m.duration===1/0)return;let b=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(b<0){m.visible&&zt.dismiss(m.id);return}return setTimeout(()=>zt.dismiss(m.id,t),b)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[n,r,t]);let o=k.useCallback(Df(t),[t]),a=k.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=k.useCallback((f,p)=>{o({type:1,toast:{id:f,height:p}})},[o]),u=k.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),c=k.useCallback((f,p)=>{let{reverseOrder:m=!1,gutter:b=8,defaultPosition:v}=p||{},x=n.filter(_=>(_.position||v)===(f.position||v)&&_.height),g=x.findIndex(_=>_.id===f.id),y=x.filter((_,C)=>C<g&&_.visible).length;return x.filter(_=>_.visible).slice(...m?[y+1]:[0,y]).reduce((_,C)=>_+(C.height||0)+b,0)},[n]);return k.useEffect(()=>{n.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let p=i.get(f.id);p&&(clearTimeout(p),i.delete(f.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:c}}},uF=wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cF=wi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dF=wi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fF=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hF=wi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pF=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${hF} 1s linear infinite;
`,mF=wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gF=wi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yF=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vF=xs("div")`
  position: absolute;
`,wF=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bF=wi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_F=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bF} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,xF=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?k.createElement(_F,null,t):t:n==="blank"?null:k.createElement(wF,null,k.createElement(pF,{...r}),n!=="loading"&&k.createElement(vF,null,n==="error"?k.createElement(fF,{...r}):k.createElement(yF,{...r})))},SF=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kF=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,EF="0%{opacity:0;} 100%{opacity:1;}",CF="0%{opacity:1;} 100%{opacity:0;}",TF=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,PF=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,AF=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=nC()?[EF,CF]:[SF(n),kF(n)];return{animation:t?`${wi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},jF=k.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?AF(e.position||t||"top-center",e.visible):{opacity:0},s=k.createElement(xF,{toast:e}),o=k.createElement(PF,{...e.ariaProps},Zd(e.message,e));return k.createElement(TF,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:s,message:o}):k.createElement(k.Fragment,null,s,o))});X3(k.createElement);var OF=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let s=k.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return k.createElement("div",{ref:s,className:t,style:n},i)},RF=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:nC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},IF=If`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vc=16,DF=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=lF(n,s);return k.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Vc,left:Vc,right:Vc,bottom:Vc,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let f=c.position||t,p=u.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),m=RF(f,p);return k.createElement(OF,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?IF:"",style:m},c.type==="custom"?Zd(c.message,c):i?i(c):k.createElement(jF,{toast:c,position:f}))}))},Ri=zt;const aC=[{code:"devanagari",name:"Devanagari"},{code:"tamil_superscripted",name:"Tamil"},{code:"malayalam",name:"Malayalam"},{code:"telugu",name:"Telugu"},{code:"kannada",name:"Kannada"},{code:"gujarati",name:"Gujarati"},{code:"gurmukhi",name:"Gurmukhi"},{code:"iast",name:"IAST"}];function NF(){const{preferredLanguage:e,setPreferredLanguage:t}=Ba(),[n,r]=k.useState(e);k.useEffect(()=>{localStorage.setItem("preferredLanguage",n),t(n)},[n,t]);const i=s=>{r(s.target.value)};return E.jsxs("div",{children:[E.jsx("h2",{children:"Language Preferences"}),E.jsx("p",{children:"Choose the language for transliteration:"}),E.jsx("select",{value:n,onChange:i,children:aC.map(s=>E.jsx("option",{value:s.code,children:s.name},s.code))})]})}const LF={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},cl={marginRight:"10px"},dl={opacity:.5,cursor:"not-allowed",color:"#888"},$F=async function(e){try{return await dn.from("sankeertan").upsert({id:1,content:e,scroll_position:0}),!0}catch(t){return console.error(t),!1}},MF=async e=>{const t=e.queryKey,n=t[1],r=t[2],i=t[3],s=t[4];if(!n||!r||!s)throw new Error("Missing query parameters for fetching song details.");const o=await VI(n,s);return o&&o.songData&&o.sourceLanguage?(console.log("Using song details from IndexedDB cache."),[o.songData,o.metadata,o.sourceLanguage]):(console.log("Cache miss. Fetching song details from network."),await dk({bookId:n,sourceRow:r,songTitle:s,sessionuser:i}))};function FF(){var Je,jt,Gn;const{categoryId:e,bookId:t,sourceRow:n,songTitle:r}=Au(),i=dr(),s=jr(),{session:o}=bs(),a=(Je=o==null?void 0:o.user)==null?void 0:Je.email,l=(jt=i.state)==null?void 0:jt.filteredSongIndices,u=(Gn=i.state)==null?void 0:Gn.index,c=Tf(),f=k.useMemo(()=>decodeURIComponent(r||""),[r]),p=["songDetails",t,n,a,f],{preferredLanguage:m,setPreferredLanguage:b}=Ba(),v=k.useMemo(()=>l&&u>0?l[u-1]:null,[l,u]),x=k.useMemo(()=>l&&u<l.length-1?l[u+1]:null,[l,u]),g=k.useCallback(async(Ie,ze)=>{if(!Ie||!Ie.bookId||!Ie.songTitle){ze(!1);return}const Xe=await du(Ie.bookId,Ie.songTitle);ze(Xe)},[]),[y,_]=k.useState(!1),[C,O]=k.useState(!1);k.useEffect(()=>{g(v,_),g(x,O)},[v,x,g]);const{isLoading:I,isFetching:R,error:L,data:z}=Ny({queryKey:p,queryFn:MF,staleTime:1/0,gcTime:0,refetchOnMount:!1});cN(({swipe:[Ie]})=>{Ie===1?(console.log("going to prev"),be()):Ie===-1&&(console.log("going to next"),Be())},{axis:"x",filterTaps:!0});const[V,we]=k.useState(!1),[F,ee]=k.useState({x:0,y:0}),[A,le]=k.useState(!1),Oe=k.useRef(null),[M,X]=k.useState(""),[Z,ue]=k.useState(null),G=k.useRef(null),Q=Ie=>{Ie.preventDefault();const ze=window.getSelection(),Xe=(ze==null?void 0:ze.toString().trim())??"";ze&&ze.rangeCount>0&&!ze.getRangeAt(0).collapsed?(X(Xe),ue(ze.getRangeAt(0)),le(!0)):(X(""),ue(null),le(!1)),ee({x:Ie.clientX,y:Ie.clientY}),le(!!M),we(!0)};k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[i]),k.useEffect(()=>{const Ie=ze=>{Oe.current&&!Oe.current.contains(ze.target)&&we(!1)};return V?window.addEventListener("mousedown",Ie):window.removeEventListener("mousedown",Ie),()=>{window.removeEventListener("mousedown",Ie)}},[V]),k.useEffect(()=>{i.state||window.location.pathname.startsWith("/sankeertan")},[i,t]),k.useEffect(()=>{const Ie=ze=>{Oe.current&&!Oe.current.contains(ze.target)&&we(!1)};return V&&document.addEventListener("mousedown",Ie),()=>{document.removeEventListener("mousedown",Ie)}},[V]);const ye=()=>{const Ie=window.location.href;navigator.clipboard.writeText(Ie).then(()=>{console.log("URL copied to clipboard:",Ie),Ri.success("URL copied to clipboard!")}).catch(ze=>{console.error("Failed to copy URL: ",ze)})},he=k.useRef(null);function fe(Ie){const xn=new DOMParser().parseFromString(Ie,"text/html").querySelectorAll("tr");let hn="";return xn.forEach(De=>{const Or=De.querySelectorAll("td, th"),Qn=[];Or.forEach(Si=>{var hr;let Ce=Si.innerHTML;Ce=Ce.replace(/<\/p>\s*<p>/gi,`
`),Ce=Ce.replace(/<p>|<\/p>/gi,""),Ce=Ce.replace(/<br\s*\/?>/gi,`
`);const Yr=document.createElement("div");Yr.innerHTML=Ce;const Rr=((hr=Yr.textContent)==null?void 0:hr.trim())||"";Qn.push(Rr)}),hn+=Qn.join(" | ")+`

`}),hn.trim()}const Fe=()=>{if(!Z||Z.collapsed){console.warn("No valid selection range to highlight.");return}const Ie=document.createElement("span");Ie.className="highlighted-text";try{Z.surroundContents(Ie),console.log("Text highlighted successfully!")}catch(ze){console.error("Failed to highlight text:",ze)}ue(null)},We=(Ie=!1)=>{if(he.current){const ze=he.current.innerHTML;let Xe="radhekrishna!!";Ie?Xe=ze:ze.includes("<table")?Xe=fe(ze):Xe=he.current.textContent||"radhekrishna!!",navigator.clipboard.writeText(Xe).then(()=>{console.log("Song content copied to clipboard:"),Ri.success("Song content copied to clipboard!")}).catch(xn=>{console.error("Failed to copy song: ",xn)})}},Be=()=>{if(l&&u!==void 0&&u<l.length-1){const Ie=u+1,ze=l[Ie];sessionStorage.setItem("lastClickedSongIndex",Ie.toString()),s(`/details/book/${e}/${t}/${ze.sourceRow}/${encodeURIComponent(ze.songTitle)}`,{state:{filteredSongIndices:l,index:Ie},replace:!0})}},be=()=>{if(l&&u!==void 0&&u>0){const Ie=u-1,ze=l[Ie];sessionStorage.setItem("lastClickedSongIndex",Ie.toString()),s(`/details/book/${e}/${t}/${ze.sourceRow}/${encodeURIComponent(ze.songTitle)}`,{state:{filteredSongIndices:l,index:Ie},replace:!0})}},ct=u===0,rt=u===(l==null?void 0:l.length)-1,He=l&&l.length>0,Ft=async Ie=>{if(M){const ze=await fetch(`${La}?mode=api&apiname=reportmistakeinsongtext&book=${t}&sourcerow=${n}&songtitle=${r}&text=${M}&sessionuser=${Ie}`);if(!ze.ok){const xn=await ze.json();throw new Error(`Failed to fetch song details for book ${t}+row ${n}: ${ze.status} - ${JSON.stringify(xn)}`)}const Xe=await ze.json();Ri.success(`Issue/Mistake is reported as ${Xe[1]}!!`)}else console.log("No text was selected.")},P=async()=>{t&&r?(await WI(t,f),console.log("IndexedDB cache cleared. Data will be reloaded from the server."),c.invalidateQueries({queryKey:p})):console.warn("Cannot reload song: bookId or songTitle is missing.")},pe=async Ie=>{switch(we(!1),Ie){case"broadcast":r&&_e();break;case"copyPageUrl":ye();break;case"CopySongAsHtml":We(!0);break;case"CopySongAsText":We(!1);break;case"ReportMistake":Ft(a);break;case"Copy":if(M)try{await navigator.clipboard.writeText(M),Ri.success("Text copied!")}catch(ze){console.error("Failed to copy text: ",ze),Ri.error("Failed to copy text.")}break;case"Highlight":Fe();break}},ce=k.useMemo(()=>E.jsx(H3.div,{ref:Oe,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.1},style:{position:"fixed",top:F.y,left:F.x,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)",zIndex:10,minWidth:"150px"},onClick:Ie=>Ie.stopPropagation(),children:E.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:A?E.jsxs(E.Fragment,{children:[E.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>pe("Copy"),children:"Copy Selected"}),E.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>pe("ReportMistake"),children:"Report Mistake"})]}):E.jsx(E.Fragment,{children:E.jsxs("div",{style:{borderTop:"1px solid #eee",marginTop:"8px",paddingTop:"8px"},children:[E.jsx("li",{style:{padding:"6px 12px",color:"#666"},children:"**Change Language**"}),aC.map(Ie=>E.jsx("li",{style:{padding:"6px 12px",cursor:"pointer",fontWeight:Ie.code===m?"bold":"normal",backgroundColor:Ie.code===m?"#f0f0f0":"transparent"},onClick:()=>Re(Ie),children:Ie.name},Ie.code))]})})})},"context-menu"),[A,F,m]),[$,N]=k.useState(!1),[ne,me]=k.useState(null),[ge,oe]=k.useState(!0),_e=k.useCallback(async()=>{if($){console.warn("isBroadcasting already");return}if(!ge){Ri.error("Cannot do repeat Broadcast... Pls check if song has changed");return}if(he.current){N(!0),me("broadcasting");try{const Ie=he.current.innerHTML,ze=await $F(Ie);N(!1),me("success"),Ri.success("Broadcast was successful!"),oe(!1),setTimeout(()=>me(null),2e3)}catch(Ie){console.error("Broadcast failed:",Ie),Ri.error("Broadcast had errors!"),N(!1),me("error"),setTimeout(()=>me(null),3e3)}}else console.warn("broadcastContentRef.current is null. Cannot broadcast content."),me("failed"),N(!1)},[he,$,ge]);k.useEffect(()=>{oe(!0)},[z]),k.useEffect(()=>{z&&z.length>=3&&t&&f&&n&&(g(v,_),g(x,O))},[z,t,f,n,v,x,g]);const Re=Ie=>{b(Ie.code),we(!1)},xe={backgroundColor:"green",color:"white"},Me={backgroundColor:"brown",color:"white"};if(I&&!z)return E.jsx("div",{style:LF,children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[E.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),E.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),E.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),E.jsx("p",{style:{marginLeft:"10px"},children:"Loading song text..."})]})});if(L)return E.jsxs("div",{children:["Error loading song details: ",L.message]});if(!z)return E.jsx("div",{children:"No song details available. Please try reloading."});const tt=document.getElementById("context-menu-root");return E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},ref:G,children:[E.jsx(Fy,{}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[E.jsx("button",{onClick:be,disabled:ct||!He,style:{...cl,...ct||!He?dl:{},...y?xe:Me},children:" Prev"}),E.jsx("button",{onClick:Be,disabled:rt||!He,style:{...cl,...rt||!He?dl:{},...C?xe:Me,marginRight:0},children:"Next "})]})]}),E.jsxs("div",{className:"song-details-container select-text",style:{paddingBottom:"60px",paddingLeft:"20px",cursor:"pointer",userSelect:"auto"},onContextMenu:Q,children:[E.jsx("div",{ref:he,children:z&&E.jsx(yD,{data:z[0],className:"my-4",highlightColor:"bg-blue-50",striped:!0,hoverEffect:!1,wrapColumns:[1,2,3],maxWidth:"max-w-6xl",preferredLanguage:m,sourceLanguage:z[2]})}),E.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",backgroundColor:"#fff",borderTop:"1px solid #ccc",padding:"10px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",zIndex:1e3},children:[E.jsxs("div",{children:[E.jsx("button",{onClick:be,disabled:ct||!He,style:{...cl,...ct||!He?dl:{},...y?xe:Me},children:" Prev"}),E.jsx("button",{onClick:Be,disabled:rt||!He,style:{...cl,...rt||!He?dl:{},...C?xe:Me,marginRight:0},children:"Next "})]}),E.jsxs("div",{children:[E.jsx("button",{onClick:P,style:{marginRight:"10px"},title:"Reload from Server",children:""}),E.jsx("button",{onClick:ye,style:{marginRight:"10px"},title:"Copy URL",children:""}),E.jsx("button",{onClick:()=>We(!1),style:{marginRight:"10px"},title:"Copy Content",children:""}),E.jsx("button",{onClick:_e,disabled:!ge,style:{...cl,...ge?{}:dl},title:"Broadcast",children:""})]})]}),E.jsx("style",{children:`
          .highlighted-text {
            background-color: #ffeb3b; /* Yellow background */
            padding: 2px 4px;
            border-radius: 4px;
          }
        `}),V&&tt&&BA.createPortal(E.jsx(h$,{children:ce}),tt)]})]})}const BF=({broadcastId:e,session:t,shouldSyncContent:n,shouldSyncScroll:r,onContentUpdated:i,onScrollPositionUpdated:s})=>{const o=k.useRef(null);return k.useEffect(()=>{if(!(t!=null&&t.access_token)||!e){console.log("No access token or broadcast ID, not subscribing to sankeertan updates."),o.current&&(o.current.unsubscribe(),o.current=null);return}return o.current=dn.channel(`broadcast:${e}`),o.current.on("postgres_changes",{event:"UPDATE",schema:"public",table:"sankeertan",filter:`id=eq.${e}`},a=>{a.new&&"content"in a.new&&n&&i(a.new.content),a.new&&"scroll_position"in a.new&&a.new.scroll_position!==null&&r&&s(a.new.scroll_position)}).subscribe(a=>{a==="SUBSCRIBED"?console.log(`Successfully subscribed to sankeertan updates for broadcast: ${e}`):a==="CHANNEL_ERROR"?console.error(`Error subscribing to sankeertan updates for broadcast ${e}:`,a):a==="TIMED_OUT"?console.warn(`Subscription timed out for broadcast ${e}:`,a):a==="CLOSED"&&console.warn(`Subscription closed for broadcast ${e}:`,a)}),()=>{o.current&&(o.current.unsubscribe(),o.current=null)}},[e,t==null?void 0:t.access_token,n,r,i,s]),null},UF=({broadcastId:e})=>{const[t,n]=k.useState(null),[r,i]=k.useState(null),s=k.useRef(null),[o,a]=k.useState(null),[l,u]=k.useState(!0),[c,f]=k.useState(!0),[p,m]=k.useState(!0),[b,v]=k.useState(null),{preferredLanguage:x}=Ba();k.useEffect(()=>{dn.auth.getSession().then(({data:{session:C}})=>{a(C)}),dn.auth.onAuthStateChange((C,O)=>{a(O)})},[]);const g=k.useCallback(async()=>{m(!0),v(null);try{const{data:C,error:O}=await dn.from("sankeertan").select("content, scroll_position").eq("id",e).single();if(O)console.error("Error fetching broadcast data:",O),v(O.message);else if(C){const I=C.content??"";let R=Wd(I,"devanagari",x);n(R)}}finally{m(!1)}},[e,x]);k.useEffect(()=>{o&&e&&g()},[o,e,g]),k.useEffect(()=>{if(r&&s.current){const C=s.current.querySelector(`#trRowAsAnchor-${r}`);C&&C.scrollIntoView({block:"start"}),i(null)}},[r,s]);const y=C=>{C=Wd(C??"","devanagari",x),n(C)},_=C=>{i(`#trRowAsAnchor-${C}`)};return E.jsxs("div",{children:[E.jsx("h2",{children:"Sankeertan Content"}),E.jsx("div",{ref:s,children:t&&E.jsx("div",{dangerouslySetInnerHTML:{__html:t}})}),o&&E.jsx(BF,{broadcastId:e,session:o,shouldSyncContent:l,shouldSyncScroll:c,onContentUpdated:y,onScrollPositionUpdated:_})]})},fl=(e,t)=>{const n=new Set;return e.forEach(r=>{const i=r[t];Array.isArray(i)?i.forEach(s=>{typeof s=="string"&&n.add(s)}):typeof i=="string"&&n.add(i)}),Array.from(n).sort()},zF=[{category:["Spiritual","Sampradaya"],book:["Divine Verses","Speech by Swami"],bookId:"book-1",categoryId:"category-1",title:"Gayatri Mantra",author:"Vishwamitra",language:"Sanskrit",type:"Shloka",sourceRow:0,indexPositionForNavigation:0},{category:["Spiritual","Sampradaya"],book:["Divine Verses","Speech by Swami"],bookId:"book-2",categoryId:"category-1",title:"Maha Mrityunjaya Mantra",author:["Markandeya","Vyaasa"],language:"Sanskrit",type:"Shloka",sourceRow:1,indexPositionForNavigation:0},{category:"Folk",book:"Singing Stories",bookId:"book-3",categoryId:"category-2",title:"Oh Carolina",author:"Folklore",language:["English","German"],type:"Audio",sourceRow:0,indexPositionForNavigation:0},{category:"Folk",book:"Singing Stories",bookId:"book-4",categoryId:"category-2",title:"Home is a feeling",author:"Alan Tofson",language:["English","Italian"],type:["Audio","Video"],sourceRow:1,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-5",categoryId:"category-3",title:"Ode to Joy",author:["Ludwig van Beethoven"],language:"German",type:"Audio",sourceRow:0,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-6",categoryId:"category-3",title:"Fr Elise",author:["Ludwig van Beethoven"],language:"German",type:"Audio",sourceRow:1,indexPositionForNavigation:0},{category:"Classical",book:"Symphonies of the Sea",bookId:"book-7",categoryId:"category-3",title:"The Four Seasons",author:"Antonio Vivaldi",language:"Italian",type:"Audio",sourceRow:2,indexPositionForNavigation:0},{category:"Spiritual",book:"The Wisdom of Rumi",bookId:"book-8",categoryId:"category-1",title:"The Guest House",author:"Rumi",language:"English",type:"Audio",sourceRow:2,indexPositionForNavigation:0}],VF=()=>{const e=[],t=[];try{const n=localStorage.getItem("sankeertan_categories_data");if(!n)return t.push("No data found for 'sankeertan_categories_data'. Returning empty list."),{localSongs:e,debugInfo:t};t.push("'sankeertan_categories_data' found.");const r=JSON.parse(n);if(!r||!Array.isArray(r.data))return t.push("Error: 'sankeertan_categories_data' is not a valid JSON array."),{localSongs:e,debugInfo:t};r.data.forEach(i=>{const s=i.name,o=i.name;i.books&&Array.isArray(i.books)&&i.books.forEach(a=>{const l=a.bookName,u=a.bookId,c=`sankeertan_song_indices-${u}`,f=localStorage.getItem(c);if(f){t.push(`Found song indices for key: '${c}'.`);try{const p=JSON.parse(f);p&&Array.isArray(p.data)?p.data.forEach(m=>{if(m.songTitle){const b=`sankeertan_song_details-${u}-${encodeURIComponent(m.songTitle)}`,v=!!localStorage.getItem(b);t.push(`Checking availability for '${m.songTitle}': ${v?"Available":"Not Available"}`),e.push({category:s,categoryId:o,book:l,bookId:u,title:m.songTitle,author:"Unknown",language:"Unknown",type:"Unknown",sourceRow:m.sourceRow,indexPositionForNavigation:m.indexPositionForNavigation,isAvailable:v})}}):t.push(`Error parsing indices for key: '${c}'. Invalid format.`)}catch(p){const m=p instanceof Error?p.message:String(p);t.push(`Error parsing data for key: '${c}': ${m}`)}}else t.push(`No song indices found for key: '${c}'.`)})})}catch(n){const r=n instanceof Error?n.message:String(n);return t.push(`General error processing localStorage: ${r}`),{localSongs:e,debugInfo:t}}return t.push(`Total songs loaded from local storage: ${e.length}.`),{localSongs:e,debugInfo:t}},KF=()=>{const[e,t]=k.useState(""),[n,r]=k.useState({}),[i,s]=k.useState([]),[o,a]=k.useState([]),[l,u]=k.useState([]),[c,f]=k.useState("cards"),[p,m]=k.useState(!0),[b,v]=k.useState([]),[x,g]=k.useState(!1),y=jr(),[_,C]=k.useState({category:!0,book:!0,title:!0,author:!0,language:!0,type:!0});k.useEffect(()=>{m(!0);const{localSongs:M,debugInfo:X}=VF();v(X),M.length>0?s(M):s(zF),m(!1)},[]),k.useEffect(()=>{(()=>{let X=i;if(e){const ue=e.toLowerCase();X=X.filter(G=>Object.values(G).filter(ye=>ye!==void 0).map(ye=>Array.isArray(ye)?ye.join(" "):String(ye)).join(" ").toLowerCase().includes(ue))}Object.entries(n).forEach(([ue,G])=>{G&&G.length>0&&(X=X.filter(Q=>{const ye=Q[ue],fe=Array.isArray(ye)?ye.map(Fe=>String(Fe).toLowerCase()):[String(ye).toLowerCase()];return G.every(Fe=>{const We=Fe.value.toLowerCase(),Be=fe.includes(We);return Fe.isNot?!Be:Be})}))}),a(X);const Z=X.map(ue=>({indexPositionForNavigation:ue.indexPositionForNavigation,sourceRow:ue.sourceRow,songTitle:Array.isArray(ue.title)?ue.title.join(", "):ue.title}));u(Z)})()},[e,n,i]);const O=(M,X)=>{r(Z=>{const ue=Z[M]||[],G=ue.find(Q=>Q.value===X);if(G)if(G.isNot){const Q=ue.filter(ye=>ye.value!==X);if(Q.length===0){const ye={...Z};return delete ye[M],ye}return{...Z,[M]:Q}}else return{...Z,[M]:ue.map(Q=>Q.value===X?{...Q,isNot:!0}:Q)};else return{...Z,[M]:[...ue,{value:X,isNot:!1}]}})},I=()=>{r({})},R=(M,X)=>{const Z=Array.isArray(M.title)?M.title.join(", "):M.title;y(`/details/book/${M.category}/${M.bookId}/${M.sourceRow}/${encodeURIComponent(Z)}`,{state:{filteredSongIndices:l,index:X}})},L=M=>{C(X=>({...X,[M]:!X[M]}))},z=fl(o,"author"),V=fl(o,"language"),we=fl(o,"type"),F=fl(o,"book"),ee=fl(o,"category"),A={category:new Set,book:new Set,title:new Set,author:new Set,language:new Set,type:new Set};e.length>0&&i.forEach(M=>{Object.entries(M).forEach(([X,Z])=>{var ue;Array.isArray(Z)?Z.forEach(G=>{var Q;typeof G=="string"&&G.toLowerCase().includes(e.toLowerCase())&&((Q=A[X])==null||Q.add(G))}):typeof Z=="string"&&Z.toLowerCase().includes(e.toLowerCase())&&((ue=A[X])==null||ue.add(Z))})});const le=(M,X)=>o.filter(Z=>{const ue=Z[M];return Array.isArray(ue)?ue.includes(X):ue===X}).length,Oe=(M,X)=>{var ue;const Z=(ue=n[M])==null?void 0:ue.find(G=>G.value===X);return Z?Z.isNot?"bg-red-500 text-white":"bg-teal-500 text-white":"hover:bg-gray-600"};return E.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4 font-sans flex flex-col items-center",children:E.jsxs("div",{className:"w-full max-w-4xl bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-center mb-2 text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-sky-500",children:"Progressive Search"}),E.jsx("div",{className:"mb-6 text-center",children:E.jsx("button",{onClick:()=>g(!x),className:"px-5 py-2 rounded-full font-semibold bg-gray-700 text-gray-400 hover:bg-gray-600 transition-colors text-sm",children:x?"Hide Debug Panel":"Show Debug Panel"})}),x&&E.jsxs("div",{className:"bg-gray-700 p-4 rounded-xl mb-6",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-300 mb-2",children:"Debug Log (Local Storage)"}),E.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside",children:b.map((M,X)=>E.jsx("li",{className:"mb-1",children:M},X))})]}),E.jsxs("div",{className:"relative mb-6",children:[E.jsx("input",{type:"text",placeholder:"Search by title, author, book, language...",className:"w-full px-5 py-3 rounded-xl bg-gray-700 text-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-all",value:e,onChange:M=>t(M.target.value)}),e&&Object.values(A).some(M=>M.size>0)&&E.jsx("div",{className:"absolute z-10 w-full mt-2 bg-gray-700 rounded-xl shadow-lg border border-gray-600 max-h-64 overflow-y-auto",children:Object.entries(A).map(([M,X])=>X&&X.size>0&&E.jsxs("div",{className:"p-3",children:[E.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-1",children:M}),Array.from(X).map((Z,ue)=>E.jsx("button",{className:"w-full text-left px-3 py-2 text-sm rounded-lg hover:bg-teal-500 hover:text-white transition-colors",onClick:()=>{t(""),O(M,Z)},children:Z},ue))]},M))})]}),Object.keys(n).some(M=>{const X=n[M];return X&&X.length>0})&&E.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[E.jsx("span",{className:"text-sm text-gray-400 mr-2",children:"Filters:"}),Object.entries(n).map(([M,X])=>X==null?void 0:X.map((Z,ue)=>E.jsxs("span",{className:`${Z.isNot?"bg-red-500":"bg-teal-500"} text-white text-sm px-3 py-1 rounded-full flex items-center gap-1`,children:[E.jsxs("span",{className:"font-semibold",children:[M,":"]})," ",Z.value,E.jsx("button",{onClick:()=>O(M,Z.value),className:"ml-1 text-white hover:text-gray-200 transition-colors",children:""})]},`${M}-${ue}`))),E.jsx("button",{onClick:I,className:"text-sm text-gray-400 hover:text-white transition-colors ml-auto",children:"Clear All Filters"})]}),p?E.jsx("div",{className:"text-center py-8",children:E.jsx("p",{className:"text-gray-400",children:"Loading songs from local storage..."})}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid gap-4 mb-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[E.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[E.jsxs("button",{onClick:()=>L("category"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Category",E.jsx("span",{className:`transform transition-transform duration-300 ${_.category?"":"rotate-180"}`,children:""})]}),E.jsx("div",{className:`overflow-hidden transition-all duration-300 ${_.category?"max-h-0":"max-h-96"}`,children:E.jsx("div",{className:"p-4 pt-0",children:ee.map(M=>E.jsxs("button",{onClick:()=>O("category",M),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("category",M)}`,children:[E.jsx("span",{children:M}),E.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:le("category",M)})]},M))})})]}),E.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[E.jsxs("button",{onClick:()=>L("book"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Book",E.jsx("span",{className:`transform transition-transform duration-300 ${_.book?"":"rotate-180"}`,children:""})]}),E.jsx("div",{className:`overflow-hidden transition-all duration-300 ${_.book?"max-h-0":"max-h-96"}`,children:E.jsx("div",{className:"p-4 pt-0",children:F.map(M=>E.jsxs("button",{onClick:()=>O("book",M),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("book",M)}`,children:[E.jsx("span",{children:M}),E.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:le("book",M)})]},M))})})]}),E.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[E.jsxs("button",{onClick:()=>L("author"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Author",E.jsx("span",{className:`transform transition-transform duration-300 ${_.author?"":"rotate-180"}`,children:""})]}),E.jsx("div",{className:`overflow-hidden transition-all duration-300 ${_.author?"max-h-0":"max-h-96"}`,children:E.jsx("div",{className:"p-4 pt-0",children:z.map(M=>E.jsxs("button",{onClick:()=>O("author",M),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("author",M)}`,children:[E.jsx("span",{children:M}),E.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:le("author",M)})]},M))})})]}),E.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[E.jsxs("button",{onClick:()=>L("language"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Language",E.jsx("span",{className:`transform transition-transform duration-300 ${_.language?"":"rotate-180"}`,children:""})]}),E.jsx("div",{className:`overflow-hidden transition-all duration-300 ${_.language?"max-h-0":"max-h-96"}`,children:E.jsx("div",{className:"p-4 pt-0",children:V.map(M=>E.jsxs("button",{onClick:()=>O("language",M),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("language",M)}`,children:[E.jsx("span",{children:M}),E.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:le("language",M)})]},M))})})]}),E.jsxs("div",{className:"bg-gray-700 rounded-xl",children:[E.jsxs("button",{onClick:()=>L("type"),className:"w-full text-left px-4 py-3 text-md font-semibold flex justify-between items-center hover:bg-gray-600 transition-colors rounded-t-xl",children:["Type",E.jsx("span",{className:`transform transition-transform duration-300 ${_.type?"":"rotate-180"}`,children:""})]}),E.jsx("div",{className:`overflow-hidden transition-all duration-300 ${_.type?"max-h-0":"max-h-96"}`,children:E.jsx("div",{className:"p-4 pt-0",children:we.map(M=>E.jsxs("button",{onClick:()=>O("type",M),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors ${Oe("type",M)}`,children:[E.jsx("span",{children:M}),E.jsx("span",{className:"text-xs font-medium text-gray-400 ml-2",children:le("type",M)})]},M))})})]})]}),E.jsxs("div",{className:"mt-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("h2",{className:"text-xl font-bold",children:["Results (",o.length,")"]}),E.jsxs("div",{className:"flex gap-2 text-sm",children:[E.jsx("button",{onClick:()=>f("cards"),className:`px-3 py-1 rounded-full font-semibold transition-colors ${c==="cards"?"bg-sky-500 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Cards"}),E.jsx("button",{onClick:()=>f("grid"),className:`px-3 py-1 rounded-full font-semibold transition-colors ${c==="grid"?"bg-sky-500 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Table"})]})]}),o.length===0?E.jsx("p",{className:"text-gray-400 text-center py-8",children:"No songs match your search and filter criteria."}):E.jsx(E.Fragment,{children:c==="cards"?E.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:o.map((M,X)=>E.jsxs("div",{onClick:()=>R(M,X),className:`bg-gray-700 p-4 rounded-xl shadow-md transition-transform hover:scale-105 cursor-pointer border-2 ${M.isAvailable?"border-teal-500":"border-red-500"}`,children:[E.jsx("h3",{className:"text-lg font-bold text-teal-400",children:Array.isArray(M.title)?M.title.join(", "):M.title}),E.jsxs("p",{className:"text-sm text-gray-300",children:[E.jsx("span",{className:"font-semibold",children:"Author:"})," ",Array.isArray(M.author)?M.author.join(", "):M.author]}),E.jsxs("p",{className:"text-sm text-gray-300",children:[E.jsx("span",{className:"font-semibold",children:"Book:"})," ",Array.isArray(M.book)?M.book.join(", "):M.book]}),E.jsxs("p",{className:"text-sm text-gray-300",children:[E.jsx("span",{className:"font-semibold",children:"Category:"})," ",Array.isArray(M.category)?M.category.join(", "):M.category]}),E.jsxs("p",{className:"text-sm text-gray-300",children:[E.jsx("span",{className:"font-semibold",children:"Language:"})," ",Array.isArray(M.language)?M.language.join(", "):M.language]}),E.jsxs("p",{className:"text-sm text-gray-300",children:[E.jsx("span",{className:"font-semibold",children:"Type:"})," ",Array.isArray(M.type)?M.type.join(", "):M.type]})]},X))}):E.jsx("div",{className:"overflow-x-auto rounded-xl",children:E.jsxs("div",{className:"min-w-full",children:[E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-2 p-4 text-sm font-semibold text-gray-400 uppercase tracking-wider bg-gray-700 border-b border-gray-600 rounded-t-xl",children:[E.jsx("span",{children:"Title"}),E.jsx("span",{className:"hidden md:block",children:"Author"}),E.jsx("span",{className:"hidden md:block",children:"Book"}),E.jsx("span",{className:"hidden md:block",children:"Category"}),E.jsx("span",{className:"hidden md:block",children:"Language"}),E.jsx("span",{className:"hidden md:block",children:"Type"})]}),E.jsx("div",{className:"bg-gray-700",children:o.map((M,X)=>E.jsxs("div",{onClick:()=>R(M,X),className:`grid grid-cols-2 md:grid-cols-6 gap-2 p-4 text-sm border-b transition-colors cursor-pointer hover:bg-gray-600 ${M.isAvailable?"border-teal-500":"border-gray-500"}`,children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Title:"}),E.jsx("span",{children:Array.isArray(M.title)?M.title.join(", "):M.title})]}),E.jsxs("div",{className:"hidden md:flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Author:"}),E.jsx("span",{children:Array.isArray(M.author)?M.author.join(", "):M.author})]}),E.jsxs("div",{className:"hidden md:flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Book:"}),E.jsx("span",{children:Array.isArray(M.book)?M.book.join(", "):M.book})]}),E.jsxs("div",{className:"hidden md:flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Category:"}),E.jsx("span",{children:Array.isArray(M.category)?M.category.join(", "):M.category})]}),E.jsxs("div",{className:"hidden md:flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Language:"}),E.jsx("span",{children:Array.isArray(M.language)?M.language.join(", "):M.language})]}),E.jsxs("div",{className:"hidden md:flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-400 md:hidden",children:"Type:"}),E.jsx("span",{children:Array.isArray(M.type)?M.type.join(", "):M.type})]})]},X))})]})})})]})]})]})})};function Kc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var f=typeof Kc=="function"&&Kc;if(!c&&f)return f(u,!0);if(a)return a(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[u]={exports:{}};r[u][0].call(m.exports,function(b){var v=r[u][1][b];return o(v||b)},m,m.exports,n,r,i,s)}return i[u].exports}for(var a=typeof Kc=="function"&&Kc,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,f,p,m,b,v,x=[],g=0,y=l.length,_=y,C=s.getTypeOf(l)!=="string";g<l.length;)_=y-g,f=C?(u=l[g++],c=g<y?l[g++]:0,g<y?l[g++]:0):(u=l.charCodeAt(g++),c=g<y?l.charCodeAt(g++):0,g<y?l.charCodeAt(g++):0),p=u>>2,m=(3&u)<<4|c>>4,b=1<_?(15&c)<<2|f>>6:64,v=2<_?63&f:64,x.push(a.charAt(p)+a.charAt(m)+a.charAt(b)+a.charAt(v));return x.join("")},i.decode=function(l){var u,c,f,p,m,b,v=0,x=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var y,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&_--,l.charAt(l.length-2)===a.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|_):new Array(0|_);v<l.length;)u=a.indexOf(l.charAt(v++))<<2|(p=a.indexOf(l.charAt(v++)))>>4,c=(15&p)<<4|(m=a.indexOf(l.charAt(v++)))>>2,f=(3&m)<<6|(b=a.indexOf(l.charAt(v++))),y[x++]=u,m!==64&&(y[x++]=c),b!==64&&(y[x++]=f);return y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,f,p,m,b){this.compressedSize=c,this.uncompressedSize=f,this.crc32=p,this.compression=m,this.compressedContent=b}u.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,p){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,c,f,p){var m=o,b=p+f;u^=-1;for(var v=p;v<b;v++)u=u>>>8^m[255&(u^c[v])];return-1^u}(0|l,a,a.length,0):function(u,c,f,p){var m=o,b=p+f;u^=-1;for(var v=p;v<b;v++)u=u>>>8^m[255&(u^c.charCodeAt(v))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=s?"uint8array":"array";function c(f,p){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(m,b){var v,x="";for(v=0;v<b;v++)x+=String.fromCharCode(255&m),m>>>=8;return x}function o(m,b,v,x,g,y){var _,C,O=m.file,I=m.compression,R=y!==u.utf8encode,L=a.transformTo("string",y(O.name)),z=a.transformTo("string",u.utf8encode(O.name)),V=O.comment,we=a.transformTo("string",y(V)),F=a.transformTo("string",u.utf8encode(V)),ee=z.length!==O.name.length,A=F.length!==V.length,le="",Oe="",M="",X=O.dir,Z=O.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};b&&!v||(ue.crc32=m.crc32,ue.compressedSize=m.compressedSize,ue.uncompressedSize=m.uncompressedSize);var G=0;b&&(G|=8),R||!ee&&!A||(G|=2048);var Q=0,ye=0;X&&(Q|=16),g==="UNIX"?(ye=798,Q|=function(fe,Fe){var We=fe;return fe||(We=Fe?16893:33204),(65535&We)<<16}(O.unixPermissions,X)):(ye=20,Q|=function(fe){return 63&(fe||0)}(O.dosPermissions)),_=Z.getUTCHours(),_<<=6,_|=Z.getUTCMinutes(),_<<=5,_|=Z.getUTCSeconds()/2,C=Z.getUTCFullYear()-1980,C<<=4,C|=Z.getUTCMonth()+1,C<<=5,C|=Z.getUTCDate(),ee&&(Oe=s(1,1)+s(c(L),4)+z,le+="up"+s(Oe.length,2)+Oe),A&&(M=s(1,1)+s(c(we),4)+F,le+="uc"+s(M.length,2)+M);var he="";return he+=`
\0`,he+=s(G,2),he+=I.magic,he+=s(_,2),he+=s(C,2),he+=s(ue.crc32,4),he+=s(ue.compressedSize,4),he+=s(ue.uncompressedSize,4),he+=s(L.length,2),he+=s(le.length,2),{fileRecord:f.LOCAL_FILE_HEADER+he+L+le,dirRecord:f.CENTRAL_FILE_HEADER+s(ye,2)+he+s(we.length,2)+"\0\0\0\0"+s(Q,4)+s(x,4)+L+le+we}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),f=n("../signature");function p(m,b,v,x){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=v,this.encodeFileName=x,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,l),p.prototype.push=function(m){var b=m.meta.percent||0,v=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:v?(b+100*(v-x-1))/v:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var b=this.streamFiles&&!m.file.dir;if(b){var v=o(m,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var b=this.streamFiles&&!m.file.dir,v=o(m,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),b)this.push({data:function(x){return f.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var v=this.bytesWritten-m,x=function(g,y,_,C,O){var I=a.transformTo("string",O(C));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(y,4)+s(_,4)+s(I.length,2)+I}(this.dirRecords.length,v,m,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var b=this;return m.on("data",function(v){b.processChunk(v)}),m.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),m.on("error",function(v){b.error(v)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var b=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var v=0;v<b.length;v++)try{b[v].error(m)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,b=0;b<m.length;b++)m[b].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{a.forEach(function(p,m){f++;var b=function(y,_){var C=y||_,O=s[C];if(!O)throw new Error(C+" is not a valid compression method !");return O}(m.options.compression,l.compression),v=m.options.compressionOptions||l.compressionOptions||{},x=m.dir,g=m.date;m._compressWorker(b,v).withStreamInfo("file",{name:p,dir:x,date:g,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(p){c.error(p)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function f(p){return new o.Promise(function(m,b){var v=p.decompressed.getContentWorker().pipe(new u);v.on("error",function(x){b(x)}).on("end",function(){v.streamInfo.crc32!==p.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var b=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(v){var x=new l(m);return x.load(v),x}).then(function(v){var x=[o.Promise.resolve(v)],g=v.files;if(m.checkCRC32)for(var y=0;y<g.length;y++)x.push(f(g[y]));return o.Promise.all(x)}).then(function(v){for(var x=v.shift(),g=x.files,y=0;y<g.length;y++){var _=g[y],C=_.fileNameStr,O=s.resolve(_.fileNameStr);b.file(O,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:m.createFolders}),_.dir||(b.file(O).unsafeOriginalName=C)}return x.zipComment.length&&(b.comment=x.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var c=this;a.on("data",function(f,p){c.push(f)||c._helper.pause(),u&&u(p)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(O,I,R){var L,z=a.getTypeOf(I),V=a.extend(R||{},c);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(O=g(O)),V.createFolders&&(L=x(O))&&y.call(this,L,!0);var we=z==="string"&&V.binary===!1&&V.base64===!1;R&&R.binary!==void 0||(V.binary=!we),(I instanceof f&&I.uncompressedSize===0||V.dir||!I||I.length===0)&&(V.base64=!1,V.binary=!0,I="",V.compression="STORE",z="string");var F=null;F=I instanceof f||I instanceof l?I:b.isNode&&b.isStream(I)?new v(O,I):a.prepareContent(O,I,V.binary,V.optimizedBinaryString,V.base64);var ee=new p(O,F,V);this.files[O]=ee}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),f=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),b=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),x=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var I=O.lastIndexOf("/");return 0<I?O.substring(0,I):""},g=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},y=function(O,I){return I=I!==void 0?I:c.createFolders,O=g(O),this.files[O]||s.call(this,O,null,{dir:!0,createFolders:I}),this.files[O]};function _(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var I,R,L;for(I in this.files)L=this.files[I],(R=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&O(R,L)},filter:function(O){var I=[];return this.forEach(function(R,L){O(R,L)&&I.push(L)}),I},file:function(O,I,R){if(arguments.length!==1)return O=this.root+O,s.call(this,O,I,R),this;if(_(O)){var L=O;return this.filter(function(V,we){return!we.dir&&L.test(V)})}var z=this.files[this.root+O];return z&&!z.dir?z:null},folder:function(O){if(!O)return this;if(_(O))return this.filter(function(z,V){return V.dir&&O.test(z)});var I=this.root+O,R=y.call(this,I),L=this.clone();return L.root=R.name,L},remove:function(O){O=this.root+O;var I=this.files[O];if(I||(O.slice(-1)!=="/"&&(O+="/"),I=this.files[O]),I&&!I.dir)delete this.files[O];else for(var R=this.filter(function(z,V){return V.name.slice(0,O.length)===O}),L=0;L<R.length;L++)delete this.files[R[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var I,R={};try{if((R=a.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");a.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var L=R.comment||this.comment||"";I=m.generateWorker(this,R,L)}catch(z){(I=new l("error")).error(z)}return new u(I,R.type||"string",R.mimeType)},generateAsync:function(O,I){return this.generateInternalStream(O).accumulate(I)},generateNodeStream:function(O,I){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(I)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===u&&this.data[p+2]===c&&this.data[p+3]===f)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),p=this.readData(4);return l===p[0]&&u===p[1]&&c===p[2]&&f===p[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(f){var p=s.getTypeOf(f);return s.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new u(f):o.uint8array?new c(s.transformTo("uint8array",f)):new a(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(b,v){return new c.Promise(function(x,g){var y=[],_=b._internalType,C=b._outputType,O=b._mimeType;b.on("data",function(I,R){y.push(I),v&&v(R)}).on("error",function(I){y=[],g(I)}).on("end",function(){try{var I=function(R,L,z){switch(R){case"blob":return s.newBlob(s.transformTo("arraybuffer",L),z);case"base64":return l.encode(L);default:return s.transformTo(R,L)}}(C,function(R,L){var z,V=0,we=null,F=0;for(z=0;z<L.length;z++)F+=L[z].length;switch(R){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(we=new Uint8Array(F),z=0;z<L.length;z++)we.set(L[z],V),V+=L[z].length;return we;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+R+"'")}}(_,y),O);x(I)}catch(R){g(R)}y=[]}).resume()})}function m(b,v,x){var g=v;switch(v){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=v,this._mimeType=x,s.checkSupport(g),this._worker=b.pipe(new o(g)),b.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}m.prototype={accumulate:function(b){return p(this,b)},on:function(b,v){var x=this;return b==="data"?this._worker.on(b,function(g){v.call(x,g.data,g.meta)}):this._worker.on(b,function(){s.delay(v,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return o.nodebuffer?a.newBufferFrom(m,"utf-8"):function(b){var v,x,g,y,_,C=b.length,O=0;for(y=0;y<C;y++)(64512&(x=b.charCodeAt(y)))==55296&&y+1<C&&(64512&(g=b.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(g-56320),y++),O+=x<128?1:x<2048?2:x<65536?3:4;for(v=o.uint8array?new Uint8Array(O):new Array(O),y=_=0;_<O;y++)(64512&(x=b.charCodeAt(y)))==55296&&y+1<C&&(64512&(g=b.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(g-56320),y++),x<128?v[_++]=x:(x<2048?v[_++]=192|x>>>6:(x<65536?v[_++]=224|x>>>12:(v[_++]=240|x>>>18,v[_++]=128|x>>>12&63),v[_++]=128|x>>>6&63),v[_++]=128|63&x);return v}(m)},i.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(b){var v,x,g,y,_=b.length,C=new Array(2*_);for(v=x=0;v<_;)if((g=b[v++])<128)C[x++]=g;else if(4<(y=u[g]))C[x++]=65533,v+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&v<_;)g=g<<6|63&b[v++],y--;1<y?C[x++]=65533:g<65536?C[x++]=g:(g-=65536,C[x++]=55296|g>>10&1023,C[x++]=56320|1023&g)}return C.length!==x&&(C.subarray?C=C.subarray(0,x):C.length=x),s.applyFromCharCode(C)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(f,l),f.prototype.processChunk=function(m){var b=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=b;(b=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),b.set(v,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var x=function(y,_){var C;for((_=_||y.length)>y.length&&(_=y.length),C=_-1;0<=C&&(192&y[C])==128;)C--;return C<0||C===0?_:C+u[y[C]]>_?C:_}(b),g=b;x!==b.length&&(o.uint8array?(g=b.subarray(0,x),this.leftOver=b.subarray(x,b.length)):(g=b.slice(0,x),this.leftOver=b.slice(x,b.length))),this.push({data:i.utf8decode(g),meta:m.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(p,l),p.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(v){return v}function c(v,x){for(var g=0;g<v.length;++g)x[g]=255&v.charCodeAt(g);return x}n("setimmediate"),i.newBlob=function(v,x){i.checkSupport("blob");try{return new Blob([v],{type:x})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(v),g.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(v,x,g){var y=[],_=0,C=v.length;if(C<=g)return String.fromCharCode.apply(null,v);for(;_<C;)x==="array"||x==="nodebuffer"?y.push(String.fromCharCode.apply(null,v.slice(_,Math.min(_+g,C)))):y.push(String.fromCharCode.apply(null,v.subarray(_,Math.min(_+g,C)))),_+=g;return y.join("")},stringifyByChar:function(v){for(var x="",g=0;g<v.length;g++)x+=String.fromCharCode(v[g]);return x},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(v){var x=65536,g=i.getTypeOf(v),y=!0;if(g==="uint8array"?y=f.applyCanBeUsed.uint8array:g==="nodebuffer"&&(y=f.applyCanBeUsed.nodebuffer),y)for(;1<x;)try{return f.stringifyByChunk(v,g,x)}catch{x=Math.floor(x/2)}return f.stringifyByChar(v)}function m(v,x){for(var g=0;g<v.length;g++)x[g]=v[g];return x}i.applyFromCharCode=p;var b={};b.string={string:u,array:function(v){return c(v,new Array(v.length))},arraybuffer:function(v){return b.string.uint8array(v).buffer},uint8array:function(v){return c(v,new Uint8Array(v.length))},nodebuffer:function(v){return c(v,a.allocBuffer(v.length))}},b.array={string:p,array:u,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return a.newBufferFrom(v)}},b.arraybuffer={string:function(v){return p(new Uint8Array(v))},array:function(v){return m(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:u,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return a.newBufferFrom(new Uint8Array(v))}},b.uint8array={string:p,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:u,nodebuffer:function(v){return a.newBufferFrom(v)}},b.nodebuffer={string:p,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return b.nodebuffer.uint8array(v).buffer},uint8array:function(v){return m(v,new Uint8Array(v.length))},nodebuffer:u},i.transformTo=function(v,x){if(x=x||"",!v)return x;i.checkSupport(v);var g=i.getTypeOf(x);return b[g][v](x)},i.resolve=function(v){for(var x=v.split("/"),g=[],y=0;y<x.length;y++){var _=x[y];_==="."||_===""&&y!==0&&y!==x.length-1||(_===".."?g.pop():g.push(_))}return g.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var x,g,y="";for(g=0;g<(v||"").length;g++)y+="\\x"+((x=v.charCodeAt(g))<16?"0":"")+x.toString(16).toUpperCase();return y},i.delay=function(v,x,g){setImmediate(function(){v.apply(g||null,x||[])})},i.inherits=function(v,x){function g(){}g.prototype=x.prototype,v.prototype=new g},i.extend=function(){var v,x,g={};for(v=0;v<arguments.length;v++)for(x in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],x)&&g[x]===void 0&&(g[x]=arguments[v][x]);return g},i.prepareContent=function(v,x,g,y,_){return l.Promise.resolve(x).then(function(C){return s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(O,I){var R=new FileReader;R.onload=function(L){O(L.target.result)},R.onerror=function(L){I(L.target.error)},R.readAsArrayBuffer(C)}):C}).then(function(C){var O=i.getTypeOf(C);return O?(O==="arraybuffer"?C=i.transformTo("uint8array",C):O==="string"&&(_?C=o.decode(C):g&&y!==!0&&(C=function(I){return c(I,s.uint8array?new Uint8Array(I.length):new Array(I.length))}(C))),C):l.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(f)+")")}},isSignature:function(f,p){var m=this.reader.index;this.reader.setIndex(f);var b=this.reader.readString(4)===p;return this.reader.setIndex(m),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",m=o.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,m,b=this.zip64EndOfCentralSize-44;0<b;)f=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var b=p-m;if(0<b)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),f=n("./support");function p(m,b){this.options=m,this.loadOptions=b}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var b,v;if(m.skip(22),this.fileNameLength=m.readInt(2),v=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(x){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===x)return c[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,b,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var b=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(b),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var b,v,x,g=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<g;)b=m.readInt(2),v=m.readInt(2),x=m.readData(v),this.extraFields[b]={id:b,length:v,value:x};m.setIndex(g)},handleUTF8:function(){var m=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var v=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var g=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var b=s(m.value);return b.readInt(1)!==1||l(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var b=s(m.value);return b.readInt(1)!==1||l(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(b,v,x){this.name=b,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=v,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");s.prototype={internalStream:function(b){var v=null,x="string";try{if(!b)throw new Error("No output type specified.");var g=(x=b.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),v=this._decompressWorker();var y=!this._dataBinary;y&&!g&&(v=v.pipe(new l.Utf8EncodeWorker)),!y&&g&&(v=v.pipe(new l.Utf8DecodeWorker))}catch(_){(v=new c("error")).error(_)}return new o(v,x,"")},async:function(b,v){return this.internalStream(b).accumulate(v)},nodeStream:function(b,v){return this.internalStream(b||"nodebuffer").toNodejsStream(v)},_compressWorker:function(b,v){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(x,b,v)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<f.length;m++)s.prototype[f[m]]=p;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(b),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){b(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(b,0)};else{var p=new s.MessageChannel;p.port1.onmessage=b,o=function(){p.port2.postMessage(0)}}var m=[];function b(){var v,x;a=!0;for(var g=m.length;g;){for(x=m,m=[],v=-1;++v<g;)x[v]();g=m.length}a=!1}r.exports=function(v){m.push(v)!==1||a||o()}}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==o&&v(this,g)}function p(g,y,_){this.promise=g,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function m(g,y,_){s(function(){var C;try{C=y(_)}catch(O){return a.reject(g,O)}C===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,C)})}function b(g){var y=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof y=="function")return function(){y.apply(g,arguments)}}function v(g,y){var _=!1;function C(R){_||(_=!0,a.reject(g,R))}function O(R){_||(_=!0,a.resolve(g,R))}var I=x(function(){y(O,C)});I.status==="error"&&C(I.value)}function x(g,y){var _={};try{_.value=g(y),_.status="success"}catch(C){_.status="error",_.value=C}return _}(r.exports=f).prototype.finally=function(g){if(typeof g!="function")return this;var y=this.constructor;return this.then(function(_){return y.resolve(g()).then(function(){return _})},function(_){return y.resolve(g()).then(function(){throw _})})},f.prototype.catch=function(g){return this.then(null,g)},f.prototype.then=function(g,y){if(typeof g!="function"&&this.state===u||typeof y!="function"&&this.state===l)return this;var _=new this.constructor(o);return this.state!==c?m(_,this.state===u?g:y,this.outcome):this.queue.push(new p(_,g,y)),_},p.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},p.prototype.otherCallFulfilled=function(g){m(this.promise,this.onFulfilled,g)},p.prototype.callRejected=function(g){a.reject(this.promise,g)},p.prototype.otherCallRejected=function(g){m(this.promise,this.onRejected,g)},a.resolve=function(g,y){var _=x(b,y);if(_.status==="error")return a.reject(g,_.value);var C=_.value;if(C)v(g,C);else{g.state=u,g.outcome=y;for(var O=-1,I=g.queue.length;++O<I;)g.queue[O].callFulfilled(y)}return g},a.reject=function(g,y){g.state=l,g.outcome=y;for(var _=-1,C=g.queue.length;++_<C;)g.queue[_].callRejected(y);return g},f.resolve=function(g){return g instanceof this?g:a.resolve(new this(o),g)},f.reject=function(g){var y=new this(o);return a.reject(y,g)},f.all=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,C=!1;if(!_)return this.resolve([]);for(var O=new Array(_),I=0,R=-1,L=new this(o);++R<_;)z(g[R],R);return L;function z(V,we){y.resolve(V).then(function(F){O[we]=F,++I!==_||C||(C=!0,a.resolve(L,O))},function(F){C||(C=!0,a.reject(L,F))})}},f.race=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,C=!1;if(!_)return this.resolve([]);for(var O=-1,I=new this(o);++O<_;)R=g[O],y.resolve(R).then(function(L){C||(C=!0,a.resolve(I,L))},function(L){C||(C=!0,a.reject(I,L))});var R;return I}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,f=0,p=-1,m=0,b=8;function v(g){if(!(this instanceof v))return new v(g);this.options=o.assign({level:p,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},g||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(_!==f)throw new Error(l[_]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var C;if(C=typeof y.dictionary=="string"?a.string2buf(y.dictionary):c.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(_=s.deflateSetDictionary(this.strm,C))!==f)throw new Error(l[_]);this._dict_set=!0}}function x(g,y){var _=new v(y);if(_.push(g,!0),_.err)throw _.msg||l[_.err];return _.result}v.prototype.push=function(g,y){var _,C,O=this.strm,I=this.options.chunkSize;if(this.ended)return!1;C=y===~~y?y:y===!0?4:0,typeof g=="string"?O.input=a.string2buf(g):c.call(g)==="[object ArrayBuffer]"?O.input=new Uint8Array(g):O.input=g,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new o.Buf8(I),O.next_out=0,O.avail_out=I),(_=s.deflate(O,C))!==1&&_!==f)return this.onEnd(_),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(O.output,O.next_out))):this.onData(o.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&_!==1);return C===4?(_=s.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===f):C!==2||(this.onEnd(f),!(O.avail_out=0))},v.prototype.onData=function(g){this.chunks.push(g)},v.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=v,i.deflate=x,i.deflateRaw=function(g,y){return(y=y||{}).raw=!0,x(g,y)},i.gzip=function(g,y){return(y=y||{}).gzip=!0,x(g,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),f=n("./zlib/gzheader"),p=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||v&&v.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,x.windowBits);if(g!==l.Z_OK)throw new Error(u[g]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function b(v,x){var g=new m(x);if(g.push(v,!0),g.err)throw g.msg||u[g.err];return g.result}m.prototype.push=function(v,x){var g,y,_,C,O,I,R=this.strm,L=this.options.chunkSize,z=this.options.dictionary,V=!1;if(this.ended)return!1;y=x===~~x?x:x===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof v=="string"?R.input=a.binstring2buf(v):p.call(v)==="[object ArrayBuffer]"?R.input=new Uint8Array(v):R.input=v,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(L),R.next_out=0,R.avail_out=L),(g=s.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&z&&(I=typeof z=="string"?a.string2buf(z):p.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,g=s.inflateSetDictionary(this.strm,I)),g===l.Z_BUF_ERROR&&V===!0&&(g=l.Z_OK,V=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&g!==l.Z_STREAM_END&&(R.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=a.utf8border(R.output,R.next_out),C=R.next_out-_,O=a.buf2string(R.output,_),R.next_out=C,R.avail_out=L-C,C&&o.arraySet(R.output,R.output,_,C,0),this.onData(O)):this.onData(o.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(V=!0)}while((0<R.avail_in||R.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=m,i.inflate=b,i.inflateRaw=function(v,x){return(x=x||{}).raw=!0,b(v,x)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,f,p){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),p);else for(var m=0;m<f;m++)l[p+m]=u[c+m]},flattenChunks:function(l){var u,c,f,p,m,b;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(b=new Uint8Array(f),u=p=0,c=l.length;u<c;u++)m=l[u],b.set(m,p),p+=m.length;return b}},a={arraySet:function(l,u,c,f,p){for(var m=0;m<f;m++)l[p+m]=u[c+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,p){if(p<65537&&(f.subarray&&a||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,p));for(var m="",b=0;b<p;b++)m+=String.fromCharCode(f[b]);return m}l[254]=l[254]=1,i.string2buf=function(f){var p,m,b,v,x,g=f.length,y=0;for(v=0;v<g;v++)(64512&(m=f.charCodeAt(v)))==55296&&v+1<g&&(64512&(b=f.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),v++),y+=m<128?1:m<2048?2:m<65536?3:4;for(p=new s.Buf8(y),v=x=0;x<y;v++)(64512&(m=f.charCodeAt(v)))==55296&&v+1<g&&(64512&(b=f.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),v++),m<128?p[x++]=m:(m<2048?p[x++]=192|m>>>6:(m<65536?p[x++]=224|m>>>12:(p[x++]=240|m>>>18,p[x++]=128|m>>>12&63),p[x++]=128|m>>>6&63),p[x++]=128|63&m);return p},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var p=new s.Buf8(f.length),m=0,b=p.length;m<b;m++)p[m]=f.charCodeAt(m);return p},i.buf2string=function(f,p){var m,b,v,x,g=p||f.length,y=new Array(2*g);for(m=b=0;m<g;)if((v=f[m++])<128)y[b++]=v;else if(4<(x=l[v]))y[b++]=65533,m+=x-1;else{for(v&=x===2?31:x===3?15:7;1<x&&m<g;)v=v<<6|63&f[m++],x--;1<x?y[b++]=65533:v<65536?y[b++]=v:(v-=65536,y[b++]=55296|v>>10&1023,y[b++]=56320|1023&v)}return c(y,b)},i.utf8border=function(f,p){var m;for((p=p||f.length)>f.length&&(p=f.length),m=p-1;0<=m&&(192&f[m])==128;)m--;return m<0||m===0?p:m+l[f[m]]>p?m:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var u=65535&s|0,c=s>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var c=s,f=u+l;o^=-1;for(var p=u;p<f;p++)o=o>>>8^c[255&(o^a[p])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),f=0,p=4,m=0,b=-2,v=-1,x=4,g=2,y=8,_=9,C=286,O=30,I=19,R=2*C+1,L=15,z=3,V=258,we=V+z+1,F=42,ee=113,A=1,le=2,Oe=3,M=4;function X(P,pe){return P.msg=c[pe],pe}function Z(P){return(P<<1)-(4<P?9:0)}function ue(P){for(var pe=P.length;0<=--pe;)P[pe]=0}function G(P){var pe=P.state,ce=pe.pending;ce>P.avail_out&&(ce=P.avail_out),ce!==0&&(o.arraySet(P.output,pe.pending_buf,pe.pending_out,ce,P.next_out),P.next_out+=ce,pe.pending_out+=ce,P.total_out+=ce,P.avail_out-=ce,pe.pending-=ce,pe.pending===0&&(pe.pending_out=0))}function Q(P,pe){a._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,pe),P.block_start=P.strstart,G(P.strm)}function ye(P,pe){P.pending_buf[P.pending++]=pe}function he(P,pe){P.pending_buf[P.pending++]=pe>>>8&255,P.pending_buf[P.pending++]=255&pe}function fe(P,pe){var ce,$,N=P.max_chain_length,ne=P.strstart,me=P.prev_length,ge=P.nice_match,oe=P.strstart>P.w_size-we?P.strstart-(P.w_size-we):0,_e=P.window,Re=P.w_mask,xe=P.prev,Me=P.strstart+V,tt=_e[ne+me-1],Je=_e[ne+me];P.prev_length>=P.good_match&&(N>>=2),ge>P.lookahead&&(ge=P.lookahead);do if(_e[(ce=pe)+me]===Je&&_e[ce+me-1]===tt&&_e[ce]===_e[ne]&&_e[++ce]===_e[ne+1]){ne+=2,ce++;do;while(_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&_e[++ne]===_e[++ce]&&ne<Me);if($=V-(Me-ne),ne=Me-V,me<$){if(P.match_start=pe,ge<=(me=$))break;tt=_e[ne+me-1],Je=_e[ne+me]}}while((pe=xe[pe&Re])>oe&&--N!=0);return me<=P.lookahead?me:P.lookahead}function Fe(P){var pe,ce,$,N,ne,me,ge,oe,_e,Re,xe=P.w_size;do{if(N=P.window_size-P.lookahead-P.strstart,P.strstart>=xe+(xe-we)){for(o.arraySet(P.window,P.window,xe,xe,0),P.match_start-=xe,P.strstart-=xe,P.block_start-=xe,pe=ce=P.hash_size;$=P.head[--pe],P.head[pe]=xe<=$?$-xe:0,--ce;);for(pe=ce=xe;$=P.prev[--pe],P.prev[pe]=xe<=$?$-xe:0,--ce;);N+=xe}if(P.strm.avail_in===0)break;if(me=P.strm,ge=P.window,oe=P.strstart+P.lookahead,_e=N,Re=void 0,Re=me.avail_in,_e<Re&&(Re=_e),ce=Re===0?0:(me.avail_in-=Re,o.arraySet(ge,me.input,me.next_in,Re,oe),me.state.wrap===1?me.adler=l(me.adler,ge,Re,oe):me.state.wrap===2&&(me.adler=u(me.adler,ge,Re,oe)),me.next_in+=Re,me.total_in+=Re,Re),P.lookahead+=ce,P.lookahead+P.insert>=z)for(ne=P.strstart-P.insert,P.ins_h=P.window[ne],P.ins_h=(P.ins_h<<P.hash_shift^P.window[ne+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[ne+z-1])&P.hash_mask,P.prev[ne&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=ne,ne++,P.insert--,!(P.lookahead+P.insert<z)););}while(P.lookahead<we&&P.strm.avail_in!==0)}function We(P,pe){for(var ce,$;;){if(P.lookahead<we){if(Fe(P),P.lookahead<we&&pe===f)return A;if(P.lookahead===0)break}if(ce=0,P.lookahead>=z&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+z-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),ce!==0&&P.strstart-ce<=P.w_size-we&&(P.match_length=fe(P,ce)),P.match_length>=z)if($=a._tr_tally(P,P.strstart-P.match_start,P.match_length-z),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=z){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+z-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else $=a._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if($&&(Q(P,!1),P.strm.avail_out===0))return A}return P.insert=P.strstart<z-1?P.strstart:z-1,pe===p?(Q(P,!0),P.strm.avail_out===0?Oe:M):P.last_lit&&(Q(P,!1),P.strm.avail_out===0)?A:le}function Be(P,pe){for(var ce,$,N;;){if(P.lookahead<we){if(Fe(P),P.lookahead<we&&pe===f)return A;if(P.lookahead===0)break}if(ce=0,P.lookahead>=z&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+z-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=z-1,ce!==0&&P.prev_length<P.max_lazy_match&&P.strstart-ce<=P.w_size-we&&(P.match_length=fe(P,ce),P.match_length<=5&&(P.strategy===1||P.match_length===z&&4096<P.strstart-P.match_start)&&(P.match_length=z-1)),P.prev_length>=z&&P.match_length<=P.prev_length){for(N=P.strstart+P.lookahead-z,$=a._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-z),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=N&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+z-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=z-1,P.strstart++,$&&(Q(P,!1),P.strm.avail_out===0))return A}else if(P.match_available){if(($=a._tr_tally(P,0,P.window[P.strstart-1]))&&Q(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return A}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&($=a._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<z-1?P.strstart:z-1,pe===p?(Q(P,!0),P.strm.avail_out===0?Oe:M):P.last_lit&&(Q(P,!1),P.strm.avail_out===0)?A:le}function be(P,pe,ce,$,N){this.good_length=P,this.max_lazy=pe,this.nice_length=ce,this.max_chain=$,this.func=N}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*R),this.dyn_dtree=new o.Buf16(2*(2*O+1)),this.bl_tree=new o.Buf16(2*(2*I+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*C+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*C+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function rt(P){var pe;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=g,(pe=P.state).pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?F:ee,P.adler=pe.wrap===2?0:1,pe.last_flush=f,a._tr_init(pe),m):X(P,b)}function He(P){var pe=rt(P);return pe===m&&function(ce){ce.window_size=2*ce.w_size,ue(ce.head),ce.max_lazy_match=s[ce.level].max_lazy,ce.good_match=s[ce.level].good_length,ce.nice_match=s[ce.level].nice_length,ce.max_chain_length=s[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=z-1,ce.match_available=0,ce.ins_h=0}(P.state),pe}function Ft(P,pe,ce,$,N,ne){if(!P)return b;var me=1;if(pe===v&&(pe=6),$<0?(me=0,$=-$):15<$&&(me=2,$-=16),N<1||_<N||ce!==y||$<8||15<$||pe<0||9<pe||ne<0||x<ne)return X(P,b);$===8&&($=9);var ge=new ct;return(P.state=ge).strm=P,ge.wrap=me,ge.gzhead=null,ge.w_bits=$,ge.w_size=1<<ge.w_bits,ge.w_mask=ge.w_size-1,ge.hash_bits=N+7,ge.hash_size=1<<ge.hash_bits,ge.hash_mask=ge.hash_size-1,ge.hash_shift=~~((ge.hash_bits+z-1)/z),ge.window=new o.Buf8(2*ge.w_size),ge.head=new o.Buf16(ge.hash_size),ge.prev=new o.Buf16(ge.w_size),ge.lit_bufsize=1<<N+6,ge.pending_buf_size=4*ge.lit_bufsize,ge.pending_buf=new o.Buf8(ge.pending_buf_size),ge.d_buf=1*ge.lit_bufsize,ge.l_buf=3*ge.lit_bufsize,ge.level=pe,ge.strategy=ne,ge.method=ce,He(P)}s=[new be(0,0,0,0,function(P,pe){var ce=65535;for(ce>P.pending_buf_size-5&&(ce=P.pending_buf_size-5);;){if(P.lookahead<=1){if(Fe(P),P.lookahead===0&&pe===f)return A;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var $=P.block_start+ce;if((P.strstart===0||P.strstart>=$)&&(P.lookahead=P.strstart-$,P.strstart=$,Q(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-we&&(Q(P,!1),P.strm.avail_out===0))return A}return P.insert=0,pe===p?(Q(P,!0),P.strm.avail_out===0?Oe:M):(P.strstart>P.block_start&&(Q(P,!1),P.strm.avail_out),A)}),new be(4,4,8,4,We),new be(4,5,16,8,We),new be(4,6,32,32,We),new be(4,4,16,16,Be),new be(8,16,32,32,Be),new be(8,16,128,128,Be),new be(8,32,128,256,Be),new be(32,128,258,1024,Be),new be(32,258,258,4096,Be)],i.deflateInit=function(P,pe){return Ft(P,pe,y,15,8,0)},i.deflateInit2=Ft,i.deflateReset=He,i.deflateResetKeep=rt,i.deflateSetHeader=function(P,pe){return P&&P.state?P.state.wrap!==2?b:(P.state.gzhead=pe,m):b},i.deflate=function(P,pe){var ce,$,N,ne;if(!P||!P.state||5<pe||pe<0)return P?X(P,b):b;if($=P.state,!P.output||!P.input&&P.avail_in!==0||$.status===666&&pe!==p)return X(P,P.avail_out===0?-5:b);if($.strm=P,ce=$.last_flush,$.last_flush=pe,$.status===F)if($.wrap===2)P.adler=0,ye($,31),ye($,139),ye($,8),$.gzhead?(ye($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),ye($,255&$.gzhead.time),ye($,$.gzhead.time>>8&255),ye($,$.gzhead.time>>16&255),ye($,$.gzhead.time>>24&255),ye($,$.level===9?2:2<=$.strategy||$.level<2?4:0),ye($,255&$.gzhead.os),$.gzhead.extra&&$.gzhead.extra.length&&(ye($,255&$.gzhead.extra.length),ye($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(P.adler=u(P.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=69):(ye($,0),ye($,0),ye($,0),ye($,0),ye($,0),ye($,$.level===9?2:2<=$.strategy||$.level<2?4:0),ye($,3),$.status=ee);else{var me=y+($.w_bits-8<<4)<<8;me|=(2<=$.strategy||$.level<2?0:$.level<6?1:$.level===6?2:3)<<6,$.strstart!==0&&(me|=32),me+=31-me%31,$.status=ee,he($,me),$.strstart!==0&&(he($,P.adler>>>16),he($,65535&P.adler)),P.adler=1}if($.status===69)if($.gzhead.extra){for(N=$.pending;$.gzindex<(65535&$.gzhead.extra.length)&&($.pending!==$.pending_buf_size||($.gzhead.hcrc&&$.pending>N&&(P.adler=u(P.adler,$.pending_buf,$.pending-N,N)),G(P),N=$.pending,$.pending!==$.pending_buf_size));)ye($,255&$.gzhead.extra[$.gzindex]),$.gzindex++;$.gzhead.hcrc&&$.pending>N&&(P.adler=u(P.adler,$.pending_buf,$.pending-N,N)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=73)}else $.status=73;if($.status===73)if($.gzhead.name){N=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>N&&(P.adler=u(P.adler,$.pending_buf,$.pending-N,N)),G(P),N=$.pending,$.pending===$.pending_buf_size)){ne=1;break}ne=$.gzindex<$.gzhead.name.length?255&$.gzhead.name.charCodeAt($.gzindex++):0,ye($,ne)}while(ne!==0);$.gzhead.hcrc&&$.pending>N&&(P.adler=u(P.adler,$.pending_buf,$.pending-N,N)),ne===0&&($.gzindex=0,$.status=91)}else $.status=91;if($.status===91)if($.gzhead.comment){N=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>N&&(P.adler=u(P.adler,$.pending_buf,$.pending-N,N)),G(P),N=$.pending,$.pending===$.pending_buf_size)){ne=1;break}ne=$.gzindex<$.gzhead.comment.length?255&$.gzhead.comment.charCodeAt($.gzindex++):0,ye($,ne)}while(ne!==0);$.gzhead.hcrc&&$.pending>N&&(P.adler=u(P.adler,$.pending_buf,$.pending-N,N)),ne===0&&($.status=103)}else $.status=103;if($.status===103&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&G(P),$.pending+2<=$.pending_buf_size&&(ye($,255&P.adler),ye($,P.adler>>8&255),P.adler=0,$.status=ee)):$.status=ee),$.pending!==0){if(G(P),P.avail_out===0)return $.last_flush=-1,m}else if(P.avail_in===0&&Z(pe)<=Z(ce)&&pe!==p)return X(P,-5);if($.status===666&&P.avail_in!==0)return X(P,-5);if(P.avail_in!==0||$.lookahead!==0||pe!==f&&$.status!==666){var ge=$.strategy===2?function(oe,_e){for(var Re;;){if(oe.lookahead===0&&(Fe(oe),oe.lookahead===0)){if(_e===f)return A;break}if(oe.match_length=0,Re=a._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,Re&&(Q(oe,!1),oe.strm.avail_out===0))return A}return oe.insert=0,_e===p?(Q(oe,!0),oe.strm.avail_out===0?Oe:M):oe.last_lit&&(Q(oe,!1),oe.strm.avail_out===0)?A:le}($,pe):$.strategy===3?function(oe,_e){for(var Re,xe,Me,tt,Je=oe.window;;){if(oe.lookahead<=V){if(Fe(oe),oe.lookahead<=V&&_e===f)return A;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=z&&0<oe.strstart&&(xe=Je[Me=oe.strstart-1])===Je[++Me]&&xe===Je[++Me]&&xe===Je[++Me]){tt=oe.strstart+V;do;while(xe===Je[++Me]&&xe===Je[++Me]&&xe===Je[++Me]&&xe===Je[++Me]&&xe===Je[++Me]&&xe===Je[++Me]&&xe===Je[++Me]&&xe===Je[++Me]&&Me<tt);oe.match_length=V-(tt-Me),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=z?(Re=a._tr_tally(oe,1,oe.match_length-z),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(Re=a._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),Re&&(Q(oe,!1),oe.strm.avail_out===0))return A}return oe.insert=0,_e===p?(Q(oe,!0),oe.strm.avail_out===0?Oe:M):oe.last_lit&&(Q(oe,!1),oe.strm.avail_out===0)?A:le}($,pe):s[$.level].func($,pe);if(ge!==Oe&&ge!==M||($.status=666),ge===A||ge===Oe)return P.avail_out===0&&($.last_flush=-1),m;if(ge===le&&(pe===1?a._tr_align($):pe!==5&&(a._tr_stored_block($,0,0,!1),pe===3&&(ue($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),G(P),P.avail_out===0))return $.last_flush=-1,m}return pe!==p?m:$.wrap<=0?1:($.wrap===2?(ye($,255&P.adler),ye($,P.adler>>8&255),ye($,P.adler>>16&255),ye($,P.adler>>24&255),ye($,255&P.total_in),ye($,P.total_in>>8&255),ye($,P.total_in>>16&255),ye($,P.total_in>>24&255)):(he($,P.adler>>>16),he($,65535&P.adler)),G(P),0<$.wrap&&($.wrap=-$.wrap),$.pending!==0?m:1)},i.deflateEnd=function(P){var pe;return P&&P.state?(pe=P.state.status)!==F&&pe!==69&&pe!==73&&pe!==91&&pe!==103&&pe!==ee&&pe!==666?X(P,b):(P.state=null,pe===ee?X(P,-3):m):b},i.deflateSetDictionary=function(P,pe){var ce,$,N,ne,me,ge,oe,_e,Re=pe.length;if(!P||!P.state||(ne=(ce=P.state).wrap)===2||ne===1&&ce.status!==F||ce.lookahead)return b;for(ne===1&&(P.adler=l(P.adler,pe,Re,0)),ce.wrap=0,Re>=ce.w_size&&(ne===0&&(ue(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),_e=new o.Buf8(ce.w_size),o.arraySet(_e,pe,Re-ce.w_size,ce.w_size,0),pe=_e,Re=ce.w_size),me=P.avail_in,ge=P.next_in,oe=P.input,P.avail_in=Re,P.next_in=0,P.input=pe,Fe(ce);ce.lookahead>=z;){for($=ce.strstart,N=ce.lookahead-(z-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[$+z-1])&ce.hash_mask,ce.prev[$&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=$,$++,--N;);ce.strstart=$,ce.lookahead=z-1,Fe(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=z-1,ce.match_available=0,P.next_in=ge,P.input=oe,P.avail_in=me,ce.wrap=ne,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,u,c,f,p,m,b,v,x,g,y,_,C,O,I,R,L,z,V,we,F,ee,A,le;a=s.state,l=s.next_in,A=s.input,u=l+(s.avail_in-5),c=s.next_out,le=s.output,f=c-(o-s.avail_out),p=c+(s.avail_out-257),m=a.dmax,b=a.wsize,v=a.whave,x=a.wnext,g=a.window,y=a.hold,_=a.bits,C=a.lencode,O=a.distcode,I=(1<<a.lenbits)-1,R=(1<<a.distbits)-1;e:do{_<15&&(y+=A[l++]<<_,_+=8,y+=A[l++]<<_,_+=8),L=C[y&I];t:for(;;){if(y>>>=z=L>>>24,_-=z,(z=L>>>16&255)===0)le[c++]=65535&L;else{if(!(16&z)){if(!(64&z)){L=C[(65535&L)+(y&(1<<z)-1)];continue t}if(32&z){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}V=65535&L,(z&=15)&&(_<z&&(y+=A[l++]<<_,_+=8),V+=y&(1<<z)-1,y>>>=z,_-=z),_<15&&(y+=A[l++]<<_,_+=8,y+=A[l++]<<_,_+=8),L=O[y&R];n:for(;;){if(y>>>=z=L>>>24,_-=z,!(16&(z=L>>>16&255))){if(!(64&z)){L=O[(65535&L)+(y&(1<<z)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(we=65535&L,_<(z&=15)&&(y+=A[l++]<<_,(_+=8)<z&&(y+=A[l++]<<_,_+=8)),m<(we+=y&(1<<z)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=z,_-=z,(z=c-f)<we){if(v<(z=we-z)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(ee=g,(F=0)===x){if(F+=b-z,z<V){for(V-=z;le[c++]=g[F++],--z;);F=c-we,ee=le}}else if(x<z){if(F+=b+x-z,(z-=x)<V){for(V-=z;le[c++]=g[F++],--z;);if(F=0,x<V){for(V-=z=x;le[c++]=g[F++],--z;);F=c-we,ee=le}}}else if(F+=x-z,z<V){for(V-=z;le[c++]=g[F++],--z;);F=c-we,ee=le}for(;2<V;)le[c++]=ee[F++],le[c++]=ee[F++],le[c++]=ee[F++],V-=3;V&&(le[c++]=ee[F++],1<V&&(le[c++]=ee[F++]))}else{for(F=c-we;le[c++]=le[F++],le[c++]=le[F++],le[c++]=le[F++],2<(V-=3););V&&(le[c++]=le[F++],1<V&&(le[c++]=le[F++]))}break}}break}}while(l<u&&c<p);l-=V=_>>3,y&=(1<<(_-=V<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<p?p-c+257:257-(c-p),a.hold=y,a.bits=_}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,f=2,p=0,m=-2,b=1,v=852,x=592;function g(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(F){var ee;return F&&F.state?(ee=F.state,F.total_in=F.total_out=ee.total=0,F.msg="",ee.wrap&&(F.adler=1&ee.wrap),ee.mode=b,ee.last=0,ee.havedict=0,ee.dmax=32768,ee.head=null,ee.hold=0,ee.bits=0,ee.lencode=ee.lendyn=new s.Buf32(v),ee.distcode=ee.distdyn=new s.Buf32(x),ee.sane=1,ee.back=-1,p):m}function C(F){var ee;return F&&F.state?((ee=F.state).wsize=0,ee.whave=0,ee.wnext=0,_(F)):m}function O(F,ee){var A,le;return F&&F.state?(le=F.state,ee<0?(A=0,ee=-ee):(A=1+(ee>>4),ee<48&&(ee&=15)),ee&&(ee<8||15<ee)?m:(le.window!==null&&le.wbits!==ee&&(le.window=null),le.wrap=A,le.wbits=ee,C(F))):m}function I(F,ee){var A,le;return F?(le=new y,(F.state=le).window=null,(A=O(F,ee))!==p&&(F.state=null),A):m}var R,L,z=!0;function V(F){if(z){var ee;for(R=new s.Buf32(512),L=new s.Buf32(32),ee=0;ee<144;)F.lens[ee++]=8;for(;ee<256;)F.lens[ee++]=9;for(;ee<280;)F.lens[ee++]=7;for(;ee<288;)F.lens[ee++]=8;for(u(c,F.lens,0,288,R,0,F.work,{bits:9}),ee=0;ee<32;)F.lens[ee++]=5;u(f,F.lens,0,32,L,0,F.work,{bits:5}),z=!1}F.lencode=R,F.lenbits=9,F.distcode=L,F.distbits=5}function we(F,ee,A,le){var Oe,M=F.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new s.Buf8(M.wsize)),le>=M.wsize?(s.arraySet(M.window,ee,A-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(le<(Oe=M.wsize-M.wnext)&&(Oe=le),s.arraySet(M.window,ee,A-le,Oe,M.wnext),(le-=Oe)?(s.arraySet(M.window,ee,A-le,le,0),M.wnext=le,M.whave=M.wsize):(M.wnext+=Oe,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=Oe))),0}i.inflateReset=C,i.inflateReset2=O,i.inflateResetKeep=_,i.inflateInit=function(F){return I(F,15)},i.inflateInit2=I,i.inflate=function(F,ee){var A,le,Oe,M,X,Z,ue,G,Q,ye,he,fe,Fe,We,Be,be,ct,rt,He,Ft,P,pe,ce,$,N=0,ne=new s.Buf8(4),me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return m;(A=F.state).mode===12&&(A.mode=13),X=F.next_out,Oe=F.output,ue=F.avail_out,M=F.next_in,le=F.input,Z=F.avail_in,G=A.hold,Q=A.bits,ye=Z,he=ue,pe=p;e:for(;;)switch(A.mode){case b:if(A.wrap===0){A.mode=13;break}for(;Q<16;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}if(2&A.wrap&&G===35615){ne[A.check=0]=255&G,ne[1]=G>>>8&255,A.check=a(A.check,ne,2,0),Q=G=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&G)<<8)+(G>>8))%31){F.msg="incorrect header check",A.mode=30;break}if((15&G)!=8){F.msg="unknown compression method",A.mode=30;break}if(Q-=4,P=8+(15&(G>>>=4)),A.wbits===0)A.wbits=P;else if(P>A.wbits){F.msg="invalid window size",A.mode=30;break}A.dmax=1<<P,F.adler=A.check=1,A.mode=512&G?10:12,Q=G=0;break;case 2:for(;Q<16;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}if(A.flags=G,(255&A.flags)!=8){F.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){F.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=G>>8&1),512&A.flags&&(ne[0]=255&G,ne[1]=G>>>8&255,A.check=a(A.check,ne,2,0)),Q=G=0,A.mode=3;case 3:for(;Q<32;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}A.head&&(A.head.time=G),512&A.flags&&(ne[0]=255&G,ne[1]=G>>>8&255,ne[2]=G>>>16&255,ne[3]=G>>>24&255,A.check=a(A.check,ne,4,0)),Q=G=0,A.mode=4;case 4:for(;Q<16;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}A.head&&(A.head.xflags=255&G,A.head.os=G>>8),512&A.flags&&(ne[0]=255&G,ne[1]=G>>>8&255,A.check=a(A.check,ne,2,0)),Q=G=0,A.mode=5;case 5:if(1024&A.flags){for(;Q<16;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}A.length=G,A.head&&(A.head.extra_len=G),512&A.flags&&(ne[0]=255&G,ne[1]=G>>>8&255,A.check=a(A.check,ne,2,0)),Q=G=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(Z<(fe=A.length)&&(fe=Z),fe&&(A.head&&(P=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),s.arraySet(A.head.extra,le,M,fe,P)),512&A.flags&&(A.check=a(A.check,le,fe,M)),Z-=fe,M+=fe,A.length-=fe),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(Z===0)break e;for(fe=0;P=le[M+fe++],A.head&&P&&A.length<65536&&(A.head.name+=String.fromCharCode(P)),P&&fe<Z;);if(512&A.flags&&(A.check=a(A.check,le,fe,M)),Z-=fe,M+=fe,P)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(Z===0)break e;for(fe=0;P=le[M+fe++],A.head&&P&&A.length<65536&&(A.head.comment+=String.fromCharCode(P)),P&&fe<Z;);if(512&A.flags&&(A.check=a(A.check,le,fe,M)),Z-=fe,M+=fe,P)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;Q<16;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}if(G!==(65535&A.check)){F.msg="header crc mismatch",A.mode=30;break}Q=G=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),F.adler=A.check=0,A.mode=12;break;case 10:for(;Q<32;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}F.adler=A.check=g(G),Q=G=0,A.mode=11;case 11:if(A.havedict===0)return F.next_out=X,F.avail_out=ue,F.next_in=M,F.avail_in=Z,A.hold=G,A.bits=Q,2;F.adler=A.check=1,A.mode=12;case 12:if(ee===5||ee===6)break e;case 13:if(A.last){G>>>=7&Q,Q-=7&Q,A.mode=27;break}for(;Q<3;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}switch(A.last=1&G,Q-=1,3&(G>>>=1)){case 0:A.mode=14;break;case 1:if(V(A),A.mode=20,ee!==6)break;G>>>=2,Q-=2;break e;case 2:A.mode=17;break;case 3:F.msg="invalid block type",A.mode=30}G>>>=2,Q-=2;break;case 14:for(G>>>=7&Q,Q-=7&Q;Q<32;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}if((65535&G)!=(G>>>16^65535)){F.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&G,Q=G=0,A.mode=15,ee===6)break e;case 15:A.mode=16;case 16:if(fe=A.length){if(Z<fe&&(fe=Z),ue<fe&&(fe=ue),fe===0)break e;s.arraySet(Oe,le,M,fe,X),Z-=fe,M+=fe,ue-=fe,X+=fe,A.length-=fe;break}A.mode=12;break;case 17:for(;Q<14;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}if(A.nlen=257+(31&G),G>>>=5,Q-=5,A.ndist=1+(31&G),G>>>=5,Q-=5,A.ncode=4+(15&G),G>>>=4,Q-=4,286<A.nlen||30<A.ndist){F.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;Q<3;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}A.lens[me[A.have++]]=7&G,G>>>=3,Q-=3}for(;A.have<19;)A.lens[me[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,ce={bits:A.lenbits},pe=u(0,A.lens,0,19,A.lencode,0,A.work,ce),A.lenbits=ce.bits,pe){F.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;be=(N=A.lencode[G&(1<<A.lenbits)-1])>>>16&255,ct=65535&N,!((Be=N>>>24)<=Q);){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}if(ct<16)G>>>=Be,Q-=Be,A.lens[A.have++]=ct;else{if(ct===16){for($=Be+2;Q<$;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}if(G>>>=Be,Q-=Be,A.have===0){F.msg="invalid bit length repeat",A.mode=30;break}P=A.lens[A.have-1],fe=3+(3&G),G>>>=2,Q-=2}else if(ct===17){for($=Be+3;Q<$;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}Q-=Be,P=0,fe=3+(7&(G>>>=Be)),G>>>=3,Q-=3}else{for($=Be+7;Q<$;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}Q-=Be,P=0,fe=11+(127&(G>>>=Be)),G>>>=7,Q-=7}if(A.have+fe>A.nlen+A.ndist){F.msg="invalid bit length repeat",A.mode=30;break}for(;fe--;)A.lens[A.have++]=P}}if(A.mode===30)break;if(A.lens[256]===0){F.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,ce={bits:A.lenbits},pe=u(c,A.lens,0,A.nlen,A.lencode,0,A.work,ce),A.lenbits=ce.bits,pe){F.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,ce={bits:A.distbits},pe=u(f,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,ce),A.distbits=ce.bits,pe){F.msg="invalid distances set",A.mode=30;break}if(A.mode=20,ee===6)break e;case 20:A.mode=21;case 21:if(6<=Z&&258<=ue){F.next_out=X,F.avail_out=ue,F.next_in=M,F.avail_in=Z,A.hold=G,A.bits=Q,l(F,he),X=F.next_out,Oe=F.output,ue=F.avail_out,M=F.next_in,le=F.input,Z=F.avail_in,G=A.hold,Q=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;be=(N=A.lencode[G&(1<<A.lenbits)-1])>>>16&255,ct=65535&N,!((Be=N>>>24)<=Q);){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}if(be&&!(240&be)){for(rt=Be,He=be,Ft=ct;be=(N=A.lencode[Ft+((G&(1<<rt+He)-1)>>rt)])>>>16&255,ct=65535&N,!(rt+(Be=N>>>24)<=Q);){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}G>>>=rt,Q-=rt,A.back+=rt}if(G>>>=Be,Q-=Be,A.back+=Be,A.length=ct,be===0){A.mode=26;break}if(32&be){A.back=-1,A.mode=12;break}if(64&be){F.msg="invalid literal/length code",A.mode=30;break}A.extra=15&be,A.mode=22;case 22:if(A.extra){for($=A.extra;Q<$;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}A.length+=G&(1<<A.extra)-1,G>>>=A.extra,Q-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;be=(N=A.distcode[G&(1<<A.distbits)-1])>>>16&255,ct=65535&N,!((Be=N>>>24)<=Q);){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}if(!(240&be)){for(rt=Be,He=be,Ft=ct;be=(N=A.distcode[Ft+((G&(1<<rt+He)-1)>>rt)])>>>16&255,ct=65535&N,!(rt+(Be=N>>>24)<=Q);){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}G>>>=rt,Q-=rt,A.back+=rt}if(G>>>=Be,Q-=Be,A.back+=Be,64&be){F.msg="invalid distance code",A.mode=30;break}A.offset=ct,A.extra=15&be,A.mode=24;case 24:if(A.extra){for($=A.extra;Q<$;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}A.offset+=G&(1<<A.extra)-1,G>>>=A.extra,Q-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){F.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(ue===0)break e;if(fe=he-ue,A.offset>fe){if((fe=A.offset-fe)>A.whave&&A.sane){F.msg="invalid distance too far back",A.mode=30;break}Fe=fe>A.wnext?(fe-=A.wnext,A.wsize-fe):A.wnext-fe,fe>A.length&&(fe=A.length),We=A.window}else We=Oe,Fe=X-A.offset,fe=A.length;for(ue<fe&&(fe=ue),ue-=fe,A.length-=fe;Oe[X++]=We[Fe++],--fe;);A.length===0&&(A.mode=21);break;case 26:if(ue===0)break e;Oe[X++]=A.length,ue--,A.mode=21;break;case 27:if(A.wrap){for(;Q<32;){if(Z===0)break e;Z--,G|=le[M++]<<Q,Q+=8}if(he-=ue,F.total_out+=he,A.total+=he,he&&(F.adler=A.check=A.flags?a(A.check,Oe,he,X-he):o(A.check,Oe,he,X-he)),he=ue,(A.flags?G:g(G))!==A.check){F.msg="incorrect data check",A.mode=30;break}Q=G=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;Q<32;){if(Z===0)break e;Z--,G+=le[M++]<<Q,Q+=8}if(G!==(4294967295&A.total)){F.msg="incorrect length check",A.mode=30;break}Q=G=0}A.mode=29;case 29:pe=1;break e;case 30:pe=-3;break e;case 31:return-4;case 32:default:return m}return F.next_out=X,F.avail_out=ue,F.next_in=M,F.avail_in=Z,A.hold=G,A.bits=Q,(A.wsize||he!==F.avail_out&&A.mode<30&&(A.mode<27||ee!==4))&&we(F,F.output,F.next_out,he-F.avail_out)?(A.mode=31,-4):(ye-=F.avail_in,he-=F.avail_out,F.total_in+=ye,F.total_out+=he,A.total+=he,A.wrap&&he&&(F.adler=A.check=A.flags?a(A.check,Oe,he,F.next_out-he):o(A.check,Oe,he,F.next_out-he)),F.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(ye==0&&he===0||ee===4)&&pe===p&&(pe=-5),pe)},i.inflateEnd=function(F){if(!F||!F.state)return m;var ee=F.state;return ee.window&&(ee.window=null),F.state=null,p},i.inflateGetHeader=function(F,ee){var A;return F&&F.state&&2&(A=F.state).wrap?((A.head=ee).done=!1,p):m},i.inflateSetDictionary=function(F,ee){var A,le=ee.length;return F&&F.state?(A=F.state).wrap!==0&&A.mode!==11?m:A.mode===11&&o(1,ee,le,0)!==A.check?-3:we(F,ee,le,le)?(A.mode=31,-4):(A.havedict=1,p):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,f,p,m,b,v,x,g){var y,_,C,O,I,R,L,z,V,we=g.bits,F=0,ee=0,A=0,le=0,Oe=0,M=0,X=0,Z=0,ue=0,G=0,Q=null,ye=0,he=new s.Buf16(16),fe=new s.Buf16(16),Fe=null,We=0;for(F=0;F<=15;F++)he[F]=0;for(ee=0;ee<m;ee++)he[f[p+ee]]++;for(Oe=we,le=15;1<=le&&he[le]===0;le--);if(le<Oe&&(Oe=le),le===0)return b[v++]=20971520,b[v++]=20971520,g.bits=1,0;for(A=1;A<le&&he[A]===0;A++);for(Oe<A&&(Oe=A),F=Z=1;F<=15;F++)if(Z<<=1,(Z-=he[F])<0)return-1;if(0<Z&&(c===0||le!==1))return-1;for(fe[1]=0,F=1;F<15;F++)fe[F+1]=fe[F]+he[F];for(ee=0;ee<m;ee++)f[p+ee]!==0&&(x[fe[f[p+ee]]++]=ee);if(R=c===0?(Q=Fe=x,19):c===1?(Q=o,ye-=257,Fe=a,We-=257,256):(Q=l,Fe=u,-1),F=A,I=v,X=ee=G=0,C=-1,O=(ue=1<<(M=Oe))-1,c===1&&852<ue||c===2&&592<ue)return 1;for(;;){for(L=F-X,V=x[ee]<R?(z=0,x[ee]):x[ee]>R?(z=Fe[We+x[ee]],Q[ye+x[ee]]):(z=96,0),y=1<<F-X,A=_=1<<M;b[I+(G>>X)+(_-=y)]=L<<24|z<<16|V|0,_!==0;);for(y=1<<F-1;G&y;)y>>=1;if(y!==0?(G&=y-1,G+=y):G=0,ee++,--he[F]==0){if(F===le)break;F=f[p+x[ee]]}if(Oe<F&&(G&O)!==C){for(X===0&&(X=Oe),I+=A,Z=1<<(M=F-X);M+X<le&&!((Z-=he[M+X])<=0);)M++,Z<<=1;if(ue+=1<<M,c===1&&852<ue||c===2&&592<ue)return 1;b[C=G&O]=Oe<<24|M<<16|I-v|0}}return G!==0&&(b[I+G]=F-X<<24|64<<16|0),g.bits=Oe,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(N){for(var ne=N.length;0<=--ne;)N[ne]=0}var u=0,c=29,f=256,p=f+1+c,m=30,b=19,v=2*p+1,x=15,g=16,y=7,_=256,C=16,O=17,I=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],we=new Array(2*(p+2));l(we);var F=new Array(2*m);l(F);var ee=new Array(512);l(ee);var A=new Array(256);l(A);var le=new Array(c);l(le);var Oe,M,X,Z=new Array(m);function ue(N,ne,me,ge,oe){this.static_tree=N,this.extra_bits=ne,this.extra_base=me,this.elems=ge,this.max_length=oe,this.has_stree=N&&N.length}function G(N,ne){this.dyn_tree=N,this.max_code=0,this.stat_desc=ne}function Q(N){return N<256?ee[N]:ee[256+(N>>>7)]}function ye(N,ne){N.pending_buf[N.pending++]=255&ne,N.pending_buf[N.pending++]=ne>>>8&255}function he(N,ne,me){N.bi_valid>g-me?(N.bi_buf|=ne<<N.bi_valid&65535,ye(N,N.bi_buf),N.bi_buf=ne>>g-N.bi_valid,N.bi_valid+=me-g):(N.bi_buf|=ne<<N.bi_valid&65535,N.bi_valid+=me)}function fe(N,ne,me){he(N,me[2*ne],me[2*ne+1])}function Fe(N,ne){for(var me=0;me|=1&N,N>>>=1,me<<=1,0<--ne;);return me>>>1}function We(N,ne,me){var ge,oe,_e=new Array(x+1),Re=0;for(ge=1;ge<=x;ge++)_e[ge]=Re=Re+me[ge-1]<<1;for(oe=0;oe<=ne;oe++){var xe=N[2*oe+1];xe!==0&&(N[2*oe]=Fe(_e[xe]++,xe))}}function Be(N){var ne;for(ne=0;ne<p;ne++)N.dyn_ltree[2*ne]=0;for(ne=0;ne<m;ne++)N.dyn_dtree[2*ne]=0;for(ne=0;ne<b;ne++)N.bl_tree[2*ne]=0;N.dyn_ltree[2*_]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function be(N){8<N.bi_valid?ye(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function ct(N,ne,me,ge){var oe=2*ne,_e=2*me;return N[oe]<N[_e]||N[oe]===N[_e]&&ge[ne]<=ge[me]}function rt(N,ne,me){for(var ge=N.heap[me],oe=me<<1;oe<=N.heap_len&&(oe<N.heap_len&&ct(ne,N.heap[oe+1],N.heap[oe],N.depth)&&oe++,!ct(ne,ge,N.heap[oe],N.depth));)N.heap[me]=N.heap[oe],me=oe,oe<<=1;N.heap[me]=ge}function He(N,ne,me){var ge,oe,_e,Re,xe=0;if(N.last_lit!==0)for(;ge=N.pending_buf[N.d_buf+2*xe]<<8|N.pending_buf[N.d_buf+2*xe+1],oe=N.pending_buf[N.l_buf+xe],xe++,ge===0?fe(N,oe,ne):(fe(N,(_e=A[oe])+f+1,ne),(Re=R[_e])!==0&&he(N,oe-=le[_e],Re),fe(N,_e=Q(--ge),me),(Re=L[_e])!==0&&he(N,ge-=Z[_e],Re)),xe<N.last_lit;);fe(N,_,ne)}function Ft(N,ne){var me,ge,oe,_e=ne.dyn_tree,Re=ne.stat_desc.static_tree,xe=ne.stat_desc.has_stree,Me=ne.stat_desc.elems,tt=-1;for(N.heap_len=0,N.heap_max=v,me=0;me<Me;me++)_e[2*me]!==0?(N.heap[++N.heap_len]=tt=me,N.depth[me]=0):_e[2*me+1]=0;for(;N.heap_len<2;)_e[2*(oe=N.heap[++N.heap_len]=tt<2?++tt:0)]=1,N.depth[oe]=0,N.opt_len--,xe&&(N.static_len-=Re[2*oe+1]);for(ne.max_code=tt,me=N.heap_len>>1;1<=me;me--)rt(N,_e,me);for(oe=Me;me=N.heap[1],N.heap[1]=N.heap[N.heap_len--],rt(N,_e,1),ge=N.heap[1],N.heap[--N.heap_max]=me,N.heap[--N.heap_max]=ge,_e[2*oe]=_e[2*me]+_e[2*ge],N.depth[oe]=(N.depth[me]>=N.depth[ge]?N.depth[me]:N.depth[ge])+1,_e[2*me+1]=_e[2*ge+1]=oe,N.heap[1]=oe++,rt(N,_e,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Je,jt){var Gn,Ie,ze,Xe,xn,hn,De=jt.dyn_tree,Or=jt.max_code,Qn=jt.stat_desc.static_tree,Si=jt.stat_desc.has_stree,Ce=jt.stat_desc.extra_bits,Yr=jt.stat_desc.extra_base,Rr=jt.stat_desc.max_length,hr=0;for(Xe=0;Xe<=x;Xe++)Je.bl_count[Xe]=0;for(De[2*Je.heap[Je.heap_max]+1]=0,Gn=Je.heap_max+1;Gn<v;Gn++)Rr<(Xe=De[2*De[2*(Ie=Je.heap[Gn])+1]+1]+1)&&(Xe=Rr,hr++),De[2*Ie+1]=Xe,Or<Ie||(Je.bl_count[Xe]++,xn=0,Yr<=Ie&&(xn=Ce[Ie-Yr]),hn=De[2*Ie],Je.opt_len+=hn*(Xe+xn),Si&&(Je.static_len+=hn*(Qn[2*Ie+1]+xn)));if(hr!==0){do{for(Xe=Rr-1;Je.bl_count[Xe]===0;)Xe--;Je.bl_count[Xe]--,Je.bl_count[Xe+1]+=2,Je.bl_count[Rr]--,hr-=2}while(0<hr);for(Xe=Rr;Xe!==0;Xe--)for(Ie=Je.bl_count[Xe];Ie!==0;)Or<(ze=Je.heap[--Gn])||(De[2*ze+1]!==Xe&&(Je.opt_len+=(Xe-De[2*ze+1])*De[2*ze],De[2*ze+1]=Xe),Ie--)}}(N,ne),We(_e,tt,N.bl_count)}function P(N,ne,me){var ge,oe,_e=-1,Re=ne[1],xe=0,Me=7,tt=4;for(Re===0&&(Me=138,tt=3),ne[2*(me+1)+1]=65535,ge=0;ge<=me;ge++)oe=Re,Re=ne[2*(ge+1)+1],++xe<Me&&oe===Re||(xe<tt?N.bl_tree[2*oe]+=xe:oe!==0?(oe!==_e&&N.bl_tree[2*oe]++,N.bl_tree[2*C]++):xe<=10?N.bl_tree[2*O]++:N.bl_tree[2*I]++,_e=oe,tt=(xe=0)===Re?(Me=138,3):oe===Re?(Me=6,3):(Me=7,4))}function pe(N,ne,me){var ge,oe,_e=-1,Re=ne[1],xe=0,Me=7,tt=4;for(Re===0&&(Me=138,tt=3),ge=0;ge<=me;ge++)if(oe=Re,Re=ne[2*(ge+1)+1],!(++xe<Me&&oe===Re)){if(xe<tt)for(;fe(N,oe,N.bl_tree),--xe!=0;);else oe!==0?(oe!==_e&&(fe(N,oe,N.bl_tree),xe--),fe(N,C,N.bl_tree),he(N,xe-3,2)):xe<=10?(fe(N,O,N.bl_tree),he(N,xe-3,3)):(fe(N,I,N.bl_tree),he(N,xe-11,7));_e=oe,tt=(xe=0)===Re?(Me=138,3):oe===Re?(Me=6,3):(Me=7,4)}}l(Z);var ce=!1;function $(N,ne,me,ge){he(N,(u<<1)+(ge?1:0),3),function(oe,_e,Re,xe){be(oe),ye(oe,Re),ye(oe,~Re),s.arraySet(oe.pending_buf,oe.window,_e,Re,oe.pending),oe.pending+=Re}(N,ne,me)}i._tr_init=function(N){ce||(function(){var ne,me,ge,oe,_e,Re=new Array(x+1);for(oe=ge=0;oe<c-1;oe++)for(le[oe]=ge,ne=0;ne<1<<R[oe];ne++)A[ge++]=oe;for(A[ge-1]=oe,oe=_e=0;oe<16;oe++)for(Z[oe]=_e,ne=0;ne<1<<L[oe];ne++)ee[_e++]=oe;for(_e>>=7;oe<m;oe++)for(Z[oe]=_e<<7,ne=0;ne<1<<L[oe]-7;ne++)ee[256+_e++]=oe;for(me=0;me<=x;me++)Re[me]=0;for(ne=0;ne<=143;)we[2*ne+1]=8,ne++,Re[8]++;for(;ne<=255;)we[2*ne+1]=9,ne++,Re[9]++;for(;ne<=279;)we[2*ne+1]=7,ne++,Re[7]++;for(;ne<=287;)we[2*ne+1]=8,ne++,Re[8]++;for(We(we,p+1,Re),ne=0;ne<m;ne++)F[2*ne+1]=5,F[2*ne]=Fe(ne,5);Oe=new ue(we,R,f+1,p,x),M=new ue(F,L,0,m,x),X=new ue(new Array(0),z,0,b,y)}(),ce=!0),N.l_desc=new G(N.dyn_ltree,Oe),N.d_desc=new G(N.dyn_dtree,M),N.bl_desc=new G(N.bl_tree,X),N.bi_buf=0,N.bi_valid=0,Be(N)},i._tr_stored_block=$,i._tr_flush_block=function(N,ne,me,ge){var oe,_e,Re=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(xe){var Me,tt=4093624447;for(Me=0;Me<=31;Me++,tt>>>=1)if(1&tt&&xe.dyn_ltree[2*Me]!==0)return o;if(xe.dyn_ltree[18]!==0||xe.dyn_ltree[20]!==0||xe.dyn_ltree[26]!==0)return a;for(Me=32;Me<f;Me++)if(xe.dyn_ltree[2*Me]!==0)return a;return o}(N)),Ft(N,N.l_desc),Ft(N,N.d_desc),Re=function(xe){var Me;for(P(xe,xe.dyn_ltree,xe.l_desc.max_code),P(xe,xe.dyn_dtree,xe.d_desc.max_code),Ft(xe,xe.bl_desc),Me=b-1;3<=Me&&xe.bl_tree[2*V[Me]+1]===0;Me--);return xe.opt_len+=3*(Me+1)+5+5+4,Me}(N),oe=N.opt_len+3+7>>>3,(_e=N.static_len+3+7>>>3)<=oe&&(oe=_e)):oe=_e=me+5,me+4<=oe&&ne!==-1?$(N,ne,me,ge):N.strategy===4||_e===oe?(he(N,2+(ge?1:0),3),He(N,we,F)):(he(N,4+(ge?1:0),3),function(xe,Me,tt,Je){var jt;for(he(xe,Me-257,5),he(xe,tt-1,5),he(xe,Je-4,4),jt=0;jt<Je;jt++)he(xe,xe.bl_tree[2*V[jt]+1],3);pe(xe,xe.dyn_ltree,Me-1),pe(xe,xe.dyn_dtree,tt-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,Re+1),He(N,N.dyn_ltree,N.dyn_dtree)),Be(N),ge&&be(N)},i._tr_tally=function(N,ne,me){return N.pending_buf[N.d_buf+2*N.last_lit]=ne>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&ne,N.pending_buf[N.l_buf+N.last_lit]=255&me,N.last_lit++,ne===0?N.dyn_ltree[2*me]++:(N.matches++,ne--,N.dyn_ltree[2*(A[me]+f+1)]++,N.dyn_dtree[2*Q(ne)]++),N.last_lit===N.lit_bufsize-1},i._tr_align=function(N){he(N,2,3),fe(N,_,we),function(ne){ne.bi_valid===16?(ye(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,c,f,p=1,m={},b=!1,v=o.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(o);x=x&&x.setTimeout?x:o,l={}.toString.call(o.process)==="[object process]"?function(C){process.nextTick(function(){y(C)})}:function(){if(o.postMessage&&!o.importScripts){var C=!0,O=o.onmessage;return o.onmessage=function(){C=!1},o.postMessage("","*"),o.onmessage=O,C}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",_,!1):o.attachEvent("onmessage",_),function(C){o.postMessage(f+C,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(C){y(C.data)},function(C){c.port2.postMessage(C)}):v&&"onreadystatechange"in v.createElement("script")?(u=v.documentElement,function(C){var O=v.createElement("script");O.onreadystatechange=function(){y(C),O.onreadystatechange=null,u.removeChild(O),O=null},u.appendChild(O)}):function(C){setTimeout(y,0,C)},x.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var O=new Array(arguments.length-1),I=0;I<O.length;I++)O[I]=arguments[I+1];var R={callback:C,args:O};return m[p]=R,l(p),p++},x.clearImmediate=g}function g(C){delete m[C]}function y(C){if(b)setTimeout(y,0,C);else{var O=m[C];if(O){b=!0;try{(function(I){var R=I.callback,L=I.args;switch(L.length){case 0:R();break;case 1:R(L[0]);break;case 2:R(L[0],L[1]);break;case 3:R(L[0],L[1],L[2]);break;default:R.apply(a,L)}})(O)}finally{g(C),b=!1}}}}function _(C){C.source===o&&typeof C.data=="string"&&C.data.indexOf(f)===0&&y(+C.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(lC);var WF=lC.exports;const E_=nf(WF),HF=()=>{const[e,t]=k.useState(!1),[n,r]=k.useState([]),i=k.useRef(null),s=k.useCallback(async u=>{if(!u||u.length===0){r(f=>[...f,{success:!1,message:"No files selected."}]);return}t(!0);const c=[];try{for(let f=0;f<u.length;f++){const p=u[f];if(p.type==="application/zip"||p.name.endsWith(".zip"))try{const m=await E_.loadAsync(p),b=Object.values(m.files);for(const v of b)if(!v.dir&&v.name.endsWith(".json"))try{const x=await v.async("string"),g=JSON.parse(x),y=v.name.split("/").pop()||"unknown.json",_=y.replace(/\.json$/,"");localStorage.setItem(_,JSON.stringify(g)),c.push({success:!0,message:`Successfully extracted and stored "${y}" with key "${_}" from ZIP.`})}catch(x){const g=x instanceof Error?x.message:"Unknown error";c.push({success:!1,message:`Error processing file "${v.name}" from ZIP: ${g}`})}else v.dir||c.push({success:!1,message:`Skipped non-JSON file "${v.name}" from ZIP.`})}catch(m){const b=m instanceof Error?m.message:"Invalid ZIP file";c.push({success:!1,message:`Error processing ZIP file "${p.name}": ${b}`})}else if(p.type==="application/json"||p.name.endsWith(".json"))try{const m=new FileReader,b=await new Promise((y,_)=>{m.onload=()=>y(m.result),m.onerror=_,m.readAsText(p)}),v=JSON.parse(b),g=p.name.replace(/\.json$/,"");localStorage.setItem(g,JSON.stringify(v)),c.push({success:!0,message:`Successfully stored "${p.name}" with key "${g}".`})}catch(m){const b=m instanceof Error?m.message:"Unknown error";c.push({success:!1,message:`Error processing file "${p.name}": ${b}`})}else c.push({success:!1,message:`File "${p.name}" is not a JSON or ZIP file. Skipped.`})}}finally{r(f=>[...f,...c]),t(!1)}},[]),o=u=>{s(u.target.files),i.current&&(i.current.value="")},a=()=>{r([])},l=k.useCallback(async()=>{t(!0);try{debugger;const u=new E_;let c=!1,f=null;const p=localStorage.getItem("sankeertan_categories_data");if(p)try{f=JSON.parse(p),u.file("sankeertan_categories_data.json",p),c=!0}catch{console.warn("sankeertan_categories_data.json is not valid JSON, skipping."),f=null}else console.warn("sankeertan_categories_data.json not found in localStorage.");const m={};for(let g=0;g<localStorage.length;g++){debugger;const y=localStorage.key(g);if(console.log(y),y!=="sb-"+xS+"-auth-token"&&y&&y!=="sankeertan_categories_data"){const _=localStorage.getItem(y);if(_)try{JSON.parse(_);let C=u;if(f&&Array.isArray(f.data))for(const O of f.data)for(const I of O.books){const R=I.bookId,L=`sankeertan_song_details-${R.toLowerCase().replace(/ /g,"-")}`,z=`sankeertan_song_indices-${R.toLowerCase().replace(/ /g,"-")}`;if(y.startsWith(L)||y.startsWith(z)){if(!m[R]){const V=u.folder(R);V?m[R]=V:m[R]=u}C=m[R]||u;break}}C.file(`${y}.json`,_),c=!0}catch{console.warn(`Skipping key "${y}" as value is not valid JSON`)}}}if(!c){r(g=>[...g,{success:!1,message:"No valid JSON data found in localStorage to export."}]),t(!1);return}const b=await u.generateAsync({type:"blob",mimeType:"application/zip",compression:"DEFLATE"}),v=URL.createObjectURL(b),x=document.createElement("a");x.href=v,x.download="sankeertan_localStorage_backup.zip",document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(v),r(g=>[...g,{success:!0,message:"Successfully exported localStorage to ZIP file with folder structure."}])}catch(u){const c=u instanceof Error?u.message:"Unknown error during export";r(f=>[...f,{success:!1,message:`Error exporting localStorage: ${c}`}])}finally{t(!1)}},[]);return E.jsxs("div",{className:"p-4",children:[E.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Local Storage Sync"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("input",{type:"file",accept:".json,.zip",onChange:o,disabled:e,"aria-label":"Upload JSON or ZIP Files",multiple:!0,ref:i}),E.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload JSON files or a ZIP file containing JSON files.  Filename will be used as the key."})]}),E.jsx("div",{className:"mb-4",children:E.jsx("button",{onClick:l,disabled:e,className:"px-4 py-2 border rounded-md bg-blue-500 text-white",children:e?"Exporting...":"Export to ZIP"})}),e&&E.jsx("div",{className:"mb-4 flex items-center gap-2",children:E.jsx("span",{children:e?"Processing...":"Exporting..."})}),n.length>0&&E.jsxs("div",{className:"mb-4",children:[E.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Upload Results:"}),n.map((u,c)=>E.jsxs("div",{className:`mb-2 p-3 border rounded-md ${u.success?"border-green-500 bg-green-100 text-green-800":"border-red-500 bg-red-100 text-red-800"}`,children:[u.success?E.jsx("span",{style:{color:"green"},children:""}):E.jsx("span",{style:{color:"red"},children:""}),E.jsx("strong",{className:"mr-1",children:u.success?"Success":"Error"}),E.jsx("span",{children:u.message})]},c)),E.jsx("button",{onClick:a,className:"mt-2 px-4 py-2 border rounded-md",children:"Clear Results"})]}),E.jsxs("div",{className:"mt-8 p-4 border rounded-md bg-gray-50",children:[E.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Important Notes:"}),E.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"ZIP File Handling:"}),"  This page now supports uploading a single ZIP file.  The application will extract JSON files from the ZIP and store them in localStorage."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Key Derivation:"})," The filename of each JSON file is used as the key for storing its content in localStorage."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"File Overwriting:"})," If a key already exists in localStorage, it will be overwritten with the new content."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"ZIP Structure:"})," The ZIP file can contain JSON files in subfolders.  The filename of the file within the ZIP will be used as the localStorage key."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Non-JSON Files in ZIP:"})," Any non-JSON files within the ZIP will be skipped."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Error Handling:"})," The application attempts to provide informative error messages for file processing issues, including problems with individual files within a ZIP archive."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Export Feature:"}),`  A new "Export to ZIP" button has been added.  Clicking this will create a ZIP file containing all key-value pairs from your browser's localStorage (where the values are valid JSON), and prompt you to download it.  The keys will be used as the filenames in the ZIP.`]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Exported Data Format:"})," The exported ZIP file will now contain a folder structure."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Book Folders:"}),"  Data is organized into folders based on the book names found in  `sankeertan_categories_data.json`."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Root Folder:"})," Any keys that do not match the book naming convention will be placed in the root of the ZIP file."]}),E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"sankeertan_categories_data.json:"}),"  This file is included in the root of the ZIP."]})]})]})]})},Ii=({children:e,session:t})=>{const n=dr();return t?E.jsx(E.Fragment,{children:e}):(sessionStorage.setItem("redirect_path",n.pathname),E.jsx(gS,{to:"/login",replace:!0}))};function qF(){const{session:e}=bs(),{categories:t,isLoading:n}=Ly(),r=(t==null?void 0:t.flatMap(i=>i.books))||[];return n?E.jsx("div",{children:"Checking authentication..."}):E.jsx(hk,{children:E.jsx(ZI,{books:r,children:E.jsxs(j2,{children:[E.jsx(kn,{path:"/login",element:E.jsx(QR,{})}),E.jsx(kn,{path:"/signup",element:E.jsx(YR,{})}),E.jsx(kn,{path:"/change-password",element:E.jsx(JR,{})}),E.jsx(kn,{path:"/auth/callback",element:E.jsx(XR,{})}),E.jsx(kn,{path:"/settings",element:E.jsx(Ii,{session:e,children:E.jsx(NF,{})})}),E.jsx(kn,{path:"/categories",element:E.jsx(Ii,{session:e,children:E.jsx(YI,{})})}),E.jsx(kn,{path:"/books/:categoryId",element:E.jsx(Ii,{session:e,children:E.jsx(rD,{})})}),E.jsx(kn,{path:"/book/:categoryId/:bookId",element:E.jsx(Ii,{session:e,children:E.jsx(gD,{})})}),E.jsx(kn,{path:"/details/book/:categoryId/:bookId/:sourceRow/:songTitle",element:E.jsx(Ii,{session:e,children:E.jsx(FF,{})})}),E.jsx(kn,{path:"/sankeertan/:broadcastId",element:E.jsx(Ii,{session:e,children:E.jsx(UF,{broadcastId:1})})}),E.jsx(kn,{path:"/localstoragesync",element:E.jsx(Ii,{session:e,children:E.jsx(HF,{})})}),E.jsx(kn,{path:"/search",element:E.jsx(Ii,{session:e,children:E.jsx(KF,{})})}),E.jsx(kn,{path:"/",element:e?E.jsx(gS,{to:"/categories",replace:!0}):E.jsx("div",{children:"Welcome!"})})]})})})}const GF=k.createContext({books:[],categories:[],currentBook:null,loadBook:async()=>{},loading:!1,error:null}),QF=({children:e})=>{const[t,n]=k.useState([{id:"book1",name:"The Great Book A",categoryIds:["cat1","cat2"]},{id:"book2",name:"Another Fine Book B",categoryIds:["cat2","cat3"]},{id:"book3",name:"Wonderful Book C",categoryIds:["cat1"]}]),[r,i]=k.useState([{id:"cat1",name:"Fiction"},{id:"cat2",name:"Mystery"},{id:"cat3",name:"Science Fiction"}]),[s,o]=k.useState(null),[a,l]=k.useState(!1),[u,c]=k.useState(null),{bookId:f}=Au(),p=k.useCallback(async b=>{l(!0),c(null),o(null),await new Promise(x=>setTimeout(x,500));const v=t.find(x=>x.id===b);o(v||null),l(!1)},[t,l,c,o]);k.useEffect(()=>{f&&p(f)},[f,p]);const m={books:t,categories:r,currentBook:s,loadBook:p,loading:a,error:u};return E.jsx(GF.Provider,{value:m,children:e})},YF=({toggleDropdown:e,isDropdownOpen:t,openLanguageSettings:n})=>{var u;const[r,i]=k.useState(null),s=jr();k.useEffect(()=>{dn.auth.getSession().then(({data:{session:c}})=>{i(c)}),dn.auth.onAuthStateChange((c,f)=>{i(f)})},[]);const o=async()=>{const{error:c}=await dn.auth.signOut();c?(console.error("Error signing out:",c),alert("Error signing out. Please try again.")):s("/login")},{isOfflineMode:a,setIsOfflineMode:l}=$y();return E.jsx("div",{className:"relative inline-block text-left",children:r?E.jsxs("div",{children:[E.jsxs("button",{type:"button",className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",onClick:e,"aria-expanded":t,"aria-haspopup":"true",children:[((u=r.user)==null?void 0:u.email)||"User",E.jsx("svg",{className:"-mr-1 h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:E.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),t&&E.jsx("div",{className:"absolute right-0 z-[1000] mt-2 w-40 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:E.jsxs("div",{className:"py-1",children:[E.jsx("div",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitemcheckbox",children:E.jsxs("label",{className:"flex items-center",children:[E.jsx("input",{type:"checkbox",className:"mr-2 form-checkbox h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:a,onChange:c=>l(c.target.checked)}),E.jsx("span",{children:"Offline Mode"})]})}),E.jsx(Un,{to:"/sankeertan/1",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Chanting Together"}),E.jsx(Un,{to:"/categories",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Categories & Books"}),E.jsx(Un,{to:"/search",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Search"}),E.jsx(Un,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Settings (Language)"}),E.jsx(Un,{to:"/localstoragesync",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Local Storage Admin"}),E.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",role:"menuitem",onClick:()=>{e(),n()},children:"Language Settings (Context)"}),E.jsx(Un,{to:"/change-password",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Change Password"}),E.jsx("button",{onClick:o,className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Sign Out"})]})})]}):E.jsx(Un,{to:"/login",className:"text-blue-500 hover:underline px-3 py-2 inline-block",children:"Login"})})};var JF=Object.defineProperty,ZF=(e,t,n)=>t in e?JF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wp=(e,t,n)=>(ZF(e,typeof t!="symbol"?t+"":t,n),n);let XF=class{constructor(){wp(this,"current",this.detect()),wp(this,"handoffState","pending"),wp(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Gr=new XF;function zu(e){var t;return Gr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function gg(e){var t,n;return Gr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function uC(e){var t,n;return(n=(t=gg(e))==null?void 0:t.activeElement)!=null?n:null}function e4(e){return uC(e)===e}function Nf(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function xi(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Nf(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=xi();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Lf(){let[e]=k.useState(xi);return k.useEffect(()=>()=>e.dispose(),[e]),e}let Nn=(e,t)=>{Gr.isServer?k.useEffect(e,t):k.useLayoutEffect(e,t)};function wo(e){let t=k.useRef(e);return Nn(()=>{t.current=e},[e]),t}let ft=function(e){let t=wo(e);return Ke.useCallback((...n)=>t.current(...n),[t])};function Vu(e){return k.useMemo(()=>e,Object.values(e))}let t4=k.createContext(void 0);function n4(){return k.useContext(t4)}function yg(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function bi(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,bi),r}var Xd=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Xd||{}),es=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(es||{});function fr(){let e=i4();return k.useCallback(t=>r4({mergeRefs:e,...t}),[e])}function r4({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??s4;let l=cC(t,e);if(s)return Wc(l,n,r,o,a);let u=i??0;if(u&2){let{static:c=!1,...f}=l;if(c)return Wc(f,n,r,o,a)}if(u&1){let{unmount:c=!0,...f}=l;return bi(c?0:1,{0(){return null},1(){return Wc({...f,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Wc(l,n,r,o,a)}function Wc(e,t={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=bp(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},c=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(t){let p=!1,m=[];for(let[b,v]of Object.entries(t))typeof v=="boolean"&&(p=!0),v===!0&&m.push(b.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(p){f["data-headlessui-state"]=m.join(" ");for(let b of m)f[`data-${b}`]=""}}if(Bl(s)&&(Object.keys(Ls(l)).length>0||Object.keys(Ls(f)).length>0))if(!k.isValidElement(c)||Array.isArray(c)&&c.length>1||a4(c)){if(Object.keys(Ls(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ls(l)).concat(Object.keys(Ls(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=c.props,m=p==null?void 0:p.className,b=typeof m=="function"?(...g)=>yg(m(...g),l.className):yg(m,l.className),v=b?{className:b}:{},x=cC(c.props,Ls(bp(l,["ref"])));for(let g in f)g in x&&delete f[g];return k.cloneElement(c,Object.assign({},x,f,u,{ref:i(o4(c),u.ref)},v))}return k.createElement(s,Object.assign({},bp(l,["ref"]),!Bl(s)&&u,!Bl(s)&&f),c)}function i4(){let e=k.useRef([]),t=k.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function s4(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function cC(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return t}function Ln(e){var t;return Object.assign(k.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ls(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function bp(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function o4(e){return Ke.version.split(".")[0]>="19"?e.props.ref:e.ref}function Bl(e){return e===k.Fragment||e===Symbol.for("react.fragment")}function a4(e){return Bl(e.type)}let l4="span";var ef=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ef||{});function u4(e,t){var n;let{features:r=1,...i}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return fr()({ourProps:s,theirProps:i,slot:{},defaultTag:l4,name:"Hidden"})}let vg=Ln(u4);function c4(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ds(e){return c4(e)&&"tagName"in e}function po(e){return ds(e)&&"accessKey"in e}function ts(e){return ds(e)&&"tabIndex"in e}function d4(e){return ds(e)&&"style"in e}function f4(e){return po(e)&&e.nodeName==="IFRAME"}function h4(e){return po(e)&&e.nodeName==="INPUT"}let dC=Symbol();function p4(e,t=!0){return Object.assign(e,{[dC]:t})}function Qr(...e){let t=k.useRef(e);k.useEffect(()=>{t.current=e},[e]);let n=ft(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[dC]))?void 0:n}let _v=k.createContext(null);_v.displayName="DescriptionContext";function fC(){let e=k.useContext(_v);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,fC),t}return e}function m4(){let[e,t]=k.useState([]);return[e.length>0?e.join(" "):void 0,k.useMemo(()=>function(n){let r=ft(s=>(t(o=>[...o,s]),()=>t(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=k.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ke.createElement(_v.Provider,{value:i},n.children)},[t])]}let g4="p";function y4(e,t){let n=k.useId(),r=n4(),{id:i=`headlessui-description-${n}`,...s}=e,o=fC(),a=Qr(t);Nn(()=>o.register(i),[i,o.register]);let l=Vu({...o.slot,disabled:r||!1}),u={ref:a,...o.props,id:i};return fr()({ourProps:u,theirProps:s,slot:l,defaultTag:g4,name:o.name||"Description"})}let v4=Ln(y4),w4=Object.assign(v4,{});var hC=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(hC||{});let b4=k.createContext(()=>{});function _4({value:e,children:t}){return Ke.createElement(b4.Provider,{value:e},t)}let pC=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var x4=Object.defineProperty,S4=(e,t,n)=>t in e?x4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k4=(e,t,n)=>(S4(e,t+"",n),n),mC=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Zn=(e,t,n)=>(mC(e,t,"read from private field"),n?n.call(e):t.get(e)),_p=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},C_=(e,t,n,r)=>(mC(e,t,"write to private field"),t.set(e,n),n),Lr,bl,_l;let E4=class{constructor(t){_p(this,Lr,{}),_p(this,bl,new pC(()=>new Set)),_p(this,_l,new Set),k4(this,"disposables",xi()),C_(this,Lr,t),Gr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Zn(this,Lr)}subscribe(t,n){if(Gr.isServer)return()=>{};let r={selector:t,callback:n,current:t(Zn(this,Lr))};return Zn(this,_l).add(r),this.disposables.add(()=>{Zn(this,_l).delete(r)})}on(t,n){return Gr.isServer?()=>{}:(Zn(this,bl).get(t).add(n),this.disposables.add(()=>{Zn(this,bl).get(t).delete(n)}))}send(t){let n=this.reduce(Zn(this,Lr),t);if(n!==Zn(this,Lr)){C_(this,Lr,n);for(let r of Zn(this,_l)){let i=r.selector(Zn(this,Lr));gC(r.current,i)||(r.current=i,r.callback(i))}for(let r of Zn(this,bl).get(t.type))r(Zn(this,Lr),t)}}};Lr=new WeakMap,bl=new WeakMap,_l=new WeakMap;function gC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:xp(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:xp(e.entries(),t.entries()):T_(e)&&T_(t)?xp(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function xp(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function T_(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var C4=Object.defineProperty,T4=(e,t,n)=>t in e?C4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P_=(e,t,n)=>(T4(e,typeof t!="symbol"?t+"":t,n),n),P4=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(P4||{});let A4={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let s=e.stack.slice();return s.splice(i,1),s.push(n),r=s,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}},j4=class yC extends E4{constructor(){super(...arguments),P_(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),P_(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new yC({stack:[]})}reduce(t,n){return bi(n.type,A4,t,n)}};const vC=new pC(()=>j4.new());var wC={exports:{}},bC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku=k;function O4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var R4=typeof Object.is=="function"?Object.is:O4,I4=Ku.useSyncExternalStore,D4=Ku.useRef,N4=Ku.useEffect,L4=Ku.useMemo,$4=Ku.useDebugValue;bC.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=D4(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=L4(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var b=o.value;if(i(b,m))return f=b}return f=m}if(b=f,R4(c,m))return b;var v=r(m);return i!==void 0&&i(b,v)?(c=m,b):(c=m,f=v)}var u=!1,c,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var a=I4(e,s[0],s[1]);return N4(function(){o.hasValue=!0,o.value=a},[a]),$4(a),a};wC.exports=bC;var M4=wC.exports;function _C(e,t,n=gC){return M4.useSyncExternalStoreWithSelector(ft(r=>e.subscribe(F4,r)),ft(()=>e.state),ft(()=>e.state),ft(t),n)}function F4(e){return e}function Wu(e,t){let n=k.useId(),r=vC.get(t),[i,s]=_C(r,k.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Nn(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?s?i:!0:!1}let wg=new Map,Ul=new Map;function A_(e){var t;let n=(t=Ul.get(e))!=null?t:0;return Ul.set(e,n+1),n!==0?()=>j_(e):(wg.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>j_(e))}function j_(e){var t;let n=(t=Ul.get(e))!=null?t:1;if(n===1?Ul.delete(e):Ul.set(e,n-1),n!==1)return;let r=wg.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,wg.delete(e))}function B4(e,{allowed:t,disallowed:n}={}){let r=Wu(e,"inert-others");Nn(()=>{var i,s;if(!r)return;let o=xi();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(A_(l));let a=(s=t==null?void 0:t())!=null?s:[];for(let l of a){if(!l)continue;let u=zu(l);if(!u)continue;let c=l.parentElement;for(;c&&c!==u.body;){for(let f of c.children)a.some(p=>f.contains(p))||o.add(A_(f));c=c.parentElement}}return o.dispose},[r,t,n])}function U4(e,t,n){let r=wo(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});k.useEffect(()=>{if(!e)return;let i=t===null?null:po(t)?t:t.current;if(!i)return;let s=xi();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[t,r,e])}let tf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),z4=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var oi=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(oi||{}),bg=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(bg||{}),V4=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(V4||{});function K4(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(tf)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function W4(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(z4)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var xC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(xC||{});function H4(e,t=0){var n;return e===((n=zu(e))==null?void 0:n.body)?!1:bi(t,{0(){return e.matches(tf)},1(){let r=e;for(;r!==null;){if(r.matches(tf))return!0;r=r.parentElement}return!1}})}var q4=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(q4||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function di(e){e==null||e.focus({preventScroll:!0})}let G4=["textarea","input"].join(",");function Q4(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,G4))!=null?n:!1}function Y4(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function zl(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?gg(e[0]):document:gg(e),o=Array.isArray(e)?n?Y4(e):e:t&64?W4(e):K4(e);i.length>0&&o.length>1&&(o=o.filter(m=>!i.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===m:b===m))),r=r??(s==null?void 0:s.activeElement);let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,f=o.length,p;do{if(c>=f||c+f<=0)return 0;let m=l+c;if(t&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}p=o[m],p==null||p.focus(u),c+=a}while(p!==uC(p));return t&6&&Q4(p)&&p.select(),2}function SC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function J4(){return/Android/gi.test(window.navigator.userAgent)}function O_(){return SC()||J4()}function Hc(e,t,n,r){let i=wo(n);k.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return document.addEventListener(t,s,r),()=>document.removeEventListener(t,s,r)},[e,t,r])}function kC(e,t,n,r){let i=wo(n);k.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return window.addEventListener(t,s,r),()=>window.removeEventListener(t,s,r)},[e,t,r])}const R_=30;function Z4(e,t,n){let r=wo(n),i=k.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let c=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of c)if(f!==null&&(f.contains(u)||a.composed&&a.composedPath().includes(f)))return;return!H4(u,xC.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,t]),s=k.useRef(null);Hc(e,"pointerdown",a=>{var l,u;O_()||(s.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),Hc(e,"pointerup",a=>{if(O_()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=k.useRef({x:0,y:0});Hc(e,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),Hc(e,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=R_||Math.abs(l.y-o.current.y)>=R_))return i(a,()=>ts(a.target)?a.target:null)},!0),kC(e,"blur",a=>i(a,()=>f4(window.document.activeElement)?window.document.activeElement:null),!0)}function xv(...e){return k.useMemo(()=>zu(...e),[...e])}function EC(e,t,n,r){let i=wo(n);k.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function X4(e){return k.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function e5(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=t[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function t5(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,e-i);n.style(r,"paddingRight",`${s}px`)}}}function n5(){return SC()?{before({doc:e,d:t,meta:n}){function r(i){for(let s of n().containers)for(let o of s())if(o.contains(i))return!0;return!1}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=xi();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",a=>{if(ts(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);ts(c)&&!r(c)&&(o=c)}catch{}},!0),t.group(a=>{t.addEventListener(e,"touchstart",l=>{if(a.dispose(),ts(l.target)&&d4(l.target))if(r(l.target)){let u=l.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;a.style(u,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",a=>{if(ts(a.target)){if(h4(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function r5(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function I_(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let qs=e5(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:xi(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=I_(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=I_(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[n5(),t5(),r5()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});qs.subscribe(()=>{let e=qs.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&qs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&qs.dispatch("TEARDOWN",n)}});function i5(e,t,n=()=>({containers:[]})){let r=X4(qs),i=t?r.get(t):void 0,s=i?i.count>0:!1;return Nn(()=>{if(!(!t||!e))return qs.dispatch("PUSH",t,n),()=>qs.dispatch("POP",t,n)},[e,t]),s}function s5(e,t,n=()=>[document.body]){let r=Wu(e,"scroll-lock");i5(r,t,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function o5(e=0){let[t,n]=k.useState(e),r=k.useCallback(l=>n(l),[]),i=k.useCallback(l=>n(u=>u|l),[]),s=k.useCallback(l=>(t&l)===l,[t]),o=k.useCallback(l=>n(u=>u&~l),[]),a=k.useCallback(l=>n(u=>u^l),[]);return{flags:t,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var a5={},D_,N_;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((D_=process==null?void 0:a5)==null?void 0:D_.NODE_ENV)==="test"&&typeof((N_=Element==null?void 0:Element.prototype)==null?void 0:N_.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var l5=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(l5||{});function u5(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function c5(e,t,n,r){let[i,s]=k.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=o5(e&&i?3:0),u=k.useRef(!1),c=k.useRef(!1),f=Lf();return Nn(()=>{var p;if(e){if(n&&s(!0),!t){n&&a(3);return}return(p=r==null?void 0:r.start)==null||p.call(r,n),d5(t,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){c.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var m;c.current&&p5(t)||(u.current=!1,l(7),n||s(!1),(m=r==null?void 0:r.end)==null||m.call(r,n))}})}},[e,n,t,f]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function d5(e,{prepare:t,run:n,done:r,inFlight:i}){let s=xi();return h5(e,{prepare:t,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(f5(e,r))})}),s.dispose}function f5(e,t){var n,r;let i=xi();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||t()}),i.dispose)}function h5(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function p5(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Sv(e,t){let n=k.useRef([]),r=ft(e);k.useEffect(()=>{let i=[...n.current];for(let[s,o]of t.entries())if(n.current[s]!==o){let a=r(t,i);return n.current=t,a}},[r,...t])}let $f=k.createContext(null);$f.displayName="OpenClosedContext";var kr=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(kr||{});function Mf(){return k.useContext($f)}function m5({value:e,children:t}){return Ke.createElement($f.Provider,{value:e},t)}function g5({children:e}){return Ke.createElement($f.Provider,{value:null},e)}function y5(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Vi=[];y5(()=>{function e(t){if(!ts(t.target)||t.target===document.body||Vi[0]===t.target)return;let n=t.target;n=n.closest(tf),Vi.unshift(n??t.target),Vi=Vi.filter(r=>r!=null&&r.isConnected),Vi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function CC(e){let t=ft(e),n=k.useRef(!1);k.useEffect(()=>(n.current=!1,()=>{n.current=!0,Nf(()=>{n.current&&t()})}),[t])}let TC=k.createContext(!1);function v5(){return k.useContext(TC)}function L_(e){return Ke.createElement(TC.Provider,{value:e.force},e.children)}function w5(e){let t=v5(),n=k.useContext(AC),[r,i]=k.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(Gr.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return k.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),k.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let PC=k.Fragment,b5=Ln(function(e,t){let{ownerDocument:n=null,...r}=e,i=k.useRef(null),s=Qr(p4(p=>{i.current=p}),t),o=xv(i.current),a=n??o,l=w5(a),u=k.useContext(_g),c=Lf(),f=fr();return CC(()=>{var p;l&&l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l))}),l?vy.createPortal(Ke.createElement("div",{"data-headlessui-portal":"",ref:p=>{c.dispose(),u&&p&&c.add(u.register(p))}},f({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:PC,name:"Portal"})),l):null});function _5(e,t){let n=Qr(t),{enabled:r=!0,ownerDocument:i,...s}=e,o=fr();return r?Ke.createElement(b5,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:PC,name:"Portal"})}let x5=k.Fragment,AC=k.createContext(null);function S5(e,t){let{target:n,...r}=e,i={ref:Qr(t)},s=fr();return Ke.createElement(AC.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:x5,name:"Popover.Group"}))}let _g=k.createContext(null);function k5(){let e=k.useContext(_g),t=k.useRef([]),n=ft(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=ft(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),i=k.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,k.useMemo(()=>function({children:s}){return Ke.createElement(_g.Provider,{value:i},s)},[i])]}let E5=Ln(_5),jC=Ln(S5),C5=Object.assign(E5,{Group:jC});function T5(e,t=typeof document<"u"?document.defaultView:null,n){let r=Wu(e,"escape");EC(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===hC.Escape&&n(i))})}function P5(){var e;let[t]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=k.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Nn(()=>{if(!t)return;function i(s){r(s.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function A5({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=ft(()=>{var i,s;let o=zu(n),a=[];for(let l of e)l!==null&&(ds(l)?a.push(l):"current"in l&&ds(l.current)&&a.push(l.current));if(t!=null&&t.current)for(let l of t.current)a.push(l);for(let l of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&ds(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:r,contains:ft(i=>r().some(s=>s.contains(i)))}}let OC=k.createContext(null);function $_({children:e,node:t}){let[n,r]=k.useState(null),i=RC(t??n);return Ke.createElement(OC.Provider,{value:i},e,i===null&&Ke.createElement(vg,{features:ef.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=zu(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&ds(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function RC(e=null){var t;return(t=k.useContext(OC))!=null?t:e}function j5(){let e=typeof document>"u";return"useSyncExternalStore"in u0?(t=>t.useSyncExternalStore)(u0)(()=>()=>{},()=>!1,()=>!e):!1}function Ff(){let e=j5(),[t,n]=k.useState(Gr.isHandoffComplete);return t&&Gr.isHandoffComplete===!1&&n(!1),k.useEffect(()=>{t!==!0&&n(!0)},[t]),k.useEffect(()=>Gr.handoff(),[]),e?!1:t}function kv(){let e=k.useRef(!1);return Nn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var xl=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(xl||{});function O5(){let e=k.useRef(0);return kC(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function IC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)ds(n.current)&&t.add(n.current);return t}let R5="div";var Fs=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Fs||{});function I5(e,t){let n=k.useRef(null),r=Qr(n,t),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=e;Ff()||(a=0);let u=xv(n.current);$5(a,{ownerDocument:u});let c=M5(a,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:s});F5(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:c});let f=O5(),p=ft(y=>{if(!po(n.current))return;let _=n.current;(C=>C())(()=>{bi(f.current,{[xl.Forwards]:()=>{zl(_,oi.First,{skipElements:[y.relatedTarget,s]})},[xl.Backwards]:()=>{zl(_,oi.Last,{skipElements:[y.relatedTarget,s]})}})})}),m=Wu(!!(a&2),"focus-trap#tab-lock"),b=Lf(),v=k.useRef(!1),x={ref:r,onKeyDown(y){y.key=="Tab"&&(v.current=!0,b.requestAnimationFrame(()=>{v.current=!1}))},onBlur(y){if(!(a&4))return;let _=IC(o);po(n.current)&&_.add(n.current);let C=y.relatedTarget;ts(C)&&C.dataset.headlessuiFocusGuard!=="true"&&(DC(_,C)||(v.current?zl(n.current,bi(f.current,{[xl.Forwards]:()=>oi.Next,[xl.Backwards]:()=>oi.Previous})|oi.WrapAround,{relativeTo:y.target}):ts(y.target)&&di(y.target)))}},g=fr();return Ke.createElement(Ke.Fragment,null,m&&Ke.createElement(vg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:ef.Focusable}),g({ourProps:x,theirProps:l,defaultTag:R5,name:"FocusTrap"}),m&&Ke.createElement(vg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:ef.Focusable}))}let D5=Ln(I5),N5=Object.assign(D5,{features:Fs});function L5(e=!0){let t=k.useRef(Vi.slice());return Sv(([n],[r])=>{r===!0&&n===!1&&Nf(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Vi.slice())},[e,Vi,t]),ft(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function $5(e,{ownerDocument:t}){let n=!!(e&8),r=L5(n);Sv(()=>{n||e4(t==null?void 0:t.body)&&di(r())},[n]),CC(()=>{n&&di(r())})}function M5(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let s=k.useRef(null),o=Wu(!!(e&1),"focus-trap#initial-focus"),a=kv();return Sv(()=>{if(e===0)return;if(!o){i!=null&&i.current&&di(i.current);return}let l=n.current;l&&Nf(()=>{if(!a.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){s.current=u;return}}else if(l.contains(u)){s.current=u;return}if(r!=null&&r.current)di(r.current);else{if(e&16){if(zl(l,oi.First|oi.AutoFocus)!==bg.Error)return}else if(zl(l,oi.First)!==bg.Error)return;if(i!=null&&i.current&&(di(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t==null?void 0:t.activeElement})},[i,o,e]),s}function F5(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let s=kv(),o=!!(e&4);EC(t==null?void 0:t.defaultView,"focus",a=>{if(!o||!s.current)return;let l=IC(r);po(n.current)&&l.add(n.current);let u=i.current;if(!u)return;let c=a.target;po(c)?DC(l,c)?(i.current=c,di(c)):(a.preventDefault(),a.stopPropagation(),di(u)):di(i.current)},!0)}function DC(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function NC(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Bl((t=e.as)!=null?t:$C)||Ke.Children.count(e.children)===1}let Bf=k.createContext(null);Bf.displayName="TransitionContext";var B5=(e=>(e.Visible="visible",e.Hidden="hidden",e))(B5||{});function U5(){let e=k.useContext(Bf);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function z5(){let e=k.useContext(Uf);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Uf=k.createContext(null);Uf.displayName="NestingContext";function zf(e){return"children"in e?zf(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function LC(e,t){let n=wo(e),r=k.useRef([]),i=kv(),s=Lf(),o=ft((m,b=es.Hidden)=>{let v=r.current.findIndex(({el:x})=>x===m);v!==-1&&(bi(b,{[es.Unmount](){r.current.splice(v,1)},[es.Hidden](){r.current[v].state="hidden"}}),s.microTask(()=>{var x;!zf(r)&&i.current&&((x=n.current)==null||x.call(n))}))}),a=ft(m=>{let b=r.current.find(({el:v})=>v===m);return b?b.state!=="visible"&&(b.state="visible"):r.current.push({el:m,state:"visible"}),()=>o(m,es.Unmount)}),l=k.useRef([]),u=k.useRef(Promise.resolve()),c=k.useRef({enter:[],leave:[]}),f=ft((m,b,v)=>{l.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([x])=>x!==m)),t==null||t.chains.current[b].push([m,new Promise(x=>{l.current.push(x)})]),t==null||t.chains.current[b].push([m,new Promise(x=>{Promise.all(c.current[b].map(([g,y])=>y)).then(()=>x())})]),b==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>v(b)):v(b)}),p=ft((m,b,v)=>{Promise.all(c.current[b].splice(0).map(([x,g])=>g)).then(()=>{var x;(x=l.current.shift())==null||x()}).then(()=>v(b))});return k.useMemo(()=>({children:r,register:a,unregister:o,onStart:f,onStop:p,wait:u,chains:c}),[a,o,r,f,p,c,u])}let $C=k.Fragment,MC=Xd.RenderStrategy;function V5(e,t){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:c,enterTo:f,entered:p,leave:m,leaveFrom:b,leaveTo:v,...x}=e,[g,y]=k.useState(null),_=k.useRef(null),C=NC(e),O=Qr(...C?[_,t,y]:t===null?[]:[t]),I=(n=x.unmount)==null||n?es.Unmount:es.Hidden,{show:R,appear:L,initial:z}=U5(),[V,we]=k.useState(R?"visible":"hidden"),F=z5(),{register:ee,unregister:A}=F;Nn(()=>ee(_),[ee,_]),Nn(()=>{if(I===es.Hidden&&_.current){if(R&&V!=="visible"){we("visible");return}return bi(V,{hidden:()=>A(_),visible:()=>ee(_)})}},[V,_,ee,A,R,I]);let le=Ff();Nn(()=>{if(C&&le&&V==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,V,le,C]);let Oe=z&&!L,M=L&&R&&z,X=k.useRef(!1),Z=LC(()=>{X.current||(we("hidden"),A(_))},F),ue=ft(We=>{X.current=!0;let Be=We?"enter":"leave";Z.onStart(_,Be,be=>{be==="enter"?s==null||s():be==="leave"&&(a==null||a())})}),G=ft(We=>{let Be=We?"enter":"leave";X.current=!1,Z.onStop(_,Be,be=>{be==="enter"?o==null||o():be==="leave"&&(l==null||l())}),Be==="leave"&&!zf(Z)&&(we("hidden"),A(_))});k.useEffect(()=>{C&&i||(ue(R),G(R))},[R,C,i]);let Q=!(!i||!C||!le||Oe),[,ye]=c5(Q,g,R,{start:ue,end:G}),he=Ls({ref:O,className:((r=yg(x.className,M&&u,M&&c,ye.enter&&u,ye.enter&&ye.closed&&c,ye.enter&&!ye.closed&&f,ye.leave&&m,ye.leave&&!ye.closed&&b,ye.leave&&ye.closed&&v,!ye.transition&&R&&p))==null?void 0:r.trim())||void 0,...u5(ye)}),fe=0;V==="visible"&&(fe|=kr.Open),V==="hidden"&&(fe|=kr.Closed),R&&V==="hidden"&&(fe|=kr.Opening),!R&&V==="visible"&&(fe|=kr.Closing);let Fe=fr();return Ke.createElement(Uf.Provider,{value:Z},Ke.createElement(m5,{value:fe},Fe({ourProps:he,theirProps:x,defaultTag:$C,features:MC,visible:V==="visible",name:"Transition.Child"})))}function K5(e,t){let{show:n,appear:r=!1,unmount:i=!0,...s}=e,o=k.useRef(null),a=NC(e),l=Qr(...a?[o,t]:t===null?[]:[t]);Ff();let u=Mf();if(n===void 0&&u!==null&&(n=(u&kr.Open)===kr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,f]=k.useState(n?"visible":"hidden"),p=LC(()=>{n||f("hidden")}),[m,b]=k.useState(!0),v=k.useRef([n]);Nn(()=>{m!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),b(!1))},[v,n]);let x=k.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);Nn(()=>{n?f("visible"):!zf(p)&&o.current!==null&&f("hidden")},[n,p]);let g={unmount:i},y=ft(()=>{var O;m&&b(!1),(O=e.beforeEnter)==null||O.call(e)}),_=ft(()=>{var O;m&&b(!1),(O=e.beforeLeave)==null||O.call(e)}),C=fr();return Ke.createElement(Uf.Provider,{value:p},Ke.createElement(Bf.Provider,{value:x},C({ourProps:{...g,as:k.Fragment,children:Ke.createElement(FC,{ref:l,...g,...s,beforeEnter:y,beforeLeave:_})},theirProps:{},defaultTag:k.Fragment,features:MC,visible:c==="visible",name:"Transition"})))}function W5(e,t){let n=k.useContext(Bf)!==null,r=Mf()!==null;return Ke.createElement(Ke.Fragment,null,!n&&r?Ke.createElement(xg,{ref:t,...e}):Ke.createElement(FC,{ref:t,...e}))}let xg=Ln(K5),FC=Ln(V5),Ev=Ln(W5),hd=Object.assign(xg,{Child:Ev,Root:xg});var H5=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(H5||{}),q5=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(q5||{});let G5={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Cv=k.createContext(null);Cv.displayName="DialogContext";function Vf(e){let t=k.useContext(Cv);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Vf),n}return t}function Q5(e,t){return bi(t.type,G5,e,t)}let M_=Ln(function(e,t){let n=k.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:c=!1,...f}=e,p=k.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(p.current||(p.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=Mf();i===void 0&&m!==null&&(i=(m&kr.Open)===kr.Open);let b=k.useRef(null),v=Qr(b,t),x=xv(b.current),g=i?0:1,[y,_]=k.useReducer(Q5,{titleId:null,descriptionId:null,panelRef:k.createRef()}),C=ft(()=>s(!1)),O=ft(ye=>_({type:0,id:ye})),I=Ff()?g===0:!1,[R,L]=k5(),z={get current(){var ye;return(ye=y.panelRef.current)!=null?ye:b.current}},V=RC(),{resolveContainers:we}=A5({mainTreeNode:V,portals:R,defaultContainers:[z]}),F=m!==null?(m&kr.Closing)===kr.Closing:!1;B4(u||F?!1:I,{allowed:ft(()=>{var ye,he;return[(he=(ye=b.current)==null?void 0:ye.closest("[data-headlessui-portal]"))!=null?he:null]}),disallowed:ft(()=>{var ye;return[(ye=V==null?void 0:V.closest("body > *:not(#headlessui-portal-root)"))!=null?ye:null]})});let ee=vC.get(null);Nn(()=>{if(I)return ee.actions.push(r),()=>ee.actions.pop(r)},[ee,r,I]);let A=_C(ee,k.useCallback(ye=>ee.selectors.isTop(ye,r),[ee,r]));Z4(A,we,ye=>{ye.preventDefault(),C()}),T5(A,x==null?void 0:x.defaultView,ye=>{ye.preventDefault(),ye.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),C()}),s5(u||F?!1:I,x,we),U4(I,b,C);let[le,Oe]=m4(),M=k.useMemo(()=>[{dialogState:g,close:C,setTitleId:O,unmount:c},y],[g,C,O,c,y]),X=Vu({open:g===0}),Z={ref:v,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:g===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":le,unmount:c},ue=!P5(),G=Fs.None;I&&!u&&(G|=Fs.RestoreFocus,G|=Fs.TabLock,l&&(G|=Fs.AutoFocus),ue&&(G|=Fs.InitialFocus));let Q=fr();return Ke.createElement(g5,null,Ke.createElement(L_,{force:!0},Ke.createElement(C5,null,Ke.createElement(Cv.Provider,{value:M},Ke.createElement(jC,{target:b},Ke.createElement(L_,{force:!1},Ke.createElement(Oe,{slot:X},Ke.createElement(L,null,Ke.createElement(N5,{initialFocus:o,initialFocusFallback:b,containers:we,features:G},Ke.createElement(_4,{value:C},Q({ourProps:Z,theirProps:f,slot:X,defaultTag:Y5,features:J5,visible:g===0,name:"Dialog"})))))))))))}),Y5="div",J5=Xd.RenderStrategy|Xd.Static;function Z5(e,t){let{transition:n=!1,open:r,...i}=e,s=Mf(),o=e.hasOwnProperty("open")||s!==null,a=e.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?Ke.createElement($_,null,Ke.createElement(hd,{show:r,transition:n,unmount:i.unmount},Ke.createElement(M_,{ref:t,...i}))):Ke.createElement($_,null,Ke.createElement(M_,{ref:t,open:r,...i}))}let X5="div";function eB(e,t){let n=k.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=e,[{dialogState:o,unmount:a},l]=Vf("Dialog.Panel"),u=Qr(t,l.panelRef),c=Vu({open:o===0}),f=ft(x=>{x.stopPropagation()}),p={ref:u,id:r,onClick:f},m=i?Ev:k.Fragment,b=i?{unmount:a}:{},v=fr();return Ke.createElement(m,{...b},v({ourProps:p,theirProps:s,slot:c,defaultTag:X5,name:"Dialog.Panel"}))}let tB="div";function nB(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:s}]=Vf("Dialog.Backdrop"),o=Vu({open:i===0}),a={ref:t,"aria-hidden":!0},l=n?Ev:k.Fragment,u=n?{unmount:s}:{},c=fr();return Ke.createElement(l,{...u},c({ourProps:a,theirProps:r,slot:o,defaultTag:tB,name:"Dialog.Backdrop"}))}let rB="h2";function iB(e,t){let n=k.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:s,setTitleId:o}]=Vf("Dialog.Title"),a=Qr(t);k.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=Vu({open:s===0}),u={ref:a,id:r};return fr()({ourProps:u,theirProps:i,slot:l,defaultTag:rB,name:"Dialog.Title"})}let sB=Ln(Z5),oB=Ln(eB);Ln(nB);let aB=Ln(iB),Sp=Object.assign(sB,{Panel:oB,Title:aB,Description:w4});const lB=({isOpen:e,onClose:t,onLanguageSave:n,currentLanguage:r})=>{const[i,s]=k.useState(r),o=l=>{s(l.target.value)},a=()=>{n(i),t()};return E.jsx(hd,{appear:!0,show:e,as:k.Fragment,children:E.jsxs(Sp,{as:"div",className:"relative z-10",onClose:t,children:[E.jsxs(hd.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})," "]}),E.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:E.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:E.jsx(hd.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:E.jsxs(Sp.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[E.jsx(Sp.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Language Settings"}),E.jsxs("div",{className:"mt-2",children:[E.jsxs("label",{className:"block",children:[E.jsx("input",{type:"radio",name:"language",value:"iast",checked:i==="iast",onChange:o,className:"mr-2"}),"IAST"]}),E.jsx("br",{}),E.jsxs("label",{className:"block",children:[E.jsx("input",{type:"radio",name:"language",value:"tamil_superscripted",checked:i==="tamil_superscripted",onChange:o,className:"mr-2"}),"Tamil"]}),E.jsx("br",{}),E.jsxs("label",{className:"block",children:[E.jsx("input",{type:"radio",name:"language",value:"malayalam",checked:i==="malayalam",onChange:o,className:"mr-2"}),"Malayalam"]}),E.jsx("br",{}),E.jsxs("label",{className:"block",children:[E.jsx("input",{type:"radio",name:"language",value:"devanagari",checked:i==="devanagari",onChange:o,className:"mr-2"}),"Devanagari"]}),E.jsx("br",{}),E.jsxs("label",{className:"block",children:[E.jsx("input",{type:"radio",name:"language",value:"itrans",checked:i==="itrans",onChange:o,className:"mr-2"}),"ITrans"]}),E.jsx("br",{})]}),E.jsxs("div",{className:"mt-4",children:[E.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 mr-2",onClick:t,children:"Close"}),E.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:a,children:"Save"})]})]})})})})]})})},uB=()=>{const[e,t]=k.useState(navigator.onLine);k.useEffect(()=>{const p=()=>t(!0),m=()=>t(!1);return window.addEventListener("online",p),window.addEventListener("offline",m),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(b=>{console.log("Service Worker is active:",b.active)}),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",m)}},[]);const{preferredLanguage:n,setPreferredLanguage:r}=Ba(),{session:i}=bs(),[s,o]=k.useState(!1),a=()=>o(!s),[l,u]=k.useState(!1),c=()=>u(!0),f=()=>u(!1);return k.useEffect(()=>{i&&o(!1)},[i]),E.jsx(JI,{children:E.jsx(GR,{children:E.jsxs("div",{className:"app-layout",children:[" ",E.jsx("div",{className:"flex justify-end p-4 bg-gray-100",children:E.jsx(YF,{toggleDropdown:a,isDropdownOpen:s,openLanguageSettings:c})}),E.jsx(lB,{isOpen:l,onClose:f,onLanguageSave:r,currentLanguage:n}),E.jsx(QI,{children:E.jsxs(QF,{children:[E.jsx(qF,{}),E.jsx(DF,{})]})})]})})})};function cB(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e;let a,l;const u=async(f=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(a=await $a(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/new-sankeertan/sw.js",{scope:"/new-sankeertan/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;a.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),a.addEventListener("installed",f=>{f.isUpdate||r==null||r()}),a.register({immediate:t}).then(f=>{s?s("/new-sankeertan/sw.js",f):i==null||i(f)}).catch(f=>{o==null||o(f)})}}return l=c(),u}cB();const dB=new SI({defaultOptions:{queries:{staleTime:1/0,gcTime:1/0}}}),fB=kp.createRoot(document.getElementById("root"));fB.render(E.jsx(Ke.StrictMode,{children:E.jsx(kI,{client:dB,children:E.jsx(ej,{children:E.jsx(hk,{children:E.jsx(uB,{})})})})}));
