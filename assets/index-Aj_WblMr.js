var MT=Object.defineProperty;var m0=e=>{throw TypeError(e)};var FT=(e,t,n)=>t in e?MT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var il=(e,t,n)=>FT(e,typeof t!="symbol"?t+"":t,n),Rf=(e,t,n)=>t.has(e)||m0("Cannot "+n);var Q=(e,t,n)=>(Rf(e,t,"read from private field"),n?n.call(e):t.get(e)),qe=(e,t,n)=>t.has(e)?m0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Me=(e,t,n,r)=>(Rf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),it=(e,t,n)=>(Rf(e,t,"access private method"),n);var _c=(e,t,n,r)=>({set _(s){Me(e,t,s,n)},get _(){return Q(e,t,r)}});function BT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function UT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var px={exports:{}},uh={},mx={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=Symbol.for("react.element"),zT=Symbol.for("react.portal"),VT=Symbol.for("react.fragment"),KT=Symbol.for("react.strict_mode"),WT=Symbol.for("react.profiler"),HT=Symbol.for("react.provider"),qT=Symbol.for("react.context"),GT=Symbol.for("react.forward_ref"),YT=Symbol.for("react.suspense"),QT=Symbol.for("react.memo"),JT=Symbol.for("react.lazy"),g0=Symbol.iterator;function ZT(e){return e===null||typeof e!="object"?null:(e=g0&&e[g0]||e["@@iterator"],typeof e=="function"?e:null)}var gx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yx=Object.assign,vx={};function La(e,t,n){this.props=e,this.context=t,this.refs=vx,this.updater=n||gx}La.prototype.isReactComponent={};La.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};La.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wx(){}wx.prototype=La.prototype;function Ng(e,t,n){this.props=e,this.context=t,this.refs=vx,this.updater=n||gx}var Lg=Ng.prototype=new wx;Lg.constructor=Ng;yx(Lg,La.prototype);Lg.isPureReactComponent=!0;var y0=Array.isArray,bx=Object.prototype.hasOwnProperty,$g={current:null},_x={key:!0,ref:!0,__self:!0,__source:!0};function xx(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)bx.call(t,r)&&!_x.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ju,type:e,key:i,ref:o,props:s,_owner:$g.current}}function XT(e,t){return{$$typeof:ju,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mg(e){return typeof e=="object"&&e!==null&&e.$$typeof===ju}function eP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var v0=/\/+/g;function Af(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eP(""+e.key):t.toString(36)}function ed(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ju:case zT:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Af(o,0):r,y0(s)?(n="",e!=null&&(n=e.replace(v0,"$&/")+"/"),ed(s,t,n,"",function(u){return u})):s!=null&&(Mg(s)&&(s=XT(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(v0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",y0(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Af(i,a);o+=ed(i,t,n,l,s)}else if(l=ZT(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Af(i,a++),o+=ed(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xc(e,t,n){if(e==null)return e;var r=[],s=0;return ed(e,r,"","",function(i){return t.call(n,i,s++)}),r}function tP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kn={current:null},td={transition:null},nP={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:td,ReactCurrentOwner:$g};function kx(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:xc,forEach:function(e,t,n){xc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xc(e,function(){t++}),t},toArray:function(e){return xc(e,function(t){return t})||[]},only:function(e){if(!Mg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=La;rt.Fragment=VT;rt.Profiler=WT;rt.PureComponent=Ng;rt.StrictMode=KT;rt.Suspense=YT;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nP;rt.act=kx;rt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yx({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$g.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)bx.call(t,l)&&!_x.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ju,type:e.type,key:s,ref:i,props:r,_owner:o}};rt.createContext=function(e){return e={$$typeof:qT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HT,_context:e},e.Consumer=e};rt.createElement=xx;rt.createFactory=function(e){var t=xx.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:GT,render:e}};rt.isValidElement=Mg;rt.lazy=function(e){return{$$typeof:JT,_payload:{_status:-1,_result:e},_init:tP}};rt.memo=function(e,t){return{$$typeof:QT,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=td.transition;td.transition={};try{e()}finally{td.transition=t}};rt.unstable_act=kx;rt.useCallback=function(e,t){return kn.current.useCallback(e,t)};rt.useContext=function(e){return kn.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return kn.current.useDeferredValue(e)};rt.useEffect=function(e,t){return kn.current.useEffect(e,t)};rt.useId=function(){return kn.current.useId()};rt.useImperativeHandle=function(e,t,n){return kn.current.useImperativeHandle(e,t,n)};rt.useInsertionEffect=function(e,t){return kn.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return kn.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return kn.current.useMemo(e,t)};rt.useReducer=function(e,t,n){return kn.current.useReducer(e,t,n)};rt.useRef=function(e){return kn.current.useRef(e)};rt.useState=function(e){return kn.current.useState(e)};rt.useSyncExternalStore=function(e,t,n){return kn.current.useSyncExternalStore(e,t,n)};rt.useTransition=function(){return kn.current.useTransition()};rt.version="18.3.1";mx.exports=rt;var S=mx.exports;const Ke=Au(S),w0=BT({__proto__:null,default:Ke},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP=S,sP=Symbol.for("react.element"),iP=Symbol.for("react.fragment"),oP=Object.prototype.hasOwnProperty,aP=rP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lP={key:!0,ref:!0,__self:!0,__source:!0};function Sx(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)oP.call(t,r)&&!lP.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:sP,type:e,key:i,ref:o,props:s,_owner:aP.current}}uh.Fragment=iP;uh.jsx=Sx;uh.jsxs=Sx;px.exports=uh;var k=px.exports,Dp={},Ex={exports:{}},Gn={},Cx={exports:{}},Tx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ie,te){var he=ie.length;ie.push(te);e:for(;0<he;){var q=he-1>>>1,G=ie[q];if(0<s(G,te))ie[q]=te,ie[he]=G,he=q;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var te=ie[0],he=ie.pop();if(he!==te){ie[0]=he;e:for(var q=0,G=ie.length,z=G>>>1;q<z;){var ce=2*(q+1)-1,oe=ie[ce],ye=ce+1,De=ie[ye];if(0>s(oe,he))ye<G&&0>s(De,oe)?(ie[q]=De,ie[ye]=he,q=ye):(ie[q]=oe,ie[ce]=he,q=ce);else if(ye<G&&0>s(De,he))ie[q]=De,ie[ye]=he,q=ye;else break e}}return te}function s(ie,te){var he=ie.sortIndex-te.sortIndex;return he!==0?he:ie.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,p=3,f=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(ie){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=ie)r(u),te.sortIndex=te.expirationTime,t(l,te);else break;te=n(u)}}function T(ie){if(y=!1,_(ie),!w)if(n(l)!==null)w=!0,me(A);else{var te=n(u);te!==null&&re(T,te.startTime-ie)}}function A(ie,te){w=!1,y&&(y=!1,g(D),D=-1),f=!0;var he=p;try{for(_(te),h=n(l);h!==null&&(!(h.expirationTime>te)||ie&&!de());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var G=q(h.expirationTime<=te);te=e.unstable_now(),typeof G=="function"?h.callback=G:h===n(l)&&r(l),_(te)}else r(l);h=n(l)}if(h!==null)var z=!0;else{var ce=n(u);ce!==null&&re(T,ce.startTime-te),z=!1}return z}finally{h=null,p=he,f=!1}}var I=!1,j=null,D=-1,$=5,F=-1;function de(){return!(e.unstable_now()-F<$)}function N(){if(j!==null){var ie=e.unstable_now();F=ie;var te=!0;try{te=j(!0,ie)}finally{te?W():(I=!1,j=null)}}else I=!1}var W;if(typeof v=="function")W=function(){v(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,K=C.port2;C.port1.onmessage=N,W=function(){K.postMessage(null)}}else W=function(){b(N,0)};function me(ie){j=ie,I||(I=!0,W())}function re(ie,te){D=b(function(){ie(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){w||f||(w=!0,me(A))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(ie){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var he=p;p=te;try{return ie()}finally{p=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,te){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var he=p;p=ie;try{return te()}finally{p=he}},e.unstable_scheduleCallback=function(ie,te,he){var q=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?q+he:q):he=q,ie){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=he+G,ie={id:c++,callback:te,priorityLevel:ie,startTime:he,expirationTime:G,sortIndex:-1},he>q?(ie.sortIndex=he,t(u,ie),n(l)===null&&ie===n(u)&&(y?(g(D),D=-1):y=!0,re(T,he-q))):(ie.sortIndex=G,t(l,ie),w||f||(w=!0,me(A))),ie},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(ie){var te=p;return function(){var he=p;p=te;try{return ie.apply(this,arguments)}finally{p=he}}}})(Tx);Cx.exports=Tx;var uP=Cx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP=S,Hn=uP;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Px=new Set,Jl={};function yo(e,t){Sa(e,t),Sa(e+"Capture",t)}function Sa(e,t){for(Jl[e]=t,e=0;e<t.length;e++)Px.add(t[e])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Np=Object.prototype.hasOwnProperty,dP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b0={},_0={};function hP(e){return Np.call(_0,e)?!0:Np.call(b0,e)?!1:dP.test(e)?_0[e]=!0:(b0[e]=!0,!1)}function fP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pP(e,t,n,r){if(t===null||typeof t>"u"||fP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){an[e]=new Sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];an[t]=new Sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){an[e]=new Sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){an[e]=new Sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){an[e]=new Sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){an[e]=new Sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){an[e]=new Sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){an[e]=new Sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){an[e]=new Sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fg=/[\-:]([a-z])/g;function Bg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fg,Bg);an[t]=new Sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fg,Bg);an[t]=new Sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fg,Bg);an[t]=new Sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){an[e]=new Sn(e,1,!1,e.toLowerCase(),null,!1,!1)});an.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){an[e]=new Sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ug(e,t,n,r){var s=an.hasOwnProperty(t)?an[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pP(t,n,s,r)&&(n=null),r||s===null?hP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Es=cP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kc=Symbol.for("react.element"),Uo=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Rx=Symbol.for("react.provider"),Ax=Symbol.for("react.context"),Vg=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Mp=Symbol.for("react.suspense_list"),Kg=Symbol.for("react.memo"),Ms=Symbol.for("react.lazy"),jx=Symbol.for("react.offscreen"),x0=Symbol.iterator;function ol(e){return e===null||typeof e!="object"?null:(e=x0&&e[x0]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,jf;function _l(e){if(jf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jf=t&&t[1]||""}return`
`+jf+e}var Of=!1;function If(e,t){if(!e||Of)return"";Of=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Of=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_l(e):""}function mP(e){switch(e.tag){case 5:return _l(e.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 2:case 15:return e=If(e.type,!1),e;case 11:return e=If(e.type.render,!1),e;case 1:return e=If(e.type,!0),e;default:return""}}function Fp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zo:return"Fragment";case Uo:return"Portal";case Lp:return"Profiler";case zg:return"StrictMode";case $p:return"Suspense";case Mp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ax:return(e.displayName||"Context")+".Consumer";case Rx:return(e._context.displayName||"Context")+".Provider";case Vg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kg:return t=e.displayName||null,t!==null?t:Fp(e.type)||"Memo";case Ms:t=e._payload,e=e._init;try{return Fp(e(t))}catch{}}return null}function gP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fp(t);case 8:return t===zg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ox(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yP(e){var t=Ox(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sc(e){e._valueTracker||(e._valueTracker=yP(e))}function Ix(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ox(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bp(e,t){var n=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function k0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dx(e,t){t=t.checked,t!=null&&Ug(e,"checked",t,!1)}function Up(e,t){Dx(e,t);var n=fi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zp(e,t.type,n):t.hasOwnProperty("defaultValue")&&zp(e,t.type,fi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zp(e,t,n){(t!=="number"||xd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xl=Array.isArray;function sa(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function E0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Se(92));if(xl(n)){if(1<n.length)throw Error(Se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fi(n)}}function Nx(e,t){var n=fi(t.value),r=fi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function C0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ec,$x=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ec=Ec||document.createElement("div"),Ec.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ec.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vP=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(e){vP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jl[t]=jl[e]})});function Mx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jl.hasOwnProperty(e)&&jl[e]?(""+t).trim():t+"px"}function Fx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Mx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var wP=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(e,t){if(t){if(wP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function Hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qp=null;function Wg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gp=null,ia=null,oa=null;function T0(e){if(e=Du(e)){if(typeof Gp!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=ph(t),Gp(e.stateNode,e.type,t))}}function Bx(e){ia?oa?oa.push(e):oa=[e]:ia=e}function Ux(){if(ia){var e=ia,t=oa;if(oa=ia=null,T0(e),t)for(e=0;e<t.length;e++)T0(t[e])}}function zx(e,t){return e(t)}function Vx(){}var Df=!1;function Kx(e,t,n){if(Df)return e(t,n);Df=!0;try{return zx(e,t,n)}finally{Df=!1,(ia!==null||oa!==null)&&(Vx(),Ux())}}function Xl(e,t){var n=e.stateNode;if(n===null)return null;var r=ph(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Se(231,t,typeof n));return n}var Yp=!1;if(gs)try{var al={};Object.defineProperty(al,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Yp=!1}function bP(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ol=!1,kd=null,Sd=!1,Qp=null,_P={onError:function(e){Ol=!0,kd=e}};function xP(e,t,n,r,s,i,o,a,l){Ol=!1,kd=null,bP.apply(_P,arguments)}function kP(e,t,n,r,s,i,o,a,l){if(xP.apply(this,arguments),Ol){if(Ol){var u=kd;Ol=!1,kd=null}else throw Error(Se(198));Sd||(Sd=!0,Qp=u)}}function vo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P0(e){if(vo(e)!==e)throw Error(Se(188))}function SP(e){var t=e.alternate;if(!t){if(t=vo(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return P0(s),e;if(i===r)return P0(s),t;i=i.sibling}throw Error(Se(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Se(189))}}if(n.alternate!==r)throw Error(Se(190))}if(n.tag!==3)throw Error(Se(188));return n.stateNode.current===n?e:t}function Hx(e){return e=SP(e),e!==null?qx(e):null}function qx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qx(e);if(t!==null)return t;e=e.sibling}return null}var Gx=Hn.unstable_scheduleCallback,R0=Hn.unstable_cancelCallback,EP=Hn.unstable_shouldYield,CP=Hn.unstable_requestPaint,Nt=Hn.unstable_now,TP=Hn.unstable_getCurrentPriorityLevel,Hg=Hn.unstable_ImmediatePriority,Yx=Hn.unstable_UserBlockingPriority,Ed=Hn.unstable_NormalPriority,PP=Hn.unstable_LowPriority,Qx=Hn.unstable_IdlePriority,ch=null,Gr=null;function RP(e){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(ch,e,void 0,(e.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:OP,AP=Math.log,jP=Math.LN2;function OP(e){return e>>>=0,e===0?32:31-(AP(e)/jP|0)|0}var Cc=64,Tc=4194304;function kl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=kl(a):(i&=o,i!==0&&(r=kl(i)))}else o=n&~s,o!==0?r=kl(o):i!==0&&(r=kl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ar(t),s=1<<n,r|=e[n],t&=~s;return r}function IP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ar(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=IP(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Jp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jx(){var e=Cc;return Cc<<=1,!(Cc&4194240)&&(Cc=64),e}function Nf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ou(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ar(t),e[t]=n}function NP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ar(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function qg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ar(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var dt=0;function Zx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xx,Gg,ek,tk,nk,Zp=!1,Pc=[],ri=null,si=null,ii=null,eu=new Map,tu=new Map,Bs=[],LP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A0(e,t){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(t.pointerId)}}function ll(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Du(t),t!==null&&Gg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function $P(e,t,n,r,s){switch(t){case"focusin":return ri=ll(ri,e,t,n,r,s),!0;case"dragenter":return si=ll(si,e,t,n,r,s),!0;case"mouseover":return ii=ll(ii,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return eu.set(i,ll(eu.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,tu.set(i,ll(tu.get(i)||null,e,t,n,r,s)),!0}return!1}function rk(e){var t=zi(e.target);if(t!==null){var n=vo(t);if(n!==null){if(t=n.tag,t===13){if(t=Wx(n),t!==null){e.blockedOn=t,nk(e.priority,function(){ek(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qp=r,n.target.dispatchEvent(r),qp=null}else return t=Du(n),t!==null&&Gg(t),e.blockedOn=n,!1;t.shift()}return!0}function j0(e,t,n){nd(e)&&n.delete(t)}function MP(){Zp=!1,ri!==null&&nd(ri)&&(ri=null),si!==null&&nd(si)&&(si=null),ii!==null&&nd(ii)&&(ii=null),eu.forEach(j0),tu.forEach(j0)}function ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Zp||(Zp=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,MP)))}function nu(e){function t(s){return ul(s,e)}if(0<Pc.length){ul(Pc[0],e);for(var n=1;n<Pc.length;n++){var r=Pc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ri!==null&&ul(ri,e),si!==null&&ul(si,e),ii!==null&&ul(ii,e),eu.forEach(t),tu.forEach(t),n=0;n<Bs.length;n++)r=Bs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bs.length&&(n=Bs[0],n.blockedOn===null);)rk(n),n.blockedOn===null&&Bs.shift()}var aa=Es.ReactCurrentBatchConfig,Td=!0;function FP(e,t,n,r){var s=dt,i=aa.transition;aa.transition=null;try{dt=1,Yg(e,t,n,r)}finally{dt=s,aa.transition=i}}function BP(e,t,n,r){var s=dt,i=aa.transition;aa.transition=null;try{dt=4,Yg(e,t,n,r)}finally{dt=s,aa.transition=i}}function Yg(e,t,n,r){if(Td){var s=Xp(e,t,n,r);if(s===null)Wf(e,t,r,Pd,n),A0(e,r);else if($P(s,e,t,n,r))r.stopPropagation();else if(A0(e,r),t&4&&-1<LP.indexOf(e)){for(;s!==null;){var i=Du(s);if(i!==null&&Xx(i),i=Xp(e,t,n,r),i===null&&Wf(e,t,r,Pd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wf(e,t,r,null,n)}}var Pd=null;function Xp(e,t,n,r){if(Pd=null,e=Wg(r),e=zi(e),e!==null)if(t=vo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pd=e,null}function sk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TP()){case Hg:return 1;case Yx:return 4;case Ed:case PP:return 16;case Qx:return 536870912;default:return 16}default:return 16}}var Xs=null,Qg=null,rd=null;function ik(){if(rd)return rd;var e,t=Qg,n=t.length,r,s="value"in Xs?Xs.value:Xs.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return rd=s.slice(e,1<r?1-r:void 0)}function sd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rc(){return!0}function O0(){return!1}function Yn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rc:O0,this.isPropagationStopped=O0,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),t}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jg=Yn($a),Iu=Ct({},$a,{view:0,detail:0}),UP=Yn(Iu),Lf,$f,cl,dh=Ct({},Iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cl&&(cl&&e.type==="mousemove"?(Lf=e.screenX-cl.screenX,$f=e.screenY-cl.screenY):$f=Lf=0,cl=e),Lf)},movementY:function(e){return"movementY"in e?e.movementY:$f}}),I0=Yn(dh),zP=Ct({},dh,{dataTransfer:0}),VP=Yn(zP),KP=Ct({},Iu,{relatedTarget:0}),Mf=Yn(KP),WP=Ct({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),HP=Yn(WP),qP=Ct({},$a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),GP=Yn(qP),YP=Ct({},$a,{data:0}),D0=Yn(YP),QP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZP[e])?!!t[e]:!1}function Zg(){return XP}var e2=Ct({},Iu,{key:function(e){if(e.key){var t=QP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zg,charCode:function(e){return e.type==="keypress"?sd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t2=Yn(e2),n2=Ct({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N0=Yn(n2),r2=Ct({},Iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zg}),s2=Yn(r2),i2=Ct({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),o2=Yn(i2),a2=Ct({},dh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),l2=Yn(a2),u2=[9,13,27,32],Xg=gs&&"CompositionEvent"in window,Il=null;gs&&"documentMode"in document&&(Il=document.documentMode);var c2=gs&&"TextEvent"in window&&!Il,ok=gs&&(!Xg||Il&&8<Il&&11>=Il),L0=" ",$0=!1;function ak(e,t){switch(e){case"keyup":return u2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vo=!1;function d2(e,t){switch(e){case"compositionend":return lk(t);case"keypress":return t.which!==32?null:($0=!0,L0);case"textInput":return e=t.data,e===L0&&$0?null:e;default:return null}}function h2(e,t){if(Vo)return e==="compositionend"||!Xg&&ak(e,t)?(e=ik(),rd=Qg=Xs=null,Vo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ok&&t.locale!=="ko"?null:t.data;default:return null}}var f2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!f2[e.type]:t==="textarea"}function uk(e,t,n,r){Bx(r),t=Rd(t,"onChange"),0<t.length&&(n=new Jg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dl=null,ru=null;function p2(e){bk(e,0)}function hh(e){var t=Ho(e);if(Ix(t))return e}function m2(e,t){if(e==="change")return t}var ck=!1;if(gs){var Ff;if(gs){var Bf="oninput"in document;if(!Bf){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),Bf=typeof F0.oninput=="function"}Ff=Bf}else Ff=!1;ck=Ff&&(!document.documentMode||9<document.documentMode)}function B0(){Dl&&(Dl.detachEvent("onpropertychange",dk),ru=Dl=null)}function dk(e){if(e.propertyName==="value"&&hh(ru)){var t=[];uk(t,ru,e,Wg(e)),Kx(p2,t)}}function g2(e,t,n){e==="focusin"?(B0(),Dl=t,ru=n,Dl.attachEvent("onpropertychange",dk)):e==="focusout"&&B0()}function y2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hh(ru)}function v2(e,t){if(e==="click")return hh(t)}function w2(e,t){if(e==="input"||e==="change")return hh(t)}function b2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Or=typeof Object.is=="function"?Object.is:b2;function su(e,t){if(Or(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Np.call(t,s)||!Or(e[s],t[s]))return!1}return!0}function U0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function z0(e,t){var n=U0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=U0(n)}}function hk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fk(){for(var e=window,t=xd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xd(e.document)}return t}function ey(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _2(e){var t=fk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hk(n.ownerDocument.documentElement,n)){if(r!==null&&ey(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=z0(n,i);var o=z0(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var x2=gs&&"documentMode"in document&&11>=document.documentMode,Ko=null,em=null,Nl=null,tm=!1;function V0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tm||Ko==null||Ko!==xd(r)||(r=Ko,"selectionStart"in r&&ey(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nl&&su(Nl,r)||(Nl=r,r=Rd(em,"onSelect"),0<r.length&&(t=new Jg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ko)))}function Ac(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wo={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},Uf={},pk={};gs&&(pk=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function fh(e){if(Uf[e])return Uf[e];if(!Wo[e])return e;var t=Wo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pk)return Uf[e]=t[n];return e}var mk=fh("animationend"),gk=fh("animationiteration"),yk=fh("animationstart"),vk=fh("transitionend"),wk=new Map,K0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(e,t){wk.set(e,t),yo(t,[e])}for(var zf=0;zf<K0.length;zf++){var Vf=K0[zf],k2=Vf.toLowerCase(),S2=Vf[0].toUpperCase()+Vf.slice(1);yi(k2,"on"+S2)}yi(mk,"onAnimationEnd");yi(gk,"onAnimationIteration");yi(yk,"onAnimationStart");yi("dblclick","onDoubleClick");yi("focusin","onFocus");yi("focusout","onBlur");yi(vk,"onTransitionEnd");Sa("onMouseEnter",["mouseout","mouseover"]);Sa("onMouseLeave",["mouseout","mouseover"]);Sa("onPointerEnter",["pointerout","pointerover"]);Sa("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function W0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kP(r,t,void 0,e),e.currentTarget=null}function bk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;W0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;W0(s,a,u),i=l}}}if(Sd)throw e=Qp,Sd=!1,Qp=null,e}function gt(e,t){var n=t[om];n===void 0&&(n=t[om]=new Set);var r=e+"__bubble";n.has(r)||(_k(t,e,2,!1),n.add(r))}function Kf(e,t,n){var r=0;t&&(r|=4),_k(n,e,r,t)}var jc="_reactListening"+Math.random().toString(36).slice(2);function iu(e){if(!e[jc]){e[jc]=!0,Px.forEach(function(n){n!=="selectionchange"&&(E2.has(n)||Kf(n,!1,e),Kf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jc]||(t[jc]=!0,Kf("selectionchange",!1,t))}}function _k(e,t,n,r){switch(sk(t)){case 1:var s=FP;break;case 4:s=BP;break;default:s=Yg}n=s.bind(null,t,n,e),s=void 0,!Yp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wf(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Kx(function(){var u=i,c=Wg(n),h=[];e:{var p=wk.get(e);if(p!==void 0){var f=Jg,w=e;switch(e){case"keypress":if(sd(n)===0)break e;case"keydown":case"keyup":f=t2;break;case"focusin":w="focus",f=Mf;break;case"focusout":w="blur",f=Mf;break;case"beforeblur":case"afterblur":f=Mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=VP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=s2;break;case mk:case gk:case yk:f=HP;break;case vk:f=o2;break;case"scroll":f=UP;break;case"wheel":f=l2;break;case"copy":case"cut":case"paste":f=GP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=N0}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var v=u,_;v!==null;){_=v;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,g!==null&&(T=Xl(v,g),T!=null&&y.push(ou(v,T,_)))),b)break;v=v.return}0<y.length&&(p=new f(p,w,null,n,c),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==qp&&(w=n.relatedTarget||n.fromElement)&&(zi(w)||w[ys]))break e;if((f||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,f?(w=n.relatedTarget||n.toElement,f=u,w=w?zi(w):null,w!==null&&(b=vo(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(f=null,w=u),f!==w)){if(y=I0,T="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=N0,T="onPointerLeave",g="onPointerEnter",v="pointer"),b=f==null?p:Ho(f),_=w==null?p:Ho(w),p=new y(T,v+"leave",f,n,c),p.target=b,p.relatedTarget=_,T=null,zi(c)===u&&(y=new y(g,v+"enter",w,n,c),y.target=_,y.relatedTarget=b,T=y),b=T,f&&w)t:{for(y=f,g=w,v=0,_=y;_;_=jo(_))v++;for(_=0,T=g;T;T=jo(T))_++;for(;0<v-_;)y=jo(y),v--;for(;0<_-v;)g=jo(g),_--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=jo(y),g=jo(g)}y=null}else y=null;f!==null&&H0(h,p,f,y,!1),w!==null&&b!==null&&H0(h,b,w,y,!0)}}e:{if(p=u?Ho(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var A=m2;else if(M0(p))if(ck)A=w2;else{A=y2;var I=g2}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=v2);if(A&&(A=A(e,u))){uk(h,A,n,c);break e}I&&I(e,p,u),e==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&zp(p,"number",p.value)}switch(I=u?Ho(u):window,e){case"focusin":(M0(I)||I.contentEditable==="true")&&(Ko=I,em=u,Nl=null);break;case"focusout":Nl=em=Ko=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,V0(h,n,c);break;case"selectionchange":if(x2)break;case"keydown":case"keyup":V0(h,n,c)}var j;if(Xg)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Vo?ak(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(ok&&n.locale!=="ko"&&(Vo||D!=="onCompositionStart"?D==="onCompositionEnd"&&Vo&&(j=ik()):(Xs=c,Qg="value"in Xs?Xs.value:Xs.textContent,Vo=!0)),I=Rd(u,D),0<I.length&&(D=new D0(D,e,null,n,c),h.push({event:D,listeners:I}),j?D.data=j:(j=lk(n),j!==null&&(D.data=j)))),(j=c2?d2(e,n):h2(e,n))&&(u=Rd(u,"onBeforeInput"),0<u.length&&(c=new D0("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=j))}bk(h,t)})}function ou(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xl(e,n),i!=null&&r.unshift(ou(e,i,s)),i=Xl(e,t),i!=null&&r.push(ou(e,i,s))),e=e.return}return r}function jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function H0(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Xl(n,i),l!=null&&o.unshift(ou(n,l,a))):s||(l=Xl(n,i),l!=null&&o.push(ou(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var C2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function q0(e){return(typeof e=="string"?e:""+e).replace(C2,`
`).replace(T2,"")}function Oc(e,t,n){if(t=q0(t),q0(e)!==t&&n)throw Error(Se(425))}function Ad(){}var nm=null,rm=null;function sm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var im=typeof setTimeout=="function"?setTimeout:void 0,P2=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,R2=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(e){return G0.resolve(null).then(e).catch(A2)}:im;function A2(e){setTimeout(function(){throw e})}function Hf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),nu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);nu(t)}function oi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Y0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Ma,au="__reactProps$"+Ma,ys="__reactContainer$"+Ma,om="__reactEvents$"+Ma,j2="__reactListeners$"+Ma,O2="__reactHandles$"+Ma;function zi(e){var t=e[Hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ys]||n[Hr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Y0(e);e!==null;){if(n=e[Hr])return n;e=Y0(e)}return t}e=n,n=e.parentNode}return null}function Du(e){return e=e[Hr]||e[ys],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ho(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function ph(e){return e[au]||null}var am=[],qo=-1;function vi(e){return{current:e}}function yt(e){0>qo||(e.current=am[qo],am[qo]=null,qo--)}function mt(e,t){qo++,am[qo]=e.current,e.current=t}var pi={},gn=vi(pi),Dn=vi(!1),uo=pi;function Ea(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Nn(e){return e=e.childContextTypes,e!=null}function jd(){yt(Dn),yt(gn)}function Q0(e,t,n){if(gn.current!==pi)throw Error(Se(168));mt(gn,t),mt(Dn,n)}function xk(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Se(108,gP(e)||"Unknown",s));return Ct({},n,r)}function Od(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,uo=gn.current,mt(gn,e),mt(Dn,Dn.current),!0}function J0(e,t,n){var r=e.stateNode;if(!r)throw Error(Se(169));n?(e=xk(e,t,uo),r.__reactInternalMemoizedMergedChildContext=e,yt(Dn),yt(gn),mt(gn,e)):yt(Dn),mt(Dn,n)}var as=null,mh=!1,qf=!1;function kk(e){as===null?as=[e]:as.push(e)}function I2(e){mh=!0,kk(e)}function wi(){if(!qf&&as!==null){qf=!0;var e=0,t=dt;try{var n=as;for(dt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}as=null,mh=!1}catch(s){throw as!==null&&(as=as.slice(e+1)),Gx(Hg,wi),s}finally{dt=t,qf=!1}}return null}var Go=[],Yo=0,Id=null,Dd=0,ar=[],lr=0,co=null,ds=1,hs="";function Di(e,t){Go[Yo++]=Dd,Go[Yo++]=Id,Id=e,Dd=t}function Sk(e,t,n){ar[lr++]=ds,ar[lr++]=hs,ar[lr++]=co,co=e;var r=ds;e=hs;var s=32-Ar(r)-1;r&=~(1<<s),n+=1;var i=32-Ar(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ds=1<<32-Ar(t)+s|n<<s|r,hs=i+e}else ds=1<<i|n<<s|r,hs=e}function ty(e){e.return!==null&&(Di(e,1),Sk(e,1,0))}function ny(e){for(;e===Id;)Id=Go[--Yo],Go[Yo]=null,Dd=Go[--Yo],Go[Yo]=null;for(;e===co;)co=ar[--lr],ar[lr]=null,hs=ar[--lr],ar[lr]=null,ds=ar[--lr],ar[lr]=null}var Wn=null,Kn=null,wt=!1,Pr=null;function Ek(e,t){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Z0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wn=e,Kn=oi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wn=e,Kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=co!==null?{id:ds,overflow:hs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wn=e,Kn=null,!0):!1;default:return!1}}function lm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function um(e){if(wt){var t=Kn;if(t){var n=t;if(!Z0(e,t)){if(lm(e))throw Error(Se(418));t=oi(n.nextSibling);var r=Wn;t&&Z0(e,t)?Ek(r,n):(e.flags=e.flags&-4097|2,wt=!1,Wn=e)}}else{if(lm(e))throw Error(Se(418));e.flags=e.flags&-4097|2,wt=!1,Wn=e}}}function X0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wn=e}function Ic(e){if(e!==Wn)return!1;if(!wt)return X0(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sm(e.type,e.memoizedProps)),t&&(t=Kn)){if(lm(e))throw Ck(),Error(Se(418));for(;t;)Ek(e,t),t=oi(t.nextSibling)}if(X0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kn=oi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kn=null}}else Kn=Wn?oi(e.stateNode.nextSibling):null;return!0}function Ck(){for(var e=Kn;e;)e=oi(e.nextSibling)}function Ca(){Kn=Wn=null,wt=!1}function ry(e){Pr===null?Pr=[e]:Pr.push(e)}var D2=Es.ReactCurrentBatchConfig;function dl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Se(309));var r=n.stateNode}if(!r)throw Error(Se(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Se(284));if(!n._owner)throw Error(Se(290,e))}return e}function Dc(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ew(e){var t=e._init;return t(e._payload)}function Tk(e){function t(g,v){if(e){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=ci(g,v),g.index=0,g.sibling=null,g}function i(g,v,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,T){return v===null||v.tag!==6?(v=ep(_,g.mode,T),v.return=g,v):(v=s(v,_),v.return=g,v)}function l(g,v,_,T){var A=_.type;return A===zo?c(g,v,_.props.children,T,_.key):v!==null&&(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ms&&ew(A)===v.type)?(T=s(v,_.props),T.ref=dl(g,v,_),T.return=g,T):(T=dd(_.type,_.key,_.props,null,g.mode,T),T.ref=dl(g,v,_),T.return=g,T)}function u(g,v,_,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=tp(_,g.mode,T),v.return=g,v):(v=s(v,_.children||[]),v.return=g,v)}function c(g,v,_,T,A){return v===null||v.tag!==7?(v=oo(_,g.mode,T,A),v.return=g,v):(v=s(v,_),v.return=g,v)}function h(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ep(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kc:return _=dd(v.type,v.key,v.props,null,g.mode,_),_.ref=dl(g,null,v),_.return=g,_;case Uo:return v=tp(v,g.mode,_),v.return=g,v;case Ms:var T=v._init;return h(g,T(v._payload),_)}if(xl(v)||ol(v))return v=oo(v,g.mode,_,null),v.return=g,v;Dc(g,v)}return null}function p(g,v,_,T){var A=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:a(g,v,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kc:return _.key===A?l(g,v,_,T):null;case Uo:return _.key===A?u(g,v,_,T):null;case Ms:return A=_._init,p(g,v,A(_._payload),T)}if(xl(_)||ol(_))return A!==null?null:c(g,v,_,T,null);Dc(g,_)}return null}function f(g,v,_,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(_)||null,a(v,g,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case kc:return g=g.get(T.key===null?_:T.key)||null,l(v,g,T,A);case Uo:return g=g.get(T.key===null?_:T.key)||null,u(v,g,T,A);case Ms:var I=T._init;return f(g,v,_,I(T._payload),A)}if(xl(T)||ol(T))return g=g.get(_)||null,c(v,g,T,A,null);Dc(v,T)}return null}function w(g,v,_,T){for(var A=null,I=null,j=v,D=v=0,$=null;j!==null&&D<_.length;D++){j.index>D?($=j,j=null):$=j.sibling;var F=p(g,j,_[D],T);if(F===null){j===null&&(j=$);break}e&&j&&F.alternate===null&&t(g,j),v=i(F,v,D),I===null?A=F:I.sibling=F,I=F,j=$}if(D===_.length)return n(g,j),wt&&Di(g,D),A;if(j===null){for(;D<_.length;D++)j=h(g,_[D],T),j!==null&&(v=i(j,v,D),I===null?A=j:I.sibling=j,I=j);return wt&&Di(g,D),A}for(j=r(g,j);D<_.length;D++)$=f(j,g,D,_[D],T),$!==null&&(e&&$.alternate!==null&&j.delete($.key===null?D:$.key),v=i($,v,D),I===null?A=$:I.sibling=$,I=$);return e&&j.forEach(function(de){return t(g,de)}),wt&&Di(g,D),A}function y(g,v,_,T){var A=ol(_);if(typeof A!="function")throw Error(Se(150));if(_=A.call(_),_==null)throw Error(Se(151));for(var I=A=null,j=v,D=v=0,$=null,F=_.next();j!==null&&!F.done;D++,F=_.next()){j.index>D?($=j,j=null):$=j.sibling;var de=p(g,j,F.value,T);if(de===null){j===null&&(j=$);break}e&&j&&de.alternate===null&&t(g,j),v=i(de,v,D),I===null?A=de:I.sibling=de,I=de,j=$}if(F.done)return n(g,j),wt&&Di(g,D),A;if(j===null){for(;!F.done;D++,F=_.next())F=h(g,F.value,T),F!==null&&(v=i(F,v,D),I===null?A=F:I.sibling=F,I=F);return wt&&Di(g,D),A}for(j=r(g,j);!F.done;D++,F=_.next())F=f(j,g,D,F.value,T),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?D:F.key),v=i(F,v,D),I===null?A=F:I.sibling=F,I=F);return e&&j.forEach(function(N){return t(g,N)}),wt&&Di(g,D),A}function b(g,v,_,T){if(typeof _=="object"&&_!==null&&_.type===zo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case kc:e:{for(var A=_.key,I=v;I!==null;){if(I.key===A){if(A=_.type,A===zo){if(I.tag===7){n(g,I.sibling),v=s(I,_.props.children),v.return=g,g=v;break e}}else if(I.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ms&&ew(A)===I.type){n(g,I.sibling),v=s(I,_.props),v.ref=dl(g,I,_),v.return=g,g=v;break e}n(g,I);break}else t(g,I);I=I.sibling}_.type===zo?(v=oo(_.props.children,g.mode,T,_.key),v.return=g,g=v):(T=dd(_.type,_.key,_.props,null,g.mode,T),T.ref=dl(g,v,_),T.return=g,g=T)}return o(g);case Uo:e:{for(I=_.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(g,v.sibling),v=s(v,_.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=tp(_,g.mode,T),v.return=g,g=v}return o(g);case Ms:return I=_._init,b(g,v,I(_._payload),T)}if(xl(_))return w(g,v,_,T);if(ol(_))return y(g,v,_,T);Dc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,_),v.return=g,g=v):(n(g,v),v=ep(_,g.mode,T),v.return=g,g=v),o(g)):n(g,v)}return b}var Ta=Tk(!0),Pk=Tk(!1),Nd=vi(null),Ld=null,Qo=null,sy=null;function iy(){sy=Qo=Ld=null}function oy(e){var t=Nd.current;yt(Nd),e._currentValue=t}function cm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function la(e,t){Ld=e,sy=Qo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(On=!0),e.firstContext=null)}function pr(e){var t=e._currentValue;if(sy!==e)if(e={context:e,memoizedValue:t,next:null},Qo===null){if(Ld===null)throw Error(Se(308));Qo=e,Ld.dependencies={lanes:0,firstContext:e}}else Qo=Qo.next=e;return t}var Vi=null;function ay(e){Vi===null?Vi=[e]:Vi.push(e)}function Rk(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ay(t)):(n.next=s.next,s.next=n),t.interleaved=n,vs(e,r)}function vs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fs=!1;function ly(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ak(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ai(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,vs(e,n)}return s=r.interleaved,s===null?(t.next=t,ay(r)):(t.next=s.next,s.next=t),r.interleaved=t,vs(e,n)}function id(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qg(e,n)}}function tw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $d(e,t,n,r){var s=e.updateQueue;Fs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var p=a.lane,f=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(p=t,f=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(f,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(f,h,p):w,p==null)break e;h=Ct({},h,p);break e;case 2:Fs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);fo|=o,e.lanes=o,e.memoizedState=h}}function nw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Se(191,s));s.call(r)}}}var Nu={},Yr=vi(Nu),lu=vi(Nu),uu=vi(Nu);function Ki(e){if(e===Nu)throw Error(Se(174));return e}function uy(e,t){switch(mt(uu,t),mt(lu,e),mt(Yr,Nu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kp(t,e)}yt(Yr),mt(Yr,t)}function Pa(){yt(Yr),yt(lu),yt(uu)}function jk(e){Ki(uu.current);var t=Ki(Yr.current),n=Kp(t,e.type);t!==n&&(mt(lu,e),mt(Yr,n))}function cy(e){lu.current===e&&(yt(Yr),yt(lu))}var xt=vi(0);function Md(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gf=[];function dy(){for(var e=0;e<Gf.length;e++)Gf[e]._workInProgressVersionPrimary=null;Gf.length=0}var od=Es.ReactCurrentDispatcher,Yf=Es.ReactCurrentBatchConfig,ho=0,Et=null,Kt=null,en=null,Fd=!1,Ll=!1,cu=0,N2=0;function dn(){throw Error(Se(321))}function hy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Or(e[n],t[n]))return!1;return!0}function fy(e,t,n,r,s,i){if(ho=i,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,od.current=e===null||e.memoizedState===null?F2:B2,e=n(r,s),Ll){i=0;do{if(Ll=!1,cu=0,25<=i)throw Error(Se(301));i+=1,en=Kt=null,t.updateQueue=null,od.current=U2,e=n(r,s)}while(Ll)}if(od.current=Bd,t=Kt!==null&&Kt.next!==null,ho=0,en=Kt=Et=null,Fd=!1,t)throw Error(Se(300));return e}function py(){var e=cu!==0;return cu=0,e}function Br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Et.memoizedState=en=e:en=en.next=e,en}function mr(){if(Kt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=en===null?Et.memoizedState:en.next;if(t!==null)en=t,Kt=e;else{if(e===null)throw Error(Se(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},en===null?Et.memoizedState=en=e:en=en.next=e}return en}function du(e,t){return typeof t=="function"?t(e):t}function Qf(e){var t=mr(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var r=Kt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((ho&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Et.lanes|=c,fo|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Or(r,t.memoizedState)||(On=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Et.lanes|=i,fo|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jf(e){var t=mr(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Or(i,t.memoizedState)||(On=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ok(){}function Ik(e,t){var n=Et,r=mr(),s=t(),i=!Or(r.memoizedState,s);if(i&&(r.memoizedState=s,On=!0),r=r.queue,my(Lk.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,hu(9,Nk.bind(null,n,r,s,t),void 0,null),tn===null)throw Error(Se(349));ho&30||Dk(n,t,s)}return s}function Dk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nk(e,t,n,r){t.value=n,t.getSnapshot=r,$k(t)&&Mk(e)}function Lk(e,t,n){return n(function(){$k(t)&&Mk(e)})}function $k(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Or(e,n)}catch{return!0}}function Mk(e){var t=vs(e,1);t!==null&&jr(t,e,1,-1)}function rw(e){var t=Br();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:e},t.queue=e,e=e.dispatch=M2.bind(null,Et,e),[t.memoizedState,e]}function hu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fk(){return mr().memoizedState}function ad(e,t,n,r){var s=Br();Et.flags|=e,s.memoizedState=hu(1|t,n,void 0,r===void 0?null:r)}function gh(e,t,n,r){var s=mr();r=r===void 0?null:r;var i=void 0;if(Kt!==null){var o=Kt.memoizedState;if(i=o.destroy,r!==null&&hy(r,o.deps)){s.memoizedState=hu(t,n,i,r);return}}Et.flags|=e,s.memoizedState=hu(1|t,n,i,r)}function sw(e,t){return ad(8390656,8,e,t)}function my(e,t){return gh(2048,8,e,t)}function Bk(e,t){return gh(4,2,e,t)}function Uk(e,t){return gh(4,4,e,t)}function zk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vk(e,t,n){return n=n!=null?n.concat([e]):null,gh(4,4,zk.bind(null,t,e),n)}function gy(){}function Kk(e,t){var n=mr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wk(e,t){var n=mr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hk(e,t,n){return ho&21?(Or(n,t)||(n=Jx(),Et.lanes|=n,fo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,On=!0),e.memoizedState=n)}function L2(e,t){var n=dt;dt=n!==0&&4>n?n:4,e(!0);var r=Yf.transition;Yf.transition={};try{e(!1),t()}finally{dt=n,Yf.transition=r}}function qk(){return mr().memoizedState}function $2(e,t,n){var r=ui(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gk(e))Yk(t,n);else if(n=Rk(e,t,n,r),n!==null){var s=xn();jr(n,e,r,s),Qk(n,t,r)}}function M2(e,t,n){var r=ui(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gk(e))Yk(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Or(a,o)){var l=t.interleaved;l===null?(s.next=s,ay(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Rk(e,t,s,r),n!==null&&(s=xn(),jr(n,e,r,s),Qk(n,t,r))}}function Gk(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function Yk(e,t){Ll=Fd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qg(e,n)}}var Bd={readContext:pr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},F2={readContext:pr,useCallback:function(e,t){return Br().memoizedState=[e,t===void 0?null:t],e},useContext:pr,useEffect:sw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ad(4194308,4,zk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ad(4194308,4,e,t)},useInsertionEffect:function(e,t){return ad(4,2,e,t)},useMemo:function(e,t){var n=Br();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Br();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$2.bind(null,Et,e),[r.memoizedState,e]},useRef:function(e){var t=Br();return e={current:e},t.memoizedState=e},useState:rw,useDebugValue:gy,useDeferredValue:function(e){return Br().memoizedState=e},useTransition:function(){var e=rw(!1),t=e[0];return e=L2.bind(null,e[1]),Br().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Et,s=Br();if(wt){if(n===void 0)throw Error(Se(407));n=n()}else{if(n=t(),tn===null)throw Error(Se(349));ho&30||Dk(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,sw(Lk.bind(null,r,i,e),[e]),r.flags|=2048,hu(9,Nk.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Br(),t=tn.identifierPrefix;if(wt){var n=hs,r=ds;n=(r&~(1<<32-Ar(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=cu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=N2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B2={readContext:pr,useCallback:Kk,useContext:pr,useEffect:my,useImperativeHandle:Vk,useInsertionEffect:Bk,useLayoutEffect:Uk,useMemo:Wk,useReducer:Qf,useRef:Fk,useState:function(){return Qf(du)},useDebugValue:gy,useDeferredValue:function(e){var t=mr();return Hk(t,Kt.memoizedState,e)},useTransition:function(){var e=Qf(du)[0],t=mr().memoizedState;return[e,t]},useMutableSource:Ok,useSyncExternalStore:Ik,useId:qk,unstable_isNewReconciler:!1},U2={readContext:pr,useCallback:Kk,useContext:pr,useEffect:my,useImperativeHandle:Vk,useInsertionEffect:Bk,useLayoutEffect:Uk,useMemo:Wk,useReducer:Jf,useRef:Fk,useState:function(){return Jf(du)},useDebugValue:gy,useDeferredValue:function(e){var t=mr();return Kt===null?t.memoizedState=e:Hk(t,Kt.memoizedState,e)},useTransition:function(){var e=Jf(du)[0],t=mr().memoizedState;return[e,t]},useMutableSource:Ok,useSyncExternalStore:Ik,useId:qk,unstable_isNewReconciler:!1};function kr(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yh={isMounted:function(e){return(e=e._reactInternals)?vo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xn(),s=ui(e),i=fs(r,s);i.payload=t,n!=null&&(i.callback=n),t=ai(e,i,s),t!==null&&(jr(t,e,s,r),id(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xn(),s=ui(e),i=fs(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ai(e,i,s),t!==null&&(jr(t,e,s,r),id(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xn(),r=ui(e),s=fs(n,r);s.tag=2,t!=null&&(s.callback=t),t=ai(e,s,r),t!==null&&(jr(t,e,r,n),id(t,e,r))}};function iw(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!su(n,r)||!su(s,i):!0}function Jk(e,t,n){var r=!1,s=pi,i=t.contextType;return typeof i=="object"&&i!==null?i=pr(i):(s=Nn(t)?uo:gn.current,r=t.contextTypes,i=(r=r!=null)?Ea(e,s):pi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ow(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yh.enqueueReplaceState(t,t.state,null)}function hm(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ly(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=pr(i):(i=Nn(t)?uo:gn.current,s.context=Ea(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dm(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yh.enqueueReplaceState(s,s.state,null),$d(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ra(e,t){try{var n="",r=t;do n+=mP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Zf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var z2=typeof WeakMap=="function"?WeakMap:Map;function Zk(e,t,n){n=fs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zd||(zd=!0,km=r),fm(e,t)},n}function Xk(e,t,n){n=fs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){fm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){fm(e,t),typeof r!="function"&&(li===null?li=new Set([this]):li.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function aw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new z2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=nR.bind(null,e,t,n),t.then(e,e))}function lw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uw(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fs(-1,1),t.tag=2,ai(n,t,1))),n.lanes|=1),e)}var V2=Es.ReactCurrentOwner,On=!1;function bn(e,t,n,r){t.child=e===null?Pk(t,null,n,r):Ta(t,e.child,n,r)}function cw(e,t,n,r,s){n=n.render;var i=t.ref;return la(t,s),r=fy(e,t,n,r,i,s),n=py(),e!==null&&!On?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ws(e,t,s)):(wt&&n&&ty(t),t.flags|=1,bn(e,t,r,s),t.child)}function dw(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Sy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,eS(e,t,i,r,s)):(e=dd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:su,n(o,r)&&e.ref===t.ref)return ws(e,t,s)}return t.flags|=1,e=ci(i,r),e.ref=t.ref,e.return=t,t.child=e}function eS(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(su(i,r)&&e.ref===t.ref)if(On=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(On=!0);else return t.lanes=e.lanes,ws(e,t,s)}return pm(e,t,n,r,s)}function tS(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Zo,zn),zn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mt(Zo,zn),zn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,mt(Zo,zn),zn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,mt(Zo,zn),zn|=r;return bn(e,t,s,n),t.child}function nS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pm(e,t,n,r,s){var i=Nn(n)?uo:gn.current;return i=Ea(t,i),la(t,s),n=fy(e,t,n,r,i,s),r=py(),e!==null&&!On?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ws(e,t,s)):(wt&&r&&ty(t),t.flags|=1,bn(e,t,n,s),t.child)}function hw(e,t,n,r,s){if(Nn(n)){var i=!0;Od(t)}else i=!1;if(la(t,s),t.stateNode===null)ld(e,t),Jk(t,n,r),hm(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pr(u):(u=Nn(n)?uo:gn.current,u=Ea(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ow(t,o,r,u),Fs=!1;var p=t.memoizedState;o.state=p,$d(t,r,o,s),l=t.memoizedState,a!==r||p!==l||Dn.current||Fs?(typeof c=="function"&&(dm(t,n,c,r),l=t.memoizedState),(a=Fs||iw(t,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ak(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:kr(t.type,a),o.props=u,h=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Nn(n)?uo:gn.current,l=Ea(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&ow(t,o,r,l),Fs=!1,p=t.memoizedState,o.state=p,$d(t,r,o,s);var w=t.memoizedState;a!==h||p!==w||Dn.current||Fs?(typeof f=="function"&&(dm(t,n,f,r),w=t.memoizedState),(u=Fs||iw(t,n,u,r,p,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return mm(e,t,n,r,i,s)}function mm(e,t,n,r,s,i){nS(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&J0(t,n,!1),ws(e,t,i);r=t.stateNode,V2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ta(t,e.child,null,i),t.child=Ta(t,null,a,i)):bn(e,t,a,i),t.memoizedState=r.state,s&&J0(t,n,!0),t.child}function rS(e){var t=e.stateNode;t.pendingContext?Q0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Q0(e,t.context,!1),uy(e,t.containerInfo)}function fw(e,t,n,r,s){return Ca(),ry(s),t.flags|=256,bn(e,t,n,r),t.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function ym(e){return{baseLanes:e,cachePool:null,transitions:null}}function sS(e,t,n){var r=t.pendingProps,s=xt.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),mt(xt,s&1),e===null)return um(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bh(o,r,0,null),e=oo(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ym(n),t.memoizedState=gm,e):yy(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return K2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ci(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ci(a,i):(i=oo(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=gm,r}return i=e.child,e=i.sibling,r=ci(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yy(e,t){return t=bh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nc(e,t,n,r){return r!==null&&ry(r),Ta(t,e.child,null,n),e=yy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function K2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Zf(Error(Se(422))),Nc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=bh({mode:"visible",children:r.children},s,0,null),i=oo(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ta(t,e.child,null,o),t.child.memoizedState=ym(o),t.memoizedState=gm,i);if(!(t.mode&1))return Nc(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Se(419)),r=Zf(i,r,void 0),Nc(e,t,o,r)}if(a=(o&e.childLanes)!==0,On||a){if(r=tn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vs(e,s),jr(r,e,s,-1))}return ky(),r=Zf(Error(Se(421))),Nc(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rR.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Kn=oi(s.nextSibling),Wn=t,wt=!0,Pr=null,e!==null&&(ar[lr++]=ds,ar[lr++]=hs,ar[lr++]=co,ds=e.id,hs=e.overflow,co=t),t=yy(t,r.children),t.flags|=4096,t)}function pw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cm(e.return,t,n)}function Xf(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function iS(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(bn(e,t,r.children,n),r=xt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pw(e,n,t);else if(e.tag===19)pw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mt(xt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Md(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xf(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Md(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xf(t,!0,n,null,i);break;case"together":Xf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ld(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ws(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,n=ci(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ci(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function W2(e,t,n){switch(t.tag){case 3:rS(t),Ca();break;case 5:jk(t);break;case 1:Nn(t.type)&&Od(t);break;case 4:uy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;mt(Nd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mt(xt,xt.current&1),t.flags|=128,null):n&t.child.childLanes?sS(e,t,n):(mt(xt,xt.current&1),e=ws(e,t,n),e!==null?e.sibling:null);mt(xt,xt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),mt(xt,xt.current),r)break;return null;case 22:case 23:return t.lanes=0,tS(e,t,n)}return ws(e,t,n)}var oS,vm,aS,lS;oS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vm=function(){};aS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ki(Yr.current);var i=null;switch(n){case"input":s=Bp(e,s),r=Bp(e,r),i=[];break;case"select":s=Ct({},s,{value:void 0}),r=Ct({},r,{value:void 0}),i=[];break;case"textarea":s=Vp(e,s),r=Vp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ad)}Wp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gt("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};lS=function(e,t,n,r){n!==r&&(t.flags|=4)};function hl(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function H2(e,t,n){var r=t.pendingProps;switch(ny(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(t),null;case 1:return Nn(t.type)&&jd(),hn(t),null;case 3:return r=t.stateNode,Pa(),yt(Dn),yt(gn),dy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ic(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pr!==null&&(Cm(Pr),Pr=null))),vm(e,t),hn(t),null;case 5:cy(t);var s=Ki(uu.current);if(n=t.type,e!==null&&t.stateNode!=null)aS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Se(166));return hn(t),null}if(e=Ki(Yr.current),Ic(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Hr]=t,r[au]=i,e=(t.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(s=0;s<Sl.length;s++)gt(Sl[s],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":k0(r,i),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},gt("invalid",r);break;case"textarea":E0(r,i),gt("invalid",r)}Wp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Oc(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Oc(r.textContent,a,e),s=["children",""+a]):Jl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gt("scroll",r)}switch(n){case"input":Sc(r),S0(r,i,!0);break;case"textarea":Sc(r),C0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ad)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Hr]=t,e[au]=r,oS(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hp(n,r),n){case"dialog":gt("cancel",e),gt("close",e),s=r;break;case"iframe":case"object":case"embed":gt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Sl.length;s++)gt(Sl[s],e);s=r;break;case"source":gt("error",e),s=r;break;case"img":case"image":case"link":gt("error",e),gt("load",e),s=r;break;case"details":gt("toggle",e),s=r;break;case"input":k0(e,r),s=Bp(e,r),gt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ct({},r,{value:void 0}),gt("invalid",e);break;case"textarea":E0(e,r),s=Vp(e,r),gt("invalid",e);break;default:s=r}Wp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Fx(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$x(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zl(e,l):typeof l=="number"&&Zl(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&gt("scroll",e):l!=null&&Ug(e,i,l,o))}switch(n){case"input":Sc(e),S0(e,r,!1);break;case"textarea":Sc(e),C0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fi(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?sa(e,!!r.multiple,i,!1):r.defaultValue!=null&&sa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hn(t),null;case 6:if(e&&t.stateNode!=null)lS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Se(166));if(n=Ki(uu.current),Ki(Yr.current),Ic(t)){if(r=t.stateNode,n=t.memoizedProps,r[Hr]=t,(i=r.nodeValue!==n)&&(e=Wn,e!==null))switch(e.tag){case 3:Oc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hr]=t,t.stateNode=r}return hn(t),null;case 13:if(yt(xt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&Kn!==null&&t.mode&1&&!(t.flags&128))Ck(),Ca(),t.flags|=98560,i=!1;else if(i=Ic(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Se(317));i[Hr]=t}else Ca(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hn(t),i=!1}else Pr!==null&&(Cm(Pr),Pr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xt.current&1?qt===0&&(qt=3):ky())),t.updateQueue!==null&&(t.flags|=4),hn(t),null);case 4:return Pa(),vm(e,t),e===null&&iu(t.stateNode.containerInfo),hn(t),null;case 10:return oy(t.type._context),hn(t),null;case 17:return Nn(t.type)&&jd(),hn(t),null;case 19:if(yt(xt),i=t.memoizedState,i===null)return hn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)hl(i,!1);else{if(qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Md(e),o!==null){for(t.flags|=128,hl(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mt(xt,xt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nt()>Aa&&(t.flags|=128,r=!0,hl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Md(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!wt)return hn(t),null}else 2*Nt()-i.renderingStartTime>Aa&&n!==1073741824&&(t.flags|=128,r=!0,hl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nt(),t.sibling=null,n=xt.current,mt(xt,r?n&1|2:n&1),t):(hn(t),null);case 22:case 23:return xy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zn&1073741824&&(hn(t),t.subtreeFlags&6&&(t.flags|=8192)):hn(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function q2(e,t){switch(ny(t),t.tag){case 1:return Nn(t.type)&&jd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pa(),yt(Dn),yt(gn),dy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cy(t),null;case 13:if(yt(xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));Ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yt(xt),null;case 4:return Pa(),null;case 10:return oy(t.type._context),null;case 22:case 23:return xy(),null;case 24:return null;default:return null}}var Lc=!1,fn=!1,G2=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Jo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(e,t,r)}else n.current=null}function wm(e,t,n){try{n()}catch(r){At(e,t,r)}}var mw=!1;function Y2(e,t){if(nm=Td,e=fk(),ey(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,p=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===s&&(a=o),p===i&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rm={focusedElem:e,selectionRange:n},Td=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:kr(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(T){At(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return w=mw,mw=!1,w}function $l(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&wm(t,n,i)}s=s.next}while(s!==r)}}function vh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uS(e){var t=e.alternate;t!==null&&(e.alternate=null,uS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hr],delete t[au],delete t[om],delete t[j2],delete t[O2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cS(e){return e.tag===5||e.tag===3||e.tag===4}function gw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _m(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ad));else if(r!==4&&(e=e.child,e!==null))for(_m(e,t,n),e=e.sibling;e!==null;)_m(e,t,n),e=e.sibling}function xm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xm(e,t,n),e=e.sibling;e!==null;)xm(e,t,n),e=e.sibling}var nn=null,Cr=!1;function Is(e,t,n){for(n=n.child;n!==null;)dS(e,t,n),n=n.sibling}function dS(e,t,n){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(ch,n)}catch{}switch(n.tag){case 5:fn||Jo(n,t);case 6:var r=nn,s=Cr;nn=null,Is(e,t,n),nn=r,Cr=s,nn!==null&&(Cr?(e=nn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(Cr?(e=nn,n=n.stateNode,e.nodeType===8?Hf(e.parentNode,n):e.nodeType===1&&Hf(e,n),nu(e)):Hf(nn,n.stateNode));break;case 4:r=nn,s=Cr,nn=n.stateNode.containerInfo,Cr=!0,Is(e,t,n),nn=r,Cr=s;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wm(n,t,o),s=s.next}while(s!==r)}Is(e,t,n);break;case 1:if(!fn&&(Jo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,t,a)}Is(e,t,n);break;case 21:Is(e,t,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,Is(e,t,n),fn=r):Is(e,t,n);break;default:Is(e,t,n)}}function yw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new G2),t.forEach(function(r){var s=sR.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:nn=a.stateNode,Cr=!1;break e;case 3:nn=a.stateNode.containerInfo,Cr=!0;break e;case 4:nn=a.stateNode.containerInfo,Cr=!0;break e}a=a.return}if(nn===null)throw Error(Se(160));dS(i,o,s),nn=null,Cr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){At(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hS(t,e),t=t.sibling}function hS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wr(t,e),Mr(e),r&4){try{$l(3,e,e.return),vh(3,e)}catch(y){At(e,e.return,y)}try{$l(5,e,e.return)}catch(y){At(e,e.return,y)}}break;case 1:wr(t,e),Mr(e),r&512&&n!==null&&Jo(n,n.return);break;case 5:if(wr(t,e),Mr(e),r&512&&n!==null&&Jo(n,n.return),e.flags&32){var s=e.stateNode;try{Zl(s,"")}catch(y){At(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Dx(s,i),Hp(a,o);var u=Hp(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Fx(s,h):c==="dangerouslySetInnerHTML"?$x(s,h):c==="children"?Zl(s,h):Ug(s,c,h,u)}switch(a){case"input":Up(s,i);break;case"textarea":Nx(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?sa(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?sa(s,!!i.multiple,i.defaultValue,!0):sa(s,!!i.multiple,i.multiple?[]:"",!1))}s[au]=i}catch(y){At(e,e.return,y)}}break;case 6:if(wr(t,e),Mr(e),r&4){if(e.stateNode===null)throw Error(Se(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){At(e,e.return,y)}}break;case 3:if(wr(t,e),Mr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nu(t.containerInfo)}catch(y){At(e,e.return,y)}break;case 4:wr(t,e),Mr(e);break;case 13:wr(t,e),Mr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(by=Nt())),r&4&&yw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(fn=(u=fn)||c,wr(t,e),fn=u):wr(t,e),Mr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Ue=e,c=e.child;c!==null;){for(h=Ue=c;Ue!==null;){switch(p=Ue,f=p.child,p.tag){case 0:case 11:case 14:case 15:$l(4,p,p.return);break;case 1:Jo(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){At(r,n,y)}}break;case 5:Jo(p,p.return);break;case 22:if(p.memoizedState!==null){ww(h);continue}}f!==null?(f.return=p,Ue=f):ww(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mx("display",o))}catch(y){At(e,e.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){At(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wr(t,e),Mr(e),r&4&&yw(e);break;case 21:break;default:wr(t,e),Mr(e)}}function Mr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cS(n)){var r=n;break e}n=n.return}throw Error(Se(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zl(s,""),r.flags&=-33);var i=gw(e);xm(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gw(e);_m(e,a,o);break;default:throw Error(Se(161))}}catch(l){At(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Q2(e,t,n){Ue=e,fS(e)}function fS(e,t,n){for(var r=(e.mode&1)!==0;Ue!==null;){var s=Ue,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Lc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||fn;a=Lc;var u=fn;if(Lc=o,(fn=l)&&!u)for(Ue=s;Ue!==null;)o=Ue,l=o.child,o.tag===22&&o.memoizedState!==null?bw(s):l!==null?(l.return=o,Ue=l):bw(s);for(;i!==null;)Ue=i,fS(i),i=i.sibling;Ue=s,Lc=a,fn=u}vw(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ue=i):vw(e)}}function vw(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fn||vh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!fn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:kr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&nw(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&nu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}fn||t.flags&512&&bm(t)}catch(p){At(t,t.return,p)}}if(t===e){Ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function ww(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function bw(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vh(4,t)}catch(l){At(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){At(t,s,l)}}var i=t.return;try{bm(t)}catch(l){At(t,i,l)}break;case 5:var o=t.return;try{bm(t)}catch(l){At(t,o,l)}}}catch(l){At(t,t.return,l)}if(t===e){Ue=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ue=a;break}Ue=t.return}}var J2=Math.ceil,Ud=Es.ReactCurrentDispatcher,vy=Es.ReactCurrentOwner,hr=Es.ReactCurrentBatchConfig,lt=0,tn=null,Ut=null,on=0,zn=0,Zo=vi(0),qt=0,fu=null,fo=0,wh=0,wy=0,Ml=null,An=null,by=0,Aa=1/0,is=null,zd=!1,km=null,li=null,$c=!1,ei=null,Vd=0,Fl=0,Sm=null,ud=-1,cd=0;function xn(){return lt&6?Nt():ud!==-1?ud:ud=Nt()}function ui(e){return e.mode&1?lt&2&&on!==0?on&-on:D2.transition!==null?(cd===0&&(cd=Jx()),cd):(e=dt,e!==0||(e=window.event,e=e===void 0?16:sk(e.type)),e):1}function jr(e,t,n,r){if(50<Fl)throw Fl=0,Sm=null,Error(Se(185));Ou(e,n,r),(!(lt&2)||e!==tn)&&(e===tn&&(!(lt&2)&&(wh|=n),qt===4&&Us(e,on)),Ln(e,r),n===1&&lt===0&&!(t.mode&1)&&(Aa=Nt()+500,mh&&wi()))}function Ln(e,t){var n=e.callbackNode;DP(e,t);var r=Cd(e,e===tn?on:0);if(r===0)n!==null&&R0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&R0(n),t===1)e.tag===0?I2(_w.bind(null,e)):kk(_w.bind(null,e)),R2(function(){!(lt&6)&&wi()}),n=null;else{switch(Zx(r)){case 1:n=Hg;break;case 4:n=Yx;break;case 16:n=Ed;break;case 536870912:n=Qx;break;default:n=Ed}n=_S(n,pS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pS(e,t){if(ud=-1,cd=0,lt&6)throw Error(Se(327));var n=e.callbackNode;if(ua()&&e.callbackNode!==n)return null;var r=Cd(e,e===tn?on:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kd(e,r);else{t=r;var s=lt;lt|=2;var i=gS();(tn!==e||on!==t)&&(is=null,Aa=Nt()+500,io(e,t));do try{eR();break}catch(a){mS(e,a)}while(!0);iy(),Ud.current=i,lt=s,Ut!==null?t=0:(tn=null,on=0,t=qt)}if(t!==0){if(t===2&&(s=Jp(e),s!==0&&(r=s,t=Em(e,s))),t===1)throw n=fu,io(e,0),Us(e,r),Ln(e,Nt()),n;if(t===6)Us(e,r);else{if(s=e.current.alternate,!(r&30)&&!Z2(s)&&(t=Kd(e,r),t===2&&(i=Jp(e),i!==0&&(r=i,t=Em(e,i))),t===1))throw n=fu,io(e,0),Us(e,r),Ln(e,Nt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Se(345));case 2:Ni(e,An,is);break;case 3:if(Us(e,r),(r&130023424)===r&&(t=by+500-Nt(),10<t)){if(Cd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){xn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=im(Ni.bind(null,e,An,is),t);break}Ni(e,An,is);break;case 4:if(Us(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ar(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J2(r/1960))-r,10<r){e.timeoutHandle=im(Ni.bind(null,e,An,is),r);break}Ni(e,An,is);break;case 5:Ni(e,An,is);break;default:throw Error(Se(329))}}}return Ln(e,Nt()),e.callbackNode===n?pS.bind(null,e):null}function Em(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(io(e,t).flags|=256),e=Kd(e,t),e!==2&&(t=An,An=n,t!==null&&Cm(t)),e}function Cm(e){An===null?An=e:An.push.apply(An,e)}function Z2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Or(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Us(e,t){for(t&=~wy,t&=~wh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ar(t),r=1<<n;e[n]=-1,t&=~r}}function _w(e){if(lt&6)throw Error(Se(327));ua();var t=Cd(e,0);if(!(t&1))return Ln(e,Nt()),null;var n=Kd(e,t);if(e.tag!==0&&n===2){var r=Jp(e);r!==0&&(t=r,n=Em(e,r))}if(n===1)throw n=fu,io(e,0),Us(e,t),Ln(e,Nt()),n;if(n===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ni(e,An,is),Ln(e,Nt()),null}function _y(e,t){var n=lt;lt|=1;try{return e(t)}finally{lt=n,lt===0&&(Aa=Nt()+500,mh&&wi())}}function po(e){ei!==null&&ei.tag===0&&!(lt&6)&&ua();var t=lt;lt|=1;var n=hr.transition,r=dt;try{if(hr.transition=null,dt=1,e)return e()}finally{dt=r,hr.transition=n,lt=t,!(lt&6)&&wi()}}function xy(){zn=Zo.current,yt(Zo)}function io(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,P2(n)),Ut!==null)for(n=Ut.return;n!==null;){var r=n;switch(ny(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:Pa(),yt(Dn),yt(gn),dy();break;case 5:cy(r);break;case 4:Pa();break;case 13:yt(xt);break;case 19:yt(xt);break;case 10:oy(r.type._context);break;case 22:case 23:xy()}n=n.return}if(tn=e,Ut=e=ci(e.current,null),on=zn=t,qt=0,fu=null,wy=wh=fo=0,An=Ml=null,Vi!==null){for(t=0;t<Vi.length;t++)if(n=Vi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vi=null}return e}function mS(e,t){do{var n=Ut;try{if(iy(),od.current=Bd,Fd){for(var r=Et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fd=!1}if(ho=0,en=Kt=Et=null,Ll=!1,cu=0,vy.current=null,n===null||n.return===null){qt=1,fu=t,Ut=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=on,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=lw(o);if(f!==null){f.flags&=-257,uw(f,o,a,i,t),f.mode&1&&aw(i,u,t),t=f,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){aw(i,u,t),ky();break e}l=Error(Se(426))}}else if(wt&&a.mode&1){var b=lw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),uw(b,o,a,i,t),ry(Ra(l,a));break e}}i=l=Ra(l,a),qt!==4&&(qt=2),Ml===null?Ml=[i]:Ml.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Zk(i,l,t);tw(i,g);break e;case 1:a=l;var v=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(li===null||!li.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var T=Xk(i,a,t);tw(i,T);break e}}i=i.return}while(i!==null)}vS(n)}catch(A){t=A,Ut===n&&n!==null&&(Ut=n=n.return);continue}break}while(!0)}function gS(){var e=Ud.current;return Ud.current=Bd,e===null?Bd:e}function ky(){(qt===0||qt===3||qt===2)&&(qt=4),tn===null||!(fo&268435455)&&!(wh&268435455)||Us(tn,on)}function Kd(e,t){var n=lt;lt|=2;var r=gS();(tn!==e||on!==t)&&(is=null,io(e,t));do try{X2();break}catch(s){mS(e,s)}while(!0);if(iy(),lt=n,Ud.current=r,Ut!==null)throw Error(Se(261));return tn=null,on=0,qt}function X2(){for(;Ut!==null;)yS(Ut)}function eR(){for(;Ut!==null&&!EP();)yS(Ut)}function yS(e){var t=bS(e.alternate,e,zn);e.memoizedProps=e.pendingProps,t===null?vS(e):Ut=t,vy.current=null}function vS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=q2(n,t),n!==null){n.flags&=32767,Ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qt=6,Ut=null;return}}else if(n=H2(n,t,zn),n!==null){Ut=n;return}if(t=t.sibling,t!==null){Ut=t;return}Ut=t=e}while(t!==null);qt===0&&(qt=5)}function Ni(e,t,n){var r=dt,s=hr.transition;try{hr.transition=null,dt=1,tR(e,t,n,r)}finally{hr.transition=s,dt=r}return null}function tR(e,t,n,r){do ua();while(ei!==null);if(lt&6)throw Error(Se(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(NP(e,i),e===tn&&(Ut=tn=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$c||($c=!0,_S(Ed,function(){return ua(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=hr.transition,hr.transition=null;var o=dt;dt=1;var a=lt;lt|=4,vy.current=null,Y2(e,n),hS(n,e),_2(rm),Td=!!nm,rm=nm=null,e.current=n,Q2(n),CP(),lt=a,dt=o,hr.transition=i}else e.current=n;if($c&&($c=!1,ei=e,Vd=s),i=e.pendingLanes,i===0&&(li=null),RP(n.stateNode),Ln(e,Nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zd)throw zd=!1,e=km,km=null,e;return Vd&1&&e.tag!==0&&ua(),i=e.pendingLanes,i&1?e===Sm?Fl++:(Fl=0,Sm=e):Fl=0,wi(),null}function ua(){if(ei!==null){var e=Zx(Vd),t=hr.transition,n=dt;try{if(hr.transition=null,dt=16>e?16:e,ei===null)var r=!1;else{if(e=ei,ei=null,Vd=0,lt&6)throw Error(Se(331));var s=lt;for(lt|=4,Ue=e.current;Ue!==null;){var i=Ue,o=i.child;if(Ue.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ue=u;Ue!==null;){var c=Ue;switch(c.tag){case 0:case 11:case 15:$l(8,c,i)}var h=c.child;if(h!==null)h.return=c,Ue=h;else for(;Ue!==null;){c=Ue;var p=c.sibling,f=c.return;if(uS(c),c===u){Ue=null;break}if(p!==null){p.return=f,Ue=p;break}Ue=f}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ue=o;else e:for(;Ue!==null;){if(i=Ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$l(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Ue=g;break e}Ue=i.return}}var v=e.current;for(Ue=v;Ue!==null;){o=Ue;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ue=_;else e:for(o=v;Ue!==null;){if(a=Ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vh(9,a)}}catch(A){At(a,a.return,A)}if(a===o){Ue=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Ue=T;break e}Ue=a.return}}if(lt=s,wi(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(ch,e)}catch{}r=!0}return r}finally{dt=n,hr.transition=t}}return!1}function xw(e,t,n){t=Ra(n,t),t=Zk(e,t,1),e=ai(e,t,1),t=xn(),e!==null&&(Ou(e,1,t),Ln(e,t))}function At(e,t,n){if(e.tag===3)xw(e,e,n);else for(;t!==null;){if(t.tag===3){xw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(li===null||!li.has(r))){e=Ra(n,e),e=Xk(t,e,1),t=ai(t,e,1),e=xn(),t!==null&&(Ou(t,1,e),Ln(t,e));break}}t=t.return}}function nR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xn(),e.pingedLanes|=e.suspendedLanes&n,tn===e&&(on&n)===n&&(qt===4||qt===3&&(on&130023424)===on&&500>Nt()-by?io(e,0):wy|=n),Ln(e,t)}function wS(e,t){t===0&&(e.mode&1?(t=Tc,Tc<<=1,!(Tc&130023424)&&(Tc=4194304)):t=1);var n=xn();e=vs(e,t),e!==null&&(Ou(e,t,n),Ln(e,n))}function rR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wS(e,n)}function sR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Se(314))}r!==null&&r.delete(t),wS(e,n)}var bS;bS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dn.current)On=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return On=!1,W2(e,t,n);On=!!(e.flags&131072)}else On=!1,wt&&t.flags&1048576&&Sk(t,Dd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ld(e,t),e=t.pendingProps;var s=Ea(t,gn.current);la(t,n),s=fy(null,t,r,e,s,n);var i=py();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nn(r)?(i=!0,Od(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ly(t),s.updater=yh,t.stateNode=s,s._reactInternals=t,hm(t,r,e,n),t=mm(null,t,r,!0,i,n)):(t.tag=0,wt&&i&&ty(t),bn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ld(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=oR(r),e=kr(r,e),s){case 0:t=pm(null,t,r,e,n);break e;case 1:t=hw(null,t,r,e,n);break e;case 11:t=cw(null,t,r,e,n);break e;case 14:t=dw(null,t,r,kr(r.type,e),n);break e}throw Error(Se(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),pm(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),hw(e,t,r,s,n);case 3:e:{if(rS(t),e===null)throw Error(Se(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Ak(e,t),$d(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ra(Error(Se(423)),t),t=fw(e,t,r,n,s);break e}else if(r!==s){s=Ra(Error(Se(424)),t),t=fw(e,t,r,n,s);break e}else for(Kn=oi(t.stateNode.containerInfo.firstChild),Wn=t,wt=!0,Pr=null,n=Pk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ca(),r===s){t=ws(e,t,n);break e}bn(e,t,r,n)}t=t.child}return t;case 5:return jk(t),e===null&&um(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,sm(r,s)?o=null:i!==null&&sm(r,i)&&(t.flags|=32),nS(e,t),bn(e,t,o,n),t.child;case 6:return e===null&&um(t),null;case 13:return sS(e,t,n);case 4:return uy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ta(t,null,r,n):bn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),cw(e,t,r,s,n);case 7:return bn(e,t,t.pendingProps,n),t.child;case 8:return bn(e,t,t.pendingProps.children,n),t.child;case 12:return bn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,mt(Nd,r._currentValue),r._currentValue=o,i!==null)if(Or(i.value,o)){if(i.children===s.children&&!Dn.current){t=ws(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=fs(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),cm(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Se(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cm(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,la(t,n),s=pr(s),r=r(s),t.flags|=1,bn(e,t,r,n),t.child;case 14:return r=t.type,s=kr(r,t.pendingProps),s=kr(r.type,s),dw(e,t,r,s,n);case 15:return eS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),ld(e,t),t.tag=1,Nn(r)?(e=!0,Od(t)):e=!1,la(t,n),Jk(t,r,s),hm(t,r,s,n),mm(null,t,r,!0,e,n);case 19:return iS(e,t,n);case 22:return tS(e,t,n)}throw Error(Se(156,t.tag))};function _S(e,t){return Gx(e,t)}function iR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,t,n,r){return new iR(e,t,n,r)}function Sy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oR(e){if(typeof e=="function")return Sy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vg)return 11;if(e===Kg)return 14}return 2}function ci(e,t){var n=e.alternate;return n===null?(n=cr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function dd(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Sy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zo:return oo(n.children,s,i,t);case zg:o=8,s|=8;break;case Lp:return e=cr(12,n,t,s|2),e.elementType=Lp,e.lanes=i,e;case $p:return e=cr(13,n,t,s),e.elementType=$p,e.lanes=i,e;case Mp:return e=cr(19,n,t,s),e.elementType=Mp,e.lanes=i,e;case jx:return bh(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rx:o=10;break e;case Ax:o=9;break e;case Vg:o=11;break e;case Kg:o=14;break e;case Ms:o=16,r=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=cr(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function oo(e,t,n,r){return e=cr(7,e,r,t),e.lanes=n,e}function bh(e,t,n,r){return e=cr(22,e,r,t),e.elementType=jx,e.lanes=n,e.stateNode={isHidden:!1},e}function ep(e,t,n){return e=cr(6,e,null,t),e.lanes=n,e}function tp(e,t,n){return t=cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aR(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nf(0),this.expirationTimes=Nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ey(e,t,n,r,s,i,o,a,l){return e=new aR(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=cr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ly(i),e}function lR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xS(e){if(!e)return pi;e=e._reactInternals;e:{if(vo(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var n=e.type;if(Nn(n))return xk(e,n,t)}return t}function kS(e,t,n,r,s,i,o,a,l){return e=Ey(n,r,!0,e,s,i,o,a,l),e.context=xS(null),n=e.current,r=xn(),s=ui(n),i=fs(r,s),i.callback=t??null,ai(n,i,s),e.current.lanes=s,Ou(e,s,r),Ln(e,r),e}function _h(e,t,n,r){var s=t.current,i=xn(),o=ui(s);return n=xS(n),t.context===null?t.context=n:t.pendingContext=n,t=fs(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ai(s,t,o),e!==null&&(jr(e,s,o,i),id(e,s,o)),o}function Wd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cy(e,t){kw(e,t),(e=e.alternate)&&kw(e,t)}function uR(){return null}var SS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ty(e){this._internalRoot=e}xh.prototype.render=Ty.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));_h(e,t,null,null)};xh.prototype.unmount=Ty.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;po(function(){_h(null,e,null,null)}),t[ys]=null}};function xh(e){this._internalRoot=e}xh.prototype.unstable_scheduleHydration=function(e){if(e){var t=tk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bs.length&&t!==0&&t<Bs[n].priority;n++);Bs.splice(n,0,e),n===0&&rk(e)}};function Py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function cR(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Wd(o);i.call(u)}}var o=kS(t,r,e,0,null,!1,!1,"",Sw);return e._reactRootContainer=o,e[ys]=o.current,iu(e.nodeType===8?e.parentNode:e),po(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Wd(l);a.call(u)}}var l=Ey(e,0,!1,null,null,!1,!1,"",Sw);return e._reactRootContainer=l,e[ys]=l.current,iu(e.nodeType===8?e.parentNode:e),po(function(){_h(t,l,n,r)}),l}function Sh(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Wd(o);a.call(l)}}_h(t,o,e,s)}else o=cR(n,t,e,s,r);return Wd(o)}Xx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kl(t.pendingLanes);n!==0&&(qg(t,n|1),Ln(t,Nt()),!(lt&6)&&(Aa=Nt()+500,wi()))}break;case 13:po(function(){var r=vs(e,1);if(r!==null){var s=xn();jr(r,e,1,s)}}),Cy(e,1)}};Gg=function(e){if(e.tag===13){var t=vs(e,134217728);if(t!==null){var n=xn();jr(t,e,134217728,n)}Cy(e,134217728)}};ek=function(e){if(e.tag===13){var t=ui(e),n=vs(e,t);if(n!==null){var r=xn();jr(n,e,t,r)}Cy(e,t)}};tk=function(){return dt};nk=function(e,t){var n=dt;try{return dt=e,t()}finally{dt=n}};Gp=function(e,t,n){switch(t){case"input":if(Up(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ph(r);if(!s)throw Error(Se(90));Ix(r),Up(r,s)}}}break;case"textarea":Nx(e,n);break;case"select":t=n.value,t!=null&&sa(e,!!n.multiple,t,!1)}};zx=_y;Vx=po;var dR={usingClientEntryPoint:!1,Events:[Du,Ho,ph,Bx,Ux,_y]},fl={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hR={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hx(e),e===null?null:e.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||uR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{ch=Mc.inject(hR),Gr=Mc}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dR;Gn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Py(t))throw Error(Se(200));return lR(e,t,null,n)};Gn.createRoot=function(e,t){if(!Py(e))throw Error(Se(299));var n=!1,r="",s=SS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ey(e,1,!1,null,null,n,!1,r,s),e[ys]=t.current,iu(e.nodeType===8?e.parentNode:e),new Ty(t)};Gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=Hx(t),e=e===null?null:e.stateNode,e};Gn.flushSync=function(e){return po(e)};Gn.hydrate=function(e,t,n){if(!kh(t))throw Error(Se(200));return Sh(null,e,t,!0,n)};Gn.hydrateRoot=function(e,t,n){if(!Py(e))throw Error(Se(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=SS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=kS(t,null,e,1,n??null,s,!1,i,o),e[ys]=t.current,iu(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new xh(t)};Gn.render=function(e,t,n){if(!kh(t))throw Error(Se(200));return Sh(null,e,t,!1,n)};Gn.unmountComponentAtNode=function(e){if(!kh(e))throw Error(Se(40));return e._reactRootContainer?(po(function(){Sh(null,null,e,!1,function(){e._reactRootContainer=null,e[ys]=null})}),!0):!1};Gn.unstable_batchedUpdates=_y;Gn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!kh(n))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return Sh(e,t,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function ES(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ES)}catch(e){console.error(e)}}ES(),Ex.exports=Gn;var Ry=Ex.exports;const fR=Au(Ry);var Ew=Ry;Dp.createRoot=Ew.createRoot,Dp.hydrateRoot=Ew.hydrateRoot;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cw="popstate";function pR(e={}){function t(s,i){let{pathname:o="/",search:a="",hash:l=""}=wo(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Tm("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:pu(i))}function r(s,i){qn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return gR(t,n,r,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mR(){return Math.random().toString(36).substring(2,10)}function Tw(e,t){return{usr:e.state,key:e.key,idx:t}}function Tm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?wo(t):t,state:n,key:t&&t.key||r||mR()}}function pu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function wo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function gR(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function h(){a="POP";let b=c(),g=b==null?null:b-u;u=b,l&&l({action:a,location:y.location,delta:g})}function p(b,g){a="PUSH";let v=Tm(y.location,b,g);n&&n(v,b),u=c()+1;let _=Tw(v,u),T=y.createHref(v);try{o.pushState(_,"",T)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(T)}i&&l&&l({action:a,location:y.location,delta:1})}function f(b,g){a="REPLACE";let v=Tm(y.location,b,g);n&&n(v,b),u=c();let _=Tw(v,u),T=y.createHref(v);o.replaceState(_,"",T),i&&l&&l({action:a,location:y.location,delta:0})}function w(b){return yR(b)}let y={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Cw,h),l=b,()=>{s.removeEventListener(Cw,h),l=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:f,go(b){return o.go(b)}};return y}function yR(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:pu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function CS(e,t,n="/"){return vR(e,t,n,!1)}function vR(e,t,n,r){let s=typeof t=="string"?wo(t):t,i=bs(s.pathname||"/",n);if(i==null)return null;let o=TS(e);wR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=AR(i);a=PR(o[l],u,r)}return a}function TS(e,t=[],n=[],r="",s=!1){let i=(o,a,l=s,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;_t(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let h=ps([r,c.relativePath]),p=n.concat(c);o.children&&o.children.length>0&&(_t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),TS(o.children,t,p,h,l)),!(o.path==null&&!o.index)&&t.push({path:h,score:CR(h,o.index),routesMeta:p})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of PS(o.path))i(o,a,!0,u)}),t}function PS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=PS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function wR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:TR(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bR=/^:[\w-]+$/,_R=3,xR=2,kR=1,SR=10,ER=-2,Pw=e=>e==="*";function CR(e,t){let n=e.split("/"),r=n.length;return n.some(Pw)&&(r+=ER),t&&(r+=xR),n.filter(s=>!Pw(s)).reduce((s,i)=>s+(bR.test(i)?_R:i===""?kR:SR),r)}function TR(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function PR(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",h=Hd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Hd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ps([i,h.pathname]),pathnameBase:DR(ps([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ps([i,h.pathnameBase]))}return o}function Hd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=RR(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:h},p)=>{if(c==="*"){let w=a[p]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const f=a[p];return h&&!f?u[c]=void 0:u[c]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function RR(e,t=!1,n=!0){qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function AR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function bs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function jR(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?wo(e):e;return{pathname:n?n.startsWith("/")?n:OR(n,t):t,search:NR(r),hash:LR(s)}}function OR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function np(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ay(e){let t=IR(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function jy(e,t,n,r=!1){let s;typeof e=="string"?s=wo(e):(s={...e},_t(!s.pathname||!s.pathname.includes("?"),np("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),np("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),np("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?t[h]:"/"}let l=jR(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var ps=e=>e.join("/").replace(/\/\/+/g,"/"),DR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,LR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $R(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var RS=["POST","PUT","PATCH","DELETE"];new Set(RS);var MR=["GET",...RS];new Set(MR);var Fa=S.createContext(null);Fa.displayName="DataRouter";var Eh=S.createContext(null);Eh.displayName="DataRouterState";S.createContext(!1);var AS=S.createContext({isTransitioning:!1});AS.displayName="ViewTransition";var FR=S.createContext(new Map);FR.displayName="Fetchers";var BR=S.createContext(null);BR.displayName="Await";var Ir=S.createContext(null);Ir.displayName="Navigation";var Lu=S.createContext(null);Lu.displayName="Location";var Dr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var Oy=S.createContext(null);Oy.displayName="RouteError";function UR(e,{relative:t}={}){_t(Ba(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Ir),{hash:s,pathname:i,search:o}=$u(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:ps([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Ba(){return S.useContext(Lu)!=null}function Qn(){return _t(Ba(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Lu).location}var jS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OS(e){S.useContext(Ir).static||S.useLayoutEffect(e)}function Jn(){let{isDataRoute:e}=S.useContext(Dr);return e?eA():zR()}function zR(){_t(Ba(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Fa),{basename:t,navigator:n}=S.useContext(Ir),{matches:r}=S.useContext(Dr),{pathname:s}=Qn(),i=JSON.stringify(Ay(r)),o=S.useRef(!1);return OS(()=>{o.current=!0}),S.useCallback((l,u={})=>{if(qn(o.current,jS),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=jy(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ps([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,i,s,e])}S.createContext(null);function Ua(){let{matches:e}=S.useContext(Dr),t=e[e.length-1];return t?t.params:{}}function $u(e,{relative:t}={}){let{matches:n}=S.useContext(Dr),{pathname:r}=Qn(),s=JSON.stringify(Ay(n));return S.useMemo(()=>jy(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function VR(e,t){return IS(e,t)}function IS(e,t,n,r,s){var v;_t(Ba(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Ir),{matches:o}=S.useContext(Dr),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",h=a&&a.route;{let _=h&&h.path||"";DS(u,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let p=Qn(),f;if(t){let _=typeof t=="string"?wo(t):t;_t(c==="/"||((v=_.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${_.pathname}" was given in the \`location\` prop.`),f=_}else f=p;let w=f.pathname||"/",y=w;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=CS(e,{pathname:y});qn(h||b!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),qn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=GR(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:ps([c,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:ps([c,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,n,r,s);return t&&g?S.createElement(Lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},g):g}function KR(){let e=XR(),t=$R(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,o)}var WR=S.createElement(KR,null),HR=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(Dr.Provider,{value:this.props.routeContext},S.createElement(Oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qR({routeContext:e,match:t,children:n}){let r=S.useContext(Fa);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Dr.Provider,{value:e},n)}function GR(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);_t(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:h,errors:p}=n,f=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||f){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,h)=>{let p,f=!1,w=null,y=null;n&&(p=o&&c.route.id?o[c.route.id]:void 0,w=c.route.errorElement||WR,a&&(l<0&&h===0?(DS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):l===h&&(f=!0,y=c.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,h+1)),g=()=>{let v;return p?v=w:f?v=y:c.route.Component?v=S.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=u,S.createElement(qR,{match:c,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?S.createElement(HR,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):g()},null)}function Iy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YR(e){let t=S.useContext(Fa);return _t(t,Iy(e)),t}function QR(e){let t=S.useContext(Eh);return _t(t,Iy(e)),t}function JR(e){let t=S.useContext(Dr);return _t(t,Iy(e)),t}function Dy(e){let t=JR(e),n=t.matches[t.matches.length-1];return _t(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ZR(){return Dy("useRouteId")}function XR(){var r;let e=S.useContext(Oy),t=QR("useRouteError"),n=Dy("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function eA(){let{router:e}=YR("useNavigate"),t=Dy("useNavigate"),n=S.useRef(!1);return OS(()=>{n.current=!0}),S.useCallback(async(s,i={})=>{qn(n.current,jS),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Rw={};function DS(e,t,n){!t&&!Rw[e]&&(Rw[e]=!0,qn(!1,n))}S.memo(tA);function tA({routes:e,future:t,state:n,unstable_onError:r}){return IS(e,void 0,n,r,t)}function NS({to:e,replace:t,state:n,relative:r}){_t(Ba(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(Ir);qn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(Dr),{pathname:o}=Qn(),a=Jn(),l=jy(e,Ay(i),o,r==="path"),u=JSON.stringify(l);return S.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function Jt(e){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nA({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){_t(!Ba(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=wo(n));let{pathname:l="/",search:u="",hash:c="",state:h=null,key:p="default"}=n,f=S.useMemo(()=>{let w=bs(l,o);return w==null?null:{location:{pathname:w,search:u,hash:c,state:h,key:p},navigationType:r}},[o,l,u,c,h,p,r]);return qn(f!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:S.createElement(Ir.Provider,{value:a},S.createElement(Lu.Provider,{children:t,value:f}))}function rA({children:e,location:t}){return VR(Pm(e),t)}function Pm(e,t=[]){let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let i=[...t,s];if(r.type===S.Fragment){n.push.apply(n,Pm(r.props.children,i));return}_t(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Pm(r.props.children,i)),n.push(o)}),n}var hd="get",fd="application/x-www-form-urlencoded";function Ch(e){return e!=null&&typeof e.tagName=="string"}function sA(e){return Ch(e)&&e.tagName.toLowerCase()==="button"}function iA(e){return Ch(e)&&e.tagName.toLowerCase()==="form"}function oA(e){return Ch(e)&&e.tagName.toLowerCase()==="input"}function aA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lA(e,t){return e.button===0&&(!t||t==="_self")&&!aA(e)}function Rm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function uA(e,t){let n=Rm(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Fc=null;function cA(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var dA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rp(e){return e!=null&&!dA.has(e)?(qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fd}"`),null):e}function hA(e,t){let n,r,s,i,o;if(iA(e)){let a=e.getAttribute("action");r=a?bs(a,t):null,n=e.getAttribute("method")||hd,s=rp(e.getAttribute("enctype"))||fd,i=new FormData(e)}else if(sA(e)||oA(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?bs(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||hd,s=rp(e.getAttribute("formenctype"))||rp(a.getAttribute("enctype"))||fd,i=new FormData(a,e),!cA()){let{name:u,type:c,value:h}=e;if(c==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,h)}}else{if(Ch(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hd,r=null,s=fd,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ny(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fA(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&bs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function pA(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function gA(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await pA(i,n);return o.links?o.links():[]}return[]}));return bA(r.flat(1).filter(mA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Aw(e,t,n,r,s,i){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?t.filter((l,u)=>{var h;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function yA(e,t,{includeHydrateFallback:n}={}){return vA(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function vA(e){return[...new Set(e)]}function wA(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function bA(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(wA(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function LS(){let e=S.useContext(Fa);return Ny(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _A(){let e=S.useContext(Eh);return Ny(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ly=S.createContext(void 0);Ly.displayName="FrameworkContext";function $S(){let e=S.useContext(Ly);return Ny(e,"You must render this element inside a <HydratedRouter> element"),e}function xA(e,t){let n=S.useContext(Ly),[r,s]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:h}=t,p=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=g=>{g.forEach(v=>{o(v.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),S.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let f=()=>{s(!0)},w=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,p,{}]:[i,p,{onFocus:pl(a,f),onBlur:pl(l,w),onMouseEnter:pl(u,f),onMouseLeave:pl(c,w),onTouchStart:pl(h,f)}]:[!1,p,{}]}function pl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function kA({page:e,...t}){let{router:n}=LS(),r=S.useMemo(()=>CS(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(EA,{page:e,matches:r,...t}):null}function SA(e){let{manifest:t,routeModules:n}=$S(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return gA(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function EA({page:e,matches:t,...n}){let r=Qn(),{manifest:s,routeModules:i}=$S(),{basename:o}=LS(),{loaderData:a,matches:l}=_A(),u=S.useMemo(()=>Aw(e,t,l,s,r,"data"),[e,t,l,s,r]),c=S.useMemo(()=>Aw(e,t,l,s,r,"assets"),[e,t,l,s,r]),h=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,y=!1;if(t.forEach(g=>{var _;let v=s.routes[g.route.id];!v||!v.hasLoader||(!u.some(T=>T.route.id===g.route.id)&&g.route.id in a&&((_=i[g.route.id])!=null&&_.shouldRevalidate)||v.hasClientLoader?y=!0:w.add(g.route.id))}),w.size===0)return[];let b=fA(e,o,"data");return y&&w.size>0&&b.searchParams.set("_routes",t.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[b.pathname+b.search]},[o,a,r,s,u,t,e,i]),p=S.useMemo(()=>yA(c,s),[c,s]),f=SA(c);return S.createElement(S.Fragment,null,h.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),p.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),f.map(({key:w,link:y})=>S.createElement("link",{key:w,nonce:n.nonce,...y})))}function CA(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MS&&(window.__reactRouterVersion="7.9.3")}catch{}function TA({basename:e,children:t,window:n}){let r=S.useRef();r.current==null&&(r.current=pR({window:n,v5Compat:!0}));let s=r.current,[i,o]=S.useState({action:s.action,location:s.location}),a=S.useCallback(l=>{S.startTransition(()=>o(l))},[o]);return S.useLayoutEffect(()=>s.listen(a),[s,a]),S.createElement(nA,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var FS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vn=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h,...p},f){let{basename:w}=S.useContext(Ir),y=typeof u=="string"&&FS.test(u),b,g=!1;if(typeof u=="string"&&y&&(b=u,MS))try{let $=new URL(window.location.href),F=u.startsWith("//")?new URL($.protocol+u):new URL(u),de=bs(F.pathname,w);F.origin===$.origin&&de!=null?u=de+F.search+F.hash:g=!0}catch{qn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=UR(u,{relative:s}),[_,T,A]=xA(r,p),I=jA(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:h});function j($){t&&t($),$.defaultPrevented||I($)}let D=S.createElement("a",{...p,...A,href:b||v,onClick:g||i?t:j,ref:CA(f,T),target:l,"data-discover":!y&&n==="render"?"true":void 0});return _&&!y?S.createElement(S.Fragment,null,D,S.createElement(kA,{page:v})):D});Vn.displayName="Link";var PA=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},c){let h=$u(o,{relative:u.relative}),p=Qn(),f=S.useContext(Eh),{navigator:w,basename:y}=S.useContext(Ir),b=f!=null&&$A(h)&&a===!0,g=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,v=p.pathname,_=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(v=v.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase()),_&&y&&(_=bs(_,y)||_);const T=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let A=v===g||!s&&v.startsWith(g)&&v.charAt(T)==="/",I=_!=null&&(_===g||!s&&_.startsWith(g)&&_.charAt(g.length)==="/"),j={isActive:A,isPending:I,isTransitioning:b},D=A?t:void 0,$;typeof r=="function"?$=r(j):$=[r,A?"active":null,I?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(j):i;return S.createElement(Vn,{...u,"aria-current":D,className:$,ref:c,style:F,to:o,viewTransition:a},typeof l=="function"?l(j):l)});PA.displayName="NavLink";var RA=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=hd,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:h,...p},f)=>{let w=NA(),y=LA(a,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&FS.test(a),v=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let T=_.nativeEvent.submitter,A=(T==null?void 0:T.getAttribute("formmethod"))||o;w(T||_.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:s,state:i,relative:u,preventScrollReset:c,viewTransition:h})};return S.createElement("form",{ref:f,method:b,action:y,onSubmit:r?l:v,...p,"data-discover":!g&&e==="render"?"true":void 0})});RA.displayName="Form";function AA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BS(e){let t=S.useContext(Fa);return _t(t,AA(e)),t}function jA(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Jn(),l=Qn(),u=$u(e,{relative:i});return S.useCallback(c=>{if(lA(c,t)){c.preventDefault();let h=n!==void 0?n:pu(l)===pu(u);a(e,{replace:h,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,u,n,r,t,e,s,i,o])}function OA(e){qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=S.useRef(Rm(e)),n=S.useRef(!1),r=Qn(),s=S.useMemo(()=>uA(r.search,n.current?null:t.current),[r.search]),i=Jn(),o=S.useCallback((a,l)=>{const u=Rm(typeof a=="function"?a(new URLSearchParams(s)):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}var IA=0,DA=()=>`__${String(++IA)}__`;function NA(){let{router:e}=BS("useSubmit"),{basename:t}=S.useContext(Ir),n=ZR();return S.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:u}=hA(r,t);if(s.navigate===!1){let c=s.fetcherKey||DA();await e.fetch(c,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function LA(e,{relative:t}={}){let{basename:n}=S.useContext(Ir),r=S.useContext(Dr);_t(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...$u(e||".",{relative:t})},o=Qn();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let c=a.toString();i.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:ps([n,i.pathname])),pu(i)}function $A(e,{relative:t}={}){let n=S.useContext(AS);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BS("useViewTransitionState"),s=$u(e,{relative:t});if(!n.isTransitioning)return!1;let i=bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hd(s.pathname,o)!=null||Hd(s.pathname,i)!=null}const bi="https://script.google.com/macros/s/AKfycbzcaAE9OcLaqxKYvLyMdH4HwodXdw1zSY5QtKmztDNd9Bfaj90URCzWB1j1i6A9a2a5Bw/exec",US="radtpoqypgqetijvopho",MA=["searchIndex","allSongs"],FA=e=>["book-download-status",e],BA="modulepreload",UA=function(e){return"/new-sankeertan/"+e},jw={},za=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=UA(l),l in jw)return;jw[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":BA,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},zA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>za(async()=>{const{default:r}=await Promise.resolve().then(()=>Va);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class $y extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Ow extends $y{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Iw extends $y{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dw extends $y{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Am;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Am||(Am={}));var VA=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class KA{constructor(t,{headers:n={},customFetch:r,region:s=Am.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=zA(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return VA(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:a,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const h=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,h.searchParams.set("forceFunctionRegion",c));let p;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(u["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(u["Content-Type"]="application/json",p=JSON.stringify(a)));const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:p,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new Ow(g)}),w=f.headers.get("x-relay-error");if(w&&w==="true")throw new Iw(f);if(!f.ok)throw new Dw(f);let y=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield f.json():y==="application/octet-stream"?b=yield f.blob():y==="text/event-stream"?b=f:y==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Ow(i)}:{data:null,error:i,response:i instanceof Dw||i instanceof Iw?i.context:void 0}}})}}var jn={},My={},Th={},Mu={},Ph={},Rh={},WA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ja=WA();const HA=ja.fetch,zS=ja.fetch.bind(ja),VS=ja.Headers,qA=ja.Request,GA=ja.Response,Va=Object.freeze(Object.defineProperty({__proto__:null,Headers:VS,Request:qA,Response:GA,default:zS,fetch:HA},Symbol.toStringTag,{value:"Module"})),YA=UT(Va);var Ah={};Object.defineProperty(Ah,"__esModule",{value:!0});let QA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ah.default=QA;var KS=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rh,"__esModule",{value:!0});const JA=KS(YA),ZA=KS(Ah);let XA=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=JA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let c=null,h=null,p=null,f=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=v:h=JSON.parse(v))}const b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,f=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await i.text();try{c=JSON.parse(b),Array.isArray(c)&&i.status===404&&(h=[],c=null,f=200,w="OK")}catch{i.status===404&&b===""?(f=204,w="No Content"):c={message:b}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,w="OK"),c&&this.shouldThrowOnError)throw new ZA.default(c)}return{error:c,data:h,count:p,status:f,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Rh.default=XA;var ej=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ph,"__esModule",{value:!0});const tj=ej(Rh);let nj=class extends tj.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ph.default=nj;var rj=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mu,"__esModule",{value:!0});const sj=rj(Ph);let ij=class extends sj.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Mu.default=ij;var oj=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Th,"__esModule",{value:!0});const ml=oj(Mu);let aj=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,n){const{head:r=!1,count:s}=n??{},i=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),s&&this.headers.append("Prefer",`count=${s}`),new ml.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ml.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ml.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ml.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ml.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Th.default=aj;var WS=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(My,"__esModule",{value:!0});const lj=WS(Th),uj=WS(Mu);let cj=class HS{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new lj.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new HS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{l.searchParams.append(h,p)})):(a="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new uj.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};My.default=cj;var Ka=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jn,"__esModule",{value:!0});jn.PostgrestError=jn.PostgrestBuilder=jn.PostgrestTransformBuilder=jn.PostgrestFilterBuilder=jn.PostgrestQueryBuilder=jn.PostgrestClient=void 0;const qS=Ka(My);jn.PostgrestClient=qS.default;const GS=Ka(Th);jn.PostgrestQueryBuilder=GS.default;const YS=Ka(Mu);jn.PostgrestFilterBuilder=YS.default;const QS=Ka(Ph);jn.PostgrestTransformBuilder=QS.default;const JS=Ka(Rh);jn.PostgrestBuilder=JS.default;const ZS=Ka(Ah);jn.PostgrestError=ZS.default;var dj=jn.default={PostgrestClient:qS.default,PostgrestQueryBuilder:GS.default,PostgrestFilterBuilder:YS.default,PostgrestTransformBuilder:QS.default,PostgrestBuilder:JS.default,PostgrestError:ZS.default};const{PostgrestClient:hj,PostgrestQueryBuilder:TU,PostgrestFilterBuilder:PU,PostgrestTransformBuilder:RU,PostgrestBuilder:AU,PostgrestError:jU}=dj;class fj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const pj="2.74.0",mj=`realtime-js/${pj}`,gj="1.0.0",jm=1e4,yj=1e3,vj=100;var Bl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bl||(Bl={}));var Vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Vt||(Vt={}));var Tr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tr||(Tr={}));var Om;(function(e){e.websocket="websocket"})(Om||(Om={}));var Fi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fi||(Fi={}));class wj{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class XS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pt||(pt={}));const Nw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=bj(o,e,t,s),i),{}):{}},bj=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?e1(i,o):Im(o)},e1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Sj(t,n)}switch(e){case pt.bool:return _j(t);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return xj(t);case pt.json:case pt.jsonb:return kj(t);case pt.timestamp:return Ej(t);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return Im(t);default:return Im(t)}},Im=e=>e,_j=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Sj=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>e1(t,a))}return e},Ej=e=>typeof e=="string"?e.replace(" ","T"):e,t1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class sp{constructor(t,n,r={},s=jm){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Lw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Lw||(Lw={}));class Ul{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ul.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ul.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ul.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),w=c.filter(b=>f.indexOf(b.presence_ref)<0),y=h.filter(b=>p.indexOf(b.presence_ref)<0);w.length>0&&(a[u]=w),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(f=>f.presence_ref),p=c.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $w;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($w||($w={}));var zl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zl||(zl={}));var os;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(os||(os={}));class Fy{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new sp(this,Tr.join,this.params,this.timeout),this.rejoinTimer=new XS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ul(this),this.broadcastEndpointURL=t1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[zl.PRESENCE]&&this.bindings[zl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(os.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(os.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var w;if(this.socket.setAuth(),f===void 0){t==null||t(os.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,g=[];for(let v=0;v<b;v++){const _=y[v],{filter:{event:T,schema:A,table:I,filter:j}}=_,D=f&&f[v];if(D&&D.event===T&&D.schema===A&&D.table===I&&D.filter===j)g.push(Object.assign(Object.assign({},_),{id:D.id}));else{this.unsubscribe(),this.state=Vt.errored,t==null||t(os.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(os.SUBSCRIBED);return}}).receive("error",f=>{this.state=Vt.errored,t==null||t(os.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(os.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Vt.joined&&t===zl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new sp(this,Tr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sp(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vj){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Tr;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var w,y,b;return((w=f.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(y=f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(f=>f.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var w,y,b,g,v,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const T=f.id,A=(w=f.filter)===null||w===void 0?void 0:w.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const T=(v=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return T==="*"||T===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:y,table:b,commit_timestamp:g,type:v,errors:_}=w;p=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:g,eventType:v,new:{},old:{},errors:_}),this._getPayloadRecords(w))}f.callback(p,r)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Fy.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tr.close,{},t)}_onError(t){this._on(Tr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Nw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Nw(t.columns,t.old_record)),n}}const ip=()=>{},Bc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cj=[1e3,2e3,5e3,1e4],Tj=1e4,Pj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rj{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jm,this.transport=null,this.heartbeatIntervalMs=Bc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ip,this.ref=0,this.reconnectTimer=null,this.logger=ip,this.conn=null,this.sendBuffer=[],this.serializer=new wj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>za(async()=>{const{default:a}=await Promise.resolve().then(()=>Va);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Om.websocket}`,this.httpEndpoint=t1(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gj}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bl.connecting:return Fi.Connecting;case Bl.open:return Fi.Open;case Bl.closing:return Fi.Closing;default:return Fi.Closed}}isConnected(){return this.connectionState()===Fi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Fy(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(yj,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Bc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Pj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:mj};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Tr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new XS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,c;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:jm,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Bc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:ip,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:h=>Cj[h-1]||Tj,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class By extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Aj extends By{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dm extends By{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var jj=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const n1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>za(async()=>{const{default:r}=await Promise.resolve().then(()=>Va);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Oj=()=>jj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield za(()=>Promise.resolve().then(()=>Va),void 0)).Response:Response}),Nm=e=>{if(Array.isArray(e))return e.map(n=>Nm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Nm(r)}),t},Ij=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var bo=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const op=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dj=(e,t,n)=>bo(void 0,void 0,void 0,function*(){const r=yield Oj();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new Aj(op(s),i,o))}).catch(s=>{t(new Dm(op(s),s))}):t(new Dm(op(e),e))}),Nj=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(Ij(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Fu(e,t,n,r,s,i){return bo(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Nj(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Dj(l,a,r))})})}function qd(e,t,n,r){return bo(this,void 0,void 0,function*(){return Fu(e,"GET",t,n,r)})}function Ur(e,t,n,r,s){return bo(this,void 0,void 0,function*(){return Fu(e,"POST",t,r,s,n)})}function Lm(e,t,n,r,s){return bo(this,void 0,void 0,function*(){return Fu(e,"PUT",t,r,s,n)})}function Lj(e,t,n,r){return bo(this,void 0,void 0,function*(){return Fu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function r1(e,t,n,r,s){return bo(this,void 0,void 0,function*(){return Fu(e,"DELETE",t,r,s,n)})}var $j=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Mj{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return $j(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}}var Fj=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Bj{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new Mj(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return Fj(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}}var Cn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Uj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zj{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=n1(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return Cn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Mw),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield(t=="PUT"?Lm:Ur)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Cn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Cn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Mw.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield Lm(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ft(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Cn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ur(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new By("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}update(t,n,r){return Cn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Cn(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Cn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Cn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ur(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Cn(this,void 0,void 0,function*(){try{const s=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>qd(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Bj(l,this.shouldThrowOnError)}info(t){return Cn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield qd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Nm(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}exists(t){return Cn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Lj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r)&&r instanceof Dm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Cn(this,void 0,void 0,function*(){try{return{data:yield r1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}list(t,n,r){return Cn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Uj),n),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}listV2(t,n){return Cn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Vj="2.74.0",Kj={"X-Client-Info":`storage-js/${Vj}`};var Oo=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Wj{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kj),n),this.fetch=n1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Oo(this,void 0,void 0,function*(){try{return{data:yield qd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}getBucket(t){return Oo(this,void 0,void 0,function*(){try{return{data:yield qd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}createBucket(t){return Oo(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Oo(this,void 0,void 0,function*(){try{return{data:yield Lm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Oo(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Oo(this,void 0,void 0,function*(){try{return{data:yield r1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}}class Hj extends Wj{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new zj(this.url,this.headers,t,this.fetch)}}const qj="2.74.0";let El="";typeof Deno<"u"?El="deno":typeof document<"u"?El="web":typeof navigator<"u"&&navigator.product==="ReactNative"?El="react-native":El="node";const Gj={"X-Client-Info":`supabase-js-${El}/${qj}`},Yj={headers:Gj},Qj={schema:"public"},Jj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zj={};var Xj=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const eO=e=>{let t;return e?t=e:typeof fetch>"u"?t=zS:t=fetch,(...n)=>t(...n)},tO=()=>typeof Headers>"u"?VS:Headers,nO=(e,t,n)=>{const r=eO(n),s=tO();return(i,o)=>Xj(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var rO=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function sO(e){return e.endsWith("/")?e:e+"/"}function iO(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:h}=t,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>rO(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function oO(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const s1="2.74.0",Fo=30*1e3,$m=3,ap=$m*Fo,aO="http://localhost:9999",lO="supabase.auth.token",uO={"X-Client-Info":`gotrue-js/${s1}`},Mm="X-Supabase-Api-Version",i1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dO=10*60*1e3;class mu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function He(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class hO extends mu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function fO(e){return He(e)&&e.name==="AuthApiError"}class Bi extends mu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class _i extends mu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ns extends _i{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pO(e){return He(e)&&e.name==="AuthSessionMissingError"}class Io extends _i{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Uc extends _i{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zc extends _i{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mO(e){return He(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fw extends _i{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fm extends _i{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function lp(e){return He(e)&&e.name==="AuthRetryableFetchError"}class Bw extends _i{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Bm extends _i{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uw=` 	
\r=`.split(""),gO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Uw.length;t+=1)e[Uw[t].charCodeAt(0)]=-2;for(let t=0;t<Gd.length;t+=1)e[Gd[t].charCodeAt(0)]=t;return e})();function zw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Gd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Gd[r]),t.queuedBits-=6}}function o1(e,t,n){const r=gO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vw(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{wO(o,r,n)};for(let o=0;o<e.length;o+=1)o1(e.charCodeAt(o),s,i);return t.join("")}function yO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vO(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}yO(r,t)}}function wO(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ca(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)o1(e.charCodeAt(s),n,r);return new Uint8Array(t)}function bO(e){const t=[];return vO(e,n=>t.push(n)),new Uint8Array(t)}function Wi(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>zw(s,n,r)),zw(null,n,r),t.join("")}function _O(e){return Math.round(Date.now()/1e3)+e}function xO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Un=()=>typeof window<"u"&&typeof document<"u",ji={tested:!1,writable:!1},a1=()=>{if(!Un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ji.tested)return ji.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ji.tested=!0,ji.writable=!0}catch{ji.tested=!0,ji.writable=!1}return ji.writable};function kO(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const l1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>za(async()=>{const{default:r}=await Promise.resolve().then(()=>Va);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},SO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Bo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Oi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ds=async(e,t)=>{await e.removeItem(t)};class jh{constructor(){this.promise=new jh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}jh.promiseConstructor=Promise;function up(e){const t=e.split(".");if(t.length!==3)throw new Bm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!cO.test(t[r]))throw new Bm("JWT not in base64url format");return{header:JSON.parse(Vw(t[0])),payload:JSON.parse(Vw(t[1])),signature:ca(t[2]),raw:{header:t[0],payload:t[1]}}}async function EO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function CO(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function TO(e){return("0"+e.toString(16)).substr(-2)}function PO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,TO).join("")}async function RO(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function AO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await RO(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Do(e,t,n=!1){const r=PO();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Bo(e,`${t}-code-verifier`,s);const i=await AO(r);return[i,r===i?"plain":"s256"]}const jO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OO(e){const t=e.headers.get(Mm);if(!t||!t.match(jO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function IO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function DO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function No(e){if(!NO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cp(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kw(e){return JSON.parse(JSON.stringify(e))}var LO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Li=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$O=[502,503,504];async function Ww(e){var t;if(!SO(e))throw new Fm(Li(e),0);if($O.includes(e.status))throw new Fm(Li(e),e.status);let n;try{n=await e.json()}catch(i){throw new Bi(Li(i),i)}let r;const s=OO(e);if(s&&s.getTime()>=i1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Bw(Li(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ns}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Bw(Li(n),e.status,n.weak_password.reasons);throw new hO(Li(n),e.status||500,r)}const MO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Qe(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Mm]||(i[Mm]=i1["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await FO(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function FO(e,t,n,r,s,i){const o=MO(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Fm(Li(l),0)}if(a.ok||await Ww(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ww(l)}}function _r(e){var t;let n=null;zO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=_O(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Hw(e){const t=_r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function BO(e){return{data:e,error:null}}function UO(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=LO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function qw(e){return e}function zO(e){return e.access_token&&e.refresh_token&&e.expires_in}const dp=["global","local","others"];var VO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class KO{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=l1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=dp[0]){if(dp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dp.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zs})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=VO(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:UO,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(He(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zs})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qw});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(He(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){No(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zs})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){No(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:zs})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){No(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:zs})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){No(t.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(He(n))return{data:null,error:n};throw n}}async _deleteFactor(t){No(t.userId),No(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qw});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(He(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(He(n))return{data:null,error:n};throw n}}}function Gw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Lo={debug:!!(globalThis&&a1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class u1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class WO extends u1{}async function HO(e,t,n){Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new WO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function qO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function c1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function GO(e){return parseInt(e,16)}function YO(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function QO(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=c1(e.address),w=c?`${c}://${r}`:r,y=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${f}

${y}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let v=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);v+=`
- ${_}`}g+=v}return`${b}
${g}`}class Mt extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Yd extends Mt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function JO({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(h1(o)){if(i.rp.id!==o)return new Mt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ZO({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(h1(r)){if(n.rpId!==r)return new Mt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var d1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class XO{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const eI=new XO;function tI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=d1(e,["challenge","user","excludeCredentials"]),i=ca(t).buffer,o=Object.assign(Object.assign({},n),{id:ca(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ca(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function nI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=d1(e,["challenge","allowCredentials"]),s=ca(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ca(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function rI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Wi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Wi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Wi(new Uint8Array(s.authenticatorData)),clientDataJSON:Wi(new Uint8Array(s.clientDataJSON)),signature:Wi(new Uint8Array(s.signature)),userHandle:s.userHandle?Wi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function h1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Yw(){var e,t;return!!(Un()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function iI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yd("Browser returned unexpected credential type",t)}:{data:null,error:new Yd("Empty credential response",t)}}catch(t){return{data:null,error:JO({error:t,options:e})}}}async function oI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yd("Browser returned unexpected credential type",t)}:{data:null,error:new Yd("Empty credential response",t)}}catch(t){return{data:null,error:ZO({error:t,options:e})}}}const aI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},lI={userVerification:"preferred",hints:["security-key"]};function Qd(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=Qd(a,o):r[i]=Qd(o)}else r[i]=o}return r}function uI(e,t){return Qd(aI,e,t||{})}function cI(e,t){return Qd(lI,e,t||{})}class dI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??eI.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=uI(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:h}=await iI({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=cI(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:h}=await oI(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return He(o)?{data:null,error:o}:{data:null,error:new Bi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new mu("rpId is required for WebAuthn authentication")};try{if(!Yw())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return He(o)?{data:null,error:o}:{data:null,error:new Bi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new mu("rpId is required for WebAuthn registration")};try{if(!Yw())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return He(o)?{data:null,error:o}:{data:null,error:new Bi("Unexpected error in register",o)}}}}qO();const hI={url:aO,storageKey:lO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qw(e,t,n){return await n()}const $o={};class gu{get jwks(){var t,n;return(n=(t=$o[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){$o[this.storageKey]=Object.assign(Object.assign({},$o[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=$o[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$o[this.storageKey]=Object.assign(Object.assign({},$o[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gu.nextInstanceID,gu.nextInstanceID+=1,this.instanceID>0&&Un()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},hI),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new KO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=l1(s.fetch),this.lock=s.lock||Qw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Un()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=HO:this.lock=Qw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dI(this)},this.persistSession?(s.storage?this.storage=s.storage:a1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Gw(this.memoryStorage)),Un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${s1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=kO(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Un()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),mO(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return He(n)?{error:n}:{error:new Bi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_r}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:h,options:p}=t;let f=null,w=null;this.flowType==="pkce"&&([f,w]=await Do(this.storage,this.storageKey)),i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:w},xform:_r})}else if("phone"in t){const{phone:c,password:h,options:p}=t;i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:_r})}else throw new Uc("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hw})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hw})}else throw new Uc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Io}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,c,h,p;let f,w;if("message"in t)f=t.message,w=t.signature;else{const{chain:y,wallet:b,statement:g,options:v}=t;let _;if(Un())if(typeof b=="object")_=b;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")_=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const T=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),A=await _.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=c1(A[0]);let j=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const $=await _.request({method:"eth_chainId"});j=GO($)}const D={domain:T.host,address:I,statement:g,uri:T.href,version:"1",chainId:j,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=QO(D),w=await _.request({method:"personal_sign",params:[YO(f),I]})}try{const{data:y,error:b}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_r});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Io}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(He(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,h,p,f;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:b,wallet:g,statement:v,options:_}=t;let T;if(Un())if(typeof g=="object")T=g;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))T=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=g}const A=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const I=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),v?{statement:v}:null));let j;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")j=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)j=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${A.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(s=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const I=await T.signMessage(new TextEncoder().encode(w),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=I}}try{const{data:b,error:g}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Wi(y)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:_r});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Io}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(He(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await Oi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:_r});if(await Ds(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Io}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(He(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_r}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Io}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Do(this.storage,this.storageKey));const{error:h}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Uc("You must provide either an email or phone number.")}catch(a){if(He(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_r});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(He(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Do(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:BO})}catch(i){if(He(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ns;const{error:s}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Uc("You must provide either an email or phone number and a type")}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Oi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ap:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Oi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=cp()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zs}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ns}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zs})})}catch(n){if(He(n))return pO(n)&&(await this._removeSession(),await Ds(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ns;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Do(this.storage,this.storageKey));const{data:u,error:c}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:zs});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ns;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=up(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(He(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ns;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Un())throw new zc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Fw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fw("No code detected.");const{data:v,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new zc("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const f=p-c;f*1e3<=Fo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const w=p-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,c);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(He(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Oi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(fO(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ds(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=xO(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Do(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(He(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Un()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(He(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,h=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_r}),{data:p,error:f}=h;return f?{data:{user:null,session:null},error:f}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Io}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:f})}catch(s){if(He(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await CO(async s=>(s>0&&await EO(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_r})),(s,i)=>{const o=200*Math.pow(2,s);return i&&lp(i)&&Date.now()+o-r<Fo})}catch(r){if(this._debug(n,"error",r),He(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Un()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Oi(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Oi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Bo(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:cp()}else if(s&&!s.user&&!s.user){const o=await Oi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ds(this.storage,this.storageKey+"-user"),await Bo(this.storage,this.storageKey,s)):s.user=cp()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ap;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ap}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),lp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ns;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),He(i)){const o={data:null,error:i};return lp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Bo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Kw(s);await Bo(this.storage,this.storageKey,i)}else{const s=Kw(n);await Bo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ds(this.storage,this.storageKey),await Ds(this.storage,this.storageKey+"-code-verifier"),await Ds(this.storage,this.storageKey+"-user"),this.userStorage&&await Ds(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Un()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Fo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fo}ms, refresh threshold is ${$m} ticks`),s<=$m&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof u1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Un()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Do(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?rI(t.webauthn.credential_response):sI(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(He(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:tI(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:nI(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(He(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=up(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+dO>s)return r;const{data:i,error:o}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:f,error:w}=await this.getSession();if(w||!f.session)return{data:null,error:w};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=up(r);n!=null&&n.allowExpired||IO(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const c=DO(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,bO(`${a}.${l}`)))throw new Bm("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}}gu.nextInstanceID=0;const fI=gu;class pI extends fI{constructor(t){super(t)}}var mI=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class gI{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const a=oO(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Qj,realtime:Zj,auth:Object.assign(Object.assign({},Jj),{storageKey:l}),global:Yj},c=iO(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=nO(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new hj(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Hj(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new KA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return mI(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},c,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pI({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Rj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yI=(e,t,n)=>new gI(e,t,n);function vI(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}vI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wI="https://"+US+".supabase.co",bI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhZHRwb3F5cGdxZXRpanZvcGhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE3ODAwNjAsImV4cCI6MjA1NzM1NjA2MH0.dAIWitCyN4TVv3n4PTvhqJlUXsAGVSjOPm-L2jw818k",_I=wI,xI=bI,zt=yI(_I,xI),Uy=S.createContext({session:null,setSession:()=>{},isLoading:!0}),kI=({children:e})=>{const[t,n]=S.useState(null),[r,s]=S.useState(!0);S.useEffect(()=>{zt.auth.getSession().then(({data:{session:a}})=>{n(a),s(!1)});const{data:{subscription:o}}=zt.auth.onAuthStateChange((a,l)=>{n(l)});return()=>{console.log("AUTH_DEBUG: 5. Cleanup function running."),o.unsubscribe()}},[]);const i={session:t,setSession:n,isLoading:r};return k.jsx(Uy.Provider,{value:i,children:e})},xi=()=>S.useContext(Uy),SI=()=>{const[e,t]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState(null),l=Jn(),{setSession:u}=xi(),c=async h=>{h.preventDefault(),i(!0),a(null);try{const{data:{session:p},error:f}=await zt.auth.signInWithPassword({email:e,password:n});if(f)a(f.message);else if(p){u(p);const w=sessionStorage.getItem("redirect_path");sessionStorage.removeItem("redirect_path"),l(w||"/categories",{replace:!0})}}catch(p){a(p.message||"An unexpected error occurred during login.")}finally{i(!1)}};return k.jsx("div",{className:"min-h-screen bg-gray-100 py-6 flex flex-col justify-center sm:py-12",children:k.jsxs("div",{className:"relative py-3 sm:max-w-xl sm:mx-auto",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-300 to-blue-600 shadow-lg transform -skew-y-6 sm:skew-x-6 sm:rounded-3xl"}),k.jsx("div",{className:"relative bg-white px-4 py-10 shadow-lg sm:rounded-3xl sm:px-20",children:k.jsxs("div",{className:"max-w-md mx-auto",children:[k.jsxs("div",{className:"text-center",children:[k.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Login"}),k.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"-------------"})]}),k.jsx("div",{children:o&&k.jsx("p",{className:"text-red-500",children:o})}),k.jsxs("div",{className:"divide-y divide-gray-200",children:[k.jsx("form",{onSubmit:c,children:k.jsxs("div",{className:"py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[k.jsxs("div",{className:"relative",children:[k.jsx("input",{autoComplete:"off",id:"email",name:"email",type:"email",value:e,onChange:h=>t(h.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Email address"}),k.jsx("label",{htmlFor:"email",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Email address"})]}),k.jsxs("div",{className:"relative",children:[k.jsx("input",{autoComplete:"off",id:"password",name:"password",type:"password",value:n,onChange:h=>r(h.target.value),required:!0,className:"peer w-full min-h-[1em] rounded-md border-2 border-gray-200 px-3 py-2 font-sans text-gray-500 transition-all placeholder-shown:border-gray-200 focus:border-blue-500 focus:outline-none",placeholder:"Password"}),k.jsx("label",{htmlFor:"password",className:"peer-placeholder-shown:h-[28px] peer-placeholder-shown:text-gray-500 absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-bold text-blue-500 transition-all peer-focus:-translate-y-1/2 peer-focus:text-blue-500",children:"Password"})]}),k.jsx("div",{className:"relative",children:k.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-500 px-4 py-2 font-bold text-white shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2",disabled:s,children:s?"Logging in...":"Login"})})]})}),k.jsxs("p",{children:["Don't have an account? ",k.jsx("button",{type:"button",onClick:()=>l("/signup"),children:"Sign Up"})]}),k.jsxs("p",{children:["Forgot your password? ",k.jsx("button",{type:"button",onClick:()=>l("/change-password"),children:"Change Password"})]})]})]})})]})})},EI=()=>{const[e,t]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState(null),l=async u=>{u.preventDefault(),i(!0),a(null);try{const{error:c}=await zt.auth.signUp({email:e,password:n});c?a(c.message):alert("Signup successful! Please check your email to confirm your account.")}catch(c){a(c.message||"An unexpected error occurred")}finally{i(!1)}};return k.jsxs("div",{children:[k.jsx("h2",{children:"Sign Up"}),o&&k.jsx("p",{style:{color:"red"},children:o}),k.jsxs("form",{onSubmit:l,children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",children:"Email:"}),k.jsx("input",{type:"email",id:"email",value:e,onChange:u=>t(u.target.value),required:!0})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"password",children:"Password:"}),k.jsx("input",{type:"password",id:"password",value:n,onChange:u=>r(u.target.value),required:!0})]}),k.jsx("button",{type:"submit",disabled:s,children:s?"Signing up...":"Sign Up"})]})]})},CI=()=>{const[e,t]=S.useState(""),[n,r]=S.useState(!1),[s,i]=S.useState(null),[o,a]=S.useState(null),l=async u=>{u.preventDefault(),r(!0),i(null),a(null);try{const{error:c}=await zt.auth.updateUser({password:e});c?i(c.message):(a("Password updated successfully!"),t(""))}catch(c){i(c.message||"An unexpected error occurred")}finally{r(!1)}};return k.jsxs("div",{children:[k.jsx("h2",{children:"Change Password"}),s&&k.jsx("p",{style:{color:"red"},children:s}),o&&k.jsx("p",{style:{color:"green"},children:o}),k.jsxs("form",{onSubmit:l,children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"newPassword",children:"New Password:"}),k.jsx("input",{type:"password",id:"newPassword",value:e,onChange:u=>t(u.target.value),required:!0})]}),k.jsx("button",{type:"submit",disabled:n,children:n?"Updating password...":"Update Password"})]})]})},TI="auth_redirect_sankeertan",PI=()=>{const e=Jn(),[t]=OA(),[n,r]=S.useState(!0),[s,i]=S.useState(null),{setSession:o}=S.useContext(Uy);return S.useEffect(()=>{const a=t.get("token"),l=t.get("type"),u=t.get("email"),c=async(h,p,f)=>{r(!0),i(null);try{let w;if(p==="invite"||p==="signup"||p==="email_change"||p==="magiclink"){const y=f;if(!y){i("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}w=await zt.auth.verifyOtp({token:h,type:p,email:y})}else if(p==="recover"){e(`/reset-password?token=${h}`,{replace:!0});return}else if(p==="sms"){const y=f;if(!y){i("Phone number is missing from the authentication link."),r(!1),e("/login",{replace:!0});return}w=await zt.auth.verifyOtp({token:h,type:"sms",phone:y})}else{i(`Unsupported authentication type: ${p}`),r(!1),e("/login",{replace:!0});return}if(w!=null&&w.error)i(w.error.message);else{const{data:{session:y}}=await zt.auth.getSession();y&&o(y),localStorage.setItem(TI,"true"),e("/",{replace:!0})}}catch(w){i(w.message||"An unexpected error occurred during authentication.")}finally{r(!1)}};a&&l?l==="recover"?c(a,l,""):l==="invite"||l==="signup"||l==="email_change"||l==="magiclink"?u?c(a,l,u):(i("Email address is missing from the authentication link."),r(!1),e("/login",{replace:!0})):c(a,l,""):(i("Invalid authentication link."),r(!1),e("/login",{replace:!0}))},[e,t,o]),n?k.jsx("div",{children:"Verifying your account..."}):s?k.jsxs("div",{children:["Error verifying account: ",s]}):null};var Bu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},RI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ws,Dg,sx,AI=(sx=class{constructor(){qe(this,Ws,RI);qe(this,Dg,!1)}setTimeoutProvider(e){Me(this,Ws,e)}setTimeout(e,t){return Q(this,Ws).setTimeout(e,t)}clearTimeout(e){Q(this,Ws).clearTimeout(e)}setInterval(e,t){return Q(this,Ws).setInterval(e,t)}clearInterval(e){Q(this,Ws).clearInterval(e)}},Ws=new WeakMap,Dg=new WeakMap,sx),Hi=new AI;function jI(e){setTimeout(e,0)}var mo=typeof window>"u"||"Deno"in globalThis;function Rn(){}function OI(e,t){return typeof e=="function"?e(t):e}function Um(e){return typeof e=="number"&&e>=0&&e!==1/0}function f1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function di(e,t){return typeof e=="function"?e(t):e}function or(e,t){return typeof e=="function"?e(t):e}function Jw(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==zy(o,t.options))return!1}else if(!vu(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Zw(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(yu(t.options.mutationKey)!==yu(i))return!1}else if(!vu(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function zy(e,t){return((t==null?void 0:t.queryKeyHashFn)||yu)(e)}function yu(e){return JSON.stringify(e,(t,n)=>Vm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function vu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>vu(e[n],t[n])):!1}var II=Object.prototype.hasOwnProperty;function p1(e,t){if(e===t)return e;const n=Xw(e)&&Xw(t);if(!n&&!(Vm(e)&&Vm(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=n?u:i[u],h=e[c],p=t[c];if(h===p){a[c]=h,(n?u<s:II.call(e,c))&&l++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){a[c]=p;continue}const f=p1(h,p);a[c]=f,f===h&&l++}return s===o&&l===s?e:a}function zm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Xw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vm(e){if(!eb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!eb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function eb(e){return Object.prototype.toString.call(e)==="[object Object]"}function DI(e){return new Promise(t=>{Hi.setTimeout(t,e)})}function Km(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?p1(e,t):t}function NI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function LI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Vy=Symbol();function m1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Vy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function $I(e,t){return typeof e=="function"?e(...t):!!e}var Qi,Hs,ha,ix,MI=(ix=class extends Bu{constructor(){super();qe(this,Qi);qe(this,Hs);qe(this,ha);Me(this,ha,t=>{if(!mo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,Hs)||this.setEventListener(Q(this,ha))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Hs))==null||t.call(this),Me(this,Hs,void 0))}setEventListener(t){var n;Me(this,ha,t),(n=Q(this,Hs))==null||n.call(this),Me(this,Hs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Q(this,Qi)!==t&&(Me(this,Qi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Q(this,Qi)=="boolean"?Q(this,Qi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qi=new WeakMap,Hs=new WeakMap,ha=new WeakMap,ix),Ky=new MI;function Wm(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var FI=jI;function BI(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=FI;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var sn=BI(),fa,qs,pa,ox,UI=(ox=class extends Bu{constructor(){super();qe(this,fa,!0);qe(this,qs);qe(this,pa);Me(this,pa,t=>{if(!mo&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Q(this,qs)||this.setEventListener(Q(this,pa))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,qs))==null||t.call(this),Me(this,qs,void 0))}setEventListener(t){var n;Me(this,pa,t),(n=Q(this,qs))==null||n.call(this),Me(this,qs,t(this.setOnline.bind(this)))}setOnline(t){Q(this,fa)!==t&&(Me(this,fa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Q(this,fa)}},fa=new WeakMap,qs=new WeakMap,pa=new WeakMap,ox),Jd=new UI;function zI(e){return Math.min(1e3*2**e,3e4)}function g1(e){return(e??"online")==="online"?Jd.isOnline():!0}var Hm=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function y1(e){let t=!1,n=0,r;const s=Wm(),i=()=>s.status!=="pending",o=y=>{var b;if(!i()){const g=new Hm(y);p(g),(b=e.onCancel)==null||b.call(e,g)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>Ky.isFocused()&&(e.networkMode==="always"||Jd.isOnline())&&e.canRun(),c=()=>g1(e.networkMode)&&e.canRun(),h=y=>{i()||(r==null||r(),s.resolve(y))},p=y=>{i()||(r==null||r(),s.reject(y))},f=()=>new Promise(y=>{var b;r=g=>{(i()||u())&&y(g)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;r=void 0,i()||(y=e.onContinue)==null||y.call(e)}),w=()=>{if(i())return;let y;const b=n===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var I;if(i())return;const v=e.retry??(mo?0:3),_=e.retryDelay??zI,T=typeof _=="function"?_(n,g):_,A=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(t||!A){p(g);return}n++,(I=e.onFail)==null||I.call(e,n,g),DI(T).then(()=>u()?void 0:f()).then(()=>{t?p(g):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?w():f().then(w),s)}}var Ji,ax,v1=(ax=class{constructor(){qe(this,Ji)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Um(this.gcTime)&&Me(this,Ji,Hi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mo?1/0:5*60*1e3))}clearGcTimeout(){Q(this,Ji)&&(Hi.clearTimeout(Q(this,Ji)),Me(this,Ji,void 0))}},Ji=new WeakMap,ax),Zi,ma,ir,Xi,Zt,Eu,eo,Sr,ss,lx,VI=(lx=class extends v1{constructor(t){super();qe(this,Sr);qe(this,Zi);qe(this,ma);qe(this,ir);qe(this,Xi);qe(this,Zt);qe(this,Eu);qe(this,eo);Me(this,eo,!1),Me(this,Eu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,Xi,t.client),Me(this,ir,Q(this,Xi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,Zi,tb(this.options)),this.state=t.state??Q(this,Zi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,Zt))==null?void 0:t.promise}setOptions(t){if(this.options={...Q(this,Eu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=tb(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Me(this,Zi,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,ir).remove(this)}setData(t,n){const r=Km(this.state.data,t,this.options);return it(this,Sr,ss).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){it(this,Sr,ss).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=Q(this,Zt))==null?void 0:r.promise;return(s=Q(this,Zt))==null||s.cancel(t),n?n.then(Rn).catch(Rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,Zi))}isActive(){return this.observers.some(t=>or(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>di(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!f1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Zt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Zt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,ir).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Q(this,Zt)&&(Q(this,eo)?Q(this,Zt).cancel({revert:!0}):Q(this,Zt).cancelRetry()),this.scheduleGc()),Q(this,ir).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,Sr,ss).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,c,h,p,f,w,y,b,g,v,_;if(this.state.fetchStatus!=="idle"&&((l=Q(this,Zt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Zt))return Q(this,Zt).continueRetry(),Q(this,Zt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const T=this.observers.find(A=>A.options.queryFn);T&&this.setOptions(T.options)}const r=new AbortController,s=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(Me(this,eo,!0),r.signal)})},i=()=>{const T=m1(this.options,n),I=(()=>{const j={client:Q(this,Xi),queryKey:this.queryKey,meta:this.meta};return s(j),j})();return Me(this,eo,!1),this.options.persister?this.options.persister(T,I,this):T(I)},a=(()=>{const T={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Q(this,Xi),state:this.state,fetchFn:i};return s(T),T})();(u=this.options.behavior)==null||u.onFetch(a,this),Me(this,ma,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&it(this,Sr,ss).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),Me(this,Zt,y1({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:T=>{T instanceof Hm&&T.revert&&this.setState({...Q(this,ma),fetchStatus:"idle"}),r.abort()},onFail:(T,A)=>{it(this,Sr,ss).call(this,{type:"failed",failureCount:T,error:A})},onPause:()=>{it(this,Sr,ss).call(this,{type:"pause"})},onContinue:()=>{it(this,Sr,ss).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const T=await Q(this,Zt).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(f=(p=Q(this,ir).config).onSuccess)==null||f.call(p,T,this),(y=(w=Q(this,ir).config).onSettled)==null||y.call(w,T,this.state.error,this),T}catch(T){if(T instanceof Hm){if(T.silent)return Q(this,Zt).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw it(this,Sr,ss).call(this,{type:"error",error:T}),(g=(b=Q(this,ir).config).onError)==null||g.call(b,T,this),(_=(v=Q(this,ir).config).onSettled)==null||_.call(v,this.state.data,T,this),T}finally{this.scheduleGc()}}},Zi=new WeakMap,ma=new WeakMap,ir=new WeakMap,Xi=new WeakMap,Zt=new WeakMap,Eu=new WeakMap,eo=new WeakMap,Sr=new WeakSet,ss=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...w1(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Me(this,ma,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),sn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Q(this,ir).notify({query:this,type:"updated",action:t})})},lx);function w1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:g1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function tb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Tn,ot,Cu,vn,to,ga,ls,Gs,Tu,ya,va,no,ro,Ys,wa,ct,Cl,qm,Gm,Ym,Qm,Jm,Zm,Xm,b1,ux,KI=(ux=class extends Bu{constructor(t,n){super();qe(this,ct);qe(this,Tn);qe(this,ot);qe(this,Cu);qe(this,vn);qe(this,to);qe(this,ga);qe(this,ls);qe(this,Gs);qe(this,Tu);qe(this,ya);qe(this,va);qe(this,no);qe(this,ro);qe(this,Ys);qe(this,wa,new Set);this.options=n,Me(this,Tn,t),Me(this,Gs,null),Me(this,ls,Wm()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,ot).addObserver(this),nb(Q(this,ot),this.options)?it(this,ct,Cl).call(this):this.updateResult(),it(this,ct,Qm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eg(Q(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eg(Q(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,it(this,ct,Jm).call(this),it(this,ct,Zm).call(this),Q(this,ot).removeObserver(this)}setOptions(t){const n=this.options,r=Q(this,ot);if(this.options=Q(this,Tn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof or(this.options.enabled,Q(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");it(this,ct,Xm).call(this),Q(this,ot).setOptions(this.options),n._defaulted&&!zm(this.options,n)&&Q(this,Tn).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,ot),observer:this});const s=this.hasListeners();s&&rb(Q(this,ot),r,this.options,n)&&it(this,ct,Cl).call(this),this.updateResult(),s&&(Q(this,ot)!==r||or(this.options.enabled,Q(this,ot))!==or(n.enabled,Q(this,ot))||di(this.options.staleTime,Q(this,ot))!==di(n.staleTime,Q(this,ot)))&&it(this,ct,qm).call(this);const i=it(this,ct,Gm).call(this);s&&(Q(this,ot)!==r||or(this.options.enabled,Q(this,ot))!==or(n.enabled,Q(this,ot))||i!==Q(this,Ys))&&it(this,ct,Ym).call(this,i)}getOptimisticResult(t){const n=Q(this,Tn).getQueryCache().build(Q(this,Tn),t),r=this.createResult(n,t);return HI(this,r)&&(Me(this,vn,r),Me(this,ga,this.options),Me(this,to,Q(this,ot).state)),r}getCurrentResult(){return Q(this,vn)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&Q(this,ls).status==="pending"&&Q(this,ls).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(t){Q(this,wa).add(t)}getCurrentQuery(){return Q(this,ot)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Q(this,Tn).defaultQueryOptions(t),r=Q(this,Tn).getQueryCache().build(Q(this,Tn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return it(this,ct,Cl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,vn)))}createResult(t,n){var $;const r=Q(this,ot),s=this.options,i=Q(this,vn),o=Q(this,to),a=Q(this,ga),u=t!==r?t.state:Q(this,Cu),{state:c}=t;let h={...c},p=!1,f;if(n._optimisticResults){const F=this.hasListeners(),de=!F&&nb(t,n),N=F&&rb(t,r,n,s);(de||N)&&(h={...h,...w1(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:b}=h;f=h.data;let g=!1;if(n.placeholderData!==void 0&&f===void 0&&b==="pending"){let F;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(F=i.data,g=!0):F=typeof n.placeholderData=="function"?n.placeholderData(($=Q(this,va))==null?void 0:$.state.data,Q(this,va)):n.placeholderData,F!==void 0&&(b="success",f=Km(i==null?void 0:i.data,F,n),p=!0)}if(n.select&&f!==void 0&&!g)if(i&&f===(o==null?void 0:o.data)&&n.select===Q(this,Tu))f=Q(this,ya);else try{Me(this,Tu,n.select),f=n.select(f),f=Km(i==null?void 0:i.data,f,n),Me(this,ya,f),Me(this,Gs,null)}catch(F){Me(this,Gs,F)}Q(this,Gs)&&(w=Q(this,Gs),f=Q(this,ya),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",_=b==="pending",T=b==="error",A=_&&v,I=f!==void 0,D={status:b,fetchStatus:h.fetchStatus,isPending:_,isSuccess:b==="success",isError:T,isInitialLoading:A,isLoading:A,data:f,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!_,isLoadingError:T&&!I,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:T&&I,isStale:Wy(t,n),refetch:this.refetch,promise:Q(this,ls),isEnabled:or(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const F=W=>{D.status==="error"?W.reject(D.error):D.data!==void 0&&W.resolve(D.data)},de=()=>{const W=Me(this,ls,D.promise=Wm());F(W)},N=Q(this,ls);switch(N.status){case"pending":t.queryHash===r.queryHash&&F(N);break;case"fulfilled":(D.status==="error"||D.data!==N.value)&&de();break;case"rejected":(D.status!=="error"||D.error!==N.reason)&&de();break}}return D}updateResult(){const t=Q(this,vn),n=this.createResult(Q(this,ot),this.options);if(Me(this,to,Q(this,ot).state),Me(this,ga,this.options),Q(this,to).data!==void 0&&Me(this,va,Q(this,ot)),zm(n,t))return;Me(this,vn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Q(this,wa).size)return!0;const o=new Set(i??Q(this,wa));return this.options.throwOnError&&o.add("error"),Object.keys(Q(this,vn)).some(a=>{const l=a;return Q(this,vn)[l]!==t[l]&&o.has(l)})};it(this,ct,b1).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&it(this,ct,Qm).call(this)}},Tn=new WeakMap,ot=new WeakMap,Cu=new WeakMap,vn=new WeakMap,to=new WeakMap,ga=new WeakMap,ls=new WeakMap,Gs=new WeakMap,Tu=new WeakMap,ya=new WeakMap,va=new WeakMap,no=new WeakMap,ro=new WeakMap,Ys=new WeakMap,wa=new WeakMap,ct=new WeakSet,Cl=function(t){it(this,ct,Xm).call(this);let n=Q(this,ot).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Rn)),n},qm=function(){it(this,ct,Jm).call(this);const t=di(this.options.staleTime,Q(this,ot));if(mo||Q(this,vn).isStale||!Um(t))return;const r=f1(Q(this,vn).dataUpdatedAt,t)+1;Me(this,no,Hi.setTimeout(()=>{Q(this,vn).isStale||this.updateResult()},r))},Gm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,ot)):this.options.refetchInterval)??!1},Ym=function(t){it(this,ct,Zm).call(this),Me(this,Ys,t),!(mo||or(this.options.enabled,Q(this,ot))===!1||!Um(Q(this,Ys))||Q(this,Ys)===0)&&Me(this,ro,Hi.setInterval(()=>{(this.options.refetchIntervalInBackground||Ky.isFocused())&&it(this,ct,Cl).call(this)},Q(this,Ys)))},Qm=function(){it(this,ct,qm).call(this),it(this,ct,Ym).call(this,it(this,ct,Gm).call(this))},Jm=function(){Q(this,no)&&(Hi.clearTimeout(Q(this,no)),Me(this,no,void 0))},Zm=function(){Q(this,ro)&&(Hi.clearInterval(Q(this,ro)),Me(this,ro,void 0))},Xm=function(){const t=Q(this,Tn).getQueryCache().build(Q(this,Tn),this.options);if(t===Q(this,ot))return;const n=Q(this,ot);Me(this,ot,t),Me(this,Cu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},b1=function(t){sn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Q(this,vn))}),Q(this,Tn).getQueryCache().notify({query:Q(this,ot),type:"observerResultsUpdated"})})},ux);function WI(e,t){return or(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function nb(e,t){return WI(e,t)||e.state.data!==void 0&&eg(e,t,t.refetchOnMount)}function eg(e,t,n){if(or(t.enabled,e)!==!1&&di(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Wy(e,t)}return!1}function rb(e,t,n,r){return(e!==t||or(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Wy(e,n)}function Wy(e,t){return or(t.enabled,e)!==!1&&e.isStaleByTime(di(t.staleTime,e))}function HI(e,t){return!zm(e.getCurrentResult(),t)}function sb(e){return{onFetch:(t,n)=>{var c,h,p,f,w;const r=t.options,s=(p=(h=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=m1(t.options,t.fetchOptions),v=async(_,T,A)=>{if(y)return Promise.reject();if(T==null&&_.pages.length)return Promise.resolve(_);const j=(()=>{const de={client:t.client,queryKey:t.queryKey,pageParam:T,direction:A?"backward":"forward",meta:t.options.meta};return b(de),de})(),D=await g(j),{maxPages:$}=t.options,F=A?LI:NI;return{pages:F(_.pages,D,$),pageParams:F(_.pageParams,T,$)}};if(s&&i.length){const _=s==="backward",T=_?qI:ib,A={pages:i,pageParams:o},I=T(r,A);a=await v(A,I,_)}else{const _=e??i.length;do{const T=l===0?o[0]??r.initialPageParam:ib(r,a);if(l>0&&T==null)break;a=await v(a,T),l++}while(l<_)}return a};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function ib(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function qI(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Pu,Vr,wn,so,Kr,Ls,cx,GI=(cx=class extends v1{constructor(t){super();qe(this,Kr);qe(this,Pu);qe(this,Vr);qe(this,wn);qe(this,so);Me(this,Pu,t.client),this.mutationId=t.mutationId,Me(this,wn,t.mutationCache),Me(this,Vr,[]),this.state=t.state||YI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,Vr).includes(t)||(Q(this,Vr).push(t),this.clearGcTimeout(),Q(this,wn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,Vr,Q(this,Vr).filter(n=>n!==t)),this.scheduleGc(),Q(this,wn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,Vr).length||(this.state.status==="pending"?this.scheduleGc():Q(this,wn).remove(this))}continue(){var t;return((t=Q(this,so))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,c,h,p,f,w,y,b,g,v,_,T,A,I,j,D,$;const n=()=>{it(this,Kr,Ls).call(this,{type:"continue"})},r={client:Q(this,Pu),meta:this.options.meta,mutationKey:this.options.mutationKey};Me(this,so,y1({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(F,de)=>{it(this,Kr,Ls).call(this,{type:"failed",failureCount:F,error:de})},onPause:()=>{it(this,Kr,Ls).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,wn).canRun(this)}));const s=this.state.status==="pending",i=!Q(this,so).canStart();try{if(s)n();else{it(this,Kr,Ls).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=Q(this,wn).config).onMutate)==null?void 0:a.call(o,t,this,r));const de=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));de!==this.state.context&&it(this,Kr,Ls).call(this,{type:"pending",context:de,variables:t,isPaused:i})}const F=await Q(this,so).start();return await((h=(c=Q(this,wn).config).onSuccess)==null?void 0:h.call(c,F,t,this.state.context,this,r)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,F,t,this.state.context,r)),await((y=(w=Q(this,wn).config).onSettled)==null?void 0:y.call(w,F,null,this.state.variables,this.state.context,this,r)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,F,null,t,this.state.context,r)),it(this,Kr,Ls).call(this,{type:"success",data:F}),F}catch(F){try{throw await((_=(v=Q(this,wn).config).onError)==null?void 0:_.call(v,F,t,this.state.context,this,r)),await((A=(T=this.options).onError)==null?void 0:A.call(T,F,t,this.state.context,r)),await((j=(I=Q(this,wn).config).onSettled)==null?void 0:j.call(I,void 0,F,this.state.variables,this.state.context,this,r)),await(($=(D=this.options).onSettled)==null?void 0:$.call(D,void 0,F,t,this.state.context,r)),F}finally{it(this,Kr,Ls).call(this,{type:"error",error:F})}}finally{Q(this,wn).runNext(this)}}},Pu=new WeakMap,Vr=new WeakMap,wn=new WeakMap,so=new WeakMap,Kr=new WeakSet,Ls=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),sn.batch(()=>{Q(this,Vr).forEach(r=>{r.onMutationUpdate(t)}),Q(this,wn).notify({mutation:this,type:"updated",action:t})})},cx);function YI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var us,Er,Ru,dx,QI=(dx=class extends Bu{constructor(t={}){super();qe(this,us);qe(this,Er);qe(this,Ru);this.config=t,Me(this,us,new Set),Me(this,Er,new Map),Me(this,Ru,0)}build(t,n,r){const s=new GI({client:t,mutationCache:this,mutationId:++_c(this,Ru)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){Q(this,us).add(t);const n=Vc(t);if(typeof n=="string"){const r=Q(this,Er).get(n);r?r.push(t):Q(this,Er).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Q(this,us).delete(t)){const n=Vc(t);if(typeof n=="string"){const r=Q(this,Er).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&Q(this,Er).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Vc(t);if(typeof n=="string"){const r=Q(this,Er).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Vc(t);if(typeof n=="string"){const s=(r=Q(this,Er).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){sn.batch(()=>{Q(this,us).forEach(t=>{this.notify({type:"removed",mutation:t})}),Q(this,us).clear(),Q(this,Er).clear()})}getAll(){return Array.from(Q(this,us))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Zw(n,r))}findAll(t={}){return this.getAll().filter(n=>Zw(t,n))}notify(t){sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return sn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Rn))))}},us=new WeakMap,Er=new WeakMap,Ru=new WeakMap,dx);function Vc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Wr,hx,JI=(hx=class extends Bu{constructor(t={}){super();qe(this,Wr);this.config=t,Me(this,Wr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??zy(s,n);let o=this.get(i);return o||(o=new VI({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Q(this,Wr).has(t.queryHash)||(Q(this,Wr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Q(this,Wr).get(t.queryHash);n&&(t.destroy(),n===t&&Q(this,Wr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,Wr).get(t)}getAll(){return[...Q(this,Wr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Jw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Jw(t,r)):n}notify(t){sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wr=new WeakMap,hx),Pt,Qs,Js,ba,_a,Zs,xa,ka,fx,ZI=(fx=class{constructor(e={}){qe(this,Pt);qe(this,Qs);qe(this,Js);qe(this,ba);qe(this,_a);qe(this,Zs);qe(this,xa);qe(this,ka);Me(this,Pt,e.queryCache||new JI),Me(this,Qs,e.mutationCache||new QI),Me(this,Js,e.defaultOptions||{}),Me(this,ba,new Map),Me(this,_a,new Map),Me(this,Zs,0)}mount(){_c(this,Zs)._++,Q(this,Zs)===1&&(Me(this,xa,Ky.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,Pt).onFocus())})),Me(this,ka,Jd.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,Pt).onOnline())})))}unmount(){var e,t;_c(this,Zs)._--,Q(this,Zs)===0&&((e=Q(this,xa))==null||e.call(this),Me(this,xa,void 0),(t=Q(this,ka))==null||t.call(this),Me(this,ka,void 0))}isFetching(e){return Q(this,Pt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,Qs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,Pt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Q(this,Pt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(di(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Q(this,Pt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Q(this,Pt).get(r.queryHash),i=s==null?void 0:s.state.data,o=OI(t,i);if(o!==void 0)return Q(this,Pt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return sn.batch(()=>Q(this,Pt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,Pt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Q(this,Pt);sn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Q(this,Pt);return sn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=sn.batch(()=>Q(this,Pt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Rn).catch(Rn)}invalidateQueries(e,t={}){return sn.batch(()=>(Q(this,Pt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=sn.batch(()=>Q(this,Pt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Rn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Rn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Q(this,Pt).build(this,t);return n.isStaleByTime(di(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rn).catch(Rn)}fetchInfiniteQuery(e){return e.behavior=sb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rn).catch(Rn)}ensureInfiniteQueryData(e){return e.behavior=sb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Jd.isOnline()?Q(this,Qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,Pt)}getMutationCache(){return Q(this,Qs)}getDefaultOptions(){return Q(this,Js)}setDefaultOptions(e){Me(this,Js,e)}setQueryDefaults(e,t){Q(this,ba).set(yu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,ba).values()],n={};return t.forEach(r=>{vu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Q(this,_a).set(yu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,_a).values()],n={};return t.forEach(r=>{vu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,Js).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Vy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,Js).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,Pt).clear(),Q(this,Qs).clear()}},Pt=new WeakMap,Qs=new WeakMap,Js=new WeakMap,ba=new WeakMap,_a=new WeakMap,Zs=new WeakMap,xa=new WeakMap,ka=new WeakMap,fx),_1=S.createContext(void 0),Oh=e=>{const t=S.useContext(_1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},XI=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),k.jsx(_1.Provider,{value:e,children:t})),x1=S.createContext(!1),eD=()=>S.useContext(x1);x1.Provider;function tD(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nD=S.createContext(tD()),rD=()=>S.useContext(nD),sD=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},iD=e=>{S.useEffect(()=>{e.clearReset()},[e])},oD=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||$I(n,[e.error,r])),aD=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},lD=(e,t)=>e.isLoading&&e.isFetching&&!t,uD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ob=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function cD(e,t,n){var h,p,f,w,y;const r=eD(),s=rD(),i=Oh(),o=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",aD(o),sD(o,s),iD(s);const a=!i.getQueryCache().get(o.queryHash),[l]=S.useState(()=>new t(i,o)),u=l.getOptimisticResult(o),c=!r&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(b=>{const g=c?l.subscribe(sn.batchCalls(b)):Rn;return l.updateResult(),g},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),S.useEffect(()=>{l.setOptions(o)},[o,l]),uD(o,u))throw ob(o,l,s);if(oD({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||w.call(f,o,u),o.experimental_prefetchInRender&&!mo&&lD(u,r)){const b=a?ob(o,l,s):(y=i.getQueryCache().get(o.queryHash))==null?void 0:y.promise;b==null||b.catch(Rn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Ih(e,t){return cD(e,KI)}var k1={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ht,function(){var n=function(d,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,E){x.__proto__=E}||function(x,E){for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&(x[R]=E[R])})(d,m)},r=function(){return(r=Object.assign||function(d){for(var m,x=1,E=arguments.length;x<E;x++)for(var R in m=arguments[x])Object.prototype.hasOwnProperty.call(m,R)&&(d[R]=m[R]);return d}).apply(this,arguments)};function s(d,m,x){for(var E,R=0,O=m.length;R<O;R++)!E&&R in m||((E=E||Array.prototype.slice.call(m,0,R))[R]=m[R]);return d.concat(E||Array.prototype.slice.call(m))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ht,o=Object.keys,a=Array.isArray;function l(d,m){return typeof m!="object"||o(m).forEach(function(x){d[x]=m[x]}),d}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var u=Object.getPrototypeOf,c={}.hasOwnProperty;function h(d,m){return c.call(d,m)}function p(d,m){typeof m=="function"&&(m=m(u(d))),(typeof Reflect>"u"?o:Reflect.ownKeys)(m).forEach(function(x){w(d,x,m[x])})}var f=Object.defineProperty;function w(d,m,x,E){f(d,m,l(x&&h(x,"get")&&typeof x.get=="function"?{get:x.get,set:x.set,configurable:!0}:{value:x,configurable:!0,writable:!0},E))}function y(d){return{from:function(m){return d.prototype=Object.create(m.prototype),w(d.prototype,"constructor",d),{extend:p.bind(null,d.prototype)}}}}var b=Object.getOwnPropertyDescriptor,g=[].slice;function v(d,m,x){return g.call(d,m,x)}function _(d,m){return m(d)}function T(d){if(!d)throw new Error("Assertion Failed")}function A(d){i.setImmediate?setImmediate(d):setTimeout(d,0)}function I(d,m){if(typeof m=="string"&&h(d,m))return d[m];if(!m)return d;if(typeof m!="string"){for(var x=[],E=0,R=m.length;E<R;++E){var O=I(d,m[E]);x.push(O)}return x}var L=m.indexOf(".");if(L!==-1){var U=d[m.substr(0,L)];return U==null?void 0:I(U,m.substr(L+1))}}function j(d,m,x){if(d&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof m!="string"&&"length"in m){T(typeof x!="string"&&"length"in x);for(var E=0,R=m.length;E<R;++E)j(d,m[E],x[E])}else{var O,L,U=m.indexOf(".");U!==-1?(O=m.substr(0,U),(L=m.substr(U+1))===""?x===void 0?a(d)&&!isNaN(parseInt(O))?d.splice(O,1):delete d[O]:d[O]=x:j(U=!(U=d[O])||!h(d,O)?d[O]={}:U,L,x)):x===void 0?a(d)&&!isNaN(parseInt(m))?d.splice(m,1):delete d[m]:d[m]=x}}function D(d){var m,x={};for(m in d)h(d,m)&&(x[m]=d[m]);return x}var $=[].concat;function F(d){return $.apply([],d)}var ze="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(F([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(m){return m+d+"Array"})}))).filter(function(d){return i[d]}),de=new Set(ze.map(function(d){return i[d]})),N=null;function W(d){return N=new WeakMap,d=function m(x){if(!x||typeof x!="object")return x;var E=N.get(x);if(E)return E;if(a(x)){E=[],N.set(x,E);for(var R=0,O=x.length;R<O;++R)E.push(m(x[R]))}else if(de.has(x.constructor))E=x;else{var L,U=u(x);for(L in E=U===Object.prototype?{}:Object.create(U),N.set(x,E),x)h(x,L)&&(E[L]=m(x[L]))}return E}(d),N=null,d}var C={}.toString;function K(d){return C.call(d).slice(8,-1)}var me=typeof Symbol<"u"?Symbol.iterator:"@@iterator",re=typeof me=="symbol"?function(d){var m;return d!=null&&(m=d[me])&&m.apply(d)}:function(){return null};function ie(d,m){return m=d.indexOf(m),0<=m&&d.splice(m,1),0<=m}var te={};function he(d){var m,x,E,R;if(arguments.length===1){if(a(d))return d.slice();if(this===te&&typeof d=="string")return[d];if(R=re(d)){for(x=[];!(E=R.next()).done;)x.push(E.value);return x}if(d==null)return[d];if(typeof(m=d.length)!="number")return[d];for(x=new Array(m);m--;)x[m]=d[m];return x}for(m=arguments.length,x=new Array(m);m--;)x[m]=arguments[m];return x}var q=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ee=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],er=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ee),G={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function z(d,m){this.name=d,this.message=m}function ce(d,m){return d+". Errors: "+Object.keys(m).map(function(x){return m[x].toString()}).filter(function(x,E,R){return R.indexOf(x)===E}).join(`
`)}function oe(d,m,x,E){this.failures=m,this.failedKeys=E,this.successCount=x,this.message=ce(d,m)}function ye(d,m){this.name="BulkError",this.failures=Object.keys(m).map(function(x){return m[x]}),this.failuresByPos=m,this.message=ce(d,this.failures)}y(z).from(Error).extend({toString:function(){return this.name+": "+this.message}}),y(oe).from(z),y(ye).from(z);var De=er.reduce(function(d,m){return d[m]=m+"Error",d},{}),Te=z,fe=er.reduce(function(d,m){var x=m+"Error";function E(R,O){this.name=x,R?typeof R=="string"?(this.message="".concat(R).concat(O?`
 `+O:""),this.inner=O||null):typeof R=="object"&&(this.message="".concat(R.name," ").concat(R.message),this.inner=R):(this.message=G[m]||x,this.inner=null)}return y(E).from(Te),d[m]=E,d},{});fe.Syntax=SyntaxError,fe.Type=TypeError,fe.Range=RangeError;var Ge=Ee.reduce(function(d,m){return d[m+"Error"]=fe[m],d},{}),We=er.reduce(function(d,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(d[m+"Error"]=fe[m]),d},{});function Ve(){}function at(d){return d}function P(d,m){return d==null||d===at?m:function(x){return m(d(x))}}function we(d,m){return function(){d.apply(this,arguments),m.apply(this,arguments)}}function ge(d,m){return d===Ve?m:function(){var x=d.apply(this,arguments);x!==void 0&&(arguments[0]=x);var E=this.onsuccess,R=this.onerror;this.onsuccess=null,this.onerror=null;var O=m.apply(this,arguments);return E&&(this.onsuccess=this.onsuccess?we(E,this.onsuccess):E),R&&(this.onerror=this.onerror?we(R,this.onerror):R),O!==void 0?O:x}}function B(d,m){return d===Ve?m:function(){d.apply(this,arguments);var x=this.onsuccess,E=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?we(x,this.onsuccess):x),E&&(this.onerror=this.onerror?we(E,this.onerror):E)}}function M(d,m){return d===Ve?m:function(x){var E=d.apply(this,arguments);l(x,E);var R=this.onsuccess,O=this.onerror;return this.onsuccess=null,this.onerror=null,x=m.apply(this,arguments),R&&(this.onsuccess=this.onsuccess?we(R,this.onsuccess):R),O&&(this.onerror=this.onerror?we(O,this.onerror):O),E===void 0?x===void 0?void 0:x:l(E,x)}}function ee(d,m){return d===Ve?m:function(){return m.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function xe(d,m){return d===Ve?m:function(){var x=d.apply(this,arguments);if(x&&typeof x.then=="function"){for(var E=this,R=arguments.length,O=new Array(R);R--;)O[R]=arguments[R];return x.then(function(){return m.apply(E,O)})}return m.apply(this,arguments)}}We.ModifyError=oe,We.DexieError=z,We.BulkError=ye;var be=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ue(d){be=d}var ke={},$e=100,ze=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,u(d),d];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,u(m),d]}(),Ee=ze[0],er=ze[1],ze=ze[2],er=er&&er.then,tt=Ee&&Ee.constructor,Xe=!!ze,jt=function(d,m){yr.push([d,m]),Gt&&(queueMicrotask(pT),Gt=!1)},Zn=!0,Gt=!0,Ne=[],Be=[],Tt=at,$t={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ve,pgp:!1,env:{},finalize:Ve},Le=$t,yr=[],Xn=0,es=[];function Oe(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=Le;if(typeof d!="function"){if(d!==ke)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Nr(this,this._value))}this._state=null,this._value=null,++m.ref,function x(E,R){try{R(function(O){if(E._state===null){if(O===E)throw new TypeError("A promise cannot be resolved with itself.");var L=E._lib&&ko();O&&typeof O.then=="function"?x(E,function(U,H){O instanceof Oe?O._then(U,H):O.then(U,H)}):(E._state=!0,E._value=O,Ya(E)),L&&So()}},Nr.bind(null,E))}catch(O){Nr(E,O)}}(this,d)}var En={get:function(){var d=Le,m=tc;function x(E,R){var O=this,L=!d.global&&(d!==Le||m!==tc),U=L&&!Ps(),H=new Oe(function(Y,ne){Xh(O,new vr(Fv(E,d,L,U),Fv(R,d,L,U),Y,ne,d))});return this._consoleTask&&(H._consoleTask=this._consoleTask),H}return x.prototype=ke,x},set:function(d){w(this,"then",d&&d.prototype===ke?En:{get:function(){return d},set:En.set})}};function vr(d,m,x,E,R){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof m=="function"?m:null,this.resolve=x,this.reject=E,this.psd=R}function Nr(d,m){var x,E;Be.push(m),d._state===null&&(x=d._lib&&ko(),m=Tt(m),d._state=!1,d._value=m,E=d,Ne.some(function(R){return R._value===E._value})||Ne.push(E),Ya(d),x&&So())}function Ya(d){var m=d._listeners;d._listeners=[];for(var x=0,E=m.length;x<E;++x)Xh(d,m[x]);var R=d._PSD;--R.ref||R.finalize(),Xn===0&&(++Xn,jt(function(){--Xn==0&&ef()},[]))}function Xh(d,m){if(d._state!==null){var x=d._state?m.onFulfilled:m.onRejected;if(x===null)return(d._state?m.resolve:m.reject)(d._value);++m.psd.ref,++Xn,jt(fT,[x,d,m])}else d._listeners.push(m)}function fT(d,m,x){try{var E,R=m._value;!m._state&&Be.length&&(Be=[]),E=be&&m._consoleTask?m._consoleTask.run(function(){return d(R)}):d(R),m._state||Be.indexOf(R)!==-1||function(O){for(var L=Ne.length;L;)if(Ne[--L]._value===O._value)return Ne.splice(L,1)}(m),x.resolve(E)}catch(O){x.reject(O)}finally{--Xn==0&&ef(),--x.psd.ref||x.psd.finalize()}}function pT(){Ei($t,function(){ko()&&So()})}function ko(){var d=Zn;return Gt=Zn=!1,d}function So(){var d,m,x;do for(;0<yr.length;)for(d=yr,yr=[],x=d.length,m=0;m<x;++m){var E=d[m];E[0].apply(null,E[1])}while(0<yr.length);Gt=Zn=!0}function ef(){var d=Ne;Ne=[],d.forEach(function(E){E._PSD.onunhandled.call(null,E._value,E)});for(var m=es.slice(0),x=m.length;x;)m[--x]()}function Zu(d){return new Oe(ke,!1,d)}function vt(d,m){var x=Le;return function(){var E=ko(),R=Le;try{return Rs(x,!0),d.apply(this,arguments)}catch(O){m&&m(O)}finally{Rs(R,!1),E&&So()}}}p(Oe.prototype,{then:En,_then:function(d,m){Xh(this,new vr(null,null,d,m,Le))},catch:function(d){if(arguments.length===1)return this.then(null,d);var m=d,x=arguments[1];return typeof m=="function"?this.then(null,function(E){return(E instanceof m?x:Zu)(E)}):this.then(null,function(E){return(E&&E.name===m?x:Zu)(E)})},finally:function(d){return this.then(function(m){return Oe.resolve(d()).then(function(){return m})},function(m){return Oe.resolve(d()).then(function(){return Zu(m)})})},timeout:function(d,m){var x=this;return d<1/0?new Oe(function(E,R){var O=setTimeout(function(){return R(new fe.Timeout(m))},d);x.then(E,R).finally(clearTimeout.bind(null,O))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(Oe.prototype,Symbol.toStringTag,"Dexie.Promise"),$t.env=Mv(),p(Oe,{all:function(){var d=he.apply(null,arguments).map(nc);return new Oe(function(m,x){d.length===0&&m([]);var E=d.length;d.forEach(function(R,O){return Oe.resolve(R).then(function(L){d[O]=L,--E||m(d)},x)})})},resolve:function(d){return d instanceof Oe?d:d&&typeof d.then=="function"?new Oe(function(m,x){d.then(m,x)}):new Oe(ke,!0,d)},reject:Zu,race:function(){var d=he.apply(null,arguments).map(nc);return new Oe(function(m,x){d.map(function(E){return Oe.resolve(E).then(m,x)})})},PSD:{get:function(){return Le},set:function(d){return Le=d}},totalEchoes:{get:function(){return tc}},newPSD:Ts,usePSD:Ei,scheduler:{get:function(){return jt},set:function(d){jt=d}},rejectionMapper:{get:function(){return Tt},set:function(d){Tt=d}},follow:function(d,m){return new Oe(function(x,E){return Ts(function(R,O){var L=Le;L.unhandleds=[],L.onunhandled=O,L.finalize=we(function(){var U,H=this;U=function(){H.unhandleds.length===0?R():O(H.unhandleds[0])},es.push(function Y(){U(),es.splice(es.indexOf(Y),1)}),++Xn,jt(function(){--Xn==0&&ef()},[])},L.finalize),d()},m,x,E)})}}),tt&&(tt.allSettled&&w(Oe,"allSettled",function(){var d=he.apply(null,arguments).map(nc);return new Oe(function(m){d.length===0&&m([]);var x=d.length,E=new Array(x);d.forEach(function(R,O){return Oe.resolve(R).then(function(L){return E[O]={status:"fulfilled",value:L}},function(L){return E[O]={status:"rejected",reason:L}}).then(function(){return--x||m(E)})})})}),tt.any&&typeof AggregateError<"u"&&w(Oe,"any",function(){var d=he.apply(null,arguments).map(nc);return new Oe(function(m,x){d.length===0&&x(new AggregateError([]));var E=d.length,R=new Array(E);d.forEach(function(O,L){return Oe.resolve(O).then(function(U){return m(U)},function(U){R[L]=U,--E||x(new AggregateError(R))})})})}),tt.withResolvers&&(Oe.withResolvers=tt.withResolvers));var Yt={awaits:0,echoes:0,id:0},mT=0,Xu=[],ec=0,tc=0,gT=0;function Ts(d,m,x,E){var R=Le,O=Object.create(R);return O.parent=R,O.ref=0,O.global=!1,O.id=++gT,$t.env,O.env=Xe?{Promise:Oe,PromiseProp:{value:Oe,configurable:!0,writable:!0},all:Oe.all,race:Oe.race,allSettled:Oe.allSettled,any:Oe.any,resolve:Oe.resolve,reject:Oe.reject}:{},m&&l(O,m),++R.ref,O.finalize=function(){--this.parent.ref||this.parent.finalize()},E=Ei(O,d,x,E),O.ref===0&&O.finalize(),E}function Eo(){return Yt.id||(Yt.id=++mT),++Yt.awaits,Yt.echoes+=$e,Yt.id}function Ps(){return!!Yt.awaits&&(--Yt.awaits==0&&(Yt.id=0),Yt.echoes=Yt.awaits*$e,!0)}function nc(d){return Yt.echoes&&d&&d.constructor===tt?(Eo(),d.then(function(m){return Ps(),m},function(m){return Ps(),Ot(m)})):d}function yT(){var d=Xu[Xu.length-1];Xu.pop(),Rs(d,!1)}function Rs(d,m){var x,E=Le;(m?!Yt.echoes||ec++&&d===Le:!ec||--ec&&d===Le)||queueMicrotask(m?(function(R){++tc,Yt.echoes&&--Yt.echoes!=0||(Yt.echoes=Yt.awaits=Yt.id=0),Xu.push(Le),Rs(R,!0)}).bind(null,d):yT),d!==Le&&(Le=d,E===$t&&($t.env=Mv()),Xe&&(x=$t.env.Promise,m=d.env,(E.global||d.global)&&(Object.defineProperty(i,"Promise",m.PromiseProp),x.all=m.all,x.race=m.race,x.resolve=m.resolve,x.reject=m.reject,m.allSettled&&(x.allSettled=m.allSettled),m.any&&(x.any=m.any))))}function Mv(){var d=i.Promise;return Xe?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function Ei(d,m,x,E,R){var O=Le;try{return Rs(d,!0),m(x,E,R)}finally{Rs(O,!1)}}function Fv(d,m,x,E){return typeof d!="function"?d:function(){var R=Le;x&&Eo(),Rs(m,!0);try{return d.apply(this,arguments)}finally{Rs(R,!1),E&&queueMicrotask(Ps)}}}function tf(d){Promise===tt&&Yt.echoes===0?ec===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+er).indexOf("[native code]")===-1&&(Eo=Ps=Ve);var Ot=Oe.reject,Ci="",ts="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Bv="String expected.",Co=[],rc="__dbnames",nf="readonly",rf="readwrite";function Ti(d,m){return d?m?function(){return d.apply(this,arguments)&&m.apply(this,arguments)}:d:m}var Uv={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function sc(d){return typeof d!="string"||/\./.test(d)?function(m){return m}:function(m){return m[d]===void 0&&d in m&&delete(m=W(m))[d],m}}function zv(){throw fe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function st(d,m){try{var x=Vv(d),E=Vv(m);if(x!==E)return x==="Array"?1:E==="Array"?-1:x==="binary"?1:E==="binary"?-1:x==="string"?1:E==="string"?-1:x==="Date"?1:E!=="Date"?NaN:-1;switch(x){case"number":case"Date":case"string":return m<d?1:d<m?-1:0;case"binary":return function(R,O){for(var L=R.length,U=O.length,H=L<U?L:U,Y=0;Y<H;++Y)if(R[Y]!==O[Y])return R[Y]<O[Y]?-1:1;return L===U?0:L<U?-1:1}(Kv(d),Kv(m));case"Array":return function(R,O){for(var L=R.length,U=O.length,H=L<U?L:U,Y=0;Y<H;++Y){var ne=st(R[Y],O[Y]);if(ne!==0)return ne}return L===U?0:L<U?-1:1}(d,m)}}catch{}return NaN}function Vv(d){var m=typeof d;return m!="object"?m:ArrayBuffer.isView(d)?"binary":(d=K(d),d==="ArrayBuffer"?"binary":d)}function Kv(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}function ic(d,m,x){var E=d.schema.yProps;return E?(m&&0<x.numFailures&&(m=m.filter(function(R,O){return!x.failures[O]})),Promise.all(E.map(function(R){return R=R.updatesTable,m?d.db.table(R).where("k").anyOf(m).delete():d.db.table(R).clear()})).then(function(){return x})):x}var Qa=(Wv.prototype.execute=function(d){var m=this["@@propmod"];if(m.add!==void 0){var x=m.add;if(a(x))return s(s([],a(d)?d:[],!0),x).sort();if(typeof x=="number")return(Number(d)||0)+x;if(typeof x=="bigint")try{return BigInt(d)+x}catch{return BigInt(0)+x}throw new TypeError("Invalid term ".concat(x))}if(m.remove!==void 0){var E=m.remove;if(a(E))return a(d)?d.filter(function(R){return!E.includes(R)}).sort():[];if(typeof E=="number")return Number(d)-E;if(typeof E=="bigint")try{return BigInt(d)-E}catch{return BigInt(0)-E}throw new TypeError("Invalid subtrahend ".concat(E))}return x=(x=m.replacePrefix)===null||x===void 0?void 0:x[0],x&&typeof d=="string"&&d.startsWith(x)?m.replacePrefix[1]+d.substring(x.length):d},Wv);function Wv(d){this["@@propmod"]=d}function Hv(d,m){for(var x=o(m),E=x.length,R=!1,O=0;O<E;++O){var L=x[O],U=m[L],H=I(d,L);U instanceof Qa?(j(d,L,U.execute(H)),R=!0):H!==U&&(j(d,L,U),R=!0)}return R}var qv=(ft.prototype._trans=function(d,m,x){var E=this._tx||Le.trans,R=this.name,O=be&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function L(Y,ne,V){if(!V.schema[R])throw new fe.NotFound("Table "+R+" not part of transaction");return m(V.idbtrans,V)}var U=ko();try{var H=E&&E.db._novip===this.db._novip?E===Le.trans?E._promise(d,L,x):Ts(function(){return E._promise(d,L,x)},{trans:E,transless:Le.transless||Le}):function Y(ne,V,ae,J){if(ne.idbdb&&(ne._state.openComplete||Le.letThrough||ne._vip)){var Z=ne._createTransaction(V,ae,ne._dbSchema);try{Z.create(),ne._state.PR1398_maxLoop=3}catch(X){return X.name===De.InvalidState&&ne.isOpen()&&0<--ne._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ne.close({disableAutoOpen:!1}),ne.open().then(function(){return Y(ne,V,ae,J)})):Ot(X)}return Z._promise(V,function(X,se){return Ts(function(){return Le.trans=Z,J(X,se,Z)})}).then(function(X){if(V==="readwrite")try{Z.idbtrans.commit()}catch{}return V==="readonly"?X:Z._completion.then(function(){return X})})}if(ne._state.openComplete)return Ot(new fe.DatabaseClosed(ne._state.dbOpenError));if(!ne._state.isBeingOpened){if(!ne._state.autoOpen)return Ot(new fe.DatabaseClosed);ne.open().catch(Ve)}return ne._state.dbReadyPromise.then(function(){return Y(ne,V,ae,J)})}(this.db,d,[this.name],L);return O&&(H._consoleTask=O,H=H.catch(function(Y){return console.trace(Y),Ot(Y)})),H}finally{U&&So()}},ft.prototype.get=function(d,m){var x=this;return d&&d.constructor===Object?this.where(d).first(m):d==null?Ot(new fe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(E){return x.core.get({trans:E,key:d}).then(function(R){return x.hook.reading.fire(R)})}).then(m)},ft.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(a(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var m=o(d);if(m.length===1)return this.where(m[0]).equals(d[m[0]]);var x=this.schema.indexes.concat(this.schema.primKey).filter(function(U){if(U.compound&&m.every(function(Y){return 0<=U.keyPath.indexOf(Y)})){for(var H=0;H<m.length;++H)if(m.indexOf(U.keyPath[H])===-1)return!1;return!0}return!1}).sort(function(U,H){return U.keyPath.length-H.keyPath.length})[0];if(x&&this.db._maxKey!==Ci){var O=x.keyPath.slice(0,m.length);return this.where(O).equals(O.map(function(H){return d[H]}))}!x&&be&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var E=this.schema.idxByName;function R(U,H){return st(U,H)===0}var L=m.reduce(function(V,H){var Y=V[0],ne=V[1],V=E[H],ae=d[H];return[Y||V,Y||!V?Ti(ne,V&&V.multi?function(J){return J=I(J,H),a(J)&&J.some(function(Z){return R(ae,Z)})}:function(J){return R(ae,I(J,H))}):ne]},[null,null]),O=L[0],L=L[1];return O?this.where(O.name).equals(d[O.keyPath]).filter(L):x?this.filter(L):this.where(m).equals("")},ft.prototype.filter=function(d){return this.toCollection().and(d)},ft.prototype.count=function(d){return this.toCollection().count(d)},ft.prototype.offset=function(d){return this.toCollection().offset(d)},ft.prototype.limit=function(d){return this.toCollection().limit(d)},ft.prototype.each=function(d){return this.toCollection().each(d)},ft.prototype.toArray=function(d){return this.toCollection().toArray(d)},ft.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ft.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,a(d)?"[".concat(d.join("+"),"]"):d))},ft.prototype.reverse=function(){return this.toCollection().reverse()},ft.prototype.mapToClass=function(d){var m,x=this.db,E=this.name;function R(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof zv&&(function(H,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function ne(){this.constructor=H}n(H,Y),H.prototype=Y===null?Object.create(Y):(ne.prototype=Y.prototype,new ne)}(R,m=d),Object.defineProperty(R.prototype,"db",{get:function(){return x},enumerable:!1,configurable:!0}),R.prototype.table=function(){return E},d=R);for(var O=new Set,L=d.prototype;L;L=u(L))Object.getOwnPropertyNames(L).forEach(function(H){return O.add(H)});function U(H){if(!H)return H;var Y,ne=Object.create(d.prototype);for(Y in H)if(!O.has(Y))try{ne[Y]=H[Y]}catch{}return ne}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=U,this.hook("reading",U),d},ft.prototype.defineClass=function(){return this.mapToClass(function(d){l(this,d)})},ft.prototype.add=function(d,m){var x=this,E=this.schema.primKey,R=E.auto,O=E.keyPath,L=d;return O&&R&&(L=sc(O)(d)),this._trans("readwrite",function(U){return x.core.mutate({trans:U,type:"add",keys:m!=null?[m]:null,values:[L]})}).then(function(U){return U.numFailures?Oe.reject(U.failures[0]):U.lastResult}).then(function(U){if(O)try{j(d,O,U)}catch{}return U})},ft.prototype.upsert=function(d,m){var x=this,E=this.schema.primKey.keyPath;return this._trans("readwrite",function(R){return x.core.get({trans:R,key:d}).then(function(O){var L=O??{};return Hv(L,m),E&&j(L,E,d),x.core.mutate({trans:R,type:"put",values:[L],keys:[d],upsert:!0,updates:{keys:[d],changeSpecs:[m]}}).then(function(U){return U.numFailures?Oe.reject(U.failures[0]):!!O})})})},ft.prototype.update=function(d,m){return typeof d!="object"||a(d)?this.where(":id").equals(d).modify(m):(d=I(d,this.schema.primKey.keyPath),d===void 0?Ot(new fe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(m))},ft.prototype.put=function(d,m){var x=this,E=this.schema.primKey,R=E.auto,O=E.keyPath,L=d;return O&&R&&(L=sc(O)(d)),this._trans("readwrite",function(U){return x.core.mutate({trans:U,type:"put",values:[L],keys:m!=null?[m]:null})}).then(function(U){return U.numFailures?Oe.reject(U.failures[0]):U.lastResult}).then(function(U){if(O)try{j(d,O,U)}catch{}return U})},ft.prototype.delete=function(d){var m=this;return this._trans("readwrite",function(x){return m.core.mutate({trans:x,type:"delete",keys:[d]}).then(function(E){return ic(m,[d],E)}).then(function(E){return E.numFailures?Oe.reject(E.failures[0]):void 0})})},ft.prototype.clear=function(){var d=this;return this._trans("readwrite",function(m){return d.core.mutate({trans:m,type:"deleteRange",range:Uv}).then(function(x){return ic(d,null,x)})}).then(function(m){return m.numFailures?Oe.reject(m.failures[0]):void 0})},ft.prototype.bulkGet=function(d){var m=this;return this._trans("readonly",function(x){return m.core.getMany({keys:d,trans:x}).then(function(E){return E.map(function(R){return m.hook.reading.fire(R)})})})},ft.prototype.bulkAdd=function(d,m,x){var E=this,R=Array.isArray(m)?m:void 0,O=(x=x||(R?void 0:m))?x.allKeys:void 0;return this._trans("readwrite",function(L){var Y=E.schema.primKey,U=Y.auto,Y=Y.keyPath;if(Y&&R)throw new fe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(R&&R.length!==d.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");var H=d.length,Y=Y&&U?d.map(sc(Y)):d;return E.core.mutate({trans:L,type:"add",keys:R,values:Y,wantResults:O}).then(function(Z){var V=Z.numFailures,ae=Z.results,J=Z.lastResult,Z=Z.failures;if(V===0)return O?ae:J;throw new ye("".concat(E.name,".bulkAdd(): ").concat(V," of ").concat(H," operations failed"),Z)})})},ft.prototype.bulkPut=function(d,m,x){var E=this,R=Array.isArray(m)?m:void 0,O=(x=x||(R?void 0:m))?x.allKeys:void 0;return this._trans("readwrite",function(L){var Y=E.schema.primKey,U=Y.auto,Y=Y.keyPath;if(Y&&R)throw new fe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(R&&R.length!==d.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");var H=d.length,Y=Y&&U?d.map(sc(Y)):d;return E.core.mutate({trans:L,type:"put",keys:R,values:Y,wantResults:O}).then(function(Z){var V=Z.numFailures,ae=Z.results,J=Z.lastResult,Z=Z.failures;if(V===0)return O?ae:J;throw new ye("".concat(E.name,".bulkPut(): ").concat(V," of ").concat(H," operations failed"),Z)})})},ft.prototype.bulkUpdate=function(d){var m=this,x=this.core,E=d.map(function(L){return L.key}),R=d.map(function(L){return L.changes}),O=[];return this._trans("readwrite",function(L){return x.getMany({trans:L,keys:E,cache:"clone"}).then(function(U){var H=[],Y=[];d.forEach(function(V,ae){var J=V.key,Z=V.changes,X=U[ae];if(X){for(var se=0,le=Object.keys(Z);se<le.length;se++){var pe=le[se],ve=Z[pe];if(pe===m.schema.primKey.keyPath){if(st(ve,J)!==0)throw new fe.Constraint("Cannot update primary key in bulkUpdate()")}else j(X,pe,ve)}O.push(ae),H.push(J),Y.push(X)}});var ne=H.length;return x.mutate({trans:L,type:"put",keys:H,values:Y,updates:{keys:E,changeSpecs:R}}).then(function(V){var ae=V.numFailures,J=V.failures;if(ae===0)return ne;for(var Z=0,X=Object.keys(J);Z<X.length;Z++){var se,le=X[Z],pe=O[Number(le)];pe!=null&&(se=J[le],delete J[le],J[pe]=se)}throw new ye("".concat(m.name,".bulkUpdate(): ").concat(ae," of ").concat(ne," operations failed"),J)})})})},ft.prototype.bulkDelete=function(d){var m=this,x=d.length;return this._trans("readwrite",function(E){return m.core.mutate({trans:E,type:"delete",keys:d}).then(function(R){return ic(m,d,R)})}).then(function(L){var R=L.numFailures,O=L.lastResult,L=L.failures;if(R===0)return O;throw new ye("".concat(m.name,".bulkDelete(): ").concat(R," of ").concat(x," operations failed"),L)})},ft);function ft(){}function Ja(d){function m(L,U){if(U){for(var H=arguments.length,Y=new Array(H-1);--H;)Y[H-1]=arguments[H];return x[L].subscribe.apply(null,Y),d}if(typeof L=="string")return x[L]}var x={};m.addEventType=O;for(var E=1,R=arguments.length;E<R;++E)O(arguments[E]);return m;function O(L,U,H){if(typeof L!="object"){var Y;U=U||ee;var ne={subscribers:[],fire:H=H||Ve,subscribe:function(V){ne.subscribers.indexOf(V)===-1&&(ne.subscribers.push(V),ne.fire=U(ne.fire,V))},unsubscribe:function(V){ne.subscribers=ne.subscribers.filter(function(ae){return ae!==V}),ne.fire=ne.subscribers.reduce(U,H)}};return x[L]=m[L]=ne}o(Y=L).forEach(function(V){var ae=Y[V];if(a(ae))O(V,Y[V][0],Y[V][1]);else{if(ae!=="asap")throw new fe.InvalidArgument("Invalid event config");var J=O(V,at,function(){for(var Z=arguments.length,X=new Array(Z);Z--;)X[Z]=arguments[Z];J.subscribers.forEach(function(se){A(function(){se.apply(null,X)})})})}})}}function Za(d,m){return y(m).from({prototype:d}),m}function To(d,m){return!(d.filter||d.algorithm||d.or)&&(m?d.justLimit:!d.replayFilter)}function sf(d,m){d.filter=Ti(d.filter,m)}function of(d,m,x){var E=d.replayFilter;d.replayFilter=E?function(){return Ti(E(),m())}:m,d.justLimit=x&&!E}function oc(d,m){if(d.isPrimKey)return m.primaryKey;var x=m.getIndexByKeyPath(d.index);if(!x)throw new fe.Schema("KeyPath "+d.index+" on object store "+m.name+" is not indexed");return x}function Gv(d,m,x){var E=oc(d,m.schema);return m.openCursor({trans:x,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:E,range:d.range}})}function ac(d,m,x,E){var R=d.replayFilter?Ti(d.filter,d.replayFilter()):d.filter;if(d.or){var O={},L=function(U,H,Y){var ne,V;R&&!R(H,Y,function(ae){return H.stop(ae)},function(ae){return H.fail(ae)})||((V=""+(ne=H.primaryKey))=="[object ArrayBuffer]"&&(V=""+new Uint8Array(ne)),h(O,V)||(O[V]=!0,m(U,H,Y)))};return Promise.all([d.or._iterate(L,x),Yv(Gv(d,E,x),d.algorithm,L,!d.keysOnly&&d.valueMapper)])}return Yv(Gv(d,E,x),Ti(d.algorithm,R),m,!d.keysOnly&&d.valueMapper)}function Yv(d,m,x,E){var R=vt(E?function(O,L,U){return x(E(O),L,U)}:x);return d.then(function(O){if(O)return O.start(function(){var L=function(){return O.continue()};m&&!m(O,function(U){return L=U},function(U){O.stop(U),L=Ve},function(U){O.fail(U),L=Ve})||R(O.value,O,function(U){return L=U}),L()})})}var vT=(ut.prototype._read=function(d,m){var x=this._ctx;return x.error?x.table._trans(null,Ot.bind(null,x.error)):x.table._trans("readonly",d).then(m)},ut.prototype._write=function(d){var m=this._ctx;return m.error?m.table._trans(null,Ot.bind(null,m.error)):m.table._trans("readwrite",d,"locked")},ut.prototype._addAlgorithm=function(d){var m=this._ctx;m.algorithm=Ti(m.algorithm,d)},ut.prototype._iterate=function(d,m){return ac(this._ctx,d,m,this._ctx.table.core)},ut.prototype.clone=function(d){var m=Object.create(this.constructor.prototype),x=Object.create(this._ctx);return d&&l(x,d),m._ctx=x,m},ut.prototype.raw=function(){return this._ctx.valueMapper=null,this},ut.prototype.each=function(d){var m=this._ctx;return this._read(function(x){return ac(m,d,x,m.table.core)})},ut.prototype.count=function(d){var m=this;return this._read(function(x){var E=m._ctx,R=E.table.core;if(To(E,!0))return R.count({trans:x,query:{index:oc(E,R.schema),range:E.range}}).then(function(L){return Math.min(L,E.limit)});var O=0;return ac(E,function(){return++O,!1},x,R).then(function(){return O})}).then(d)},ut.prototype.sortBy=function(d,m){var x=d.split(".").reverse(),E=x[0],R=x.length-1;function O(H,Y){return Y?O(H[x[Y]],Y-1):H[E]}var L=this._ctx.dir==="next"?1:-1;function U(H,Y){return st(O(H,R),O(Y,R))*L}return this.toArray(function(H){return H.sort(U)}).then(m)},ut.prototype.toArray=function(d){var m=this;return this._read(function(x){var E=m._ctx;if(E.dir==="next"&&To(E,!0)&&0<E.limit){var R=E.valueMapper,O=oc(E,E.table.core.schema);return E.table.core.query({trans:x,limit:E.limit,values:!0,query:{index:O,range:E.range}}).then(function(U){return U=U.result,R?U.map(R):U})}var L=[];return ac(E,function(U){return L.push(U)},x,E.table.core).then(function(){return L})},d)},ut.prototype.offset=function(d){var m=this._ctx;return d<=0||(m.offset+=d,To(m)?of(m,function(){var x=d;return function(E,R){return x===0||(x===1?--x:R(function(){E.advance(x),x=0}),!1)}}):of(m,function(){var x=d;return function(){return--x<0}})),this},ut.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),of(this._ctx,function(){var m=d;return function(x,E,R){return--m<=0&&E(R),0<=m}},!0),this},ut.prototype.until=function(d,m){return sf(this._ctx,function(x,E,R){return!d(x.value)||(E(R),m)}),this},ut.prototype.first=function(d){return this.limit(1).toArray(function(m){return m[0]}).then(d)},ut.prototype.last=function(d){return this.reverse().first(d)},ut.prototype.filter=function(d){var m;return sf(this._ctx,function(x){return d(x.value)}),(m=this._ctx).isMatch=Ti(m.isMatch,d),this},ut.prototype.and=function(d){return this.filter(d)},ut.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},ut.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ut.prototype.desc=function(){return this.reverse()},ut.prototype.eachKey=function(d){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(x,E){d(E.key,E)})},ut.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},ut.prototype.eachPrimaryKey=function(d){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(x,E){d(E.primaryKey,E)})},ut.prototype.keys=function(d){var m=this._ctx;m.keysOnly=!m.isMatch;var x=[];return this.each(function(E,R){x.push(R.key)}).then(function(){return x}).then(d)},ut.prototype.primaryKeys=function(d){var m=this._ctx;if(m.dir==="next"&&To(m,!0)&&0<m.limit)return this._read(function(E){var R=oc(m,m.table.core.schema);return m.table.core.query({trans:E,values:!1,limit:m.limit,query:{index:R,range:m.range}})}).then(function(E){return E.result}).then(d);m.keysOnly=!m.isMatch;var x=[];return this.each(function(E,R){x.push(R.primaryKey)}).then(function(){return x}).then(d)},ut.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},ut.prototype.firstKey=function(d){return this.limit(1).keys(function(m){return m[0]}).then(d)},ut.prototype.lastKey=function(d){return this.reverse().firstKey(d)},ut.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var m={};return sf(this._ctx,function(R){var E=R.primaryKey.toString(),R=h(m,E);return m[E]=!0,!R}),this},ut.prototype.modify=function(d){var m=this,x=this._ctx;return this._write(function(E){var R=typeof d=="function"?d:function(X){return Hv(X,d)},O=x.table.core,Y=O.schema.primaryKey,L=Y.outbound,U=Y.extractKey,H=200,Y=m.db._options.modifyChunkSize;Y&&(H=typeof Y=="object"?Y[O.name]||Y["*"]||200:Y);function ne(X,pe){var le=pe.failures,pe=pe.numFailures;ae+=X-pe;for(var ve=0,_e=o(le);ve<_e.length;ve++){var Pe=_e[ve];V.push(le[Pe])}}var V=[],ae=0,J=[],Z=d===Qv;return m.clone().primaryKeys().then(function(X){function se(pe){var ve=Math.min(H,X.length-pe),_e=X.slice(pe,pe+ve);return(Z?Promise.resolve([]):O.getMany({trans:E,keys:_e,cache:"immutable"})).then(function(Pe){var je=[],Ce=[],Re=L?[]:null,Ie=Z?_e:[];if(!Z)for(var Ae=0;Ae<ve;++Ae){var Fe=Pe[Ae],Ze={value:W(Fe),primKey:X[pe+Ae]};R.call(Ze,Ze.value,Ze)!==!1&&(Ze.value==null?Ie.push(X[pe+Ae]):L||st(U(Fe),U(Ze.value))===0?(Ce.push(Ze.value),L&&Re.push(X[pe+Ae])):(Ie.push(X[pe+Ae]),je.push(Ze.value)))}return Promise.resolve(0<je.length&&O.mutate({trans:E,type:"add",values:je}).then(function(et){for(var nt in et.failures)Ie.splice(parseInt(nt),1);ne(je.length,et)})).then(function(){return(0<Ce.length||le&&typeof d=="object")&&O.mutate({trans:E,type:"put",keys:Re,values:Ce,criteria:le,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<pe}).then(function(et){return ne(Ce.length,et)})}).then(function(){return(0<Ie.length||le&&Z)&&O.mutate({trans:E,type:"delete",keys:Ie,criteria:le,isAdditionalChunk:0<pe}).then(function(et){return ic(x.table,Ie,et)}).then(function(et){return ne(Ie.length,et)})}).then(function(){return X.length>pe+ve&&se(pe+H)})})}var le=To(x)&&x.limit===1/0&&(typeof d!="function"||Z)&&{index:x.index,range:x.range};return se(0).then(function(){if(0<V.length)throw new oe("Error modifying one or more objects",V,ae,J);return X.length})})})},ut.prototype.delete=function(){var d=this._ctx,m=d.range;return!To(d)||d.table.schema.yProps||!d.isPrimKey&&m.type!==3?this.modify(Qv):this._write(function(x){var E=d.table.core.schema.primaryKey,R=m;return d.table.core.count({trans:x,query:{index:E,range:R}}).then(function(O){return d.table.core.mutate({trans:x,type:"deleteRange",range:R}).then(function(H){var U=H.failures,H=H.numFailures;if(H)throw new oe("Could not delete some values",Object.keys(U).map(function(Y){return U[Y]}),O-H);return O-H})})})},ut);function ut(){}var Qv=function(d,m){return m.value=null};function wT(d,m){return d<m?-1:d===m?0:1}function bT(d,m){return m<d?-1:d===m?0:1}function Fn(d,m,x){return d=d instanceof Zv?new d.Collection(d):d,d._ctx.error=new(x||TypeError)(m),d}function Po(d){return new d.Collection(d,function(){return Jv("")}).limit(0)}function lc(d,m,x,E){var R,O,L,U,H,Y,ne,V=x.length;if(!x.every(function(Z){return typeof Z=="string"}))return Fn(d,Bv);function ae(Z){R=Z==="next"?function(se){return se.toUpperCase()}:function(se){return se.toLowerCase()},O=Z==="next"?function(se){return se.toLowerCase()}:function(se){return se.toUpperCase()},L=Z==="next"?wT:bT;var X=x.map(function(se){return{lower:O(se),upper:R(se)}}).sort(function(se,le){return L(se.lower,le.lower)});U=X.map(function(se){return se.upper}),H=X.map(function(se){return se.lower}),ne=(Y=Z)==="next"?"":E}ae("next"),d=new d.Collection(d,function(){return As(U[0],H[V-1]+E)}),d._ondirectionchange=function(Z){ae(Z)};var J=0;return d._addAlgorithm(function(Z,X,se){var le=Z.key;if(typeof le!="string")return!1;var pe=O(le);if(m(pe,H,J))return!0;for(var ve=null,_e=J;_e<V;++_e){var Pe=function(je,Ce,Re,Ie,Ae,Fe){for(var Ze=Math.min(je.length,Ie.length),et=-1,nt=0;nt<Ze;++nt){var Bn=Ce[nt];if(Bn!==Ie[nt])return Ae(je[nt],Re[nt])<0?je.substr(0,nt)+Re[nt]+Re.substr(nt+1):Ae(je[nt],Ie[nt])<0?je.substr(0,nt)+Ie[nt]+Re.substr(nt+1):0<=et?je.substr(0,et)+Ce[et]+Re.substr(et+1):null;Ae(je[nt],Bn)<0&&(et=nt)}return Ze<Ie.length&&Fe==="next"?je+Re.substr(je.length):Ze<je.length&&Fe==="prev"?je.substr(0,Re.length):et<0?null:je.substr(0,et)+Ie[et]+Re.substr(et+1)}(le,pe,U[_e],H[_e],L,Y);Pe===null&&ve===null?J=_e+1:(ve===null||0<L(ve,Pe))&&(ve=Pe)}return X(ve!==null?function(){Z.continue(ve+ne)}:se),!1}),d}function As(d,m,x,E){return{type:2,lower:d,upper:m,lowerOpen:x,upperOpen:E}}function Jv(d){return{type:1,lower:d,upper:d}}var Zv=(Object.defineProperty(Qt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Qt.prototype.between=function(d,m,x,E){x=x!==!1,E=E===!0;try{return 0<this._cmp(d,m)||this._cmp(d,m)===0&&(x||E)&&(!x||!E)?Po(this):new this.Collection(this,function(){return As(d,m,!x,!E)})}catch{return Fn(this,ts)}},Qt.prototype.equals=function(d){return d==null?Fn(this,ts):new this.Collection(this,function(){return Jv(d)})},Qt.prototype.above=function(d){return d==null?Fn(this,ts):new this.Collection(this,function(){return As(d,void 0,!0)})},Qt.prototype.aboveOrEqual=function(d){return d==null?Fn(this,ts):new this.Collection(this,function(){return As(d,void 0,!1)})},Qt.prototype.below=function(d){return d==null?Fn(this,ts):new this.Collection(this,function(){return As(void 0,d,!1,!0)})},Qt.prototype.belowOrEqual=function(d){return d==null?Fn(this,ts):new this.Collection(this,function(){return As(void 0,d)})},Qt.prototype.startsWith=function(d){return typeof d!="string"?Fn(this,Bv):this.between(d,d+Ci,!0,!0)},Qt.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):lc(this,function(m,x){return m.indexOf(x[0])===0},[d],Ci)},Qt.prototype.equalsIgnoreCase=function(d){return lc(this,function(m,x){return m===x[0]},[d],"")},Qt.prototype.anyOfIgnoreCase=function(){var d=he.apply(te,arguments);return d.length===0?Po(this):lc(this,function(m,x){return x.indexOf(m)!==-1},d,"")},Qt.prototype.startsWithAnyOfIgnoreCase=function(){var d=he.apply(te,arguments);return d.length===0?Po(this):lc(this,function(m,x){return x.some(function(E){return m.indexOf(E)===0})},d,Ci)},Qt.prototype.anyOf=function(){var d=this,m=he.apply(te,arguments),x=this._cmp;try{m.sort(x)}catch{return Fn(this,ts)}if(m.length===0)return Po(this);var E=new this.Collection(this,function(){return As(m[0],m[m.length-1])});E._ondirectionchange=function(O){x=O==="next"?d._ascending:d._descending,m.sort(x)};var R=0;return E._addAlgorithm(function(O,L,U){for(var H=O.key;0<x(H,m[R]);)if(++R===m.length)return L(U),!1;return x(H,m[R])===0||(L(function(){O.continue(m[R])}),!1)}),E},Qt.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Qt.prototype.noneOf=function(){var d=he.apply(te,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return Fn(this,ts)}var m=d.reduce(function(x,E){return x?x.concat([[x[x.length-1][1],E]]):[[-1/0,E]]},null);return m.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},Qt.prototype.inAnyRange=function(le,m){var x=this,E=this._cmp,R=this._ascending,O=this._descending,L=this._min,U=this._max;if(le.length===0)return Po(this);if(!le.every(function(pe){return pe[0]!==void 0&&pe[1]!==void 0&&R(pe[0],pe[1])<=0}))return Fn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",fe.InvalidArgument);var H=!m||m.includeLowers!==!1,Y=m&&m.includeUppers===!0,ne,V=R;function ae(pe,ve){return V(pe[0],ve[0])}try{(ne=le.reduce(function(pe,ve){for(var _e=0,Pe=pe.length;_e<Pe;++_e){var je=pe[_e];if(E(ve[0],je[1])<0&&0<E(ve[1],je[0])){je[0]=L(je[0],ve[0]),je[1]=U(je[1],ve[1]);break}}return _e===Pe&&pe.push(ve),pe},[])).sort(ae)}catch{return Fn(this,ts)}var J=0,Z=Y?function(pe){return 0<R(pe,ne[J][1])}:function(pe){return 0<=R(pe,ne[J][1])},X=H?function(pe){return 0<O(pe,ne[J][0])}:function(pe){return 0<=O(pe,ne[J][0])},se=Z,le=new this.Collection(this,function(){return As(ne[0][0],ne[ne.length-1][1],!H,!Y)});return le._ondirectionchange=function(pe){V=pe==="next"?(se=Z,R):(se=X,O),ne.sort(ae)},le._addAlgorithm(function(pe,ve,_e){for(var Pe,je=pe.key;se(je);)if(++J===ne.length)return ve(_e),!1;return!Z(Pe=je)&&!X(Pe)||(x._cmp(je,ne[J][1])===0||x._cmp(je,ne[J][0])===0||ve(function(){V===R?pe.continue(ne[J][0]):pe.continue(ne[J][1])}),!1)}),le},Qt.prototype.startsWithAnyOf=function(){var d=he.apply(te,arguments);return d.every(function(m){return typeof m=="string"})?d.length===0?Po(this):this.inAnyRange(d.map(function(m){return[m,m+Ci]})):Fn(this,"startsWithAnyOf() only works with strings")},Qt);function Qt(){}function Lr(d){return vt(function(m){return Xa(m),d(m.target.error),!1})}function Xa(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var el="storagemutated",af="x-storagemutated-1",js=Ja(null,el),_T=($r.prototype._lock=function(){return T(!Le.global),++this._reculock,this._reculock!==1||Le.global||(Le.lockOwnerFor=this),this},$r.prototype._unlock=function(){if(T(!Le.global),--this._reculock==0)for(Le.global||(Le.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{Ei(d[1],d[0])}catch{}}return this},$r.prototype._locked=function(){return this._reculock&&Le.lockOwnerFor!==this},$r.prototype.create=function(d){var m=this;if(!this.mode)return this;var x=this.db.idbdb,E=this.db._state.dbOpenError;if(T(!this.idbtrans),!d&&!x)switch(E&&E.name){case"DatabaseClosedError":throw new fe.DatabaseClosed(E);case"MissingAPIError":throw new fe.MissingAPI(E.message,E);default:throw new fe.OpenFailed(E)}if(!this.active)throw new fe.TransactionInactive;return T(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||x).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=vt(function(R){Xa(R),m._reject(d.error)}),d.onabort=vt(function(R){Xa(R),m.active&&m._reject(new fe.Abort(d.error)),m.active=!1,m.on("abort").fire(R)}),d.oncomplete=vt(function(){m.active=!1,m._resolve(),"mutatedParts"in d&&js.storagemutated.fire(d.mutatedParts)}),this},$r.prototype._promise=function(d,m,x){var E=this;if(d==="readwrite"&&this.mode!=="readwrite")return Ot(new fe.ReadOnly("Transaction is readonly"));if(!this.active)return Ot(new fe.TransactionInactive);if(this._locked())return new Oe(function(O,L){E._blockedFuncs.push([function(){E._promise(d,m,x).then(O,L)},Le])});if(x)return Ts(function(){var O=new Oe(function(L,U){E._lock();var H=m(L,U,E);H&&H.then&&H.then(L,U)});return O.finally(function(){return E._unlock()}),O._lib=!0,O});var R=new Oe(function(O,L){var U=m(O,L,E);U&&U.then&&U.then(O,L)});return R._lib=!0,R},$r.prototype._root=function(){return this.parent?this.parent._root():this},$r.prototype.waitFor=function(d){var m,x=this._root(),E=Oe.resolve(d);x._waitingFor?x._waitingFor=x._waitingFor.then(function(){return E}):(x._waitingFor=E,x._waitingQueue=[],m=x.idbtrans.objectStore(x.storeNames[0]),function O(){for(++x._spinCount;x._waitingQueue.length;)x._waitingQueue.shift()();x._waitingFor&&(m.get(-1/0).onsuccess=O)}());var R=x._waitingFor;return new Oe(function(O,L){E.then(function(U){return x._waitingQueue.push(vt(O.bind(null,U)))},function(U){return x._waitingQueue.push(vt(L.bind(null,U)))}).finally(function(){x._waitingFor===R&&(x._waitingFor=null)})})},$r.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new fe.Abort))},$r.prototype.table=function(d){var m=this._memoizedTables||(this._memoizedTables={});if(h(m,d))return m[d];var x=this.schema[d];if(!x)throw new fe.NotFound("Table "+d+" not part of transaction");return x=new this.db.Table(d,x,this),x.core=this.db.core.table(d),m[d]=x},$r);function $r(){}function lf(d,m,x,E,R,O,L,U){return{name:d,keyPath:m,unique:x,multi:E,auto:R,compound:O,src:(x&&!L?"&":"")+(E?"*":"")+(R?"++":"")+Xv(m),type:U}}function Xv(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function uf(d,m,x){return{name:d,primKey:m,indexes:x,mappedClass:null,idxByName:(E=function(R){return[R.name,R]},x.reduce(function(R,O,L){return L=E(O,L),L&&(R[L[0]]=L[1]),R},{}))};var E}var tl=function(d){try{return d.only([[]]),tl=function(){return[[]]},[[]]}catch{return tl=function(){return Ci},Ci}};function cf(d){return d==null?function(){}:typeof d=="string"?(m=d).split(".").length===1?function(x){return x[m]}:function(x){return I(x,m)}:function(x){return I(x,d)};var m}function e0(d){return[].slice.call(d)}var xT=0;function nl(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function kT(d,m,H){function E(se){if(se.type===3)return null;if(se.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var J=se.lower,Z=se.upper,X=se.lowerOpen,se=se.upperOpen;return J===void 0?Z===void 0?null:m.upperBound(Z,!!se):Z===void 0?m.lowerBound(J,!!X):m.bound(J,Z,!!X,!!se)}function R(ae){var J,Z=ae.name;return{name:Z,schema:ae,mutate:function(X){var se=X.trans,le=X.type,pe=X.keys,ve=X.values,_e=X.range;return new Promise(function(Pe,je){Pe=vt(Pe);var Ce=se.objectStore(Z),Re=Ce.keyPath==null,Ie=le==="put"||le==="add";if(!Ie&&le!=="delete"&&le!=="deleteRange")throw new Error("Invalid operation type: "+le);var Ae,Fe=(pe||ve||{length:1}).length;if(pe&&ve&&pe.length!==ve.length)throw new Error("Given keys array must have same length as given values array.");if(Fe===0)return Pe({numFailures:0,failures:{},results:[],lastResult:void 0});function Ze(yn){++Bn,Xa(yn)}var et=[],nt=[],Bn=0;if(le==="deleteRange"){if(_e.type===4)return Pe({numFailures:Bn,failures:nt,results:[],lastResult:void 0});_e.type===3?et.push(Ae=Ce.clear()):et.push(Ae=Ce.delete(E(_e)))}else{var Re=Ie?Re?[ve,pe]:[ve,null]:[pe,null],Je=Re[0],un=Re[1];if(Ie)for(var cn=0;cn<Fe;++cn)et.push(Ae=un&&un[cn]!==void 0?Ce[le](Je[cn],un[cn]):Ce[le](Je[cn])),Ae.onerror=Ze;else for(cn=0;cn<Fe;++cn)et.push(Ae=Ce[le](Je[cn])),Ae.onerror=Ze}function bc(yn){yn=yn.target.result,et.forEach(function(Ai,Pf){return Ai.error!=null&&(nt[Pf]=Ai.error)}),Pe({numFailures:Bn,failures:nt,results:le==="delete"?pe:et.map(function(Ai){return Ai.result}),lastResult:yn})}Ae.onerror=function(yn){Ze(yn),bc(yn)},Ae.onsuccess=bc})},getMany:function(X){var se=X.trans,le=X.keys;return new Promise(function(pe,ve){pe=vt(pe);for(var _e,Pe=se.objectStore(Z),je=le.length,Ce=new Array(je),Re=0,Ie=0,Ae=function(et){et=et.target,Ce[et._pos]=et.result,++Ie===Re&&pe(Ce)},Fe=Lr(ve),Ze=0;Ze<je;++Ze)le[Ze]!=null&&((_e=Pe.get(le[Ze]))._pos=Ze,_e.onsuccess=Ae,_e.onerror=Fe,++Re);Re===0&&pe(Ce)})},get:function(X){var se=X.trans,le=X.key;return new Promise(function(pe,ve){pe=vt(pe);var _e=se.objectStore(Z).get(le);_e.onsuccess=function(Pe){return pe(Pe.target.result)},_e.onerror=Lr(ve)})},query:(J=Y,function(X){return new Promise(function(se,le){se=vt(se);var pe,ve,_e,Re=X.trans,Pe=X.values,je=X.limit,Ae=X.query,Ce=je===1/0?void 0:je,Ie=Ae.index,Ae=Ae.range,Re=Re.objectStore(Z),Ie=Ie.isPrimaryKey?Re:Re.index(Ie.name),Ae=E(Ae);if(je===0)return se({result:[]});J?((Ce=Pe?Ie.getAll(Ae,Ce):Ie.getAllKeys(Ae,Ce)).onsuccess=function(Fe){return se({result:Fe.target.result})},Ce.onerror=Lr(le)):(pe=0,ve=!Pe&&"openKeyCursor"in Ie?Ie.openKeyCursor(Ae):Ie.openCursor(Ae),_e=[],ve.onsuccess=function(Fe){var Ze=ve.result;return Ze?(_e.push(Pe?Ze.value:Ze.primaryKey),++pe===je?se({result:_e}):void Ze.continue()):se({result:_e})},ve.onerror=Lr(le))})}),openCursor:function(X){var se=X.trans,le=X.values,pe=X.query,ve=X.reverse,_e=X.unique;return new Promise(function(Pe,je){Pe=vt(Pe);var Ie=pe.index,Ce=pe.range,Re=se.objectStore(Z),Re=Ie.isPrimaryKey?Re:Re.index(Ie.name),Ie=ve?_e?"prevunique":"prev":_e?"nextunique":"next",Ae=!le&&"openKeyCursor"in Re?Re.openKeyCursor(E(Ce),Ie):Re.openCursor(E(Ce),Ie);Ae.onerror=Lr(je),Ae.onsuccess=vt(function(Fe){var Ze,et,nt,Bn,Je=Ae.result;Je?(Je.___id=++xT,Je.done=!1,Ze=Je.continue.bind(Je),et=(et=Je.continuePrimaryKey)&&et.bind(Je),nt=Je.advance.bind(Je),Bn=function(){throw new Error("Cursor not stopped")},Je.trans=se,Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=function(){throw new Error("Cursor not started")},Je.fail=vt(je),Je.next=function(){var un=this,cn=1;return this.start(function(){return cn--?un.continue():un.stop()}).then(function(){return un})},Je.start=function(un){function cn(){if(Ae.result)try{un()}catch(yn){Je.fail(yn)}else Je.done=!0,Je.start=function(){throw new Error("Cursor behind last entry")},Je.stop()}var bc=new Promise(function(yn,Ai){yn=vt(yn),Ae.onerror=Lr(Ai),Je.fail=Ai,Je.stop=function(Pf){Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=Bn,yn(Pf)}});return Ae.onsuccess=vt(function(yn){Ae.onsuccess=cn,cn()}),Je.continue=Ze,Je.continuePrimaryKey=et,Je.advance=nt,cn(),bc},Pe(Je)):Pe(null)},je)})},count:function(X){var se=X.query,le=X.trans,pe=se.index,ve=se.range;return new Promise(function(_e,Pe){var je=le.objectStore(Z),Ce=pe.isPrimaryKey?je:je.index(pe.name),je=E(ve),Ce=je?Ce.count(je):Ce.count();Ce.onsuccess=vt(function(Re){return _e(Re.target.result)}),Ce.onerror=Lr(Pe)})}}}var O,L,U,ne=(L=H,U=e0((O=d).objectStoreNames),{schema:{name:O.name,tables:U.map(function(ae){return L.objectStore(ae)}).map(function(ae){var J=ae.keyPath,se=ae.autoIncrement,Z=a(J),X={},se={name:ae.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:J==null,compound:Z,keyPath:J,autoIncrement:se,unique:!0,extractKey:cf(J)},indexes:e0(ae.indexNames).map(function(le){return ae.index(le)}).map(function(_e){var pe=_e.name,ve=_e.unique,Pe=_e.multiEntry,_e=_e.keyPath,Pe={name:pe,compound:a(_e),keyPath:_e,unique:ve,multiEntry:Pe,extractKey:cf(_e)};return X[nl(_e)]=Pe}),getIndexByKeyPath:function(le){return X[nl(le)]}};return X[":id"]=se.primaryKey,J!=null&&(X[nl(J)]=se.primaryKey),se})},hasGetAll:0<U.length&&"getAll"in L.objectStore(U[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),H=ne.schema,Y=ne.hasGetAll,ne=H.tables.map(R),V={};return ne.forEach(function(ae){return V[ae.name]=ae}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(ae){if(!V[ae])throw new Error("Table '".concat(ae,"' not found"));return V[ae]},MIN_KEY:-1/0,MAX_KEY:tl(m),schema:H}}function ST(d,m,x,E){var R=x.IDBKeyRange;return x.indexedDB,{dbcore:(E=kT(m,R,E),d.dbcore.reduce(function(O,L){return L=L.create,r(r({},O),L(O))},E))}}function uc(d,E){var x=E.db,E=ST(d._middlewares,x,d._deps,E);d.core=E.dbcore,d.tables.forEach(function(R){var O=R.name;d.core.schema.tables.some(function(L){return L.name===O})&&(R.core=d.core.table(O),d[O]instanceof d.Table&&(d[O].core=R.core))})}function cc(d,m,x,E){x.forEach(function(R){var O=E[R];m.forEach(function(L){var U=function H(Y,ne){return b(Y,ne)||(Y=u(Y))&&H(Y,ne)}(L,R);(!U||"value"in U&&U.value===void 0)&&(L===d.Transaction.prototype||L instanceof d.Transaction?w(L,R,{get:function(){return this.table(R)},set:function(H){f(this,R,{value:H,writable:!0,configurable:!0,enumerable:!0})}}):L[R]=new d.Table(R,O))})})}function df(d,m){m.forEach(function(x){for(var E in x)x[E]instanceof d.Table&&delete x[E]})}function ET(d,m){return d._cfg.version-m._cfg.version}function CT(d,m,x,E){var R=d._dbSchema;x.objectStoreNames.contains("$meta")&&!R.$meta&&(R.$meta=uf("$meta",n0("")[0],[]),d._storeNames.push("$meta"));var O=d._createTransaction("readwrite",d._storeNames,R);O.create(x),O._completion.catch(E);var L=O._reject.bind(O),U=Le.transless||Le;Ts(function(){return Le.trans=O,Le.transless=U,m!==0?(uc(d,x),Y=m,((H=O).storeNames.includes("$meta")?H.table("$meta").get("version").then(function(ne){return ne??Y}):Oe.resolve(Y)).then(function(ne){return ae=ne,J=O,Z=x,X=[],ne=(V=d)._versions,se=V._dbSchema=hc(0,V.idbdb,Z),(ne=ne.filter(function(le){return le._cfg.version>=ae})).length!==0?(ne.forEach(function(le){X.push(function(){var pe=se,ve=le._cfg.dbschema;fc(V,pe,Z),fc(V,ve,Z),se=V._dbSchema=ve;var _e=hf(pe,ve);_e.add.forEach(function(Ie){ff(Z,Ie[0],Ie[1].primKey,Ie[1].indexes)}),_e.change.forEach(function(Ie){if(Ie.recreate)throw new fe.Upgrade("Not yet support for changing primary key");var Ae=Z.objectStore(Ie.name);Ie.add.forEach(function(Fe){return dc(Ae,Fe)}),Ie.change.forEach(function(Fe){Ae.deleteIndex(Fe.name),dc(Ae,Fe)}),Ie.del.forEach(function(Fe){return Ae.deleteIndex(Fe)})});var Pe=le._cfg.contentUpgrade;if(Pe&&le._cfg.version>ae){uc(V,Z),J._memoizedTables={};var je=D(ve);_e.del.forEach(function(Ie){je[Ie]=pe[Ie]}),df(V,[V.Transaction.prototype]),cc(V,[V.Transaction.prototype],o(je),je),J.schema=je;var Ce,Re=q(Pe);return Re&&Eo(),_e=Oe.follow(function(){var Ie;(Ce=Pe(J))&&Re&&(Ie=Ps.bind(null,null),Ce.then(Ie,Ie))}),Ce&&typeof Ce.then=="function"?Oe.resolve(Ce):_e.then(function(){return Ce})}}),X.push(function(pe){var ve,_e,Pe=le._cfg.dbschema;ve=Pe,_e=pe,[].slice.call(_e.db.objectStoreNames).forEach(function(je){return ve[je]==null&&_e.db.deleteObjectStore(je)}),df(V,[V.Transaction.prototype]),cc(V,[V.Transaction.prototype],V._storeNames,V._dbSchema),J.schema=V._dbSchema}),X.push(function(pe){V.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(V.idbdb.version/10)===le._cfg.version?(V.idbdb.deleteObjectStore("$meta"),delete V._dbSchema.$meta,V._storeNames=V._storeNames.filter(function(ve){return ve!=="$meta"})):pe.objectStore("$meta").put(le._cfg.version,"version"))})}),function le(){return X.length?Oe.resolve(X.shift()(J.idbtrans)).then(le):Oe.resolve()}().then(function(){t0(se,Z)})):Oe.resolve();var V,ae,J,Z,X,se}).catch(L)):(o(R).forEach(function(ne){ff(x,ne,R[ne].primKey,R[ne].indexes)}),uc(d,x),void Oe.follow(function(){return d.on.populate.fire(O)}).catch(L));var H,Y})}function TT(d,m){t0(d._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var x=hc(0,d.idbdb,m);fc(d,d._dbSchema,m);for(var E=0,R=hf(x,d._dbSchema).change;E<R.length;E++){var O=function(L){if(L.change.length||L.recreate)return console.warn("Unable to patch indexes of table ".concat(L.name," because it has changes on the type of index or primary key.")),{value:void 0};var U=m.objectStore(L.name);L.add.forEach(function(H){be&&console.debug("Dexie upgrade patch: Creating missing index ".concat(L.name,".").concat(H.src)),dc(U,H)})}(R[E]);if(typeof O=="object")return O.value}}function hf(d,m){var x,E={del:[],add:[],change:[]};for(x in d)m[x]||E.del.push(x);for(x in m){var R=d[x],O=m[x];if(R){var L={name:x,def:O,recreate:!1,del:[],add:[],change:[]};if(""+(R.primKey.keyPath||"")!=""+(O.primKey.keyPath||"")||R.primKey.auto!==O.primKey.auto)L.recreate=!0,E.change.push(L);else{var U=R.idxByName,H=O.idxByName,Y=void 0;for(Y in U)H[Y]||L.del.push(Y);for(Y in H){var ne=U[Y],V=H[Y];ne?ne.src!==V.src&&L.change.push(V):L.add.push(V)}(0<L.del.length||0<L.add.length||0<L.change.length)&&E.change.push(L)}}else E.add.push([x,O])}return E}function ff(d,m,x,E){var R=d.db.createObjectStore(m,x.keyPath?{keyPath:x.keyPath,autoIncrement:x.auto}:{autoIncrement:x.auto});return E.forEach(function(O){return dc(R,O)}),R}function t0(d,m){o(d).forEach(function(x){m.db.objectStoreNames.contains(x)||(be&&console.debug("Dexie: Creating missing table",x),ff(m,x,d[x].primKey,d[x].indexes))})}function dc(d,m){d.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function hc(d,m,x){var E={};return v(m.objectStoreNames,0).forEach(function(R){for(var O=x.objectStore(R),L=lf(Xv(Y=O.keyPath),Y||"",!0,!1,!!O.autoIncrement,Y&&typeof Y!="string",!0),U=[],H=0;H<O.indexNames.length;++H){var ne=O.index(O.indexNames[H]),Y=ne.keyPath,ne=lf(ne.name,Y,!!ne.unique,!!ne.multiEntry,!1,Y&&typeof Y!="string",!1);U.push(ne)}E[R]=uf(R,L,U)}),E}function fc(d,m,x){for(var E=x.db.objectStoreNames,R=0;R<E.length;++R){var O=E[R],L=x.objectStore(O);d._hasGetAll="getAll"in L;for(var U=0;U<L.indexNames.length;++U){var H=L.indexNames[U],Y=L.index(H).keyPath,ne=typeof Y=="string"?Y:"["+v(Y).join("+")+"]";!m[O]||(Y=m[O].idxByName[ne])&&(Y.name=H,delete m[O].idxByName[ne],m[O].idxByName[H]=Y)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function n0(d){return d.split(",").map(function(m,x){var O=m.split(":"),E=(R=O[1])===null||R===void 0?void 0:R.trim(),R=(m=O[0].trim()).replace(/([&*]|\+\+)/g,""),O=/^\[/.test(R)?R.match(/^\[(.*)\]$/)[1].split("+"):R;return lf(R,O||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),a(O),x===0,E)})}var PT=(Ro.prototype._createTableSchema=uf,Ro.prototype._parseIndexSyntax=n0,Ro.prototype._parseStoresSpec=function(d,m){var x=this;o(d).forEach(function(E){if(d[E]!==null){var R=x._parseIndexSyntax(d[E]),O=R.shift();if(!O)throw new fe.Schema("Invalid schema for table "+E+": "+d[E]);if(O.unique=!0,O.multi)throw new fe.Schema("Primary key cannot be multiEntry*");R.forEach(function(L){if(L.auto)throw new fe.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new fe.Schema("Index must have a name and cannot be an empty string")}),R=x._createTableSchema(E,O,R),m[E]=R}})},Ro.prototype.stores=function(x){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,x):x;var x=m._versions,E={},R={};return x.forEach(function(O){l(E,O._cfg.storesSource),R=O._cfg.dbschema={},O._parseStoresSpec(E,R)}),m._dbSchema=R,df(m,[m._allTables,m,m.Transaction.prototype]),cc(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],o(R),R),m._storeNames=o(R),this},Ro.prototype.upgrade=function(d){return this._cfg.contentUpgrade=xe(this._cfg.contentUpgrade||Ve,d),this},Ro);function Ro(){}function pf(d,m){var x=d._dbNamesDB;return x||(x=d._dbNamesDB=new ns(rc,{addons:[],indexedDB:d,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),x.table("dbnames")}function mf(d){return d&&typeof d.databases=="function"}function gf(d){return Ts(function(){return Le.letThrough=!0,d()})}function yf(d){return!("from"in d)}var ln=function(d,m){if(!this){var x=new ln;return d&&"d"in d&&l(x,d),x}l(this,arguments.length?{d:1,from:d,to:1<arguments.length?m:d}:{d:0})};function rl(d,m,x){var E=st(m,x);if(!isNaN(E)){if(0<E)throw RangeError();if(yf(d))return l(d,{from:m,to:x,d:1});var R=d.l,E=d.r;if(st(x,d.from)<0)return R?rl(R,m,x):d.l={from:m,to:x,d:1,l:null,r:null},s0(d);if(0<st(m,d.to))return E?rl(E,m,x):d.r={from:m,to:x,d:1,l:null,r:null},s0(d);st(m,d.from)<0&&(d.from=m,d.l=null,d.d=E?E.d+1:1),0<st(x,d.to)&&(d.to=x,d.r=null,d.d=d.l?d.l.d+1:1),x=!d.r,R&&!d.l&&sl(d,R),E&&x&&sl(d,E)}}function sl(d,m){yf(m)||function x(E,H){var O=H.from,L=H.to,U=H.l,H=H.r;rl(E,O,L),U&&x(E,U),H&&x(E,H)}(d,m)}function r0(d,m){var x=pc(m),E=x.next();if(E.done)return!1;for(var R=E.value,O=pc(d),L=O.next(R.from),U=L.value;!E.done&&!L.done;){if(st(U.from,R.to)<=0&&0<=st(U.to,R.from))return!0;st(R.from,U.from)<0?R=(E=x.next(U.from)).value:U=(L=O.next(R.from)).value}return!1}function pc(d){var m=yf(d)?null:{s:0,n:d};return{next:function(x){for(var E=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,E)for(;m.n.l&&st(x,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!E||st(x,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function s0(d){var m,x,E=(((m=d.r)===null||m===void 0?void 0:m.d)||0)-(((x=d.l)===null||x===void 0?void 0:x.d)||0),R=1<E?"r":E<-1?"l":"";R&&(m=R=="r"?"l":"r",x=r({},d),E=d[R],d.from=E.from,d.to=E.to,d[R]=E[R],x[R]=E[m],(d[m]=x).d=i0(x)),d.d=i0(d)}function i0(x){var m=x.r,x=x.l;return(m?x?Math.max(m.d,x.d):m.d:x?x.d:0)+1}function mc(d,m){return o(m).forEach(function(x){d[x]?sl(d[x],m[x]):d[x]=function E(R){var O,L,U={};for(O in R)h(R,O)&&(L=R[O],U[O]=!L||typeof L!="object"||de.has(L.constructor)?L:E(L));return U}(m[x])}),d}function vf(d,m){return d.all||m.all||Object.keys(d).some(function(x){return m[x]&&r0(m[x],d[x])})}p(ln.prototype,((er={add:function(d){return sl(this,d),this},addKey:function(d){return rl(this,d,d),this},addKeys:function(d){var m=this;return d.forEach(function(x){return rl(m,x,x)}),this},hasKey:function(d){var m=pc(this).next(d).value;return m&&st(m.from,d)<=0&&0<=st(m.to,d)}})[me]=function(){return pc(this)},er));var Pi={},wf={},bf=!1;function gc(d){mc(wf,d),bf||(bf=!0,setTimeout(function(){bf=!1,_f(wf,!(wf={}))},0))}function _f(d,m){m===void 0&&(m=!1);var x=new Set;if(d.all)for(var E=0,R=Object.values(Pi);E<R.length;E++)o0(L=R[E],d,x,m);else for(var O in d){var L,U=/^idb\:\/\/(.*)\/(.*)\//.exec(O);U&&(O=U[1],U=U[2],(L=Pi["idb://".concat(O,"/").concat(U)])&&o0(L,d,x,m))}x.forEach(function(H){return H()})}function o0(d,m,x,E){for(var R=[],O=0,L=Object.entries(d.queries.query);O<L.length;O++){for(var U=L[O],H=U[0],Y=[],ne=0,V=U[1];ne<V.length;ne++){var ae=V[ne];vf(m,ae.obsSet)?ae.subscribers.forEach(function(se){return x.add(se)}):E&&Y.push(ae)}E&&R.push([H,Y])}if(E)for(var J=0,Z=R;J<Z.length;J++){var X=Z[J],H=X[0],Y=X[1];d.queries.query[H]=Y}}function RT(d){var m=d._state,x=d._deps.indexedDB;if(m.isBeingOpened||d.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?Ot(m.dbOpenError):d});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var E=m.openCanceller,R=Math.round(10*d.verno),O=!1;function L(){if(m.openCanceller!==E)throw new fe.DatabaseClosed("db.open() was cancelled")}function U(){return new Oe(function(ae,J){if(L(),!x)throw new fe.MissingAPI;var Z=d.name,X=m.autoSchema||!R?x.open(Z):x.open(Z,R);if(!X)throw new fe.MissingAPI;X.onerror=Lr(J),X.onblocked=vt(d._fireOnBlocked),X.onupgradeneeded=vt(function(se){var le;ne=X.transaction,m.autoSchema&&!d._options.allowEmptyDB?(X.onerror=Xa,ne.abort(),X.result.close(),(le=x.deleteDatabase(Z)).onsuccess=le.onerror=vt(function(){J(new fe.NoSuchDatabase("Database ".concat(Z," doesnt exist")))})):(ne.onerror=Lr(J),se=se.oldVersion>Math.pow(2,62)?0:se.oldVersion,V=se<1,d.idbdb=X.result,O&&TT(d,ne),CT(d,se/10,ne,J))},J),X.onsuccess=vt(function(){ne=null;var se,le,pe,ve,_e,Pe=d.idbdb=X.result,je=v(Pe.objectStoreNames);if(0<je.length)try{var Ce=Pe.transaction((ve=je).length===1?ve[0]:ve,"readonly");if(m.autoSchema)le=Pe,pe=Ce,(se=d).verno=le.version/10,pe=se._dbSchema=hc(0,le,pe),se._storeNames=v(le.objectStoreNames,0),cc(se,[se._allTables],o(pe),pe);else if(fc(d,d._dbSchema,Ce),((_e=hf(hc(0,(_e=d).idbdb,Ce),_e._dbSchema)).add.length||_e.change.some(function(Re){return Re.add.length||Re.change.length}))&&!O)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Pe.close(),R=Pe.version+1,O=!0,ae(U());uc(d,Ce)}catch{}Co.push(d),Pe.onversionchange=vt(function(Re){m.vcFired=!0,d.on("versionchange").fire(Re)}),Pe.onclose=vt(function(){d.close({disableAutoOpen:!1})}),V&&(_e=d._deps,Ce=Z,Pe=_e.indexedDB,_e=_e.IDBKeyRange,mf(Pe)||Ce===rc||pf(Pe,_e).put({name:Ce}).catch(Ve)),ae()},J)}).catch(function(ae){switch(ae==null?void 0:ae.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),U();break;case"VersionError":if(0<R)return R=0,U()}return Oe.reject(ae)})}var H,Y=m.dbReadyResolve,ne=null,V=!1;return Oe.race([E,(typeof navigator>"u"?Oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ae){function J(){return indexedDB.databases().finally(ae)}H=setInterval(J,100),J()}).finally(function(){return clearInterval(H)}):Promise.resolve()).then(U)]).then(function(){return L(),m.onReadyBeingFired=[],Oe.resolve(gf(function(){return d.on.ready.fire(d.vip)})).then(function ae(){if(0<m.onReadyBeingFired.length){var J=m.onReadyBeingFired.reduce(xe,Ve);return m.onReadyBeingFired=[],Oe.resolve(gf(function(){return J(d.vip)})).then(ae)}})}).finally(function(){m.openCanceller===E&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function(ae){m.dbOpenError=ae;try{ne&&ne.abort()}catch{}return E===m.openCanceller&&d._close(),Ot(ae)}).finally(function(){m.openComplete=!0,Y()}).then(function(){var ae;return V&&(ae={},d.tables.forEach(function(J){J.schema.indexes.forEach(function(Z){Z.name&&(ae["idb://".concat(d.name,"/").concat(J.name,"/").concat(Z.name)]=new ln(-1/0,[[[]]]))}),ae["idb://".concat(d.name,"/").concat(J.name,"/")]=ae["idb://".concat(d.name,"/").concat(J.name,"/:dels")]=new ln(-1/0,[[[]]])}),js(el).fire(ae),_f(ae,!0)),d})}function xf(d){function m(O){return d.next(O)}var x=R(m),E=R(function(O){return d.throw(O)});function R(O){return function(H){var U=O(H),H=U.value;return U.done?H:H&&typeof H.then=="function"?H.then(x,E):a(H)?Promise.all(H).then(x,E):x(H)}}return R(m)()}function yc(d,m,x){for(var E=a(d)?d.slice():[d],R=0;R<x;++R)E.push(m);return E}var AT={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return r(r({},d),{table:function(m){var x=d.table(m),E=x.schema,R={},O=[];function L(V,ae,J){var Z=nl(V),X=R[Z]=R[Z]||[],se=V==null?0:typeof V=="string"?1:V.length,le=0<ae,le=r(r({},J),{name:le?"".concat(Z,"(virtual-from:").concat(J.name,")"):J.name,lowLevelIndex:J,isVirtual:le,keyTail:ae,keyLength:se,extractKey:cf(V),unique:!le&&J.unique});return X.push(le),le.isPrimaryKey||O.push(le),1<se&&L(se===2?V[0]:V.slice(0,se-1),ae+1,J),X.sort(function(pe,ve){return pe.keyTail-ve.keyTail}),le}m=L(E.primaryKey.keyPath,0,E.primaryKey),R[":id"]=[m];for(var U=0,H=E.indexes;U<H.length;U++){var Y=H[U];L(Y.keyPath,0,Y)}function ne(V){var ae,J=V.query.index;return J.isVirtual?r(r({},V),{query:{index:J.lowLevelIndex,range:(ae=V.query.range,J=J.keyTail,{type:ae.type===1?2:ae.type,lower:yc(ae.lower,ae.lowerOpen?d.MAX_KEY:d.MIN_KEY,J),lowerOpen:!0,upper:yc(ae.upper,ae.upperOpen?d.MIN_KEY:d.MAX_KEY,J),upperOpen:!0})}}):V}return r(r({},x),{schema:r(r({},E),{primaryKey:m,indexes:O,getIndexByKeyPath:function(V){return(V=R[nl(V)])&&V[0]}}),count:function(V){return x.count(ne(V))},query:function(V){return x.query(ne(V))},openCursor:function(V){var ae=V.query.index,J=ae.keyTail,Z=ae.isVirtual,X=ae.keyLength;return Z?x.openCursor(ne(V)).then(function(le){return le&&se(le)}):x.openCursor(V);function se(le){return Object.create(le,{continue:{value:function(pe){pe!=null?le.continue(yc(pe,V.reverse?d.MAX_KEY:d.MIN_KEY,J)):V.unique?le.continue(le.key.slice(0,X).concat(V.reverse?d.MIN_KEY:d.MAX_KEY,J)):le.continue()}},continuePrimaryKey:{value:function(pe,ve){le.continuePrimaryKey(yc(pe,d.MAX_KEY,J),ve)}},primaryKey:{get:function(){return le.primaryKey}},key:{get:function(){var pe=le.key;return X===1?pe[0]:pe.slice(0,X)}},value:{get:function(){return le.value}}})}}})}})}};function kf(d,m,x,E){return x=x||{},E=E||"",o(d).forEach(function(R){var O,L,U;h(m,R)?(O=d[R],L=m[R],typeof O=="object"&&typeof L=="object"&&O&&L?(U=K(O))!==K(L)?x[E+R]=m[R]:U==="Object"?kf(O,L,x,E+R+"."):O!==L&&(x[E+R]=m[R]):O!==L&&(x[E+R]=m[R])):x[E+R]=void 0}),o(m).forEach(function(R){h(d,R)||(x[E+R]=m[R])}),x}function Sf(d,m){return m.type==="delete"?m.keys:m.keys||m.values.map(d.extractKey)}var jT={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return r(r({},d),{table:function(m){var x=d.table(m),E=x.schema.primaryKey;return r(r({},x),{mutate:function(R){var O=Le.trans,L=O.table(m).hook,U=L.deleting,H=L.creating,Y=L.updating;switch(R.type){case"add":if(H.fire===Ve)break;return O._promise("readwrite",function(){return ne(R)},!0);case"put":if(H.fire===Ve&&Y.fire===Ve)break;return O._promise("readwrite",function(){return ne(R)},!0);case"delete":if(U.fire===Ve)break;return O._promise("readwrite",function(){return ne(R)},!0);case"deleteRange":if(U.fire===Ve)break;return O._promise("readwrite",function(){return function V(ae,J,Z){return x.query({trans:ae,values:!1,query:{index:E,range:J},limit:Z}).then(function(X){var se=X.result;return ne({type:"delete",keys:se,trans:ae}).then(function(le){return 0<le.numFailures?Promise.reject(le.failures[0]):se.length<Z?{failures:[],numFailures:0,lastResult:void 0}:V(ae,r(r({},J),{lower:se[se.length-1],lowerOpen:!0}),Z)})})}(R.trans,R.range,1e4)},!0)}return x.mutate(R);function ne(V){var ae,J,Z,X=Le.trans,se=V.keys||Sf(E,V);if(!se)throw new Error("Keys missing");return(V=V.type==="add"||V.type==="put"?r(r({},V),{keys:se}):r({},V)).type!=="delete"&&(V.values=s([],V.values)),V.keys&&(V.keys=s([],V.keys)),ae=x,Z=se,((J=V).type==="add"?Promise.resolve([]):ae.getMany({trans:J.trans,keys:Z,cache:"immutable"})).then(function(le){var pe=se.map(function(ve,_e){var Pe,je,Ce,Re=le[_e],Ie={onerror:null,onsuccess:null};return V.type==="delete"?U.fire.call(Ie,ve,Re,X):V.type==="add"||Re===void 0?(Pe=H.fire.call(Ie,ve,V.values[_e],X),ve==null&&Pe!=null&&(V.keys[_e]=ve=Pe,E.outbound||j(V.values[_e],E.keyPath,ve))):(Pe=kf(Re,V.values[_e]),(je=Y.fire.call(Ie,Pe,ve,Re,X))&&(Ce=V.values[_e],Object.keys(je).forEach(function(Ae){h(Ce,Ae)?Ce[Ae]=je[Ae]:j(Ce,Ae,je[Ae])}))),Ie});return x.mutate(V).then(function(ve){for(var _e=ve.failures,Pe=ve.results,je=ve.numFailures,ve=ve.lastResult,Ce=0;Ce<se.length;++Ce){var Re=(Pe||se)[Ce],Ie=pe[Ce];Re==null?Ie.onerror&&Ie.onerror(_e[Ce]):Ie.onsuccess&&Ie.onsuccess(V.type==="put"&&le[Ce]?V.values[Ce]:Re)}return{failures:_e,results:Pe,numFailures:je,lastResult:ve}}).catch(function(ve){return pe.forEach(function(_e){return _e.onerror&&_e.onerror(ve)}),Promise.reject(ve)})})}}})}})}};function a0(d,m,x){try{if(!m||m.keys.length<d.length)return null;for(var E=[],R=0,O=0;R<m.keys.length&&O<d.length;++R)st(m.keys[R],d[O])===0&&(E.push(x?W(m.values[R]):m.values[R]),++O);return E.length===d.length?E:null}catch{return null}}var OT={stack:"dbcore",level:-1,create:function(d){return{table:function(m){var x=d.table(m);return r(r({},x),{getMany:function(E){if(!E.cache)return x.getMany(E);var R=a0(E.keys,E.trans._cache,E.cache==="clone");return R?Oe.resolve(R):x.getMany(E).then(function(O){return E.trans._cache={keys:E.keys,values:E.cache==="clone"?W(O):O},O})},mutate:function(E){return E.type!=="add"&&(E.trans._cache=null),x.mutate(E)}})}}}};function l0(d,m){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function u0(d,m){switch(d){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var IT={stack:"dbcore",level:0,name:"Observability",create:function(d){var m=d.schema.name,x=new ln(d.MIN_KEY,d.MAX_KEY);return r(r({},d),{transaction:function(E,R,O){if(Le.subscr&&R!=="readonly")throw new fe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Le.querier));return d.transaction(E,R,O)},table:function(E){var R=d.table(E),O=R.schema,L=O.primaryKey,V=O.indexes,U=L.extractKey,H=L.outbound,Y=L.autoIncrement&&V.filter(function(J){return J.compound&&J.keyPath.includes(L.keyPath)}),ne=r(r({},R),{mutate:function(J){function Z(Ae){return Ae="idb://".concat(m,"/").concat(E,"/").concat(Ae),ve[Ae]||(ve[Ae]=new ln)}var X,se,le,pe=J.trans,ve=J.mutatedParts||(J.mutatedParts={}),_e=Z(""),Pe=Z(":dels"),je=J.type,Ie=J.type==="deleteRange"?[J.range]:J.type==="delete"?[J.keys]:J.values.length<50?[Sf(L,J).filter(function(Ae){return Ae}),J.values]:[],Ce=Ie[0],Re=Ie[1],Ie=J.trans._cache;return a(Ce)?(_e.addKeys(Ce),(Ie=je==="delete"||Ce.length===Re.length?a0(Ce,Ie):null)||Pe.addKeys(Ce),(Ie||Re)&&(X=Z,se=Ie,le=Re,O.indexes.forEach(function(Ae){var Fe=X(Ae.name||"");function Ze(nt){return nt!=null?Ae.extractKey(nt):null}function et(nt){return Ae.multiEntry&&a(nt)?nt.forEach(function(Bn){return Fe.addKey(Bn)}):Fe.addKey(nt)}(se||le).forEach(function(nt,un){var Je=se&&Ze(se[un]),un=le&&Ze(le[un]);st(Je,un)!==0&&(Je!=null&&et(Je),un!=null&&et(un))})}))):Ce?(Re={from:(Re=Ce.lower)!==null&&Re!==void 0?Re:d.MIN_KEY,to:(Re=Ce.upper)!==null&&Re!==void 0?Re:d.MAX_KEY},Pe.add(Re),_e.add(Re)):(_e.add(x),Pe.add(x),O.indexes.forEach(function(Ae){return Z(Ae.name).add(x)})),R.mutate(J).then(function(Ae){return!Ce||J.type!=="add"&&J.type!=="put"||(_e.addKeys(Ae.results),Y&&Y.forEach(function(Fe){for(var Ze=J.values.map(function(Je){return Fe.extractKey(Je)}),et=Fe.keyPath.findIndex(function(Je){return Je===L.keyPath}),nt=0,Bn=Ae.results.length;nt<Bn;++nt)Ze[nt][et]=Ae.results[nt];Z(Fe.name).addKeys(Ze)})),pe.mutatedParts=mc(pe.mutatedParts||{},ve),Ae})}}),V=function(Z){var X=Z.query,Z=X.index,X=X.range;return[Z,new ln((Z=X.lower)!==null&&Z!==void 0?Z:d.MIN_KEY,(X=X.upper)!==null&&X!==void 0?X:d.MAX_KEY)]},ae={get:function(J){return[L,new ln(J.key)]},getMany:function(J){return[L,new ln().addKeys(J.keys)]},count:V,query:V,openCursor:V};return o(ae).forEach(function(J){ne[J]=function(Z){var X=Le.subscr,se=!!X,le=l0(Le,R)&&u0(J,Z)?Z.obsSet={}:X;if(se){var pe=function(Re){return Re="idb://".concat(m,"/").concat(E,"/").concat(Re),le[Re]||(le[Re]=new ln)},ve=pe(""),_e=pe(":dels"),X=ae[J](Z),se=X[0],X=X[1];if((J==="query"&&se.isPrimaryKey&&!Z.values?_e:pe(se.name||"")).add(X),!se.isPrimaryKey){if(J!=="count"){var Pe=J==="query"&&H&&Z.values&&R.query(r(r({},Z),{values:!1}));return R[J].apply(this,arguments).then(function(Re){if(J==="query"){if(H&&Z.values)return Pe.then(function(Ze){return Ze=Ze.result,ve.addKeys(Ze),Re});var Ie=Z.values?Re.result.map(U):Re.result;(Z.values?ve:_e).addKeys(Ie)}else if(J==="openCursor"){var Ae=Re,Fe=Z.values;return Ae&&Object.create(Ae,{key:{get:function(){return _e.addKey(Ae.primaryKey),Ae.key}},primaryKey:{get:function(){var Ze=Ae.primaryKey;return _e.addKey(Ze),Ze}},value:{get:function(){return Fe&&ve.addKey(Ae.primaryKey),Ae.value}}})}return Re})}_e.add(x)}}return R[J].apply(this,arguments)}}),ne}})}};function c0(d,m,x){if(x.numFailures===0)return m;if(m.type==="deleteRange")return null;var E=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return x.numFailures===E?null:(m=r({},m),a(m.keys)&&(m.keys=m.keys.filter(function(R,O){return!(O in x.failures)})),"values"in m&&a(m.values)&&(m.values=m.values.filter(function(R,O){return!(O in x.failures)})),m)}function Ef(d,m){return x=d,((E=m).lower===void 0||(E.lowerOpen?0<st(x,E.lower):0<=st(x,E.lower)))&&(d=d,(m=m).upper===void 0||(m.upperOpen?st(d,m.upper)<0:st(d,m.upper)<=0));var x,E}function d0(d,m,ae,E,R,O){if(!ae||ae.length===0)return d;var L=m.query.index,U=L.multiEntry,H=m.query.range,Y=E.schema.primaryKey.extractKey,ne=L.extractKey,V=(L.lowLevelIndex||L).extractKey,ae=ae.reduce(function(J,Z){var X=J,se=[];if(Z.type==="add"||Z.type==="put")for(var le=new ln,pe=Z.values.length-1;0<=pe;--pe){var ve,_e=Z.values[pe],Pe=Y(_e);le.hasKey(Pe)||(ve=ne(_e),(U&&a(ve)?ve.some(function(Ae){return Ef(Ae,H)}):Ef(ve,H))&&(le.addKey(Pe),se.push(_e)))}switch(Z.type){case"add":var je=new ln().addKeys(m.values?J.map(function(Fe){return Y(Fe)}):J),X=J.concat(m.values?se.filter(function(Fe){return Fe=Y(Fe),!je.hasKey(Fe)&&(je.addKey(Fe),!0)}):se.map(function(Fe){return Y(Fe)}).filter(function(Fe){return!je.hasKey(Fe)&&(je.addKey(Fe),!0)}));break;case"put":var Ce=new ln().addKeys(Z.values.map(function(Fe){return Y(Fe)}));X=J.filter(function(Fe){return!Ce.hasKey(m.values?Y(Fe):Fe)}).concat(m.values?se:se.map(function(Fe){return Y(Fe)}));break;case"delete":var Re=new ln().addKeys(Z.keys);X=J.filter(function(Fe){return!Re.hasKey(m.values?Y(Fe):Fe)});break;case"deleteRange":var Ie=Z.range;X=J.filter(function(Fe){return!Ef(Y(Fe),Ie)})}return X},d);return ae===d?d:(ae.sort(function(J,Z){return st(V(J),V(Z))||st(Y(J),Y(Z))}),m.limit&&m.limit<1/0&&(ae.length>m.limit?ae.length=m.limit:d.length===m.limit&&ae.length<m.limit&&(R.dirty=!0)),O?Object.freeze(ae):ae)}function h0(d,m){return st(d.lower,m.lower)===0&&st(d.upper,m.upper)===0&&!!d.lowerOpen==!!m.lowerOpen&&!!d.upperOpen==!!m.upperOpen}function DT(d,m){return function(x,E,R,O){if(x===void 0)return E!==void 0?-1:0;if(E===void 0)return 1;if((E=st(x,E))===0){if(R&&O)return 0;if(R)return 1;if(O)return-1}return E}(d.lower,m.lower,d.lowerOpen,m.lowerOpen)<=0&&0<=function(x,E,R,O){if(x===void 0)return E!==void 0?1:0;if(E===void 0)return-1;if((E=st(x,E))===0){if(R&&O)return 0;if(R)return-1;if(O)return 1}return E}(d.upper,m.upper,d.upperOpen,m.upperOpen)}function NT(d,m,x,E){d.subscribers.add(x),E.addEventListener("abort",function(){var R,O;d.subscribers.delete(x),d.subscribers.size===0&&(R=d,O=m,setTimeout(function(){R.subscribers.size===0&&ie(O,R)},3e3))})}var LT={stack:"dbcore",level:0,name:"Cache",create:function(d){var m=d.schema.name;return r(r({},d),{transaction:function(x,E,R){var O,L,U=d.transaction(x,E,R);return E==="readwrite"&&(L=(O=new AbortController).signal,R=function(H){return function(){if(O.abort(),E==="readwrite"){for(var Y=new Set,ne=0,V=x;ne<V.length;ne++){var ae=V[ne],J=Pi["idb://".concat(m,"/").concat(ae)];if(J){var Z=d.table(ae),X=J.optimisticOps.filter(function(Fe){return Fe.trans===U});if(U._explicit&&H&&U.mutatedParts)for(var se=0,le=Object.values(J.queries.query);se<le.length;se++)for(var pe=0,ve=(je=le[se]).slice();pe<ve.length;pe++)vf((Ce=ve[pe]).obsSet,U.mutatedParts)&&(ie(je,Ce),Ce.subscribers.forEach(function(Fe){return Y.add(Fe)}));else if(0<X.length){J.optimisticOps=J.optimisticOps.filter(function(Fe){return Fe.trans!==U});for(var _e=0,Pe=Object.values(J.queries.query);_e<Pe.length;_e++)for(var je,Ce,Re,Ie=0,Ae=(je=Pe[_e]).slice();Ie<Ae.length;Ie++)(Ce=Ae[Ie]).res!=null&&U.mutatedParts&&(H&&!Ce.dirty?(Re=Object.isFrozen(Ce.res),Re=d0(Ce.res,Ce.req,X,Z,Ce,Re),Ce.dirty?(ie(je,Ce),Ce.subscribers.forEach(function(Fe){return Y.add(Fe)})):Re!==Ce.res&&(Ce.res=Re,Ce.promise=Oe.resolve({result:Re}))):(Ce.dirty&&ie(je,Ce),Ce.subscribers.forEach(function(Fe){return Y.add(Fe)})))}}}Y.forEach(function(Fe){return Fe()})}}},U.addEventListener("abort",R(!1),{signal:L}),U.addEventListener("error",R(!1),{signal:L}),U.addEventListener("complete",R(!0),{signal:L})),U},table:function(x){var E=d.table(x),R=E.schema.primaryKey;return r(r({},E),{mutate:function(O){var L=Le.trans;if(R.outbound||L.db._options.cache==="disabled"||L.explicit||L.idbtrans.mode!=="readwrite")return E.mutate(O);var U=Pi["idb://".concat(m,"/").concat(x)];return U?(L=E.mutate(O),O.type!=="add"&&O.type!=="put"||!(50<=O.values.length||Sf(R,O).some(function(H){return H==null}))?(U.optimisticOps.push(O),O.mutatedParts&&gc(O.mutatedParts),L.then(function(H){0<H.numFailures&&(ie(U.optimisticOps,O),(H=c0(0,O,H))&&U.optimisticOps.push(H),O.mutatedParts&&gc(O.mutatedParts))}),L.catch(function(){ie(U.optimisticOps,O),O.mutatedParts&&gc(O.mutatedParts)})):L.then(function(H){var Y=c0(0,r(r({},O),{values:O.values.map(function(ne,V){var ae;return H.failures[V]?ne:(ne=(ae=R.keyPath)!==null&&ae!==void 0&&ae.includes(".")?W(ne):r({},ne),j(ne,R.keyPath,H.results[V]),ne)})}),H);U.optimisticOps.push(Y),queueMicrotask(function(){return O.mutatedParts&&gc(O.mutatedParts)})}),L):E.mutate(O)},query:function(O){if(!l0(Le,E)||!u0("query",O))return E.query(O);var L=((Y=Le.trans)===null||Y===void 0?void 0:Y.db._options.cache)==="immutable",V=Le,U=V.requery,H=V.signal,Y=function(Z,X,se,le){var pe=Pi["idb://".concat(Z,"/").concat(X)];if(!pe)return[];if(!(X=pe.queries[se]))return[null,!1,pe,null];var ve=X[(le.query?le.query.index.name:null)||""];if(!ve)return[null,!1,pe,null];switch(se){case"query":var _e=ve.find(function(Pe){return Pe.req.limit===le.limit&&Pe.req.values===le.values&&h0(Pe.req.query.range,le.query.range)});return _e?[_e,!0,pe,ve]:[ve.find(function(Pe){return("limit"in Pe.req?Pe.req.limit:1/0)>=le.limit&&(!le.values||Pe.req.values)&&DT(Pe.req.query.range,le.query.range)}),!1,pe,ve];case"count":return _e=ve.find(function(Pe){return h0(Pe.req.query.range,le.query.range)}),[_e,!!_e,pe,ve]}}(m,x,"query",O),ne=Y[0],V=Y[1],ae=Y[2],J=Y[3];return ne&&V?ne.obsSet=O.obsSet:(V=E.query(O).then(function(Z){var X=Z.result;if(ne&&(ne.res=X),L){for(var se=0,le=X.length;se<le;++se)Object.freeze(X[se]);Object.freeze(X)}else Z.result=W(X);return Z}).catch(function(Z){return J&&ne&&ie(J,ne),Promise.reject(Z)}),ne={obsSet:O.obsSet,promise:V,subscribers:new Set,type:"query",req:O,dirty:!1},J?J.push(ne):(J=[ne],(ae=ae||(Pi["idb://".concat(m,"/").concat(x)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[O.query.index.name||""]=J)),NT(ne,J,U,H),ne.promise.then(function(Z){return{result:d0(Z.result,O,ae==null?void 0:ae.optimisticOps,E,ne,L)}})}})}})}};function vc(d,m){return new Proxy(d,{get:function(x,E,R){return E==="db"?m:Reflect.get(x,E,R)}})}var ns=(It.prototype.version=function(d){if(isNaN(d)||d<.1)throw new fe.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new fe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var m=this._versions,x=m.filter(function(E){return E._cfg.version===d})[0];return x||(x=new this.Version(d),m.push(x),m.sort(ET),x.stores({}),this._state.autoSchema=!1,x)},It.prototype._whenReady=function(d){var m=this;return this.idbdb&&(this._state.openComplete||Le.letThrough||this._vip)?d():new Oe(function(x,E){if(m._state.openComplete)return E(new fe.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void E(new fe.DatabaseClosed);m.open().catch(Ve)}m._state.dbReadyPromise.then(x,E)}).then(d)},It.prototype.use=function(d){var m=d.stack,x=d.create,E=d.level,R=d.name;return R&&this.unuse({stack:m,name:R}),d=this._middlewares[m]||(this._middlewares[m]=[]),d.push({stack:m,create:x,level:E??10,name:R}),d.sort(function(O,L){return O.level-L.level}),this},It.prototype.unuse=function(d){var m=d.stack,x=d.name,E=d.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(R){return E?R.create!==E:!!x&&R.name!==x})),this},It.prototype.open=function(){var d=this;return Ei($t,function(){return RT(d)})},It.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var d=this._state,m=Co.indexOf(this);if(0<=m&&Co.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new Oe(function(x){d.dbReadyResolve=x}),d.openCanceller=new Oe(function(x,E){d.cancelOpen=E}))},It.prototype.close=function(x){var m=(x===void 0?{disableAutoOpen:!0}:x).disableAutoOpen,x=this._state;m?(x.isBeingOpened&&x.cancelOpen(new fe.DatabaseClosed),this._close(),x.autoOpen=!1,x.dbOpenError=new fe.DatabaseClosed):(this._close(),x.autoOpen=this._options.autoOpen||x.isBeingOpened,x.openComplete=!1,x.dbOpenError=null)},It.prototype.delete=function(d){var m=this;d===void 0&&(d={disableAutoOpen:!0});var x=0<arguments.length&&typeof arguments[0]!="object",E=this._state;return new Oe(function(R,O){function L(){m.close(d);var U=m._deps.indexedDB.deleteDatabase(m.name);U.onsuccess=vt(function(){var H,Y,ne;H=m._deps,Y=m.name,ne=H.indexedDB,H=H.IDBKeyRange,mf(ne)||Y===rc||pf(ne,H).delete(Y).catch(Ve),R()}),U.onerror=Lr(O),U.onblocked=m._fireOnBlocked}if(x)throw new fe.InvalidArgument("Invalid closeOptions argument to db.delete()");E.isBeingOpened?E.dbReadyPromise.then(L):L()})},It.prototype.backendDB=function(){return this.idbdb},It.prototype.isOpen=function(){return this.idbdb!==null},It.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},It.prototype.hasFailed=function(){return this._state.dbOpenError!==null},It.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(It.prototype,"tables",{get:function(){var d=this;return o(this._allTables).map(function(m){return d._allTables[m]})},enumerable:!1,configurable:!0}),It.prototype.transaction=function(){var d=(function(m,x,E){var R=arguments.length;if(R<2)throw new fe.InvalidArgument("Too few arguments");for(var O=new Array(R-1);--R;)O[R-1]=arguments[R];return E=O.pop(),[m,F(O),E]}).apply(this,arguments);return this._transaction.apply(this,d)},It.prototype._transaction=function(d,m,x){var E=this,R=Le.trans;R&&R.db===this&&d.indexOf("!")===-1||(R=null);var O,L,U=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(L=m.map(function(Y){if(Y=Y instanceof E.Table?Y.name:Y,typeof Y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Y}),d=="r"||d===nf)O=nf;else{if(d!="rw"&&d!=rf)throw new fe.InvalidArgument("Invalid transaction mode: "+d);O=rf}if(R){if(R.mode===nf&&O===rf){if(!U)throw new fe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");R=null}R&&L.forEach(function(Y){if(R&&R.storeNames.indexOf(Y)===-1){if(!U)throw new fe.SubTransaction("Table "+Y+" not included in parent transaction.");R=null}}),U&&R&&!R.active&&(R=null)}}catch(Y){return R?R._promise(null,function(ne,V){V(Y)}):Ot(Y)}var H=(function Y(ne,V,ae,J,Z){return Oe.resolve().then(function(){var X=Le.transless||Le,se=ne._createTransaction(V,ae,ne._dbSchema,J);if(se.explicit=!0,X={trans:se,transless:X},J)se.idbtrans=J.idbtrans;else try{se.create(),se.idbtrans._explicit=!0,ne._state.PR1398_maxLoop=3}catch(ve){return ve.name===De.InvalidState&&ne.isOpen()&&0<--ne._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ne.close({disableAutoOpen:!1}),ne.open().then(function(){return Y(ne,V,ae,null,Z)})):Ot(ve)}var le,pe=q(Z);return pe&&Eo(),X=Oe.follow(function(){var ve;(le=Z.call(se,se))&&(pe?(ve=Ps.bind(null,null),le.then(ve,ve)):typeof le.next=="function"&&typeof le.throw=="function"&&(le=xf(le)))},X),(le&&typeof le.then=="function"?Oe.resolve(le).then(function(ve){return se.active?ve:Ot(new fe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):X.then(function(){return le})).then(function(ve){return J&&se._resolve(),se._completion.then(function(){return ve})}).catch(function(ve){return se._reject(ve),Ot(ve)})})}).bind(null,this,O,L,R,x);return R?R._promise(O,H,"lock"):Le.trans?Ei(Le.transless,function(){return E._whenReady(H)}):this._whenReady(H)},It.prototype.table=function(d){if(!h(this._allTables,d))throw new fe.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},It);function It(d,m){var x=this;this._middlewares={},this.verno=0;var E=It.dependencies;this._options=m=r({addons:It.addons,autoOpen:!0,indexedDB:E.indexedDB,IDBKeyRange:E.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},E=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var R,O,L,U,H,Y={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ve,dbReadyPromise:null,cancelOpen:Ve,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};Y.dbReadyPromise=new Oe(function(V){Y.dbReadyResolve=V}),Y.openCanceller=new Oe(function(V,ae){Y.cancelOpen=ae}),this._state=Y,this.name=d,this.on=Ja(this,"populate","blocked","versionchange","close",{ready:[xe,Ve]}),this.once=function(V,ae){var J=function(){for(var Z=[],X=0;X<arguments.length;X++)Z[X]=arguments[X];x.on(V).unsubscribe(J),ae.apply(x,Z)};return x.on(V,J)},this.on.ready.subscribe=_(this.on.ready.subscribe,function(V){return function(ae,J){It.vip(function(){var Z,X=x._state;X.openComplete?(X.dbOpenError||Oe.resolve().then(ae),J&&V(ae)):X.onReadyBeingFired?(X.onReadyBeingFired.push(ae),J&&V(ae)):(V(ae),Z=x,J||V(function se(){Z.on.ready.unsubscribe(ae),Z.on.ready.unsubscribe(se)}))})}}),this.Collection=(R=this,Za(vT.prototype,function(le,se){this.db=R;var J=Uv,Z=null;if(se)try{J=se()}catch(pe){Z=pe}var X=le._ctx,se=X.table,le=se.hook.reading.fire;this._ctx={table:se,index:X.index,isPrimKey:!X.index||se.schema.primKey.keyPath&&X.index===se.schema.primKey.name,range:J,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Z,or:X.or,valueMapper:le!==at?le:null}})),this.Table=(O=this,Za(qv.prototype,function(V,ae,J){this.db=O,this._tx=J,this.name=V,this.schema=ae,this.hook=O._allTables[V]?O._allTables[V].hook:Ja(null,{creating:[ge,Ve],reading:[P,at],updating:[M,Ve],deleting:[B,Ve]})})),this.Transaction=(L=this,Za(_T.prototype,function(V,ae,J,Z,X){var se=this;V!=="readonly"&&ae.forEach(function(le){le=(le=J[le])===null||le===void 0?void 0:le.yProps,le&&(ae=ae.concat(le.map(function(pe){return pe.updatesTable})))}),this.db=L,this.mode=V,this.storeNames=ae,this.schema=J,this.chromeTransactionDurability=Z,this.idbtrans=null,this.on=Ja(this,"complete","error","abort"),this.parent=X||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Oe(function(le,pe){se._resolve=le,se._reject=pe}),this._completion.then(function(){se.active=!1,se.on.complete.fire()},function(le){var pe=se.active;return se.active=!1,se.on.error.fire(le),se.parent?se.parent._reject(le):pe&&se.idbtrans&&se.idbtrans.abort(),Ot(le)})})),this.Version=(U=this,Za(PT.prototype,function(V){this.db=U,this._cfg={version:V,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(H=this,Za(Zv.prototype,function(V,ae,J){if(this.db=H,this._ctx={table:V,index:ae===":id"?null:ae,or:J},this._cmp=this._ascending=st,this._descending=function(Z,X){return st(X,Z)},this._max=function(Z,X){return 0<st(Z,X)?Z:X},this._min=function(Z,X){return st(Z,X)<0?Z:X},this._IDBKeyRange=H._deps.IDBKeyRange,!this._IDBKeyRange)throw new fe.MissingAPI})),this.on("versionchange",function(V){0<V.newVersion?console.warn("Another connection wants to upgrade database '".concat(x.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(x.name,"'. Closing db now to resume the delete request.")),x.close({disableAutoOpen:!1})}),this.on("blocked",function(V){!V.newVersion||V.newVersion<V.oldVersion?console.warn("Dexie.delete('".concat(x.name,"') was blocked")):console.warn("Upgrade '".concat(x.name,"' blocked by other connection holding version ").concat(V.oldVersion/10))}),this._maxKey=tl(m.IDBKeyRange),this._createTransaction=function(V,ae,J,Z){return new x.Transaction(V,ae,J,x._options.chromeTransactionDurability,Z)},this._fireOnBlocked=function(V){x.on("blocked").fire(V),Co.filter(function(ae){return ae.name===x.name&&ae!==x&&!ae._state.vcFired}).map(function(ae){return ae.on("versionchange").fire(V)})},this.use(OT),this.use(LT),this.use(IT),this.use(AT),this.use(jT);var ne=new Proxy(this,{get:function(V,ae,J){if(ae==="_vip")return!0;if(ae==="table")return function(X){return vc(x.table(X),ne)};var Z=Reflect.get(V,ae,J);return Z instanceof qv?vc(Z,ne):ae==="tables"?Z.map(function(X){return vc(X,ne)}):ae==="_createTransaction"?function(){return vc(Z.apply(this,arguments),ne)}:Z}});this.vip=ne,E.forEach(function(V){return V(x)})}var wc,er=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",$T=(Cf.prototype.subscribe=function(d,m,x){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:m,complete:x})},Cf.prototype[er]=function(){return this},Cf);function Cf(d){this._subscribe=d}try{wc={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{wc={indexedDB:null,IDBKeyRange:null}}function f0(d){var m,x=!1,E=new $T(function(R){var O=q(d),L,U=!1,H={},Y={},ne={get closed(){return U},unsubscribe:function(){U||(U=!0,L&&L.abort(),V&&js.storagemutated.unsubscribe(J))}};R.start&&R.start(ne);var V=!1,ae=function(){return tf(Z)},J=function(X){mc(H,X),vf(Y,H)&&ae()},Z=function(){var X,se,le;!U&&wc.indexedDB&&(H={},X={},L&&L.abort(),L=new AbortController,le=function(pe){var ve=ko();try{O&&Eo();var _e=Ts(d,pe);return _e=O?_e.finally(Ps):_e}finally{ve&&So()}}(se={subscr:X,signal:L.signal,requery:ae,querier:d,trans:null}),Promise.resolve(le).then(function(pe){x=!0,m=pe,U||se.signal.aborted||(H={},function(ve){for(var _e in ve)if(h(ve,_e))return;return 1}(Y=X)||V||(js(el,J),V=!0),tf(function(){return!U&&R.next&&R.next(pe)}))},function(pe){x=!1,["DatabaseClosedError","AbortError"].includes(pe==null?void 0:pe.name)||U||tf(function(){U||R.error&&R.error(pe)})}))};return setTimeout(ae,0),ne});return E.hasValue=function(){return x},E.getValue=function(){return m},E}var Ri=ns;function Tf(d){var m=Os;try{Os=!0,js.storagemutated.fire(d),_f(d,!0)}finally{Os=m}}p(Ri,r(r({},We),{delete:function(d){return new Ri(d,{addons:[]}).delete()},exists:function(d){return new Ri(d,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return m=Ri.dependencies,x=m.indexedDB,m=m.IDBKeyRange,(mf(x)?Promise.resolve(x.databases()).then(function(E){return E.map(function(R){return R.name}).filter(function(R){return R!==rc})}):pf(x,m).toCollection().primaryKeys()).then(d)}catch{return Ot(new fe.MissingAPI)}var m,x},defineClass:function(){return function(d){l(this,d)}},ignoreTransaction:function(d){return Le.trans?Ei(Le.transless,d):d()},vip:gf,async:function(d){return function(){try{var m=xf(d.apply(this,arguments));return m&&typeof m.then=="function"?m:Oe.resolve(m)}catch(x){return Ot(x)}}},spawn:function(d,m,x){try{var E=xf(d.apply(x,m||[]));return E&&typeof E.then=="function"?E:Oe.resolve(E)}catch(R){return Ot(R)}},currentTransaction:{get:function(){return Le.trans||null}},waitFor:function(d,m){return m=Oe.resolve(typeof d=="function"?Ri.ignoreTransaction(d):d).timeout(m||6e4),Le.trans?Le.trans.waitFor(m):m},Promise:Oe,debug:{get:function(){return be},set:function(d){ue(d)}},derive:y,extend:l,props:p,override:_,Events:Ja,on:js,liveQuery:f0,extendObservabilitySet:mc,getByKeyPath:I,setByKeyPath:j,delByKeyPath:function(d,m){typeof m=="string"?j(d,m,void 0):"length"in m&&[].map.call(m,function(x){j(d,x,void 0)})},shallowClone:D,deepClone:W,getObjectDiff:kf,cmp:st,asap:A,minKey:-1/0,addons:[],connections:Co,errnames:De,dependencies:wc,cache:Pi,semVer:"4.2.1",version:"4.2.1".split(".").map(function(d){return parseInt(d)}).reduce(function(d,m,x){return d+m/Math.pow(10,2*x)})})),Ri.maxKey=tl(Ri.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(js(el,function(d){Os||(d=new CustomEvent(af,{detail:d}),Os=!0,dispatchEvent(d),Os=!1)}),addEventListener(af,function(d){d=d.detail,Os||Tf(d)}));var Ao,Os=!1,p0=function(){};return typeof BroadcastChannel<"u"&&((p0=function(){(Ao=new BroadcastChannel(af)).onmessage=function(d){return d.data&&Tf(d.data)}})(),typeof Ao.unref=="function"&&Ao.unref(),js(el,function(d){Os||Ao.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!ns.disableBfCache&&d.persisted){be&&console.debug("Dexie: handling persisted pagehide"),Ao!=null&&Ao.close();for(var m=0,x=Co;m<x.length;m++)x[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!ns.disableBfCache&&d.persisted&&(be&&console.debug("Dexie: handling persisted pageshow"),p0(),Tf({all:new ln(-1/0,[[]])}))})),Oe.rejectionMapper=function(d,m){return!d||d instanceof z||d instanceof TypeError||d instanceof SyntaxError||!d.name||!Ge[d.name]?d:(m=new Ge[d.name](m||d.message,d),"stack"in d&&w(m,"stack",{get:function(){return this.inner.stack}}),m)},ue(be),r(ns,Object.freeze({__proto__:null,Dexie:ns,liveQuery:f0,Entity:zv,cmp:st,PropModification:Qa,replacePrefix:function(d,m){return new Qa({replacePrefix:[d,m]})},add:function(d){return new Qa({add:d})},remove:function(d){return new Qa({remove:d})},default:ns,RangeSet:ln,mergeRanges:sl,rangesOverlap:r0}),{default:ns}),ns})})(k1);var dD=k1.exports;const tg=Au(dD),ab=Symbol.for("Dexie"),Oa=globalThis[ab]||(globalThis[ab]=tg);if(tg.semVer!==Oa.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${tg.semVer} and ${Oa.semVer}`);const{liveQuery:OU,mergeRanges:IU,rangesOverlap:DU,RangeSet:NU,cmp:LU,Entity:$U,PropModification:MU,replacePrefix:FU,add:BU,remove:UU,DexieYProvider:zU}=Oa;function hD(e,t,n){var r,s;typeof e=="function"?(r=t||[],s=n):(r=[],s=t);var i=Ke.useRef({hasResult:!1,result:s,error:null}),o=Ke.useReducer(function(u){return u+1},0);o[0];var a=o[1],l=Ke.useMemo(function(){var u=typeof e=="function"?e():e;if(!u||typeof u.subscribe!="function")throw e===u?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!i.current.hasResult&&typeof window<"u"&&(typeof u.hasValue!="function"||u.hasValue()))if(typeof u.getValue=="function")i.current.result=u.getValue(),i.current.hasResult=!0;else{var c=u.subscribe(function(h){i.current.result=h,i.current.hasResult=!0});typeof c=="function"?c():c.unsubscribe()}return u},r);if(Ke.useDebugValue(i.current.result),Ke.useEffect(function(){var u=l.subscribe(function(c){var h=i.current;(h.error!==null||h.result!==c)&&(h.error=null,h.result=c,h.hasResult=!0,a())},function(c){var h=i.current;h.error!==c&&(h.error=c,a())});return typeof u=="function"?u:u.unsubscribe.bind(u)},r),i.current.error)throw i.current.error;return i.current.result}function fD(e,t,n){return hD(function(){return Oa.liveQuery(e)},[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=Oa.DexieYProvider;t&&t.release(e)});class S1 extends Oa{constructor(){super("SankeertanDB");il(this,"categories");il(this,"songIndices");il(this,"songDetails");il(this,"books");this.version(1).stores({categories:"++id",songIndices:"++insertionId, &[bookId+songTitle], bookId",songDetails:"[bookId+songTitle], bookId",books:"bookId, categoryId"})}}let pd=null;function Lt(){return pd===null&&(pd=new S1,console.log("Database initialized or re-initialized.")),pd}pd=new S1;async function Dh(e){try{const n=await Lt().songIndices.where("bookId").equals(e).sortBy("insertionId");return n.length>0?n:void 0}catch(t){console.error(`Error retrieving song indices for book ${e} from DB:`,t);return}}async function Hy(e,t){try{const n=Lt();await n.songIndices.where("bookId").equals(e).delete();const r=t.map(s=>({...s,bookId:e,tags:s.tags||[]}));await n.songIndices.bulkAdd(r)}catch(n){console.error(`Error saving song indices for book ${e} to DB:`,n)}}const Wa=async e=>{try{return await Lt().songIndices.where("bookId").equals(e).count()>0}catch(t){return console.error(`Error checking song indices cache status for book ${e} from DB:`,t),!1}};async function pD(e){try{const n=await Lt().songIndices.where("bookId").equals(e).delete();console.log(`Successfully deleted ${n} song index records for book: ${e}`)}catch(t){console.error(`Error deleting song indices for book ${e} from DB:`,t)}}async function mD(e){try{return await Lt().songIndices.where("bookId").equals(e).count()}catch(t){return console.error(`Error counting song indices for book ${e}:`,t),0}}async function Nh(e,t){try{const n=[e,t];return await Lt().songDetails.where("[bookId+songTitle]").equals(n).count()>0}catch(n){return console.error(`Error checking download status for ${t} in ${e}:`,n),!1}}async function E1(e,t){try{const n=Lt(),r=[e,t];return await n.songDetails.where("[bookId+songTitle]").equals(r).first()}catch(n){console.error(`Error retrieving song detail for ${t} in ${e} from DB:`,n);return}}const C1=(e,t)=>`${e}-${encodeURIComponent(t)}`;async function T1(e){const t=C1(e.bookId,e.songTitle);try{const n={cacheId:t,...e};await Lt().songDetails.put(n)}catch(n){throw console.error(`Error saving song detail for ${t} to DB:`,n),n}}async function gD(e,t){try{const n=Lt(),r=[e,t];await n.songDetails.delete(r)}catch(n){console.error(`Error deleting song detail for ${t} in ${e} from DB:`,n)}}async function P1(e){try{return await Lt().songDetails.where("bookId").equals(e).count()}catch(t){return console.error(`Error counting downloaded songs for book ${e} from DB:`,t),0}}async function R1(e){try{const t=Lt(),n=await t.songDetails.where("bookId").equals(e).delete(),r=await t.songIndices.where("bookId").equals(e).delete();console.log(`Successfully deleted cached book data for ${e}. 
                 Details removed: ${n}, Indices removed: ${r}`)}catch(t){console.error(`Error deleting all book data for book ${e} from DB:`,t)}}async function yD(e){try{await Lt().songDetails.bulkPut(e)}catch(t){throw console.error("Error bulk saving song details:",t),t}}async function vD(e){try{await Lt().songIndices.bulkPut(e)}catch(t){throw console.error("Error bulk saving song indices:",t),t}}function wD(e){const t=[];return e.forEach(n=>{const r=n.id;n.books&&Array.isArray(n.books)&&n.books.forEach(s=>{const i={...s,categoryId:r};t.push(i)})}),t}async function bD(e){const t=Lt(),n=wD(e);if(n.length===0){console.warn("No books found after transformation. Skipping 'books' table refresh.");return}try{await t.transaction("rw",t.books,async()=>{await t.books.clear(),await t.books.bulkPut(n)}),console.log(`Successfully saved ${n.length} books to the 'books' table.`)}catch(r){console.error("Error saving books to DB:",r)}}async function Zd(e){try{return await Lt().books.get(e)}catch(t){console.error(`Error retrieving metadata for book ${e}:`,t);return}}async function A1(e){try{const t=await Zd(e);if(!t)return!1;const n=Number(t.songCount)||0;if(n===0)return!1;const[r,s]=await Promise.all([Wa(e),P1(e)]);return r&&s>=n}catch(t){return console.error(`Error checking download status for book ${e}:`,t),!1}}async function _D(){try{const n=(await Lt().books.toArray()).map(async s=>({bookId:s.bookId,isDownloaded:await A1(s.bookId)}));return(await Promise.all(n)).filter(s=>s.isDownloaded).map(s=>s.bookId)}catch(e){return console.error("Error getting all fully downloaded book IDs:",e),[]}}async function xD(e){try{const t=Lt(),n=await t.songIndices.where("bookId").equals(e).toArray(),r=await t.songDetails.where("bookId").equals(e).toArray();return!n.length&&!r.length?null:{bookId:e,songIndices:n,songDetails:r}}catch(t){return console.error(`Error exporting full book structure for ${e}:`,t),null}}async function kD(e){try{const t=Lt();await t.categories.clear(),await t.categories.bulkAdd(e),await bD(e),console.log("Categories saved successfully.")}catch(t){console.error("Error saving categories to DB:",t)}}const hp=new Map;async function SD(e,t,n,r){const{sourceRow:s,songTitle:i}=t,o=C1(e,i);if(await Nh(e,i))return;const l=hp.get(o);if(l)return l;const u=String(s),c=Number(s),h=(async()=>{if(!e||!i||isNaN(c)||c<0)throw new Error(`Missing or invalid critical song parameters for fetching: Book ID: ${e}, Title: ${i}, Row: ${s}, User: ${n}`);try{const p=await r({bookId:e,sourceRow:u,songTitle:i,sessionuser:n});if(p.length<3)throw new Error("API response is incomplete. Expected [songData, metadata, sourceLanguage].");const[f,w,y,b]=p;await T1({bookId:e,songTitle:i,sourceRow:u,indexPosition:b,songData:f,metadata:w,sourceLanguage:y})}catch(p){throw console.error(`Failed to download and cache song ${i} in book ${e}:`,p),p}})();hp.set(o,h);try{await h}finally{hp.delete(o)}}async function lb(e){const t=e.map(async s=>{const i=s.bookId,o=s.songCount||0,[a,l,u]=await Promise.all([Wa(i),P1(i),mD(i)]);let c=0;a&&u>0?c=u:c=Number(o)||0;const h=c>0?l:0;return{bookId:i,status:{totalSongs:c,downloadedSongs:h,downloadingSongs:{},isIndexDownloaded:a}}}),n=await Promise.all(t),r={};return n.forEach(s=>{r[s.bookId]=s.status}),r}const ED=async e=>{const t=new URL(`${bi}`);t.searchParams.append("mode","api"),t.searchParams.append("apiname","getcategoriesandbooks"),t.searchParams.append("sessionuser",e??"dummyfornow");const n=await fetch(t.toString());if(!n.ok){const i=await n.json().catch(()=>({message:"No detailed error message"}));throw new Error(`Failed to fetch categories and books: ${n.status} - ${JSON.stringify(i)}`)}const r=await n.json();return Object.keys(r).filter(i=>i!=="books").map(i=>({name:i,bookCount:Array.isArray(r[i])?r[i].length:0,books:Array.isArray(r[i])?r[i].map(o=>({bookId:o["Book Id"],bookName:o["Book Name"],Type:o.Type,songCount:o["Song Count"],verseCount:o["Verse Count"],author:o.author,language:o.language,isFullBookDownloadable:o.isFullBookDownloadable==="true"||o.isFullBookDownloadable===!0,isBookSourceSupabase:o.isBookSourceSupabase==="true"||o.isBookSourceSupabase===!0})):[],id:i.toLowerCase().replace(/ /g,"-"),image:`https://placehold.co/800/orange/black?text=${encodeURIComponent(i)}&font=lora`}))},j1=S.createContext({categories:[],isLoading:!1,isFetching:!1,error:null,refresh:()=>{}}),CD=Lt(),TD=({children:e})=>{var u;const{session:t}=xi(),n=(u=t==null?void 0:t.user)==null?void 0:u.email,r=fD(()=>CD.categories.toArray());S.useEffect(()=>{console.log("CategoryContext: Dexie categories loaded:",r==null?void 0:r.length)},[r]);const{isLoading:s,isFetching:i,error:o,data:a,refetch:l}=Ih({queryKey:["categories",n],queryFn:()=>ED(n??null),enabled:!!n&&r!==void 0&&r.length===0,networkMode:"always",staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1});return S.useEffect(()=>{a&&(console.log("CategoryContext: Fetched new categories from API, saving to Dexie..."),kD(a).catch(c=>console.error("Failed to sync categories to Dexie:",c)))},[a]),k.jsx(j1.Provider,{value:{categories:r??[],isLoading:r===void 0||((r==null?void 0:r.length)??0)===0&&s,isFetching:i,error:o,refresh:l},children:e})},Lh=()=>S.useContext(j1),ub=e=>{const[t,n]=S.useState(!1);return S.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;const r=window.matchMedia(e),s=i=>n(i.matches);return n(r.matches),r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}},[e]),t},O1=()=>{const e=Jn();return{handleSignOut:async()=>{const{error:n}=await zt.auth.signOut();n?console.error("Error signing out:",n):(console.log("User signed out successfully. Navigating to /login."),e("/login"))}}},PD=Lt();function RD(){const[e,t]=S.useState(!1),{categories:n,isLoading:r,isFetching:s,error:i,refresh:o}=Lh(),a=Jn(),[l,u]=S.useState([]),c=ub("(max-width: 600px) and (orientation: portrait)"),h=ub("(max-width: 900px) and (orientation: landscape)"),{session:p}=xi(),{handleSignOut:f}=O1();S.useEffect(()=>{n&&u((D=>{const $=[],F=360/D;for(let de=0;de<D;de++){const N=de*F;$.push(`hsl(${N}, 70%, 60%)`)}return $})(n.length))},[n==null?void 0:n.length]);const w=async()=>{console.log("Categories & Books -> Triggering manual refresh from server..."),o()},y=S.useCallback(async()=>{t(!1);try{console.warn("[DB ACTION] Attempting to delete entire database..."),await PD.delete(),await f()}catch(j){console.error("[DB ERROR] Could not delete the database:",j)}},[f]),b=S.useCallback(j=>{j.stopPropagation(),t(!0)},[]);if(r||s)return k.jsx("div",{children:"Loading categories..."});if(i instanceof Error)return k.jsxs("div",{children:["Error loading categories: ",i.message]});const g=(j,D)=>{j.stopPropagation(),a(`/books/${D}`)},v={container:{maxWidth:"1000px",margin:"0 auto",padding:"20px",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",backgroundColor:"#f5f7fa",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)"},heading:{textAlign:"center",color:"#2c3e50",marginBottom:"25px",fontSize:"32px",fontWeight:"700",paddingBottom:"15px",borderBottom:"2px solid #eaeaea",display:"flex",justifyContent:"space-between",alignItems:"center"},categoryGrid:{display:"grid",gap:"20px"},categoryItem:{borderRadius:"12px",padding:"20px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)",border:"1px solid #eaeaea",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},categoryIcon:{marginRight:"15px",width:"50px",height:"50px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"white",flexShrink:"0",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},categoryName:{fontWeight:"600",color:"#2c3e50",fontSize:"18px"},actionButton:{border:"none",background:"none",cursor:"pointer",fontSize:"1.5rem",padding:"5px",borderRadius:"5px",transition:"background-color 0.2s",color:"#666",lineHeight:"1.5rem"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modalContent:{backgroundColor:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)",maxWidth:"400px",textAlign:"center"},buttonGroup:{display:"flex",justifyContent:"space-around",marginTop:"20px"}};let _;c?_="repeat(2, 1fr)":h?_="repeat(3, 1fr)":_="repeat(auto-fill, minmax(280px, 1fr))";const T={...v.categoryGrid,gridTemplateColumns:_},A=n==null?void 0:n.filter(j=>{var D;return(D=j.books)==null?void 0:D.some($=>$.Type==="book")}),I=()=>e?k.jsx("div",{style:v.modalOverlay,children:k.jsxs("div",{style:v.modalContent,children:[k.jsx("h3",{className:"text-xl font-bold mb-3 text-red-600",children:" Confirm Permanent Deletion"}),k.jsx("p",{className:"text-gray-700",children:"Are you absolutely sure you want to delete **ALL** stored data (Categories, Books, Songs)? This action cannot be undone."}),k.jsxs("div",{style:v.buttonGroup,children:[k.jsx("button",{onClick:y,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-150",children:"Yes, Delete Everything"}),k.jsx("button",{onClick:()=>t(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg shadow-md transition duration-150",children:"Cancel"})]})]})}):null;return k.jsxs("div",{style:v.container,children:[k.jsxs("h2",{style:v.heading,children:[k.jsx("span",{style:{marginRight:"auto"},children:"Book Categories"}),k.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[k.jsx("button",{onClick:w,style:{...v.actionButton,color:"#3498db",marginRight:"10px"},title:"Reload",children:""}),k.jsx("button",{onClick:b,style:{...v.actionButton,color:"#e74c3c"},title:"Delete ALL Data",children:""})]})]}),k.jsx("div",{style:T,children:A==null?void 0:A.map((j,D)=>k.jsxs("div",{onClick:$=>g($,j.id),style:{...v.categoryItem,backgroundColor:D%2===0?"#f8f9fa":"#ffffff",borderLeft:`5px solid ${l[D]||"#3498db"}`},className:"category-item",children:[k.jsx("div",{style:{...v.categoryIcon,backgroundColor:l[D]||"#3498db"},children:""}),k.jsx("span",{style:v.categoryName,children:j.name})]},j.id))}),k.jsx("style",{children:`
                    .category-item:hover {
                        transform: translateY(-5px);
                        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
                        border-color: #3498db;
                    }
                `}),k.jsx(I,{})]})}const AD=S.createContext({isOfflineMode:!1,setIsOfflineMode:()=>{},isEffectivelyOffline:!1}),qy=()=>S.useContext(AD);console.log("DownloadStatusProvider Function Running!");const cb={},I1=S.createContext(void 0),jD=({children:e,books:t})=>{const n=S.useMemo(()=>t.reduce((b,g)=>(b[g.bookId]={totalSongs:g.songCount||0,downloadedSongs:0,downloadingSongs:{},isIndexDownloaded:!1},b),{}),[t]),[r,s]=S.useState(n),[i,o]=S.useState(!1);S.useEffect(()=>{if(!t||t.length===0){s({}),o(!0);return}(async()=>{try{const g=await lb(t),v={};for(const _ of t){const T=_.bookId,A=g[T]||{},I=await Wa(T);v[T]={totalSongs:_.songCount||A.totalSongs||0,downloadedSongs:A.downloadedSongs||0,isIndexDownloaded:I,downloadingSongs:{}}}s(v),o(!0)}catch(g){console.error("Failed to load or initialize download status:",g),s({}),o(!0)}})()},[t]);const a=S.useMemo(()=>t.map(b=>b.bookId).join(","),[t]);S.useEffect(()=>{if(!t||t.length===0){s(cb);return}(async()=>{try{const g=await lb(t);s(g)}catch(g){console.error("Failed to load initial download status from DB:",g),s(cb)}})()},[a,t]);const l=S.useCallback((b,g)=>{s(v=>({...v,[b]:{...v[b],totalSongs:g}}))},[]),u=S.useCallback((b,g)=>{s(v=>({...v,[b]:{...v[b],downloadedSongs:g}}))},[]),c=S.useCallback((b,g)=>{s(v=>({...v,[b]:{...v[b],isIndexDownloaded:g}}))},[]),h=S.useCallback((b,g)=>{s(v=>{var _;return{...v,[b]:{...v[b],downloadingSongs:{...(_=v[b])==null?void 0:_.downloadingSongs,[g]:!0}}}})},[]),p=S.useCallback((b,g)=>{s(v=>{const _=v[b];if(!_)return v;const T={..._.downloadingSongs};return delete T[g],{...v,[b]:{..._,downloadedSongs:(_.downloadedSongs||0)+1,downloadingSongs:T}}})},[]),f=S.useCallback((b,g,v)=>{s(_=>{const T=_[b]||{},A=T.downloadedSongs||0;return{..._,[b]:{...T,totalSongs:g,downloadedSongs:A,downloadingSongs:v}}})},[]),w=S.useCallback(b=>{s(g=>{const v=g[b];return v?{...g,[b]:{...v,downloadedSongs:v.totalSongs,downloadingSongs:{}}}:g})},[]),y={downloadStatus:r,updateDownloadProgress:l,updateDownloadedCount:u,markSongAsDownloading:h,markSongAsDownloaded:p,updateIndexStatus:c,markBookDownloadStart:f,markBookDownloadComplete:w,isLoaded:i};return k.jsx(I1.Provider,{value:y,children:e})},Gy=()=>{const e=S.useContext(I1);if(!e)throw new Error("useDownloadStatus must be used within a DownloadStatusProvider");return e},OD=3e3,ID=1,DD=5,Yy=async({bookId:e,sourceRow:t,songTitle:n,sessionuser:r})=>{if(!e||!t)throw new Error("bookId or sourceRow is not defined. Cannot fetch songDetails");const s=new URL(bi);s.searchParams.append("mode","api"),s.searchParams.append("apiname","getsongtextforsong"),s.searchParams.append("book",e),s.searchParams.append("sourcerow",t),s.searchParams.append("songtitle",n),r&&s.searchParams.append("sessionuser",r);const i=await fetch(s.toString());if(!i.ok){const o=await i.json();throw new Error(`Failed to fetch song details for book ${e}+row ${t}: ${i.status} - ${JSON.stringify(o)}`)}return await i.json()},ND=async({bookId:e,songTitle:t,text:n,sessionuser:r})=>{const s=new URL(bi);s.searchParams.append("mode","api"),s.searchParams.append("apiname","savesongtextfromui"),s.searchParams.append("book",e),s.searchParams.append("songtitle",t),r&&s.searchParams.append("sessionuser",r);const i=await fetch(s.toString(),{method:"POST",body:JSON.stringify({text:n})});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(`Failed to save song text: ${i.status} - ${JSON.stringify(o)}`)}return await i.json()},LD=(e,t,n)=>{const{downloadStatus:r,markSongAsDownloaded:s,markBookDownloadStart:i,markBookDownloadComplete:o}=Gy(),a=S.useCallback(c=>{const h=r[c];if(!h)return!1;const p=h.downloadingSongs??{};return Object.keys(p).length>0},[r]),l=S.useMemo(()=>Object.values(r).some(c=>Object.keys(c.downloadingSongs??{}).length>0),[r]),u=S.useCallback(async(c,h)=>{if(a(c))return 0;let p=[],f=0;if(await Wa(c)){const v=await Dh(c);v&&Array.isArray(v)&&(p=v.map(_=>({sourceRow:_.sourceRow,songTitle:_.songTitle,tags:_.tags})),f=p.length)}else try{const v=new URL(bi);v.searchParams.append("mode","api"),v.searchParams.append("apiname","getsongsforbook"),v.searchParams.append("book",c),h&&v.searchParams.append("sessionuser",h);const _=await fetch(v.toString());if(!_.ok){const I=await _.json();throw new Error(`Failed to fetch song indices: ${_.status} - ${JSON.stringify(I)}`)}const A=(await _.json()).map(I=>({...I,sourceRow:typeof I.sourceRow=="string"?parseInt(I.sourceRow,10):I.sourceRow,tags:I.tags??void 0}));p=A,f=p.length,await Hy(c,A)}catch{return 0}if(p.length===0)return 0;const w=[];for(const v of p)await Nh(c,v.songTitle)?s(c,v.songTitle):w.push(v);const y=w.slice(0,DD),b={};for(const v of y)b[v.songTitle]="pending";i(c,f,b);let g=0;for(const v of y)try{g>=ID&&(await new Promise(_=>setTimeout(_,OD)),g=0),await SD(c,v,h??null,Yy),s(c,v.songTitle),g++}catch{}return f},[e,t,n,a,s,i]);return{isDownloadingBook:a,downloadAllSongsForBook:u,isAnyBookDownloading:l}},br={container:{fontFamily:"sans-serif",fontSize:"14px",color:"#555",marginBottom:"20px"},link:{color:"#007bff",textDecoration:"none",transition:"color 0.2s ease-in-out"},separator:{margin:"0 5px",color:"#999"},currentPage:{fontWeight:"bold",color:"#333",cursor:"default",textDecoration:"none"}},Qy=()=>{const e=Qn(),{categoryId:t,bookId:n,songTitle:r}=Ua(),s=r?decodeURIComponent(r):"",[i,o]=Ke.useState(!1),a={...br.link,color:i?"#0056b3":"#007bff",textDecoration:i?"underline":"none"},l=k.jsx(Vn,{to:"/",style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:"Home"}),u=(c,h)=>c?c.length>h?c.substring(0,h)+"...":c:"";return e.pathname.startsWith("/books/")?k.jsxs("div",{style:br.container,children:[l,k.jsx("span",{style:br.separator,children:">"}),k.jsx("span",{title:t,children:u(t,20)})]}):e.pathname.startsWith("/book/")?k.jsxs("div",{style:br.container,children:[l,k.jsx("span",{style:br.separator,children:">"}),k.jsx(Vn,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),title:t,children:u(t,20)}),k.jsx("span",{style:br.separator,children:">"}),k.jsx("span",{title:n,children:u(n,25)})]}):e.pathname.startsWith("/details/book/")?k.jsxs("div",{style:br.container,children:[l,k.jsx("span",{style:br.separator,children:">"}),k.jsx(Vn,{to:`/books/${t}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),title:t,children:u(t,20)}),k.jsx("span",{style:br.separator,children:">"}),k.jsx(Vn,{to:`/book/${t}/${n}`,style:a,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),title:n,children:u(n,25)}),k.jsx("span",{style:br.separator,children:">"}),k.jsx("span",{style:br.currentPage,title:s,children:u(s,40)})]}):null},D1=S.createContext({preferredLanguage:"devanagari",setPreferredLanguage:()=>{}}),N1=({children:e})=>{const t=localStorage.getItem("preferredLanguage"),[n,r]=S.useState(t||"devanagari");return S.useEffect(()=>{localStorage.setItem("preferredLanguage",n)},[n]),k.jsx(D1.Provider,{value:{preferredLanguage:n,setPreferredLanguage:r},children:e})},_o=()=>S.useContext(D1);async function L1(e,t){const n=[];let r=0;for(;r<e.length;){const s=e.slice(r,r+t),i=await Promise.all(s.map(o=>o()));n.push(...i),r+=t}return n}const db=3,$D=10;async function MD(e,t,n,r,s){const i=n||new Set,o=FD(r,e);if(o.length>0){const a=o.slice(0,$D);console.log(`[RECURSION START] Found ${o.length} linked books in ${e}. Queuing ${a.length} for batched download...`);const l=a.filter(u=>!i.has(u)).map(u=>()=>s(u,t,n));l.length>0?(console.log(`[BATCH EXECUTION] Queued ${l.length} unique downloads with batch size ${db}.`),await L1(l,db),console.log(`[RECURSION COMPLETE] All batched linked books for ${e} have been processed.`)):console.log(`[RECURSION SKIP] All queued linked books in ${e} are already being processed or downloaded.`)}}function FD(e,t){return e.filter(s=>s.type==="link"&&s.link).map(s=>{try{return JSON.parse(s.link).bookId}catch(i){return console.error("Failed to parse link JSON:",s.link,i),null}}).filter(s=>s!==null).filter((s,i,o)=>s!==t&&o.indexOf(s)===i)}async function $1(e,t,n=new Set,r){if(!e)return 0;if(n.has(e))return console.warn(`[SKIP] Book ${e} is already in the download chain. Skipping.`),0;const s=await Zd(e);if(!s||!s.isFullBookDownloadable)return console.warn(`[SKIP] Book ${e} is not configured as full-book downloadable. Skipping.`),0;if(await A1(e))return console.log(`[SKIP] Book ${e} is already fully downloaded (from Dexie check). Skipping.`),0;n.add(e),console.log(`[DOWNLOAD START] Initiating bulk download for book ID: ${e}`);const i=new URL(bi);i.searchParams.append("mode","api"),i.searchParams.append("apiname","getentirebookasjson"),i.searchParams.append("book",e),i.searchParams.append("sessionuser",t??"dummyfornow"),console.log(`[FETCH] URL for ${e}: ${i.toString()}`);try{const o=await fetch(i.toString());if(!o.ok){let c={};try{c=await o.json()}catch{c={message:"No detailed error message, raw response status error."}}throw new Error(`Failed to fetch content for book ${e}: ${o.status} - ${JSON.stringify(c)}`)}const a=await o.json(),{songIndices:l,songDetails:u}=a;return!u||u.length===0?(console.log(`[DOWNLOAD] No song details found for book: ${e}. Returning 0.`),0):(await yD(u),await vD(l),console.log(`[DOWNLOAD SUCCESS] Data for ${e} saved to IndexedDB. Songs downloaded: ${u.length}`),console.log(`[RECURSION CHECK] Checking for linked books in ${e}...`),await MD(e,t,n,l,$1),u.length)}catch(o){throw console.error(`[DOWNLOAD ERROR] Failed during processing for ${e}:`,o),o}finally{console.log(`[DOWNLOAD END] Finished processing book ID: ${e}.`)}}const M1=(e,t)=>{const n=Oh(),[r,s]=S.useState({status:"idle",downloadedCount:null,error:null}),i=S.useCallback(async()=>{if(r.status!=="loading"){s({status:"loading",downloadedCount:null,error:null});try{const o=await $1(e,t);return console.log("Bulk download successful. Invalidating React Query cache..."),await n.invalidateQueries({queryKey:FA(e)}),await n.invalidateQueries({queryKey:MA}),console.log("Cache invalidated and refetched successfully."),s({status:"success",downloadedCount:o,error:null}),o}catch(o){const a=o.message||"Bulk download failed.";return s({status:"error",downloadedCount:null,error:a}),0}}},[e,t,r.status,n]);return{...r,startBulkDownload:i,isDownloading:r.status==="loading"}},F1=Ke.memo(e=>{const{book:t,status:n,indexDownloadStatus:r,userEmail:s,isEffectivelyOffline:i,isAnyBookDownloading:o,isDownloadingBook:a,isDownloadingBookIndex:l,handleBookClick:u,handleDownloadBookIndexClick:c,handleDownloadBookClick:h,handleDeleteIndexClick:p,handleDeleteBookClick:f,DownloadNotAvailableIcon:w,DownloadIndexIcon:y,DownloadedIcon:b,DownloadBookIcon:g,DeleteIndexIcon:v,DeleteBookIcon:_}=e,{status:T,isDownloading:A,startBulkDownload:I}=M1(t.bookId,s),j=a(t.bookId),D=Object.keys((n==null?void 0:n.downloadingSongs)??{}).length,$=n.downloadedSongs||0,F=n.totalSongs||t.songCount||0,de=Math.max(Number(F),$),N=de>0?Math.floor($/de*100):0,W=r[t.bookId]??!1,C=$===de&&de>0,K=t.isFullBookDownloadable;return k.jsx("li",{onClick:me=>u(me,t.bookId),className:"relative overflow-hidden cursor-pointer border-b border-gray-300 py-2 px-4",children:k.jsxs("div",{className:"z-20 relative grid grid-cols-[1fr_auto] gap-4 items-center divide-x divide-gray-300",children:[k.jsxs("div",{className:"relative text-lg font-medium pr-4",children:[k.jsx("div",{className:"absolute inset-0 bg-gray-200 z-0 rounded-md",style:{width:"100%"}}),k.jsx("div",{className:"absolute inset-0 bg-green-200 z-10 rounded-md",style:{width:`${N}%`}}),k.jsx("span",{className:`relative z-20 px-2 ${N>25,"text-black-900"}`,children:j?k.jsxs("span",{className:"font-bold",children:[k.jsxs("span",{className:"text-black-900 mr-2",children:[t.bookName,":"]}),k.jsxs("span",{className:"text-green-700",children:["Downloading... (",D," remaining)"]})]}):k.jsx("span",{className:"text-black-900",children:t.bookName})})]}),k.jsxs("div",{className:"flex items-center space-x-4 divide-x divide-gray-300 pl-4",children:[k.jsx("div",{className:"flex items-center text-sm text-gray-600 pr-4 min-w-[150px]",children:k.jsxs("span",{children:["(",$,"/",de," downloaded)"]})}),k.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:W?k.jsxs("span",{className:"flex items-center text-green-500",children:[b," ",k.jsx("span",{className:"ml-1",children:"Index"})]}):k.jsx("button",{onClick:me=>{me.stopPropagation(),c(me,t.bookId)},disabled:i||o||a(t.bookId)||W,className:"flex items-center text-brown-600",children:l===t.bookId?"DownloadingI...":k.jsxs(k.Fragment,{children:[y," ",k.jsx("span",{className:"ml-1",children:"Index"})]})})}),k.jsx("div",{className:"flex items-center pl-4 min-w-[150px]",children:C?k.jsxs("span",{className:"flex items-center text-green-500",children:[b," ",k.jsx("span",{className:"ml-1",children:"Book"})]}):k.jsx(k.Fragment,{children:K?k.jsx("button",{onClick:me=>{me.stopPropagation(),I()},disabled:i||o||a(t.bookId),className:"btn-primary-fast",title:"Download all songs instantly in one go.",children:k.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[g," ",A?"Downloading (Fast)...":T==="success"?"Downloaded ":"Book"]})}):k.jsxs("span",{className:"flex items-center text-red-500 cursor-help",title:"Bulk download is restricted for this book.",children:[w,k.jsx("span",{className:"ml-1 text-sm font-medium",children:"Not Available"})]})})}),k.jsxs("div",{className:"flex items-center space-x-2 pl-4",children:[k.jsxs("button",{onClick:me=>{me.stopPropagation(),p(me,t.bookId)},disabled:!W,className:"flex items-center text-red-500 border border-red-500 px-2 py-1 rounded-md hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:text-gray-400 disabled:border-gray-400",children:[v," ",k.jsx("span",{className:"ml-1",children:"Index"})]}),k.jsxs("button",{onClick:me=>{me.stopPropagation(),f(me,t.bookId)},disabled:a(t.bookId)||N===0,className:"flex items-center bg-red-500 text-white border border-red-500 px-2 py-1 rounded-md hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-400 disabled:text-gray-600 disabled:border-gray-400",children:[_," ",k.jsx("span",{className:"ml-1",children:"Book"})]})]})]})]})})});F1.displayName="BookListItem";const BD=3;function UD(e,t){return t?t.filter(n=>n.type==="link"&&n.link).map(n=>{try{return JSON.parse(n.link).bookId}catch(r){return console.error("Error parsing link in song index:",r),null}}).filter(n=>n!==null&&n!==e).filter((n,r,s)=>s.indexOf(n)===r):[]}async function B1(e,t){if(t.has(e)){console.log(`[DELETION SKIP] Already processed ${e}.`);return}t.add(e),console.log(`[DELETION START] Analyzing dependencies for book: ${e}`);const n=await Dh(e),r=UD(e,n);if(r.length>0){console.log(`[RECURSION CHECK] Book ${e} links to ${r.length} unique books.`);const o=r,l=(await Promise.all(o.map(async u=>{const c=await Zd(u);return{id:u,type:c&&c.Type?c.Type:"mini-book"}}))).filter(u=>u.type==="mini-book").map(u=>u.id);if(l.length>0){const u=l.filter(c=>!t.has(c)).map(c=>()=>B1(c,t));u.length>0&&(console.log(`[BATCH EXECUTION] Queuing ${u.length} *mini-book* dependency deletions.`),await L1(u,BD),console.log(`[RECURSION COMPLETE] All mini-book dependencies for ${e} have been processed.`))}}const s=await Zd(e);(s&&s.Type?s.Type:"book")==="mini-book"?(await R1(e),console.log(`[DELETION SUCCESS] Successfully deleted mini-book ${e} and its dependencies.`)):console.log(`[CLEANUP COMPLETE] Book ${e} is type 'Book'. Only dependencies were deleted.`)}function zD(e,t){const n=S.useMemo(()=>((e==null?void 0:e.books)??[]).filter(a=>a.Type==="book"),[e==null?void 0:e.books]),[r,s]=S.useState(n);return S.useEffect(()=>{if(!t){s(n);return}(async()=>{const l=(await Promise.all(n.map(async u=>({...u,isCached:await Wa(u.bookId)})))).filter(u=>u.isCached);s(l)})()},[n,t]),S.useMemo(()=>t?r:n,[t,n,r])}function VD(){var z,ce;const{categoryId:e}=Ua(),t=Jn(),{categories:n,isLoading:r,isFetching:s,error:i}=Lh(),{isEffectivelyOffline:o}=qy(),a=S.useMemo(()=>{if(n&&e)return n.find(oe=>oe.id===e)},[n,e]),l=zD(a,o),{downloadAllSongsForBook:u,isDownloadingBook:c,isAnyBookDownloading:h}=LD(),[p,f]=S.useState(null),[w,y]=S.useState(!1),[b,g]=S.useState({});Oh();const{preferredLanguage:v}=_o(),{downloadStatus:_,isLoaded:T,updateDownloadProgress:A,updateDownloadedCount:I}=Gy(),{session:j}=xi(),D=(z=j==null?void 0:j.user)==null?void 0:z.email;S.useEffect(()=>{if(!l||l.length===0){g({});return}(async()=>{const ye=l.map(fe=>Wa(fe.bookId)),De=await Promise.all(ye),Te={};l.forEach((fe,Ge)=>{Te[fe.bookId]=De[Ge]}),g(Te)})()},[l]);const $=S.useCallback(async(oe,ye)=>{let Te;for(let fe=0;fe<1;fe++)try{const Ge=new URL(bi);Ge.searchParams.append("mode","api"),Ge.searchParams.append("apiname","getsongsforbook"),Ge.searchParams.append("book",oe),Ge.searchParams.append("sessionuser",ye??"dummyfornow");const We=await fetch(Ge.toString());if(!We.ok){const P=await We.text();throw new Error(`Fetch failed (Status: ${We.status}). Body: ${P}`)}const at=(await We.json()).map(P=>({...P,sourceRow:typeof P.sourceRow=="string"?parseInt(P.sourceRow,10):P.sourceRow,tags:P.tags||null}));return await Hy(oe,at),at}catch(Ge){if(Te=Ge,fe<0){const We=Math.pow(2,fe)*1e3;console.log(`Retrying fetch in ${We}ms...`),await new Promise(Ve=>setTimeout(Ve,We))}}throw Te},[]),F=S.useCallback(async(oe,ye)=>{oe.stopPropagation(),console.warn(`[ACTION REQUIRED: Custom Modal] Confirm deletion of book index [${ye}]. Proceeding with deletion assuming user confirmed.`),await pD(ye),g(De=>({...De,[ye]:!1})),A(ye,0),I(ye,0)},[A,I]),de=S.useCallback(async(oe,ye)=>{oe.stopPropagation(),console.warn(`[ACTION REQUIRED: Custom Modal] WARNING: This will permanently delete the ENTIRE book "${ye}". Proceeding with deletion assuming user confirmed.`);const De=new Set;try{await B1(ye,De),await R1(ye),A(ye,0),I(ye,0)}catch(Te){console.error(`Failed to delete book ${ye} recursively:`,Te)}},[A,I]),N=S.useCallback((oe,ye)=>{console.log(`categoryId:${e}, bookId:${ye}`),oe.stopPropagation(),t(`/book/${e}/${ye}`)},[e,t]),W=async()=>{var ye;y(!0);const oe=(ye=j==null?void 0:j.user)==null?void 0:ye.email;try{for(const Te of l)console.log(`Downloading index for book: ${Te.bookId}`),await $(Te.bookId,oe);console.log("All song indices downloaded successfully.");const De=l.reduce((Te,fe)=>(Te[fe.bookId]=!0,Te),{});g(De)}catch(De){console.error("Failed to download all indices:",De),g({})}finally{y(!1)}},C=S.useCallback(async(oe,ye)=>{var Te;oe.stopPropagation(),f(ye);const De=(Te=j==null?void 0:j.user)==null?void 0:Te.email;try{await $(ye,De),console.log(`Index for Book ${ye} downloaded successfully and cached.`),g(fe=>({...fe,[ye]:!0}))}catch(fe){console.error(`Failed to download index for Book ${ye}:`,fe),g(Ge=>({...Ge,[ye]:!1}))}finally{f(null)}},[(ce=j==null?void 0:j.user)==null?void 0:ce.email,$]),K=S.useCallback((oe,ye,De)=>{oe.stopPropagation(),u(ye,D)},[u,D]),me=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6zM13 15h-2v3h-2v-3H7l3.5-3.5L14 15h-2z"})]}),[]),re=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h12v16H6V4zM16 13h-3v3h-2v-3H8l4-4 4 4zM14 20h-4v-2h4v2z"})]}),[]),ie=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18h14v2H5v-2z"})]}),[]),te=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})]}),[]),he=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})]}),[]),q=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})]}),[]),G=S.useMemo(()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",children:[k.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),k.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 4h7v5h5v11H6V4zm-2 16h16V4h-3V1h-4v3h-3v-3H4v3H1v2h3v12zM12 9l-4 4h3v4h2v-4h3l-4-4z"})]}),[]);return r||s?k.jsx("div",{children:"Loading books..."}):i instanceof Error?k.jsxs("div",{children:["Error loading books: ",i.message]}):T?k.jsxs(k.Fragment,{children:[k.jsx(Qy,{}),k.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 rounded-xl shadow-inner",children:[k.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Books in ",(a==null?void 0:a.name)||"Category"]}),l.length>0?k.jsx("ul",{className:"list-none p-0 space-y-3",children:l.map(oe=>k.jsx(F1,{book:oe,status:_[oe.bookId]||{},indexDownloadStatus:b,userEmail:D??null,isEffectivelyOffline:o,isAnyBookDownloading:h,isDownloadingBook:c,isDownloadingBookIndex:p,handleBookClick:N,handleDownloadBookIndexClick:C,handleDownloadBookClick:K,handleDeleteIndexClick:F,handleDeleteBookClick:de,DownloadNotAvailableIcon:te,DownloadIndexIcon:me,DownloadedIcon:he,DownloadBookIcon:ie,DeleteIndexIcon:G,DeleteBookIcon:q},oe.bookId))}):k.jsx("div",{className:"text-center py-10 text-gray-500 bg-white rounded-lg shadow-md",children:o?"No cached books found. Connect to the internet to download content.":"No books found in this category."})]}),k.jsx("div",{className:"mt-6 flex justify-end",children:k.jsxs("button",{onClick:W,disabled:w,className:`px-4 py-2 rounded-lg text-sm font-semibold text-white transition-colors duration-300 flex items-center justify-center space-x-2 shadow-md ${w?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:[w?k.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):re,k.jsx("span",{children:w?"Downloading All Indices...":"Download All Indices"})]})})]}):k.jsx("div",{className:"flex justify-center items-center h-40",children:k.jsx("p",{children:"Loading download status..."})})}var ng={exports:{}};(function(e,t){function n(f){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},n(f)}function r(f,w){var y=typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(!y){if(Array.isArray(f)||(y=o(f))||w){y&&(f=y);var b=0,g=function(){};return{s:g,n:function(){return b>=f.length?{done:!0}:{done:!1,value:f[b++]}},e:function(I){throw I},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=!0,_=!1,T;return{s:function(){y=y.call(f)},n:function(){var I=y.next();return v=I.done,I},e:function(I){_=!0,T=I},f:function(){try{!v&&y.return!=null&&y.return()}finally{if(_)throw T}}}}function s(f,w){return u(f)||l(f,w)||o(f,w)||i()}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(f,w){if(f){if(typeof f=="string")return a(f,w);var y=Object.prototype.toString.call(f).slice(8,-1);if(y==="Object"&&f.constructor&&(y=f.constructor.name),y==="Map"||y==="Set")return Array.from(f);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return a(f,w)}}function a(f,w){(w==null||w>f.length)&&(w=f.length);for(var y=0,b=new Array(w);y<w;y++)b[y]=f[y];return b}function l(f,w){var y=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(y!=null){var b,g,v,_,T=[],A=!0,I=!1;try{if(v=(y=y.call(f)).next,w!==0)for(;!(A=(b=v.call(y)).done)&&(T.push(b.value),T.length!==w);A=!0);}catch(j){I=!0,g=j}finally{try{if(!A&&y.return!=null&&(_=y.return(),Object(_)!==_))return}finally{if(I)throw g}}return T}}function u(f){if(Array.isArray(f))return f}var c={};c.ahom={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.assamese={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.balinese={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.bengali={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.bhaiksuki={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.brahmi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.brahmi_tamil={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"'","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.burmese={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.cham={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.devanagari={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":"","":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},zwnj:{"":""},skip:{undefined:""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},alternates:{:[""],:[""],:[""],:[""],:[""],:[""],:[""],:[""],:[""],:[""],:[""]}},c.dogra={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.gondi_gunjala={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":".","":".."},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.gondi_masaram={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.grantha={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.grantha_pandya={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.gujarati={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.gurmukhi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},alternates:{"":[""]},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},accents:{"":"","":""}},c.javanese={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.kannada={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},alternates:{"":[""]}},c.khamti_shan={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.kharoshthi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.khmer={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.khom_thai={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.khudawadi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.lao={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.lao_pali={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.lepcha={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.limbu={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.malayalam={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.manipuri={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.marchen={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.modi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.mon={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""}},c.mro={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.newa={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.ol_chiki={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.oriya={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.phags_pa={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":"","":""},candra:{"":""}},c.ranjana={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.rohingya={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""}},c.shan={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.sharada={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.siddham={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.sinhala={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"()","":".","":".."},candra:{"":""}},c.sora_sompeng={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tai_laing={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.takri={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tamil={vowels:{:"",:"",:"",:"",:"",:"",:"'",:"'",:"'",:"'",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"'","":"'","":"'","":"'","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},extra_consonants:{:"'",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tamil_extended={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tamil_superscripted={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"()","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.telugu={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.thai={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tibetan={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.tirhuta_maithili={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.urdu={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.vattelutu={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.wancho={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.warang_citi={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"'","":".","":".."},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.zanbazar_square={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""}},c.avestan={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vowel_marks:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""},isRomanScheme:!0},c.baraha={_vowel_comment:["omissions  from optitrans_dravidian","ea","oa"],_yogavaahas_comment:["omissions  from optitrans_dravidian","kH","pH"],vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"Ru",:"RU",:"~lu",:"~lU",:"e",:"E",:"ai",:"o",:"O",:"au",:"",:""},yogavaahas:{"":"M","":"H","":"~M","":"","":"","":"(gg)"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~g",:"ch",:"Ch",:"j",:"jh",:"~j",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"kSh",:"j~ja"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:"&","":"|","":"||"},candra:{"":"~M"},zwj:{"":"^"},zwnj:{"":"^^"},skip:{undefined:"_"},accents:{"":"#","":"q","":"Q","":"V","":"W","":"$"},alternates:{A:["aa"],I:["ee"],U:["oo"],kh:["K"],gh:["G"],ch:["c"],Ch:["C"],jh:["J"],ph:["P"],bh:["B"],"~n":["JN"],v:["w"],sh:["S"],h:["~h"],V:["x"],"|":["."],"||":[".."]},isRomanScheme:!0},c.cyrillic={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},yogavaahas:{"":"","":"","":""},virama:{"":""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"'","":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""},isRomanScheme:!0},c.hk={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"R",:"RR",:"lR",:"lRR",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":"M","":"H","":"~"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"G",:"c",:"ch",:"j",:"jh",:"J",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"z",:"S",:"s",:"h",:"L",:"kS",:"jJ"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:"'","":"|","":"||"},extra_consonants:{:"q",:"qh",:"g2",:"z2",:"r3",:"r3h",:"f",:"Y",:"r2",:"zh",:"n2"},isRomanScheme:!0},c.hk_dravidian={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"R",:"RR",:"lR",:"lRR",:"e",:"E",:"ai",:"o",:"O",:"au"},yogavaahas:{"":"M","":"H","":"~"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"G",:"c",:"ch",:"j",:"jh",:"J",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"z",:"S",:"s",:"h",:"L",:"kS",:"jJ"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:"'","":"|","":"||"},extra_consonants:{:"q",:"qh",:"g2",:"z2",:"r3",:"r3h",:"f",:"Y",:"r2",:"zh",:"n2"},isRomanScheme:!0},c.iast={vowels:{:"a",:"",:"i",:"",:"u",:"",:"",:"",:"",:"",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":"","":"","":"~","":"m"},virama:{"":""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"k",:"kh",:"g",:"gh",:"",:"c",:"ch",:"j",:"jh",:"",:"",:"h",:"",:"h",:"",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"l",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"o",:"'","":"|","":"||"},extra_consonants:{:"q",:"kh",:"",:"z",:"r",:"rh",:"f",:"",:"",:"",:""},alternates:{"|":[".","/"],"||":["..","//"],"'":["`"],m:["m",""],:["m"],:["h"],:["t"],h:["th"],:["d"],h:["dh"],:["n"],:["s"],:["n"],:["n"],:["r","r"],:["","r","r","r","r"],"":[""]},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],:["r","r"]},isRomanScheme:!0},c.iast_iso_m={vowels:{:"a",:"",:"i",:"",:"u",:"",:"",:"",:"",:"",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":"","":"","":"~","":"m"},virama:{"":""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"k",:"kh",:"g",:"gh",:"",:"c",:"ch",:"j",:"jh",:"",:"",:"h",:"",:"h",:"",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"l",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"o",:"'","":"|","":"||"},extra_consonants:{:"q",:"kh",:"",:"z",:"r",:"rh",:"f",:"",:"",:"",:""},alternates:{"|":[".","/"],"||":["..","//"],"'":["`"],:["m","m",""],:["h"],:["t"],h:["th"],:["d"],h:["dh"],:["n"],:["s"],:["n"],:["n"],:["r","r"],:["","r","r","r","r"],"":[""]},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],:["r","r"]},isRomanScheme:!0},c.iso={vowels:{:"a",:"",:"i",:"",:"u",:"",:"r",:"r",:"l",:"l",:"e",:"",:"ai",:"o",:"",:"au",:"",:""},yogavaahas:{"":"","":"","":"",:"","":"m"},virama:{"":""},zwj:{"":"{}"},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"k",:"kh",:"g",:"gh",:"",:"c",:"ch",:"j",:"jh",:"",:"",:"h",:"",:"h",:"",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"'","":"","":""},extra_consonants:{:"q",:"kh",:"",:"z",:"",:"h",:"f",:"",:"",:"",:"",:"r",:"s",:"s",:"h",:"t",:"",:"",:"h",:"",:"",:"",:"w"},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],r:["","r"],r:["","","r","r","r","r","r"],a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],r:["r"],r:["r","r","r","r","r"]},alternates:{"|":[".","/"],"||":["..","//"],"'":["`"],m:["m"],:["","r","r","r","r"],:["m"],:["h"],:["t"],h:["th"],:["d"],h:["dh"],:["n"],:["n"],:["n"],:["s"],:["r"],h:["rh"],"kh":["","h"],q:[""],w:[""],:["g"],"":[""],r:["ri"]},isRomanScheme:!0},c.iso_vedic={vowels:{:"a",:"",:"i",:"",:"u",:"",:"r",:"r",:"l",:"l",:"e",:"ai",:"i",:"o",:"au",:"u",:"",:""},yogavaahas:{"":"","":"","":"",:"","":"m"},virama:{"":""},zwj:{"":"{}"},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"k",:"kh",:"g",:"gh",:"",:"c",:"ch",:"j",:"jh",:"",:"",:"h",:"",:"h",:"",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"'","":"","":""},extra_consonants:{:"q",:"kh",:"",:"z",:"",:"h",:"f",:"",:"",:"",:"",:"r",:"s",:"s",:"h",:"t",:"",:"",:"h",:"",:"",:"",:"w"},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],r:["","r"],r:["","","r","r","r","r","r"],a:[""],i:[""],ai:["a"],i:[""],u:[""],au:["a"],u:[""],r:["r"],r:["r","r","r","r","r"]},alternates:{"|":[".","/"],"||":["..","//"],"'":["`"],m:["m"],:["","r","r","r","r"],:["m"],:["h"],:["t"],h:["th"],:["d"],h:["dh"],:["n"],:["n"],:["n"],:["s"],:["r"],h:["rh"],"kh":["","h"],q:[""],w:[""],:["g"],"":[""],r:["ri"]},isRomanScheme:!0},c.itrans={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"RRi",:"RRI",:"LLi",:"LLI",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":"M","":"H","":".N"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~N",:"ch",:"Ch",:"j",:"jh",:"~n",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"kSh",:"j~n"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:".a","":"|","":"||"},candra:{"":".c"},zwj:{"":"{}"},skip:{undefined:"_"},accents:{"":"\\'","":"\\_"},extra_consonants:{:"q",:"K",:"G",:"z",:".D",:".Dh",:"f",:"Y",:"R",:"zh"},alternates:{A:["aa"],I:["ii","ee"],U:["uu","oo"],RRi:["R^i"],RRI:["R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],"~N":["N^"],ch:["c"],Ch:["C","chh"],"~n":["JN"],v:["w"],Sh:["S","shh"],kSh:["kS","x"],"j~n":["GY","dny"],OM:["AUM"],"\\_":["\\`"],"\\_H":["\\`H"],"\\'M":["\\'.m","\\'.n"],"\\_M":["\\_.m","\\_.n","\\`M","\\`.m","\\`.n"],".a":["~"],"|":["."],"||":[".."],z:["J"]},isRomanScheme:!0},c.itrans_dravidian={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"RRi",:"RRI",:"LLi",:"LLI",:"e",:"E",:"ai",:"o",:"O",:"au"},yogavaahas:{"":"M","":"H","":".N"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~N",:"ch",:"Ch",:"j",:"jh",:"~n",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"kSh",:"j~n"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:".a","":"|","":"||"},candra:{"":".c"},zwj:{"":"{}"},skip:{undefined:"_"},accents:{"":"\\'","":"\\_"},extra_consonants:{:"q",:"K",:"G",:"z",:".D",:".Dh",:"f",:"Y",:"R",:"zh",:"n2"},alternates:{A:["aa"],I:["ii","ee"],U:["uu","oo"],RRi:["R^i"],RRI:["R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],"~N":["N^"],ch:["c"],Ch:["C","chh"],"~n":["JN"],v:["w"],Sh:["S","shh"],kSh:["kS","x"],"j~n":["GY","dny"],OM:["AUM"],"\\_":["\\`"],"\\_H":["\\`H"],"\\'M":["\\'.m","\\'.n"],"\\_M":["\\_.m","\\_.n","\\`M","\\`.m","\\`.n"],".a":["~"],"|":["."],"||":[".."],z:["J"]},isRomanScheme:!0},c.itrans_lowercase={vowels:{:"a",:"aa",:"i",:"ii",:"u",:"uu",:"RRi",:"RRI",:"LLi",:"LLI",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":"M","":"H","":".N"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~N",:"ch",:"Ch",:"j",:"jh",:"~n",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"kSh",:"GY"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:".a","":"|","":"||"},candra:{"":".c"},zwj:{"":"{}"},skip:{undefined:"_"},accents:{"":"\\'","":"\\_"},extra_consonants:{:"q",:"K",:"G",:"z",:".D",:".Dh",:"f",:"Y",:"R",:"zh"},alternates:{A:["A"],I:["I","ee"],U:["U","oo"],RRi:["R^i"],RRI:["R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],"~N":["N^"],ch:["c"],Ch:["C","chh"],"~n":["JN"],v:["w"],Sh:["S","shh"],kSh:["kS","x"],GY:["j~n","dny"],OM:["AUM"],"\\_":["\\`"],"\\_H":["\\`H"],"\\'M":["\\'.m","\\'.n"],"\\_M":["\\_.m","\\_.n","\\`M","\\`.m","\\`.n"],".a":["~"],"|":["."],"||":[".."],z:["J"]},isRomanScheme:!0},c.kolkata_v2={vowels:{:"a",:"",:"i",:"",:"u",:"",:"",:"",:"",:"",:"e",:"",:"ai",:"o",:"",:"au"},yogavaahas:{"":"","":"","":"~"},virama:{"":""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},consonants:{:"k",:"kh",:"g",:"gh",:"",:"c",:"ch",:"j",:"jh",:"",:"",:"h",:"",:"h",:"",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"l",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"",:"'","":"|","":"||"},extra_consonants:{:"q",:"kh",:"",:"z",:"r",:"rh",:"f",:"",:"",:"",:""},alternates:{"|":[".","/"],"||":["..","//"],"'":["`"],m:["m"],:["m"],:["h"],:["t"],h:["th"],:["d"],h:["dh"],:["n"],:["n"],:["n"],:["s"],:["r","r"],:["","r","r","r","r"],"":[""]},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],:["r","r"]},isRomanScheme:!0},c.mahajani={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},zwj:{"":""},skip:{undefined:""},accents:{"":"","":""},candra:{"":""},extra_consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:""},isRomanScheme:!0},c.multani={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},yogavaahas:{"":"","":"","":""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},isRomanScheme:!0},c.optitrans={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"R",:"RR",:"LLi",:"LLI",:"E",:"e",:"ai",:"O",:"o",:"au",:"ea",:"oa"},yogavaahas:{"":"M","":"H","":".N","":"kH","":"pH"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~N",:"ch",:"Ch",:"j",:"jh",:"~n",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"x",:"jn"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:".a","":"|","":"||"},candra:{"":".c"},zwj:{"":"{}"},skip:{undefined:"_"},accents:{"":"\\'","":"\\_"},extra_consonants:{:"q",:".kh",:".g",:"z",:".D",:".Dh",:"f",:"Y",:".Rh",:".L"},alternates:{A:["aa"],I:["ii","ee"],U:["uu"],R:["RRi","R^i"],RR:["RRI","R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],ch:["c"],Ch:["C"],jh:["J"],ph:["P"],bh:["B"],"~n":["JN"],v:["w"],Sh:["S"],x:["kS","ksh"],jn:["GY","dny"],"|":["."],"||":[".."],z:["J"]},shortcuts:{"~nc":"nc","~nC":"nC","~nj":"nj","~nJ":"nJ","~Nk":"nk","~NK":"nK","~Ng":"ng","~NG":"nG","~Nx":"nx"},isRomanScheme:!0},c.optitrans_dravidian={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"R",:"RR",:"LLi",:"LLI",:"e",:"E",:"ai",:"o",:"O",:"au",:"ea",:"oa"},yogavaahas:{"":"M","":"H","":".N","":"kH","":"pH"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:"~N",:"ch",:"Ch",:"j",:"jh",:"~n",:"T",:"Th",:"D",:"Dh",:"N",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:"sh",:"Sh",:"s",:"h",:"L",:"x",:"jn"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"OM",:".a","":"|","":"||"},candra:{"":".c"},zwj:{"":"{}"},skip:{undefined:"_"},accents:{"":"\\'","":"\\_"},extra_consonants:{:".k",:"q",:".g",:"z",:".D",:".Dh",:"f",:"Y",:".Rh",:".L",:"n2"},alternates:{A:["aa"],I:["ii","ee"],U:["uu"],R:["RRi","R^i"],RR:["RRI","R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],ch:["c"],Ch:["C"],jh:["J"],ph:["P"],bh:["B"],"~n":["JN"],v:["w"],Sh:["S"],x:["kS","ksh"],jn:["GY","dny"],"|":["."],"||":[".."],z:["J"]},shortcuts:{"~nc":"nc","~nC":"nC","~nj":"nj","~nJ":"nJ","~Nk":"nk","~NK":"nK","~Ng":"ng","~NG":"nG","~Nx":"nx"},isRomanScheme:!0},c.persian_old={vowels:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},virama:{"":""},consonants:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},symbols:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"","":"","":""},candra:{"":""},isRomanScheme:!0},c.slp1={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"f",:"F",:"x",:"X",:"",:"e",:"E",:"",:"o",:"O"},yogavaahas:{"":"M","":"H","":"~"},virama:{"":""},consonants:{:"k",:"K",:"g",:"G",:"N",:"c",:"C",:"j",:"J",:"Y",:"w",:"W",:"q",:"Q",:"R",:"t",:"T",:"d",:"D",:"n",:"p",:"P",:"b",:"B",:"m",:"y",:"r",:"l",:"v",:"S",:"z",:"s",:"h",:"L",:"kz",:"jY"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"AUM",:"'","":".","":".."},extra_consonants:{:"k0",:"K0",:"g0",:"j0",:"q0",:"Q0",:"P0",:"Y0",:"r2",:"L0",:"n0"},shortcuts:{Lh:"|"},isRomanScheme:!0},c.slp1_accented={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"f",:"F",:"x",:"X",:"",:"e",:"E",:"",:"o",:"O"},yogavaahas:{"":"M","":"H","":"~","":"M"},virama:{"":""},consonants:{:"k",:"K",:"g",:"G",:"N",:"c",:"C",:"j",:"J",:"Y",:"w",:"W",:"q",:"Q",:"R",:"t",:"T",:"d",:"D",:"n",:"p",:"P",:"b",:"B",:"m",:"y",:"r",:"l",:"v",:"S",:"z",:"s",:"h",:"L",:"kz",:"jY"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"AUM",:"'","":".","":".."},accents:{"":"","":"\\","":"^","":"/","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},extra_consonants:{:"k0",:"K0",:"g0",:"j0",:"q0",:"Q0",:"P0",:"Y0",:"r2",:"L0"},shortcuts:{Lh:"|"},isRomanScheme:!0},c.titus={vowels:{:"a",:"",:"i",:"",:"u",:"",:"r",:"r",:"l",:"l",:"",:"e",:"ai",:"",:"o",:"au",:"",:""},yogavaahas:{"":"","":"","":"m"},virama:{"":""},consonants:{:"k",:"k",:"g",:"g",:"",:"c",:"c",:"j",:"j",:"",:"",:"",:"",:"",:"",:"t",:"t",:"d",:"d",:"n",:"p",:"p",:"b",:"b",:"m",:"y",:"r",:"l",:"v",:"",:"",:"s",:"h",:"",:"k",:"j"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"o",:"'","":".","":".."},zwj:{"":""},skip:{undefined:""},candra:{"":""},extra_consonants:{:"q",:"k",:"",:"z",:"",:"",:"f",:"",:"",:""},accents:{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},accented_vowel_alternates:{a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],r:["","r"],r:["","","r","r","r","r","r"],a:[""],e:[""],i:[""],ai:["a"],o:[""],u:[""],au:["a"],r:["r"],r:["r","r","r","r","r"]},alternates:{m:["m"],o:[""],r:["r"],".":["|","/"],"..":["||","//"]},isRomanScheme:!0},c.velthuis={vowels:{:"a",:"aa",:"i",:"ii",:"u",:"uu",:".r",:".rr",:".l",:".ll",:"",:"e",:"ai",:"",:"o",:"au"},yogavaahas:{"":".m","":".h","":"~m"},virama:{"":""},consonants:{:"k",:"kh",:"g",:"gh",:'"n',:"c",:"ch",:"j",:"jh",:"~n",:".t",:".th",:".d",:".dh",:".n",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"v",:'"s',:".s",:"s",:"h",:"L",:"k.s",:"j~n"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"O",:".a","":"|","":"||"},isRomanScheme:!0},c.wx={vowels:{:"a",:"A",:"i",:"I",:"u",:"U",:"q",:"Q",:"L",:"",:"",:"e",:"E",:"",:"o",:"O"},yogavaahas:{"":"M","":"H","":"z"},virama:{"":""},consonants:{:"k",:"K",:"g",:"G",:"f",:"c",:"C",:"j",:"J",:"F",:"t",:"T",:"d",:"D",:"N",:"w",:"W",:"x",:"X",:"n",:"p",:"P",:"b",:"B",:"m",:"y",:"r",:"l",:"v",:"S",:"R",:"s",:"h",:"l",:"kR",:"jF"},symbols:{"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"oM",:"'","":".","":".."},isRomanScheme:!0};var h={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function p(f,w,y){var b={};b.defaults={skip_sgml:!1,syncope:!1,preferred_alternates:{}};var g={SCHEMES:[["Bengali",2432],["Devanagari",2304],["Gujarati",2688],["Gurmukhi",2560],["Kannada",3200],["Malayalam",3328],["Oriya",2816],["Tamil",2944],["Telugu",3072],["HK",null],["IAST",null],["ITRANS",null],["Kolkata",null],["SLP1",null],["Velthuis",null]],BRAHMIC_FIRST_CODE_POINT:2304,BRAHMIC_LAST_CODE_POINT:3455,RE_IAST_OR_KOLKATA_ONLY:/[]/,RE_ITRANS_OR_VELTHUIS_ONLY:/aa|ii|uu|~n/,RE_ITRANS_ONLY:/ee|oo|\^[iI]|RR[iI]|L[iI]|~N|N\^|Ch|chh|JN|sh|Sh|\.a/,RE_KOLKATA_ONLY:/[]/,RE_SLP1_ONLY:RegExp(["[fFxXEOCYwWqQPB]|kz|Nk|Ng|tT|dD|Sc|Sn|","[aAiIuUfFxXeEoO]R|","G[yr]|(\\W|^)G"].join("")),RE_VELTHUIS_ONLY:/\.[mhnrlntds]|"n|~s/};b.detect=function(I){for(var j={},D=0;D<g.SCHEMES.length;D++){var $=g.SCHEMES[D][0];j[$]=$}for(var F=g.SCHEMES.filter(function(me){return me[1]}).sort(function(me,re){return re[1]-me[1]}),de=0;de<I.length;de++){var N=I[de],W=N.charCodeAt(N);if(W>=g.BRAHMIC_FIRST_CODE_POINT&&W<=g.BRAHMIC_LAST_CODE_POINT)for(var C=0;C<F.length;C++){var K=F[C];if(W>=K[1])return K[0]}}return g.RE_IAST_OR_KOLKATA_ONLY.test(I)?g.RE_KOLKATA_ONLY.test(I)?j.Kolkata:j.IAST:g.RE_ITRANS_ONLY.test(I)?j.ITRANS:g.RE_SLP1_ONLY.test(I)?j.SLP1:g.RE_VELTHUIS_ONLY.test(I)?j.Velthuis:g.RE_ITRANS_OR_VELTHUIS_ONLY.test(I)?j.ITRANS:j.HK},b.schemes=w;var v={};b.addBrahmicScheme=function(I,j){b.schemes[I]=j},b.addRomanScheme=function(I,j){if(!("vowel_marks"in j)){j.vowel_marks={};for(var D=0,$=Object.entries(j.vowels);D<$.length;D++){var F=s($[D],2),de=F[0],N=F[1];de!=""&&(j.vowel_marks[y[de]]=N)}}b.schemes[I]=j},function(){var I=function(C){return C.charAt(0).toUpperCase()+C.substring(1,C.length)},j=function(C,K){var me=r(C),re;try{for(me.s();!(re=me.n()).done;){var ie=re.value,te=K[ie]||[],he=te;he=he.concat(I(ie));var q=r(te),G;try{for(q.s();!(G=q.n()).done;){var z=G.value;he=he.concat(I(z))}}catch(ce){q.e(ce)}finally{q.f()}K[ie]=he}}catch(ce){me.e(ce)}finally{me.f()}};j(Object.values(w.iast.vowels),w.iast.alternates),j(Object.values(w.iast.consonants),w.iast.alternates),j(Object.values(w.iast.extra_consonants),w.iast.alternates),j(["o"],w.iast.alternates),j(Object.values(w.kolkata_v2.vowels),w.kolkata_v2.alternates),j(Object.values(w.kolkata_v2.consonants),w.kolkata_v2.alternates),j(Object.values(w.kolkata_v2.extra_consonants),w.kolkata_v2.alternates),j(Object.values(w.iso.vowels),w.iso.alternates),j(Object.values(w.iso.consonants),w.iso.alternates),j(Object.values(w.iso.extra_consonants),w.iso.alternates),j([""],w.iso.alternates);for(var D=0,$=Object.entries(w);D<$.length;D++){var F=s($[D],2),de=F[0],N=F[1];N.isRomanScheme&&b.addRomanScheme(de,N)}}();var _=function(j,D,$){var F={},de=b.schemes[j],N={},W=[],C={},K={},me=b.schemes[D],re=de.alternates||{};for(var ie in de)if({}.hasOwnProperty.call(de,ie)&&!["alternates","accented_vowel_alternates","isRomanScheme"].includes(ie)){var te=de[ie],he=me[ie];if(he!==void 0)for(var q=0,G=Object.entries(te);q<G.length;q++){var z=s(G[q],2),ce=z[0],oe=z[1],ye=he[ce];if(ye!==void 0){ye==""&&!["virama","zwj","skip"].includes(ie)&&(ye=oe);var De=re[oe]||[],Te=De.length,fe=0;for(W.push(oe.length),fe=0;fe<Te;fe++)W.push(De[fe].length);if(ie==="vowel_marks"||ie==="virama")for(C[oe]=ye,fe=0;fe<Te;fe++)C[De[fe]]=ye;else{for(N[oe]=ye,fe=0;fe<Te;fe++)N[De[fe]]=ye;if(ie==="consonants"||ie==="extra_consonants")for(F[oe]=ye,fe=0;fe<Te;fe++)F[De[fe]]=ye;if(ie==="accents")for(K[oe]=ye,fe=0;fe<Te;fe++)K[De[fe]]=ye}}}}if(de.accented_vowel_alternates)for(var Ge=0,We=Object.keys(de.accented_vowel_alternates);Ge<We.length;Ge++){var Ve=We[Ge],at=de.accented_vowel_alternates[Ve],P=r(at),we;try{for(P.s();!(we=P.n()).done;){var ge=we.value,B=Ve.substring(0,Ve.length-1),M=Ve[Ve.length-1],ee=K[M]||M;C[ge]=(C[B]||"")+ee,N[B]||console.error(B,ee,N),N[ge]=N[B].concat(ee)}}catch(xe){P.e(xe)}finally{P.f()}}return{consonants:F,accents:K,fromRoman:de.isRomanScheme,letters:N,marks:C,maxTokenLength:Math.max.apply(Math,W),toRoman:me.isRomanScheme,virama:me.virama[""],toSchemeA:me.vowels.,fromSchemeA:de.vowels.,from:j,to:D}},T=function(j,D,$){for(var F=[],de=D.consonants,N=j.length,W=D.letters,C=D.marks,K=D.maxTokenLength,me=$.skip_sgml,re=$.syncope,ie=D.toRoman,te=D.virama,he=!1,q,G,z="",ce=!1,oe=!1,ye=!1,De=0,Te;(Te=j.charAt(De))||z;De++){var fe=K-z.length;if(!(fe>0&&De<N&&(z+=Te,fe>1)))for(var Ge=0;Ge<K;Ge++){var We=z.substr(0,K-Ge);if(ce===!0)ce=We!==">";else if(We==="<")ce=me;else if(We==="##"){ye=!ye,z=z.substr(2);break}if(oe=ce||ye,(q=W[We])!==void 0&&!oe){ie?F.push(q):(he?(G=C[We])?F.push(G):We!==D.fromSchemeA&&(F.push(te),F.push(q)):F.push(q),he=We in de),z=z.substr(K-Ge);break}else Ge===K-1&&(he&&(he=!1,re||F.push(te)),F.push(We),z=z.substr(1))}}he&&!re&&F.push(te);var Ve=F.join(""),at=w[D.to];if(!ie&&Object.keys(D.accents).length>0){var P=new RegExp("([".concat(Object.values(D.accents).join(""),"])([").concat(Object.values(at.yogavaahas).join(""),"])"),"g");Ve=Ve.replace(P,"$2$1")}return Ve},A=function(j,D,$){var F=[],de=D.consonants,N=D.letters,W=D.marks,C=D.toRoman,K=!1,me=!1,re,ie=!1,te=w[D.to];if(C&&Object.keys(D.accents).length>0){var he=new RegExp("([".concat(Object.values(te.yogavaahas).join(""),"])([").concat(Object.values(D.accents).join(""),"])"),"g");j=j.replace(he,"$2$1")}for(var q=0,G;G=j.charAt(q);q++){if(G==="#"){K?(ie=!ie,K=!1):K=!0,me&&(F.push(D.toSchemeA),me=!1);continue}else if(ie){F.push(G);continue}(re=W[G])!==void 0?(F.push(re),me=!1):(K&&(F.push("#"),K=!1),me&&(F.push(D.toSchemeA),me=!1),(re=N[G])?(F.push(re),me=C&&G in de):F.push(G))}return me&&F.push(D.toSchemeA),F.join("")};b.t=function(I,j,D,$){j||(j=b.detect(I).toLowerCase()),$=$||{};var F=v.options||{},de=b.defaults,N=v.from===j&&v.to===D,W;for(var C in de)if({}.hasOwnProperty.call(de,C)){var K=de[C];C in $&&(K=$[C]),$[C]=K,K!==F[C]&&(N=!1)}if(N?W=v.map:(W=_(j,D),v={from:j,map:W,options:$,to:D}),j==="itrans"&&(I=I.replace(/\{\\m\+\}/g,".h.N"),I=I.replace(/\.h/g,""),I=I.replace(/\\([^'`_]|$)/g,"##$1##")),j==="tamil_superscripted"){var me="(["+Object.values(w.tamil_superscripted.vowel_marks).join("")+w.tamil_superscripted.virama[""]+"]+)([])";I=I.replace(new RegExp(me,"g"),"$2$1"),console.error("transliteration from tamil_superscripted not fully implemented!")}var re=w[j].shortcuts;if(re)for(var ie in re){var te=re[ie];ie.includes(te)&&(I=I.replace(ie,te)),I=I.replace(te,ie)}var he="";W.fromRoman?he=T(I,W,$):he=A(I,W);var q=w[D].shortcuts;if(q)for(var G in q){var z=q[G];z.includes(G)&&(he=he.replace(z,G)),he=he.replace(G,z)}if(D==="tamil_superscripted"){var ce="([])(["+Object.values(w.tamil_superscripted.vowel_marks).join("")+w.tamil_superscripted.virama[""]+"]+)";he=he.replace(new RegExp(ce,"g"),"$2$1")}if(n($.preferred_alternates[D])=="object")for(var oe=Object.keys($.preferred_alternates[D]),ye=0;ye<oe.length;ye++)he=he.split(oe[ye]).join($.preferred_alternates[D][oe[ye]]);return he},b.transliterateWordwise=function(I,j,D,$){$=$||{};var F=I.split(/\s+/),de=F.map(function(N){var W=b.t(N,j,D,$);return[N,W]});return de},e.exports&&(t=b,e.exports=b),t.Sanscript=b}p(Ht,c,h)})(ng,ng.exports);var KD=ng.exports;const zr=Au(KD),WD=e=>{const t=e.default||e;if(!t||!t.addBrahmicScheme){console.error("Sanscript not found or addBrahmicScheme not supported");return}if(console.log("CustomSchemes: Checking for Devanagari scheme..."),t.schemes&&t.schemes.devanagari)if(Array.isArray(t.schemes.devanagari.consonants)){const w=t.schemes.devanagari.consonants;w.indexOf("")===-1&&w.push(""),w.indexOf("")===-1&&w.push(""),w.indexOf("")===-1&&w.push(""),console.log("CustomSchemes: Patched Devanagari scheme with , , ")}else console.warn("CustomSchemes: Devanagari consonants is not an array. It is:",typeof t.schemes.devanagari.consonants);else console.warn("CustomSchemes: Could not patch Devanagari scheme. S.schemes.devanagari not found."),t.schemes&&console.log("CustomSchemes: Available schemes:",Object.keys(t.schemes));t.addBrahmicScheme("devanagari_extended",{vowels:["","","","","","","","","","","","","","","",""],vowel_marks:["","","","","","","","","","","","","","",""],other:["","","","","",""],virama:[""],consonants:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],symbols:["","","","","","","","","","","",""],c_specials:{l3:"",r2:"",n2:""}}),t.addBrahmicScheme("malayalam_extended",{vowels:["","","","","","","","","","","","","","","",""],vowel_marks:["","","","","","","","","","","","","","",""],other:["","","","","",""],virama:[""],consonants:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],symbols:["","","","","","","","","","","",""],c_specials:{l3:"",r2:"",n2:""}}),t.addRomanScheme("itrans_extended",{vowels:["a","A","i","I","u","U","R","RR","LL","lRR","e","E","ai","o","O","au"],vowel_marks:["A","i","I","u","U","R","RR","LL","lRR","e","E","ai","o","O","au"],other:["M","H",".N",".a","OM",".."],virama:[""],consonants:["k","kh","g","gh","ng","c","ch","j","jh","nj","T","Th","D","Dh","N","t","th","d","dh","n","p","ph","b","bh","m","y","r","l","v","S","sh","s","h","L","ksh","jn","zh","R","n2"],c_specials:{l3:"zh",r2:"R",n2:"n2"}});const n=["","","","",""],r=["","","","",""],s=["","","","",""],i=["","","","",""],o=["","","","",""],a=["","","",""],l=["","","",""],u=["","",""],c=["","",""],h=[...n,...r,...s,...i,...o,...a,...l,...u,...c],p=["","","","","","","","","","","","","","","",""],f=["","","","","","","","","","","","","","",""];if(t.schemes.tamil&&t.schemes.devanagari){const w=t.schemes.tamil,y=t.schemes.devanagari,b=(v,_)=>Array.isArray(v)?v.map(T=>_[T]||""):[],g={vowels:p,vowel_marks:f,other:b(y.other,w.other||{}),virama:[""],consonants:h,symbols:b(y.symbols,w.symbols||{}),c_specials:{l3:"",r2:"",n2:""}};t.addBrahmicScheme("tamil_extended",g),console.log("CustomSchemes: Registered 'tamil_extended' scheme.")}else console.error("CustomSchemes: Failed to register 'tamil_extended'. Tamil or Devanagari schemes missing.")},hb={:"",:"",:"",:"",:"",:""},HD=["","","","",""],qD=["","","","",""],gl="",GD="",fb="",YD=e=>{let t=e;const n=Object.keys(hb);let r=0,s="";for(;r<t.length;){let i=!1;for(const o of n)if(t.startsWith(o,r)){const a=hb[o],l=t[r+o.length];let u=!1;if(o===""?(l&&HD.includes(l)&&(u=!0),(l===gl||l===fb)&&(u=!0)):o===""?(l&&qD.includes(l)&&(u=!0),l===gl&&(u=!0)):o===""?(l===""&&(u=!0),(l===GD||l===gl)&&(u=!0)):o===""?l===""&&(u=!0):o===""?l===gl&&(u=!0):o===""&&(l===fb&&(u=!0),l===gl&&(u=!0)),!u){s+=a,r+=o.length,i=!0;break}}i||(s+=t[r],r++)}return s},Kc="0123456789",QD=(e,t)=>{try{let n;if(zr&&zr.t?n=zr.t(Kc,"itrans",t):zr&&zr.default&&zr.default.t&&(n=zr.default.t(Kc,"itrans",t)),!n||n===Kc)return e;let r=e;for(let s=0;s<10;s++){const i=n[s],o=Kc[s];i&&i!==o&&(r=r.split(i).join(o))}return r}catch(n){return console.error("Error in revertToEnglishNumerals:",n),e}},JD=(e,t,n=!1)=>{const r="",s=[...n?[{nasal:"",chars:""}]:[{nasal:"",chars:""}],...n?[]:[{nasal:"",chars:""}],{nasal:"",chars:""},{nasal:"",chars:""},...n?[{nasal:"",chars:""}]:[{nasal:"",chars:""}]];let i="";for(let o=0;o<e.length;o++){const a=e[o];if(a===r&&o+1<e.length){const l=e[o+1];let u=!1;for(const c of s)if(c.chars.includes(l)){i+=c.nasal,u=!0;break}u||(i+=a)}else i+=a}return i},ZD={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":""},XD=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];t+=ZD[r]||r}return t};WD(zr);function eN(e){return e.replace(/~nja?/g,"~n").replace(/~nca?/g,"~nca").replace(/[]?/g,"n").replace(/jh/g,"c").replace(/bh/g,"p").replace(/gh/g,"k").replace(/dh/g,"t").replace(/([kctp])a(?![aiueo])/g,"$1").replace(//g,"").replace(//g,"i").replace(//g,"").replace(//g,"u").replace(//g,"").replace(/n([ctkp])/g,"$1").replace(//g,"").replace(//g,"r").replace(/aa/g,"A").replace(/ii/g,"I").replace(/uu/g,"U")}const Ia=(e,t,n)=>{const r=t.toLowerCase(),s=n.toLowerCase();if(s==="original"||r==="tamil"&&s==="tamil_superscripted")return e;let i=e,o=e;try{r==="devanagari"?i=JD(i,"devanagari",!0):(r==="tamil"||r==="tamil_superscripted")&&(i=i.normalize("NFC"));let a=r,l=s;if(r==="tamil_superscripted"&&(a="tamil"),s==="tamil_superscripted"&&(l="tamil"),a==="tamil"?(i=XD(i),a="devanagari"):a!=="devanagari"&&(a="itrans"),a!==l){let u=zr.default||zr;if((!u||!u.t)&&(console.warn("Using window.Sanscript fallback. Custom schemes might be missing."),u=window.Sanscript),u&&u.t)u.schemes[a]||console.error(`transliterateText: Scheme '${a}' not found!`),o=u.t(i,a,l);else return console.error("Sanscript not found"),e}else o=i;return(s==="malayalam"||s==="malayalam_extended")&&(o=YD(o)),o=QD(o,l),s==="itrans"&&r==="tamil"&&(o=eN(o)),o}catch(a){return console.error(`Sanscript Transliteration Error for target: ${n}. Returning original text.`,a),e}},tN={color:"#059669",background:"#E6FFEE"},nN={color:"#EF4444",background:"#FEEEEE"},rN={color:"green"},sN={color:"black"},pb={backgroundColor:"#e0e0e0",fontWeight:"bold",color:"blue"},iN={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},U1={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 15px",marginBottom:"2px",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.2s ease",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid #e2e8f0"},oN={backgroundColor:"#f0f4f8"},aN={backgroundColor:"#f5f5f5",fontWeight:"bold",fontSize:"1.2em",padding:"15px 15px 5px 15px",cursor:"default",marginBottom:"10px",marginTop:"15px",borderBottom:"2px solid #ddd",boxShadow:"none"},mb={...U1,backgroundColor:"#eaf2ff",color:"#1e40af",fontWeight:"500",border:"1px solid #c3dafe"},lN=async(e,t)=>{if(!e)return[];const n=new URL(bi);n.searchParams.append("mode","api"),n.searchParams.append("apiname","getsongsforbook"),n.searchParams.append("book",e),n.searchParams.append("sessionuser",t??"dummyfornow");const r=await fetch(n.toString());if(!r.ok){const i=await r.json().catch(()=>({message:"No detailed error message"}));throw new Error(`Failed to fetch song indices for book ${e}: ${r.status} - ${JSON.stringify(i)}`)}const s=await r.json();return s.data||s},uN=(e,t)=>{const[n,r]=S.useState({});return S.useEffect(()=>{if(r({}),!e||!t||t.length===0)return;(async()=>{const i=t.map(async l=>{const u=await Nh(e,l.songTitle);return{title:l.songTitle,isDownloaded:u}}),a=(await Promise.all(i)).reduce((l,u)=>(l[u.title]=u.isDownloaded,l),{});r(a)})()},[e,t]),n},cN=(e,t)=>{const n=t==="itrans"?e.songTitle:(()=>{if(window.Sanscript)try{return Ia(e.songTitle,"itrans",t)}catch(i){return console.error("Error during transliteration",i),e.songTitle}return e.songTitle})(),r=n.length>50?n.substring(0,50)+"...":n,s=e.raagam?t==="itrans"?e.raagam:(()=>{if(window.Sanscript)try{return Ia(e.raagam,"itrans",t)}catch(i){return console.error("Error during raagam transliteration",i),e.raagam}return e.raagam})():null;return e.type==="link"?k.jsxs("div",{style:{display:"flex",alignItems:"center",flexGrow:1},children:[k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"10px",minWidth:"20px"},children:[k.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2V3z"}),k.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7V3z"})]}),k.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[k.jsx("span",{style:{fontSize:"1.2em"},title:n,children:r}),s&&k.jsxs(k.Fragment,{children:[k.jsx("span",{style:{margin:"0 8px",color:"#ccc"},children:"|"}),k.jsx("span",{style:{fontSize:"0.95em",color:"#666",fontStyle:"italic"},children:s})]})]})]}):k.jsxs("div",{style:{flexGrow:1,display:"flex",alignItems:"center",flexWrap:"wrap"},children:[k.jsx("span",{style:{fontSize:"1.2em"},title:n,children:r}),s&&k.jsxs(k.Fragment,{children:[k.jsx("span",{style:{margin:"0 8px",color:"#ccc"},children:"|"}),k.jsx("span",{style:{fontSize:"0.95em",color:"#666",fontStyle:"italic"},children:s})]})]})},gb=e=>{if(e.type!=="link"||!e.link)return null;try{return JSON.parse(e.link).bookId||null}catch{return null}};function dN(){var W;const{categoryId:e,bookId:t}=Ua(),n=Jn(),{isEffectivelyOffline:r}=qy(),{session:s}=xi(),i=(W=s==null?void 0:s.user)==null?void 0:W.email,[o,a]=S.useState(null),{preferredLanguage:l}=_o(),[,u]=S.useState({}),[c,h]=S.useState(!0),[p,f]=S.useState([]);S.useEffect(()=>{(async()=>{h(!0);try{const K=await _D();f(K)}catch(K){console.error("Failed to fetch downloaded book IDs:",K)}finally{h(!1)}})()},[]),S.useEffect(()=>{u({})},[l]);const{isLoading:w,error:y,data:b,isFetching:g}=Ih({queryKey:["songIndices",t,i],queryFn:async()=>{if(!t||!i)return[];const C=await Dh(t);return C&&C.length>0?C:lN(t,i)},staleTime:1/0,gcTime:0,networkMode:"always",refetchOnWindowFocus:!1,refetchOnMount:!1,enabled:!!t&&!!i}),v=b,{downloadStatus:_}=Gy(),T=uN(t,v);if(S.useEffect(()=>{t&&b&&!g&&Hy(t,b).catch(C=>{console.error("Error saving song indices data to IndexedDB:",C)})},[t,b,g]),S.useEffect(()=>{const C=sessionStorage.getItem("lastClickedSongIndex");C!==null&&(a(parseInt(C,10)),sessionStorage.removeItem("lastClickedSongIndex"))},[]),w)return k.jsx("div",{style:iN,children:k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[k.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),k.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),k.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),k.jsx("p",{style:{marginLeft:"10px"},children:"Loading song indices..."})]})});if(y instanceof Error)return k.jsxs("div",{children:["Error loading song indices: ",y.message]});const I=(C,K,me,re)=>{switch(C.stopPropagation(),K[me].type){case"title":break;case"link":const te=K[me].link,he=JSON.parse(te),q=he.categoryId.trim(),G=he.bookId.trim(),z=`/book/${q}/${G}`;console.log(z),q&&G&&(sessionStorage.setItem("lastClickedSongIndex",me.toString()),n(z));break;default:const ce=K[me].sourceRow,oe=K[me].songTitle;re&&(sessionStorage.setItem("lastClickedSongIndex",me.toString()),n(`/details/book/${e}/${re}/${ce}/${encodeURIComponent(oe)}`,{state:{filteredSongIndices:K,index:me}}))}},j=C=>T[C]===!0,D=C=>p.includes(C),$=(v==null?void 0:v.filter(C=>r?j(C.songTitle):!0))??[],F=(C,K)=>{if(C.type==="title")return aN;if(C.type==="link"){const re=gb(C),ie=re?D(re):!1;return{...mb,...ie?tN:nN,...K===o&&pb}}const me=j(C.songTitle);return{...U1,...me?rN:sN,...K===o&&pb}},de=(C,K)=>{K!=="title"&&(C.currentTarget.style.backgroundColor=oN.backgroundColor)},N=(C,K)=>{K!=="title"&&(K==="link"?C.currentTarget.style.backgroundColor=mb.backgroundColor:C.currentTarget.style.backgroundColor="")};return k.jsxs(k.Fragment,{children:[k.jsx(Qy,{}),k.jsxs("div",{children:[k.jsxs("h2",{children:["Song Indices for Book:"," ",`bookId: ${t} (${$.length} items)`]}),k.jsx("ul",{className:"list-none p-0 m-0",children:$==null?void 0:$.map((C,K)=>{var me;return gb(C),k.jsxs("li",{onClick:re=>{C.type!=="title"&&I(re,$,K,t)},style:F(C,K),onMouseEnter:re=>de(re,C.type),onMouseLeave:re=>N(re,C.type),className:`transition-all duration-150 ease-in-out ${C.type!=="title"?"hover:shadow-md":""}`,children:[cN(C,l),C.type==="song"&&k.jsx("span",{style:{marginLeft:"10px",color:"#EF4444"},children:t&&((me=_[t])==null?void 0:me.downloadingSongs[C.songTitle||""])&&"..downloading song.."}),C.type==="link"&&D(t)&&k.jsx("span",{style:{marginLeft:"10px",color:"orange",fontSize:"0.85em",fontWeight:"600"},children:"..downloading linked book.."})]},C.sourceRow)})})]})]})}const hN=e=>{const t=/([-])(?![])(?=[-])/g;return e.replace(t,"$1&shy;")},fN=e=>{const t=/<link\s+categoryId="([^"]+)"\s+bookId="([^"]+)"\s+sourceRow=(?:\"([^\"]+)\"|(\S+))\s+songTitle="([^"]+)">([\s\S]*?)<\/link>/gi;return e.replace(t,(n,r,s,i,o,a,l)=>{const u=i||o,c=r.replace(/"/g,"&quot;"),h=s.replace(/"/g,"&quot;"),p=u.replace(/"/g,"&quot;"),f=a.replace(/"/g,"&quot;");return`
      <a 
        href="#"
        class="text-indigo-600 hover:text-indigo-800 font-medium underline cursor-pointer transition-colors duration-150"
        onclick="event.preventDefault(); window.handleInternalNavigation(
          '${c}', 
          '${h}', 
          '${p}', 
          '${f}'
        );"
      >
        ${l}
      </a>
    `})},pN=({data:e,className:t="",highlightColor:n="bg-amber-50",highlightColumns:r=[],wrapColumns:s=[],striped:i=!0,hoverEffect:o=!0,maxWidth:a="screen",fontSize:l="3xl",preferredLanguage:u,sourceLanguage:c})=>{if(!Array.isArray(e)||e.length<1)return k.jsx("div",{className:"p-2 text-red-500 bg-red-50 rounded",children:"Invalid data: Must be a non-empty array"});const[h,...p]=e,f=y=>{let b=String(y).replace(/ \s*\/?>/gi,"<br/>").replace(/\n/g,"<br/>");if(typeof y=="string"&&u!==c)try{const g=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let v=Ia(g,c,u);(u.toLowerCase()==="devanagari"||u.toLowerCase()==="devanagari")&&(v=hN(v)),b=v}catch(g){return console.error("Error during transliteration:",g),{__html:b}}return b=b.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"),b=fN(b),{__html:b}},w=a==="screen"?"max-w-screen":a==="full"?"w-full":a;return k.jsx("div",{className:`overflow-x-auto rounded-lg border bg-gray-300 ${w} ${t}`,children:k.jsxs("table",{className:"min-w-full divide-y divide-gray-200 font-devanagari",children:[k.jsx("thead",{className:"bg-gray-50",children:k.jsx("tr",{children:h.map((y,b)=>k.jsx("th",{className:`
         px-4 py-4 text-left text-${l} font-medium text-gray-700
         ${r.includes(b)?n:""}
         sticky top-0 bg-gray-100
        `,dangerouslySetInnerHTML:f(y)},`th-${b}`))})}),k.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map((y,b)=>k.jsx("tr",{id:`trRowAsAnchor-${b}`,className:`
    ${i&&b%2===0?"bg-white":"bg-gray-100"}
    ${o?"hover:bg-indigo-50":""}
   `,children:y.map((g,v)=>k.jsx("td",{className:`
      px-4 py-3.5 text-${l} align-top
      ${s.includes(v)?"whitespace-normal break-all max-w-full":"whitespace-nowrap"}
      ${r.includes(v)?n:""}
     `,dangerouslySetInnerHTML:f(g)},`td-${b}-${v}`))},`row-${b}`))})]})})};function mN(e,t,n){return Math.max(t,Math.min(e,n))}const pn={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function yb(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function vb(e,t,n,r=.15){return r===0?mN(e,t,n):e<t?-yb(t-e,n-t,r)+t:e>n?+yb(e-n,n-t,r)+n:e}function gN(e,[t,n],[r,s]){const[[i,o],[a,l]]=e;return[vb(t,i,o,r),vb(n,a,l,s)]}function yN(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vN(e){var t=yN(e,"string");return typeof t=="symbol"?t:String(t)}function Pn(e,t,n){return t=vN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wb(Object(n),!0).forEach(function(r){Pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const z1={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function bb(e){return e?e[0].toUpperCase()+e.slice(1):""}const wN=["enter","leave"];function bN(e=!1,t){return e&&!wN.includes(t)}function _N(e,t="",n=!1){const r=z1[e],s=r&&r[t]||t;return"on"+bb(e)+bb(s)+(bN(n,s)?"Capture":"")}const xN=["gotpointercapture","lostpointercapture"];function kN(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=xN.includes(t)?"capturecapture":"capture",s=!!~t.indexOf(r);return s&&(t=t.replace("capture","")),{device:t,capture:s,passive:n}}function SN(e,t=""){const n=z1[e],r=n&&n[t]||t;return e+r}function $h(e){return"touches"in e}function V1(e){return $h(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function EN(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function CN(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function K1(e){return $h(e)?CN(e)[0]:e}function TN(e){return EN(e).map(t=>t.identifier)}function fp(e){const t=K1(e);return $h(e)?t.identifier:t.pointerId}function _b(e){const t=K1(e);return[t.clientX,t.clientY]}function PN(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i})}return t}function Xd(e,...t){return typeof e=="function"?e(...t):e}function RN(){}function AN(...e){return e.length===0?RN:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function xb(e,t){return Object.assign({},t,e||{})}const jN=32;class ON{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:s}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=s,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?Xd(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:s}=this;n.args=this.args;let i=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,PN(t)),s.down=s.pressed=s.buttons%2===1||s.touches>0,i=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const I=n._delta.map(Math.abs);pn.addTo(n._distance,I)}this.axisIntent&&this.axisIntent(t);const[o,a]=n._movement,[l,u]=r.threshold,{_step:c,values:h}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&h[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&h[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[I,j]=h;p[0]=c[0]!==!1?I-c[0]:0,p[1]=c[1]!==!1?j-c[1]:0}else p[0]=c[0]!==!1?o-c[0]:0,p[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(p);const f=n.offset,w=n._active&&!n._blocked||n.active;w&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=s[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=Xd(r.bounds,n)),this.setup&&this.setup()),n.movement=p,this.computeOffset()));const[y,b]=n.offset,[[g,v],[_,T]]=n._bounds;n.overflow=[y<g?-1:y>v?1:0,b<_?-1:b>T?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const A=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=gN(n._bounds,n.offset,A),n.delta=pn.sub(n.offset,f),this.computeMovement(),w&&(!n.last||i>jN)){n.delta=pn.sub(n.offset,f);const I=n.delta.map(Math.abs);pn.addTo(n.distance,I),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&i>0&&(n.velocity=[I[0]/i,I[1]/i],n.timeDelta=i)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const s=this.handler(St(St(St({},n),t),{},{[this.aliasKey]:t.values}));s!==void 0&&(t.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function IN([e,t],n){const r=Math.abs(e),s=Math.abs(t);if(r>s&&r>n)return"x";if(s>r&&s>n)return"y"}class DN extends ON{constructor(...t){super(...t),Pn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=pn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=pn.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const s=typeof r.axisThreshold=="object"?r.axisThreshold[V1(t)]:r.axisThreshold;n.axis=IN(n._movement,s)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const NN=e=>e,kb=.15,W1={enabled(e=!0){return e},eventOptions(e,t,n){return St(St({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[kb,kb];case!1:return[0,0];default:return pn.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return pn.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||NN},threshold(e){return pn.toVector(e,0)}},LN=0,Uu=St(St({},W1),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=LN){return e},bounds(e={}){if(typeof e=="function")return i=>Uu.bounds(e(i));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:s=1/0}=e;return[[t,n],[r,s]]}}),Sb={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class $N extends DN{constructor(...t){super(...t),Pn(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),s={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=Uu.bounds(s)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const s=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(s&&s.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=fp(t),r._pointerActive=!0,this.computeValues(_b(t)),this.computeInitial(),n.preventScrollAxis&&V1(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const s=fp(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;const i=_b(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=pn.sub(i,n._values),this.computeValues(i)),pn.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const s=fp(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[i,o]=n._distance;if(n.tap=i<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[u,c]=n._movement,[h,p]=r.swipe.velocity,[f,w]=r.swipe.distance,y=r.swipe.duration;if(n.elapsedTime<y){const b=Math.abs(a/n.timeDelta),g=Math.abs(l/n.timeDelta);b>h&&Math.abs(u)>f&&(n.swipe[0]=Math.sign(a)),g>p&&Math.abs(c)>w&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,MN(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=Sb[t.key];if(n){const r=this.state,s=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,s),r._keyboardActive=!0,pn.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Sb&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function MN(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const zu=typeof window<"u"&&window.document&&window.document.createElement;function H1(){return zu&&"ontouchstart"in window}function FN(){return H1()||zu&&window.navigator.maxTouchPoints>1}function BN(){return zu&&"onpointerdown"in window}function UN(){return zu&&"exitPointerLock"in window.document}function zN(){try{return"constructor"in GestureEvent}catch{return!1}}const ur={isBrowser:zu,gesture:zN(),touch:H1(),touchscreen:FN(),pointer:BN(),pointerLock:UN()},VN=250,KN=180,WN=.5,HN=50,qN=250,GN=10,Eb={mouse:0,touch:0,pen:8},YN=St(St({},Uu),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:s=!1}={}}){return this.pointerLock=r&&ur.pointerLock,ur.touch&&n?"touch":this.pointerLock?"mouse":ur.pointer&&!s?"pointer":ur.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?VN:void 0,!(!ur.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:s=!0}={}}){return this.pointerButtons=r,this.keys=s,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:s=void 0}){const i=pn.toVector(e,n?r:s?1:0);return this.filterTaps=n,this.tapsThreshold=r,i},swipe({velocity:e=WN,distance:t=HN,duration:n=qN}={}){return{velocity:this.transform(pn.toVector(e)),distance:this.transform(pn.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return KN;case!1:return 0;default:return e}},axisThreshold(e){return e?St(St({},Eb),e):Eb},keyboardDisplacement(e=GN){return e}});St(St({},W1),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!ur.touch&&ur.gesture)return"gesture";if(ur.touch&&r)return"touch";if(ur.touchscreen){if(ur.pointer)return"pointer";if(ur.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const s=o=>{const a=xb(Xd(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},i=o=>{const a=xb(Xd(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[s(),i()]:o=>[s(o),i(o)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",pn.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});St(St({},Uu),{},{mouseOnly:(e=!0)=>e});St(St({},Uu),{},{mouseOnly:(e=!0)=>e});const q1=new Map,rg=new Map;function QN(e){q1.set(e.key,e.engine),rg.set(e.key,e.resolver)}const JN={key:"drag",engine:$N,resolver:YN};function ZN(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function XN(e,t){if(e==null)return{};var n=ZN(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const eL={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=ur.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},tL=["target","eventOptions","window","enabled","transform"];function md(e={},t){const n={};for(const[r,s]of Object.entries(t))switch(typeof s){case"function":n[r]=s.call(n,e[r],r,e);break;case"object":n[r]=md(e[r],s);break;case"boolean":s&&(n[r]=e[r]);break}return n}function nL(e,t,n={}){const r=e,{target:s,eventOptions:i,window:o,enabled:a,transform:l}=r,u=XN(r,tL);if(n.shared=md({target:s,eventOptions:i,window:o,enabled:a,transform:l},eL),t){const c=rg.get(t);n[t]=md(St({shared:n.shared},u),c)}else for(const c in u){const h=rg.get(c);h&&(n[c]=md(St({shared:n.shared},u[c]),h))}return n}class G1{constructor(t,n){Pn(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,s,i){const o=this._listeners,a=SN(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=St(St({},l),i);t.addEventListener(a,s,u);const c=()=>{t.removeEventListener(a,s,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class rL{constructor(){Pn(this,"_timeouts",new Map)}add(t,n,r=140,...s){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...s))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class sL{constructor(t){Pn(this,"gestures",new Set),Pn(this,"_targetEventStore",new G1(this)),Pn(this,"gestureEventStores",{}),Pn(this,"gestureTimeoutStores",{}),Pn(this,"handlers",{}),Pn(this,"config",{}),Pn(this,"pointerIds",new Set),Pn(this,"touchIds",new Set),Pn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),iL(this,t)}setEventIds(t){if($h(t))return this.touchIds=new Set(TN(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=nL(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let s;if(!(n.target&&(s=n.target(),!s))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=Cb(r,a.eventOptions,!!s);if(a.enabled){const u=q1.get(o);new u(this,t,o).bind(l)}}const i=Cb(r,n.eventOptions,!!s);for(const o in this.nativeHandlers)i(o,"",a=>this.nativeHandlers[o](St(St({},this.state.shared),{},{event:a,args:t})),void 0,!0)}for(const i in r)r[i]=AN(...r[i]);if(!s)return r;for(const i in r){const{device:o,capture:a,passive:l}=kN(i);this._targetEventStore.add(s,o,"",r[i],{capture:a,passive:l})}}}}function Mo(e,t){e.gestures.add(t),e.gestureEventStores[t]=new G1(e,t),e.gestureTimeoutStores[t]=new rL}function iL(e,t){t.drag&&Mo(e,"drag"),t.wheel&&Mo(e,"wheel"),t.scroll&&Mo(e,"scroll"),t.move&&Mo(e,"move"),t.pinch&&Mo(e,"pinch"),t.hover&&Mo(e,"hover")}const Cb=(e,t,n)=>(r,s,i,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:t.capture,h=(u=o.passive)!==null&&u!==void 0?u:t.passive;let p=a?r:_N(r,s,c);n&&h&&(p+="Passive"),e[p]=e[p]||[],e[p].push(i)};function oL(e,t={},n,r){const s=Ke.useMemo(()=>new sL(e),[]);if(s.applyHandlers(e,r),s.applyConfig(t,n),Ke.useEffect(s.effect.bind(s)),Ke.useEffect(()=>s.clean.bind(s),[]),t.target===void 0)return s.bind.bind(s)}function aL(e,t){return QN(JN),oL({drag:e},t||{},"drag")}const Jy=S.createContext({});function Zy(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xy=typeof window<"u",Y1=Xy?S.useLayoutEffect:S.useEffect,Mh=S.createContext(null);function ev(e,t){e.indexOf(t)===-1&&e.push(t)}function tv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const _s=(e,t,n)=>n>t?t:n<e?e:n;let nv=()=>{};const xs={},Q1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function J1(e){return typeof e=="object"&&e!==null}const Z1=e=>/^0[^.\s]+$/u.test(e);function rv(e){let t;return()=>(t===void 0&&(t=e()),t)}const fr=e=>e,lL=(e,t)=>n=>t(e(n)),Vu=(...e)=>e.reduce(lL),wu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class sv{constructor(){this.subscriptions=[]}add(t){return ev(this.subscriptions,t),()=>tv(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qr=e=>e*1e3,dr=e=>e/1e3;function X1(e,t){return t?e*(1e3/t):0}const eE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,uL=1e-7,cL=12;function dL(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=eE(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>uL&&++a<cL);return o}function Ku(e,t,n,r){if(e===t&&n===r)return fr;const s=i=>dL(i,0,1,e,n);return i=>i===0||i===1?i:eE(s(i),t,r)}const tE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nE=e=>t=>1-e(1-t),rE=Ku(.33,1.53,.69,.99),iv=nE(rE),sE=tE(iv),iE=e=>(e*=2)<1?.5*iv(e):.5*(2-Math.pow(2,-10*(e-1))),ov=e=>1-Math.sin(Math.acos(e)),oE=nE(ov),aE=tE(ov),hL=Ku(.42,0,1,1),fL=Ku(0,0,.58,1),lE=Ku(.42,0,.58,1),pL=e=>Array.isArray(e)&&typeof e[0]!="number",uE=e=>Array.isArray(e)&&typeof e[0]=="number",mL={linear:fr,easeIn:hL,easeInOut:lE,easeOut:fL,circIn:ov,circInOut:aE,circOut:oE,backIn:iv,backInOut:sE,backOut:rE,anticipate:iE},gL=e=>typeof e=="string",Tb=e=>{if(uE(e)){nv(e.length===4);const[t,n,r,s]=e;return Ku(t,n,r,s)}else if(gL(e))return mL[e];return e},Wc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function yL(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,h=!1,p=!1)=>{const w=p&&s?n:r;return h&&o.add(c),w.has(c)||w.add(c),c},cancel:c=>{r.delete(c),o.delete(c)},process:c=>{if(a=c,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,u.process(c))}};return u}const vL=40;function cE(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Wc.reduce((_,T)=>(_[T]=yL(i),_),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:p,render:f,postRender:w}=o,y=()=>{const _=xs.useManualTiming?s.timestamp:performance.now();n=!1,xs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,vL),1)),s.timestamp=_,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),c.process(s),h.process(s),p.process(s),f.process(s),w.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(y))},b=()=>{n=!0,r=!0,s.isProcessing||e(y)};return{schedule:Wc.reduce((_,T)=>{const A=o[T];return _[T]=(I,j=!1,D=!1)=>(n||b(),A.schedule(I,j,D)),_},{}),cancel:_=>{for(let T=0;T<Wc.length;T++)o[Wc[T]].cancel(_)},state:s,steps:o}}const{schedule:bt,cancel:mi,state:rn,steps:pp}=cE(typeof requestAnimationFrame<"u"?requestAnimationFrame:fr,!0);let gd;function wL(){gd=void 0}const In={now:()=>(gd===void 0&&In.set(rn.isProcessing||xs.useManualTiming?rn.timestamp:performance.now()),gd),set:e=>{gd=e,queueMicrotask(wL)}},dE=e=>t=>typeof t=="string"&&t.startsWith(e),av=dE("--"),bL=dE("var(--"),lv=e=>bL(e)?_L.test(e.split("/*")[0].trim()):!1,_L=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ha={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bu={...Ha,transform:e=>_s(0,1,e)},Hc={...Ha,default:1},Vl=e=>Math.round(e*1e5)/1e5,uv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xL(e){return e==null}const kL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cv=(e,t)=>n=>!!(typeof n=="string"&&kL.test(n)&&n.startsWith(e)||t&&!xL(n)&&Object.prototype.hasOwnProperty.call(n,t)),hE=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(uv);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},SL=e=>_s(0,255,e),mp={...Ha,transform:e=>Math.round(SL(e))},qi={test:cv("rgb","red"),parse:hE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+mp.transform(e)+", "+mp.transform(t)+", "+mp.transform(n)+", "+Vl(bu.transform(r))+")"};function EL(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const sg={test:cv("#"),parse:EL,transform:qi.transform},Wu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$s=Wu("deg"),Jr=Wu("%"),Ye=Wu("px"),CL=Wu("vh"),TL=Wu("vw"),Pb={...Jr,parse:e=>Jr.parse(e)/100,transform:e=>Jr.transform(e*100)},Xo={test:cv("hsl","hue"),parse:hE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Jr.transform(Vl(t))+", "+Jr.transform(Vl(n))+", "+Vl(bu.transform(r))+")"},Bt={test:e=>qi.test(e)||sg.test(e)||Xo.test(e),parse:e=>qi.test(e)?qi.parse(e):Xo.test(e)?Xo.parse(e):sg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qi.transform(e):Xo.transform(e),getAnimatableNone:e=>{const t=Bt.parse(e);return t.alpha=0,Bt.transform(t)}},PL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RL(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(uv))==null?void 0:t.length)||0)+(((n=e.match(PL))==null?void 0:n.length)||0)>0}const fE="number",pE="color",AL="var",jL="var(",Rb="${}",OL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _u(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(OL,l=>(Bt.test(l)?(r.color.push(i),s.push(pE),n.push(Bt.parse(l))):l.startsWith(jL)?(r.var.push(i),s.push(AL),n.push(l)):(r.number.push(i),s.push(fE),n.push(parseFloat(l))),++i,Rb)).split(Rb);return{values:n,split:a,indexes:r,types:s}}function mE(e){return _u(e).values}function gE(e){const{split:t,types:n}=_u(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===fE?i+=Vl(s[o]):a===pE?i+=Bt.transform(s[o]):i+=s[o]}return i}}const IL=e=>typeof e=="number"?0:Bt.test(e)?Bt.getAnimatableNone(e):e;function DL(e){const t=mE(e);return gE(e)(t.map(IL))}const gi={test:RL,parse:mE,createTransformer:gE,getAnimatableNone:DL};function gp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function NL({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=gp(l,a,e+1/3),i=gp(l,a,e),o=gp(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function eh(e,t){return n=>n>0?t:e}const kt=(e,t,n)=>e+(t-e)*n,yp=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},LL=[sg,qi,Xo],$L=e=>LL.find(t=>t.test(e));function Ab(e){const t=$L(e);if(!t)return!1;let n=t.parse(e);return t===Xo&&(n=NL(n)),n}const jb=(e,t)=>{const n=Ab(e),r=Ab(t);if(!n||!r)return eh(e,t);const s={...n};return i=>(s.red=yp(n.red,r.red,i),s.green=yp(n.green,r.green,i),s.blue=yp(n.blue,r.blue,i),s.alpha=kt(n.alpha,r.alpha,i),qi.transform(s))},ig=new Set(["none","hidden"]);function ML(e,t){return ig.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function FL(e,t){return n=>kt(e,t,n)}function dv(e){return typeof e=="number"?FL:typeof e=="string"?lv(e)?eh:Bt.test(e)?jb:zL:Array.isArray(e)?yE:typeof e=="object"?Bt.test(e)?jb:BL:eh}function yE(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>dv(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function BL(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=dv(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function UL(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const zL=(e,t)=>{const n=gi.createTransformer(t),r=_u(e),s=_u(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ig.has(e)&&!s.values.length||ig.has(t)&&!r.values.length?ML(e,t):Vu(yE(UL(r,s),s.values),n):eh(e,t)};function vE(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?kt(e,t,n):dv(e)(e,t)}const VL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>bt.update(t,n),stop:()=>mi(t),now:()=>rn.isProcessing?rn.timestamp:In.now()}},wE=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},th=2e4;function hv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<th;)t+=n,r=e.next(t);return t>=th?1/0:t}function KL(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(hv(r),th);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:dr(s)}}const WL=5;function bE(e,t,n){const r=Math.max(t-WL,0);return X1(n-e(r),t-r)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vp=.001;function HL({duration:e=Rt.duration,bounce:t=Rt.bounce,velocity:n=Rt.velocity,mass:r=Rt.mass}){let s,i,o=1-t;o=_s(Rt.minDamping,Rt.maxDamping,o),e=_s(Rt.minDuration,Rt.maxDuration,dr(e)),o<1?(s=u=>{const c=u*o,h=c*e,p=c-n,f=og(u,o),w=Math.exp(-h);return vp-p/f*w},i=u=>{const h=u*o*e,p=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-h),y=og(Math.pow(u,2),o);return(-s(u)+vp>0?-1:1)*((p-f)*w)/y}):(s=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-vp+c*h},i=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const a=5/e,l=GL(s,i,a);if(e=Qr(e),isNaN(l))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const qL=12;function GL(e,t,n){let r=n;for(let s=1;s<qL;s++)r=r-e(r)/t(r);return r}function og(e,t){return e*Math.sqrt(1-t*t)}const YL=["duration","bounce"],QL=["stiffness","damping","mass"];function Ob(e,t){return t.some(n=>e[n]!==void 0)}function JL(e){let t={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...e};if(!Ob(e,QL)&&Ob(e,YL))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*_s(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Rt.mass,stiffness:s,damping:i}}else{const n=HL(e);t={...t,...n,mass:Rt.mass},t.isResolvedFromDuration=!0}return t}function nh(e=Rt.visualDuration,t=Rt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:h,velocity:p,isResolvedFromDuration:f}=JL({...n,velocity:-dr(n.velocity||0)}),w=p||0,y=u/(2*Math.sqrt(l*c)),b=o-i,g=dr(Math.sqrt(l/c)),v=Math.abs(b)<5;r||(r=v?Rt.restSpeed.granular:Rt.restSpeed.default),s||(s=v?Rt.restDelta.granular:Rt.restDelta.default);let _;if(y<1){const A=og(g,y);_=I=>{const j=Math.exp(-y*g*I);return o-j*((w+y*g*b)/A*Math.sin(A*I)+b*Math.cos(A*I))}}else if(y===1)_=A=>o-Math.exp(-g*A)*(b+(w+g*b)*A);else{const A=g*Math.sqrt(y*y-1);_=I=>{const j=Math.exp(-y*g*I),D=Math.min(A*I,300);return o-j*((w+y*g*b)*Math.sinh(D)+A*b*Math.cosh(D))/A}}const T={calculatedDuration:f&&h||null,next:A=>{const I=_(A);if(f)a.done=A>=h;else{let j=A===0?w:0;y<1&&(j=A===0?Qr(w):bE(_,A,I));const D=Math.abs(j)<=r,$=Math.abs(o-I)<=s;a.done=D&&$}return a.value=a.done?o:I,a},toString:()=>{const A=Math.min(hv(T),th),I=wE(j=>T.next(A*j).value,A,30);return A+"ms "+I},toTransition:()=>{}};return T}nh.applyToOptions=e=>{const t=KL(e,100,nh);return e.ease=t.ease,e.duration=Qr(t.duration),e.type="keyframes",e};function ag({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=e[0],p={done:!1,value:h},f=D=>a!==void 0&&D<a||l!==void 0&&D>l,w=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let y=n*t;const b=h+y,g=o===void 0?b:o(b);g!==b&&(y=g-h);const v=D=>-y*Math.exp(-D/r),_=D=>g+v(D),T=D=>{const $=v(D),F=_(D);p.done=Math.abs($)<=u,p.value=p.done?g:F};let A,I;const j=D=>{f(p.value)&&(A=D,I=nh({keyframes:[p.value,w(p.value)],velocity:bE(_,D,p.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return j(0),{calculatedDuration:null,next:D=>{let $=!1;return!I&&A===void 0&&($=!0,T(D),j(D)),A!==void 0&&D>=A?I.next(D-A):(!$&&T(D),p)}}}function ZL(e,t,n){const r=[],s=n||xs.mix||vE,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||fr:t;a=Vu(l,a)}r.push(a)}return r}function XL(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(nv(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=ZL(t,r,s),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(c<e[h+1]);h++);const p=wu(e[h],e[h+1],c);return a[h](p)};return n?c=>u(_s(e[0],e[i-1],c)):u}function e$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=wu(0,t,r);e.push(kt(n,1,s))}}function t$(e){const t=[0];return e$(t,e.length-1),t}function n$(e,t){return e.map(n=>n*t)}function r$(e,t){return e.map(()=>t||lE).splice(0,e.length-1)}function Kl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=pL(r)?r.map(Tb):Tb(r),i={done:!1,value:t[0]},o=n$(n&&n.length===t.length?n:t$(t),e),a=XL(o,t,{ease:Array.isArray(s)?s:r$(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const s$=e=>e!==null;function fv(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(s$),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const i$={decay:ag,inertia:ag,tween:Kl,keyframes:Kl,spring:nh};function _E(e){typeof e.type=="string"&&(e.type=i$[e.type])}class pv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const o$=e=>e/100;class mv extends pv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==In.now()&&this.tick(In.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;_E(t);const{type:n=Kl,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Kl;l!==Kl&&typeof a[0]!="number"&&(this.mixKeyframes=Vu(o$,vE(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=hv(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:h,repeatType:p,repeatDelay:f,type:w,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let _=this.currentTime,T=r;if(h){const D=Math.min(this.currentTime,s)/a;let $=Math.floor(D),F=D%1;!F&&D>=1&&(F=1),F===1&&$--,$=Math.min($,h+1),!!($%2)&&(p==="reverse"?(F=1-F,f&&(F-=f/a)):p==="mirror"&&(T=o)),_=_s(0,1,F)*a}const A=v?{done:!1,value:c[0]}:T.next(_);i&&(A.value=i(A.value));let{done:I}=A;!v&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return j&&w!==ag&&(A.value=fv(c,this.options,b,this.speed)),y&&y(A.value),j&&this.finish(),A}then(t,n){return this.finished.then(t,n)}get duration(){return dr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dr(t)}get time(){return dr(this.currentTime)}set time(t){var n;t=Qr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(In.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=dr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=VL,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(In.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function a$(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Gi=e=>e*180/Math.PI,lg=e=>{const t=Gi(Math.atan2(e[1],e[0]));return ug(t)},l$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:lg,rotateZ:lg,skewX:e=>Gi(Math.atan(e[1])),skewY:e=>Gi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ug=e=>(e=e%360,e<0&&(e+=360),e),Ib=lg,Db=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Nb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),u$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Db,scaleY:Nb,scale:e=>(Db(e)+Nb(e))/2,rotateX:e=>ug(Gi(Math.atan2(e[6],e[5]))),rotateY:e=>ug(Gi(Math.atan2(-e[2],e[0]))),rotateZ:Ib,rotate:Ib,skewX:e=>Gi(Math.atan(e[4])),skewY:e=>Gi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function cg(e){return e.includes("scale")?1:0}function dg(e,t){if(!e||e==="none")return cg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=u$,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=l$,s=a}if(!s)return cg(t);const i=r[t],o=s[1].split(",").map(d$);return typeof i=="function"?i(o):o[i]}const c$=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return dg(n,t)};function d$(e){return parseFloat(e.trim())}const qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ga=new Set(qa),Lb=e=>e===Ha||e===Ye,h$=new Set(["x","y","z"]),f$=qa.filter(e=>!h$.has(e));function p$(e){const t=[];return f$.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ao={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>dg(t,"x"),y:(e,{transform:t})=>dg(t,"y")};ao.translateX=ao.x;ao.translateY=ao.y;const lo=new Set;let hg=!1,fg=!1,pg=!1;function xE(){if(fg){const e=Array.from(lo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=p$(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fg=!1,hg=!1,lo.forEach(e=>e.complete(pg)),lo.clear()}function kE(){lo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(fg=!0)})}function m$(){pg=!0,kE(),xE(),pg=!1}class gv{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(lo.add(this),hg||(hg=!0,bt.read(kE),bt.resolveKeyframes(xE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}a$(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),lo.delete(this)}cancel(){this.state==="scheduled"&&(lo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const g$=e=>e.startsWith("--");function y$(e,t,n){g$(t)?e.style.setProperty(t,n):e.style[t]=n}const v$=rv(()=>window.ScrollTimeline!==void 0),w$={};function b$(e,t){const n=rv(e);return()=>w$[t]??n()}const SE=b$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,$b={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tl([0,.65,.55,1]),circOut:Tl([.55,0,1,.45]),backIn:Tl([.31,.01,.66,-.59]),backOut:Tl([.33,1.53,.69,.99])};function EE(e,t){if(e)return typeof e=="function"?SE()?wE(e,t):"ease-out":uE(e)?Tl(e):Array.isArray(e)?e.map(n=>EE(n,t)||$b.easeOut):$b[e]}function _$(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const h=EE(a,s);Array.isArray(h)&&(c.easing=h);const p={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(c,p)}function CE(e){return typeof e=="function"&&"applyToOptions"in e}function x$({type:e,...t}){return CE(e)&&SE()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class k$ extends pv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,nv(typeof t.type!="string");const u=x$(t);this.animation=_$(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=fv(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):y$(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return dr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dr(t)}get time(){return dr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Qr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&v$()?(this.animation.timeline=t,fr):n(this)}}const TE={anticipate:iE,backInOut:sE,circInOut:aE};function S$(e){return e in TE}function E$(e){typeof e.ease=="string"&&S$(e.ease)&&(e.ease=TE[e.ease])}const Mb=10;class C$ extends k${constructor(t){E$(t),_E(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new mv({...o,autoplay:!1}),l=Qr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Mb).value,a.sample(l).value,Mb),a.stop()}}const Fb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(gi.test(e)||e==="0")&&!e.startsWith("url("));function T$(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function P$(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Fb(s,t),a=Fb(i,t);return!o||!a?!1:T$(e)||(n==="spring"||CE(n))&&r}function mg(e){e.duration=0,e.type="keyframes"}const R$=new Set(["opacity","clipPath","filter","transform"]),A$=rv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function j$(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return A$()&&n&&R$.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const O$=40;class I$ extends pv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...h}){var w;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=In.now();const p={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:c,...h},f=(c==null?void 0:c.KeyframeResolver)||gv;this.keyframeResolver=new f(a,(y,b,g)=>this.onKeyframesResolved(y,b,p,!g),l,u,c),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=In.now(),P$(t,i,o,a)||((xs.instantAnimations||!l)&&(c==null||c(fv(t,r,n))),t[0]=t[t.length-1],mg(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>O$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},f=!u&&j$(p)?new C$({...p,element:p.motionValue.owner.current}):new mv(p);f.finished.then(()=>this.notifyFinished()).catch(fr),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),m$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const D$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N$(e){const t=D$.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function PE(e,t,n=1){const[r,s]=N$(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Q1(o)?parseFloat(o):o}return lv(s)?PE(s,t,n+1):s}function yv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const RE=new Set(["width","height","top","left","right","bottom",...qa]),L$={test:e=>e==="auto",parse:e=>e},AE=e=>t=>t.test(e),jE=[Ha,Ye,Jr,$s,TL,CL,L$],Bb=e=>jE.find(AE(e));function $$(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Z1(e):!0}const M$=new Set(["brightness","contrast","saturate","opacity"]);function F$(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(uv)||[];if(!r)return e;const s=n.replace(r,"");let i=M$.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const B$=/\b([a-z-]*)\(.*?\)/gu,gg={...gi,getAnimatableNone:e=>{const t=e.match(B$);return t?t.map(F$).join(" "):e}},Ub={...Ha,transform:Math.round},U$={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:Hc,scaleX:Hc,scaleY:Hc,scaleZ:Hc,skew:$s,skewX:$s,skewY:$s,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:bu,originX:Pb,originY:Pb,originZ:Ye},vv={borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,radius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye,...U$,zIndex:Ub,fillOpacity:bu,strokeOpacity:bu,numOctaves:Ub},z$={...vv,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:gg,WebkitFilter:gg},OE=e=>z$[e];function IE(e,t){let n=OE(e);return n!==gg&&(n=gi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const V$=new Set(["auto","none","0"]);function K$(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!V$.has(i)&&_u(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=IE(n,s)}class W$ extends gv{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),lv(u))){const c=PE(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!RE.has(r)||t.length!==2)return;const[s,i]=t,o=Bb(s),a=Bb(i);if(o!==a)if(Lb(o)&&Lb(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else ao[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||$$(t[s]))&&r.push(s);r.length&&K$(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ao[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ao[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function H$(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const DE=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function NE(e){return J1(e)&&"offsetHeight"in e}const zb=30,q$=e=>!isNaN(parseFloat(e));class G${constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=In.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=In.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=q$(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new sv);const r=this.events[t].add(n);return t==="change"?()=>{r(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=In.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zb);return X1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Da(e,t){return new G$(e,t)}const{schedule:wv}=cE(queueMicrotask,!1),xr={x:!1,y:!1};function LE(){return xr.x||xr.y}function Y$(e){return e==="x"||e==="y"?xr[e]?null:(xr[e]=!0,()=>{xr[e]=!1}):xr.x||xr.y?null:(xr.x=xr.y=!0,()=>{xr.x=xr.y=!1})}function $E(e,t){const n=H$(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Vb(e){return!(e.pointerType==="touch"||LE())}function Q$(e,t,n={}){const[r,s,i]=$E(e,n),o=a=>{if(!Vb(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const c=h=>{Vb(h)&&(u(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const ME=(e,t)=>t?e===t?!0:ME(e,t.parentElement):!1,bv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,J$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Z$(e){return J$.has(e.tagName)||e.tabIndex!==-1}const yd=new WeakSet;function Kb(e){return t=>{t.key==="Enter"&&e(t)}}function wp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const X$=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Kb(()=>{if(yd.has(n))return;wp(n,"down");const s=Kb(()=>{wp(n,"up")}),i=()=>wp(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Wb(e){return bv(e)&&!LE()}function eM(e,t,n={}){const[r,s,i]=$E(e,n),o=a=>{const l=a.currentTarget;if(!Wb(a))return;yd.add(l);const u=t(l,a),c=(f,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),yd.has(l)&&yd.delete(l),Wb(f)&&typeof u=="function"&&u(f,{success:w})},h=f=>{c(f,l===window||l===document||n.useGlobalTarget||ME(l,f.target))},p=f=>{c(f,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),NE(a)&&(a.addEventListener("focus",u=>X$(u,s)),!Z$(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function FE(e){return J1(e)&&"ownerSVGElement"in e}function tM(e){return FE(e)&&e.tagName==="svg"}const mn=e=>!!(e&&e.getVelocity),nM=[...jE,Bt,gi],rM=e=>nM.find(AE(e)),_v=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Hb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function sM(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Hb(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Hb(e[s],null)}}}}function iM(...e){return S.useCallback(sM(...e),e)}class oM extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=NE(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function aM({children:e,isPresent:t,anchorX:n,root:r}){const s=S.useId(),i=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=S.useContext(_v),l=iM(i,e==null?void 0:e.ref);return S.useInsertionEffect(()=>{const{width:u,height:c,top:h,left:p,right:f}=o.current;if(t||!i.current||!u||!c)return;const w=n==="left"?`left: ${p}`:`right: ${f}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");a&&(y.nonce=a);const b=r??document.head;return b.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${w}px !important;
            top: ${h}px !important;
          }
        `),()=>{b.contains(y)&&b.removeChild(y)}},[t]),k.jsx(oM,{isPresent:t,childRef:i,sizeRef:o,children:S.cloneElement(e,{ref:l})})}const lM=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const u=Zy(uM),c=S.useId();let h=!0,p=S.useMemo(()=>(h=!1,{id:c,initial:t,isPresent:n,custom:s,onExitComplete:f=>{u.set(f,!0);for(const w of u.values())if(!w)return;r&&r()},register:f=>(u.set(f,!1),()=>u.delete(f))}),[n,u,r]);return i&&h&&(p={...p}),S.useMemo(()=>{u.forEach((f,w)=>u.set(w,!1))},[n]),S.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=k.jsx(aM,{isPresent:n,anchorX:a,root:l,children:e})),k.jsx(Mh.Provider,{value:p,children:e})};function uM(){return new Map}function BE(e=!0){const t=S.useContext(Mh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=S.useId();S.useEffect(()=>{if(e)return s(i)},[e]);const o=S.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const qc=e=>e.key||"";function qb(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const cM=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=BE(o),h=S.useMemo(()=>qb(e),[e]),p=o&&!u?[]:h.map(qc),f=S.useRef(!0),w=S.useRef(h),y=Zy(()=>new Map),[b,g]=S.useState(h),[v,_]=S.useState(h);Y1(()=>{f.current=!1,w.current=h;for(let I=0;I<v.length;I++){const j=qc(v[I]);p.includes(j)?y.delete(j):y.get(j)!==!0&&y.set(j,!1)}},[v,p.length,p.join("-")]);const T=[];if(h!==b){let I=[...h];for(let j=0;j<v.length;j++){const D=v[j],$=qc(D);p.includes($)||(I.splice(j,0,D),T.push(D))}return i==="wait"&&T.length&&(I=T),_(qb(I)),g(h),null}const{forceRender:A}=S.useContext(Jy);return k.jsx(k.Fragment,{children:v.map(I=>{const j=qc(I),D=o&&!u?!1:h===v||p.includes(j),$=()=>{if(y.has(j))y.set(j,!0);else return;let F=!0;y.forEach(de=>{de||(F=!1)}),F&&(A==null||A(),_(w.current),o&&(c==null||c()),r&&r())};return k.jsx(lM,{isPresent:D,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:D?void 0:$,anchorX:a,children:I},j)})})},UE=S.createContext({strict:!1}),Gb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Na={};for(const e in Gb)Na[e]={isEnabled:t=>Gb[e].some(n=>!!t[n])};function dM(e){for(const t in e)Na[t]={...Na[t],...e[t]}}const hM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hM.has(e)}let zE=e=>!rh(e);function fM(e){typeof e=="function"&&(zE=t=>t.startsWith("on")?!rh(t):e(t))}try{fM(require("@emotion/is-prop-valid").default)}catch{}function pM(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(zE(s)||n===!0&&rh(s)||!t&&!rh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Fh=S.createContext({});function Bh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function xu(e){return typeof e=="string"||Array.isArray(e)}const xv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kv=["initial",...xv];function Uh(e){return Bh(e.animate)||kv.some(t=>xu(e[t]))}function VE(e){return!!(Uh(e)||e.variants)}function mM(e,t){if(Uh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||xu(n)?n:void 0,animate:xu(r)?r:void 0}}return e.inherit!==!1?t:{}}function gM(e){const{initial:t,animate:n}=mM(e,S.useContext(Fh));return S.useMemo(()=>({initial:t,animate:n}),[Yb(t),Yb(n)])}function Yb(e){return Array.isArray(e)?e.join(" "):e}const ku={};function yM(e){for(const t in e)ku[t]=e[t],av(t)&&(ku[t].isCSSVariable=!0)}function KE(e,{layout:t,layoutId:n}){return Ga.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ku[e]||e==="opacity")}const vM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wM=qa.length;function bM(e,t,n){let r="",s=!0;for(let i=0;i<wM;i++){const o=qa[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=DE(a,vv[o]);if(!l){s=!1;const c=vM[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Sv(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Ga.has(l)){o=!0;continue}else if(av(l)){s[l]=u;continue}else{const c=DE(u,vv[l]);l.startsWith("origin")?(a=!0,i[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=bM(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}const Ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WE(e,t,n){for(const r in t)!mn(t[r])&&!KE(r,n)&&(e[r]=t[r])}function _M({transformTemplate:e},t){return S.useMemo(()=>{const n=Ev();return Sv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function xM(e,t){const n=e.style||{},r={};return WE(r,n,e),Object.assign(r,_M(e,t)),r}function kM(e,t){const n={},r=xM(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const SM={offset:"stroke-dashoffset",array:"stroke-dasharray"},EM={offset:"strokeDashoffset",array:"strokeDasharray"};function CM(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?SM:EM;e[i.offset]=Ye.transform(-r);const o=Ye.transform(t),a=Ye.transform(n);e[i.array]=`${o} ${a}`}function HE(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,c){if(Sv(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&CM(h,s,i,o,!1)}const qE=()=>({...Ev(),attrs:{}}),GE=e=>typeof e=="string"&&e.toLowerCase()==="svg";function TM(e,t,n,r){const s=S.useMemo(()=>{const i=qE();return HE(i,t,GE(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};WE(i,e.style,e),s.style={...i,...s.style}}return s}const PM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cv(e){return typeof e!="string"||e.includes("-")?!1:!!(PM.indexOf(e)>-1||/[A-Z]/u.test(e))}function RM(e,t,n,{latestValues:r},s,i=!1){const a=(Cv(e)?TM:kM)(t,r,s,e),l=pM(t,typeof e=="string",i),u=e!==S.Fragment?{...l,...a,ref:n}:{},{children:c}=t,h=S.useMemo(()=>mn(c)?c.get():c,[c]);return S.createElement(e,{...u,children:h})}function Qb(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Tv(e,t,n,r){if(typeof t=="function"){const[s,i]=Qb(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Qb(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function vd(e){return mn(e)?e.get():e}function AM({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:jM(n,r,s,e),renderState:t()}}function jM(e,t,n,r){const s={},i=r(e,{});for(const p in i)s[p]=vd(i[p]);let{initial:o,animate:a}=e;const l=Uh(e),u=VE(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!Bh(h)){const p=Array.isArray(h)?h:[h];for(let f=0;f<p.length;f++){const w=Tv(e,p[f]);if(w){const{transitionEnd:y,transition:b,...g}=w;for(const v in g){let _=g[v];if(Array.isArray(_)){const T=c?_.length-1:0;_=_[T]}_!==null&&(s[v]=_)}for(const v in y)s[v]=y[v]}}}return s}const YE=e=>(t,n)=>{const r=S.useContext(Fh),s=S.useContext(Mh),i=()=>AM(e,t,r,s);return n?i():Zy(i)};function Pv(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(mn(r[o])||t.style&&mn(t.style[o])||KE(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const OM=YE({scrapeMotionValuesFromProps:Pv,createRenderState:Ev});function QE(e,t,n){const r=Pv(e,t,n);for(const s in e)if(mn(e[s])||mn(t[s])){const i=qa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const IM=YE({scrapeMotionValuesFromProps:QE,createRenderState:qE}),DM=Symbol.for("motionComponentSymbol");function ea(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function NM(e,t,n){return S.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ea(n)&&(n.current=r))},[t])}const Rv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LM="framerAppearId",JE="data-"+Rv(LM),ZE=S.createContext({});function $M(e,t,n,r,s){var y,b;const{visualElement:i}=S.useContext(Fh),o=S.useContext(UE),a=S.useContext(Mh),l=S.useContext(_v).reducedMotion,u=S.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,h=S.useContext(ZE);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&MM(u.current,n,s,h);const p=S.useRef(!1);S.useInsertionEffect(()=>{c&&p.current&&c.update(n,a)});const f=n[JE],w=S.useRef(!!f&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,f))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,f)));return Y1(()=>{c&&(p.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),w.current&&c.animationState&&c.animationState.animateChanges())}),S.useEffect(()=>{c&&(!w.current&&c.animationState&&c.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,f)}),w.current=!1),c.enteringChildren=void 0)}),c}function MM(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:XE(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ea(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function XE(e){if(e)return e.options.allowProjection!==!1?e.projection:XE(e.parent)}function bp(e,{forwardMotionProps:t=!1}={},n,r){n&&dM(n);const s=Cv(e)?IM:OM;function i(a,l){let u;const c={...S.useContext(_v),...a,layoutId:FM(a)},{isStatic:h}=c,p=gM(a),f=s(a,h);if(!h&&Xy){BM();const w=UM(c);u=w.MeasureLayout,p.visualElement=$M(e,f,c,r,w.ProjectionNode)}return k.jsxs(Fh.Provider,{value:p,children:[u&&p.visualElement?k.jsx(u,{visualElement:p.visualElement,...c}):null,RM(e,a,NM(f,p.visualElement,l),f,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=S.forwardRef(i);return o[DM]=e,o}function FM({layoutId:e}){const t=S.useContext(Jy).id;return t&&e!==void 0?t+"-"+e:e}function BM(e,t){S.useContext(UE).strict}function UM(e){const{drag:t,layout:n}=Na;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function zM(e,t){if(typeof Proxy>"u")return bp;const n=new Map,r=(i,o)=>bp(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,bp(o,void 0,e,t)),n.get(o))})}function eC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function VM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function KM(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _p(e){return e===void 0||e===1}function yg({scale:e,scaleX:t,scaleY:n}){return!_p(e)||!_p(t)||!_p(n)}function $i(e){return yg(e)||tC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tC(e){return Jb(e.x)||Jb(e.y)}function Jb(e){return e&&e!=="0%"}function sh(e,t,n){const r=e-n,s=t*r;return n+s}function Zb(e,t,n,r,s){return s!==void 0&&(e=sh(e,s,r)),sh(e,n,r)+t}function vg(e,t=0,n=1,r,s){e.min=Zb(e.min,t,n,r,s),e.max=Zb(e.max,t,n,r,s)}function nC(e,{x:t,y:n}){vg(e.x,t.translate,t.scale,t.originPoint),vg(e.y,n.translate,n.scale,n.originPoint)}const Xb=.999999999999,e_=1.0000000000001;function WM(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&na(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,nC(e,o)),r&&$i(i.latestValues)&&na(e,i.latestValues))}t.x<e_&&t.x>Xb&&(t.x=1),t.y<e_&&t.y>Xb&&(t.y=1)}function ta(e,t){e.min=e.min+t,e.max=e.max+t}function t_(e,t,n,r,s=.5){const i=kt(e.min,e.max,s);vg(e,t,n,i,r)}function na(e,t){t_(e.x,t.x,t.scaleX,t.scale,t.originX),t_(e.y,t.y,t.scaleY,t.scale,t.originY)}function rC(e,t){return eC(KM(e.getBoundingClientRect(),t))}function HM(e,t,n){const r=rC(e,n),{scroll:s}=t;return s&&(ta(r.x,s.offset.x),ta(r.y,s.offset.y)),r}const n_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ra=()=>({x:n_(),y:n_()}),r_=()=>({min:0,max:0}),Dt=()=>({x:r_(),y:r_()}),wg={current:null},sC={current:!1};function qM(){if(sC.current=!0,!!Xy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wg.current=e.matches;e.addEventListener("change",t),t()}else wg.current=!1}const GM=new WeakMap;function YM(e,t,n){for(const r in t){const s=t[r],i=n[r];if(mn(s))e.addValue(r,s);else if(mn(i))e.addValue(r,Da(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Da(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const s_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QM{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=In.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,bt.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Uh(n),this.isVariantNode=VE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const f=h[p];l[p]!==void 0&&mn(f)&&f.set(l[p])}}mount(t){var n;this.current=t,GM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),sC.current||qM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),mi(this.notifyUpdate),mi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ga.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Na){const n=Na[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<s_.length;r++){const s=s_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=YM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Da(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Q1(r)||Z1(r))?r=parseFloat(r):!rM(r)&&gi.test(n)&&(r=IE(t,n)),this.setBaseTarget(t,mn(r)?r.get():r)),mn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Tv(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!mn(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new sv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){wv.render(this.render)}}class iC extends QM{constructor(){super(...arguments),this.KeyframeResolver=W$}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function oC(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function JM(e){return window.getComputedStyle(e)}class ZM extends iC{constructor(){super(...arguments),this.type="html",this.renderInstance=oC}readValueFromInstance(t,n){var r;if(Ga.has(n))return(r=this.projection)!=null&&r.isProjecting?cg(n):c$(t,n);{const s=JM(t),i=(av(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return rC(t,n)}build(t,n,r){Sv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Pv(t,n,r)}}const aC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XM(e,t,n,r){oC(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(aC.has(s)?s:Rv(s),t.attrs[s])}class e3 extends iC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ga.has(n)){const r=OE(n);return r&&r.default||0}return n=aC.has(n)?n:Rv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return QE(t,n,r)}build(t,n,r){HE(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){XM(t,n,r,s)}mount(t){this.isSVGTag=GE(t.tagName),super.mount(t)}}const t3=(e,t)=>Cv(e)?new e3(t):new ZM(t,{allowProjection:e!==S.Fragment});function da(e,t,n){const r=e.getProps();return Tv(r,t,n!==void 0?n:r.custom,e)}const bg=e=>Array.isArray(e);function n3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Da(n))}function r3(e){return bg(e)?e[e.length-1]||0:e}function s3(e,t){const n=da(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=r3(i[o]);n3(e,o,a)}}function i3(e){return!!(mn(e)&&e.add)}function _g(e,t){const n=e.getValue("willChange");if(i3(n))return n.add(t);if(!n&&xs.WillChange){const r=new xs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function lC(e){return e.props[JE]}const o3=e=>e!==null;function a3(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(o3),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const l3={type:"spring",stiffness:500,damping:25,restSpeed:10},u3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),c3={type:"keyframes",duration:.8},d3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h3=(e,{keyframes:t})=>t.length>2?c3:Ga.has(e)?e.startsWith("scale")?u3(t[1]):l3:d3;function f3({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Av=(e,t,n,r={},s,i)=>o=>{const a=yv(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Qr(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};f3(a)||Object.assign(c,h3(e,c)),c.duration&&(c.duration=Qr(c.duration)),c.repeatDelay&&(c.repeatDelay=Qr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(mg(c),c.delay===0&&(h=!0)),(xs.instantAnimations||xs.skipAnimations)&&(h=!0,mg(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const p=a3(c.keyframes,a);if(p!==void 0){bt.update(()=>{c.onUpdate(p),c.onComplete()});return}}return a.isSync?new mv(c):new I$(c)};function p3({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function uC(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const c in a){const h=e.getValue(c,e.latestValues[c]??null),p=a[c];if(p===void 0||u&&p3(u,c))continue;const f={delay:n,...yv(i||{},c)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===w&&!f.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=lC(e);if(g){const v=window.MotionHandoffAnimation(g,c,bt);v!==null&&(f.startTime=v,y=!0)}}_g(e,c),h.start(Av(c,h,p,e.shouldReduceMotion&&RE.has(c)?{type:!1}:f,e,y));const b=h.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{bt.update(()=>{o&&s3(e,o)})}),l}function cC(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function xg(e,t,n={}){var l;const r=da(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(uC(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:p}=s;return m3(e,t,u,c,h,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,c]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function m3(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(xg(l,t,{...o,delay:n+(typeof r=="function"?0:r)+cC(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function g3(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>xg(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=xg(e,t,n);else{const s=typeof t=="function"?da(e,t,n.custom):t;r=Promise.all(uC(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function dC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const y3=kv.length;function hC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?hC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<y3;n++){const r=kv[n],s=e.props[r];(xu(s)||s===!1)&&(t[r]=s)}return t}const v3=[...xv].reverse(),w3=xv.length;function b3(e){return t=>Promise.all(t.map(({animation:n,options:r})=>g3(e,n,r)))}function _3(e){let t=b3(e),n=i_(),r=!0;const s=l=>(u,c)=>{var p;const h=da(e,c,l==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:f,transitionEnd:w,...y}=h;u={...u,...y,...w}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,c=hC(e.parent)||{},h=[],p=new Set;let f={},w=1/0;for(let b=0;b<w3;b++){const g=v3[b],v=n[g],_=u[g]!==void 0?u[g]:c[g],T=xu(_),A=g===l?v.isActive:null;A===!1&&(w=b);let I=_===c[g]&&_!==u[g]&&T;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),v.protectedKeys={...f},!v.isActive&&A===null||!_&&!v.prevProp||Bh(_)||typeof _=="boolean")continue;const j=x3(v.prevProp,_);let D=j||g===l&&v.isActive&&!I&&T||b>w&&T,$=!1;const F=Array.isArray(_)?_:[_];let de=F.reduce(s(g),{});A===!1&&(de={});const{prevResolvedValues:N={}}=v,W={...N,...de},C=re=>{D=!0,p.has(re)&&($=!0,p.delete(re)),v.needsAnimating[re]=!0;const ie=e.getValue(re);ie&&(ie.liveStyle=!1)};for(const re in W){const ie=de[re],te=N[re];if(f.hasOwnProperty(re))continue;let he=!1;bg(ie)&&bg(te)?he=!dC(ie,te):he=ie!==te,he?ie!=null?C(re):p.add(re):ie!==void 0&&p.has(re)?C(re):v.protectedKeys[re]=!0}v.prevProp=_,v.prevResolvedValues=de,v.isActive&&(f={...f,...de}),r&&e.blockInitialAnimation&&(D=!1);const K=I&&j;D&&(!K||$)&&h.push(...F.map(re=>{const ie={type:g};if(typeof re=="string"&&r&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:te}=e,he=da(te,re);if(te.enteringChildren&&he){const{delayChildren:q}=he.transition||{};ie.delay=cC(te.enteringChildren,e,q)}}return{animation:re,options:ie}}))}if(p.size){const b={};if(typeof u.initial!="boolean"){const g=da(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(b.transition=g.transition)}p.forEach(g=>{const v=e.getBaseTarget(g),_=e.getValue(g);_&&(_.liveStyle=!0),b[g]=v??null}),h.push({animation:b})}let y=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(p=>{var f;return(f=p.animationState)==null?void 0:f.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const p in n)n[p].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=i_(),r=!0}}}function x3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dC(t,e):!1}function Ii(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i_(){return{animate:Ii(!0),whileInView:Ii(),whileHover:Ii(),whileTap:Ii(),whileDrag:Ii(),whileFocus:Ii(),exit:Ii()}}class ki{constructor(t){this.isMounted=!1,this.node=t}update(){}}class k3 extends ki{constructor(t){super(t),t.animationState||(t.animationState=_3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let S3=0;class E3 extends ki{constructor(){super(...arguments),this.id=S3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const C3={animation:{Feature:k3},exit:{Feature:E3}};function Su(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Hu(e){return{point:{x:e.pageX,y:e.pageY}}}const T3=e=>t=>bv(t)&&e(t,Hu(t));function Wl(e,t,n,r){return Su(e,t,T3(n),r)}const fC=1e-4,P3=1-fC,R3=1+fC,pC=.01,A3=0-pC,j3=0+pC;function _n(e){return e.max-e.min}function O3(e,t,n){return Math.abs(e-t)<=n}function o_(e,t,n,r=.5){e.origin=r,e.originPoint=kt(t.min,t.max,e.origin),e.scale=_n(n)/_n(t),e.translate=kt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=P3&&e.scale<=R3||isNaN(e.scale))&&(e.scale=1),(e.translate>=A3&&e.translate<=j3||isNaN(e.translate))&&(e.translate=0)}function Hl(e,t,n,r){o_(e.x,t.x,n.x,r?r.originX:void 0),o_(e.y,t.y,n.y,r?r.originY:void 0)}function a_(e,t,n){e.min=n.min+t.min,e.max=e.min+_n(t)}function I3(e,t,n){a_(e.x,t.x,n.x),a_(e.y,t.y,n.y)}function l_(e,t,n){e.min=t.min-n.min,e.max=e.min+_n(t)}function ql(e,t,n){l_(e.x,t.x,n.x),l_(e.y,t.y,n.y)}function sr(e){return[e("x"),e("y")]}const mC=({current:e})=>e?e.ownerDocument.defaultView:null,u_=(e,t)=>Math.abs(e-t);function D3(e,t){const n=u_(e.x,t.x),r=u_(e.y,t.y);return Math.sqrt(n**2+r**2)}class gC{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=kp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,w=D3(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!w)return;const{point:y}=p,{timestamp:b}=rn;this.history.push({...y,timestamp:b});const{onStart:g,onMove:v}=this.handlers;f||(g&&g(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,f)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=xp(f,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(p,f)=>{this.end();const{onEnd:w,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=kp(p.type==="pointercancel"?this.lastMoveEventInfo:xp(f,this.transformPagePoint),this.history);this.startEvent&&w&&w(p,g),y&&y(p,g)},!bv(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Hu(t),l=xp(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=rn;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(t,kp(l,this.history)),this.removeListeners=Vu(Wl(this.contextWindow,"pointermove",this.handlePointerMove),Wl(this.contextWindow,"pointerup",this.handlePointerUp),Wl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),mi(this.updatePoint)}}function xp(e,t){return t?{point:t(e.point)}:e}function c_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kp({point:e},t){return{point:e,delta:c_(e,yC(t)),offset:c_(e,N3(t)),velocity:L3(t,.1)}}function N3(e){return e[0]}function yC(e){return e[e.length-1]}function L3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=yC(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Qr(t)));)n--;if(!r)return{x:0,y:0};const i=dr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $3(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?kt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?kt(n,e,r.max):Math.min(e,n)),e}function d_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function M3(e,{top:t,left:n,bottom:r,right:s}){return{x:d_(e.x,n,s),y:d_(e.y,t,r)}}function h_(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function F3(e,t){return{x:h_(e.x,t.x),y:h_(e.y,t.y)}}function B3(e,t){let n=.5;const r=_n(e),s=_n(t);return s>r?n=wu(t.min,t.max-r,e.min):r>s&&(n=wu(e.min,e.max-s,t.min)),_s(0,1,n)}function U3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const kg=.35;function z3(e=kg){return e===!1?e=0:e===!0&&(e=kg),{x:f_(e,"left","right"),y:f_(e,"top","bottom")}}function f_(e,t,n){return{min:p_(e,t),max:p_(e,n)}}function p_(e,t){return typeof e=="number"?e:e[t]||0}const V3=new WeakMap;class K3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hu(h).point)},o=(h,p)=>{const{drag:f,dragPropagation:w,onDragStart:y}=this.getProps();if(f&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Y$(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Jr.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[g];T&&(v=_n(T)*(parseFloat(v)/100))}}this.originPoint[g]=v}),y&&bt.postRender(()=>y(h,p)),_g(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:f,dragDirectionLock:w,onDirectionLock:y,onDrag:b}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:g}=p;if(w&&this.currentDirection===null){this.currentDirection=W3(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,g),this.updateAxis("y",p.point,g),this.visualElement.render(),b&&b(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>sr(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new gC(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:mC(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&bt.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Gc(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=$3(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&ea(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=M3(r.layoutBox,t):this.constraints=!1,this.elastic=z3(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=U3(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ea(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=HM(r,s.root,this.visualElement.getTransformPagePoint());let o=F3(s.layout.layoutBox,i);if(n){const a=n(VM(o));this.hasMutatedConstraints=!!a,a&&(o=eC(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=sr(c=>{if(!Gc(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const p=s?200:1e6,f=s?40:1e7,w={type:"inertia",velocity:r?t[c]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(c,w)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return _g(this.visualElement,t),r.start(Av(t,r,0,n,this.visualElement,!1))}stopAnimation(){sr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){sr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){sr(n=>{const{drag:r}=this.getProps();if(!Gc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-kt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ea(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};sr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=B3({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(o=>{if(!Gc(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(kt(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;V3.set(this.visualElement,this);const t=this.visualElement.current,n=Wl(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ea(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),bt.read(r);const o=Su(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(sr(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=kg,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Gc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function W3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class H3 extends ki{constructor(t){super(t),this.removeGroupControls=fr,this.removeListeners=fr,this.controls=new K3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const m_=e=>(t,n)=>{e&&bt.postRender(()=>e(t,n))};class q3 extends ki{constructor(){super(...arguments),this.removePointerDownListener=fr}onPointerDown(t){this.session=new gC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:m_(t),onStart:m_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&bt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Wl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function g_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ye.test(e))e=parseFloat(e);else return e;const n=g_(e,t.target.x),r=g_(e,t.target.y);return`${n}% ${r}%`}},G3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=gi.parse(e);if(s.length>5)return r;const i=gi.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=kt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let Sp=!1;class Y3 extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;yM(Q3),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Sp&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Sp=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||bt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Sp=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vC(e){const[t,n]=BE(),r=S.useContext(Jy);return k.jsx(Y3,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(ZE),isPresent:t,safeToRemove:n})}const Q3={borderRadius:{...yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yl,borderTopRightRadius:yl,borderBottomLeftRadius:yl,borderBottomRightRadius:yl,boxShadow:G3};function J3(e,t,n){const r=mn(e)?e:Da(e);return r.start(Av("",r,t,n)),r.animation}const Z3=(e,t)=>e.depth-t.depth;class X3{constructor(){this.children=[],this.isDirty=!1}add(t){ev(this.children,t),this.isDirty=!0}remove(t){tv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Z3),this.isDirty=!1,this.children.forEach(t)}}function eF(e,t){const n=In.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(mi(r),e(i-t))};return bt.setup(r,!0),()=>mi(r)}const wC=["TopLeft","TopRight","BottomLeft","BottomRight"],tF=wC.length,y_=e=>typeof e=="string"?parseFloat(e):e,v_=e=>typeof e=="number"||Ye.test(e);function nF(e,t,n,r,s,i){s?(e.opacity=kt(0,n.opacity??1,rF(r)),e.opacityExit=kt(t.opacity??1,0,sF(r))):i&&(e.opacity=kt(t.opacity??1,n.opacity??1,r));for(let o=0;o<tF;o++){const a=`border${wC[o]}Radius`;let l=w_(t,a),u=w_(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||v_(l)===v_(u)?(e[a]=Math.max(kt(y_(l),y_(u),r),0),(Jr.test(u)||Jr.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=kt(t.rotate||0,n.rotate||0,r))}function w_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rF=bC(0,.5,oE),sF=bC(.5,.95,fr);function bC(e,t,n){return r=>r<e?0:r>t?1:n(wu(e,t,r))}function b_(e,t){e.min=t.min,e.max=t.max}function tr(e,t){b_(e.x,t.x),b_(e.y,t.y)}function __(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function x_(e,t,n,r,s){return e-=t,e=sh(e,1/n,r),s!==void 0&&(e=sh(e,1/s,r)),e}function iF(e,t=0,n=1,r=.5,s,i=e,o=e){if(Jr.test(t)&&(t=parseFloat(t),t=kt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=kt(i.min,i.max,r);e===i&&(a-=t),e.min=x_(e.min,t,n,a,s),e.max=x_(e.max,t,n,a,s)}function k_(e,t,[n,r,s],i,o){iF(e,t[n],t[r],t[s],t.scale,i,o)}const oF=["x","scaleX","originX"],aF=["y","scaleY","originY"];function S_(e,t,n,r){k_(e.x,t,oF,n?n.x:void 0,r?r.x:void 0),k_(e.y,t,aF,n?n.y:void 0,r?r.y:void 0)}function E_(e){return e.translate===0&&e.scale===1}function _C(e){return E_(e.x)&&E_(e.y)}function C_(e,t){return e.min===t.min&&e.max===t.max}function lF(e,t){return C_(e.x,t.x)&&C_(e.y,t.y)}function T_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xC(e,t){return T_(e.x,t.x)&&T_(e.y,t.y)}function P_(e){return _n(e.x)/_n(e.y)}function R_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class uF{constructor(){this.members=[]}add(t){ev(this.members,t),t.scheduleRender()}remove(t){if(tv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cF(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:p,skewX:f,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),f&&(r+=`skewX(${f}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ep=["","X","Y","Z"],dF=1e3;let hF=0;function Cp(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function kC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=lC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&kC(r)}function SC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=hF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mF),this.nodes.forEach(wF),this.nodes.forEach(bF),this.nodes.forEach(gF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new X3)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=FE(o)&&!tM(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,h=0;const p=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{h=window.innerWidth}),e(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,c&&c(),c=eF(p,250),wd.hasAnimatedSinceResize&&(wd.hasAnimatedSinceResize=!1,this.nodes.forEach(O_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||EF,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),g=!this.targetLayout||!xC(this.targetLayout,f),v=!h&&p;if(this.options.layoutRoot||this.resumeFrom||v||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...yv(w,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(c,v)}else h||O_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),mi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_F),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(j_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vF),this.nodes.forEach(fF),this.nodes.forEach(pF)):this.nodes.forEach(j_),this.clearAllSnapshots();const a=In.now();rn.delta=_s(0,1e3/60,a-rn.timestamp),rn.timestamp=a,rn.isProcessing=!0,pp.update.process(rn),pp.preRender.process(rn),pp.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yF),this.sharedNodes.forEach(xF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!_C(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||$i(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),CF(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Dt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(TF))){const{scroll:c}=this.root;c&&(ta(a.x,c.offset.x),ta(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=Dt();if(tr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:p}=c;c!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&tr(a,o),ta(a.x,h.offset.x),ta(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Dt();tr(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&na(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),$i(c.latestValues)&&na(l,c.latestValues)}return $i(this.latestValues)&&na(l,this.latestValues),l}removeTransform(o){const a=Dt();tr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!$i(u.latestValues))continue;yg(u.latestValues)&&u.updateSnapshot();const c=Dt(),h=u.measurePageBox();tr(c,h),S_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return $i(this.latestValues)&&S_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),ql(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),nC(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),ql(this.relativeTargetOrigin,this.target,f.target),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yg(this.parent.latestValues)||tC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;tr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;WM(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Dt());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(__(this.prevProjectionDelta.x,this.projectionDelta.x),__(this.prevProjectionDelta.y,this.projectionDelta.y)),Hl(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!R_(this.projectionDelta.x,this.prevProjectionDelta.x)||!R_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ra(),this.projectionDelta=ra(),this.projectionDeltaWithTransform=ra()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=ra();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Dt(),f=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=f!==w,b=this.getStack(),g=!b||b.members.length<=1,v=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(SF));this.animationProgress=0;let _;this.mixTargetDelta=T=>{const A=T/1e3;I_(h.x,o.x,A),I_(h.y,o.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ql(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kF(this.relativeTarget,this.relativeTargetOrigin,p,A),_&&lF(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Dt()),tr(_,this.relativeTarget)),y&&(this.animationValues=c,nF(c,u,this.latestValues,A,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(mi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{wd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Da(0)),this.currentAnimation=J3(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&EC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Dt();const h=_n(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=_n(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}tr(a,l),na(a,c),Hl(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uF),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Cp("z",o,u,this.animationValues);for(let c=0;c<Ep.length;c++)Cp(`rotate${Ep[c]}`,o,u,this.animationValues),Cp(`skew${Ep[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=vd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=vd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!$i(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=cF(this.projectionDeltaWithTransform,this.treeScale,c);l&&(h=l(c,h)),o.transform=h;const{x:p,y:f}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const w in ku){if(c[w]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:g}=ku[w],v=h==="none"?c[w]:y(c[w],u);if(b){const _=b.length;for(let T=0;T<_;T++)o[b[T]]=v}else g?this.options.visualElement.renderState.vars[w]=v:o[w]=v}this.options.layoutId&&(o.pointerEvents=u===this?vd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(A_),this.root.sharedNodes.clear()}}}function fF(e){e.updateLayout()}function pF(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?sr(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],f=_n(p);p.min=r[h].min,p.max=p.min+f}):EC(i,t.layoutBox,r)&&sr(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],f=_n(r[h]);p.max=p.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const a=ra();Hl(a,r,t.layoutBox);const l=ra();o?Hl(l,e.applyTransform(s,!0),t.measuredBox):Hl(l,r,t.layoutBox);const u=!_C(a);let c=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:f}=h;if(p&&f){const w=Dt();ql(w,t.layoutBox,p.layoutBox);const y=Dt();ql(y,r,f.layoutBox),xC(w,y)||(c=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function mF(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yF(e){e.clearSnapshot()}function A_(e){e.clearMeasurements()}function j_(e){e.isLayoutDirty=!1}function vF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function O_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wF(e){e.resolveTargetDelta()}function bF(e){e.calcProjection()}function _F(e){e.resetSkewAndRotation()}function xF(e){e.removeLeadSnapshot()}function I_(e,t,n){e.translate=kt(t.translate,0,n),e.scale=kt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function D_(e,t,n,r){e.min=kt(t.min,n.min,r),e.max=kt(t.max,n.max,r)}function kF(e,t,n,r){D_(e.x,t.x,n.x,r),D_(e.y,t.y,n.y,r)}function SF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const EF={duration:.45,ease:[.4,0,.1,1]},N_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),L_=N_("applewebkit/")&&!N_("chrome/")?Math.round:fr;function $_(e){e.min=L_(e.min),e.max=L_(e.max)}function CF(e){$_(e.x),$_(e.y)}function EC(e,t,n){return e==="position"||e==="preserve-aspect"&&!O3(P_(t),P_(n),.2)}function TF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const PF=SC({attachResizeListener:(e,t)=>Su(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tp={current:void 0},CC=SC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Tp.current){const e=new PF({});e.mount(window),e.setOptions({layoutScroll:!0}),Tp.current=e}return Tp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),RF={pan:{Feature:q3},drag:{Feature:H3,ProjectionNode:CC,MeasureLayout:vC}};function M_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&bt.postRender(()=>i(t,Hu(t)))}class AF extends ki{mount(){const{current:t}=this.node;t&&(this.unmount=Q$(t,(n,r)=>(M_(this.node,r,"Start"),s=>M_(this.node,s,"End"))))}unmount(){}}class jF extends ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vu(Su(this.node.current,"focus",()=>this.onFocus()),Su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function F_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&bt.postRender(()=>i(t,Hu(t)))}class OF extends ki{mount(){const{current:t}=this.node;t&&(this.unmount=eM(t,(n,r)=>(F_(this.node,r,"Start"),(s,{success:i})=>F_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sg=new WeakMap,Pp=new WeakMap,IF=e=>{const t=Sg.get(e.target);t&&t(e)},DF=e=>{e.forEach(IF)};function NF({root:e,...t}){const n=e||document;Pp.has(n)||Pp.set(n,{});const r=Pp.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(DF,{root:e,...t})),r[s]}function LF(e,t,n){const r=NF(t);return Sg.set(e,n),r.observe(e),()=>{Sg.delete(e),r.unobserve(e)}}const $F={some:0,all:1};class MF extends ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:$F[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),p=u?c:h;p&&p(l)};return LF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(FF(t,n))&&this.startObserver()}unmount(){}}function FF({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const BF={inView:{Feature:MF},tap:{Feature:OF},focus:{Feature:jF},hover:{Feature:AF}},UF={layout:{ProjectionNode:CC,MeasureLayout:vC}},zF={...C3,...BF,...RF,...UF},VF=zM(zF,t3);let KF={data:""},WF=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||KF},HF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qF=/\/\*[^]*?\*\/|  +/g,B_=/\n+/g,Vs=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Vs(o,i):i+"{"+Vs(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Vs(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Vs.p?Vs.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},rs={},TC=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+TC(e[n]);return t}return e},GF=(e,t,n,r,s)=>{let i=TC(e),o=rs[i]||(rs[i]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(i));if(!rs[o]){let l=i!==e?e:(u=>{let c,h,p=[{}];for(;c=HF.exec(u.replace(qF,""));)c[4]?p.shift():c[3]?(h=c[3].replace(B_," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][c[1]]=c[2].replace(B_," ").trim();return p[0]})(e);rs[o]=Vs(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&rs.g?rs.g:null;return n&&(rs.g=rs[o]),((l,u,c,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(rs[o],t,r,a),o},YF=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Vs(a,""):a===!1?"":a}return r+s+(o??"")},"");function zh(e){let t=this||{},n=e.call?e(t.p):e;return GF(n.unshift?n.raw?YF(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,WF(t.target),t.g,t.o,t.k)}let PC,Eg,Cg;zh.bind({g:1});let ks=zh.bind({k:1});function QF(e,t,n,r){Vs.p=t,PC=e,Eg=n,Cg=r}function Si(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Eg&&Eg()},a),n.o=/ *go\d+/.test(l),a.className=zh.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),Cg&&u[0]&&Cg(a),PC(u,a)}return s}}var JF=e=>typeof e=="function",ih=(e,t)=>JF(e)?e(t):e,ZF=(()=>{let e=0;return()=>(++e).toString()})(),RC=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),XF=20,jv="default",AC=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return AC(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},bd=[],jC={toasts:[],pausedAt:void 0,settings:{toastLimit:XF}},qr={},OC=(e,t=jv)=>{qr[t]=AC(qr[t]||jC,e),bd.forEach(([n,r])=>{n===t&&r(qr[t])})},IC=e=>Object.keys(qr).forEach(t=>OC(e,t)),e5=e=>Object.keys(qr).find(t=>qr[t].toasts.some(n=>n.id===e)),Vh=(e=jv)=>t=>{OC(t,e)},t5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},n5=(e={},t=jv)=>{let[n,r]=S.useState(qr[t]||jC),s=S.useRef(qr[t]);S.useEffect(()=>(s.current!==qr[t]&&r(qr[t]),bd.push([t,r]),()=>{let o=bd.findIndex(([a])=>a===t);o>-1&&bd.splice(o,1)}),[t]);let i=n.toasts.map(o=>{var a,l,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||t5[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:i}},r5=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||ZF()}),qu=e=>(t,n)=>{let r=r5(t,e,n);return Vh(r.toasterId||e5(r.id))({type:2,toast:r}),r.id},Wt=(e,t)=>qu("blank")(e,t);Wt.error=qu("error");Wt.success=qu("success");Wt.loading=qu("loading");Wt.custom=qu("custom");Wt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Vh(t)(n):IC(n)};Wt.dismissAll=e=>Wt.dismiss(void 0,e);Wt.remove=(e,t)=>{let n={type:4,toastId:e};t?Vh(t)(n):IC(n)};Wt.removeAll=e=>Wt.remove(void 0,e);Wt.promise=(e,t,n)=>{let r=Wt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?ih(t.success,s):void 0;return i?Wt.success(i,{id:r,...n,...n==null?void 0:n.success}):Wt.dismiss(r),s}).catch(s=>{let i=t.error?ih(t.error,s):void 0;i?Wt.error(i,{id:r,...n,...n==null?void 0:n.error}):Wt.dismiss(r)}),e};var s5=1e3,i5=(e,t="default")=>{let{toasts:n,pausedAt:r}=n5(e,t),s=S.useRef(new Map).current,i=S.useCallback((h,p=s5)=>{if(s.has(h))return;let f=setTimeout(()=>{s.delete(h),o({type:4,toastId:h})},p);s.set(h,f)},[]);S.useEffect(()=>{if(r)return;let h=Date.now(),p=n.map(f=>{if(f.duration===1/0)return;let w=(f.duration||0)+f.pauseDuration-(h-f.createdAt);if(w<0){f.visible&&Wt.dismiss(f.id);return}return setTimeout(()=>Wt.dismiss(f.id,t),w)});return()=>{p.forEach(f=>f&&clearTimeout(f))}},[n,r,t]);let o=S.useCallback(Vh(t),[t]),a=S.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=S.useCallback((h,p)=>{o({type:1,toast:{id:h,height:p}})},[o]),u=S.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),c=S.useCallback((h,p)=>{let{reverseOrder:f=!1,gutter:w=8,defaultPosition:y}=p||{},b=n.filter(_=>(_.position||y)===(h.position||y)&&_.height),g=b.findIndex(_=>_.id===h.id),v=b.filter((_,T)=>T<g&&_.visible).length;return b.filter(_=>_.visible).slice(...f?[v+1]:[0,v]).reduce((_,T)=>_+(T.height||0)+w,0)},[n]);return S.useEffect(()=>{n.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let p=s.get(h.id);p&&(clearTimeout(p),s.delete(h.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:c}}},o5=ks`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,a5=ks`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,l5=ks`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,u5=Si("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${o5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${a5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${l5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,c5=ks`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,d5=Si("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${c5} 1s linear infinite;
`,h5=ks`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,f5=ks`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,p5=Si("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${h5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${f5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,m5=Si("div")`
  position: absolute;
`,g5=Si("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,y5=ks`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,v5=Si("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${y5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,w5=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?S.createElement(v5,null,t):t:n==="blank"?null:S.createElement(g5,null,S.createElement(d5,{...r}),n!=="loading"&&S.createElement(m5,null,n==="error"?S.createElement(u5,{...r}):S.createElement(p5,{...r})))},b5=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_5=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,x5="0%{opacity:0;} 100%{opacity:1;}",k5="0%{opacity:1;} 100%{opacity:0;}",S5=Si("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,E5=Si("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,C5=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=RC()?[x5,k5]:[b5(n),_5(n)];return{animation:t?`${ks(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ks(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},T5=S.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?C5(e.position||t||"top-center",e.visible):{opacity:0},i=S.createElement(w5,{toast:e}),o=S.createElement(E5,{...e.ariaProps},ih(e.message,e));return S.createElement(S5,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):S.createElement(S.Fragment,null,i,o))});QF(S.createElement);var P5=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=S.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return S.createElement("div",{ref:i,className:t,style:n},s)},R5=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:RC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},A5=zh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yc=16,j5=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=i5(n,i);return S.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Yc,left:Yc,right:Yc,bottom:Yc,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let h=c.position||t,p=u.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),f=R5(h,p);return S.createElement(P5,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?A5:"",style:f},c.type==="custom"?ih(c.message,c):s?s(c):S.createElement(T5,{toast:c,position:h}))}))},Xt=Wt;const DC=[{code:"original",name:"Original Script"},{code:"devanagari",name:"Devanagari"},{code:"tamil_superscripted",name:"Tamil"},{code:"malayalam",name:"Malayalam"},{code:"itrans",name:"ITRANS"},{code:"iast",name:"IAST"},{code:"telugu",name:"Telugu"},{code:"kannada",name:"Kannada"},{code:"gujarati",name:"Gujarati"}];function O5(){const{preferredLanguage:e,setPreferredLanguage:t}=_o(),[n,r]=S.useState(e);S.useEffect(()=>{localStorage.setItem("preferredLanguage",n),t(n)},[n,t]);const s=i=>{r(i.target.value)};return k.jsxs("div",{children:[k.jsx("h2",{children:"Language Preferences"}),k.jsx("p",{children:"Choose the language for transliteration:"}),k.jsx("select",{value:n,onChange:s,children:DC.map(i=>k.jsx("option",{value:i.code,children:i.name},i.code))})]})}const I5=0,D5={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:"10px",zIndex:9999},vl={marginRight:"10px"},wl={opacity:.5,cursor:"not-allowed",color:"#888"},N5=async function(e){try{return await zt.from("sankeertan").upsert({id:1,content:e,scroll_position:0}),!0}catch(t){return console.error(t),!1}},L5=async e=>{const t=e.queryKey,n=t[1],r=t[2],s=t[3],i=t[4];if(!n||!r||!i)throw new Error("Missing query parameters for fetching song details.");const o=await E1(n,i);if(o&&o.songData&&o.sourceLanguage)return console.log("Using song details from IndexedDB cache."),[o.songData,o.metadata,o.sourceLanguage];console.log("Cache miss. Fetching song details from network.");const a=await Yy({bookId:n,sourceRow:r,songTitle:i,sessionuser:s});if(a&&a.length===3){const[l,u,c,h]=a;await T1({bookId:n,songTitle:i,sourceRow:r.toString(),indexPosition:h,songData:l,metadata:u,sourceLanguage:c}),console.log(`Successfully cached song: ${i}`)}else console.warn("Network data structure was unexpected. Skipping cache save.");return a};function $5(){var jt,Zn,Gt;const{categoryId:e,bookId:t,sourceRow:n,songTitle:r}=Ua(),s=Qn(),i=Jn(),{session:o}=xi(),a=(jt=o==null?void 0:o.user)==null?void 0:jt.email,l=(Zn=s.state)==null?void 0:Zn.filteredSongIndices,u=(Gt=s.state)==null?void 0:Gt.index,c=Oh(),h=S.useMemo(()=>decodeURIComponent(r||""),[r]),p=["songDetails",t,n,a,h],{preferredLanguage:f,setPreferredLanguage:w}=_o(),y=S.useMemo(()=>l&&u>0?l[u-1]:null,[l,u]),b=S.useMemo(()=>l&&u<l.length-1?l[u+1]:null,[l,u]),g=S.useCallback(async(Ne,Be)=>{if(!Ne||!Ne.bookId||!Ne.songTitle){Be(!1);return}const Tt=await Nh(Ne.bookId,Ne.songTitle);Be(Tt)},[]),[v,_]=S.useState(!1),[T,A]=S.useState(!1);S.useEffect(()=>(window.handleInternalNavigation=(Ne,Be,Tt,$t)=>{const Le=`/details/book/${Ne}/${Be}/${Tt}/${encodeURIComponent($t)}`;i(Le,{state:{filteredSongIndices:l||[],index:I5},replace:!1}),console.log(`Internal navigation triggered: ${Le}`)},()=>{delete window.handleInternalNavigation}),[i,l,u]),S.useEffect(()=>{g(y,_),g(b,A)},[y,b,g]);const{isLoading:I,isFetching:j,error:D,data:$}=Ih({queryKey:p,queryFn:L5,staleTime:1/0,gcTime:0,refetchOnMount:!1,networkMode:"always",refetchOnWindowFocus:!1});aL(({swipe:[Ne]})=>{Ne===1?(console.log("going to prev"),Ge()):Ne===-1&&(console.log("going to next"),fe())},{axis:"x",filterTaps:!0});const[F,de]=S.useState(!1),[N,W]=S.useState({x:0,y:0}),[C,K]=S.useState(!1),me=S.useRef(null),[re,ie]=S.useState(""),[te,he]=S.useState(null),q=S.useRef(null),G=Ne=>{Ne.preventDefault();const Be=window.getSelection(),Tt=(Be==null?void 0:Be.toString().trim())??"";Be&&Be.rangeCount>0&&!Be.getRangeAt(0).collapsed?(ie(Tt),he(Be.getRangeAt(0)),K(!0)):(ie(""),he(null),K(!1)),W({x:Ne.clientX,y:Ne.clientY}),K(!!re),de(!0)};S.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[s]),S.useEffect(()=>{const Ne=Be=>{me.current&&!me.current.contains(Be.target)&&de(!1)};return F?window.addEventListener("mousedown",Ne):window.removeEventListener("mousedown",Ne),()=>{window.removeEventListener("mousedown",Ne)}},[F]),S.useEffect(()=>{s.state||window.location.pathname.startsWith("/sankeertan")},[s,t]),S.useEffect(()=>{const Ne=Be=>{me.current&&!me.current.contains(Be.target)&&de(!1)};return F&&document.addEventListener("mousedown",Ne),()=>{document.removeEventListener("mousedown",Ne)}},[F]);const z=()=>{const Ne=window.location.href;navigator.clipboard.writeText(Ne).then(()=>{console.log("URL copied to clipboard:",Ne),Xt.success("URL copied to clipboard!")}).catch(Be=>{console.error("Failed to copy URL: ",Be)})},ce=S.useRef(null);function oe(Ne){const $t=new DOMParser().parseFromString(Ne,"text/html").querySelectorAll("tr");let Le="";return $t.forEach(yr=>{const Xn=yr.querySelectorAll("td, th"),es=[];Xn.forEach(Oe=>{var Ya;let En=Oe.innerHTML;En=En.replace(/<\/p>\s*<p>/gi,`
`),En=En.replace(/<p>|<\/p>/gi,""),En=En.replace(/<br\s*\/?>/gi,`
`);const vr=document.createElement("div");vr.innerHTML=En;const Nr=((Ya=vr.textContent)==null?void 0:Ya.trim())||"";es.push(Nr)}),Le+=es.join(" | ")+`

`}),Le.trim()}const ye=()=>{if(!te||te.collapsed){console.warn("No valid selection range to highlight.");return}const Ne=document.createElement("span");Ne.className="highlighted-text";try{te.surroundContents(Ne),console.log("Text highlighted successfully!")}catch(Be){console.error("Failed to highlight text:",Be)}he(null)},De=()=>{if(!ce.current)return"";const Ne=ce.current.innerHTML;return Ne.includes("<table")?oe(Ne):ce.current.textContent||""},Te=(Ne=!1)=>{if(ce.current){const Be=ce.current.innerHTML;let Tt="radhekrishna!!";Ne?Tt=Be:Be.includes("<table")?Tt=oe(Be):Tt=ce.current.textContent||"radhekrishna!!",navigator.clipboard.writeText(Tt).then(()=>{console.log("Song content copied to clipboard:"),Xt.success("Song content copied to clipboard!")}).catch($t=>{console.error("Failed to copy song: ",$t)})}},fe=()=>{if(l&&u!==void 0&&u<l.length-1){const Ne=u+1,Be=l[Ne];sessionStorage.setItem("lastClickedSongIndex",Ne.toString()),i(`/details/book/${e}/${t}/${Be.sourceRow}/${encodeURIComponent(Be.songTitle)}`,{state:{filteredSongIndices:l,index:Ne},replace:!0})}},Ge=()=>{if(l&&u!==void 0&&u>0){const Ne=u-1,Be=l[Ne];sessionStorage.setItem("lastClickedSongIndex",Ne.toString()),i(`/details/book/${e}/${t}/${Be.sourceRow}/${encodeURIComponent(Be.songTitle)}`,{state:{filteredSongIndices:l,index:Ne},replace:!0})}},We=u===0,Ve=u===(l==null?void 0:l.length)-1,at=l&&l.length>0,P=async Ne=>{if(re){const Be=await fetch(`${bi}?mode=api&apiname=reportmistakeinsongtext&book=${t}&sourcerow=${n}&songtitle=${r}&text=${re}&sessionuser=${Ne}`);if(!Be.ok){const $t=await Be.json();throw new Error(`Failed to fetch song details for book ${t}+row ${n}: ${Be.status} - ${JSON.stringify($t)}`)}const Tt=await Be.json();Xt.success(`Issue/Mistake is reported as ${Tt[1]}!!`)}else console.log("No text was selected.")},we=async()=>{t&&r?(await gD(t,h),Xt.success("Local cache cleared. Reloading from server..."),console.log("IndexedDB cache cleared. Data will be reloaded from the server."),c.invalidateQueries({queryKey:p})):console.warn("Cannot reload song: bookId or songTitle is missing.")},ge=async Ne=>{switch(de(!1),Ne){case"broadcast":r&&$e();break;case"copyPageUrl":z();break;case"CopySongAsHtml":Te(!0);break;case"CopySongAsText":Te(!1);break;case"ReportMistake":P(a);break;case"Copy":if(re)try{await navigator.clipboard.writeText(re),Xt.success("Text copied!")}catch(Be){console.error("Failed to copy text: ",Be),Xt.error("Failed to copy text.")}break;case"Highlight":ye();break}},B=S.useMemo(()=>k.jsx(VF.div,{ref:me,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.1},style:{position:"fixed",top:N.y,left:N.x,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)",zIndex:10,minWidth:"150px"},onClick:Ne=>Ne.stopPropagation(),children:k.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:C?k.jsxs(k.Fragment,{children:[k.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>ge("Copy"),children:"Copy Selected"}),k.jsx("li",{style:{padding:"6px 12px",cursor:"pointer"},onClick:()=>ge("ReportMistake"),children:"Report Mistake"})]}):k.jsx(k.Fragment,{children:k.jsxs("div",{style:{borderTop:"1px solid #eee",marginTop:"8px",paddingTop:"8px"},children:[k.jsx("li",{style:{padding:"6px 12px",color:"#666"},children:"**Change Language**"}),DC.map(Ne=>k.jsx("li",{style:{padding:"6px 12px",cursor:"pointer",fontWeight:Ne.code===f?"bold":"normal",backgroundColor:Ne.code===f?"#f0f0f0":"transparent"},onClick:()=>Ee(Ne),children:Ne.name},Ne.code))]})})})},"context-menu"),[C,N,f]),[M,ee]=S.useState(!1),[xe,be]=S.useState(null),[ue,ke]=S.useState(!0),$e=S.useCallback(async()=>{if(M){console.warn("isBroadcasting already");return}if(!ue){Xt.error("Cannot do repeat Broadcast... Pls check if song has changed");return}if(ce.current){ee(!0),be("broadcasting");try{const Ne=ce.current.innerHTML,Be=await N5(Ne);ee(!1),be("success"),Xt.success("Broadcast was successful!"),ke(!1),setTimeout(()=>be(null),2e3)}catch(Ne){console.error("Broadcast failed:",Ne),Xt.error("Broadcast had errors!"),ee(!1),be("error"),setTimeout(()=>be(null),3e3)}}else console.warn("broadcastContentRef.current is null. Cannot broadcast content."),be("failed"),ee(!1)},[ce,M,ue]);S.useEffect(()=>{ke(!0)},[$]),S.useEffect(()=>{$&&$.length>=3&&t&&h&&n&&(g(y,_),g(b,A))},[$,t,h,n,y,b,g]);const Ee=Ne=>{w(Ne.code),de(!1)},ze={backgroundColor:"green",color:"white"},tt={backgroundColor:"brown",color:"white"};if(I&&!$)return k.jsx("div",{style:D5,children:k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"200px"},children:[k.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"#E2E8F0",strokeWidth:"4"}),k.jsx("path",{d:"M20 2C10.0588 2 2 10.0588 2 20",stroke:"#09F",strokeWidth:"4",strokeLinecap:"round"}),k.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite"})]}),k.jsx("p",{style:{marginLeft:"10px"},children:"Loading song text..."})]})});if(D)return k.jsxs("div",{children:["Error loading song details: ",D.message]});if(!$)return k.jsx("div",{children:"No song details available. Please try reloading."});const Xe=document.getElementById("context-menu-root");return k.jsxs(k.Fragment,{children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},ref:q,children:[k.jsx(Qy,{}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[k.jsx("button",{onClick:Ge,disabled:We||!at,style:{...vl,...We||!at?wl:{},...v?ze:tt},children:" Prev"}),k.jsx("button",{onClick:fe,disabled:Ve||!at,style:{...vl,...Ve||!at?wl:{},...T?ze:tt,marginRight:0},children:"Next "})]})]}),k.jsxs("div",{className:"song-details-container select-text",style:{paddingBottom:"60px",paddingLeft:"20px",cursor:"pointer",userSelect:"auto"},onContextMenu:G,children:[k.jsx("div",{ref:ce,children:$&&k.jsx(pN,{data:$[0],className:"my-4",highlightColor:"bg-blue-50",striped:!0,hoverEffect:!1,wrapColumns:[0,1,2,3,4],maxWidth:"max-w-6xl",preferredLanguage:f,sourceLanguage:$[2]})}),k.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",backgroundColor:"#fff",borderTop:"1px solid #ccc",padding:"10px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",zIndex:1e3},children:[k.jsxs("div",{children:[k.jsx("button",{onClick:Ge,disabled:We||!at,style:{...vl,...We||!at?wl:{},...v?ze:tt},children:" Prev"}),k.jsx("button",{onClick:fe,disabled:Ve||!at,style:{...vl,...Ve||!at?wl:{},...T?ze:tt,marginRight:0},children:"Next "})]}),k.jsxs("div",{children:[k.jsx("button",{onClick:()=>{const Ne=De();i(`/editor/book/${e}/${t}/${n}/${encodeURIComponent(r||"")}`,{state:{initialContent:Ne}})},style:{marginRight:"10px"},title:"Edit Song",children:""}),k.jsx("button",{onClick:we,disabled:j,style:{marginRight:"10px",backgroundColor:j?"#ccc":"#f0f0f0",color:j?"#666":"inherit",cursor:j?"not-allowed":"pointer"},title:"Reload from Server (Clears local cache)",children:j?k.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[k.jsxs("svg",{className:"animate-spin",style:{width:"16px",height:"16px",marginRight:"5px"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),k.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Reloading..."]}):""}),k.jsx("button",{onClick:z,style:{marginRight:"10px"},title:"Copy URL",children:""}),k.jsx("button",{onClick:()=>Te(!1),style:{marginRight:"10px"},title:"Copy Content",children:""}),k.jsx("button",{onClick:$e,disabled:!ue,style:{...vl,...ue?{}:wl},title:"Broadcast",children:""})]})]}),k.jsx("style",{children:`
          .highlighted-text {
            background-color: #ffeb3b; /* Yellow background */
            padding: 2px 4px;
            border-radius: 4px;
          }
          .animate-spin {
            animation: spin 1s linear infinite;
          }
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `}),F&&Xe&&fR.createPortal(k.jsx(cM,{children:B}),Xe)]})]})}const M5=" || ",U_=e=>!e||!Array.isArray(e)?"":e.map(t=>Array.isArray(t)?t.map(n=>n==null?"":String(n)).join(M5):"").join(`
`),z_=()=>{const e=Qn(),t=Jn(),{categoryId:n,bookId:r,sourceRow:s,songTitle:i}=Ua(),{categories:o}=Lh(),{session:a}=xi(),l=!r,[u,c]=S.useState(n||""),[h,p]=S.useState(r||""),[f,w]=S.useState(i?decodeURIComponent(i):""),[y,b]=S.useState(!1),[g,v]=S.useState(""),[_,T]=S.useState(null),[A,I]=S.useState(!1);S.useEffect(()=>{const N=e.state;if(N!=null&&N.initialContent){console.log("Using passed text content"),v(N.initialContent),b(!0);return}!l&&r&&i&&s&&j(r,decodeURIComponent(i),s)},[r,i,s,l,e.state]);const j=async(N,W,C)=>{var K;I(!0);try{const me=await E1(N,W);if(me&&me.songData)T(me.songData),v(U_(me.songData)),b(!0),Xt.success("Loaded from local cache");else if(C)try{const re=await Yy({bookId:N,sourceRow:C,songTitle:W,sessionuser:(K=a==null?void 0:a.user)==null?void 0:K.email});re&&re[0]&&(T(re[0]),v(U_(re[0])),b(!0),Xt.success("Loaded from server"))}catch(re){console.error("Network fetch failed",re),Xt.error("Failed to fetch song from server.")}else v(""),T(null),b(!0),Xt("Creating a new song",{icon:""})}catch(me){console.error("Error loading song:",me),Xt.error("Error loading song data.")}finally{I(!1)}},D=async()=>{if(!h||!f){Xt.error("Please select a book and enter a song title.");return}I(!0);try{let N;const W=await Dh(h);if(W){const C=W.find(K=>K.songTitle.toLowerCase()===f.toLowerCase());C&&(N=C.sourceRow.toString())}await j(h,f,N)}catch(N){console.error(N),Xt.error("Failed to initialize editor."),I(!1)}},$=async()=>{var N;try{const W=g;console.log("--------------------------------------------------"),console.log("SUBMITTING EDITED CONTENT (RAW TEXT):"),console.log("Book:",h),console.log("Song:",f),console.log(W),console.log("--------------------------------------------------"),await ND({bookId:h,songTitle:f,text:W,sessionuser:(N=a==null?void 0:a.user)==null?void 0:N.email}),Xt.success("Content saved successfully!"),l||t(-1)}catch(W){console.error("Error saving content:",W),Xt.error("Failed to save content.")}},F=()=>{l?(b(!1),T(null),v("")):t(-1)},de=()=>{const N=o==null?void 0:o.find(C=>C.id===u||C.name===u),W=(N==null?void 0:N.books)||[];return k.jsxs("div",{className:"max-w-2xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[k.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Song Editor"}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Category"}),k.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",value:u,onChange:C=>{c(C.target.value),p("")},children:[k.jsx("option",{value:"",children:"-- Select Category --"}),o==null?void 0:o.map(C=>k.jsx("option",{value:C.id||C.name,children:C.name},C.id||C.name))]})]}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Book"}),k.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",value:h,onChange:C=>p(C.target.value),disabled:!u,children:[k.jsx("option",{value:"",children:"-- Select Book --"}),W.map(C=>k.jsx("option",{value:C.bookId,children:C.bookName},C.bookId))]})]}),k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Song Title"}),k.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Enter exact song title",value:f,onChange:C=>w(C.target.value)}),k.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter an existing title to edit, or a new one to create."})]}),k.jsx("button",{onClick:D,disabled:!h||!f||A,className:`w-full py-2 px-4 rounded text-white font-bold transition-colors ${!h||!f||A?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:A?"Loading...":"Start Editing"})]})};return y?k.jsxs("div",{className:"p-4 h-screen flex flex-col bg-gray-50",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsxs("div",{children:[k.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:[_?"Edit Song":"Create Song",": ",f]}),k.jsxs("p",{className:"text-sm text-gray-600",children:["Book: ",h]})]}),k.jsxs("div",{className:"space-x-2",children:[k.jsx("button",{onClick:F,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors",children:l?"Back":"Cancel"}),k.jsx("button",{onClick:$,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Submit Changes"})]})]}),k.jsxs("div",{className:"flex-grow flex flex-col",children:[k.jsxs("div",{className:"bg-blue-50 p-3 mb-2 rounded text-sm text-blue-800 border border-blue-200",children:[k.jsx("strong",{children:"Instructions:"})," Edit the text below. Use ",k.jsx("code",{children:" || "})," (space-pipe-pipe-space) to separate columns. Each line represents a new row."]}),k.jsx("textarea",{value:g,onChange:N=>v(N.target.value),className:"flex-grow w-full p-4 font-mono text-base border border-gray-300 rounded shadow-inner focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",spellCheck:!1,placeholder:"Start typing song content here..."})]})]}):k.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:de()})},F5=({broadcastId:e,session:t,shouldSyncScroll:n,onContentUpdated:r,onScrollPositionUpdated:s,onConnectionStatusChange:i})=>{const o=S.useRef(n);S.useEffect(()=>{o.current=n},[n]);const a=S.useRef(null);return S.useEffect(()=>{if(!(t!=null&&t.access_token)||!e){console.log("No access token or broadcast ID, Listener skipping subscription setup."),i("DISCONNECTED");return}return a.current&&(zt.removeChannel(a.current),a.current=null),i("CONNECTING"),a.current=zt.channel(`broadcast:${e}`),a.current.on("postgres_changes",{event:"UPDATE",schema:"public",table:"sankeertan",filter:`id=eq.${e}`},l=>{l.new&&"content"in l.new&&r(l.new.content),l.new&&"scroll_position"in l.new&&l.new.scroll_position!==null&&o.current&&s(l.new.scroll_position)}).subscribe((l,u)=>{switch(l){case"SUBSCRIBED":i("CONNECTED");break;case"CHANNEL_ERROR":case"TIMED_OUT":case"CLOSED":i(l==="CLOSED"?"DISCONNECTED":"ERROR"),console.error(`Subscription issue for broadcast ${e}:`,u||l);break;case"CONNECTING":i("CONNECTING");break}}),()=>{a.current&&(zt.removeChannel(a.current),a.current=null)}},[e,t==null?void 0:t.access_token,r,s,i]),null},B5=(e,t)=>{let n;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>{e.apply(null,r)},t)}},U5=({broadcastId:e})=>{const[t,n]=S.useState(null),[r,s]=S.useState(null),i=S.useRef(null),[o,a]=S.useState(null),[l,u]=S.useState(!1),[c,h]=S.useState(!0),[p,f]=S.useState(!1),[w,y]=S.useState(null),[b,g]=S.useState("none"),[v,_]=S.useState(!1),[T,A]=S.useState("CONNECTING"),{preferredLanguage:I}=_o(),j=S.useCallback(K=>{A(K),console.log(`Realtime Connection Status Updated: ${K}`)},[]),D=S.useCallback(K=>{const re=Ia(K??"","devanagari",I);n(re)},[I]),$=S.useCallback(K=>{l&&K!==null&&s(`trRowAsAnchor-${K}`)},[l]);S.useEffect(()=>{zt.auth.getSession().then(({data:{session:me}})=>{a(me)});const{data:K}=zt.auth.onAuthStateChange((me,re)=>{a(re)});return()=>{K.subscription.unsubscribe()}},[]);const F=S.useCallback(async()=>{p||h(!0),y(null);try{const{data:K,error:me}=await zt.from("sankeertan").select("content, scroll_position, is_broadcasting_scroll").eq("id",e).single();if(me)console.error("Error fetching broadcast data:",me),y(me.message);else if(K){const re=K.content??"";let ie=Ia(re,"devanagari",I);n(ie),_(K.is_broadcasting_scroll??!1),f(!0)}}finally{h(!1)}},[e,I,p]);S.useEffect(()=>{o&&e&&!p&&F()},[o,e,F,p]),S.useEffect(()=>{if(r&&i.current){const K=r,me=i.current.querySelector(`#${K}`);me&&me.scrollIntoView({block:"start",behavior:"smooth"}),s(null)}},[r,i]);const de=S.useCallback(async K=>{if(b==="leader"&&v){const{error:me}=await zt.from("sankeertan").update({scroll_position:K}).eq("id",e);me&&console.error("Error broadcasting scroll position:",me)}},[b,v,e]);S.useEffect(()=>{if(b!=="leader"||!v||!i.current)return;const K=i.current,me=B5(de,200),re=K.querySelectorAll("tr[id^='trRowAsAnchor-']"),ie=new Set;let te=null;const he=z=>{z.forEach(De=>{De.isIntersecting?ie.add(De.target):ie.delete(De.target)});let ce=null,oe=1/0;const ye=K.getBoundingClientRect().top;if(ie.forEach(De=>{if(typeof De.id!="string"||De.id==="")return;const fe=De.getBoundingClientRect().top-ye;fe>=0&&fe<oe&&(oe=fe,ce=De.id)}),ce){const Te=ce.split("-").pop();if(Te){const fe=parseInt(Te);ce!==te&&(te=ce,me(fe))}}},q={root:K,rootMargin:"0px",threshold:.1},G=new IntersectionObserver(he,q);return re.forEach(z=>{G.observe(z)}),()=>{G.disconnect()}},[b,v,de]);const N=async()=>{const K=!v,{error:me}=await zt.from("sankeertan").update({is_broadcasting_scroll:K}).eq("id",e);me?console.error("Failed to update broadcast scroll status:",me):_(K)},W=K=>{K==="none"&&(_(!1),u(!1)),g(K),K==="follower"&&u(!0)},C=K=>{switch(K){case"CONNECTED":return"green";case"DISCONNECTED":case"ERROR":return"red";case"CONNECTING":return"yellow";default:return"gray"}};return k.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh"},children:[k.jsxs("div",{style:{flexGrow:1,overflowY:"auto",paddingBottom:"70px",padding:"10px"},ref:i,children:[k.jsxs("h2",{style:{display:"flex",alignItems:"center"},children:["Sankeertan Content",k.jsx("span",{style:{height:"12px",width:"12px",borderRadius:"50%",backgroundColor:C(T),marginLeft:"10px",display:"inline-block",border:"1px solid #333"},title:`Realtime Status: ${T}`}),k.jsxs("span",{style:{marginLeft:"5px",fontSize:"0.8em",color:"#666"},children:["(",T,")"]})]}),c&&!p?k.jsx("p",{children:"Loading content..."}):w?k.jsxs("p",{style:{color:"red"},children:["Error loading data: ",w]}):t&&k.jsx("div",{dangerouslySetInnerHTML:{__html:t}})]}),o&&b==="follower"&&k.jsx(F5,{broadcastId:e,session:o,shouldSyncScroll:l,onContentUpdated:D,onScrollPositionUpdated:$,onConnectionStatusChange:j}),k.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"60px",backgroundColor:"#f8f8f8",borderTop:"1px solid #eee",display:"flex",justifyContent:"space-around",alignItems:"center",padding:"0 10px",boxShadow:"0 -2px 5px rgba(0,0,0,0.1)",zIndex:100},children:[k.jsx("button",{onClick:()=>W(b==="leader"?"none":"leader"),style:{backgroundColor:b==="leader"?"#FF5733":"#4CAF50",color:"white",padding:"10px 15px",border:"none",borderRadius:"5px",fontWeight:"bold"},children:b==="leader"?"Disengage (Leader)":"Become a Leader"}),b==="none"&&k.jsx("div",{style:{color:"#666",fontWeight:"bold",textAlign:"center"},children:"Choose a Role to Participate"}),b==="leader"&&k.jsx("button",{onClick:N,style:{backgroundColor:v?"#FF9800":"#f44336",color:"white",padding:"10px 15px",border:"none",borderRadius:"5px",fontWeight:"bold"},children:v?"Pause Scroll Broadcast":"Start Scroll Broadcast"}),k.jsx("button",{onClick:()=>W(b==="follower"?"none":"follower"),style:{backgroundColor:b==="follower"?"#FF5733":"#2196F3",color:"white",padding:"10px 15px",border:"none",borderRadius:"5px",fontWeight:"bold"},children:b==="follower"?"Disengage (Follower)":"Become a Follower"})]})]})},Qc=Lt(),V_=(e,t)=>`${e.trim()}|${t.trim()}`;async function z5(){var u,c;console.log("[Dexie Load] Preparing availability check set...");const e=await Qc.songDetails.toCollection().primaryKeys(),t=new Set;for(const[h,p]of e)t.add(V_(h,p));console.log(`[Dexie Load] Found ${t.size} available SongDetails.`);const n=await Qc.songIndices.toArray();let r=await Qc.categories.toArray();r.length===0&&(console.warn("Categories table empty on first read. Waiting 500ms and retrying..."),await new Promise(h=>setTimeout(h,500)),r=await Qc.categories.toArray(),r.length===0&&console.error("Categories table STILL empty after retry. Data seeding failed."));const s=new Map,i=new Map;for(const h of r){const p=(u=h.id)==null?void 0:u.trim();if(p&&i.set(p,h),Array.isArray(h.books))for(const f of h.books){const w=(c=f.bookId)==null?void 0:c.trim();if(w){let y=s.get(w);if(y){const b=Array.isArray(y.categoryId)?y.categoryId:y.categoryId?[y.categoryId]:[];p&&!b.includes(p)&&(y.categoryId=[...b,p])}else y={...f,bookId:w,bookName:f.bookName||"Unknown Book",categoryId:p?[p]:[],author:f.author||h.author,language:f.language||h.language,type:f.type||h.type,raagam:f.raagam||h.raagam,taaLam:f.taaLam||h.taaLam},s.set(w,y)}}}console.log("Book Map Keys (Flattened):",Array.from(s.keys()).length),console.log("Category Map Keys:",Array.from(i.keys()).length);const o=n.map((h,p)=>{var de,N;const f=(de=h.bookId)==null?void 0:de.trim(),w=(N=h.songTitle)==null?void 0:N.trim(),y=s.get(f);let b=[],g=[];if(y&&y.categoryId){const W=Array.isArray(y.categoryId)?y.categoryId:[y.categoryId];g=W,b=W.map(C=>{var K;return((K=i.get(C))==null?void 0:K.name)||"Unknown Category"})}else b=["Unknown Category"],g=["unknown-category"];y||console.error(`[FATAL MISMATCH] Book lookup failed for Song: ${h.songTitle} | Index Book ID: '${f}'`);let v=!1;if(f&&w){const W=V_(f,w);v=t.has(W)}const _=(y==null?void 0:y.bookName)||"Unknown Book",T=g.length>0?i.get(g[0]):void 0,A=h.author||(y==null?void 0:y.author)||(T==null?void 0:T.author)||"Unknown Author",I=h.sourceLanguage||(y==null?void 0:y.language)||(T==null?void 0:T.language)||"Unknown Language",j=h.type||(y==null?void 0:y.type)||(T==null?void 0:T.type)||"Unknown Type",D=h.raagam||(y==null?void 0:y.raagam)||(T==null?void 0:T.raagam)||"Unknown Type",$=h.taaLam||(y==null?void 0:y.taaLam)||(T==null?void 0:T.taaLam)||"Unknown Type";return{uniqueSongId:`${h.bookId}-${h.songTitle}`,indexPositionForNavigation:p,isAvailable:v,bookId:h.bookId,categoryId:g,title:h.songTitle,sourceRow:h.sourceRow,tags:h.tags||null,verseCount:h.verseCount||null,category:b,book:_,author:A,language:I,type:j,raagam:D,taaLam:$,link:h.link}}),a=new Map;for(const h of o){const p=`${h.title.toLowerCase().trim()}|${h.author.toLowerCase().trim()}`;if(a.has(p)){const f=a.get(p),w=(y,b)=>{const g=Array.isArray(y)?y:[y],v=Array.isArray(b)?b:[b];return Array.from(new Set([...g,...v]))};f.book=w(f.book,h.book),f.bookId=w(f.bookId,h.bookId),f.category=w(f.category,h.category),f.categoryId=w(f.categoryId,h.categoryId)}else a.set(p,h)}const l=Array.from(a.values());return console.log(`[Dexie Load] Deduplicated ${o.length} raw songs into ${l.length} unique songs.`),l}const V5=["searchIndex","allSongs"],K5=()=>Ih({queryKey:V5,queryFn:async()=>{console.log("TanStack Query: Starting load of search index from Dexie...");const e=await z5();return console.log(`TanStack Query: Successfully loaded ${e.length} songs.`),e},staleTime:1/0,refetchOnMount:!0,gcTime:1e3*60*60*4,networkMode:"always",refetchOnWindowFocus:!1}),W5=(e,t)=>{if(Object.keys(t).length===0)return e;let n=e;return Object.keys(t).forEach(r=>{const s=t[r];if(s&&s.length>0){const i=s.map(o=>o.value.toLowerCase());n=n.filter(o=>{const a=o[r];return(Array.isArray(a)?a.map(u=>String(u).toLowerCase()):[String(a).toLowerCase()]).some(u=>i.includes(u))})}}),n},H5=(e,t)=>{const n=t.trim().toLowerCase();return n?e.filter(r=>{const s=i=>Array.isArray(i)?i.some(o=>String(o).toLowerCase().includes(n)):String(i).toLowerCase().includes(n);return s(r.title)||s(r.author)||s(r.book)||s(r.category)}):e},bl=(e,t)=>{const n=new Set;return e.forEach(r=>{const s=r[t];Array.isArray(s)?s.forEach(i=>{typeof i=="string"&&n.add(i)}):typeof s=="string"&&n.add(s)}),Array.from(n).sort()},q5=()=>{const[e,t]=S.useState(""),[n,r]=S.useState({}),[s,i]=S.useState([]),[o,a]=S.useState([]),[l,u]=S.useState("cards"),[c,h]=S.useState(!1),p=Jn(),f=30,[w,y]=S.useState({category:!0,book:!0,title:!0,author:!0,language:!0,raagam:!0}),{preferredLanguage:b}=_o(),g=(z,ce="itrans")=>{const oe=Array.isArray(z)?z.join(", "):z;return Ia(oe,ce,b)},{data:v,isLoading:_,isError:T,error:A}=K5(),I=S.useMemo(()=>v||[],[v]);S.useEffect(()=>{if(I.length===0){i([]),a([]);return}let z=W5(I,n),ce=H5(z,e);i(ce),h(!1);const oe=ce.map(ye=>({indexPositionForNavigation:ye.indexPositionForNavigation,sourceRow:String(ye.sourceRow),bookId:Array.isArray(ye.bookId)?ye.bookId[0]:ye.bookId,songTitle:Array.isArray(ye.title)?ye.title.join(", "):ye.title}));a(oe)},[I,n,e]);const j=(z,ce)=>{r(oe=>{const ye=oe[z]||[],De=ye.find(Te=>Te.value===ce);if(De)if(De.isNot){const Te=ye.filter(fe=>fe.value!==ce);if(Te.length===0){const fe={...oe};return delete fe[z],fe}return{...oe,[z]:Te}}else return{...oe,[z]:ye.map(Te=>Te.value===ce?{...Te,isNot:!0}:Te)};else return{...oe,[z]:[...ye,{value:ce,isNot:!1}]}})},D=()=>{r({})},$=(z,ce)=>{if(z.type==="link"&&z.link)try{const fe=JSON.parse(z.link),Ge=fe.bookId,We=fe.categoryId;if(Ge&&We){p(`/book/${We}/${Ge}`);return}}catch(fe){console.error("Failed to parse link data for song:",z.title,fe)}const oe=Array.isArray(z.title)?z.title.join(", "):z.title,ye=Array.isArray(z.categoryId)?z.categoryId[0]:z.categoryId,De=Array.isArray(z.bookId)?z.bookId[0]:z.bookId,Te=z.sourceRow;p(`/details/book/${ye}/${De}/${Te}/${encodeURIComponent(oe)}`,{state:{filteredSongIndices:o,index:ce}})},F=z=>{y(ce=>({...ce,[z]:!ce[z]}))},de=bl(s,"author"),N=bl(s,"language"),W=bl(s,"raagam"),C=bl(s,"book"),K=bl(s,"category"),me={category:new Set,book:new Set,title:new Set,author:new Set,language:new Set,type:new Set,raagam:new Set};e.length>0&&I.forEach(z=>{Object.entries(z).forEach(([ce,oe])=>{var ye;Array.isArray(oe)?oe.forEach(De=>{var Te;typeof De=="string"&&De.toLowerCase().includes(e.toLowerCase())&&((Te=me[ce])==null||Te.add(De))}):typeof oe=="string"&&oe.toLowerCase().includes(e.toLowerCase())&&((ye=me[ce])==null||ye.add(oe))})});const re=(z,ce)=>s.filter(oe=>{const ye=oe[z];return Array.isArray(ye)?ye.includes(ce):ye===ce}).length,ie=(z,ce)=>{var ye;const oe=(ye=n[z])==null?void 0:ye.find(De=>De.value===ce);return oe?oe.isNot?"bg-red-500 text-white":"bg-[#3498db] text-white":"hover:bg-gray-100 text-gray-700"};if(_)return k.jsx("div",{className:"flex justify-center items-center h-screen text-lg text-gray-500 bg-[#f5f7fa]",children:"Loading search index..."});if(T)return k.jsxs("div",{className:"text-center p-4 text-red-600 border border-red-300 bg-red-50 m-4 rounded-lg",children:["Error loading search index: ",(A==null?void 0:A.message)||"Unknown error."]});const te=z=>`${Array.isArray(z.bookId)?z.bookId.join("-"):z.bookId}-${z.title}`,he=z=>Array.isArray(z)?z.join(", "):z,q="bg-white rounded-xl shadow-[0_4px_10px_rgba(0,0,0,0.08)] border border-[#eaeaea] transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_8px_25px_rgba(0,0,0,0.15)]";return k.jsx("div",{className:"min-h-screen bg-[#f5f7fa] p-4 font-sans flex flex-col items-center",children:k.jsxs("div",{className:"w-full max-w-[1400px] bg-[#f5f7fa] p-2 md:p-4",children:[k.jsx("div",{className:"text-2xl font-bold text-[#2c3e50] border-b-2 border-[#eaeaea] pb-4 mb-6 flex justify-between items-center",children:k.jsx("span",{children:"Search Songs"})}),k.jsxs("div",{className:"relative mb-6",children:[k.jsx("input",{type:"text",placeholder:"Search by title, author, book, language...",className:"w-full px-5 py-4 rounded-xl bg-white text-lg text-[#2c3e50] placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#3498db] shadow-sm border border-gray-200 transition-all",value:e,onChange:z=>t(z.target.value)}),e&&Object.values(me).some(z=>z.size>0)&&k.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white rounded-xl shadow-xl border border-gray-200 max-h-64 overflow-y-auto",children:Object.entries(me).map(([z,ce])=>ce&&ce.size>0&&k.jsxs("div",{className:"p-3 border-b border-gray-100 last:border-0",children:[k.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-2 tracking-wider ml-2",children:z}),Array.from(ce).map((oe,ye)=>k.jsx("button",{className:"w-full text-left px-3 py-2 text-sm rounded-lg hover:bg-[#f0f9ff] hover:text-[#3498db] text-gray-700 transition-colors",onClick:()=>{t(""),j(z,oe)},children:oe},ye))]},z))})]}),Object.keys(n).some(z=>{const ce=n[z];return ce&&ce.length>0})&&k.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2 bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[k.jsx("span",{className:"text-sm font-semibold text-gray-500 mr-2",children:"Active Filters:"}),Object.entries(n).map(([z,ce])=>ce==null?void 0:ce.map((oe,ye)=>k.jsxs("span",{className:`${oe.isNot?"bg-red-500":"bg-[#3498db]"} text-white text-sm px-3 py-1 rounded-full flex items-center gap-2 shadow-sm`,children:[k.jsxs("span",{className:"font-medium opacity-90 capitalize",children:[z,":"]}),k.jsx("span",{className:"font-bold",children:oe.value}),k.jsx("button",{onClick:()=>j(z,oe.value),className:"ml-1 hover:text-gray-200 transition-colors font-bold",children:""})]},`${z}-${ye}`))),k.jsx("button",{onClick:D,className:"text-sm text-[#3498db] hover:text-[#2980b9] font-semibold transition-colors ml-auto px-3 py-1",children:"Clear All"})]}),k.jsx("div",{className:"grid gap-4 mb-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[{key:"category",label:"Category",data:K},{key:"book",label:"Book",data:C},{key:"author",label:"Author",data:de},{key:"language",label:"Language",data:N},{key:"raagam",label:"Raagam",data:W}].map(({key:z,label:ce,data:oe})=>k.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[k.jsxs("button",{onClick:()=>F(z),className:"w-full text-left px-4 py-3 text-sm font-bold text-[#2c3e50] flex justify-between items-center hover:bg-gray-50 transition-colors bg-gray-50/50",children:[ce,k.jsx("span",{className:`transform transition-transform duration-300 text-gray-400 ${w[z]?"":"rotate-180"}`,children:""})]}),k.jsx("div",{className:`overflow-hidden transition-all duration-300 ${w[z]?"max-h-0":"max-h-64 overflow-y-auto custom-scrollbar"}`,children:k.jsx("div",{className:"p-2",children:oe.map(ye=>k.jsxs("button",{onClick:()=>j(z,ye),className:`w-full text-left py-2 px-3 rounded-lg flex justify-between items-center transition-colors text-sm mb-1 ${ie(z,ye)}`,children:[k.jsx("span",{className:"truncate mr-2",children:ye}),k.jsx("span",{className:"text-xs font-medium bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full",children:re(z,ye)})]},ye))})})]},z))}),k.jsx("div",{className:"mt-4",children:!e.trim()&&!Object.values(n).some(z=>z&&z.length>0)?k.jsxs("div",{className:"text-center py-20 bg-white rounded-xl border-2 border-dashed border-gray-200",children:[k.jsx("div",{className:"text-6xl mb-4 opacity-20",children:""}),k.jsx("p",{className:"text-xl text-gray-400 font-semibold",children:"Ready to Search"}),k.jsx("p",{className:"text-gray-400 mt-2 text-sm",children:"Enter a keyword or select a filter to find songs."})]}):k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsxs("h2",{className:"text-xl font-bold text-[#2c3e50]",children:["Results ",k.jsxs("span",{className:"text-gray-400 text-lg font-normal ml-2",children:["(",s.length,")"]})]}),k.jsxs("div",{className:"flex bg-white rounded-lg p-1 shadow-sm border border-gray-200",children:[k.jsx("button",{onClick:()=>u("cards"),className:`px-4 py-1.5 rounded-md text-sm font-semibold transition-all ${l==="cards"?"bg-[#3498db] text-white shadow-sm":"text-gray-500 hover:bg-gray-50"}`,children:"Cards"}),k.jsx("button",{onClick:()=>u("grid"),className:`px-4 py-1.5 rounded-md text-sm font-semibold transition-all ${l==="grid"?"bg-[#3498db] text-white shadow-sm":"text-gray-500 hover:bg-gray-50"}`,children:"List"})]})]}),s.length===0?k.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-200",children:[k.jsx("p",{className:"text-gray-400 text-lg",children:"No songs match your search."}),k.jsx("button",{onClick:D,className:"mt-4 text-[#3498db] font-semibold hover:underline",children:"Clear filters"})]}):k.jsx(k.Fragment,{children:!c&&s.length>f?k.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200 shadow-sm",children:[k.jsxs("p",{className:"text-lg text-gray-600 mb-2",children:["Found ",k.jsx("span",{className:"font-bold text-[#2c3e50]",children:s.length})," matches."]}),k.jsx("p",{className:"text-gray-400 mb-8 text-sm",children:"Refine your search or view all results."}),k.jsx("button",{onClick:()=>h(!0),className:"px-8 py-3 bg-[#3498db] hover:bg-[#2980b9] text-white rounded-full font-bold shadow-lg shadow-blue-200 transition-transform transform hover:scale-105",children:"Show All Results"})]}):k.jsx(k.Fragment,{children:l==="cards"?k.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.map((z,ce)=>{const oe=te(z);return k.jsxs("div",{onClick:()=>$(z,ce),className:`${q} p-5 cursor-pointer relative overflow-hidden group`,children:[k.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${z.isAvailable?"bg-[#3498db]":"bg-red-400"}`}),k.jsxs("div",{className:"pl-3",children:[k.jsx("h3",{className:"text-lg font-bold text-[#2c3e50] mb-3 leading-tight group-hover:text-[#3498db] transition-colors",children:g(z.title,z.language)}),k.jsxs("div",{className:"space-y-1.5",children:[k.jsxs("div",{className:"flex items-start text-sm",children:[k.jsx("span",{className:"text-gray-400 w-20 flex-shrink-0 text-xs uppercase tracking-wide mt-0.5",children:"Author"}),k.jsx("span",{className:"text-gray-700 font-medium",children:z.author})]}),k.jsxs("div",{className:"flex items-start text-sm",children:[k.jsx("span",{className:"text-gray-400 w-20 flex-shrink-0 text-xs uppercase tracking-wide mt-0.5",children:"Raagam"}),k.jsx("span",{className:"text-gray-700",children:z.raagam||"-"})]}),k.jsxs("div",{className:"flex items-start text-sm",children:[k.jsx("span",{className:"text-gray-400 w-20 flex-shrink-0 text-xs uppercase tracking-wide mt-0.5",children:"Taalam"}),k.jsx("span",{className:"text-gray-700",children:z.taaLam||"-"})]}),k.jsxs("div",{className:"flex items-start text-sm",children:[k.jsx("span",{className:"text-gray-400 w-20 flex-shrink-0 text-xs uppercase tracking-wide mt-0.5",children:"Book"}),k.jsx("span",{className:"text-gray-600 truncate",title:Array.isArray(z.book)?z.book.join(", "):z.book,children:he(z.book)})]})]})]})]},oe)})}):k.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:k.jsx("div",{className:"overflow-x-auto",children:k.jsxs("table",{className:"w-full text-left border-collapse",children:[k.jsx("thead",{children:k.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200 text-xs uppercase tracking-wider text-gray-500 font-semibold",children:[k.jsx("th",{className:"p-4",children:"Title"}),k.jsx("th",{className:"p-4 hidden md:table-cell",children:"Author"}),k.jsx("th",{className:"p-4 hidden md:table-cell",children:"Raagam"}),k.jsx("th",{className:"p-4 hidden md:table-cell",children:"Taalam"}),k.jsx("th",{className:"p-4 hidden lg:table-cell",children:"Book"}),k.jsx("th",{className:"p-4 hidden xl:table-cell",children:"Category"})]})}),k.jsx("tbody",{className:"text-sm text-[#2c3e50]",children:s.map((z,ce)=>{const oe=te(z);return k.jsxs("tr",{onClick:()=>$(z,ce),className:"border-b border-gray-100 hover:bg-blue-50/50 cursor-pointer transition-colors last:border-0",children:[k.jsxs("td",{className:"p-4 font-bold group",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx("div",{className:`w-1.5 h-8 rounded-full mr-3 ${z.isAvailable?"bg-[#3498db]":"bg-red-400"}`}),k.jsx("span",{className:"group-hover:text-[#3498db] transition-colors",children:g(z.title,z.language)})]}),k.jsxs("div",{className:"md:hidden mt-1 ml-4 text-xs text-gray-500 space-y-0.5",children:[k.jsx("div",{children:z.author}),k.jsx("div",{children:z.raagam})]})]}),k.jsx("td",{className:"p-4 hidden md:table-cell",children:z.author}),k.jsx("td",{className:"p-4 hidden md:table-cell",children:z.raagam||"-"}),k.jsx("td",{className:"p-4 hidden md:table-cell",children:z.taaLam||"-"}),k.jsx("td",{className:"p-4 hidden lg:table-cell text-gray-600",children:k.jsx("div",{className:"truncate max-w-xs",title:Array.isArray(z.book)?z.book.join(", "):z.book,children:he(z.book)})}),k.jsx("td",{className:"p-4 hidden xl:table-cell text-gray-600",children:k.jsx("div",{className:"truncate max-w-xs",children:he(z.category)})})]},oe)})})]})})})})})]})})]})})},G5="thodaya-mangalam",Y5=()=>{const[e,t]=S.useState(""),n=async()=>{t("Exporting...");try{const r=await xD(G5);if(!r){t("No data found for this book or download failed.");return}const s=r.songDetails.map(u=>u),i=r.songIndices.map(u=>{const{indexId:c,timestamp:h,...p}=u;return p}),o=r.songDetails.map(u=>{const{cacheId:c,timestamp:h,...p}=u;return p}),a={bookId:r.bookId,songIndices:i,songDetails:o},l=JSON.stringify(a,null,2);t(l)}catch(r){t(`Export failed: ${r.message}`)}};return k.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"20px"},children:[k.jsx("div",{style:{marginTop:"20px"},children:k.jsx("button",{onClick:n,style:{padding:"10px 20px",backgroundColor:"#58a",color:"white",border:"none",cursor:"pointer",marginRight:"10px"},children:"Export Book JSON (Debug)"})}),e&&k.jsxs("div",{style:{marginTop:"15px"},children:[k.jsx("h4",{children:"Exported JSON Structure:"}),k.jsx("pre",{style:{backgroundColor:"#f4f4f4",padding:"10px",maxHeight:"300px",overflow:"auto",fontSize:"small"},children:e})]})]})},Q5=[{bookId:"ashtapadi",bookName:"ashtapadi"},{bookId:"thodaya-mangalam",bookName:"thodaya-mangalam"},{bookId:"guru-traya-dhyanam",bookName:"guru-traya-dhyanam"}],J5=({book:e,userEmail:t})=>{const{status:n,downloadedCount:r,error:s,isDownloading:i,startBulkDownload:o}=M1(e.bookId,t),a=()=>i?"Downloading... ":n==="success"?`Complete! ${r} songs stored. `:n==="error"?`Failed! ${s} `:"Ready to Download";return k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px",borderBottom:"1px solid #eee"},children:[k.jsx("div",{style:{fontWeight:"bold"},children:e.bookName}),k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx("span",{style:{marginRight:"15px",fontSize:"small",color:i?"orange":n==="success"?"green":"gray"},children:a()}),k.jsx("button",{onClick:o,disabled:i,style:{padding:"5px 10px",backgroundColor:i?"#aaa":"#007bff",color:"white",border:"none",cursor:"pointer"},children:i?"Processing":"Bulk Download"})]})]})},Z5=()=>{const e="test@example.com";return k.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[k.jsx("h2",{children:"Offline Content Manager"}),k.jsx("p",{children:"Manage and download full book content directly to local storage (Dexie)."}),k.jsx("div",{style:{border:"1px solid #ccc",borderRadius:"5px",marginTop:"15px"},children:Q5.map(t=>k.jsx(J5,{book:t,userEmail:e},t.bookId))})]})};function Jc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var NC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(u,c){if(!s[u]){if(!r[u]){var h=typeof Jc=="function"&&Jc;if(!c&&h)return h(u,!0);if(a)return a(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var f=s[u]={exports:{}};r[u][0].call(f.exports,function(w){var y=r[u][1][w];return o(y||w)},f,f.exports,n,r,s,i)}return s[u].exports}for(var a=typeof Jc=="function"&&Jc,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(n,r,s){var i=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var u,c,h,p,f,w,y,b=[],g=0,v=l.length,_=v,T=i.getTypeOf(l)!=="string";g<l.length;)_=v-g,h=T?(u=l[g++],c=g<v?l[g++]:0,g<v?l[g++]:0):(u=l.charCodeAt(g++),c=g<v?l.charCodeAt(g++):0,g<v?l.charCodeAt(g++):0),p=u>>2,f=(3&u)<<4|c>>4,w=1<_?(15&c)<<2|h>>6:64,y=2<_?63&h:64,b.push(a.charAt(p)+a.charAt(f)+a.charAt(w)+a.charAt(y));return b.join("")},s.decode=function(l){var u,c,h,p,f,w,y=0,b=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&_--,l.charAt(l.length-2)===a.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|_):new Array(0|_);y<l.length;)u=a.indexOf(l.charAt(y++))<<2|(p=a.indexOf(l.charAt(y++)))>>4,c=(15&p)<<4|(f=a.indexOf(l.charAt(y++)))>>2,h=(3&f)<<6|(w=a.indexOf(l.charAt(y++))),v[b++]=u,f!==64&&(v[b++]=c),w!==64&&(v[b++]=h);return v}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,h,p,f,w){this.compressedSize=c,this.uncompressedSize=h,this.crc32=p,this.compression=f,this.compressedContent=w}u.prototype={getContentWorker:function(){var c=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,p){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,c,h,p){var f=o,w=p+h;u^=-1;for(var y=p;y<w;y++)u=u>>>8^f[255&(u^c[y])];return-1^u}(0|l,a,a.length,0):function(u,c,h,p){var f=o,w=p+h;u^=-1;for(var y=p;y<w;y++)u=u>>>8^f[255&(u^c.charCodeAt(y))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=i?"uint8array":"array";function c(h,p){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}s.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},s.compressWorker=function(h){return new c("Deflate",h)},s.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(f,w){var y,b="";for(y=0;y<w;y++)b+=String.fromCharCode(255&f),f>>>=8;return b}function o(f,w,y,b,g,v){var _,T,A=f.file,I=f.compression,j=v!==u.utf8encode,D=a.transformTo("string",v(A.name)),$=a.transformTo("string",u.utf8encode(A.name)),F=A.comment,de=a.transformTo("string",v(F)),N=a.transformTo("string",u.utf8encode(F)),W=$.length!==A.name.length,C=N.length!==F.length,K="",me="",re="",ie=A.dir,te=A.date,he={crc32:0,compressedSize:0,uncompressedSize:0};w&&!y||(he.crc32=f.crc32,he.compressedSize=f.compressedSize,he.uncompressedSize=f.uncompressedSize);var q=0;w&&(q|=8),j||!W&&!C||(q|=2048);var G=0,z=0;ie&&(G|=16),g==="UNIX"?(z=798,G|=function(oe,ye){var De=oe;return oe||(De=ye?16893:33204),(65535&De)<<16}(A.unixPermissions,ie)):(z=20,G|=function(oe){return 63&(oe||0)}(A.dosPermissions)),_=te.getUTCHours(),_<<=6,_|=te.getUTCMinutes(),_<<=5,_|=te.getUTCSeconds()/2,T=te.getUTCFullYear()-1980,T<<=4,T|=te.getUTCMonth()+1,T<<=5,T|=te.getUTCDate(),W&&(me=i(1,1)+i(c(D),4)+$,K+="up"+i(me.length,2)+me),C&&(re=i(1,1)+i(c(de),4)+N,K+="uc"+i(re.length,2)+re);var ce="";return ce+=`
\0`,ce+=i(q,2),ce+=I.magic,ce+=i(_,2),ce+=i(T,2),ce+=i(he.crc32,4),ce+=i(he.compressedSize,4),ce+=i(he.uncompressedSize,4),ce+=i(D.length,2),ce+=i(K.length,2),{fileRecord:h.LOCAL_FILE_HEADER+ce+D+K,dirRecord:h.CENTRAL_FILE_HEADER+i(z,2)+ce+i(de.length,2)+"\0\0\0\0"+i(G,4)+i(b,4)+D+K+de}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),h=n("../signature");function p(f,w,y,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,l),p.prototype.push=function(f){var w=f.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:y?(w+100*(y-b-1))/y:100}}))},p.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var w=this.streamFiles&&!f.file.dir;if(w){var y=o(f,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(f){this.accumulate=!1;var w=this.streamFiles&&!f.file.dir,y=o(f,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),w)this.push({data:function(b){return h.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var f=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var y=this.bytesWritten-f,b=function(g,v,_,T,A){var I=a.transformTo("string",A(T));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(g,2)+i(g,2)+i(v,4)+i(_,4)+i(I.length,2)+I}(this.dirRecords.length,y,f,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(f){this._sources.push(f);var w=this;return f.on("data",function(y){w.processChunk(y)}),f.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),f.on("error",function(y){w.error(y)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(f){var w=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var y=0;y<w.length;y++)try{w[y].error(f)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,w=0;w<f.length;w++)f[w].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{a.forEach(function(p,f){h++;var w=function(v,_){var T=v||_,A=i[T];if(!A)throw new Error(T+" is not a valid compression method !");return A}(f.options.compression,l.compression),y=f.options.compressionOptions||l.compressionOptions||{},b=f.dir,g=f.date;f._compressWorker(w,y).withStreamInfo("file",{name:p,dir:b,date:g,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(p){c.error(p)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function h(p){return new o.Promise(function(f,w){var y=p.decompressed.getContentWorker().pipe(new u);y.on("error",function(b){w(b)}).on("end",function(){y.streamInfo.crc32!==p.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(p,f){var w=this;return f=i.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,f.optimizedBinaryString,f.base64).then(function(y){var b=new l(f);return b.load(y),b}).then(function(y){var b=[o.Promise.resolve(y)],g=y.files;if(f.checkCRC32)for(var v=0;v<g.length;v++)b.push(h(g[v]));return o.Promise.all(b)}).then(function(y){for(var b=y.shift(),g=b.files,v=0;v<g.length;v++){var _=g[v],T=_.fileNameStr,A=i.resolve(_.fileNameStr);w.file(A,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:f.createFolders}),_.dir||(w.file(A).unsafeOriginalName=T)}return b.zipComment.length&&(w.comment=b.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function o(a,l,u){i.call(this,l),this._helper=a;var c=this;a.on("data",function(h,p){c.push(h)||c._helper.pause(),u&&u(p)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(A,I,j){var D,$=a.getTypeOf(I),F=a.extend(j||{},c);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(A=g(A)),F.createFolders&&(D=b(A))&&v.call(this,D,!0);var de=$==="string"&&F.binary===!1&&F.base64===!1;j&&j.binary!==void 0||(F.binary=!de),(I instanceof h&&I.uncompressedSize===0||F.dir||!I||I.length===0)&&(F.base64=!1,F.binary=!0,I="",F.compression="STORE",$="string");var N=null;N=I instanceof h||I instanceof l?I:w.isNode&&w.isStream(I)?new y(A,I):a.prepareContent(A,I,F.binary,F.optimizedBinaryString,F.base64);var W=new p(A,N,F);this.files[A]=W}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),h=n("./compressedObject"),p=n("./zipObject"),f=n("./generate"),w=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),b=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var I=A.lastIndexOf("/");return 0<I?A.substring(0,I):""},g=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},v=function(A,I){return I=I!==void 0?I:c.createFolders,A=g(A),this.files[A]||i.call(this,A,null,{dir:!0,createFolders:I}),this.files[A]};function _(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var I,j,D;for(I in this.files)D=this.files[I],(j=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&A(j,D)},filter:function(A){var I=[];return this.forEach(function(j,D){A(j,D)&&I.push(D)}),I},file:function(A,I,j){if(arguments.length!==1)return A=this.root+A,i.call(this,A,I,j),this;if(_(A)){var D=A;return this.filter(function(F,de){return!de.dir&&D.test(F)})}var $=this.files[this.root+A];return $&&!$.dir?$:null},folder:function(A){if(!A)return this;if(_(A))return this.filter(function($,F){return F.dir&&A.test($)});var I=this.root+A,j=v.call(this,I),D=this.clone();return D.root=j.name,D},remove:function(A){A=this.root+A;var I=this.files[A];if(I||(A.slice(-1)!=="/"&&(A+="/"),I=this.files[A]),I&&!I.dir)delete this.files[A];else for(var j=this.filter(function($,F){return F.name.slice(0,A.length)===A}),D=0;D<j.length;D++)delete this.files[j[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var I,j={};try{if((j=a.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");a.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var D=j.comment||this.comment||"";I=f.generateWorker(this,j,D)}catch($){(I=new l("error")).error($)}return new u(I,j.type||"string",j.mimeType)},generateAsync:function(A,I){return this.generateInternalStream(A).accumulate(I)},generateNodeStream:function(A,I){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(I)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),h=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===u&&this.data[p+2]===c&&this.data[p+3]===h)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),h=a.charCodeAt(3),p=this.readData(4);return l===p[0]&&u===p[1]&&c===p[2]&&h===p[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(h){var p=i.getTypeOf(h);return i.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new u(h):o.uint8array?new c(i.transformTo("uint8array",h)):new a(i.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),o=n("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),o=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=i.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(w,y){return new c.Promise(function(b,g){var v=[],_=w._internalType,T=w._outputType,A=w._mimeType;w.on("data",function(I,j){v.push(I),y&&y(j)}).on("error",function(I){v=[],g(I)}).on("end",function(){try{var I=function(j,D,$){switch(j){case"blob":return i.newBlob(i.transformTo("arraybuffer",D),$);case"base64":return l.encode(D);default:return i.transformTo(j,D)}}(T,function(j,D){var $,F=0,de=null,N=0;for($=0;$<D.length;$++)N+=D[$].length;switch(j){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(de=new Uint8Array(N),$=0;$<D.length;$++)de.set(D[$],F),F+=D[$].length;return de;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+j+"'")}}(_,v),A);b(I)}catch(j){g(j)}v=[]}).resume()})}function f(w,y,b){var g=y;switch(y){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=y,this._mimeType=b,i.checkSupport(g),this._worker=w.pipe(new o(g)),w.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}f.prototype={accumulate:function(w){return p(this,w)},on:function(w,y){var b=this;return w==="data"?this._worker.on(w,function(g){y.call(b,g.data,g.meta)}):this._worker.on(w,function(){i.delay(y,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},w)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}s.utf8encode=function(f){return o.nodebuffer?a.newBufferFrom(f,"utf-8"):function(w){var y,b,g,v,_,T=w.length,A=0;for(v=0;v<T;v++)(64512&(b=w.charCodeAt(v)))==55296&&v+1<T&&(64512&(g=w.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),v++),A+=b<128?1:b<2048?2:b<65536?3:4;for(y=o.uint8array?new Uint8Array(A):new Array(A),v=_=0;_<A;v++)(64512&(b=w.charCodeAt(v)))==55296&&v+1<T&&(64512&(g=w.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),v++),b<128?y[_++]=b:(b<2048?y[_++]=192|b>>>6:(b<65536?y[_++]=224|b>>>12:(y[_++]=240|b>>>18,y[_++]=128|b>>>12&63),y[_++]=128|b>>>6&63),y[_++]=128|63&b);return y}(f)},s.utf8decode=function(f){return o.nodebuffer?i.transformTo("nodebuffer",f).toString("utf-8"):function(w){var y,b,g,v,_=w.length,T=new Array(2*_);for(y=b=0;y<_;)if((g=w[y++])<128)T[b++]=g;else if(4<(v=u[g]))T[b++]=65533,y+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&y<_;)g=g<<6|63&w[y++],v--;1<v?T[b++]=65533:g<65536?T[b++]=g:(g-=65536,T[b++]=55296|g>>10&1023,T[b++]=56320|1023&g)}return T.length!==b&&(T.subarray?T=T.subarray(0,b):T.length=b),i.applyFromCharCode(T)}(f=i.transformTo(o.uint8array?"uint8array":"array",f))},i.inherits(h,l),h.prototype.processChunk=function(f){var w=i.transformTo(o.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=w;(w=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),w.set(y,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var b=function(v,_){var T;for((_=_||v.length)>v.length&&(_=v.length),T=_-1;0<=T&&(192&v[T])==128;)T--;return T<0||T===0?_:T+u[v[T]]>_?T:_}(w),g=w;b!==w.length&&(o.uint8array?(g=w.subarray(0,b),this.leftOver=w.subarray(b,w.length)):(g=w.slice(0,b),this.leftOver=w.slice(b,w.length))),this.push({data:s.utf8decode(g),meta:f.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=h,i.inherits(p,l),p.prototype.processChunk=function(f){this.push({data:s.utf8encode(f.data),meta:f.meta})},s.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(y){return y}function c(y,b){for(var g=0;g<y.length;++g)b[g]=255&y.charCodeAt(g);return b}n("setimmediate"),s.newBlob=function(y,b){s.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(y),g.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(y,b,g){var v=[],_=0,T=y.length;if(T<=g)return String.fromCharCode.apply(null,y);for(;_<T;)b==="array"||b==="nodebuffer"?v.push(String.fromCharCode.apply(null,y.slice(_,Math.min(_+g,T)))):v.push(String.fromCharCode.apply(null,y.subarray(_,Math.min(_+g,T)))),_+=g;return v.join("")},stringifyByChar:function(y){for(var b="",g=0;g<y.length;g++)b+=String.fromCharCode(y[g]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(y){var b=65536,g=s.getTypeOf(y),v=!0;if(g==="uint8array"?v=h.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=h.applyCanBeUsed.nodebuffer),v)for(;1<b;)try{return h.stringifyByChunk(y,g,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(y)}function f(y,b){for(var g=0;g<y.length;g++)b[g]=y[g];return b}s.applyFromCharCode=p;var w={};w.string={string:u,array:function(y){return c(y,new Array(y.length))},arraybuffer:function(y){return w.string.uint8array(y).buffer},uint8array:function(y){return c(y,new Uint8Array(y.length))},nodebuffer:function(y){return c(y,a.allocBuffer(y.length))}},w.array={string:p,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},w.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return f(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},w.uint8array={string:p,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return a.newBufferFrom(y)}},w.nodebuffer={string:p,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return w.nodebuffer.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:u},s.transformTo=function(y,b){if(b=b||"",!y)return b;s.checkSupport(y);var g=s.getTypeOf(b);return w[g][y](b)},s.resolve=function(y){for(var b=y.split("/"),g=[],v=0;v<b.length;v++){var _=b[v];_==="."||_===""&&v!==0&&v!==b.length-1||(_===".."?g.pop():g.push(_))}return g.join("/")},s.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(y)?"nodebuffer":i.uint8array&&y instanceof Uint8Array?"uint8array":i.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(y){if(!i[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(y){var b,g,v="";for(g=0;g<(y||"").length;g++)v+="\\x"+((b=y.charCodeAt(g))<16?"0":"")+b.toString(16).toUpperCase();return v},s.delay=function(y,b,g){setImmediate(function(){y.apply(g||null,b||[])})},s.inherits=function(y,b){function g(){}g.prototype=b.prototype,y.prototype=new g},s.extend=function(){var y,b,g={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&g[b]===void 0&&(g[b]=arguments[y][b]);return g},s.prepareContent=function(y,b,g,v,_){return l.Promise.resolve(b).then(function(T){return i.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new l.Promise(function(A,I){var j=new FileReader;j.onload=function(D){A(D.target.result)},j.onerror=function(D){I(D.target.error)},j.readAsArrayBuffer(T)}):T}).then(function(T){var A=s.getTypeOf(T);return A?(A==="arraybuffer"?T=s.transformTo("uint8array",T):A==="string"&&(_?T=o.decode(T):g&&v!==!0&&(T=function(I){return c(I,i.uint8array?new Uint8Array(I.length):new Array(I.length))}(T))),T):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(h)+")")}},isSignature:function(h,p){var f=this.reader.index;this.reader.setIndex(h);var w=this.reader.readString(4)===p;return this.reader.setIndex(f),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",f=o.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,f,w=this.zip64EndOfCentralSize-44;0<w;)h=this.reader.readInt(2),p=this.reader.readInt(4),f=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var w=p-f;if(0<w)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),h=n("./support");function p(f,w){this.options=f,this.loadOptions=w}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var w,y;if(f.skip(22),this.fileNameLength=f.readInt(2),y=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(b){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===b)return c[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,w,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var w=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(w),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var w,y,b,g=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<g;)w=f.readInt(2),y=f.readInt(2),b=f.readData(y),this.extraFields[w]={id:w,length:y,value:b};f.setIndex(g)},handleUTF8:function(){var f=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var y=o.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var g=o.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var w=i(f.value);return w.readInt(1)!==1||l(this.fileName)!==w.readInt(4)?null:u.utf8decode(w.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var w=i(f.value);return w.readInt(1)!==1||l(this.fileComment)!==w.readInt(4)?null:u.utf8decode(w.readData(f.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(w,y,b){this.name=w,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");i.prototype={internalStream:function(w){var y=null,b="string";try{if(!w)throw new Error("No output type specified.");var g=(b=w.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(y=y.pipe(new l.Utf8EncodeWorker)),!v&&g&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(_){(y=new c("error")).error(_)}return new o(y,b,"")},async:function(w,y){return this.internalStream(w).accumulate(y)},nodeStream:function(w,y){return this.internalStream(w||"nodebuffer").toNodejsStream(y)},_compressWorker:function(w,y){if(this._data instanceof u&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(b,w,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<h.length;f++)i.prototype[h[f]]=p;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var o,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var u=0,c=new l(w),h=i.document.createTextNode("");c.observe(h,{characterData:!0}),o=function(){h.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var y=i.document.createElement("script");y.onreadystatechange=function(){w(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},i.document.documentElement.appendChild(y)}:function(){setTimeout(w,0)};else{var p=new i.MessageChannel;p.port1.onmessage=w,o=function(){p.port2.postMessage(0)}}var f=[];function w(){var y,b;a=!0;for(var g=f.length;g;){for(b=f,f=[],y=-1;++y<g;)b[y]();g=f.length}a=!1}r.exports=function(y){f.push(y)!==1||a||o()}}).call(this,typeof Ht<"u"?Ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==o&&y(this,g)}function p(g,v,_){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function f(g,v,_){i(function(){var T;try{T=v(_)}catch(A){return a.reject(g,A)}T===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,T)})}function w(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function y(g,v){var _=!1;function T(j){_||(_=!0,a.reject(g,j))}function A(j){_||(_=!0,a.resolve(g,j))}var I=b(function(){v(A,T)});I.status==="error"&&T(I.value)}function b(g,v){var _={};try{_.value=g(v),_.status="success"}catch(T){_.status="error",_.value=T}return _}(r.exports=h).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(_){return v.resolve(g()).then(function(){return _})},function(_){return v.resolve(g()).then(function(){throw _})})},h.prototype.catch=function(g){return this.then(null,g)},h.prototype.then=function(g,v){if(typeof g!="function"&&this.state===u||typeof v!="function"&&this.state===l)return this;var _=new this.constructor(o);return this.state!==c?f(_,this.state===u?g:v,this.outcome):this.queue.push(new p(_,g,v)),_},p.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},p.prototype.otherCallFulfilled=function(g){f(this.promise,this.onFulfilled,g)},p.prototype.callRejected=function(g){a.reject(this.promise,g)},p.prototype.otherCallRejected=function(g){f(this.promise,this.onRejected,g)},a.resolve=function(g,v){var _=b(w,v);if(_.status==="error")return a.reject(g,_.value);var T=_.value;if(T)y(g,T);else{g.state=u,g.outcome=v;for(var A=-1,I=g.queue.length;++A<I;)g.queue[A].callFulfilled(v)}return g},a.reject=function(g,v){g.state=l,g.outcome=v;for(var _=-1,T=g.queue.length;++_<T;)g.queue[_].callRejected(v);return g},h.resolve=function(g){return g instanceof this?g:a.resolve(new this(o),g)},h.reject=function(g){var v=new this(o);return a.reject(v,g)},h.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,T=!1;if(!_)return this.resolve([]);for(var A=new Array(_),I=0,j=-1,D=new this(o);++j<_;)$(g[j],j);return D;function $(F,de){v.resolve(F).then(function(N){A[de]=N,++I!==_||T||(T=!0,a.resolve(D,A))},function(N){T||(T=!0,a.reject(D,N))})}},h.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,T=!1;if(!_)return this.resolve([]);for(var A=-1,I=new this(o);++A<_;)j=g[A],v.resolve(j).then(function(D){T||(T=!0,a.resolve(I,D))},function(D){T||(T=!0,a.reject(I,D))});var j;return I}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,h=0,p=-1,f=0,w=8;function y(g){if(!(this instanceof y))return new y(g);this.options=o.assign({level:p,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(_!==h)throw new Error(l[_]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var T;if(T=typeof v.dictionary=="string"?a.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(_=i.deflateSetDictionary(this.strm,T))!==h)throw new Error(l[_]);this._dict_set=!0}}function b(g,v){var _=new y(v);if(_.push(g,!0),_.err)throw _.msg||l[_.err];return _.result}y.prototype.push=function(g,v){var _,T,A=this.strm,I=this.options.chunkSize;if(this.ended)return!1;T=v===~~v?v:v===!0?4:0,typeof g=="string"?A.input=a.string2buf(g):c.call(g)==="[object ArrayBuffer]"?A.input=new Uint8Array(g):A.input=g,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(I),A.next_out=0,A.avail_out=I),(_=i.deflate(A,T))!==1&&_!==h)return this.onEnd(_),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(A.output,A.next_out))):this.onData(o.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&_!==1);return T===4?(_=i.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===h):T!==2||(this.onEnd(h),!(A.avail_out=0))},y.prototype.onData=function(g){this.chunks.push(g)},y.prototype.onEnd=function(g){g===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Deflate=y,s.deflate=b,s.deflateRaw=function(g,v){return(v=v||{}).raw=!0,b(g,v)},s.gzip=function(g,v){return(v=v||{}).gzip=!0,b(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),h=n("./zlib/gzheader"),p=Object.prototype.toString;function f(y){if(!(this instanceof f))return new f(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var g=i.inflateInit2(this.strm,b.windowBits);if(g!==l.Z_OK)throw new Error(u[g]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function w(y,b){var g=new f(b);if(g.push(y,!0),g.err)throw g.msg||u[g.err];return g.result}f.prototype.push=function(y,b){var g,v,_,T,A,I,j=this.strm,D=this.options.chunkSize,$=this.options.dictionary,F=!1;if(this.ended)return!1;v=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?j.input=a.binstring2buf(y):p.call(y)==="[object ArrayBuffer]"?j.input=new Uint8Array(y):j.input=y,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new o.Buf8(D),j.next_out=0,j.avail_out=D),(g=i.inflate(j,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&$&&(I=typeof $=="string"?a.string2buf($):p.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,g=i.inflateSetDictionary(this.strm,I)),g===l.Z_BUF_ERROR&&F===!0&&(g=l.Z_OK,F=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&g!==l.Z_STREAM_END&&(j.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=a.utf8border(j.output,j.next_out),T=j.next_out-_,A=a.buf2string(j.output,_),j.next_out=T,j.avail_out=D-T,T&&o.arraySet(j.output,j.output,_,T,0),this.onData(A)):this.onData(o.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(F=!0)}while((0<j.avail_in||j.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(g=i.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(j.avail_out=0))},f.prototype.onData=function(y){this.chunks.push(y)},f.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Inflate=f,s.inflate=w,s.inflateRaw=function(y,b){return(b=b||{}).raw=!0,w(y,b)},s.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},s.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,h,p){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),p);else for(var f=0;f<h;f++)l[p+f]=u[c+f]},flattenChunks:function(l){var u,c,h,p,f,w;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(w=new Uint8Array(h),u=p=0,c=l.length;u<c;u++)f=l[u],w.set(f,p),p+=f.length;return w}},a={arraySet:function(l,u,c,h,p){for(var f=0;f<h;f++)l[p+f]=u[c+f]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,p){if(p<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(h,p));for(var f="",w=0;w<p;w++)f+=String.fromCharCode(h[w]);return f}l[254]=l[254]=1,s.string2buf=function(h){var p,f,w,y,b,g=h.length,v=0;for(y=0;y<g;y++)(64512&(f=h.charCodeAt(y)))==55296&&y+1<g&&(64512&(w=h.charCodeAt(y+1)))==56320&&(f=65536+(f-55296<<10)+(w-56320),y++),v+=f<128?1:f<2048?2:f<65536?3:4;for(p=new i.Buf8(v),y=b=0;b<v;y++)(64512&(f=h.charCodeAt(y)))==55296&&y+1<g&&(64512&(w=h.charCodeAt(y+1)))==56320&&(f=65536+(f-55296<<10)+(w-56320),y++),f<128?p[b++]=f:(f<2048?p[b++]=192|f>>>6:(f<65536?p[b++]=224|f>>>12:(p[b++]=240|f>>>18,p[b++]=128|f>>>12&63),p[b++]=128|f>>>6&63),p[b++]=128|63&f);return p},s.buf2binstring=function(h){return c(h,h.length)},s.binstring2buf=function(h){for(var p=new i.Buf8(h.length),f=0,w=p.length;f<w;f++)p[f]=h.charCodeAt(f);return p},s.buf2string=function(h,p){var f,w,y,b,g=p||h.length,v=new Array(2*g);for(f=w=0;f<g;)if((y=h[f++])<128)v[w++]=y;else if(4<(b=l[y]))v[w++]=65533,f+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&f<g;)y=y<<6|63&h[f++],b--;1<b?v[w++]=65533:y<65536?v[w++]=y:(y-=65536,v[w++]=55296|y>>10&1023,v[w++]=56320|1023&y)}return c(v,w)},s.utf8border=function(h,p){var f;for((p=p||h.length)>h.length&&(p=h.length),f=p-1;0<=f&&(192&h[f])==128;)f--;return f<0||f===0?p:f+l[h[f]]>p?f:p}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,o,a,l){for(var u=65535&i|0,c=i>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var c=i,h=u+l;o^=-1;for(var p=u;p<h;p++)o=o>>>8^c[255&(o^a[p])];return-1^o}},{}],46:[function(n,r,s){var i,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),h=0,p=4,f=0,w=-2,y=-1,b=4,g=2,v=8,_=9,T=286,A=30,I=19,j=2*T+1,D=15,$=3,F=258,de=F+$+1,N=42,W=113,C=1,K=2,me=3,re=4;function ie(P,we){return P.msg=c[we],we}function te(P){return(P<<1)-(4<P?9:0)}function he(P){for(var we=P.length;0<=--we;)P[we]=0}function q(P){var we=P.state,ge=we.pending;ge>P.avail_out&&(ge=P.avail_out),ge!==0&&(o.arraySet(P.output,we.pending_buf,we.pending_out,ge,P.next_out),P.next_out+=ge,we.pending_out+=ge,P.total_out+=ge,P.avail_out-=ge,we.pending-=ge,we.pending===0&&(we.pending_out=0))}function G(P,we){a._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,we),P.block_start=P.strstart,q(P.strm)}function z(P,we){P.pending_buf[P.pending++]=we}function ce(P,we){P.pending_buf[P.pending++]=we>>>8&255,P.pending_buf[P.pending++]=255&we}function oe(P,we){var ge,B,M=P.max_chain_length,ee=P.strstart,xe=P.prev_length,be=P.nice_match,ue=P.strstart>P.w_size-de?P.strstart-(P.w_size-de):0,ke=P.window,$e=P.w_mask,Ee=P.prev,ze=P.strstart+F,tt=ke[ee+xe-1],Xe=ke[ee+xe];P.prev_length>=P.good_match&&(M>>=2),be>P.lookahead&&(be=P.lookahead);do if(ke[(ge=we)+xe]===Xe&&ke[ge+xe-1]===tt&&ke[ge]===ke[ee]&&ke[++ge]===ke[ee+1]){ee+=2,ge++;do;while(ke[++ee]===ke[++ge]&&ke[++ee]===ke[++ge]&&ke[++ee]===ke[++ge]&&ke[++ee]===ke[++ge]&&ke[++ee]===ke[++ge]&&ke[++ee]===ke[++ge]&&ke[++ee]===ke[++ge]&&ke[++ee]===ke[++ge]&&ee<ze);if(B=F-(ze-ee),ee=ze-F,xe<B){if(P.match_start=we,be<=(xe=B))break;tt=ke[ee+xe-1],Xe=ke[ee+xe]}}while((we=Ee[we&$e])>ue&&--M!=0);return xe<=P.lookahead?xe:P.lookahead}function ye(P){var we,ge,B,M,ee,xe,be,ue,ke,$e,Ee=P.w_size;do{if(M=P.window_size-P.lookahead-P.strstart,P.strstart>=Ee+(Ee-de)){for(o.arraySet(P.window,P.window,Ee,Ee,0),P.match_start-=Ee,P.strstart-=Ee,P.block_start-=Ee,we=ge=P.hash_size;B=P.head[--we],P.head[we]=Ee<=B?B-Ee:0,--ge;);for(we=ge=Ee;B=P.prev[--we],P.prev[we]=Ee<=B?B-Ee:0,--ge;);M+=Ee}if(P.strm.avail_in===0)break;if(xe=P.strm,be=P.window,ue=P.strstart+P.lookahead,ke=M,$e=void 0,$e=xe.avail_in,ke<$e&&($e=ke),ge=$e===0?0:(xe.avail_in-=$e,o.arraySet(be,xe.input,xe.next_in,$e,ue),xe.state.wrap===1?xe.adler=l(xe.adler,be,$e,ue):xe.state.wrap===2&&(xe.adler=u(xe.adler,be,$e,ue)),xe.next_in+=$e,xe.total_in+=$e,$e),P.lookahead+=ge,P.lookahead+P.insert>=$)for(ee=P.strstart-P.insert,P.ins_h=P.window[ee],P.ins_h=(P.ins_h<<P.hash_shift^P.window[ee+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[ee+$-1])&P.hash_mask,P.prev[ee&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=ee,ee++,P.insert--,!(P.lookahead+P.insert<$)););}while(P.lookahead<de&&P.strm.avail_in!==0)}function De(P,we){for(var ge,B;;){if(P.lookahead<de){if(ye(P),P.lookahead<de&&we===h)return C;if(P.lookahead===0)break}if(ge=0,P.lookahead>=$&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),ge!==0&&P.strstart-ge<=P.w_size-de&&(P.match_length=oe(P,ge)),P.match_length>=$)if(B=a._tr_tally(P,P.strstart-P.match_start,P.match_length-$),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=$){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else B=a._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(B&&(G(P,!1),P.strm.avail_out===0))return C}return P.insert=P.strstart<$-1?P.strstart:$-1,we===p?(G(P,!0),P.strm.avail_out===0?me:re):P.last_lit&&(G(P,!1),P.strm.avail_out===0)?C:K}function Te(P,we){for(var ge,B,M;;){if(P.lookahead<de){if(ye(P),P.lookahead<de&&we===h)return C;if(P.lookahead===0)break}if(ge=0,P.lookahead>=$&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=$-1,ge!==0&&P.prev_length<P.max_lazy_match&&P.strstart-ge<=P.w_size-de&&(P.match_length=oe(P,ge),P.match_length<=5&&(P.strategy===1||P.match_length===$&&4096<P.strstart-P.match_start)&&(P.match_length=$-1)),P.prev_length>=$&&P.match_length<=P.prev_length){for(M=P.strstart+P.lookahead-$,B=a._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-$),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=M&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=$-1,P.strstart++,B&&(G(P,!1),P.strm.avail_out===0))return C}else if(P.match_available){if((B=a._tr_tally(P,0,P.window[P.strstart-1]))&&G(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return C}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(B=a._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<$-1?P.strstart:$-1,we===p?(G(P,!0),P.strm.avail_out===0?me:re):P.last_lit&&(G(P,!1),P.strm.avail_out===0)?C:K}function fe(P,we,ge,B,M){this.good_length=P,this.max_lazy=we,this.nice_length=ge,this.max_chain=B,this.func=M}function Ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*j),this.dyn_dtree=new o.Buf16(2*(2*A+1)),this.bl_tree=new o.Buf16(2*(2*I+1)),he(this.dyn_ltree),he(this.dyn_dtree),he(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(D+1),this.heap=new o.Buf16(2*T+1),he(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*T+1),he(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function We(P){var we;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=g,(we=P.state).pending=0,we.pending_out=0,we.wrap<0&&(we.wrap=-we.wrap),we.status=we.wrap?N:W,P.adler=we.wrap===2?0:1,we.last_flush=h,a._tr_init(we),f):ie(P,w)}function Ve(P){var we=We(P);return we===f&&function(ge){ge.window_size=2*ge.w_size,he(ge.head),ge.max_lazy_match=i[ge.level].max_lazy,ge.good_match=i[ge.level].good_length,ge.nice_match=i[ge.level].nice_length,ge.max_chain_length=i[ge.level].max_chain,ge.strstart=0,ge.block_start=0,ge.lookahead=0,ge.insert=0,ge.match_length=ge.prev_length=$-1,ge.match_available=0,ge.ins_h=0}(P.state),we}function at(P,we,ge,B,M,ee){if(!P)return w;var xe=1;if(we===y&&(we=6),B<0?(xe=0,B=-B):15<B&&(xe=2,B-=16),M<1||_<M||ge!==v||B<8||15<B||we<0||9<we||ee<0||b<ee)return ie(P,w);B===8&&(B=9);var be=new Ge;return(P.state=be).strm=P,be.wrap=xe,be.gzhead=null,be.w_bits=B,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=M+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+$-1)/$),be.window=new o.Buf8(2*be.w_size),be.head=new o.Buf16(be.hash_size),be.prev=new o.Buf16(be.w_size),be.lit_bufsize=1<<M+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new o.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=we,be.strategy=ee,be.method=ge,Ve(P)}i=[new fe(0,0,0,0,function(P,we){var ge=65535;for(ge>P.pending_buf_size-5&&(ge=P.pending_buf_size-5);;){if(P.lookahead<=1){if(ye(P),P.lookahead===0&&we===h)return C;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var B=P.block_start+ge;if((P.strstart===0||P.strstart>=B)&&(P.lookahead=P.strstart-B,P.strstart=B,G(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-de&&(G(P,!1),P.strm.avail_out===0))return C}return P.insert=0,we===p?(G(P,!0),P.strm.avail_out===0?me:re):(P.strstart>P.block_start&&(G(P,!1),P.strm.avail_out),C)}),new fe(4,4,8,4,De),new fe(4,5,16,8,De),new fe(4,6,32,32,De),new fe(4,4,16,16,Te),new fe(8,16,32,32,Te),new fe(8,16,128,128,Te),new fe(8,32,128,256,Te),new fe(32,128,258,1024,Te),new fe(32,258,258,4096,Te)],s.deflateInit=function(P,we){return at(P,we,v,15,8,0)},s.deflateInit2=at,s.deflateReset=Ve,s.deflateResetKeep=We,s.deflateSetHeader=function(P,we){return P&&P.state?P.state.wrap!==2?w:(P.state.gzhead=we,f):w},s.deflate=function(P,we){var ge,B,M,ee;if(!P||!P.state||5<we||we<0)return P?ie(P,w):w;if(B=P.state,!P.output||!P.input&&P.avail_in!==0||B.status===666&&we!==p)return ie(P,P.avail_out===0?-5:w);if(B.strm=P,ge=B.last_flush,B.last_flush=we,B.status===N)if(B.wrap===2)P.adler=0,z(B,31),z(B,139),z(B,8),B.gzhead?(z(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),z(B,255&B.gzhead.time),z(B,B.gzhead.time>>8&255),z(B,B.gzhead.time>>16&255),z(B,B.gzhead.time>>24&255),z(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),z(B,255&B.gzhead.os),B.gzhead.extra&&B.gzhead.extra.length&&(z(B,255&B.gzhead.extra.length),z(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(P.adler=u(P.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=69):(z(B,0),z(B,0),z(B,0),z(B,0),z(B,0),z(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),z(B,3),B.status=W);else{var xe=v+(B.w_bits-8<<4)<<8;xe|=(2<=B.strategy||B.level<2?0:B.level<6?1:B.level===6?2:3)<<6,B.strstart!==0&&(xe|=32),xe+=31-xe%31,B.status=W,ce(B,xe),B.strstart!==0&&(ce(B,P.adler>>>16),ce(B,65535&P.adler)),P.adler=1}if(B.status===69)if(B.gzhead.extra){for(M=B.pending;B.gzindex<(65535&B.gzhead.extra.length)&&(B.pending!==B.pending_buf_size||(B.gzhead.hcrc&&B.pending>M&&(P.adler=u(P.adler,B.pending_buf,B.pending-M,M)),q(P),M=B.pending,B.pending!==B.pending_buf_size));)z(B,255&B.gzhead.extra[B.gzindex]),B.gzindex++;B.gzhead.hcrc&&B.pending>M&&(P.adler=u(P.adler,B.pending_buf,B.pending-M,M)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=73)}else B.status=73;if(B.status===73)if(B.gzhead.name){M=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>M&&(P.adler=u(P.adler,B.pending_buf,B.pending-M,M)),q(P),M=B.pending,B.pending===B.pending_buf_size)){ee=1;break}ee=B.gzindex<B.gzhead.name.length?255&B.gzhead.name.charCodeAt(B.gzindex++):0,z(B,ee)}while(ee!==0);B.gzhead.hcrc&&B.pending>M&&(P.adler=u(P.adler,B.pending_buf,B.pending-M,M)),ee===0&&(B.gzindex=0,B.status=91)}else B.status=91;if(B.status===91)if(B.gzhead.comment){M=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>M&&(P.adler=u(P.adler,B.pending_buf,B.pending-M,M)),q(P),M=B.pending,B.pending===B.pending_buf_size)){ee=1;break}ee=B.gzindex<B.gzhead.comment.length?255&B.gzhead.comment.charCodeAt(B.gzindex++):0,z(B,ee)}while(ee!==0);B.gzhead.hcrc&&B.pending>M&&(P.adler=u(P.adler,B.pending_buf,B.pending-M,M)),ee===0&&(B.status=103)}else B.status=103;if(B.status===103&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&q(P),B.pending+2<=B.pending_buf_size&&(z(B,255&P.adler),z(B,P.adler>>8&255),P.adler=0,B.status=W)):B.status=W),B.pending!==0){if(q(P),P.avail_out===0)return B.last_flush=-1,f}else if(P.avail_in===0&&te(we)<=te(ge)&&we!==p)return ie(P,-5);if(B.status===666&&P.avail_in!==0)return ie(P,-5);if(P.avail_in!==0||B.lookahead!==0||we!==h&&B.status!==666){var be=B.strategy===2?function(ue,ke){for(var $e;;){if(ue.lookahead===0&&(ye(ue),ue.lookahead===0)){if(ke===h)return C;break}if(ue.match_length=0,$e=a._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,$e&&(G(ue,!1),ue.strm.avail_out===0))return C}return ue.insert=0,ke===p?(G(ue,!0),ue.strm.avail_out===0?me:re):ue.last_lit&&(G(ue,!1),ue.strm.avail_out===0)?C:K}(B,we):B.strategy===3?function(ue,ke){for(var $e,Ee,ze,tt,Xe=ue.window;;){if(ue.lookahead<=F){if(ye(ue),ue.lookahead<=F&&ke===h)return C;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=$&&0<ue.strstart&&(Ee=Xe[ze=ue.strstart-1])===Xe[++ze]&&Ee===Xe[++ze]&&Ee===Xe[++ze]){tt=ue.strstart+F;do;while(Ee===Xe[++ze]&&Ee===Xe[++ze]&&Ee===Xe[++ze]&&Ee===Xe[++ze]&&Ee===Xe[++ze]&&Ee===Xe[++ze]&&Ee===Xe[++ze]&&Ee===Xe[++ze]&&ze<tt);ue.match_length=F-(tt-ze),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=$?($e=a._tr_tally(ue,1,ue.match_length-$),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):($e=a._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),$e&&(G(ue,!1),ue.strm.avail_out===0))return C}return ue.insert=0,ke===p?(G(ue,!0),ue.strm.avail_out===0?me:re):ue.last_lit&&(G(ue,!1),ue.strm.avail_out===0)?C:K}(B,we):i[B.level].func(B,we);if(be!==me&&be!==re||(B.status=666),be===C||be===me)return P.avail_out===0&&(B.last_flush=-1),f;if(be===K&&(we===1?a._tr_align(B):we!==5&&(a._tr_stored_block(B,0,0,!1),we===3&&(he(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),q(P),P.avail_out===0))return B.last_flush=-1,f}return we!==p?f:B.wrap<=0?1:(B.wrap===2?(z(B,255&P.adler),z(B,P.adler>>8&255),z(B,P.adler>>16&255),z(B,P.adler>>24&255),z(B,255&P.total_in),z(B,P.total_in>>8&255),z(B,P.total_in>>16&255),z(B,P.total_in>>24&255)):(ce(B,P.adler>>>16),ce(B,65535&P.adler)),q(P),0<B.wrap&&(B.wrap=-B.wrap),B.pending!==0?f:1)},s.deflateEnd=function(P){var we;return P&&P.state?(we=P.state.status)!==N&&we!==69&&we!==73&&we!==91&&we!==103&&we!==W&&we!==666?ie(P,w):(P.state=null,we===W?ie(P,-3):f):w},s.deflateSetDictionary=function(P,we){var ge,B,M,ee,xe,be,ue,ke,$e=we.length;if(!P||!P.state||(ee=(ge=P.state).wrap)===2||ee===1&&ge.status!==N||ge.lookahead)return w;for(ee===1&&(P.adler=l(P.adler,we,$e,0)),ge.wrap=0,$e>=ge.w_size&&(ee===0&&(he(ge.head),ge.strstart=0,ge.block_start=0,ge.insert=0),ke=new o.Buf8(ge.w_size),o.arraySet(ke,we,$e-ge.w_size,ge.w_size,0),we=ke,$e=ge.w_size),xe=P.avail_in,be=P.next_in,ue=P.input,P.avail_in=$e,P.next_in=0,P.input=we,ye(ge);ge.lookahead>=$;){for(B=ge.strstart,M=ge.lookahead-($-1);ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[B+$-1])&ge.hash_mask,ge.prev[B&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=B,B++,--M;);ge.strstart=B,ge.lookahead=$-1,ye(ge)}return ge.strstart+=ge.lookahead,ge.block_start=ge.strstart,ge.insert=ge.lookahead,ge.lookahead=0,ge.match_length=ge.prev_length=$-1,ge.match_available=0,P.next_in=be,P.input=ue,P.avail_in=xe,ge.wrap=ee,f},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,o){var a,l,u,c,h,p,f,w,y,b,g,v,_,T,A,I,j,D,$,F,de,N,W,C,K;a=i.state,l=i.next_in,C=i.input,u=l+(i.avail_in-5),c=i.next_out,K=i.output,h=c-(o-i.avail_out),p=c+(i.avail_out-257),f=a.dmax,w=a.wsize,y=a.whave,b=a.wnext,g=a.window,v=a.hold,_=a.bits,T=a.lencode,A=a.distcode,I=(1<<a.lenbits)-1,j=(1<<a.distbits)-1;e:do{_<15&&(v+=C[l++]<<_,_+=8,v+=C[l++]<<_,_+=8),D=T[v&I];t:for(;;){if(v>>>=$=D>>>24,_-=$,($=D>>>16&255)===0)K[c++]=65535&D;else{if(!(16&$)){if(!(64&$)){D=T[(65535&D)+(v&(1<<$)-1)];continue t}if(32&$){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}F=65535&D,($&=15)&&(_<$&&(v+=C[l++]<<_,_+=8),F+=v&(1<<$)-1,v>>>=$,_-=$),_<15&&(v+=C[l++]<<_,_+=8,v+=C[l++]<<_,_+=8),D=A[v&j];n:for(;;){if(v>>>=$=D>>>24,_-=$,!(16&($=D>>>16&255))){if(!(64&$)){D=A[(65535&D)+(v&(1<<$)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(de=65535&D,_<($&=15)&&(v+=C[l++]<<_,(_+=8)<$&&(v+=C[l++]<<_,_+=8)),f<(de+=v&(1<<$)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=$,_-=$,($=c-h)<de){if(y<($=de-$)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(W=g,(N=0)===b){if(N+=w-$,$<F){for(F-=$;K[c++]=g[N++],--$;);N=c-de,W=K}}else if(b<$){if(N+=w+b-$,($-=b)<F){for(F-=$;K[c++]=g[N++],--$;);if(N=0,b<F){for(F-=$=b;K[c++]=g[N++],--$;);N=c-de,W=K}}}else if(N+=b-$,$<F){for(F-=$;K[c++]=g[N++],--$;);N=c-de,W=K}for(;2<F;)K[c++]=W[N++],K[c++]=W[N++],K[c++]=W[N++],F-=3;F&&(K[c++]=W[N++],1<F&&(K[c++]=W[N++]))}else{for(N=c-de;K[c++]=K[N++],K[c++]=K[N++],K[c++]=K[N++],2<(F-=3););F&&(K[c++]=K[N++],1<F&&(K[c++]=K[N++]))}break}}break}}while(l<u&&c<p);l-=F=_>>3,v&=(1<<(_-=F<<3))-1,i.next_in=l,i.next_out=c,i.avail_in=l<u?u-l+5:5-(l-u),i.avail_out=c<p?p-c+257:257-(c-p),a.hold=v,a.bits=_}},{}],49:[function(n,r,s){var i=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,h=2,p=0,f=-2,w=1,y=852,b=592;function g(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(N){var W;return N&&N.state?(W=N.state,N.total_in=N.total_out=W.total=0,N.msg="",W.wrap&&(N.adler=1&W.wrap),W.mode=w,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new i.Buf32(y),W.distcode=W.distdyn=new i.Buf32(b),W.sane=1,W.back=-1,p):f}function T(N){var W;return N&&N.state?((W=N.state).wsize=0,W.whave=0,W.wnext=0,_(N)):f}function A(N,W){var C,K;return N&&N.state?(K=N.state,W<0?(C=0,W=-W):(C=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?f:(K.window!==null&&K.wbits!==W&&(K.window=null),K.wrap=C,K.wbits=W,T(N))):f}function I(N,W){var C,K;return N?(K=new v,(N.state=K).window=null,(C=A(N,W))!==p&&(N.state=null),C):f}var j,D,$=!0;function F(N){if($){var W;for(j=new i.Buf32(512),D=new i.Buf32(32),W=0;W<144;)N.lens[W++]=8;for(;W<256;)N.lens[W++]=9;for(;W<280;)N.lens[W++]=7;for(;W<288;)N.lens[W++]=8;for(u(c,N.lens,0,288,j,0,N.work,{bits:9}),W=0;W<32;)N.lens[W++]=5;u(h,N.lens,0,32,D,0,N.work,{bits:5}),$=!1}N.lencode=j,N.lenbits=9,N.distcode=D,N.distbits=5}function de(N,W,C,K){var me,re=N.state;return re.window===null&&(re.wsize=1<<re.wbits,re.wnext=0,re.whave=0,re.window=new i.Buf8(re.wsize)),K>=re.wsize?(i.arraySet(re.window,W,C-re.wsize,re.wsize,0),re.wnext=0,re.whave=re.wsize):(K<(me=re.wsize-re.wnext)&&(me=K),i.arraySet(re.window,W,C-K,me,re.wnext),(K-=me)?(i.arraySet(re.window,W,C-K,K,0),re.wnext=K,re.whave=re.wsize):(re.wnext+=me,re.wnext===re.wsize&&(re.wnext=0),re.whave<re.wsize&&(re.whave+=me))),0}s.inflateReset=T,s.inflateReset2=A,s.inflateResetKeep=_,s.inflateInit=function(N){return I(N,15)},s.inflateInit2=I,s.inflate=function(N,W){var C,K,me,re,ie,te,he,q,G,z,ce,oe,ye,De,Te,fe,Ge,We,Ve,at,P,we,ge,B,M=0,ee=new i.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return f;(C=N.state).mode===12&&(C.mode=13),ie=N.next_out,me=N.output,he=N.avail_out,re=N.next_in,K=N.input,te=N.avail_in,q=C.hold,G=C.bits,z=te,ce=he,we=p;e:for(;;)switch(C.mode){case w:if(C.wrap===0){C.mode=13;break}for(;G<16;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}if(2&C.wrap&&q===35615){ee[C.check=0]=255&q,ee[1]=q>>>8&255,C.check=a(C.check,ee,2,0),G=q=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&q)<<8)+(q>>8))%31){N.msg="incorrect header check",C.mode=30;break}if((15&q)!=8){N.msg="unknown compression method",C.mode=30;break}if(G-=4,P=8+(15&(q>>>=4)),C.wbits===0)C.wbits=P;else if(P>C.wbits){N.msg="invalid window size",C.mode=30;break}C.dmax=1<<P,N.adler=C.check=1,C.mode=512&q?10:12,G=q=0;break;case 2:for(;G<16;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}if(C.flags=q,(255&C.flags)!=8){N.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){N.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=q>>8&1),512&C.flags&&(ee[0]=255&q,ee[1]=q>>>8&255,C.check=a(C.check,ee,2,0)),G=q=0,C.mode=3;case 3:for(;G<32;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}C.head&&(C.head.time=q),512&C.flags&&(ee[0]=255&q,ee[1]=q>>>8&255,ee[2]=q>>>16&255,ee[3]=q>>>24&255,C.check=a(C.check,ee,4,0)),G=q=0,C.mode=4;case 4:for(;G<16;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}C.head&&(C.head.xflags=255&q,C.head.os=q>>8),512&C.flags&&(ee[0]=255&q,ee[1]=q>>>8&255,C.check=a(C.check,ee,2,0)),G=q=0,C.mode=5;case 5:if(1024&C.flags){for(;G<16;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}C.length=q,C.head&&(C.head.extra_len=q),512&C.flags&&(ee[0]=255&q,ee[1]=q>>>8&255,C.check=a(C.check,ee,2,0)),G=q=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(te<(oe=C.length)&&(oe=te),oe&&(C.head&&(P=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),i.arraySet(C.head.extra,K,re,oe,P)),512&C.flags&&(C.check=a(C.check,K,oe,re)),te-=oe,re+=oe,C.length-=oe),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(te===0)break e;for(oe=0;P=K[re+oe++],C.head&&P&&C.length<65536&&(C.head.name+=String.fromCharCode(P)),P&&oe<te;);if(512&C.flags&&(C.check=a(C.check,K,oe,re)),te-=oe,re+=oe,P)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(te===0)break e;for(oe=0;P=K[re+oe++],C.head&&P&&C.length<65536&&(C.head.comment+=String.fromCharCode(P)),P&&oe<te;);if(512&C.flags&&(C.check=a(C.check,K,oe,re)),te-=oe,re+=oe,P)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;G<16;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}if(q!==(65535&C.check)){N.msg="header crc mismatch",C.mode=30;break}G=q=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),N.adler=C.check=0,C.mode=12;break;case 10:for(;G<32;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}N.adler=C.check=g(q),G=q=0,C.mode=11;case 11:if(C.havedict===0)return N.next_out=ie,N.avail_out=he,N.next_in=re,N.avail_in=te,C.hold=q,C.bits=G,2;N.adler=C.check=1,C.mode=12;case 12:if(W===5||W===6)break e;case 13:if(C.last){q>>>=7&G,G-=7&G,C.mode=27;break}for(;G<3;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}switch(C.last=1&q,G-=1,3&(q>>>=1)){case 0:C.mode=14;break;case 1:if(F(C),C.mode=20,W!==6)break;q>>>=2,G-=2;break e;case 2:C.mode=17;break;case 3:N.msg="invalid block type",C.mode=30}q>>>=2,G-=2;break;case 14:for(q>>>=7&G,G-=7&G;G<32;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}if((65535&q)!=(q>>>16^65535)){N.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&q,G=q=0,C.mode=15,W===6)break e;case 15:C.mode=16;case 16:if(oe=C.length){if(te<oe&&(oe=te),he<oe&&(oe=he),oe===0)break e;i.arraySet(me,K,re,oe,ie),te-=oe,re+=oe,he-=oe,ie+=oe,C.length-=oe;break}C.mode=12;break;case 17:for(;G<14;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}if(C.nlen=257+(31&q),q>>>=5,G-=5,C.ndist=1+(31&q),q>>>=5,G-=5,C.ncode=4+(15&q),q>>>=4,G-=4,286<C.nlen||30<C.ndist){N.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;G<3;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}C.lens[xe[C.have++]]=7&q,q>>>=3,G-=3}for(;C.have<19;)C.lens[xe[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,ge={bits:C.lenbits},we=u(0,C.lens,0,19,C.lencode,0,C.work,ge),C.lenbits=ge.bits,we){N.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;fe=(M=C.lencode[q&(1<<C.lenbits)-1])>>>16&255,Ge=65535&M,!((Te=M>>>24)<=G);){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}if(Ge<16)q>>>=Te,G-=Te,C.lens[C.have++]=Ge;else{if(Ge===16){for(B=Te+2;G<B;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}if(q>>>=Te,G-=Te,C.have===0){N.msg="invalid bit length repeat",C.mode=30;break}P=C.lens[C.have-1],oe=3+(3&q),q>>>=2,G-=2}else if(Ge===17){for(B=Te+3;G<B;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}G-=Te,P=0,oe=3+(7&(q>>>=Te)),q>>>=3,G-=3}else{for(B=Te+7;G<B;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}G-=Te,P=0,oe=11+(127&(q>>>=Te)),q>>>=7,G-=7}if(C.have+oe>C.nlen+C.ndist){N.msg="invalid bit length repeat",C.mode=30;break}for(;oe--;)C.lens[C.have++]=P}}if(C.mode===30)break;if(C.lens[256]===0){N.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,ge={bits:C.lenbits},we=u(c,C.lens,0,C.nlen,C.lencode,0,C.work,ge),C.lenbits=ge.bits,we){N.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,ge={bits:C.distbits},we=u(h,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,ge),C.distbits=ge.bits,we){N.msg="invalid distances set",C.mode=30;break}if(C.mode=20,W===6)break e;case 20:C.mode=21;case 21:if(6<=te&&258<=he){N.next_out=ie,N.avail_out=he,N.next_in=re,N.avail_in=te,C.hold=q,C.bits=G,l(N,ce),ie=N.next_out,me=N.output,he=N.avail_out,re=N.next_in,K=N.input,te=N.avail_in,q=C.hold,G=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;fe=(M=C.lencode[q&(1<<C.lenbits)-1])>>>16&255,Ge=65535&M,!((Te=M>>>24)<=G);){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}if(fe&&!(240&fe)){for(We=Te,Ve=fe,at=Ge;fe=(M=C.lencode[at+((q&(1<<We+Ve)-1)>>We)])>>>16&255,Ge=65535&M,!(We+(Te=M>>>24)<=G);){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}q>>>=We,G-=We,C.back+=We}if(q>>>=Te,G-=Te,C.back+=Te,C.length=Ge,fe===0){C.mode=26;break}if(32&fe){C.back=-1,C.mode=12;break}if(64&fe){N.msg="invalid literal/length code",C.mode=30;break}C.extra=15&fe,C.mode=22;case 22:if(C.extra){for(B=C.extra;G<B;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}C.length+=q&(1<<C.extra)-1,q>>>=C.extra,G-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;fe=(M=C.distcode[q&(1<<C.distbits)-1])>>>16&255,Ge=65535&M,!((Te=M>>>24)<=G);){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}if(!(240&fe)){for(We=Te,Ve=fe,at=Ge;fe=(M=C.distcode[at+((q&(1<<We+Ve)-1)>>We)])>>>16&255,Ge=65535&M,!(We+(Te=M>>>24)<=G);){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}q>>>=We,G-=We,C.back+=We}if(q>>>=Te,G-=Te,C.back+=Te,64&fe){N.msg="invalid distance code",C.mode=30;break}C.offset=Ge,C.extra=15&fe,C.mode=24;case 24:if(C.extra){for(B=C.extra;G<B;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}C.offset+=q&(1<<C.extra)-1,q>>>=C.extra,G-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){N.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(he===0)break e;if(oe=ce-he,C.offset>oe){if((oe=C.offset-oe)>C.whave&&C.sane){N.msg="invalid distance too far back",C.mode=30;break}ye=oe>C.wnext?(oe-=C.wnext,C.wsize-oe):C.wnext-oe,oe>C.length&&(oe=C.length),De=C.window}else De=me,ye=ie-C.offset,oe=C.length;for(he<oe&&(oe=he),he-=oe,C.length-=oe;me[ie++]=De[ye++],--oe;);C.length===0&&(C.mode=21);break;case 26:if(he===0)break e;me[ie++]=C.length,he--,C.mode=21;break;case 27:if(C.wrap){for(;G<32;){if(te===0)break e;te--,q|=K[re++]<<G,G+=8}if(ce-=he,N.total_out+=ce,C.total+=ce,ce&&(N.adler=C.check=C.flags?a(C.check,me,ce,ie-ce):o(C.check,me,ce,ie-ce)),ce=he,(C.flags?q:g(q))!==C.check){N.msg="incorrect data check",C.mode=30;break}G=q=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;G<32;){if(te===0)break e;te--,q+=K[re++]<<G,G+=8}if(q!==(4294967295&C.total)){N.msg="incorrect length check",C.mode=30;break}G=q=0}C.mode=29;case 29:we=1;break e;case 30:we=-3;break e;case 31:return-4;case 32:default:return f}return N.next_out=ie,N.avail_out=he,N.next_in=re,N.avail_in=te,C.hold=q,C.bits=G,(C.wsize||ce!==N.avail_out&&C.mode<30&&(C.mode<27||W!==4))&&de(N,N.output,N.next_out,ce-N.avail_out)?(C.mode=31,-4):(z-=N.avail_in,ce-=N.avail_out,N.total_in+=z,N.total_out+=ce,C.total+=ce,C.wrap&&ce&&(N.adler=C.check=C.flags?a(C.check,me,ce,N.next_out-ce):o(C.check,me,ce,N.next_out-ce)),N.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(z==0&&ce===0||W===4)&&we===p&&(we=-5),we)},s.inflateEnd=function(N){if(!N||!N.state)return f;var W=N.state;return W.window&&(W.window=null),N.state=null,p},s.inflateGetHeader=function(N,W){var C;return N&&N.state&&2&(C=N.state).wrap?((C.head=W).done=!1,p):f},s.inflateSetDictionary=function(N,W){var C,K=W.length;return N&&N.state?(C=N.state).wrap!==0&&C.mode!==11?f:C.mode===11&&o(1,W,K,0)!==C.check?-3:de(N,W,K,K)?(C.mode=31,-4):(C.havedict=1,p):f},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,h,p,f,w,y,b,g){var v,_,T,A,I,j,D,$,F,de=g.bits,N=0,W=0,C=0,K=0,me=0,re=0,ie=0,te=0,he=0,q=0,G=null,z=0,ce=new i.Buf16(16),oe=new i.Buf16(16),ye=null,De=0;for(N=0;N<=15;N++)ce[N]=0;for(W=0;W<f;W++)ce[h[p+W]]++;for(me=de,K=15;1<=K&&ce[K]===0;K--);if(K<me&&(me=K),K===0)return w[y++]=20971520,w[y++]=20971520,g.bits=1,0;for(C=1;C<K&&ce[C]===0;C++);for(me<C&&(me=C),N=te=1;N<=15;N++)if(te<<=1,(te-=ce[N])<0)return-1;if(0<te&&(c===0||K!==1))return-1;for(oe[1]=0,N=1;N<15;N++)oe[N+1]=oe[N]+ce[N];for(W=0;W<f;W++)h[p+W]!==0&&(b[oe[h[p+W]]++]=W);if(j=c===0?(G=ye=b,19):c===1?(G=o,z-=257,ye=a,De-=257,256):(G=l,ye=u,-1),N=C,I=y,ie=W=q=0,T=-1,A=(he=1<<(re=me))-1,c===1&&852<he||c===2&&592<he)return 1;for(;;){for(D=N-ie,F=b[W]<j?($=0,b[W]):b[W]>j?($=ye[De+b[W]],G[z+b[W]]):($=96,0),v=1<<N-ie,C=_=1<<re;w[I+(q>>ie)+(_-=v)]=D<<24|$<<16|F|0,_!==0;);for(v=1<<N-1;q&v;)v>>=1;if(v!==0?(q&=v-1,q+=v):q=0,W++,--ce[N]==0){if(N===K)break;N=h[p+b[W]]}if(me<N&&(q&A)!==T){for(ie===0&&(ie=me),I+=C,te=1<<(re=N-ie);re+ie<K&&!((te-=ce[re+ie])<=0);)re++,te<<=1;if(he+=1<<re,c===1&&852<he||c===2&&592<he)return 1;w[T=q&A]=me<<24|re<<16|I-y|0}}return q!==0&&(w[I+q]=N-ie<<24|64<<16|0),g.bits=me,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),o=0,a=1;function l(M){for(var ee=M.length;0<=--ee;)M[ee]=0}var u=0,c=29,h=256,p=h+1+c,f=30,w=19,y=2*p+1,b=15,g=16,v=7,_=256,T=16,A=17,I=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=new Array(2*(p+2));l(de);var N=new Array(2*f);l(N);var W=new Array(512);l(W);var C=new Array(256);l(C);var K=new Array(c);l(K);var me,re,ie,te=new Array(f);function he(M,ee,xe,be,ue){this.static_tree=M,this.extra_bits=ee,this.extra_base=xe,this.elems=be,this.max_length=ue,this.has_stree=M&&M.length}function q(M,ee){this.dyn_tree=M,this.max_code=0,this.stat_desc=ee}function G(M){return M<256?W[M]:W[256+(M>>>7)]}function z(M,ee){M.pending_buf[M.pending++]=255&ee,M.pending_buf[M.pending++]=ee>>>8&255}function ce(M,ee,xe){M.bi_valid>g-xe?(M.bi_buf|=ee<<M.bi_valid&65535,z(M,M.bi_buf),M.bi_buf=ee>>g-M.bi_valid,M.bi_valid+=xe-g):(M.bi_buf|=ee<<M.bi_valid&65535,M.bi_valid+=xe)}function oe(M,ee,xe){ce(M,xe[2*ee],xe[2*ee+1])}function ye(M,ee){for(var xe=0;xe|=1&M,M>>>=1,xe<<=1,0<--ee;);return xe>>>1}function De(M,ee,xe){var be,ue,ke=new Array(b+1),$e=0;for(be=1;be<=b;be++)ke[be]=$e=$e+xe[be-1]<<1;for(ue=0;ue<=ee;ue++){var Ee=M[2*ue+1];Ee!==0&&(M[2*ue]=ye(ke[Ee]++,Ee))}}function Te(M){var ee;for(ee=0;ee<p;ee++)M.dyn_ltree[2*ee]=0;for(ee=0;ee<f;ee++)M.dyn_dtree[2*ee]=0;for(ee=0;ee<w;ee++)M.bl_tree[2*ee]=0;M.dyn_ltree[2*_]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function fe(M){8<M.bi_valid?z(M,M.bi_buf):0<M.bi_valid&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function Ge(M,ee,xe,be){var ue=2*ee,ke=2*xe;return M[ue]<M[ke]||M[ue]===M[ke]&&be[ee]<=be[xe]}function We(M,ee,xe){for(var be=M.heap[xe],ue=xe<<1;ue<=M.heap_len&&(ue<M.heap_len&&Ge(ee,M.heap[ue+1],M.heap[ue],M.depth)&&ue++,!Ge(ee,be,M.heap[ue],M.depth));)M.heap[xe]=M.heap[ue],xe=ue,ue<<=1;M.heap[xe]=be}function Ve(M,ee,xe){var be,ue,ke,$e,Ee=0;if(M.last_lit!==0)for(;be=M.pending_buf[M.d_buf+2*Ee]<<8|M.pending_buf[M.d_buf+2*Ee+1],ue=M.pending_buf[M.l_buf+Ee],Ee++,be===0?oe(M,ue,ee):(oe(M,(ke=C[ue])+h+1,ee),($e=j[ke])!==0&&ce(M,ue-=K[ke],$e),oe(M,ke=G(--be),xe),($e=D[ke])!==0&&ce(M,be-=te[ke],$e)),Ee<M.last_lit;);oe(M,_,ee)}function at(M,ee){var xe,be,ue,ke=ee.dyn_tree,$e=ee.stat_desc.static_tree,Ee=ee.stat_desc.has_stree,ze=ee.stat_desc.elems,tt=-1;for(M.heap_len=0,M.heap_max=y,xe=0;xe<ze;xe++)ke[2*xe]!==0?(M.heap[++M.heap_len]=tt=xe,M.depth[xe]=0):ke[2*xe+1]=0;for(;M.heap_len<2;)ke[2*(ue=M.heap[++M.heap_len]=tt<2?++tt:0)]=1,M.depth[ue]=0,M.opt_len--,Ee&&(M.static_len-=$e[2*ue+1]);for(ee.max_code=tt,xe=M.heap_len>>1;1<=xe;xe--)We(M,ke,xe);for(ue=ze;xe=M.heap[1],M.heap[1]=M.heap[M.heap_len--],We(M,ke,1),be=M.heap[1],M.heap[--M.heap_max]=xe,M.heap[--M.heap_max]=be,ke[2*ue]=ke[2*xe]+ke[2*be],M.depth[ue]=(M.depth[xe]>=M.depth[be]?M.depth[xe]:M.depth[be])+1,ke[2*xe+1]=ke[2*be+1]=ue,M.heap[1]=ue++,We(M,ke,1),2<=M.heap_len;);M.heap[--M.heap_max]=M.heap[1],function(Xe,jt){var Zn,Gt,Ne,Be,Tt,$t,Le=jt.dyn_tree,yr=jt.max_code,Xn=jt.stat_desc.static_tree,es=jt.stat_desc.has_stree,Oe=jt.stat_desc.extra_bits,En=jt.stat_desc.extra_base,vr=jt.stat_desc.max_length,Nr=0;for(Be=0;Be<=b;Be++)Xe.bl_count[Be]=0;for(Le[2*Xe.heap[Xe.heap_max]+1]=0,Zn=Xe.heap_max+1;Zn<y;Zn++)vr<(Be=Le[2*Le[2*(Gt=Xe.heap[Zn])+1]+1]+1)&&(Be=vr,Nr++),Le[2*Gt+1]=Be,yr<Gt||(Xe.bl_count[Be]++,Tt=0,En<=Gt&&(Tt=Oe[Gt-En]),$t=Le[2*Gt],Xe.opt_len+=$t*(Be+Tt),es&&(Xe.static_len+=$t*(Xn[2*Gt+1]+Tt)));if(Nr!==0){do{for(Be=vr-1;Xe.bl_count[Be]===0;)Be--;Xe.bl_count[Be]--,Xe.bl_count[Be+1]+=2,Xe.bl_count[vr]--,Nr-=2}while(0<Nr);for(Be=vr;Be!==0;Be--)for(Gt=Xe.bl_count[Be];Gt!==0;)yr<(Ne=Xe.heap[--Zn])||(Le[2*Ne+1]!==Be&&(Xe.opt_len+=(Be-Le[2*Ne+1])*Le[2*Ne],Le[2*Ne+1]=Be),Gt--)}}(M,ee),De(ke,tt,M.bl_count)}function P(M,ee,xe){var be,ue,ke=-1,$e=ee[1],Ee=0,ze=7,tt=4;for($e===0&&(ze=138,tt=3),ee[2*(xe+1)+1]=65535,be=0;be<=xe;be++)ue=$e,$e=ee[2*(be+1)+1],++Ee<ze&&ue===$e||(Ee<tt?M.bl_tree[2*ue]+=Ee:ue!==0?(ue!==ke&&M.bl_tree[2*ue]++,M.bl_tree[2*T]++):Ee<=10?M.bl_tree[2*A]++:M.bl_tree[2*I]++,ke=ue,tt=(Ee=0)===$e?(ze=138,3):ue===$e?(ze=6,3):(ze=7,4))}function we(M,ee,xe){var be,ue,ke=-1,$e=ee[1],Ee=0,ze=7,tt=4;for($e===0&&(ze=138,tt=3),be=0;be<=xe;be++)if(ue=$e,$e=ee[2*(be+1)+1],!(++Ee<ze&&ue===$e)){if(Ee<tt)for(;oe(M,ue,M.bl_tree),--Ee!=0;);else ue!==0?(ue!==ke&&(oe(M,ue,M.bl_tree),Ee--),oe(M,T,M.bl_tree),ce(M,Ee-3,2)):Ee<=10?(oe(M,A,M.bl_tree),ce(M,Ee-3,3)):(oe(M,I,M.bl_tree),ce(M,Ee-11,7));ke=ue,tt=(Ee=0)===$e?(ze=138,3):ue===$e?(ze=6,3):(ze=7,4)}}l(te);var ge=!1;function B(M,ee,xe,be){ce(M,(u<<1)+(be?1:0),3),function(ue,ke,$e,Ee){fe(ue),z(ue,$e),z(ue,~$e),i.arraySet(ue.pending_buf,ue.window,ke,$e,ue.pending),ue.pending+=$e}(M,ee,xe)}s._tr_init=function(M){ge||(function(){var ee,xe,be,ue,ke,$e=new Array(b+1);for(ue=be=0;ue<c-1;ue++)for(K[ue]=be,ee=0;ee<1<<j[ue];ee++)C[be++]=ue;for(C[be-1]=ue,ue=ke=0;ue<16;ue++)for(te[ue]=ke,ee=0;ee<1<<D[ue];ee++)W[ke++]=ue;for(ke>>=7;ue<f;ue++)for(te[ue]=ke<<7,ee=0;ee<1<<D[ue]-7;ee++)W[256+ke++]=ue;for(xe=0;xe<=b;xe++)$e[xe]=0;for(ee=0;ee<=143;)de[2*ee+1]=8,ee++,$e[8]++;for(;ee<=255;)de[2*ee+1]=9,ee++,$e[9]++;for(;ee<=279;)de[2*ee+1]=7,ee++,$e[7]++;for(;ee<=287;)de[2*ee+1]=8,ee++,$e[8]++;for(De(de,p+1,$e),ee=0;ee<f;ee++)N[2*ee+1]=5,N[2*ee]=ye(ee,5);me=new he(de,j,h+1,p,b),re=new he(N,D,0,f,b),ie=new he(new Array(0),$,0,w,v)}(),ge=!0),M.l_desc=new q(M.dyn_ltree,me),M.d_desc=new q(M.dyn_dtree,re),M.bl_desc=new q(M.bl_tree,ie),M.bi_buf=0,M.bi_valid=0,Te(M)},s._tr_stored_block=B,s._tr_flush_block=function(M,ee,xe,be){var ue,ke,$e=0;0<M.level?(M.strm.data_type===2&&(M.strm.data_type=function(Ee){var ze,tt=4093624447;for(ze=0;ze<=31;ze++,tt>>>=1)if(1&tt&&Ee.dyn_ltree[2*ze]!==0)return o;if(Ee.dyn_ltree[18]!==0||Ee.dyn_ltree[20]!==0||Ee.dyn_ltree[26]!==0)return a;for(ze=32;ze<h;ze++)if(Ee.dyn_ltree[2*ze]!==0)return a;return o}(M)),at(M,M.l_desc),at(M,M.d_desc),$e=function(Ee){var ze;for(P(Ee,Ee.dyn_ltree,Ee.l_desc.max_code),P(Ee,Ee.dyn_dtree,Ee.d_desc.max_code),at(Ee,Ee.bl_desc),ze=w-1;3<=ze&&Ee.bl_tree[2*F[ze]+1]===0;ze--);return Ee.opt_len+=3*(ze+1)+5+5+4,ze}(M),ue=M.opt_len+3+7>>>3,(ke=M.static_len+3+7>>>3)<=ue&&(ue=ke)):ue=ke=xe+5,xe+4<=ue&&ee!==-1?B(M,ee,xe,be):M.strategy===4||ke===ue?(ce(M,2+(be?1:0),3),Ve(M,de,N)):(ce(M,4+(be?1:0),3),function(Ee,ze,tt,Xe){var jt;for(ce(Ee,ze-257,5),ce(Ee,tt-1,5),ce(Ee,Xe-4,4),jt=0;jt<Xe;jt++)ce(Ee,Ee.bl_tree[2*F[jt]+1],3);we(Ee,Ee.dyn_ltree,ze-1),we(Ee,Ee.dyn_dtree,tt-1)}(M,M.l_desc.max_code+1,M.d_desc.max_code+1,$e+1),Ve(M,M.dyn_ltree,M.dyn_dtree)),Te(M),be&&fe(M)},s._tr_tally=function(M,ee,xe){return M.pending_buf[M.d_buf+2*M.last_lit]=ee>>>8&255,M.pending_buf[M.d_buf+2*M.last_lit+1]=255&ee,M.pending_buf[M.l_buf+M.last_lit]=255&xe,M.last_lit++,ee===0?M.dyn_ltree[2*xe]++:(M.matches++,ee--,M.dyn_ltree[2*(C[xe]+h+1)]++,M.dyn_dtree[2*G(ee)]++),M.last_lit===M.lit_bufsize-1},s._tr_align=function(M){ce(M,2,3),oe(M,_,de),function(ee){ee.bi_valid===16?(z(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):8<=ee.bi_valid&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)}(M)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(o,a){if(!o.setImmediate){var l,u,c,h,p=1,f={},w=!1,y=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,l={}.toString.call(o.process)==="[object process]"?function(T){process.nextTick(function(){v(T)})}:function(){if(o.postMessage&&!o.importScripts){var T=!0,A=o.onmessage;return o.onmessage=function(){T=!1},o.postMessage("","*"),o.onmessage=A,T}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",_,!1):o.attachEvent("onmessage",_),function(T){o.postMessage(h+T,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(T){v(T.data)},function(T){c.port2.postMessage(T)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(T){var A=y.createElement("script");A.onreadystatechange=function(){v(T),A.onreadystatechange=null,u.removeChild(A),A=null},u.appendChild(A)}):function(T){setTimeout(v,0,T)},b.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var A=new Array(arguments.length-1),I=0;I<A.length;I++)A[I]=arguments[I+1];var j={callback:T,args:A};return f[p]=j,l(p),p++},b.clearImmediate=g}function g(T){delete f[T]}function v(T){if(w)setTimeout(v,0,T);else{var A=f[T];if(A){w=!0;try{(function(I){var j=I.callback,D=I.args;switch(D.length){case 0:j();break;case 1:j(D[0]);break;case 2:j(D[0],D[1]);break;case 3:j(D[0],D[1],D[2]);break;default:j.apply(a,D)}})(A)}finally{g(T),w=!1}}}}function _(T){T.source===o&&typeof T.data=="string"&&T.data.indexOf(h)===0&&v(+T.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Ht<"u"?Ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(NC);var X5=NC.exports;const K_=Au(X5),e4=()=>{const[e,t]=S.useState(!1),[n,r]=S.useState([]),s=S.useRef(null),i=S.useCallback(async u=>{if(!u||u.length===0){r(h=>[...h,{success:!1,message:"No files selected."}]);return}t(!0);const c=[];try{for(let h=0;h<u.length;h++){const p=u[h];if(p.type==="application/zip"||p.name.endsWith(".zip"))try{const f=await K_.loadAsync(p),w=Object.values(f.files);for(const y of w)if(!y.dir&&y.name.endsWith(".json"))try{const b=await y.async("string"),g=JSON.parse(b),v=y.name.split("/").pop()||"unknown.json",_=v.replace(/\.json$/,"");localStorage.setItem(_,JSON.stringify(g)),c.push({success:!0,message:`Successfully extracted and stored "${v}" with key "${_}" from ZIP.`})}catch(b){const g=b instanceof Error?b.message:"Unknown error";c.push({success:!1,message:`Error processing file "${y.name}" from ZIP: ${g}`})}else y.dir||c.push({success:!1,message:`Skipped non-JSON file "${y.name}" from ZIP.`})}catch(f){const w=f instanceof Error?f.message:"Invalid ZIP file";c.push({success:!1,message:`Error processing ZIP file "${p.name}": ${w}`})}else if(p.type==="application/json"||p.name.endsWith(".json"))try{const f=new FileReader,w=await new Promise((v,_)=>{f.onload=()=>v(f.result),f.onerror=_,f.readAsText(p)}),y=JSON.parse(w),g=p.name.replace(/\.json$/,"");localStorage.setItem(g,JSON.stringify(y)),c.push({success:!0,message:`Successfully stored "${p.name}" with key "${g}".`})}catch(f){const w=f instanceof Error?f.message:"Unknown error";c.push({success:!1,message:`Error processing file "${p.name}": ${w}`})}else c.push({success:!1,message:`File "${p.name}" is not a JSON or ZIP file. Skipped.`})}}finally{r(h=>[...h,...c]),t(!1)}},[]),o=u=>{i(u.target.files),s.current&&(s.current.value="")},a=()=>{r([])},l=S.useCallback(async()=>{t(!0);try{debugger;const u=new K_;let c=!1,h=null;const p=localStorage.getItem("sankeertan_categories_data");if(p)try{h=JSON.parse(p),u.file("sankeertan_categories_data.json",p),c=!0}catch{console.warn("sankeertan_categories_data.json is not valid JSON, skipping."),h=null}else console.warn("sankeertan_categories_data.json not found in localStorage.");const f={};for(let g=0;g<localStorage.length;g++){debugger;const v=localStorage.key(g);if(console.log(v),v!=="sb-"+US+"-auth-token"&&v&&v!=="sankeertan_categories_data"){const _=localStorage.getItem(v);if(_)try{JSON.parse(_);let T=u;if(h&&Array.isArray(h.data))for(const A of h.data)for(const I of A.books){const j=I.bookId,D=`sankeertan_song_details-${j.toLowerCase().replace(/ /g,"-")}`,$=`sankeertan_song_indices-${j.toLowerCase().replace(/ /g,"-")}`;if(v.startsWith(D)||v.startsWith($)){if(!f[j]){const F=u.folder(j);F?f[j]=F:f[j]=u}T=f[j]||u;break}}T.file(`${v}.json`,_),c=!0}catch{console.warn(`Skipping key "${v}" as value is not valid JSON`)}}}if(!c){r(g=>[...g,{success:!1,message:"No valid JSON data found in localStorage to export."}]),t(!1);return}const w=await u.generateAsync({type:"blob",mimeType:"application/zip",compression:"DEFLATE"}),y=URL.createObjectURL(w),b=document.createElement("a");b.href=y,b.download="sankeertan_localStorage_backup.zip",document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(y),r(g=>[...g,{success:!0,message:"Successfully exported localStorage to ZIP file with folder structure."}])}catch(u){const c=u instanceof Error?u.message:"Unknown error during export";r(h=>[...h,{success:!1,message:`Error exporting localStorage: ${c}`}])}finally{t(!1)}},[]);return k.jsxs("div",{className:"p-4",children:[k.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Local Storage Sync"}),k.jsxs("div",{className:"mb-4",children:[k.jsx("input",{type:"file",accept:".json,.zip",onChange:o,disabled:e,"aria-label":"Upload JSON or ZIP Files",multiple:!0,ref:s}),k.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload JSON files or a ZIP file containing JSON files.  Filename will be used as the key."})]}),k.jsx("div",{className:"mb-4",children:k.jsx("button",{onClick:l,disabled:e,className:"px-4 py-2 border rounded-md bg-blue-500 text-white",children:e?"Exporting...":"Export to ZIP"})}),e&&k.jsx("div",{className:"mb-4 flex items-center gap-2",children:k.jsx("span",{children:e?"Processing...":"Exporting..."})}),n.length>0&&k.jsxs("div",{className:"mb-4",children:[k.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Upload Results:"}),n.map((u,c)=>k.jsxs("div",{className:`mb-2 p-3 border rounded-md ${u.success?"border-green-500 bg-green-100 text-green-800":"border-red-500 bg-red-100 text-red-800"}`,children:[u.success?k.jsx("span",{style:{color:"green"},children:""}):k.jsx("span",{style:{color:"red"},children:""}),k.jsx("strong",{className:"mr-1",children:u.success?"Success":"Error"}),k.jsx("span",{children:u.message})]},c)),k.jsx("button",{onClick:a,className:"mt-2 px-4 py-2 border rounded-md",children:"Clear Results"})]}),k.jsxs("div",{className:"mt-8 p-4 border rounded-md bg-gray-50",children:[k.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Important Notes:"}),k.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"ZIP File Handling:"}),"  This page now supports uploading a single ZIP file.  The application will extract JSON files from the ZIP and store them in localStorage."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Key Derivation:"})," The filename of each JSON file is used as the key for storing its content in localStorage."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"File Overwriting:"})," If a key already exists in localStorage, it will be overwritten with the new content."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"ZIP Structure:"})," The ZIP file can contain JSON files in subfolders.  The filename of the file within the ZIP will be used as the localStorage key."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Non-JSON Files in ZIP:"})," Any non-JSON files within the ZIP will be skipped."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Error Handling:"})," The application attempts to provide informative error messages for file processing issues, including problems with individual files within a ZIP archive."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Export Feature:"}),`  A new "Export to ZIP" button has been added.  Clicking this will create a ZIP file containing all key-value pairs from your browser's localStorage (where the values are valid JSON), and prompt you to download it.  The keys will be used as the filenames in the ZIP.`]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Exported Data Format:"})," The exported ZIP file will now contain a folder structure."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Book Folders:"}),"  Data is organized into folders based on the book names found in  `sankeertan_categories_data.json`."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"Root Folder:"})," Any keys that do not match the book naming convention will be placed in the root of the ZIP file."]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-semibold",children:"sankeertan_categories_data.json:"}),"  This file is included in the root of the ZIP."]})]})]})]})},nr=({children:e,session:t})=>{const n=Qn();return t?k.jsx(k.Fragment,{children:e}):(sessionStorage.setItem("redirect_path",n.pathname),k.jsx(NS,{to:"/login",replace:!0}))};function t4(){const{session:e}=xi(),{categories:t,isLoading:n}=Lh(),r=(t==null?void 0:t.flatMap(s=>s.books))||[];return n?k.jsx("div",{children:"Checking authentication..."}):k.jsx(N1,{children:k.jsx(jD,{books:r,children:k.jsxs(rA,{children:[k.jsx(Jt,{path:"/login",element:k.jsx(SI,{})}),k.jsx(Jt,{path:"/signup",element:k.jsx(EI,{})}),k.jsx(Jt,{path:"/change-password",element:k.jsx(CI,{})}),k.jsx(Jt,{path:"/auth/callback",element:k.jsx(PI,{})}),k.jsx(Jt,{path:"/settings",element:k.jsx(nr,{session:e,children:k.jsx(O5,{})})}),k.jsx(Jt,{path:"/categories",element:k.jsx(nr,{session:e,children:k.jsx(RD,{})})}),k.jsx(Jt,{path:"/books/:categoryId",element:k.jsx(nr,{session:e,children:k.jsx(VD,{})})}),k.jsx(Jt,{path:"/book/:categoryId/:bookId",element:k.jsx(nr,{session:e,children:k.jsx(dN,{})})}),k.jsx(Jt,{path:"/details/book/:categoryId/:bookId/:sourceRow/:songTitle",element:k.jsx(nr,{session:e,children:k.jsx($5,{})})}),k.jsx(Jt,{path:"/editor/book/:categoryId/:bookId/:sourceRow/:songTitle",element:k.jsx(nr,{session:e,children:k.jsx(z_,{})})}),k.jsx(Jt,{path:"/song-editor",element:k.jsx(nr,{session:e,children:k.jsx(z_,{})})}),k.jsx(Jt,{path:"/sankeertan/:broadcastId",element:k.jsx(nr,{session:e,children:k.jsx(U5,{broadcastId:1})})}),k.jsx(Jt,{path:"/localstoragesync",element:k.jsx(nr,{session:e,children:k.jsx(e4,{})})}),k.jsx(Jt,{path:"/bulkDownloadTester",element:k.jsx(nr,{session:e,children:k.jsx(Y5,{})})}),k.jsx(Jt,{path:"/offlineContentManager",element:k.jsx(nr,{session:e,children:k.jsx(Z5,{})})}),k.jsx(Jt,{path:"/search",element:k.jsx(nr,{session:e,children:k.jsx(q5,{})})}),k.jsx(Jt,{path:"/",element:e?k.jsx(NS,{to:"/categories",replace:!0}):k.jsx("div",{children:"Welcome!"})})]})})})}const n4=S.createContext({books:[],categories:[],currentBook:null,loadBook:async()=>{},loading:!1,error:null}),r4=({children:e})=>{const[t,n]=S.useState([{id:"book1",name:"The Great Book A",categoryIds:["cat1","cat2"]},{id:"book2",name:"Another Fine Book B",categoryIds:["cat2","cat3"]},{id:"book3",name:"Wonderful Book C",categoryIds:["cat1"]}]),[r,s]=S.useState([{id:"cat1",name:"Fiction"},{id:"cat2",name:"Mystery"},{id:"cat3",name:"Science Fiction"}]),[i,o]=S.useState(null),[a,l]=S.useState(!1),[u,c]=S.useState(null),{bookId:h}=Ua(),p=S.useCallback(async w=>{l(!0),c(null),o(null),await new Promise(b=>setTimeout(b,500));const y=t.find(b=>b.id===w);o(y||null),l(!1)},[t,l,c,o]);S.useEffect(()=>{h&&p(h)},[h,p]);const f={books:t,categories:r,currentBook:i,loadBook:p,loading:a,error:u};return k.jsx(n4.Provider,{value:f,children:e})},s4=({toggleDropdown:e,isDropdownOpen:t,openLanguageSettings:n})=>{var l;const[r,s]=S.useState(null);Jn(),S.useEffect(()=>{zt.auth.getSession().then(({data:{session:u}})=>{s(u)}),zt.auth.onAuthStateChange((u,c)=>{s(c)})},[]);const{handleSignOut:i}=O1(),{isOfflineMode:o,setIsOfflineMode:a}=qy();return k.jsx("div",{className:"relative inline-block text-left",children:r?k.jsxs("div",{children:[k.jsxs("button",{type:"button",className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",onClick:e,"aria-expanded":t,"aria-haspopup":"true",children:[((l=r.user)==null?void 0:l.email)||"User",k.jsx("svg",{className:"-mr-1 h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:k.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),t&&k.jsx("div",{className:"absolute right-0 z-[1000] mt-2 w-40 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:k.jsxs("div",{className:"py-1",children:[k.jsx("div",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitemcheckbox",children:k.jsxs("label",{className:"flex items-center",children:[k.jsx("input",{type:"checkbox",className:"mr-2 form-checkbox h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:o,onChange:u=>a(u.target.checked)}),k.jsx("span",{children:"Offline Mode"})]})}),k.jsx(Vn,{to:"/sankeertan/1",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Chanting Together"}),k.jsx(Vn,{to:"/categories",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Categories & Books"}),k.jsx(Vn,{to:"/search",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Search"}),k.jsx(Vn,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Settings (Language)"}),k.jsx(Vn,{to:"/song-editor",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Song Editor"}),k.jsx(Vn,{to:"/change-password",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:e,children:"Change Password"}),k.jsx("button",{onClick:i,className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Sign Out"})]})})]}):k.jsx(Vn,{to:"/login",className:"text-blue-500 hover:underline px-3 py-2 inline-block",children:"Login"})})};var i4=Object.defineProperty,o4=(e,t,n)=>t in e?i4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rp=(e,t,n)=>(o4(e,typeof t!="symbol"?t+"":t,n),n);let a4=class{constructor(){Rp(this,"current",this.detect()),Rp(this,"handoffState","pending"),Rp(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Zr=new a4;function Gu(e){var t;return Zr.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Tg(e){var t,n;return Zr.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function LC(e){var t,n;return(n=(t=Tg(e))==null?void 0:t.activeElement)!=null?n:null}function l4(e){return LC(e)===e}function Kh(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Cs(){let e=[],t={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),t.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Kh(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Cs();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function Wh(){let[e]=S.useState(Cs);return S.useEffect(()=>()=>e.dispose(),[e]),e}let $n=(e,t)=>{Zr.isServer?S.useEffect(e,t):S.useLayoutEffect(e,t)};function xo(e){let t=S.useRef(e);return $n(()=>{t.current=e},[e]),t}let ht=function(e){let t=xo(e);return Ke.useCallback((...n)=>t.current(...n),[t])};function Yu(e){return S.useMemo(()=>e,Object.values(e))}let u4=S.createContext(void 0);function c4(){return S.useContext(u4)}function Pg(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Ss(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ss),r}var oh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(oh||{}),ti=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ti||{});function gr(){let e=h4();return S.useCallback(t=>d4({mergeRefs:e,...t}),[e])}function d4({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:a}){a=a??f4;let l=$C(t,e);if(i)return Zc(l,n,r,o,a);let u=s??0;if(u&2){let{static:c=!1,...h}=l;if(c)return Zc(h,n,r,o,a)}if(u&1){let{unmount:c=!0,...h}=l;return Ss(c?0:1,{0(){return null},1(){return Zc({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Zc(l,n,r,o,a)}function Zc(e,t={},n,r,s){let{as:i=n,children:o,refName:a="ref",...l}=Ap(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},c=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let p=!1,f=[];for(let[w,y]of Object.entries(t))typeof y=="boolean"&&(p=!0),y===!0&&f.push(w.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(p){h["data-headlessui-state"]=f.join(" ");for(let w of f)h[`data-${w}`]=""}}if(Gl(i)&&(Object.keys(Mi(l)).length>0||Object.keys(Mi(h)).length>0))if(!S.isValidElement(c)||Array.isArray(c)&&c.length>1||m4(c)){if(Object.keys(Mi(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Mi(l)).concat(Object.keys(Mi(h))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=c.props,f=p==null?void 0:p.className,w=typeof f=="function"?(...g)=>Pg(f(...g),l.className):Pg(f,l.className),y=w?{className:w}:{},b=$C(c.props,Mi(Ap(l,["ref"])));for(let g in h)g in b&&delete h[g];return S.cloneElement(c,Object.assign({},b,h,u,{ref:s(p4(c),u.ref)},y))}return S.createElement(i,Object.assign({},Ap(l,["ref"]),!Gl(i)&&u,!Gl(i)&&h),c)}function h4(){let e=S.useRef([]),t=S.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function f4(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function $C(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...i){let o=n[r];for(let a of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;a(s,...i)}}});return t}function Mn(e){var t;return Object.assign(S.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Mi(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ap(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function p4(e){return Ke.version.split(".")[0]>="19"?e.props.ref:e.ref}function Gl(e){return e===S.Fragment||e===Symbol.for("react.fragment")}function m4(e){return Gl(e.type)}let g4="span";var ah=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ah||{});function y4(e,t){var n;let{features:r=1,...s}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return gr()({ourProps:i,theirProps:s,slot:{},defaultTag:g4,name:"Hidden"})}let Rg=Mn(y4);function v4(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function hi(e){return v4(e)&&"tagName"in e}function go(e){return hi(e)&&"accessKey"in e}function ni(e){return hi(e)&&"tabIndex"in e}function w4(e){return hi(e)&&"style"in e}function b4(e){return go(e)&&e.nodeName==="IFRAME"}function _4(e){return go(e)&&e.nodeName==="INPUT"}let MC=Symbol();function x4(e,t=!0){return Object.assign(e,{[MC]:t})}function Xr(...e){let t=S.useRef(e);S.useEffect(()=>{t.current=e},[e]);let n=ht(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[MC]))?void 0:n}let Ov=S.createContext(null);Ov.displayName="DescriptionContext";function FC(){let e=S.useContext(Ov);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,FC),t}return e}function k4(){let[e,t]=S.useState([]);return[e.length>0?e.join(" "):void 0,S.useMemo(()=>function(n){let r=ht(i=>(t(o=>[...o,i]),()=>t(o=>{let a=o.slice(),l=a.indexOf(i);return l!==-1&&a.splice(l,1),a}))),s=S.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ke.createElement(Ov.Provider,{value:s},n.children)},[t])]}let S4="p";function E4(e,t){let n=S.useId(),r=c4(),{id:s=`headlessui-description-${n}`,...i}=e,o=FC(),a=Xr(t);$n(()=>o.register(s),[s,o.register]);let l=Yu({...o.slot,disabled:r||!1}),u={ref:a,...o.props,id:s};return gr()({ourProps:u,theirProps:i,slot:l,defaultTag:S4,name:o.name||"Description"})}let C4=Mn(E4),T4=Object.assign(C4,{});var BC=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(BC||{});let P4=S.createContext(()=>{});function R4({value:e,children:t}){return Ke.createElement(P4.Provider,{value:e},t)}let UC=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var A4=Object.defineProperty,j4=(e,t,n)=>t in e?A4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O4=(e,t,n)=>(j4(e,t+"",n),n),zC=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},rr=(e,t,n)=>(zC(e,t,"read from private field"),n?n.call(e):t.get(e)),jp=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},W_=(e,t,n,r)=>(zC(e,t,"write to private field"),t.set(e,n),n),Fr,Pl,Rl;let I4=class{constructor(t){jp(this,Fr,{}),jp(this,Pl,new UC(()=>new Set)),jp(this,Rl,new Set),O4(this,"disposables",Cs()),W_(this,Fr,t),Zr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return rr(this,Fr)}subscribe(t,n){if(Zr.isServer)return()=>{};let r={selector:t,callback:n,current:t(rr(this,Fr))};return rr(this,Rl).add(r),this.disposables.add(()=>{rr(this,Rl).delete(r)})}on(t,n){return Zr.isServer?()=>{}:(rr(this,Pl).get(t).add(n),this.disposables.add(()=>{rr(this,Pl).get(t).delete(n)}))}send(t){let n=this.reduce(rr(this,Fr),t);if(n!==rr(this,Fr)){W_(this,Fr,n);for(let r of rr(this,Rl)){let s=r.selector(rr(this,Fr));VC(r.current,s)||(r.current=s,r.callback(s))}for(let r of rr(this,Pl).get(t.type))r(rr(this,Fr),t)}}};Fr=new WeakMap,Pl=new WeakMap,Rl=new WeakMap;function VC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Op(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Op(e.entries(),t.entries()):H_(e)&&H_(t)?Op(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Op(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function H_(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var D4=Object.defineProperty,N4=(e,t,n)=>t in e?D4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q_=(e,t,n)=>(N4(e,typeof t!="symbol"?t+"":t,n),n),L4=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(L4||{});let $4={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(n),r=i,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},M4=class KC extends I4{constructor(){super(...arguments),q_(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),q_(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new KC({stack:[]})}reduce(t,n){return Ss(n.type,$4,t,n)}};const WC=new UC(()=>M4.new());var HC={exports:{}},qC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=S;function F4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var B4=typeof Object.is=="function"?Object.is:F4,U4=Qu.useSyncExternalStore,z4=Qu.useRef,V4=Qu.useEffect,K4=Qu.useMemo,W4=Qu.useDebugValue;qC.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=z4(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=K4(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),s!==void 0&&o.hasValue){var w=o.value;if(s(w,f))return h=w}return h=f}if(w=h,B4(c,f))return w;var y=r(f);return s!==void 0&&s(w,y)?(c=f,w):(c=f,h=y)}var u=!1,c,h,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,s]);var a=U4(e,i[0],i[1]);return V4(function(){o.hasValue=!0,o.value=a},[a]),W4(a),a};HC.exports=qC;var H4=HC.exports;function GC(e,t,n=VC){return H4.useSyncExternalStoreWithSelector(ht(r=>e.subscribe(q4,r)),ht(()=>e.state),ht(()=>e.state),ht(t),n)}function q4(e){return e}function Ju(e,t){let n=S.useId(),r=WC.get(t),[s,i]=GC(r,S.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return $n(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?i?s:!0:!1}let Ag=new Map,Yl=new Map;function G_(e){var t;let n=(t=Yl.get(e))!=null?t:0;return Yl.set(e,n+1),n!==0?()=>Y_(e):(Ag.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Y_(e))}function Y_(e){var t;let n=(t=Yl.get(e))!=null?t:1;if(n===1?Yl.delete(e):Yl.set(e,n-1),n!==1)return;let r=Ag.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Ag.delete(e))}function G4(e,{allowed:t,disallowed:n}={}){let r=Ju(e,"inert-others");$n(()=>{var s,i;if(!r)return;let o=Cs();for(let l of(s=n==null?void 0:n())!=null?s:[])l&&o.add(G_(l));let a=(i=t==null?void 0:t())!=null?i:[];for(let l of a){if(!l)continue;let u=Gu(l);if(!u)continue;let c=l.parentElement;for(;c&&c!==u.body;){for(let h of c.children)a.some(p=>h.contains(p))||o.add(G_(h));c=c.parentElement}}return o.dispose},[r,t,n])}function Y4(e,t,n){let r=xo(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});S.useEffect(()=>{if(!e)return;let s=t===null?null:go(t)?t:t.current;if(!s)return;let i=Cs();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[t,r,e])}let lh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Q4=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var cs=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(cs||{}),jg=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(jg||{}),J4=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(J4||{});function Z4(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(lh)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function X4(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Q4)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var YC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(YC||{});function eB(e,t=0){var n;return e===((n=Gu(e))==null?void 0:n.body)?!1:Ss(t,{0(){return e.matches(lh)},1(){let r=e;for(;r!==null;){if(r.matches(lh))return!0;r=r.parentElement}return!1}})}var tB=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(tB||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ms(e){e==null||e.focus({preventScroll:!0})}let nB=["textarea","input"].join(",");function rB(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,nB))!=null?n:!1}function sB(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),i=t(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ql(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?Tg(e[0]):document:Tg(e),o=Array.isArray(e)?n?sB(e):e:t&64?X4(e):Z4(e);s.length>0&&o.length>1&&(o=o.filter(f=>!s.some(w=>w!=null&&"current"in w?(w==null?void 0:w.current)===f:w===f))),r=r??(i==null?void 0:i.activeElement);let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,h=o.length,p;do{if(c>=h||c+h<=0)return 0;let f=l+c;if(t&16)f=(f+h)%h;else{if(f<0)return 3;if(f>=h)return 1}p=o[f],p==null||p.focus(u),c+=a}while(p!==LC(p));return t&6&&rB(p)&&p.select(),2}function QC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function iB(){return/Android/gi.test(window.navigator.userAgent)}function Q_(){return QC()||iB()}function Xc(e,t,n,r){let s=xo(n);S.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function JC(e,t,n,r){let s=xo(n);S.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const J_=30;function oB(e,t,n){let r=xo(n),s=S.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let c=function h(p){return typeof p=="function"?h(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let h of c)if(h!==null&&(h.contains(u)||a.composed&&a.composedPath().includes(h)))return;return!eB(u,YC.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,t]),i=S.useRef(null);Xc(e,"pointerdown",a=>{var l,u;Q_()||(i.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),Xc(e,"pointerup",a=>{if(Q_()||!i.current)return;let l=i.current;return i.current=null,s(a,()=>l)},!0);let o=S.useRef({x:0,y:0});Xc(e,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),Xc(e,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=J_||Math.abs(l.y-o.current.y)>=J_))return s(a,()=>ni(a.target)?a.target:null)},!0),JC(e,"blur",a=>s(a,()=>b4(window.document.activeElement)?window.document.activeElement:null),!0)}function Iv(...e){return S.useMemo(()=>Gu(...e),[...e])}function ZC(e,t,n,r){let s=xo(n);S.useEffect(()=>{e=e??window;function i(o){s.current(o)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function aB(e){return S.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function lB(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let o=t[s].call(n,...i);o&&(n=o,r.forEach(a=>a()))}}}function uB(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-s);n.style(r,"paddingRight",`${i}px`)}}}function cB(){return QC()?{before({doc:e,d:t,meta:n}){function r(s){for(let i of n().containers)for(let o of i())if(o.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=Cs();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",a=>{if(ni(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);ni(c)&&!r(c)&&(o=c)}catch{}},!0),t.group(a=>{t.addEventListener(e,"touchstart",l=>{if(a.dispose(),ni(l.target)&&w4(l.target))if(r(l.target)){let u=l.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;a.style(u,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",a=>{if(ni(a.target)){if(_4(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;i!==l&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function dB(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Z_(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Yi=lB(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Cs(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Z_(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Z_(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[cB(),uB(),dB()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Yi.subscribe(()=>{let e=Yi.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Yi.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Yi.dispatch("TEARDOWN",n)}});function hB(e,t,n=()=>({containers:[]})){let r=aB(Yi),s=t?r.get(t):void 0,i=s?s.count>0:!1;return $n(()=>{if(!(!t||!e))return Yi.dispatch("PUSH",t,n),()=>Yi.dispatch("POP",t,n)},[e,t]),i}function fB(e,t,n=()=>[document.body]){let r=Ju(e,"scroll-lock");hB(r,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],n]}})}function pB(e=0){let[t,n]=S.useState(e),r=S.useCallback(l=>n(l),[]),s=S.useCallback(l=>n(u=>u|l),[]),i=S.useCallback(l=>(t&l)===l,[t]),o=S.useCallback(l=>n(u=>u&~l),[]),a=S.useCallback(l=>n(u=>u^l),[]);return{flags:t,setFlag:r,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:a}}var mB={},X_,ex;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((X_=process==null?void 0:mB)==null?void 0:X_.NODE_ENV)==="test"&&typeof((ex=Element==null?void 0:Element.prototype)==null?void 0:ex.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var gB=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(gB||{});function yB(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function vB(e,t,n,r){let[s,i]=S.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=pB(e&&s?3:0),u=S.useRef(!1),c=S.useRef(!1),h=Wh();return $n(()=>{var p;if(e){if(n&&i(!0),!t){n&&a(3);return}return(p=r==null?void 0:r.start)==null||p.call(r,n),wB(t,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){c.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var f;c.current&&xB(t)||(u.current=!1,l(7),n||i(!1),(f=r==null?void 0:r.end)==null||f.call(r,n))}})}},[e,n,t,h]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function wB(e,{prepare:t,run:n,done:r,inFlight:s}){let i=Cs();return _B(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(bB(e,r))})}),i.dispose}function bB(e,t){var n,r;let s=Cs();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{i||t()}),s.dispose)}function _B(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function xB(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Dv(e,t){let n=S.useRef([]),r=ht(e);S.useEffect(()=>{let s=[...n.current];for(let[i,o]of t.entries())if(n.current[i]!==o){let a=r(t,s);return n.current=t,a}},[r,...t])}let Hh=S.createContext(null);Hh.displayName="OpenClosedContext";var Rr=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Rr||{});function qh(){return S.useContext(Hh)}function kB({value:e,children:t}){return Ke.createElement(Hh.Provider,{value:e},t)}function SB({children:e}){return Ke.createElement(Hh.Provider,{value:null},e)}function EB(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ks=[];EB(()=>{function e(t){if(!ni(t.target)||t.target===document.body||Ks[0]===t.target)return;let n=t.target;n=n.closest(lh),Ks.unshift(n??t.target),Ks=Ks.filter(r=>r!=null&&r.isConnected),Ks.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function XC(e){let t=ht(e),n=S.useRef(!1);S.useEffect(()=>(n.current=!1,()=>{n.current=!0,Kh(()=>{n.current&&t()})}),[t])}let eT=S.createContext(!1);function CB(){return S.useContext(eT)}function tx(e){return Ke.createElement(eT.Provider,{value:e.force},e.children)}function TB(e){let t=CB(),n=S.useContext(nT),[r,s]=S.useState(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(Zr.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return S.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),S.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let tT=S.Fragment,PB=Mn(function(e,t){let{ownerDocument:n=null,...r}=e,s=S.useRef(null),i=Xr(x4(p=>{s.current=p}),t),o=Iv(s.current),a=n??o,l=TB(a),u=S.useContext(Og),c=Wh(),h=gr();return XC(()=>{var p;l&&l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l))}),l?Ry.createPortal(Ke.createElement("div",{"data-headlessui-portal":"",ref:p=>{c.dispose(),u&&p&&c.add(u.register(p))}},h({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:tT,name:"Portal"})),l):null});function RB(e,t){let n=Xr(t),{enabled:r=!0,ownerDocument:s,...i}=e,o=gr();return r?Ke.createElement(PB,{...i,ownerDocument:s,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:tT,name:"Portal"})}let AB=S.Fragment,nT=S.createContext(null);function jB(e,t){let{target:n,...r}=e,s={ref:Xr(t)},i=gr();return Ke.createElement(nT.Provider,{value:n},i({ourProps:s,theirProps:r,defaultTag:AB,name:"Popover.Group"}))}let Og=S.createContext(null);function OB(){let e=S.useContext(Og),t=S.useRef([]),n=ht(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=ht(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),s=S.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,S.useMemo(()=>function({children:i}){return Ke.createElement(Og.Provider,{value:s},i)},[s])]}let IB=Mn(RB),rT=Mn(jB),DB=Object.assign(IB,{Group:rT});function NB(e,t=typeof document<"u"?document.defaultView:null,n){let r=Ju(e,"escape");ZC(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===BC.Escape&&n(s))})}function LB(){var e;let[t]=S.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=S.useState((e=t==null?void 0:t.matches)!=null?e:!1);return $n(()=>{if(!t)return;function s(i){r(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function $B({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=ht(()=>{var s,i;let o=Gu(n),a=[];for(let l of e)l!==null&&(hi(l)?a.push(l):"current"in l&&hi(l.current)&&a.push(l.current));if(t!=null&&t.current)for(let l of t.current)a.push(l);for(let l of(s=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&hi(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((i=n==null?void 0:n.getRootNode())==null?void 0:i.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:r,contains:ht(s=>r().some(i=>i.contains(s)))}}let sT=S.createContext(null);function nx({children:e,node:t}){let[n,r]=S.useState(null),s=iT(t??n);return Ke.createElement(sT.Provider,{value:s},e,s===null&&Ke.createElement(Rg,{features:ah.Hidden,ref:i=>{var o,a;if(i){for(let l of(a=(o=Gu(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&hi(l)&&l!=null&&l.contains(i)){r(l);break}}}}))}function iT(e=null){var t;return(t=S.useContext(sT))!=null?t:e}function MB(){let e=typeof document>"u";return"useSyncExternalStore"in w0?(t=>t.useSyncExternalStore)(w0)(()=>()=>{},()=>!1,()=>!e):!1}function Gh(){let e=MB(),[t,n]=S.useState(Zr.isHandoffComplete);return t&&Zr.isHandoffComplete===!1&&n(!1),S.useEffect(()=>{t!==!0&&n(!0)},[t]),S.useEffect(()=>Zr.handoff(),[]),e?!1:t}function Nv(){let e=S.useRef(!1);return $n(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Al=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Al||{});function FB(){let e=S.useRef(0);return JC(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function oT(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)hi(n.current)&&t.add(n.current);return t}let BB="div";var Ui=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ui||{});function UB(e,t){let n=S.useRef(null),r=Xr(n,t),{initialFocus:s,initialFocusFallback:i,containers:o,features:a=15,...l}=e;Gh()||(a=0);let u=Iv(n.current);WB(a,{ownerDocument:u});let c=HB(a,{ownerDocument:u,container:n,initialFocus:s,initialFocusFallback:i});qB(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:c});let h=FB(),p=ht(v=>{if(!go(n.current))return;let _=n.current;(T=>T())(()=>{Ss(h.current,{[Al.Forwards]:()=>{Ql(_,cs.First,{skipElements:[v.relatedTarget,i]})},[Al.Backwards]:()=>{Ql(_,cs.Last,{skipElements:[v.relatedTarget,i]})}})})}),f=Ju(!!(a&2),"focus-trap#tab-lock"),w=Wh(),y=S.useRef(!1),b={ref:r,onKeyDown(v){v.key=="Tab"&&(y.current=!0,w.requestAnimationFrame(()=>{y.current=!1}))},onBlur(v){if(!(a&4))return;let _=oT(o);go(n.current)&&_.add(n.current);let T=v.relatedTarget;ni(T)&&T.dataset.headlessuiFocusGuard!=="true"&&(aT(_,T)||(y.current?Ql(n.current,Ss(h.current,{[Al.Forwards]:()=>cs.Next,[Al.Backwards]:()=>cs.Previous})|cs.WrapAround,{relativeTo:v.target}):ni(v.target)&&ms(v.target)))}},g=gr();return Ke.createElement(Ke.Fragment,null,f&&Ke.createElement(Rg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:ah.Focusable}),g({ourProps:b,theirProps:l,defaultTag:BB,name:"FocusTrap"}),f&&Ke.createElement(Rg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:ah.Focusable}))}let zB=Mn(UB),VB=Object.assign(zB,{features:Ui});function KB(e=!0){let t=S.useRef(Ks.slice());return Dv(([n],[r])=>{r===!0&&n===!1&&Kh(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Ks.slice())},[e,Ks,t]),ht(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function WB(e,{ownerDocument:t}){let n=!!(e&8),r=KB(n);Dv(()=>{n||l4(t==null?void 0:t.body)&&ms(r())},[n]),XC(()=>{n&&ms(r())})}function HB(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let i=S.useRef(null),o=Ju(!!(e&1),"focus-trap#initial-focus"),a=Nv();return Dv(()=>{if(e===0)return;if(!o){s!=null&&s.current&&ms(s.current);return}let l=n.current;l&&Kh(()=>{if(!a.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){i.current=u;return}}else if(l.contains(u)){i.current=u;return}if(r!=null&&r.current)ms(r.current);else{if(e&16){if(Ql(l,cs.First|cs.AutoFocus)!==jg.Error)return}else if(Ql(l,cs.First)!==jg.Error)return;if(s!=null&&s.current&&(ms(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[s,o,e]),i}function qB(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let i=Nv(),o=!!(e&4);ZC(t==null?void 0:t.defaultView,"focus",a=>{if(!o||!i.current)return;let l=oT(r);go(n.current)&&l.add(n.current);let u=s.current;if(!u)return;let c=a.target;go(c)?aT(l,c)?(s.current=c,ms(c)):(a.preventDefault(),a.stopPropagation(),ms(u)):ms(s.current)},!0)}function aT(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function lT(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Gl((t=e.as)!=null?t:cT)||Ke.Children.count(e.children)===1}let Yh=S.createContext(null);Yh.displayName="TransitionContext";var GB=(e=>(e.Visible="visible",e.Hidden="hidden",e))(GB||{});function YB(){let e=S.useContext(Yh);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function QB(){let e=S.useContext(Qh);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Qh=S.createContext(null);Qh.displayName="NestingContext";function Jh(e){return"children"in e?Jh(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function uT(e,t){let n=xo(e),r=S.useRef([]),s=Nv(),i=Wh(),o=ht((f,w=ti.Hidden)=>{let y=r.current.findIndex(({el:b})=>b===f);y!==-1&&(Ss(w,{[ti.Unmount](){r.current.splice(y,1)},[ti.Hidden](){r.current[y].state="hidden"}}),i.microTask(()=>{var b;!Jh(r)&&s.current&&((b=n.current)==null||b.call(n))}))}),a=ht(f=>{let w=r.current.find(({el:y})=>y===f);return w?w.state!=="visible"&&(w.state="visible"):r.current.push({el:f,state:"visible"}),()=>o(f,ti.Unmount)}),l=S.useRef([]),u=S.useRef(Promise.resolve()),c=S.useRef({enter:[],leave:[]}),h=ht((f,w,y)=>{l.current.splice(0),t&&(t.chains.current[w]=t.chains.current[w].filter(([b])=>b!==f)),t==null||t.chains.current[w].push([f,new Promise(b=>{l.current.push(b)})]),t==null||t.chains.current[w].push([f,new Promise(b=>{Promise.all(c.current[w].map(([g,v])=>v)).then(()=>b())})]),w==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>y(w)):y(w)}),p=ht((f,w,y)=>{Promise.all(c.current[w].splice(0).map(([b,g])=>g)).then(()=>{var b;(b=l.current.shift())==null||b()}).then(()=>y(w))});return S.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:p,wait:u,chains:c}),[a,o,r,h,p,c,u])}let cT=S.Fragment,dT=oh.RenderStrategy;function JB(e,t){var n,r;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:c,enterTo:h,entered:p,leave:f,leaveFrom:w,leaveTo:y,...b}=e,[g,v]=S.useState(null),_=S.useRef(null),T=lT(e),A=Xr(...T?[_,t,v]:t===null?[]:[t]),I=(n=b.unmount)==null||n?ti.Unmount:ti.Hidden,{show:j,appear:D,initial:$}=YB(),[F,de]=S.useState(j?"visible":"hidden"),N=QB(),{register:W,unregister:C}=N;$n(()=>W(_),[W,_]),$n(()=>{if(I===ti.Hidden&&_.current){if(j&&F!=="visible"){de("visible");return}return Ss(F,{hidden:()=>C(_),visible:()=>W(_)})}},[F,_,W,C,j,I]);let K=Gh();$n(()=>{if(T&&K&&F==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,F,K,T]);let me=$&&!D,re=D&&j&&$,ie=S.useRef(!1),te=uT(()=>{ie.current||(de("hidden"),C(_))},N),he=ht(De=>{ie.current=!0;let Te=De?"enter":"leave";te.onStart(_,Te,fe=>{fe==="enter"?i==null||i():fe==="leave"&&(a==null||a())})}),q=ht(De=>{let Te=De?"enter":"leave";ie.current=!1,te.onStop(_,Te,fe=>{fe==="enter"?o==null||o():fe==="leave"&&(l==null||l())}),Te==="leave"&&!Jh(te)&&(de("hidden"),C(_))});S.useEffect(()=>{T&&s||(he(j),q(j))},[j,T,s]);let G=!(!s||!T||!K||me),[,z]=vB(G,g,j,{start:he,end:q}),ce=Mi({ref:A,className:((r=Pg(b.className,re&&u,re&&c,z.enter&&u,z.enter&&z.closed&&c,z.enter&&!z.closed&&h,z.leave&&f,z.leave&&!z.closed&&w,z.leave&&z.closed&&y,!z.transition&&j&&p))==null?void 0:r.trim())||void 0,...yB(z)}),oe=0;F==="visible"&&(oe|=Rr.Open),F==="hidden"&&(oe|=Rr.Closed),j&&F==="hidden"&&(oe|=Rr.Opening),!j&&F==="visible"&&(oe|=Rr.Closing);let ye=gr();return Ke.createElement(Qh.Provider,{value:te},Ke.createElement(kB,{value:oe},ye({ourProps:ce,theirProps:b,defaultTag:cT,features:dT,visible:F==="visible",name:"Transition.Child"})))}function ZB(e,t){let{show:n,appear:r=!1,unmount:s=!0,...i}=e,o=S.useRef(null),a=lT(e),l=Xr(...a?[o,t]:t===null?[]:[t]);Gh();let u=qh();if(n===void 0&&u!==null&&(n=(u&Rr.Open)===Rr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,h]=S.useState(n?"visible":"hidden"),p=uT(()=>{n||h("hidden")}),[f,w]=S.useState(!0),y=S.useRef([n]);$n(()=>{f!==!1&&y.current[y.current.length-1]!==n&&(y.current.push(n),w(!1))},[y,n]);let b=S.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);$n(()=>{n?h("visible"):!Jh(p)&&o.current!==null&&h("hidden")},[n,p]);let g={unmount:s},v=ht(()=>{var A;f&&w(!1),(A=e.beforeEnter)==null||A.call(e)}),_=ht(()=>{var A;f&&w(!1),(A=e.beforeLeave)==null||A.call(e)}),T=gr();return Ke.createElement(Qh.Provider,{value:p},Ke.createElement(Yh.Provider,{value:b},T({ourProps:{...g,as:S.Fragment,children:Ke.createElement(hT,{ref:l,...g,...i,beforeEnter:v,beforeLeave:_})},theirProps:{},defaultTag:S.Fragment,features:dT,visible:c==="visible",name:"Transition"})))}function XB(e,t){let n=S.useContext(Yh)!==null,r=qh()!==null;return Ke.createElement(Ke.Fragment,null,!n&&r?Ke.createElement(Ig,{ref:t,...e}):Ke.createElement(hT,{ref:t,...e}))}let Ig=Mn(ZB),hT=Mn(JB),Lv=Mn(XB),_d=Object.assign(Ig,{Child:Lv,Root:Ig});var eU=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(eU||{}),tU=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(tU||{});let nU={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},$v=S.createContext(null);$v.displayName="DialogContext";function Zh(e){let t=S.useContext($v);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Zh),n}return t}function rU(e,t){return Ss(t.type,nU,e,t)}let rx=Mn(function(e,t){let n=S.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:c=!1,...h}=e,p=S.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(p.current||(p.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let f=qh();s===void 0&&f!==null&&(s=(f&Rr.Open)===Rr.Open);let w=S.useRef(null),y=Xr(w,t),b=Iv(w.current),g=s?0:1,[v,_]=S.useReducer(rU,{titleId:null,descriptionId:null,panelRef:S.createRef()}),T=ht(()=>i(!1)),A=ht(z=>_({type:0,id:z})),I=Gh()?g===0:!1,[j,D]=OB(),$={get current(){var z;return(z=v.panelRef.current)!=null?z:w.current}},F=iT(),{resolveContainers:de}=$B({mainTreeNode:F,portals:j,defaultContainers:[$]}),N=f!==null?(f&Rr.Closing)===Rr.Closing:!1;G4(u||N?!1:I,{allowed:ht(()=>{var z,ce;return[(ce=(z=w.current)==null?void 0:z.closest("[data-headlessui-portal]"))!=null?ce:null]}),disallowed:ht(()=>{var z;return[(z=F==null?void 0:F.closest("body > *:not(#headlessui-portal-root)"))!=null?z:null]})});let W=WC.get(null);$n(()=>{if(I)return W.actions.push(r),()=>W.actions.pop(r)},[W,r,I]);let C=GC(W,S.useCallback(z=>W.selectors.isTop(z,r),[W,r]));oB(C,de,z=>{z.preventDefault(),T()}),NB(C,b==null?void 0:b.defaultView,z=>{z.preventDefault(),z.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),T()}),fB(u||N?!1:I,b,de),Y4(I,w,T);let[K,me]=k4(),re=S.useMemo(()=>[{dialogState:g,close:T,setTitleId:A,unmount:c},v],[g,T,A,c,v]),ie=Yu({open:g===0}),te={ref:y,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:g===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":K,unmount:c},he=!LB(),q=Ui.None;I&&!u&&(q|=Ui.RestoreFocus,q|=Ui.TabLock,l&&(q|=Ui.AutoFocus),he&&(q|=Ui.InitialFocus));let G=gr();return Ke.createElement(SB,null,Ke.createElement(tx,{force:!0},Ke.createElement(DB,null,Ke.createElement($v.Provider,{value:re},Ke.createElement(rT,{target:w},Ke.createElement(tx,{force:!1},Ke.createElement(me,{slot:ie},Ke.createElement(D,null,Ke.createElement(VB,{initialFocus:o,initialFocusFallback:w,containers:de,features:q},Ke.createElement(R4,{value:T},G({ourProps:te,theirProps:h,slot:ie,defaultTag:sU,features:iU,visible:g===0,name:"Dialog"})))))))))))}),sU="div",iU=oh.RenderStrategy|oh.Static;function oU(e,t){let{transition:n=!1,open:r,...s}=e,i=qh(),o=e.hasOwnProperty("open")||i!==null,a=e.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?Ke.createElement(nx,null,Ke.createElement(_d,{show:r,transition:n,unmount:s.unmount},Ke.createElement(rx,{ref:t,...s}))):Ke.createElement(nx,null,Ke.createElement(rx,{ref:t,open:r,...s}))}let aU="div";function lU(e,t){let n=S.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...i}=e,[{dialogState:o,unmount:a},l]=Zh("Dialog.Panel"),u=Xr(t,l.panelRef),c=Yu({open:o===0}),h=ht(b=>{b.stopPropagation()}),p={ref:u,id:r,onClick:h},f=s?Lv:S.Fragment,w=s?{unmount:a}:{},y=gr();return Ke.createElement(f,{...w},y({ourProps:p,theirProps:i,slot:c,defaultTag:aU,name:"Dialog.Panel"}))}let uU="div";function cU(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:i}]=Zh("Dialog.Backdrop"),o=Yu({open:s===0}),a={ref:t,"aria-hidden":!0},l=n?Lv:S.Fragment,u=n?{unmount:i}:{},c=gr();return Ke.createElement(l,{...u},c({ourProps:a,theirProps:r,slot:o,defaultTag:uU,name:"Dialog.Backdrop"}))}let dU="h2";function hU(e,t){let n=S.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:i,setTitleId:o}]=Zh("Dialog.Title"),a=Xr(t);S.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=Yu({open:i===0}),u={ref:a,id:r};return gr()({ourProps:u,theirProps:s,slot:l,defaultTag:dU,name:"Dialog.Title"})}let fU=Mn(oU),pU=Mn(lU);Mn(cU);let mU=Mn(hU),Ip=Object.assign(fU,{Panel:pU,Title:mU,Description:T4});const gU=({isOpen:e,onClose:t,onLanguageSave:n,currentLanguage:r})=>{const[s,i]=S.useState(r),o=l=>{i(l.target.value)},a=()=>{n(s),t()};return k.jsx(_d,{appear:!0,show:e,as:S.Fragment,children:k.jsxs(Ip,{as:"div",className:"relative z-10",onClose:t,children:[k.jsxs(_d.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})," "]}),k.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:k.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:k.jsx(_d.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:k.jsxs(Ip.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[k.jsx(Ip.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Language Settings"}),k.jsxs("div",{className:"mt-2",children:[k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"iast",checked:s==="iast",onChange:o,className:"mr-2"}),"IAST"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"tamil_superscripted",checked:s==="tamil_superscripted",onChange:o,className:"mr-2"}),"Tamil"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"malayalam",checked:s==="malayalam",onChange:o,className:"mr-2"}),"Malayalam"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"devanagari",checked:s==="devanagari",onChange:o,className:"mr-2"}),"Devanagari"]}),k.jsx("br",{}),k.jsxs("label",{className:"block",children:[k.jsx("input",{type:"radio",name:"language",value:"itrans",checked:s==="itrans",onChange:o,className:"mr-2"}),"ITrans"]}),k.jsx("br",{})]}),k.jsxs("div",{className:"mt-4",children:[k.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 mr-2",onClick:t,children:"Close"}),k.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:a,children:"Save"})]})]})})})})]})})},yU=()=>{const[e,t]=S.useState(navigator.onLine);S.useEffect(()=>{const h=()=>t(!0),p=()=>t(!1);return window.addEventListener("online",h),window.addEventListener("offline",p),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(f=>{console.log("Service Worker is active:",f.active)}),()=>{window.removeEventListener("online",h),window.removeEventListener("offline",p)}},[]);const{preferredLanguage:n,setPreferredLanguage:r}=_o(),[s,i]=S.useState(!1),o=()=>i(!s),[a,l]=S.useState(!1),u=()=>l(!0),c=()=>l(!1);return k.jsx(kI,{children:k.jsxs("div",{className:"app-layout",children:[" ",k.jsx("div",{className:"flex justify-end p-4 bg-gray-100",children:k.jsx(s4,{toggleDropdown:o,isDropdownOpen:s,openLanguageSettings:u})}),k.jsx(gU,{isOpen:a,onClose:c,onLanguageSave:r,currentLanguage:n}),k.jsx(TD,{children:k.jsxs(r4,{children:[k.jsx(t4,{}),k.jsx(j5,{})]})})]})})};function vU(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=e;let a,l;const u=async(h=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(a=await za(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/new-sankeertan/sw.js",{scope:"/new-sankeertan/",type:"classic"})).catch(h=>{o==null||o(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r==null||r()}),a.register({immediate:t}).then(h=>{i?i("/new-sankeertan/sw.js",h):s==null||s(h)}).catch(h=>{o==null||o(h)})}}return l=c(),u}vU();const wU=new ZI({defaultOptions:{queries:{staleTime:1/0,gcTime:1/0}}}),bU=Dp.createRoot(document.getElementById("root"));bU.render(k.jsx(Ke.StrictMode,{children:k.jsx(XI,{client:wU,children:k.jsx(TA,{children:k.jsx(N1,{children:k.jsx(yU,{})})})})}));
